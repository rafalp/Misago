/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/AjaxLoader.js":
/*!***************************!*\
  !*** ./src/AjaxLoader.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "useLoader": () => (/* binding */ useLoader)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");



var AjaxLoader = /*#__PURE__*/(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(function AjaxLoader() {
  var _this = this;
  (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, AjaxLoader);
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "show", function () {
    _this.requests += 1;
    _this.update();
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "hide", function () {
    if (_this.requests) {
      _this.requests -= 1;
      _this.update();
    }
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "update", function () {
    if (_this.timeout) {
      window.clearTimeout(_this.timeout);
    }
    if (_this.requests) {
      _this.element.classList.add("busy");
      _this.element.classList.remove("complete");
    } else {
      _this.element.classList.remove("busy");
      _this.element.classList.add("complete");
      _this.timeout = setTimeout(function () {
        _this.element.classList.remove("complete");
      }, 1500);
    }
  });
  this.element = document.getElementById("misago-ajax-loader");
  this.requests = 0;
  this.timeout = null;
});
function useLoader(target) {
  var silent = target.closest("[hx-silent]");
  if (silent) {
    return silent.getAttribute("hx-silent") !== "true";
  }
  return true;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AjaxLoader);

/***/ }),

/***/ "./src/BulkModeration.js":
/*!*******************************!*\
  !*** ./src/BulkModeration.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_3__);
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




var BulkModeration = /*#__PURE__*/(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(function BulkModeration(options) {
  var _this = this;
  (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, BulkModeration);
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "registerActions", function () {
    _this.actions.forEach(function (element) {
      if (element.getAttribute("moderation-action") === "remove-selection") {
        element.addEventListener("click", _this.onRemoveSelection);
      } else {
        element.addEventListener("click", _this.onAction);
      }
    });
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "onAction", function (event) {
    var form = document.querySelector(_this.form);
    var data = {};
    new FormData(form).forEach(function (value, key) {
      if (typeof data[key] === "undefined") {
        data[key] = [];
      }
      data[key].push(value);
    });
    var target = event.target;
    data.moderation = target.getAttribute("moderation-action");
    if (target.getAttribute("moderation-multistage") === "true") {
      htmx_org__WEBPACK_IMPORTED_MODULE_3___default().ajax("POST", document.location.href, {
        target: _this.modal,
        swap: "innerHTML",
        values: data
      }).then(function () {
        $(_this.modal).modal("show");
      });
    } else {
      htmx_org__WEBPACK_IMPORTED_MODULE_3___default().ajax("POST", document.location.href, {
        target: "#misago-htmx-root",
        swap: "outerHTML",
        values: data
      });
    }
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "onRemoveSelection", function (event) {
    document.querySelectorAll(_this.selection).forEach(function (element) {
      element.checked = false;
    });
    _this.update();
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "registerEvents", function () {
    document.body.addEventListener("click", function (_ref) {
      var target = _ref.target;
      if (target.tagName === "INPUT" && target.type === "checkbox") {
        _this.update();
      }
    });
    htmx_org__WEBPACK_IMPORTED_MODULE_3___default().onLoad(function () {
      return _this.update();
    });
  });
  (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "update", function () {
    var selection = document.querySelectorAll(_this.selection).length;
    _this.control.innerText = _this.text.replace("%(number)s", selection);
    _this.control.disabled = !selection;
    if (_this.menu) {
      if (selection) {
        _this.menu.classList.add("visible");
      } else {
        _this.menu.classList.remove("visible");
      }
    }
  });
  this.menu = options.menu ? document.querySelector(options.menu) : null;
  this.form = options.form;
  this.modal = options.modal;
  this.actions = document.querySelectorAll(options.actions);
  this.selection = options.selection;
  this.control = document.querySelector(options.button.selector);
  this.text = options.button.text;
  this.update();
  this.registerEvents();
  this.registerActions();
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BulkModeration);

/***/ }),

/***/ "./src/components/Api/ApiFetch.jsx":
/*!*****************************************!*\
  !*** ./src/components/Api/ApiFetch.jsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ApiFetch)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var ApiFetch = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ApiFetch, _React$Component);
  var _super = _createSuper(ApiFetch);
  function ApiFetch(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, ApiFetch);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "hasCache", function (url) {
      return _this.props.cache && _this.props.cache[url];
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "getCache", /*#__PURE__*/function () {
      var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee(url) {
        var data;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                data = _this.props.cache[url];
                _this.setState({
                  loading: false,
                  error: null,
                  data: data
                });
                if (!_this.props.onData) {
                  _context.next = 5;
                  break;
                }
                _context.next = 5;
                return _this.props.onData(data);
              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "setCache", function (url, data) {
      if (_this.props.cache) {
        _this.props.cache[url] = data;
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "request", function (url) {
      _this.setState({
        loading: true
      });
      fetch(url, {
        method: "GET",
        credentials: "include",
        signal: _this.signal
      }).then( /*#__PURE__*/function () {
        var _ref2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee2(response) {
          var data, error;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  if (!(url === _this.props.url)) {
                    _context2.next = 18;
                    break;
                  }
                  if (!(response.status == 200)) {
                    _context2.next = 12;
                    break;
                  }
                  _context2.next = 4;
                  return response.json();
                case 4:
                  data = _context2.sent;
                  _this.setState({
                    loading: false,
                    error: null,
                    data: data
                  });
                  _this.setCache(url, data);
                  if (!_this.props.onData) {
                    _context2.next = 10;
                    break;
                  }
                  _context2.next = 10;
                  return _this.props.onData(data);
                case 10:
                  _context2.next = 18;
                  break;
                case 12:
                  error = {
                    status: response.status
                  };
                  if (!(response.headers.get("Content-Type") === "application/json")) {
                    _context2.next = 17;
                    break;
                  }
                  _context2.next = 16;
                  return response.json();
                case 16:
                  error.data = _context2.sent;
                case 17:
                  _this.setState({
                    loading: false,
                    error: error
                  });
                case 18:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2);
        }));
        return function (_x2) {
          return _ref2.apply(this, arguments);
        };
      }(), function (rejection) {
        if (url === _this.props.url) {
          _this.setState({
            loading: false,
            error: {
              status: 0,
              rejection: rejection
            }
          });
        }
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "refetch", function () {
      _this.request(_this.props.url);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "update", function (mutation) {
      _this.setState(function (state) {
        return {
          data: mutation(state.data)
        };
      });
    });
    _this.state = {
      data: null,
      loading: false,
      error: null
    };
    _this.controller = new AbortController();
    _this.signal = _this.controller.signal;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(ApiFetch, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.props.url && !this.props.disabled) {
        this.request(this.props.url);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var url = this.props.url;
      var urlChanged = url && url !== prevProps.url;
      var disabledChanged = this.props.disabled != prevProps.disabled;
      if (urlChanged || disabledChanged) {
        if (!this.props.disabled) {
          if (this.hasCache(url)) {
            this.getCache(url);
          } else {
            this.controller.abort();
            this.controller = new AbortController();
            this.signal = this.controller.signal;
            this.request(url);
          }
        } else {
          this.controller.abort();
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.controller.abort();
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children(Object.assign({
        refetch: this.refetch,
        update: this.update
      }, this.state));
    }
  }]);
  return ApiFetch;
}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));


/***/ }),

/***/ "./src/components/Api/ApiMutation.jsx":
/*!********************************************!*\
  !*** ./src/components/Api/ApiMutation.jsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ApiMutation)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var ApiMutation = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ApiMutation, _React$Component);
  var _super = _createSuper(ApiMutation);
  function ApiMutation(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, ApiMutation);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "mutate", function (options) {
      _this.setState({
        loading: true
      });
      fetch(_this.props.url, {
        method: _this.props.method || "POST",
        credentials: "include",
        headers: headers(options),
        body: body(options)
      }).then( /*#__PURE__*/function () {
        var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee(response) {
          var data, error;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (!(response.status == 200)) {
                    _context.next = 10;
                    break;
                  }
                  _context.next = 3;
                  return response.json();
                case 3:
                  data = _context.sent;
                  _this.setState({
                    loading: false,
                    data: data
                  });
                  if (!options.onSuccess) {
                    _context.next = 8;
                    break;
                  }
                  _context.next = 8;
                  return options.onSuccess(data);
                case 8:
                  _context.next = 26;
                  break;
                case 10:
                  if (!(response.status == 204)) {
                    _context.next = 17;
                    break;
                  }
                  _this.setState({
                    loading: false
                  });
                  if (!options.onSuccess) {
                    _context.next = 15;
                    break;
                  }
                  _context.next = 15;
                  return options.onSuccess();
                case 15:
                  _context.next = 26;
                  break;
                case 17:
                  error = {
                    status: response.status
                  };
                  if (!(response.headers.get("Content-Type") === "application/json")) {
                    _context.next = 22;
                    break;
                  }
                  _context.next = 21;
                  return response.json();
                case 21:
                  error.data = _context.sent;
                case 22:
                  _this.setState({
                    loading: false,
                    error: error
                  });
                  if (!options.onError) {
                    _context.next = 26;
                    break;
                  }
                  _context.next = 26;
                  return options.onError(error);
                case 26:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));
        return function (_x) {
          return _ref.apply(this, arguments);
        };
      }(), /*#__PURE__*/function () {
        var _ref2 = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee2(rejection) {
          var error;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  error = {
                    status: 0,
                    rejection: rejection
                  };
                  _this.setState({
                    loading: false,
                    error: error
                  });
                  if (!options.onError) {
                    _context2.next = 5;
                    break;
                  }
                  _context2.next = 5;
                  return options.onError(error);
                case 5:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2);
        }));
        return function (_x2) {
          return _ref2.apply(this, arguments);
        };
      }());
    });
    _this.state = {
      data: null,
      loading: false,
      error: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(ApiMutation, [{
    key: "render",
    value: function render() {
      return this.props.children(this.mutate, this.state);
    }
  }]);
  return ApiMutation;
}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));

function headers(options) {
  if (!!options.json) {
    return {
      "Content-Type": "application/json; charset=utf-8",
      "X-CSRFToken": csrfToken()
    };
  }
  return {
    "X-CSRFToken": csrfToken()
  };
}
function body(options) {
  if (!!options.json) {
    return JSON.stringify(options.json);
  }
  return undefined;
}
function csrfToken() {
  var cookieName = window.misago_csrf;
  if (document.cookie.indexOf(cookieName) !== -1) {
    var cookieRegex = new RegExp(cookieName + "=([^;]*)");
    var cookie = document.cookie.match(cookieRegex)[0];
    return cookie ? cookie.split("=")[1] : null;
  } else {
    return null;
  }
}

/***/ }),

/***/ "./src/components/Api/index.js":
/*!*************************************!*\
  !*** ./src/components/Api/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiFetch": () => (/* reexport safe */ _ApiFetch__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "ApiMutation": () => (/* reexport safe */ _ApiMutation__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _ApiFetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ApiFetch */ "./src/components/Api/ApiFetch.jsx");
/* harmony import */ var _ApiMutation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApiMutation */ "./src/components/Api/ApiMutation.jsx");




/***/ }),

/***/ "./src/components/Breadcrumbs/Breadcrumbs.jsx":
/*!****************************************************!*\
  !*** ./src/components/Breadcrumbs/Breadcrumbs.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var Breadcrumbs = function Breadcrumbs(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs", className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Breadcrumbs);

/***/ }),

/***/ "./src/components/Breadcrumbs/BreadcrumbsCategory.jsx":
/*!************************************************************!*\
  !*** ./src/components/Breadcrumbs/BreadcrumbsCategory.jsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var BreadcrumbsCategory = function BreadcrumbsCategory(_ref) {
  var category = _ref.category,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs-item", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: category.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon",
    style: {
      color: category.color || "inherit"
    }
  }, "label"), !!category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name hidden-sm hidden-md hidden-lg",
    title: category.name
  }, category.short_name), !!category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name hidden-xs"
  }, category.name), !category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name"
  }, category.name)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BreadcrumbsCategory);

/***/ }),

/***/ "./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx":
/*!****************************************************************!*\
  !*** ./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var BreadcrumbsRootCategory = function BreadcrumbsRootCategory(_ref) {
  var category = _ref.category,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs-item", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: category.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name"
  }, category.special_role === "root_category" ? pgettext("breadcrumb", "Threads") : pgettext("breadcrumb", "Private threads"))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BreadcrumbsRootCategory);

/***/ }),

/***/ "./src/components/Breadcrumbs/index.js":
/*!*********************************************!*\
  !*** ./src/components/Breadcrumbs/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Breadcrumbs": () => (/* reexport safe */ _Breadcrumbs__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "BreadcrumbsCategory": () => (/* reexport safe */ _BreadcrumbsCategory__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "BreadcrumbsRootCategory": () => (/* reexport safe */ _BreadcrumbsRootCategory__WEBPACK_IMPORTED_MODULE_2__["default"])
/* harmony export */ });
/* harmony import */ var _Breadcrumbs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Breadcrumbs */ "./src/components/Breadcrumbs/Breadcrumbs.jsx");
/* harmony import */ var _BreadcrumbsCategory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BreadcrumbsCategory */ "./src/components/Breadcrumbs/BreadcrumbsCategory.jsx");
/* harmony import */ var _BreadcrumbsRootCategory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BreadcrumbsRootCategory */ "./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx");





/***/ }),

/***/ "./src/components/Dropdown/Dropdown.jsx":
/*!**********************************************!*\
  !*** ./src/components/Dropdown/Dropdown.jsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Dropdown)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var Dropdown = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Dropdown, _React$Component);
  var _super = _createSuper(Dropdown);
  function Dropdown(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Dropdown);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleClick", function (event) {
      if (_this.state.isOpen && (!_this.root.contains(event.target) || _this.menu.contains(event.target) && event.target.closest("a"))) {
        _this.setState({
          isOpen: false
        });
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggle", function () {
      _this.setState(function (prevState) {
        return {
          isOpen: !prevState.isOpen
        };
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.setState({
        isOpen: false
      });
    });
    _this.state = {
      isOpen: false
    };
    _this.root = null;
    _this.dropdown = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Dropdown, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      window.addEventListener("click", this.handleClick);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      window.removeEventListener("click", this.handleClick);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var didUpdate = prevState.isOpen !== this.state.isOpen;
      if (didUpdate) {
        if (this.state.isOpen && this.props.onOpen) {
          this.props.onOpen(this.root);
        }
        if (!this.state.isOpen && this.props.onClose) {
          this.props.onClose(this.root);
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var isOpen = this.state.isOpen;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        id: this.props.id,
        className: classnames__WEBPACK_IMPORTED_MODULE_7___default()("dropdown", {
          open: isOpen
        }, this.props.className),
        ref: function ref(element) {
          if (element && !_this2.element) {
            _this2.root = element;
          }
        }
      }, this.props.toggle({
        isOpen: isOpen,
        toggle: this.toggle,
        aria: ariaProps(isOpen)
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_7___default()("dropdown-menu", {
          "dropdown-menu-right": this.props.menuAlignRight
        }, this.props.menuClassName),
        ref: function ref(element) {
          if (element && !_this2.menu) {
            _this2.menu = element;
          }
        },
        role: "menu"
      }, this.props.children({
        isOpen: isOpen,
        close: this.close
      })));
    }
  }]);
  return Dropdown;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function ariaProps(isOpen) {
  return {
    "aria-haspopup": "true",
    "aria-expanded": isOpen ? "true" : "false"
  };
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownDivider.jsx":
/*!*****************************************************!*\
  !*** ./src/components/Dropdown/DropdownDivider.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownDivider)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function DropdownDivider(_ref) {
  var className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("divider", className)
  });
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownFooter.jsx":
/*!****************************************************!*\
  !*** ./src/components/Dropdown/DropdownFooter.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownFooter)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function DropdownFooter(_ref) {
  var children = _ref.children,
    listItem = _ref.listItem;
  if (listItem) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "dropdown-footer"
    }, children);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown-footer"
  }, children);
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownHeader.jsx":
/*!****************************************************!*\
  !*** ./src/components/Dropdown/DropdownHeader.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownHeader)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function DropdownHeader(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-header", className)
  }, children);
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownMenuItem.jsx":
/*!******************************************************!*\
  !*** ./src/components/Dropdown/DropdownMenuItem.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownMenuItem)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function DropdownMenuItem(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-menu-item", className)
  }, children);
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownPills.jsx":
/*!***************************************************!*\
  !*** ./src/components/Dropdown/DropdownPills.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownPills)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function DropdownPills(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-pills", className)
  }, children);
}

/***/ }),

/***/ "./src/components/Dropdown/DropdownSubheader.jsx":
/*!*******************************************************!*\
  !*** ./src/components/Dropdown/DropdownSubheader.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DropdownSubheader)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function DropdownSubheader(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-subheader", className)
  }, children);
}

/***/ }),

/***/ "./src/components/Dropdown/index.js":
/*!******************************************!*\
  !*** ./src/components/Dropdown/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Dropdown": () => (/* reexport safe */ _Dropdown__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "DropdownDivider": () => (/* reexport safe */ _DropdownDivider__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "DropdownFooter": () => (/* reexport safe */ _DropdownFooter__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "DropdownHeader": () => (/* reexport safe */ _DropdownHeader__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "DropdownMenuItem": () => (/* reexport safe */ _DropdownMenuItem__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "DropdownPills": () => (/* reexport safe */ _DropdownPills__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "DropdownSubheader": () => (/* reexport safe */ _DropdownSubheader__WEBPACK_IMPORTED_MODULE_6__["default"])
/* harmony export */ });
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dropdown */ "./src/components/Dropdown/Dropdown.jsx");
/* harmony import */ var _DropdownDivider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DropdownDivider */ "./src/components/Dropdown/DropdownDivider.jsx");
/* harmony import */ var _DropdownFooter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DropdownFooter */ "./src/components/Dropdown/DropdownFooter.jsx");
/* harmony import */ var _DropdownHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DropdownHeader */ "./src/components/Dropdown/DropdownHeader.jsx");
/* harmony import */ var _DropdownMenuItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DropdownMenuItem */ "./src/components/Dropdown/DropdownMenuItem.jsx");
/* harmony import */ var _DropdownPills__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DropdownPills */ "./src/components/Dropdown/DropdownPills.jsx");
/* harmony import */ var _DropdownSubheader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DropdownSubheader */ "./src/components/Dropdown/DropdownSubheader.jsx");









/***/ }),

/***/ "./src/components/FlexRow/FlexRow.jsx":
/*!********************************************!*\
  !*** ./src/components/FlexRow/FlexRow.jsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRow = function FlexRow(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row", className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FlexRow);

/***/ }),

/***/ "./src/components/FlexRow/FlexRowCol.jsx":
/*!***********************************************!*\
  !*** ./src/components/FlexRow/FlexRowCol.jsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRowCol = function FlexRowCol(_ref) {
  var children = _ref.children,
    className = _ref.className,
    shrink = _ref.shrink;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row-col", className, {
      "flex-row-col-shrink": shrink
    })
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FlexRowCol);

/***/ }),

/***/ "./src/components/FlexRow/FlexRowSection.jsx":
/*!***************************************************!*\
  !*** ./src/components/FlexRow/FlexRowSection.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRowSection = function FlexRowSection(_ref) {
  var auto = _ref.auto,
    children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row-section", {
      "flex-row-section-auto": auto
    }, className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FlexRowSection);

/***/ }),

/***/ "./src/components/FlexRow/index.js":
/*!*****************************************!*\
  !*** ./src/components/FlexRow/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlexRow": () => (/* reexport safe */ _FlexRow__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "FlexRowCol": () => (/* reexport safe */ _FlexRowCol__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "FlexRowSection": () => (/* reexport safe */ _FlexRowSection__WEBPACK_IMPORTED_MODULE_2__["default"])
/* harmony export */ });
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FlexRow */ "./src/components/FlexRow/FlexRow.jsx");
/* harmony import */ var _FlexRowCol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FlexRowCol */ "./src/components/FlexRow/FlexRowCol.jsx");
/* harmony import */ var _FlexRowSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FlexRowSection */ "./src/components/FlexRow/FlexRowSection.jsx");





/***/ }),

/***/ "./src/components/ListGroup/ListGroup.jsx":
/*!************************************************!*\
  !*** ./src/components/ListGroup/ListGroup.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroup)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function ListGroup(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group", className)
  }, children);
}

/***/ }),

/***/ "./src/components/ListGroup/ListGroupEmpty.jsx":
/*!*****************************************************!*\
  !*** ./src/components/ListGroup/ListGroupEmpty.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroupEmpty)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroupItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListGroupItem */ "./src/components/ListGroup/ListGroupItem.jsx");



function ListGroupEmpty(_ref) {
  var className = _ref.className,
    icon = _ref.icon,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroupItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group-empty", className)
  }, !!icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "list-group-empty-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-empty-message"
  }, message));
}

/***/ }),

/***/ "./src/components/ListGroup/ListGroupError.jsx":
/*!*****************************************************!*\
  !*** ./src/components/ListGroup/ListGroupError.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroupError)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroupItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListGroupItem */ "./src/components/ListGroup/ListGroupItem.jsx");



function ListGroupError(_ref) {
  var className = _ref.className,
    icon = _ref.icon,
    message = _ref.message,
    detail = _ref.detail;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroupItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group-error", className)
  }, !!icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "list-group-error-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-error-message"
  }, message), !!detail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-error-detail"
  }, detail));
}

/***/ }),

/***/ "./src/components/ListGroup/ListGroupItem.jsx":
/*!****************************************************!*\
  !*** ./src/components/ListGroup/ListGroupItem.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroupItem)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function ListGroupItem(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group-item", className)
  }, children);
}

/***/ }),

/***/ "./src/components/ListGroup/ListGroupLoading.jsx":
/*!*******************************************************!*\
  !*** ./src/components/ListGroup/ListGroupLoading.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroupLoading)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroupItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListGroupItem */ "./src/components/ListGroup/ListGroupItem.jsx");



function ListGroupLoading(_ref) {
  var className = _ref.className,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroupItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group-loading", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-loading-message"
  }, message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "list-group-loading-progress"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "list-group-loading-progress-bar"
  })));
}

/***/ }),

/***/ "./src/components/ListGroup/ListGroupMessage.jsx":
/*!*******************************************************!*\
  !*** ./src/components/ListGroup/ListGroupMessage.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListGroupMessage)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroupItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListGroupItem */ "./src/components/ListGroup/ListGroupItem.jsx");



function ListGroupMessage(_ref) {
  var className = _ref.className,
    icon = _ref.icon,
    message = _ref.message,
    detail = _ref.detail;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroupItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("list-group-message", className)
  }, !!icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "list-group-message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-message-message"
  }, message), !!detail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "list-group-message-detail"
  }, detail));
}

/***/ }),

/***/ "./src/components/ListGroup/index.js":
/*!*******************************************!*\
  !*** ./src/components/ListGroup/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListGroup": () => (/* reexport safe */ _ListGroup__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "ListGroupEmpty": () => (/* reexport safe */ _ListGroupEmpty__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "ListGroupError": () => (/* reexport safe */ _ListGroupError__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "ListGroupItem": () => (/* reexport safe */ _ListGroupItem__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "ListGroupLoading": () => (/* reexport safe */ _ListGroupLoading__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "ListGroupMessage": () => (/* reexport safe */ _ListGroupMessage__WEBPACK_IMPORTED_MODULE_5__["default"])
/* harmony export */ });
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ListGroup */ "./src/components/ListGroup/ListGroup.jsx");
/* harmony import */ var _ListGroupEmpty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ListGroupEmpty */ "./src/components/ListGroup/ListGroupEmpty.jsx");
/* harmony import */ var _ListGroupError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListGroupError */ "./src/components/ListGroup/ListGroupError.jsx");
/* harmony import */ var _ListGroupItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ListGroupItem */ "./src/components/ListGroup/ListGroupItem.jsx");
/* harmony import */ var _ListGroupLoading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ListGroupLoading */ "./src/components/ListGroup/ListGroupLoading.jsx");
/* harmony import */ var _ListGroupMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ListGroupMessage */ "./src/components/ListGroup/ListGroupMessage.jsx");








/***/ }),

/***/ "./src/components/MarkupEditor/MarkupAttachmentModal.jsx":
/*!***************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupAttachmentModal.jsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MarkupAttachmentModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_file_size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/file-size */ "./src/utils/file-size.js");


function MarkupAttachmentModal(_ref) {
  var attachment = _ref.attachment;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-dialog modal-lg",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("markup editor", "Attachment details"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body"
  }, !!attachment.is_image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment-modal-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: attachment.url.index + "?shva=1",
    target: "_blank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
    src: attachment.url.index + "?shva=1",
    alt: ""
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment-modal-filename"
  }, attachment.filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row markup-editor-attachment-modal-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-md-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, attachment.filetype + ", " + (0,_utils_file_size__WEBPACK_IMPORTED_MODULE_1__["default"])(attachment.size)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "text-muted"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, pgettext("markup editor", "Type and size")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-md-4"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: attachment.uploaded_on.format("LLL")
  }, attachment.uploaded_on.fromNow())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "text-muted"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, pgettext("markup editor", "Uploaded at")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-md-3"
  }, attachment.url.uploader ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: attachment.url.uploader,
    target: "_blank",
    className: "item-title"
  }, attachment.uploader_name) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, attachment.uploader_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "text-muted"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, pgettext("markup editor", "Uploader")))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, pgettext("modal", "Close")))));
}

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupCodeModal.jsx":
/*!*********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupCodeModal.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var MarkupCodeModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupCodeModal, _React$Component);
  var _super = _createSuper(MarkupCodeModal);
  function MarkupCodeModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupCodeModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var syntax = _this.state.syntax.trim();
      var text = _this.state.text.trim();
      if (text.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      var prefix = selection.prefix.trim().length ? "\n\n" : "";
      (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(Object.assign({}, selection, {
        text: text
      }), update, prefix + "```" + syntax + "\n" + text + "\n```\n\n");
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    _this.state = {
      error: null,
      syntax: "",
      text: props.selection.text
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupCodeModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Code"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_code_syntax",
        label: pgettext("markup editor", "Syntax highlighting")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
        id: "markup_code_syntax",
        className: "form-control",
        value: this.state.syntax,
        onChange: function onChange(event) {
          return _this2.setState({
            syntax: event.target.value
          });
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
        value: ""
      }, pgettext("markup editor", "No syntax highlighting")), LANGUAGES.map(function (_ref) {
        var value = _ref.value,
          name = _ref.name;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
          key: value,
          value: value
        }, name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_code_text",
        label: pgettext("markup editor", "Code to insert"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        id: "markup_code_text",
        className: "form-control",
        rows: "8",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("markup editor", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert code"))))));
    }
  }]);
  return MarkupCodeModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var LANGUAGES = [{
  value: "bash",
  name: "Bash"
}, {
  value: "c",
  name: "C"
}, {
  value: "c#",
  name: "C#"
}, {
  value: "c++",
  name: "C++"
}, {
  value: "css",
  name: "CSS"
}, {
  value: "diff",
  name: "Diff"
}, {
  value: "go",
  name: "Go"
}, {
  value: "graphql",
  name: "GraphQL"
}, {
  value: "html,",
  name: "HTML"
}, {
  value: "xml",
  name: "XML"
}, {
  value: "json",
  name: "JSON"
}, {
  value: "java",
  name: "Java"
}, {
  value: "javascript",
  name: "JavaScript"
}, {
  value: "kotlin",
  name: "Kotlin"
}, {
  value: "less",
  name: "Less"
}, {
  value: "lua",
  name: "Lua"
}, {
  value: "makefile",
  name: "Makefile"
}, {
  value: "markdown",
  name: "Markdown"
}, {
  value: "objective-C",
  name: "Objective-C"
}, {
  value: "php",
  name: "PHP"
}, {
  value: "perl",
  name: "Perl"
}, {
  value: "plain",
  name: "Plain"
}, {
  value: "text",
  name: "text"
}, {
  value: "python",
  name: "Python"
}, {
  value: "repl",
  name: "REPL"
}, {
  value: "r",
  name: "R"
}, {
  value: "ruby",
  name: "Ruby"
}, {
  value: "rust",
  name: "Rust"
}, {
  value: "scss",
  name: "SCSS"
}, {
  value: "sql",
  name: "SQL"
}, {
  value: "shell",
  name: "Shell Session"
}, {
  value: "swift",
  name: "Swift"
}, {
  value: "toml",
  name: "TOML"
}, {
  value: "ini",
  name: "INI"
}, {
  value: "typescript",
  name: "TypeScript"
}, {
  value: "visualbasic",
  name: "Visual Basic .NET"
}, {
  value: "webassembly",
  name: "WebAssembly"
}, {
  value: "yaml",
  name: "YAML"
}];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupCodeModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditor.jsx":
/*!******************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditor.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _misago_markup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var _MarkupEditorAttachments__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./MarkupEditorAttachments */ "./src/components/MarkupEditor/MarkupEditorAttachments.jsx");
/* harmony import */ var _MarkupEditorFooter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./MarkupEditorFooter */ "./src/components/MarkupEditor/MarkupEditorFooter.jsx");
/* harmony import */ var _MarkupEditorToolbar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./MarkupEditorToolbar */ "./src/components/MarkupEditor/MarkupEditorToolbar.jsx");
/* harmony import */ var _uploadFile__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./uploadFile */ "./src/components/MarkupEditor/uploadFile.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var MarkupEditor = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupEditor, _React$Component);
  var _super = _createSuper(MarkupEditor);
  function MarkupEditor(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, MarkupEditor);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showPreview", function () {
      if (_this.state.loading) return;
      _this.setState({
        loading: true,
        preview: true,
        element: null
      });
      _services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(___WEBPACK_IMPORTED_MODULE_9__["default"].get("PARSE_MARKUP_API"), {
        post: _this.props.value
      }).then(function (data) {
        _this.setState({
          loading: false,
          parsed: data.parsed
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
        } else {
          _services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        _this.setState({
          loading: false,
          preview: false
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "closePreview", function () {
      _this.setState({
        loading: false,
        preview: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onDrop", function (event) {
      event.preventDefault();
      event.stopPropagation();
      if (!event.dataTransfer.files) return;
      var setState = _this.props.onAttachmentsChange;
      if (___WEBPACK_IMPORTED_MODULE_9__["default"].get("user").acl.max_attachment_size) {
        for (var i = 0; i < event.dataTransfer.files.length; i++) {
          var file = event.dataTransfer.files[i];
          (0,_uploadFile__WEBPACK_IMPORTED_MODULE_16__["default"])(file, setState);
        }
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPaste", function (event) {
      var setState = _this.props.onAttachmentsChange;
      var files = [];
      for (var i = 0; i < event.clipboardData.items.length; i++) {
        var item = event.clipboardData.items[i];
        if (item.kind === "file") {
          files.push(item.getAsFile());
        }
      }
      if (files.length) {
        event.preventDefault();
        event.stopPropagation();
        if (___WEBPACK_IMPORTED_MODULE_9__["default"].get("user").acl.max_attachment_size) {
          for (var _i = 0; _i < files.length; _i++) {
            (0,_uploadFile__WEBPACK_IMPORTED_MODULE_16__["default"])(files[_i], setState);
          }
        }
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()("markup-editor", {
          "markup-editor-focused": _this.state.focused && !_this.state.preview
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditorToolbar__WEBPACK_IMPORTED_MODULE_15__["default"], {
        disabled: _this.props.disabled || _this.state.preview,
        element: _this.state.element,
        update: function update(value) {
          return _this.props.onChange({
            target: {
              value: value
            }
          });
        },
        updateAttachments: _this.props.onAttachmentsChange
      }), _this.state.preview ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "markup-editor-preview"
      }, _this.state.loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "markup-editor-preview-loading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: "240px"
        }
      }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_misago_markup__WEBPACK_IMPORTED_MODULE_12__["default"], {
        className: "markup-editor-preview-contents",
        markup: _this.state.parsed
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        className: "markup-editor-textarea form-control",
        placeholder: _this.props.placeholder,
        value: _this.props.value,
        disabled: _this.props.disabled || _this.state.loading,
        rows: 6,
        ref: function ref(element) {
          if (element && _this.state.element !== element) {
            _this.setState({
              element: element
            });
            setMentions(_this.props, element);
          }
        },
        onChange: _this.props.onChange,
        onDrop: _this.onDrop,
        onFocus: function onFocus() {
          return _this.setState({
            focused: true
          });
        },
        onPaste: _this.onPaste,
        onBlur: function onBlur() {
          return _this.setState({
            focused: false
          });
        }
      }), _this.props.attachments.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditorAttachments__WEBPACK_IMPORTED_MODULE_13__["default"], {
        attachments: _this.props.attachments,
        disabled: _this.props.disabled || _this.state.preview,
        element: _this.state.element,
        setState: _this.props.onAttachmentsChange,
        update: function update(value) {
          return _this.props.onChange({
            target: {
              value: value
            }
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditorFooter__WEBPACK_IMPORTED_MODULE_14__["default"], {
        preview: _this.state.preview,
        canProtect: _this.props.canProtect,
        isProtected: _this.props.isProtected,
        disabled: _this.props.disabled,
        empty: _this.props.value.trim().length < ___WEBPACK_IMPORTED_MODULE_9__["default"].get("SETTINGS").post_length_min || _this.state.loading,
        enableProtection: _this.props.enableProtection,
        disableProtection: _this.props.disableProtection,
        showPreview: _this.showPreview,
        closePreview: _this.closePreview,
        submitText: _this.props.submitText
      }));
    });
    _this.state = {
      element: null,
      focused: false,
      loading: false,
      preview: false,
      parsed: null
    };
    return _this;
  }
  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(MarkupEditor);
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
function setMentions(props, element) {
  $(element).atwho({
    at: "@",
    displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
    insertTpl: "@${username}",
    searchKey: "username",
    callbacks: {
      remoteFilter: function remoteFilter(query, callback) {
        $.getJSON(___WEBPACK_IMPORTED_MODULE_9__["default"].get("MENTION_API"), {
          q: query
        }, callback);
      }
    }
  });
  $(element).on("inserted.atwho", function (event, _storage, source, controller) {
    var query = controller.query;
    var username = source.target.innerText.trim();
    var prefix = event.target.value.substr(0, query.headPos);
    var suffix = event.target.value.substr(query.endPos);
    event.target.value = prefix + username + suffix;
    props.onChange(event);
    var caret = query.headPos + username.length;
    event.target.setSelectionRange(caret, caret);
    event.target.focus();
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditor);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorAttachment.jsx":
/*!****************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorAttachment.jsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _utils_file_size__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/file-size */ "./src/utils/file-size.js");
/* harmony import */ var _MarkupAttachmentModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupAttachmentModal */ "./src/components/MarkupEditor/MarkupAttachmentModal.jsx");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");






var MarkupEditorAttachment = function MarkupEditorAttachment(_ref) {
  var attachment = _ref.attachment,
    disabled = _ref.disabled,
    element = _ref.element,
    setState = _ref.setState,
    update = _ref.update;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachments-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment-details"
  }, attachment.id ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: attachment.url.index + "?shva=1",
    target: "_blank",
    onClick: function onClick(event) {
      event.preventDefault();
      _services_modal__WEBPACK_IMPORTED_MODULE_1__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupAttachmentModal__WEBPACK_IMPORTED_MODULE_4__["default"], {
        attachment: attachment
      }));
    }
  }, attachment.filename) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", {
    className: "item-title"
  }, attachment.filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "text-muted"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline"
  }, !attachment.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, attachment.progress + "%"), !!attachment.filetype && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, attachment.filetype), attachment.size > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, (0,_utils_file_size__WEBPACK_IMPORTED_MODULE_3__["default"])(attachment.size))))), !!attachment.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment-buttons"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor-attachment btn-icon",
    title: pgettext("markup editor", "Insert into message"),
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      var markup = getAttachmentMarkup(attachment);
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_5__.getSelection)(element);
      (0,_operations__WEBPACK_IMPORTED_MODULE_5__.replaceSelection)(selection, update, markup);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "flip_to_front")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor-attachment btn-icon",
    title: pgettext("markup editor", "Remove attachment"),
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      setState(function (_ref2) {
        var attachments = _ref2.attachments;
        var confirm = window.confirm(pgettext("markup editor", "Remove this attachment?"));
        if (confirm) {
          return {
            attachments: attachments.filter(function (_ref3) {
              var id = _ref3.id;
              return id !== attachment.id;
            })
          };
        }
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "close"))), !attachment.id && !!attachment.key && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachment-buttons"
  }, attachment.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor-attachment btn-icon",
    title: pgettext("markup editor", "See error"),
    type: "button",
    onClick: function onClick() {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_2__["default"].error(interpolate(pgettext("markup editor", "%(filename)s: %(error)s"), {
        filename: attachment.filename,
        error: attachment.error
      }, true));
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "warning")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor-attachment btn-icon",
    title: pgettext("markup editor", "Remove attachment"),
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      setState(function (_ref4) {
        var attachments = _ref4.attachments;
        return {
          attachments: attachments.filter(function (_ref5) {
            var key = _ref5.key;
            return key !== attachment.key;
          })
        };
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "close")))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditorAttachment);
function getAttachmentMarkup(attachment) {
  var markup = "[";
  if (attachment.is_image) {
    markup += "![" + attachment.filename + "]";
    markup += "(" + (attachment.url.thumb || attachment.url.index) + "?shva=1)";
  } else {
    markup += attachment.filename;
  }
  markup += "](" + attachment.url.index + "?shva=1)";
  return markup;
}

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorAttachments.jsx":
/*!*****************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorAttachments.jsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _MarkupEditorAttachment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupEditorAttachment */ "./src/components/MarkupEditor/MarkupEditorAttachment.jsx");


var MarkupEditorAttachments = function MarkupEditorAttachments(_ref) {
  var attachments = _ref.attachments,
    disabled = _ref.disabled,
    element = _ref.element,
    setState = _ref.setState,
    update = _ref.update;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachments"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-attachments-container"
  }, attachments.map(function (attachment) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupEditorAttachment__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: attachment.key || attachment.id,
      attachment: attachment,
      disabled: disabled,
      element: element,
      setState: setState,
      update: update
    });
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditorAttachments);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorButton.jsx":
/*!************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorButton.jsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var MarkupEditorButton = function MarkupEditorButton(_ref) {
  var disabled = _ref.disabled,
    icon = _ref.icon,
    title = _ref.title,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor",
    title: title,
    type: "button",
    disabled: disabled,
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, icon));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditorButton);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorFooter.jsx":
/*!************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorFooter.jsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../button */ "./src/components/button.js");


var MarkupEditorFooter = function MarkupEditorFooter(_ref) {
  var canProtect = _ref.canProtect,
    disabled = _ref.disabled,
    empty = _ref.empty,
    preview = _ref.preview,
    isProtected = _ref.isProtected,
    submitText = _ref.submitText,
    showPreview = _ref.showPreview,
    closePreview = _ref.closePreview,
    enableProtection = _ref.enableProtection,
    disableProtection = _ref.disableProtection;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-footer"
  }, !!canProtect && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default btn-icon hidden-sm hidden-md hidden-lg",
    title: isProtected ? pgettext("markup editor", "Protected") : pgettext("markup editor", "Protect"),
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      if (isProtected) {
        disableProtection();
      } else {
        enableProtection();
      }
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, isProtected ? "lock" : "lock_open")), !!canProtect && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default hidden-xs",
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      if (isProtected) {
        disableProtection();
      } else {
        enableProtection();
      }
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, isProtected ? "lock" : "lock_open"), isProtected ? pgettext("markup editor", "Protected") : pgettext("markup editor", "Protect"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-spacer"
  }), preview ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default btn-auto",
    type: "button",
    onClick: closePreview
  }, pgettext("markup editor", "Edit")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default btn-auto",
    disabled: disabled || empty,
    type: "button",
    onClick: showPreview
  }, pgettext("markup editor", "Preview")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-primary btn-auto",
    disabled: disabled || empty
  }, submitText || pgettext("markup editor", "Post")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditorFooter);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorToolbar.jsx":
/*!*************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorToolbar.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _MarkupCodeModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupCodeModal */ "./src/components/MarkupEditor/MarkupCodeModal.jsx");
/* harmony import */ var _MarkupFormattingHelpModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupFormattingHelpModal */ "./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx");
/* harmony import */ var _MarkupImageModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupImageModal */ "./src/components/MarkupEditor/MarkupImageModal.jsx");
/* harmony import */ var _MarkupLinkModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MarkupLinkModal */ "./src/components/MarkupEditor/MarkupLinkModal.jsx");
/* harmony import */ var _MarkupQuoteModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MarkupQuoteModal */ "./src/components/MarkupEditor/MarkupQuoteModal.jsx");
/* harmony import */ var _MarkupEditorButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MarkupEditorButton */ "./src/components/MarkupEditor/MarkupEditorButton.jsx");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");
/* harmony import */ var _uploadFile__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./uploadFile */ "./src/components/MarkupEditor/uploadFile.js");











var MarkupEditorToolbar = function MarkupEditorToolbar(_ref) {
  var disabled = _ref.disabled,
    element = _ref.element,
    update = _ref.update,
    updateAttachments = _ref.updateAttachments;
  var actions = [{
    name: pgettext("markup editor", "Strong"),
    icon: "format_bold",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_9__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element), update, "**", "**", pgettext("example markup", "Strong text"));
    }
  }, {
    name: pgettext("markup editor", "Emphasis"),
    icon: "format_italic",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_9__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element), update, "*", "*", pgettext("example markup", "Text with emphasis"));
    }
  }, {
    name: pgettext("markup editor", "Strikethrough"),
    icon: "format_strikethrough",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_9__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element), update, "~~", "~~", pgettext("example markup", "Text with strikethrough"));
    }
  }, {
    name: pgettext("markup editor", "Horizontal ruler"),
    icon: "remove",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_9__.replaceSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element), update, "\n\n- - -\n\n");
    }
  }, {
    name: pgettext("markup editor", "Link"),
    icon: "insert_link",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupLinkModal__WEBPACK_IMPORTED_MODULE_6__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Image"),
    icon: "insert_photo",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupImageModal__WEBPACK_IMPORTED_MODULE_5__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Quote"),
    icon: "format_quote",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupQuoteModal__WEBPACK_IMPORTED_MODULE_7__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Spoiler"),
    icon: "visibility_off",
    onClick: function onClick() {
      insertSpoiler(element, update);
    }
  }, {
    name: pgettext("markup editor", "Code"),
    icon: "code",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupCodeModal__WEBPACK_IMPORTED_MODULE_3__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }];
  if (___WEBPACK_IMPORTED_MODULE_1__["default"].get("user").acl.max_attachment_size) {
    actions.push({
      name: pgettext("markup editor", "Upload file"),
      icon: "file_upload",
      onClick: function onClick() {
        return uploadFiles(updateAttachments);
      }
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-toolbar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-toolbar-left"
  }, actions.map(function (_ref2) {
    var name = _ref2.name,
      icon = _ref2.icon,
      onClick = _ref2.onClick;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupEditorButton__WEBPACK_IMPORTED_MODULE_8__["default"], {
      key: icon,
      title: name,
      icon: icon,
      disabled: disabled || !element,
      onClick: onClick
    });
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-toolbar-right"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-controls-dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-markup-editor dropdown-toggle",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: disabled || !element
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "more_vert")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, actions.map(function (_ref3) {
    var name = _ref3.name,
      icon = _ref3.icon,
      onClick = _ref3.onClick;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: icon
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
      type: "button",
      className: "btn-link",
      disabled: disabled || !element,
      onClick: onClick
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, icon), name));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupEditorButton__WEBPACK_IMPORTED_MODULE_8__["default"], {
    title: pgettext("markup editor", "Open formatting help"),
    icon: "help_outline",
    onClick: function onClick() {
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupFormattingHelpModal__WEBPACK_IMPORTED_MODULE_4__["default"], null));
    }
  })));
};
var insertSpoiler = function insertSpoiler(element, update) {
  var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_9__.getSelection)(element);
  var prefix = selection.prefix.trim().length ? "\n\n" : "";
  (0,_operations__WEBPACK_IMPORTED_MODULE_9__.wrapSelection)(selection, update, prefix + "[spoiler]\n", "\n[/spoiler]\n\n", pgettext("markup editor", "Spoiler text"));
};
var uploadFiles = function uploadFiles(setState) {
  var input = document.createElement("input");
  input.type = "file";
  input.multiple = "multiple";
  input.addEventListener("change", function () {
    for (var i = 0; i < input.files.length; i++) {
      (0,_uploadFile__WEBPACK_IMPORTED_MODULE_10__["default"])(input.files[i], setState);
    }
  });
  input.click();
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupEditorToolbar);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MarkupFormattingHelpModal)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_file_size__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/file-size */ "./src/utils/file-size.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


function MarkupFormattingHelpModal() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "modal-dialog modal-lg",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("markup help", "Formatting help"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "modal-body formatting-help"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Emphasis text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "_This text will have emphasis_"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("em", null, pgettext("markup help", "This text will have emphasis")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Bold text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "**This text will be bold**"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, pgettext("markup help", "This text will be bold")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Removed text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "~~This text will be removed~~"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("del", null, pgettext("markup help", "This text will be removed")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Bold text (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "[b]This text will be bold[/b]"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("b", null, pgettext("markup help", "This text will be bold")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Underlined text (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "[u]This text will be underlined[/u]"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("u", null, pgettext("markup help", "This text will be underlined")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Italics text (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "[i]This text will be in italics[/i]"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("i", null, pgettext("markup help", "This text will be in italics")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Link")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "<http://example.com>",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
      href: "#"
    }, "example.com"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Link with text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[" + pgettext("markup help", "Link text") + "](http://example.com)",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
      href: "#"
    }, pgettext("markup help", "Link text")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Link (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[url]http://example.com[/url]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
      href: "#"
    }, "example.com"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Link with text (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[url=http://example.com]" + pgettext("markup help", "Link text") + "[/url]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
      href: "#"
    }, pgettext("markup help", "Link text")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Image")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "!(http://dummyimage.com/38/38)",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("img", {
      alt: "",
      src: "http://dummyimage.com/38/38"
    }))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Image with alternate text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "![" + pgettext("markup help", "Image text") + "](http://dummyimage.com/38/38)",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("img", {
      alt: pgettext("markup help", "Image text"),
      src: "http://dummyimage.com/38/38"
    }))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Image (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[img]http://dummyimage.com/38/38[/img]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("img", {
      alt: "",
      src: "http://dummyimage.com/38/38"
    }))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Mention user by their name")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "@username",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
      href: "#"
    }, "@username"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Heading 1")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "# First level heading"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h1", null, pgettext("markup help", "First level heading"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Heading 2")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "## Second level heading"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h2", null, pgettext("markup help", "Second level heading"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Heading 3")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "### Third level heading"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", null, pgettext("markup help", "Third level heading"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Heading 4")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "#### Fourth level heading"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Fourth level heading"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Heading 5")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "##### Fifth level heading"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h5", null, pgettext("markup help", "Fifth level heading"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Unordered list")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "- Lorem ipsum\n- Dolor met\n- Vulputate lectus",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Lorem ipsum"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Dolor met"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Vulputate lectus"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Ordered list")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "1. Lorem ipsum\n2. Dolor met\n3. Vulputate lectus",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ol", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Lorem ipsum"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Dolor met"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, "Vulputate lectus"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Quote text")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "> " + pgettext("markup help", "Quoted text"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("blockquote", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, pgettext("markup help", "Quoted text")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Quote text (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[quote]\n" + pgettext("markup help", "Quoted text") + "\n[/quote]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("aside", {
      className: "quote-block"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
      className: "quote-heading"
    }, gettext("Quoted message:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("blockquote", {
      className: "quote-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, pgettext("markup help", "Quoted text"))))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Quote text with author (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: '[quote="' + pgettext("markup help", "Quote author") + '"]\n' + pgettext("markup help", "Quoted text") + "\n[/quote]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("aside", {
      className: "quote-block"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
      className: "quote-heading"
    }, pgettext("markup help", "Quote author has written:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("blockquote", {
      className: "quote-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, pgettext("markup help", "Quoted text"))))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Spoiler")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[spoiler]\n" + pgettext("markup help", "Secret text") + "\n[/spoiler]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormattingSpoiler, null, pgettext("markup help", "Secret text"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Inline code")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: pgettext("markup help", "`Inline code`"),
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", null, pgettext("markup help", "Inline code")))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Code block")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "```\nalert" + '("Hello world!");' + "\n```",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("pre", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", {
      className: "hljs"
    }, "alert(\"Hello world!\");"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Code block with syntax highlighting")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "```python\nprint" + '("Hello world!");' + "\n```",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("pre", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", {
      className: "hljs language-python"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
      className: "hljs-built_in"
    }, "print"), "(\"Hello world!\");"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Code block (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "[code]\nalert" + '("Hello world!");' + "\n[/code]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("pre", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", {
      className: "hljs"
    }, "alert(\"Hello world!\");"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Code block with syntax highlighting (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: '[code="python"]\nprint' + '("Hello world!");' + "\n[/code]",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("pre", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", {
      className: "hljs language-python"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
      className: "hljs-built_in"
    }, "print"), "(\"Hello world!\");"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Horizontal rule")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "Lorem ipsum\n- - -\nDolor met",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, "Lorem ipsum"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, "Dolor met"))
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, pgettext("markup help", "Horizontal rule (BBCode)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ExampleFormatting, {
    markup: "Lorem ipsum\n[hr]\nDolor met",
    result: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, "Lorem ipsum"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, "Dolor met"))
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "modal-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, pgettext("modal", "Close")))));
}
function ExampleFormatting(_ref) {
  var markup = _ref.markup,
    result = _ref.result;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "formatting-help-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "formatting-help-item-markup"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("pre", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("code", null, markup))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
    className: "formatting-help-item-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("article", {
    className: "misago-markup"
  }, result)));
}
var ExampleFormattingSpoiler = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(ExampleFormattingSpoiler, _React$Component);
  var _super = _createSuper(ExampleFormattingSpoiler);
  function ExampleFormattingSpoiler(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, ExampleFormattingSpoiler);
    _this = _super.call(this, props);
    _this.state = {
      reveal: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(ExampleFormattingSpoiler, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("aside", {
        className: this.state.reveal ? "spoiler-block revealed" : "spoiler-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("blockquote", {
        className: "spoiler-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, this.props.children)), !this.state.reveal && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "spoiler-overlay"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "spoiler-reveal",
        type: "button",
        onClick: function onClick() {
          _this2.setState({
            reveal: true
          });
        }
      }, gettext("Reveal spoiler"))));
    }
  }]);
  return ExampleFormattingSpoiler;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupImageModal.jsx":
/*!**********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupImageModal.jsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _isUrl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./isUrl */ "./src/components/MarkupEditor/isUrl.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var MarkupImageModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupImageModal, _React$Component);
  var _super = _createSuper(MarkupImageModal);
  function MarkupImageModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupImageModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var text = _this.state.text.trim();
      var url = _this.state.url.trim();
      if (url.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      if (text.length > 0) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "![" + text + "](" + url + ")");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "!(" + url + ")");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    var _text = props.selection.text.trim();
    var textUrl = (0,_isUrl__WEBPACK_IMPORTED_MODULE_10__["default"])(_text);
    _this.state = {
      error: null,
      text: textUrl ? "" : _text,
      url: textUrl ? _text : ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupImageModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Image"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_image_text",
        label: pgettext("markup editor", "Image description"),
        helpText: pgettext("markup editor", "Optional but recommended . Will be displayed instead of image when it fails to load.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_image_text",
        className: "form-control",
        type: "text",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_image_url",
        label: pgettext("markup editor", "Image URL"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_image_url",
        className: "form-control",
        type: "text",
        value: this.state.url,
        placeholder: "http://domain.com/image.png",
        onChange: function onChange(event) {
          return _this2.setState({
            url: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("markup editor", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert image"))))));
    }
  }]);
  return MarkupImageModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupImageModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupLinkModal.jsx":
/*!*********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupLinkModal.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _isUrl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./isUrl */ "./src/components/MarkupEditor/isUrl.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var MarkupLinkModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupLinkModal, _React$Component);
  var _super = _createSuper(MarkupLinkModal);
  function MarkupLinkModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupLinkModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var text = _this.state.text.trim();
      var url = _this.state.url.trim();
      if (url.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      if (text.length > 0) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "[" + text + "](" + url + ")");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "<" + url + ">");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    var _text = props.selection.text.trim();
    var textUrl = (0,_isUrl__WEBPACK_IMPORTED_MODULE_10__["default"])(_text);
    _this.state = {
      error: null,
      text: textUrl ? "" : _text,
      url: textUrl ? _text : ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupLinkModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Link"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_link_url",
        label: pgettext("markup editor", "Link text"),
        helpText: pgettext("markup editor", "Optional. Will be displayed instead of link's address.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_text",
        className: "form-control",
        type: "text",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_link_url",
        label: pgettext("markup editor", "Link address"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_url",
        className: "form-control",
        type: "text",
        value: this.state.url,
        onChange: function onChange(event) {
          return _this2.setState({
            url: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("markup editor", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert link"))))));
    }
  }]);
  return MarkupLinkModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupLinkModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupQuoteModal.jsx":
/*!**********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupQuoteModal.jsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var MarkupQuoteModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupQuoteModal, _React$Component);
  var _super = _createSuper(MarkupQuoteModal);
  function MarkupQuoteModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupQuoteModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var author = _this.state.author.trim();
      var text = _this.state.text.trim();
      if (text.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      var prefix = selection.prefix.trim().length ? "\n\n" : "";
      if (author) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(selection, update, prefix + '[quote="' + author + '"]\n' + text + "\n[/quote]\n\n");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(selection, update, prefix + "[quote]\n" + text + "\n[/quote]\n\n");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    _this.state = {
      error: null,
      author: "",
      text: props.selection.text
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupQuoteModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Quote"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_quote_author",
        label: pgettext("markup editor", "Quote's author or source"),
        helpText: pgettext("markup editor", 'Optional. If it\'s username, put "@" before it ("@JohnDoe").')
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_quote_author",
        className: "form-control",
        type: "text",
        value: this.state.author,
        onChange: function onChange(event) {
          return _this2.setState({
            author: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "markup_quote_text",
        label: pgettext("markup editor", "Quoted text"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        id: "markup_quote_text",
        className: "form-control",
        rows: "8",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("markup editor", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert quote"))))));
    }
  }]);
  return MarkupQuoteModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MarkupQuoteModal);

/***/ }),

/***/ "./src/components/MarkupEditor/index.js":
/*!**********************************************!*\
  !*** ./src/components/MarkupEditor/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupEditor */ "./src/components/MarkupEditor/MarkupEditor.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_MarkupEditor__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/MarkupEditor/isUrl.js":
/*!**********************************************!*\
  !*** ./src/components/MarkupEditor/isUrl.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isUrl)
/* harmony export */ });
var URL_PATTERN = new RegExp("^(((ftps?)|(https?))://)", "i");
function isUrl(str) {
  return URL_PATTERN.test(str.trim());
}

/***/ }),

/***/ "./src/components/MarkupEditor/operations.js":
/*!***************************************************!*\
  !*** ./src/components/MarkupEditor/operations.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focus": () => (/* binding */ focus),
/* harmony export */   "getSelection": () => (/* binding */ getSelection),
/* harmony export */   "replaceSelection": () => (/* binding */ replaceSelection),
/* harmony export */   "wrapSelection": () => (/* binding */ wrapSelection)
/* harmony export */ });
var wrapSelection = function wrapSelection(selection, update, prefix, suffix, def) {
  var text = selection.text || def || "";
  var newValue = selection.prefix;
  newValue += prefix + text + suffix;
  newValue += selection.suffix;
  update(newValue);
  window.setTimeout(function () {
    focus(selection.textarea);
    var caret = selection.start + prefix.length;
    selection.textarea.setSelectionRange(caret, caret + text.length);
  }, 250);
};
var replaceSelection = function replaceSelection(selection, update, text) {
  var newValue = selection.prefix;
  newValue += text;
  newValue += selection.suffix;
  update(newValue);
  window.setTimeout(function () {
    focus(selection.textarea);
    var caret = selection.end + text.length;
    selection.textarea.setSelectionRange(caret, caret);
  }, 250);
};
var getSelection = function getSelection(textarea) {
  if (document.selection) {
    textarea.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -textarea.value.length);
    return createRange(textarea, range.text.length - length, range.text.length);
  }
  if (textarea.selectionStart || textarea.selectionStart == "0") {
    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd);
  }
};
var createRange = function createRange(textarea, start, end) {
  return {
    textarea: textarea,
    start: start,
    end: end,
    text: textarea.value.substring(start, end),
    prefix: textarea.value.substring(0, start),
    suffix: textarea.value.substring(end)
  };
};
function focus(textarea) {
  var scroll = textarea.scrollTop;
  textarea.focus();
  textarea.scrollTop = scroll;
}


/***/ }),

/***/ "./src/components/MarkupEditor/uploadFile.js":
/*!***************************************************!*\
  !*** ./src/components/MarkupEditor/uploadFile.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _utils_file_size__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/file-size */ "./src/utils/file-size.js");
/* harmony import */ var _utils_getRandomString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/getRandomString */ "./src/utils/getRandomString.js");






var ID_LEN = 32;
var uploadFile = function uploadFile(file, setState) {
  var maxSize = ___WEBPACK_IMPORTED_MODULE_1__["default"].get("user").acl.max_attachment_size * 1024;
  if (file.size > maxSize) {
    _services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].error(interpolate(pgettext("markup editor", "File %(filename)s is bigger than %(limit)s."), {
      filename: file.name,
      limit: (0,_utils_file_size__WEBPACK_IMPORTED_MODULE_4__["default"])(maxSize)
    }, true));
    return;
  }
  var upload = {
    id: null,
    key: (0,_utils_getRandomString__WEBPACK_IMPORTED_MODULE_5__["default"])(ID_LEN),
    error: null,
    uploaded_on: null,
    progress: 0,
    filename: file.name,
    filetype: null,
    is_image: false,
    size: file.size,
    url: null,
    uploader_name: null
  };
  setState(function (_ref) {
    var attachments = _ref.attachments;
    return {
      attachments: [upload].concat(attachments)
    };
  });
  var refreshState = function refreshState() {
    setState(function (_ref2) {
      var attachments = _ref2.attachments;
      return {
        attachments: attachments.concat()
      };
    });
  };
  var data = new FormData();
  data.append("upload", file);
  _services_ajax__WEBPACK_IMPORTED_MODULE_2__["default"].upload(___WEBPACK_IMPORTED_MODULE_1__["default"].get("ATTACHMENTS_API"), data, function (progress) {
    upload.progress = progress;
    refreshState();
  }).then(function (data) {
    Object.assign(upload, data, {
      uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(data.uploaded_on)
    });
    refreshState();
  }, function (rejection) {
    if (rejection.status === 400 || rejection.status === 413) {
      upload.error = rejection.detail;
      _services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].error(rejection.detail);
      refreshState();
    } else {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].apiError(rejection);
    }
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (uploadFile);

/***/ }),

/***/ "./src/components/Navbar/Navbar.jsx":
/*!******************************************!*\
  !*** ./src/components/Navbar/Navbar.jsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Navbar": () => (/* binding */ Navbar),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");
/* harmony import */ var _RegisterButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../RegisterButton */ "./src/components/RegisterButton/index.js");
/* harmony import */ var _SignInButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SignInButton */ "./src/components/SignInButton/index.js");
/* harmony import */ var _SignInModalAutoOpen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../SignInModalAutoOpen */ "./src/components/SignInModalAutoOpen.js");
/* harmony import */ var _NavbarBranding__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NavbarBranding */ "./src/components/Navbar/NavbarBranding.jsx");
/* harmony import */ var _NavbarExtraMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./NavbarExtraMenu */ "./src/components/Navbar/NavbarExtraMenu.jsx");
/* harmony import */ var _NavbarNotificationsDropdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./NavbarNotificationsDropdown */ "./src/components/Navbar/NavbarNotificationsDropdown.jsx");
/* harmony import */ var _NavbarNotificationsToggle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./NavbarNotificationsToggle */ "./src/components/Navbar/NavbarNotificationsToggle.jsx");
/* harmony import */ var _NavbarPrivateThreads__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./NavbarPrivateThreads */ "./src/components/Navbar/NavbarPrivateThreads.jsx");
/* harmony import */ var _NavbarSearchDropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NavbarSearchDropdown */ "./src/components/Navbar/NavbarSearchDropdown.jsx");
/* harmony import */ var _NavbarSearchToggle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NavbarSearchToggle */ "./src/components/Navbar/NavbarSearchToggle.jsx");
/* harmony import */ var _NavbarSiteNavDropdown__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./NavbarSiteNavDropdown */ "./src/components/Navbar/NavbarSiteNavDropdown.jsx");
/* harmony import */ var _NavbarSiteNavToggle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./NavbarSiteNavToggle */ "./src/components/Navbar/NavbarSiteNavToggle.jsx");
/* harmony import */ var _NavbarUserNavDropdown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./NavbarUserNavDropdown */ "./src/components/Navbar/NavbarUserNavDropdown.jsx");
/* harmony import */ var _NavbarUserNavToggle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./NavbarUserNavToggle */ "./src/components/Navbar/NavbarUserNavToggle.jsx");

















function Navbar(_ref) {
  var dispatch = _ref.dispatch,
    branding = _ref.branding,
    extraMenuItems = _ref.extraMenuItems,
    authDelegated = _ref.authDelegated,
    user = _ref.user,
    searchUrl = _ref.searchUrl,
    notificationsUrl = _ref.notificationsUrl,
    privateThreadsUrl = _ref.privateThreadsUrl,
    showSearch = _ref.showSearch,
    showPrivateThreads = _ref.showPrivateThreads;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container navbar-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarBranding__WEBPACK_IMPORTED_MODULE_6__["default"], branding), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "navbar-right"
  }, extraMenuItems.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarExtraMenu__WEBPACK_IMPORTED_MODULE_7__["default"], {
    items: extraMenuItems
  }), !!showSearch && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSearchDropdown__WEBPACK_IMPORTED_MODULE_11__["default"], {
    id: "navbar-search-dropdown",
    url: searchUrl
  }), !!showSearch && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSearchToggle__WEBPACK_IMPORTED_MODULE_12__["default"], {
    id: "navbar-search-overlay",
    url: searchUrl,
    onClick: function onClick(event) {
      dispatch(_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.openSearch());
      event.preventDefault();
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSiteNavDropdown__WEBPACK_IMPORTED_MODULE_13__["default"], {
    id: "navbar-site-nav-dropdown"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSiteNavToggle__WEBPACK_IMPORTED_MODULE_14__["default"], {
    id: "navbar-site-nav-overlay",
    onClick: function onClick() {
      dispatch(_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.openSiteNav());
    }
  }), !!showPrivateThreads && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarPrivateThreads__WEBPACK_IMPORTED_MODULE_10__["default"], {
    id: "navbar-private-threads",
    badge: user.unreadPrivateThreads,
    url: privateThreadsUrl
  }), !!user && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarNotificationsDropdown__WEBPACK_IMPORTED_MODULE_8__["default"], {
    id: "navbar-notifications-dropdown",
    badge: user.unreadNotifications,
    url: notificationsUrl
  }), !!user && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarNotificationsToggle__WEBPACK_IMPORTED_MODULE_9__["default"], {
    id: "navbar-notifications-overlay",
    badge: user.unreadNotifications,
    url: notificationsUrl,
    onClick: function onClick(event) {
      dispatch(_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.openNotifications());
      event.preventDefault();
    }
  }), !!user && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarUserNavDropdown__WEBPACK_IMPORTED_MODULE_15__["default"], {
    id: "navbar-user-nav-dropdown",
    user: user
  }), !!user && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarUserNavToggle__WEBPACK_IMPORTED_MODULE_16__["default"], {
    id: "navbar-user-nav-overlay",
    user: user,
    onClick: function onClick(event) {
      dispatch(_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.openUserNav());
      event.preventDefault();
    }
  }), !user && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SignInButton__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "btn-navbar-sign-in"
  }), !user && !authDelegated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_RegisterButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "btn-navbar-register"
  }), !user && !authDelegated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SignInModalAutoOpen__WEBPACK_IMPORTED_MODULE_5__["default"], null)));
}
function select(state) {
  var settings = misago.get("SETTINGS");
  var user = state.auth.user;
  return {
    branding: {
      logo: settings.logo,
      logoXs: settings.logo_small,
      text: settings.logo_text,
      url: misago.get("MISAGO_PATH")
    },
    extraMenuItems: misago.get("extraMenuItems"),
    user: !user.id ? null : {
      id: user.id,
      username: user.username,
      email: user.email,
      avatars: user.avatars,
      unreadNotifications: user.unreadNotifications,
      unreadPrivateThreads: user.unread_private_threads,
      url: user.url
    },
    searchUrl: misago.get("SEARCH_URL"),
    notificationsUrl: misago.get("NOTIFICATIONS_URL"),
    privateThreadsUrl: misago.get("PRIVATE_THREADS_URL"),
    authDelegated: settings.enable_oauth2_client,
    showSearch: !!user.acl.can_search,
    showPrivateThreads: !!user && !!user.acl.can_use_private_threads
  };
}
var NavbarConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(select)(Navbar);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NavbarConnected);

/***/ }),

/***/ "./src/components/Navbar/NavbarBranding.jsx":
/*!**************************************************!*\
  !*** ./src/components/Navbar/NavbarBranding.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarBranding)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function NavbarBranding(_ref) {
  var logo = _ref.logo,
    logoXs = _ref.logoXs,
    text = _ref.text,
    url = _ref.url;
  if (logo) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "navbar-branding"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: url,
      className: "navbar-branding-logo"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
      src: logo,
      alt: text
    })));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "navbar-branding"
  }, !!logoXs && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: url,
    className: "navbar-branding-logo-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
    src: logoXs,
    alt: text
  })), !!text && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: url,
    className: "navbar-branding-text"
  }, text));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarExtraMenu.jsx":
/*!***************************************************!*\
  !*** ./src/components/Navbar/NavbarExtraMenu.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarExtraMenu)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function NavbarExtraMenu(_ref) {
  var items = _ref.items;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "navbar-extra-menu",
    role: "nav"
  }, items.map(function (item, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: index,
      className: item.className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: item.url,
      target: item.targetBlank ? "_blank" : null,
      rel: item.rel
    }, item.title));
  }));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarNotificationsDropdown.jsx":
/*!***************************************************************!*\
  !*** ./src/components/Navbar/NavbarNotificationsDropdown.jsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarNotificationsDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _NotificationsDropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../NotificationsDropdown */ "./src/components/NotificationsDropdown/index.js");
/* harmony import */ var _NavbarNotificationsToggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NavbarNotificationsToggle */ "./src/components/Navbar/NavbarNotificationsToggle.jsx");




function NavbarNotificationsDropdown(_ref) {
  var id = _ref.id,
    className = _ref.className,
    badge = _ref.badge,
    url = _ref.url;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_1__.Dropdown, {
    id: id,
    toggle: function toggle(_ref2) {
      var isOpen = _ref2.isOpen,
        toggle = _ref2.toggle;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarNotificationsToggle__WEBPACK_IMPORTED_MODULE_3__["default"], {
        className: className,
        active: isOpen,
        badge: badge,
        url: url,
        onClick: function onClick(event) {
          event.preventDefault();
          toggle();
        }
      });
    },
    menuClassName: "notifications-dropdown",
    menuAlignRight: true
  }, function (_ref3) {
    var isOpen = _ref3.isOpen;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsDropdown__WEBPACK_IMPORTED_MODULE_2__["default"], {
      active: isOpen
    });
  });
}

/***/ }),

/***/ "./src/components/Navbar/NavbarNotificationsToggle.jsx":
/*!*************************************************************!*\
  !*** ./src/components/Navbar/NavbarNotificationsToggle.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarNotificationsToggle)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function NavbarNotificationsToggle(_ref) {
  var id = _ref.id,
    className = _ref.className,
    badge = _ref.badge,
    url = _ref.url,
    active = _ref.active,
    onClick = _ref.onClick;
  var title = !!badge ? pgettext("navbar", "You have unread notifications!") : pgettext("navbar", "Open notifications");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    id: id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-navbar-icon", className, {
      active: active
    }),
    href: url,
    title: title,
    onClick: onClick
  }, !!badge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "navbar-item-badge"
  }, badge), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, !!badge ? "notifications_active" : "notifications_none"));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarPrivateThreads.jsx":
/*!********************************************************!*\
  !*** ./src/components/Navbar/NavbarPrivateThreads.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarPrivateThreads)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function NavbarPrivateThreads(_ref) {
  var id = _ref.id,
    className = _ref.className,
    badge = _ref.badge,
    url = _ref.url,
    active = _ref.active,
    onClick = _ref.onClick;
  var title = !!badge ? pgettext("navbar", "You have unread private threads!") : pgettext("navbar", "Open private threads");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    id: id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-navbar-icon", className, {
      active: active
    }),
    href: url,
    title: title,
    onClick: onClick
  }, !!badge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "navbar-item-badge"
  }, badge), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "inbox"));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarSearchDropdown.jsx":
/*!********************************************************!*\
  !*** ./src/components/Navbar/NavbarSearchDropdown.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarSearchDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../search */ "./src/components/search/index.js");
/* harmony import */ var _NavbarSearchToggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NavbarSearchToggle */ "./src/components/Navbar/NavbarSearchToggle.jsx");




function NavbarSearchDropdown(_ref) {
  var id = _ref.id,
    className = _ref.className,
    url = _ref.url;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_1__.Dropdown, {
    id: id,
    toggle: function toggle(_ref2) {
      var isOpen = _ref2.isOpen,
        toggle = _ref2.toggle;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSearchToggle__WEBPACK_IMPORTED_MODULE_3__["default"], {
        className: className,
        active: isOpen,
        url: url,
        onClick: function onClick(event) {
          event.preventDefault();
          toggle();
          window.setTimeout(function () {
            document.querySelector(".search-dropdown .form-control-search").focus();
          }, 0);
        }
      });
    },
    menuClassName: "search-dropdown",
    menuAlignRight: true
  }, function () {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_search__WEBPACK_IMPORTED_MODULE_2__.SearchDropdown, null);
  });
}

/***/ }),

/***/ "./src/components/Navbar/NavbarSearchToggle.jsx":
/*!******************************************************!*\
  !*** ./src/components/Navbar/NavbarSearchToggle.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarSearchToggle)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function NavbarSearchToggle(_ref) {
  var id = _ref.id,
    className = _ref.className,
    url = _ref.url,
    active = _ref.active,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    id: id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-navbar-icon", className, {
      active: active
    }),
    href: url,
    title: pgettext("navbar", "Open search"),
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "search"));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarSiteNavDropdown.jsx":
/*!*********************************************************!*\
  !*** ./src/components/Navbar/NavbarSiteNavDropdown.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarSiteNavDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _NavbarSiteNavToggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NavbarSiteNavToggle */ "./src/components/Navbar/NavbarSiteNavToggle.jsx");
/* harmony import */ var _SiteNav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../SiteNav */ "./src/components/SiteNav/index.js");




function NavbarSiteNavDropdown(_ref) {
  var id = _ref.id,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_1__.Dropdown, {
    id: id,
    toggle: function toggle(_ref2) {
      var isOpen = _ref2.isOpen,
        toggle = _ref2.toggle;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarSiteNavToggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
        className: className,
        active: isOpen,
        onClick: toggle
      });
    },
    menuClassName: "site-nav-dropdown",
    menuAlignRight: true
  }, function (_ref3) {
    var isOpen = _ref3.isOpen,
      close = _ref3.close;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SiteNav__WEBPACK_IMPORTED_MODULE_3__.SiteNavDropdown, {
      close: close
    });
  });
}

/***/ }),

/***/ "./src/components/Navbar/NavbarSiteNavToggle.jsx":
/*!*******************************************************!*\
  !*** ./src/components/Navbar/NavbarSiteNavToggle.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarSiteNavToggle)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function NavbarSiteNavToggle(_ref) {
  var id = _ref.id,
    className = _ref.className,
    active = _ref.active,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    id: id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-navbar-icon", className, {
      active: active
    }),
    title: pgettext("navbar", "Open menu"),
    type: "button",
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "menu"));
}

/***/ }),

/***/ "./src/components/Navbar/NavbarUserNavDropdown.jsx":
/*!*********************************************************!*\
  !*** ./src/components/Navbar/NavbarUserNavDropdown.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarUserNavDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _NavbarUserNavToggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NavbarUserNavToggle */ "./src/components/Navbar/NavbarUserNavToggle.jsx");
/* harmony import */ var _UserNav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UserNav */ "./src/components/UserNav/index.js");




function NavbarUserNavDropdown(_ref) {
  var id = _ref.id,
    className = _ref.className,
    user = _ref.user;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_1__.Dropdown, {
    id: id,
    toggle: function toggle(_ref2) {
      var isOpen = _ref2.isOpen,
        toggle = _ref2.toggle;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NavbarUserNavToggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
        className: className,
        active: isOpen,
        user: user,
        onClick: function onClick(event) {
          event.preventDefault();
          toggle();
        }
      });
    },
    menuClassName: "user-nav-dropdown",
    menuAlignRight: true
  }, function (_ref3) {
    var isOpen = _ref3.isOpen,
      close = _ref3.close;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserNav__WEBPACK_IMPORTED_MODULE_3__.UserNavDropdown, {
      close: close
    });
  });
}

/***/ }),

/***/ "./src/components/Navbar/NavbarUserNavToggle.jsx":
/*!*******************************************************!*\
  !*** ./src/components/Navbar/NavbarUserNavToggle.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NavbarUserNavToggle)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");



function NavbarUserNavToggle(_ref) {
  var id = _ref.id,
    className = _ref.className,
    user = _ref.user,
    active = _ref.active,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    id: id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn-navbar-image", className, {
      active: active
    }),
    href: user.url,
    title: pgettext("navbar", "Open your options"),
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_2__["default"], {
    user: user,
    size: 34
  }));
}

/***/ }),

/***/ "./src/components/Navbar/index.js":
/*!****************************************!*\
  !*** ./src/components/Navbar/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Navbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Navbar */ "./src/components/Navbar/Navbar.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Navbar__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/Notifications/Notifications.jsx":
/*!********************************************************!*\
  !*** ./src/components/Notifications/Notifications.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Notifications)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var _NotificationsHeader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationsHeader */ "./src/components/Notifications/NotificationsHeader.jsx");
/* harmony import */ var _NotificationsRoute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NotificationsRoute */ "./src/components/Notifications/NotificationsRoute.jsx");




function Notifications() {
  var basename = misago.get("NOTIFICATIONS_URL");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page page-notifications"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsHeader__WEBPACK_IMPORTED_MODULE_2__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Router, {
    history: react_router__WEBPACK_IMPORTED_MODULE_1__.browserHistory,
    routes: [{
      path: basename,
      component: _NotificationsRoute__WEBPACK_IMPORTED_MODULE_3__["default"],
      props: {
        filter: "all"
      }
    }, {
      path: basename + "unread/",
      component: _NotificationsRoute__WEBPACK_IMPORTED_MODULE_3__["default"],
      props: {
        filter: "unread"
      }
    }, {
      path: basename + "read/",
      component: _NotificationsRoute__WEBPACK_IMPORTED_MODULE_3__["default"],
      props: {
        filter: "read"
      }
    }]
  }));
}

/***/ }),

/***/ "./src/components/Notifications/NotificationsHeader.jsx":
/*!**************************************************************!*\
  !*** ./src/components/Notifications/NotificationsHeader.jsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsHeader)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");


function NotificationsHeader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__.PageHeaderPlain, {
    header: pgettext("notifications title", "Notifications"),
    styleName: "notifications"
  });
}

/***/ }),

/***/ "./src/components/Notifications/NotificationsPagination.jsx":
/*!******************************************************************!*\
  !*** ./src/components/Notifications/NotificationsPagination.jsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsPagination)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


function NotificationsPagination(_ref) {
  var baseUrl = _ref.baseUrl,
    data = _ref.data,
    disabled = _ref.disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "misago-pagination"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NotificationsPaginationLink, {
    url: baseUrl,
    disabled: disabled || !data || !data.hasPrevious
  }, pgettext("notifications pagination", "Latest")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NotificationsPaginationLink, {
    url: baseUrl + "?before=" + (data ? data.firstCursor : ""),
    disabled: disabled || !data || !data.hasPrevious
  }, pgettext("notifications pagination", "Newer")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NotificationsPaginationLink, {
    url: baseUrl + "?after=" + (data ? data.lastCursor : ""),
    disabled: disabled || !data || !data.hasNext
  }, pgettext("notifications pagination", "Older")));
}
function NotificationsPaginationLink(_ref2) {
  var disabled = _ref2.disabled,
    children = _ref2.children,
    url = _ref2.url;
  if (disabled) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
      className: "btn btn-default",
      type: "disabled",
      disabled: true
    }, children);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    to: url,
    className: "btn btn-default",
    activeClassName: ""
  }, children);
}

/***/ }),

/***/ "./src/components/Notifications/NotificationsPills.jsx":
/*!*************************************************************!*\
  !*** ./src/components/Notifications/NotificationsPills.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsPills)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PillsNav__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PillsNav */ "./src/components/PillsNav/index.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");



function NotificationsPills(_ref) {
  var filter = _ref.filter;
  var basename = misago.get("NOTIFICATIONS_URL");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_2__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_2__.ToolbarSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_2__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PillsNav__WEBPACK_IMPORTED_MODULE_1__.PillsNav, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PillsNav__WEBPACK_IMPORTED_MODULE_1__.PillsNavLink, {
    active: filter === "all",
    link: basename
  }, pgettext("notifications nav", "All")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PillsNav__WEBPACK_IMPORTED_MODULE_1__.PillsNavLink, {
    active: filter === "unread",
    link: basename + "unread/"
  }, pgettext("notifications nav", "Unread")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PillsNav__WEBPACK_IMPORTED_MODULE_1__.PillsNavLink, {
    active: filter === "read",
    link: basename + "read/"
  }, pgettext("notifications nav", "Read"))))));
}

/***/ }),

/***/ "./src/components/Notifications/NotificationsRoute.jsx":
/*!*************************************************************!*\
  !*** ./src/components/Notifications/NotificationsRoute.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Api */ "./src/components/Api/index.js");
/* harmony import */ var _NotificationsFetch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../NotificationsFetch */ "./src/components/NotificationsFetch/index.js");
/* harmony import */ var _PageTitle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../PageTitle */ "./src/components/PageTitle/index.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _NotificationsList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../NotificationsList */ "./src/components/NotificationsList/index.js");
/* harmony import */ var _NotificationsPills__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NotificationsPills */ "./src/components/Notifications/NotificationsPills.jsx");
/* harmony import */ var _NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./NotificationsToolbar */ "./src/components/Notifications/NotificationsToolbar.jsx");














function NotificationsRoute(_ref) {
  var dispatch = _ref.dispatch,
    location = _ref.location,
    route = _ref.route;
  var query = location.query;
  var filter = route.props.filter;
  var baseUrl = getBaseUrl(filter);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_10__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_PageTitle__WEBPACK_IMPORTED_MODULE_9__["default"], {
    title: pgettext("notifications title", "Notifications"),
    subtitle: getSubtitle(filter)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsPills__WEBPACK_IMPORTED_MODULE_12__["default"], {
    filter: filter
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsFetch__WEBPACK_IMPORTED_MODULE_8__["default"], {
    filter: filter,
    query: query
  }, function (_ref2) {
    var data = _ref2.data,
      loading = _ref2.loading,
      error = _ref2.error,
      refetch = _ref2.refetch;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_Api__WEBPACK_IMPORTED_MODULE_7__.ApiMutation, {
      url: misago.get("NOTIFICATIONS_API") + "read-all/"
    }, function (readAll, _ref3) {
      var mutating = _ref3.loading;
      var toolbarProps = {
        baseUrl: baseUrl,
        data: data,
        disabled: loading || mutating || !data || data.results.length === 0,
        markAllAsRead: function () {
          var _markAllAsRead = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee2() {
            var confirmed;
            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    confirmed = window.confirm(pgettext("notifications", "Mark all notifications as read?"));
                    if (confirmed) {
                      readAll({
                        onSuccess: function () {
                          var _onSuccess = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee() {
                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee$(_context) {
                              while (1) {
                                switch (_context.prev = _context.next) {
                                  case 0:
                                    refetch();
                                    dispatch((0,_reducers_auth__WEBPACK_IMPORTED_MODULE_5__.updateAuthenticatedUser)({
                                      unreadNotifications: null
                                    }));
                                    _services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].success(pgettext("notifications", "All notifications have been marked as read."));
                                  case 3:
                                  case "end":
                                    return _context.stop();
                                }
                              }
                            }, _callee);
                          }));
                          function onSuccess() {
                            return _onSuccess.apply(this, arguments);
                          }
                          return onSuccess;
                        }(),
                        onError: _services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError
                      });
                    }
                  case 2:
                  case "end":
                    return _context2.stop();
                }
              }
            }, _callee2);
          }));
          function markAllAsRead() {
            return _markAllAsRead.apply(this, arguments);
          }
          return markAllAsRead;
        }()
      };
      if (loading || mutating) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], toolbarProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_11__.NotificationsListLoading, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, toolbarProps, {
          bottom: true
        })));
      }
      if (error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], toolbarProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_11__.NotificationsListError, {
          error: error
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, toolbarProps, {
          bottom: true
        })));
      }
      if (data) {
        if (!data.hasPrevious && query) {
          window.history.replaceState({}, "", baseUrl);
        }
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], toolbarProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_11__.NotificationsList, {
          filter: filter,
          items: data.results,
          hasNext: data.hasNext,
          hasPrevious: data.hasPrevious
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_NotificationsToolbar__WEBPACK_IMPORTED_MODULE_13__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, toolbarProps, {
          bottom: true
        })));
      }
      return null;
    });
  }));
}
function getSubtitle(filter) {
  if (filter === "unread") {
    return pgettext("notifications title", "Unread notifications");
  } else if (filter === "read") {
    return pgettext("notifications title", "Read notifications");
  } else {
    return null;
  }
}
function getBaseUrl(filter) {
  var url = misago.get("NOTIFICATIONS_URL");
  if (filter !== "all") {
    url += filter + "/";
  }
  return url;
}
var NotificationsRouteConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_4__.connect)()(NotificationsRoute);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotificationsRouteConnected);

/***/ }),

/***/ "./src/components/Notifications/NotificationsToolbar.jsx":
/*!***************************************************************!*\
  !*** ./src/components/Notifications/NotificationsToolbar.jsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsToolbar)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../button */ "./src/components/button.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _NotificationsPagination__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NotificationsPagination */ "./src/components/Notifications/NotificationsPagination.jsx");





function NotificationsToolbar(_ref) {
  var baseUrl = _ref.baseUrl,
    data = _ref.data,
    disabled = _ref.disabled,
    bottom = _ref.bottom,
    markAllAsRead = _ref.markAllAsRead;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NotificationsPagination__WEBPACK_IMPORTED_MODULE_4__["default"], {
    baseUrl: baseUrl,
    data: data,
    disabled: disabled
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSpacer, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSection, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()({
      "hidden-xs": !bottom
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "btn-default btn-block",
    type: "button",
    disabled: disabled || !data || !data.unreadNotifications,
    onClick: markAllAsRead
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "done_all"), pgettext("notifications", "Mark all as read")))));
}

/***/ }),

/***/ "./src/components/Notifications/index.js":
/*!***********************************************!*\
  !*** ./src/components/Notifications/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotificationsFetch": () => (/* reexport safe */ _NotificationsFetch_NotificationsFetch__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Notifications */ "./src/components/Notifications/Notifications.jsx");
/* harmony import */ var _NotificationsFetch_NotificationsFetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../NotificationsFetch/NotificationsFetch */ "./src/components/NotificationsFetch/NotificationsFetch.jsx");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Notifications__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./src/components/NotificationsDropdown/NotificationsDropdown.jsx":
/*!************************************************************************!*\
  !*** ./src/components/NotificationsDropdown/NotificationsDropdown.jsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsDropdown)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _NotificationsFetch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../NotificationsFetch */ "./src/components/NotificationsFetch/index.js");
/* harmony import */ var _NotificationsList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../NotificationsList */ "./src/components/NotificationsList/index.js");
/* harmony import */ var _NotificationsDropdownBody__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./NotificationsDropdownBody */ "./src/components/NotificationsDropdown/NotificationsDropdownBody.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var NotificationsDropdown = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(NotificationsDropdown, _React$Component);
  var _super = _createSuper(NotificationsDropdown);
  function NotificationsDropdown(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, NotificationsDropdown);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsDropdownBody__WEBPACK_IMPORTED_MODULE_10__["default"], {
        unread: _this.state.unread,
        showAll: function showAll() {
          return _this.setState({
            unread: false
          });
        },
        showUnread: function showUnread() {
          return _this.setState({
            unread: true
          });
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsFetch__WEBPACK_IMPORTED_MODULE_8__["default"], {
        filter: _this.state.unread ? "unread" : "all",
        disabled: !_this.props.active
      }, function (_ref) {
        var data = _ref.data,
          loading = _ref.loading,
          error = _ref.error;
        if (loading) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_9__.NotificationsListLoading, null);
        }
        if (error) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_9__.NotificationsListError, {
            error: error
          });
        }
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_9__.NotificationsList, {
          filter: _this.state.unread ? "unread" : "all",
          items: data ? data.results : []
        });
      }));
    });
    _this.state = {
      unread: false,
      url: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(NotificationsDropdown, [{
    key: "getApiUrl",
    value: function getApiUrl() {
      var url = misago.get("NOTIFICATIONS_API") + "?limit=20";
      url += this.state.unread ? "&filter=unread" : "";
      return url;
    }
  }]);
  return NotificationsDropdown;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/NotificationsDropdown/NotificationsDropdownBody.jsx":
/*!****************************************************************************!*\
  !*** ./src/components/NotificationsDropdown/NotificationsDropdownBody.jsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsDropdownBody)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");



function NotificationsDropdownBody(_ref) {
  var children = _ref.children,
    showAll = _ref.showAll,
    showUnread = _ref.showUnread,
    unread = _ref.unread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-dropdown-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_2__.DropdownHeader, null, pgettext("notifications title", "Notifications")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_2__.DropdownPills, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(NotificationsDropdownBodyPill, {
    active: !unread,
    onClick: showAll
  }, pgettext("notifications dropdown", "All")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(NotificationsDropdownBodyPill, {
    active: unread,
    onClick: showUnread
  }, pgettext("notifications dropdown", "Unread"))), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_2__.DropdownFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    className: "btn btn-default btn-block",
    href: misago.get("NOTIFICATIONS_URL")
  }, pgettext("notifications", "See all notifications"))));
}
function NotificationsDropdownBodyPill(_ref2) {
  var active = _ref2.active,
    children = _ref2.children,
    onClick = _ref2.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn", {
      "btn-primary": active,
      "btn-default": !active
    }),
    type: "button",
    onClick: onClick
  }, children);
}

/***/ }),

/***/ "./src/components/NotificationsDropdown/index.js":
/*!*******************************************************!*\
  !*** ./src/components/NotificationsDropdown/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _NotificationsDropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NotificationsDropdown */ "./src/components/NotificationsDropdown/NotificationsDropdown.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NotificationsDropdown__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/NotificationsFetch/NotificationsFetch.jsx":
/*!******************************************************************!*\
  !*** ./src/components/NotificationsFetch/NotificationsFetch.jsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Api */ "./src/components/Api/index.js");




function NotificationsFetch(_ref) {
  var children = _ref.children,
    filter = _ref.filter,
    query = _ref.query,
    dispatch = _ref.dispatch,
    unreadNotifications = _ref.unreadNotifications,
    disabled = _ref.disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Api__WEBPACK_IMPORTED_MODULE_3__.ApiFetch, {
    url: getApiUrl(filter, query),
    disabled: disabled,
    onData: function onData(data) {
      if (data.unreadNotifications != unreadNotifications) {
        dispatch((0,_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.updateAuthenticatedUser)({
          unreadNotifications: data.unreadNotifications
        }));
      }
    }
  }, function (_ref2) {
    var data = _ref2.data,
      loading = _ref2.loading,
      error = _ref2.error,
      refetch = _ref2.refetch;
    return children({
      data: data,
      loading: loading,
      error: error,
      refetch: refetch
    });
  });
}
function getApiUrl(filter, query) {
  var api = misago.get("NOTIFICATIONS_API") + "?limit=30";
  api += "&filter=" + filter;
  if (query) {
    if (query.after) {
      api += "&after=" + query.after;
    }
    if (query.before) {
      api += "&before=" + query.before;
    }
  }
  return api;
}
function selectState(_ref3) {
  var auth = _ref3.auth;
  if (!auth.user) {
    return {
      unreadNotifications: null
    };
  }
  return {
    unreadNotifications: auth.user.unreadNotifications
  };
}
var NotificationsFetchConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(selectState)(NotificationsFetch);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotificationsFetchConnected);

/***/ }),

/***/ "./src/components/NotificationsFetch/index.js":
/*!****************************************************!*\
  !*** ./src/components/NotificationsFetch/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _NotificationsFetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NotificationsFetch */ "./src/components/NotificationsFetch/NotificationsFetch.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NotificationsFetch__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsList.jsx":
/*!****************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsList.jsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _NotificationsListEmpty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NotificationsListEmpty */ "./src/components/NotificationsList/NotificationsListEmpty.jsx");
/* harmony import */ var _NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationsListGroup */ "./src/components/NotificationsList/NotificationsListGroup.jsx");
/* harmony import */ var _NotificationsListItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NotificationsListItem */ "./src/components/NotificationsList/NotificationsListItem.jsx");




function NotificationsList(_ref) {
  var filter = _ref.filter,
    items = _ref.items;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: items.length > 0 ? "notifications-list-ready" : "notifications-list-pending"
  }, items.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsListEmpty__WEBPACK_IMPORTED_MODULE_1__["default"], {
    filter: filter
  }), items.map(function (notification) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsListItem__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: notification.id,
      notification: notification
    });
  }));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListEmpty.jsx":
/*!*********************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListEmpty.jsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListEmpty)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");


function NotificationsListEmpty(_ref) {
  var filter = _ref.filter;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupEmpty, {
    icon: filter === "unread" ? "sentiment_very_satisfied" : "notifications_none",
    message: emptyMessage(filter)
  });
}
function emptyMessage(filter) {
  if (filter === "read") {
    return pgettext("notifications list", "You don't have any read notifications.");
  } else if (filter === "unread") {
    return pgettext("notifications list", "You don't have any unread notifications.");
  }
  return pgettext("notifications list", "You don't have any notifications.");
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListError.jsx":
/*!*********************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListError.jsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListError)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationsListGroup */ "./src/components/NotificationsList/NotificationsListGroup.jsx");



function NotificationsListError(_ref) {
  var error = _ref.error;
  var detail = errorDetail(error);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "notifications-list-pending"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupError, {
    icon: "notifications_off",
    message: pgettext("notifications list", "Notifications could not be loaded."),
    detail: detail
  }));
}
function errorDetail(error) {
  if (error.status === 0) {
    return gettext("Check your internet connection and try refreshing the site.");
  }
  if (error.data && error.data.detail) {
    return error.data.detail;
  }
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListGroup.jsx":
/*!*********************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListGroup.jsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListGroup)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");



function NotificationsListGroup(_ref) {
  var className = _ref.className,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("notifications-list", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_2__.ListGroup, null, children));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListItem.jsx":
/*!********************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListItem.jsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListItem)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _NotificationsListItemActor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NotificationsListItemActor */ "./src/components/NotificationsList/NotificationsListItemActor.jsx");
/* harmony import */ var _NotificationsListItemMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NotificationsListItemMessage */ "./src/components/NotificationsList/NotificationsListItemMessage.jsx");
/* harmony import */ var _NotificationsListItemReadStatus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NotificationsListItemReadStatus */ "./src/components/NotificationsList/NotificationsListItemReadStatus.jsx");
/* harmony import */ var _NotificationsListItemTimestamp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NotificationsListItemTimestamp */ "./src/components/NotificationsList/NotificationsListItemTimestamp.jsx");







function NotificationsListItem(_ref) {
  var notification = _ref.notification;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_2__.ListGroupItem, {
    key: notification.id,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("notifications-list-item", {
      "notifications-list-item-read": notification.isRead,
      "notifications-list-item-unread": !notification.isRead
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-left-col"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-col-actor"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NotificationsListItemActor__WEBPACK_IMPORTED_MODULE_3__["default"], {
    notification: notification
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-col-read-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NotificationsListItemReadStatus__WEBPACK_IMPORTED_MODULE_5__["default"], {
    notification: notification
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-right-col"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-col-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NotificationsListItemMessage__WEBPACK_IMPORTED_MODULE_4__["default"], {
    notification: notification
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "notifications-list-item-col-timestamp"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_NotificationsListItemTimestamp__WEBPACK_IMPORTED_MODULE_6__["default"], {
    notification: notification
  }))));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListItemActor.jsx":
/*!*************************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListItemActor.jsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListItemActor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");


function NotificationsListItemActor(_ref) {
  var notification = _ref.notification;
  if (!!notification.actor) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: notification.actor.url,
      className: "notifications-list-item-actor",
      title: notification.actor.username
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
      size: 30,
      user: notification.actor
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-poster",
    title: notification.actor_name || null
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 30
  }));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListItemMessage.jsx":
/*!***************************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListItemMessage.jsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListItemMessage)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function NotificationsListItemMessage(_ref) {
  var notification = _ref.notification;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: notification.url,
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("notification-message", {
      "notification-message-read": notification.isRead,
      "notification-message-unread": !notification.isRead
    }),
    dangerouslySetInnerHTML: {
      __html: notification.message
    }
  });
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListItemReadStatus.jsx":
/*!******************************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListItemReadStatus.jsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListItemReadStatus)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function NotificationsListItemReadStatus(_ref) {
  var notification = _ref.notification;
  if (notification.isRead) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "notifications-list-item-read-status",
      title: pgettext("notification status", "Read notification")
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "notification-read-icon"
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "notifications-list-item-read-status",
    title: pgettext("notification status", "Unread notification")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "notification-unread-icon"
  }));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListItemTimestamp.jsx":
/*!*****************************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListItemTimestamp.jsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListItemTimestamp)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Timestamp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Timestamp */ "./src/components/Timestamp/index.js");


function NotificationsListItemTimestamp(_ref) {
  var notification = _ref.notification;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "notifications-list-item-timestamp"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Timestamp__WEBPACK_IMPORTED_MODULE_1__["default"], {
    datetime: notification.createdAt
  }));
}

/***/ }),

/***/ "./src/components/NotificationsList/NotificationsListLoading.jsx":
/*!***********************************************************************!*\
  !*** ./src/components/NotificationsList/NotificationsListLoading.jsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsListLoading)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationsListGroup */ "./src/components/NotificationsList/NotificationsListGroup.jsx");



function NotificationsListLoading() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotificationsListGroup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "notifications-list-pending"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupLoading, {
    message: pgettext("notifications list", "Loading notifications...")
  }));
}

/***/ }),

/***/ "./src/components/NotificationsList/index.js":
/*!***************************************************!*\
  !*** ./src/components/NotificationsList/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotificationsList": () => (/* reexport safe */ _NotificationsList__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "NotificationsListError": () => (/* reexport safe */ _NotificationsListError__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "NotificationsListLoading": () => (/* reexport safe */ _NotificationsListLoading__WEBPACK_IMPORTED_MODULE_2__["default"])
/* harmony export */ });
/* harmony import */ var _NotificationsList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NotificationsList */ "./src/components/NotificationsList/NotificationsList.jsx");
/* harmony import */ var _NotificationsListError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NotificationsListError */ "./src/components/NotificationsList/NotificationsListError.jsx");
/* harmony import */ var _NotificationsListLoading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationsListLoading */ "./src/components/NotificationsList/NotificationsListLoading.jsx");





/***/ }),

/***/ "./src/components/NotificationsOverlay/NotificationsOverlay.jsx":
/*!**********************************************************************!*\
  !*** ./src/components/NotificationsOverlay/NotificationsOverlay.jsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _NotificationsFetch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../NotificationsFetch */ "./src/components/NotificationsFetch/index.js");
/* harmony import */ var _NotificationsList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../NotificationsList */ "./src/components/NotificationsList/index.js");
/* harmony import */ var _NotificationsOverlayBody__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NotificationsOverlayBody */ "./src/components/NotificationsOverlay/NotificationsOverlayBody.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var NotificationsOverlay = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(NotificationsOverlay, _React$Component);
  var _super = _createSuper(NotificationsOverlay);
  function NotificationsOverlay(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, NotificationsOverlay);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsOverlayBody__WEBPACK_IMPORTED_MODULE_11__["default"], {
        open: _this.props.open,
        unread: _this.state.unread,
        showAll: function showAll() {
          return _this.setState({
            unread: false
          });
        },
        showUnread: function showUnread() {
          return _this.setState({
            unread: true
          });
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsFetch__WEBPACK_IMPORTED_MODULE_9__["default"], {
        filter: _this.state.unread ? "unread" : "all",
        disabled: !_this.props.open
      }, function (_ref) {
        var data = _ref.data,
          loading = _ref.loading,
          error = _ref.error;
        if (loading) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_10__.NotificationsListLoading, null);
        }
        if (error) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_10__.NotificationsListError, {
            error: error
          });
        }
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_NotificationsList__WEBPACK_IMPORTED_MODULE_10__.NotificationsList, {
          filter: _this.state.unread ? "unread" : "all",
          items: data ? data.results : []
        });
      }));
    });
    _this.body = document.body;
    _this.state = {
      unread: false,
      url: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(NotificationsOverlay, [{
    key: "getApiUrl",
    value: function getApiUrl() {
      var url = misago.get("NOTIFICATIONS_API") + "?limit=20";
      url += this.state.unread ? "&filter=unread" : "";
      return url;
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevProps.open !== this.props.open) {
        if (this.props.open) {
          this.body.classList.add("notifications-fullscreen");
        } else {
          this.body.classList.remove("notifications-fullscreen");
        }
      }
    }
  }]);
  return NotificationsOverlay;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
function select(state) {
  return {
    open: state.overlay.notifications
  };
}
var NotificationsOverlayConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(NotificationsOverlay);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotificationsOverlayConnected);

/***/ }),

/***/ "./src/components/NotificationsOverlay/NotificationsOverlayBody.jsx":
/*!**************************************************************************!*\
  !*** ./src/components/NotificationsOverlay/NotificationsOverlayBody.jsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotificationsOverlayBody)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _Overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Overlay */ "./src/components/Overlay/index.js");




function NotificationsOverlayBody(_ref) {
  var children = _ref.children,
    open = _ref.open,
    showAll = _ref.showAll,
    showUnread = _ref.showUnread,
    unread = _ref.unread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_3__.Overlay, {
    open: open
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_3__.OverlayHeader, null, pgettext("notifications title", "Notifications")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_2__.DropdownPills, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(NotificationsOverlayBodyPill, {
    active: !unread,
    onClick: showAll
  }, pgettext("notifications dropdown", "All")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(NotificationsOverlayBodyPill, {
    active: unread,
    onClick: showUnread
  }, pgettext("notifications dropdown", "Unread"))), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_2__.DropdownFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    className: "btn btn-default btn-block",
    href: misago.get("NOTIFICATIONS_URL")
  }, pgettext("notifications", "See all notifications"))));
}
function NotificationsOverlayBodyPill(_ref2) {
  var active = _ref2.active,
    children = _ref2.children,
    onClick = _ref2.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn", {
      "btn-primary": active,
      "btn-default": !active
    }),
    type: "button",
    onClick: onClick
  }, children);
}

/***/ }),

/***/ "./src/components/NotificationsOverlay/index.js":
/*!******************************************************!*\
  !*** ./src/components/NotificationsOverlay/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _NotificationsOverlay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NotificationsOverlay */ "./src/components/NotificationsOverlay/NotificationsOverlay.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_NotificationsOverlay__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/Overlay/Overlay.jsx":
/*!********************************************!*\
  !*** ./src/components/Overlay/Overlay.jsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var BODY_CLASS = "has-overlay";
var Overlay = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Overlay, _React$Component);
  var _super = _createSuper(Overlay);
  function Overlay(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Overlay);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "closeOnNavigation", function (event) {
      if (event.target.closest("a")) {
        _this.props.dispatch((0,_reducers_overlay__WEBPACK_IMPORTED_MODULE_10__.close)());
      }
    });
    _this.scrollOrigin = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Overlay, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.open !== this.props.open) {
        if (this.props.open) {
          this.scrollOrigin = window.pageYOffset;
          document.body.classList.add(BODY_CLASS);
          if (this.props.onOpen) {
            this.props.onOpen();
          }
        } else {
          document.body.classList.remove(BODY_CLASS);
          window.scrollTo(0, this.scrollOrigin);
          this.scrollOrigin = null;
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_7___default()("overlay", this.props.className, {
          "overlay-open": this.props.open
        }),
        onClick: this.closeOnNavigation
      }, this.props.children);
    }
  }]);
  return Overlay;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var OverlayConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_9__.connect)()(Overlay);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OverlayConnected);

/***/ }),

/***/ "./src/components/Overlay/OverlayHeader.jsx":
/*!**************************************************!*\
  !*** ./src/components/Overlay/OverlayHeader.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OverlayHeader": () => (/* binding */ OverlayHeader),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");



function OverlayHeader(_ref) {
  var children = _ref.children,
    dispatch = _ref.dispatch;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "overlay-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "overlay-header-caption"
  }, children), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-overlay-close",
    title: pgettext("modal", "Close"),
    type: "button",
    onClick: function onClick() {
      return dispatch((0,_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.close)());
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "close")));
}
var OverlayHeaderConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)()(OverlayHeader);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OverlayHeaderConnected);

/***/ }),

/***/ "./src/components/Overlay/index.js":
/*!*****************************************!*\
  !*** ./src/components/Overlay/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Overlay": () => (/* reexport safe */ _Overlay__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "OverlayHeader": () => (/* reexport safe */ _OverlayHeader__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _Overlay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Overlay */ "./src/components/Overlay/Overlay.jsx");
/* harmony import */ var _OverlayHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OverlayHeader */ "./src/components/Overlay/OverlayHeader.jsx");




/***/ }),

/***/ "./src/components/PageContainer.jsx":
/*!******************************************!*\
  !*** ./src/components/PageContainer.jsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PageContainer = function PageContainer(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container page-container"
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageContainer);

/***/ }),

/***/ "./src/components/PageHeader/PageHeader.jsx":
/*!**************************************************!*\
  !*** ./src/components/PageHeader/PageHeader.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeader = function PageHeader(_ref) {
  var children = _ref.children,
    className = _ref.className,
    styleName = _ref.styleName;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header", className, styleName && "page-header-" + styleName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-bg-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-bg-overlay"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-image"
  }), children)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeader);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderBanner.jsx":
/*!********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderBanner.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderBanner = function PageHeaderBanner(_ref) {
  var children = _ref.children,
    className = _ref.className,
    styleName = _ref.styleName;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-banner", className, styleName && "page-header-banner-" + styleName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-banner-bg-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-banner-bg-overlay"
  }, children)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderBanner);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderContainer.jsx":
/*!***********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderContainer.jsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PageHeaderContainer = function PageHeaderContainer(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container page-header-container"
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderContainer);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderDetails.jsx":
/*!*********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderDetails.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderDetails = function PageHeaderDetails(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-details", className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderDetails);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderHTMLMessage.jsx":
/*!*************************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderHTMLMessage.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderHTMLMessage = function PageHeaderHTMLMessage(_ref) {
  var className = _ref.className,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-message", className),
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderHTMLMessage);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderMessage.jsx":
/*!*********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderMessage.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderMessage = function PageHeaderMessage(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-message", className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderMessage);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderPlain.jsx":
/*!*******************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderPlain.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageHeader */ "./src/components/PageHeader/PageHeader.jsx");
/* harmony import */ var _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageHeaderBanner */ "./src/components/PageHeader/PageHeaderBanner.jsx");
/* harmony import */ var _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageHeaderContainer */ "./src/components/PageHeader/PageHeaderContainer.jsx");
/* harmony import */ var _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PageHeaderDetails */ "./src/components/PageHeader/PageHeaderDetails.jsx");





var PageHeaderPlain = function PageHeaderPlain(_ref) {
  var styleName = _ref.styleName,
    header = _ref.header,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderContainer__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__["default"], {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderBanner__WEBPACK_IMPORTED_MODULE_2__["default"], {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, header)), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderDetails__WEBPACK_IMPORTED_MODULE_4__["default"], {
    styleName: styleName
  }, message)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageHeaderPlain);

/***/ }),

/***/ "./src/components/PageHeader/index.js":
/*!********************************************!*\
  !*** ./src/components/PageHeader/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageHeader": () => (/* reexport safe */ _PageHeader__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "PageHeaderBanner": () => (/* reexport safe */ _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "PageHeaderContainer": () => (/* reexport safe */ _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "PageHeaderDetails": () => (/* reexport safe */ _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "PageHeaderHTMLMessage": () => (/* reexport safe */ _PageHeaderHTMLMessage__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "PageHeaderMessage": () => (/* reexport safe */ _PageHeaderMessage__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   "PageHeaderPlain": () => (/* reexport safe */ _PageHeaderPlain__WEBPACK_IMPORTED_MODULE_6__["default"])
/* harmony export */ });
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageHeader */ "./src/components/PageHeader/PageHeader.jsx");
/* harmony import */ var _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageHeaderBanner */ "./src/components/PageHeader/PageHeaderBanner.jsx");
/* harmony import */ var _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageHeaderContainer */ "./src/components/PageHeader/PageHeaderContainer.jsx");
/* harmony import */ var _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageHeaderDetails */ "./src/components/PageHeader/PageHeaderDetails.jsx");
/* harmony import */ var _PageHeaderHTMLMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PageHeaderHTMLMessage */ "./src/components/PageHeader/PageHeaderHTMLMessage.jsx");
/* harmony import */ var _PageHeaderMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PageHeaderMessage */ "./src/components/PageHeader/PageHeaderMessage.jsx");
/* harmony import */ var _PageHeaderPlain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PageHeaderPlain */ "./src/components/PageHeader/PageHeaderPlain.jsx");









/***/ }),

/***/ "./src/components/PageTitle/PageTitle.jsx":
/*!************************************************!*\
  !*** ./src/components/PageTitle/PageTitle.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PageTitle)
/* harmony export */ });
function PageTitle(_ref) {
  var title = _ref.title,
    subtitle = _ref.subtitle;
  var parts = [];
  if (subtitle) {
    parts.push(subtitle);
  }
  if (title) {
    parts.push(title);
  }
  parts.push(misago.get("SETTINGS").forum_name);
  document.title = parts.join(" | ");
  return null;
}

/***/ }),

/***/ "./src/components/PageTitle/index.js":
/*!*******************************************!*\
  !*** ./src/components/PageTitle/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PageTitle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageTitle */ "./src/components/PageTitle/PageTitle.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_PageTitle__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/PillsNav/PillsNav.jsx":
/*!**********************************************!*\
  !*** ./src/components/PillsNav/PillsNav.jsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PillsNav)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function PillsNav(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "nav nav-pills"
  }, children);
}

/***/ }),

/***/ "./src/components/PillsNav/PillsNavLink.jsx":
/*!**************************************************!*\
  !*** ./src/components/PillsNav/PillsNavLink.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PillsNavLink)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");



function PillsNavLink(_ref) {
  var active = _ref.active,
    link = _ref.link,
    icon = _ref.icon,
    children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()({
      active: active
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.Link, {
    to: link,
    activeClassName: ""
  }, !!icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, icon), children));
}

/***/ }),

/***/ "./src/components/PillsNav/index.js":
/*!******************************************!*\
  !*** ./src/components/PillsNav/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PillsNav": () => (/* reexport safe */ _PillsNav__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "PillsNavLink": () => (/* reexport safe */ _PillsNavLink__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _PillsNav__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PillsNav */ "./src/components/PillsNav/PillsNav.jsx");
/* harmony import */ var _PillsNavLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PillsNavLink */ "./src/components/PillsNav/PillsNavLink.jsx");




/***/ }),

/***/ "./src/components/RegisterButton/RegisterButton.jsx":
/*!**********************************************************!*\
  !*** ./src/components/RegisterButton/RegisterButton.jsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RegisterButton)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_captcha__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/captcha */ "./src/services/captcha.js");
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../loader */ "./src/components/loader.js");
/* harmony import */ var _register_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../register.js */ "./src/components/register.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var RegisterButton = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(RegisterButton, _React$Component);
  var _super = _createSuper(RegisterButton);
  function RegisterButton(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, RegisterButton);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showRegisterForm", function () {
      if (_this.props.onClick) {
        _this.props.onClick();
      }
      if (misago.get("SETTINGS").account_activation === "closed") {
        _services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(pgettext("register form", "Registration form is currently disabled by the site administrator."));
      } else if (_this.state.isLoaded) {
        _services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_register_js__WEBPACK_IMPORTED_MODULE_14__["default"], {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({
          isLoading: true
        });
        Promise.all([_services_captcha__WEBPACK_IMPORTED_MODULE_10__["default"].load(), _services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });
          _services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_register_js__WEBPACK_IMPORTED_MODULE_14__["default"], {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({
            isLoading: false
          });
          _services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(pgettext("register form", "Registration form is currently unavailable due to an error."));
        });
      }
    });
    _this.state = {
      isLoading: false,
      isLoaded: false,
      criteria: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(RegisterButton, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: classnames__WEBPACK_IMPORTED_MODULE_7___default()("btn btn-register", this.props.className, {
          "btn-block": this.props.block,
          "btn-loading": this.state.isLoading
        }),
        disabled: this.state.isLoading,
        onClick: this.showRegisterForm,
        type: "button"
      }, pgettext("cta", "Register"), this.state.isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null) : null);
    }
  }]);
  return RegisterButton;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/RegisterButton/index.js":
/*!************************************************!*\
  !*** ./src/components/RegisterButton/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _RegisterButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RegisterButton */ "./src/components/RegisterButton/RegisterButton.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_RegisterButton__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/RegisterLegalFootnote.js":
/*!*************************************************!*\
  !*** ./src/components/RegisterLegalFootnote.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");



var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';
var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
    privacyPolicy = props.privacyPolicy,
    termsOfService = props.termsOfService,
    onPrivacyPolicyChange = props.onPrivacyPolicyChange,
    onTermsOfServiceChange = props.onTermsOfServiceChange;
  var termsOfServiceId = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("TERMS_OF_SERVICE_ID");
  var termsOfServiceUrl = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("TERMS_OF_SERVICE_URL");
  var privacyPolicyId = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("PRIVACY_POLICY_ID");
  var privacyPolicyUrl = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("PRIVACY_POLICY_URL");
  if (!termsOfServiceId && !privacyPolicyId) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LegalAgreement, {
    agreement: pgettext("register form agreement prompt", "the terms of service"),
    checked: termsOfService !== null,
    errors: errors.termsOfService,
    url: termsOfServiceUrl,
    value: termsOfServiceId,
    onChange: onTermsOfServiceChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LegalAgreement, {
    agreement: pgettext("register form agreement prompt", "the privacy policy"),
    checked: privacyPolicy !== null,
    errors: errors.privacyPolicy,
    url: privacyPolicyUrl,
    value: privacyPolicyId,
    onChange: onPrivacyPolicyChange
  }));
};
var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
    checked = props.checked,
    errors = props.errors,
    url = props.url,
    value = props.value,
    onChange = props.onChange;
  if (!url) return null;
  var agreementHtml = interpolate(AGREEMENT_URL, {
    agreement: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(agreement),
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(url)
  }, true);
  var label = interpolate(pgettext("register form agreement prompt", "I have read and accept %(agreement)s."), {
    agreement: agreementHtml
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "checkbox legal-footnote"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {
    checked: checked,
    type: "checkbox",
    value: value,
    onChange: onChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    dangerouslySetInnerHTML: {
      __html: label
    }
  })), errors && errors.map(function (error, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "help-block errors",
      key: i
    }, error);
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RegisterLegalFootnote);

/***/ }),

/***/ "./src/components/SignInButton/SignInButton.jsx":
/*!******************************************************!*\
  !*** ./src/components/SignInButton/SignInButton.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SignInButton)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _sign_in__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sign-in */ "./src/components/sign-in.js");




function SignInButton(_ref) {
  var block = _ref.block,
    className = _ref.className,
    _onClick = _ref.onClick;
  var settings = misago.get("SETTINGS");
  if (settings.DELEGATE_AUTH) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-sign-in", className, {
        "btn-block": block
      }),
      href: settings.LOGIN_URL,
      onClick: function onClick() {
        if (_onClick) {
          _onClick();
        }
      }
    }, pgettext("cta", "Sign in"));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-sign-in", className, {
      "btn-block": block
    }),
    href: settings.LOGIN_URL,
    onClick: function onClick(event) {
      event.preventDefault();
      if (_onClick) {
        _onClick();
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sign_in__WEBPACK_IMPORTED_MODULE_3__["default"], null));
    }
  }, pgettext("cta", "Sign in"));
}

/***/ }),

/***/ "./src/components/SignInButton/index.js":
/*!**********************************************!*\
  !*** ./src/components/SignInButton/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _SignInButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SignInButton */ "./src/components/SignInButton/SignInButton.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_SignInButton__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/SignInModalAutoOpen.js":
/*!***********************************************!*\
  !*** ./src/components/SignInModalAutoOpen.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/modal */ "./src/services/modal.js");
/* harmony import */ var _sign_in__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sign-in */ "./src/components/sign-in.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var SignInModalAutoOpen = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(SignInModalAutoOpen, _React$Component);
  var _super = _createSuper(SignInModalAutoOpen);
  function SignInModalAutoOpen() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SignInModalAutoOpen);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SignInModalAutoOpen, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var query = window.document.location.search;
      if (query === "?modal=login") {
        window.setTimeout(function () {
          return _services_modal__WEBPACK_IMPORTED_MODULE_6__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_sign_in__WEBPACK_IMPORTED_MODULE_7__["default"], null));
        }, 300);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);
  return SignInModalAutoOpen;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SignInModalAutoOpen);

/***/ }),

/***/ "./src/components/SiteNav/SiteNavDropdown.jsx":
/*!****************************************************!*\
  !*** ./src/components/SiteNav/SiteNavDropdown.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SiteNavDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SiteNavMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SiteNavMenu */ "./src/components/SiteNav/SiteNavMenu.jsx");


function SiteNavDropdown(_ref) {
  var close = _ref.close;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SiteNavMenu__WEBPACK_IMPORTED_MODULE_1__["default"], {
    close: close,
    dropdown: true
  });
}

/***/ }),

/***/ "./src/components/SiteNav/SiteNavMenu.jsx":
/*!************************************************!*\
  !*** ./src/components/SiteNav/SiteNavMenu.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _RegisterButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../RegisterButton */ "./src/components/RegisterButton/index.js");
/* harmony import */ var _SignInButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../SignInButton */ "./src/components/SignInButton/index.js");






function SiteNavMenu(_ref) {
  var isAnonymous = _ref.isAnonymous,
    close = _ref.close,
    dropdown = _ref.dropdown,
    overlay = _ref.overlay;
  var baseUrl = misago.get("MISAGO_PATH");
  var settings = misago.get("SETTINGS");
  var mainItems = misago.get("main_menu");
  var extraItems = misago.get("extraMenuItems");
  var extraFooterItems = misago.get("extraFooterItems");
  var categories = misago.get("categories_menu");
  var users = misago.get("usersLists");
  var authDelegated = settings.enable_oauth2_client;
  var topNav = [];
  mainItems.forEach(function (item) {
    topNav.push({
      title: item.label,
      url: item.url
    });
  });
  topNav.push({
    title: pgettext("site nav", "Search"),
    url: baseUrl + "search/"
  });
  var footerNav = [];
  var tosTitle = misago.get("TERMS_OF_SERVICE_TITLE");
  var tosUrl = misago.get("TERMS_OF_SERVICE_URL");
  if (tosTitle && tosUrl) {
    footerNav.push({
      title: tosTitle,
      url: tosUrl
    });
  }
  var privacyTitle = misago.get("PRIVACY_POLICY_TITLE");
  var privacyUrl = misago.get("PRIVACY_POLICY_URL");
  if (privacyTitle && privacyUrl) {
    footerNav.push({
      title: privacyTitle,
      url: privacyUrl
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("site-nav-menu", {
      "dropdown-menu-list": dropdown,
      "overlay-menu-list": overlay
    })
  }, isAnonymous && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownHeader, {
    className: "site-nav-sign-in-message"
  }, pgettext("cta", "You are not signed in")), isAnonymous && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownPills, {
    className: "site-nav-sign-in-options"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_SignInButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: close
  }), !authDelegated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_RegisterButton__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: close
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownSubheader, null, settings.forum_name), topNav.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      key: item.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: item.url
    }, item.title));
  }), extraItems.map(function (item, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      key: index,
      className: item.className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: item.url,
      target: item.targetBlank ? "_blank" : null,
      rel: item.rel
    }, item.title));
  }), !!users.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownDivider, {
    className: "site-nav-users-divider"
  }), !!users.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownSubheader, {
    className: "site-nav-users"
  }, pgettext("site nav section", "Users")), users.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      key: item.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: item.url
    }, item.name));
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownDivider, {
    className: "site-nav-categories-divider"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownSubheader, {
    className: "site-nav-categories"
  }, pgettext("site nav section", "Categories")), categories.map(function (category) {
    return category.is_vanilla ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      className: "site-nav-category-header",
      key: category.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: category.url
    }, category.name)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("site-nav-category", {
        "site-nav-category-last": category.last
      }),
      key: category.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: category.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", null, category.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("threads-list-item-category threads-list-category-label", {
        "threads-list-category-label-color": !!category.color
      }),
      style: {
        "--label-color": category.color
      }
    }, category.short_name || category.name)));
  }), (!!footerNav.length || !!extraFooterItems.length) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownDivider, {
    className: "site-nav-footer-divider"
  }), (!!footerNav.length || !!extraFooterItems.length) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownSubheader, {
    className: "site-nav-footer"
  }, pgettext("site nav section", "Footer")), extraFooterItems.map(function (item, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      key: index,
      className: item.className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: item.url,
      target: item.targetBlank ? "_blank" : null,
      rel: item.rel
    }, item.title));
  }), footerNav.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {
      key: item.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
      href: item.url
    }, item.title));
  }));
}
function select(state) {
  return {
    isAnonymous: !state.auth.user.id
  };
}
var SiteNavMenuConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)(select)(SiteNavMenu);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SiteNavMenuConnected);

/***/ }),

/***/ "./src/components/SiteNav/SiteNavOverlay.jsx":
/*!***************************************************!*\
  !*** ./src/components/SiteNav/SiteNavOverlay.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SiteNavOverlay": () => (/* binding */ SiteNavOverlay),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");
/* harmony import */ var _Overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Overlay */ "./src/components/Overlay/index.js");
/* harmony import */ var _SiteNavMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SiteNavMenu */ "./src/components/SiteNav/SiteNavMenu.jsx");





function SiteNavOverlay(_ref) {
  var dispatch = _ref.dispatch,
    isOpen = _ref.isOpen;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_3__.Overlay, {
    open: isOpen
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_3__.OverlayHeader, null, pgettext("site nav title", "Menu")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SiteNavMenu__WEBPACK_IMPORTED_MODULE_4__["default"], {
    close: function close() {
      return dispatch((0,_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.close)());
    },
    overlay: true
  }));
}
function select(state) {
  return {
    isOpen: state.overlay.siteNav
  };
}
var SiteNavOverlayConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(select)(SiteNavOverlay);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SiteNavOverlayConnected);

/***/ }),

/***/ "./src/components/SiteNav/index.js":
/*!*****************************************!*\
  !*** ./src/components/SiteNav/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SiteNavDropdown": () => (/* reexport safe */ _SiteNavDropdown__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "SiteNavMenu": () => (/* reexport safe */ _SiteNavMenu__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "SiteNavOverlay": () => (/* reexport safe */ _SiteNavOverlay__WEBPACK_IMPORTED_MODULE_2__["default"])
/* harmony export */ });
/* harmony import */ var _SiteNavMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SiteNavMenu */ "./src/components/SiteNav/SiteNavMenu.jsx");
/* harmony import */ var _SiteNavDropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SiteNavDropdown */ "./src/components/SiteNav/SiteNavDropdown.jsx");
/* harmony import */ var _SiteNavOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SiteNavOverlay */ "./src/components/SiteNav/SiteNavOverlay.jsx");





/***/ }),

/***/ "./src/components/StartSocialAuth.js":
/*!*******************************************!*\
  !*** ./src/components/StartSocialAuth.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
    buttonLabel = props.buttonLabel,
    formLabel = props.formLabel,
    header = props.header,
    labelClassName = props.labelClassName;
  var socialAuth = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SOCIAL_AUTH");
  if (socialAuth.length === 0) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-group form-social-auth"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormHeader, {
    className: labelClassName,
    text: header
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, socialAuth.map(function (_ref) {
    var pk = _ref.pk,
      name = _ref.name,
      button_text = _ref.button_text,
      button_color = _ref.button_color,
      url = _ref.url;
    var className = "btn btn-block btn-default btn-social-" + pk;
    var style = button_color ? {
      color: button_color
    } : null;
    var finalButtonLabel = button_text || interpolate(buttonLabel, {
      site: name
    }, true);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: buttonClassName || "col-xs-12",
      key: pk
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      style: style,
      href: url
    }, finalButtonLabel));
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormHeader, {
    className: labelClassName,
    text: formLabel
  }));
};
var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
    text = _ref2.text;
  if (!text) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", {
    className: className || ""
  }, text);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StartSocialAuth);

/***/ }),

/***/ "./src/components/ThreadFlags.jsx":
/*!****************************************!*\
  !*** ./src/components/ThreadFlags.jsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadFlags = function ThreadFlags(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "thread-flags"
  }, thread.weight == 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-pinned-globally",
    title: pgettext("thread flag", "Pinned globally")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark")), thread.weight == 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-pinned-locally",
    title: pgettext("thread flag", "Pinned in category")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark_outline")), thread.best_answer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-answered",
    title: pgettext("thread flag", "Answered")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_circle")), thread.has_poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-poll",
    title: pgettext("thread flag", "Poll")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "poll")), (thread.is_unapproved || thread.has_unapproved_posts) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-unapproved",
    title: thread.is_unapproved ? pgettext("thread flag", "Awaiting approval") : pgettext("thread flag", "Has unapproved posts")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility")), thread.is_closed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-closed",
    title: pgettext("thread flag", "Closed")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock")), thread.is_hidden && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-hidden",
    title: pgettext("thread flag", "Hidden")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility_off")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadFlags);

/***/ }),

/***/ "./src/components/ThreadReplies.jsx":
/*!******************************************!*\
  !*** ./src/components/ThreadReplies.jsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadReplies = function ThreadReplies(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-replies",
    title: interpolate(npgettext("thread replies stat", "%(replies)s reply", "%(replies)s replies", thread.replies), {
      replies: thread.replies
    }, true)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chat_bubble_outline"), thread.replies > 980 ? Math.round(thread.replies / 1000) + "K" : thread.replies);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadReplies);

/***/ }),

/***/ "./src/components/ThreadStarterCard.jsx":
/*!**********************************************!*\
  !*** ./src/components/ThreadStarterCard.jsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./avatar */ "./src/components/avatar.js");


var ThreadStarterCard = function ThreadStarterCard(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-media"
  }, thread.starter ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: thread.url.starter
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 40,
    user: thread.starter
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 40
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-header"
  }, thread.starter ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: thread.url.starter,
    title: pgettext("thread starter info", "Thread author")
  }, thread.starter.username) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title",
    title: pgettext("thread starter info", "Thread author")
  }, thread.starter_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "text-muted",
    title: interpolate(pgettext("thread starter info", "Started on: %(timestamp)s"), {
      timestamp: thread.started_on.format("LLL")
    }, true)
  }, thread.started_on.fromNow()))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadStarterCard);

/***/ }),

/***/ "./src/components/Timestamp/Timestamp.jsx":
/*!************************************************!*\
  !*** ./src/components/Timestamp/Timestamp.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _formats__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../formats */ "./src/formats.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var Timestamp = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Timestamp, _React$Component);
  var _super = _createSuper(Timestamp);
  function Timestamp(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Timestamp);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "scheduleNextUpdate", function () {
      var now = new Date();
      var diff = Math.ceil(Math.abs(Math.round((_this.date - now) / 1000)));
      if (diff < 3600) {
        _this.timeout = window.setTimeout(function () {
          _this.setState(tick);
          _this.scheduleNextUpdate();
        }, 50 * 1000 // Update every 50 seconds
        );
      } else if (diff < 3600 * 24) {
        _this.timeout = window.setTimeout(function () {
          _this.setState(tick);
        }, 40 * 60 * 1000 // Update every 40 minutes
        );
      }
    });
    _this.state = {
      tick: 0
    };
    _this.date = new Date(props.datetime);
    _this.timeout = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Timestamp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.scheduleNextUpdate();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.timeout) {
        window.clearTimeout(this.timeout);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var displayed = this.props.narrow ? (0,_formats__WEBPACK_IMPORTED_MODULE_8__.dateRelativeShort)(this.date) : (0,_formats__WEBPACK_IMPORTED_MODULE_8__.dateRelative)(this.date);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("attr", {
        title: this.props.title ? this.props.title.replace("%(timestamp)s", _formats__WEBPACK_IMPORTED_MODULE_8__.fullDateTime.format(this.date)) : _formats__WEBPACK_IMPORTED_MODULE_8__.fullDateTime.format(this.date)
      }, displayed);
    }
  }]);
  return Timestamp;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
function tick(state) {
  return {
    tick: state.tick + 1
  };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Timestamp);

/***/ }),

/***/ "./src/components/Timestamp/index.js":
/*!*******************************************!*\
  !*** ./src/components/Timestamp/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Timestamp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Timestamp */ "./src/components/Timestamp/Timestamp.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Timestamp__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/Toolbar/Toolbar.jsx":
/*!********************************************!*\
  !*** ./src/components/Toolbar/Toolbar.jsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var Toolbar = function Toolbar(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("nav", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar", className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Toolbar);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarItem.jsx":
/*!************************************************!*\
  !*** ./src/components/Toolbar/ToolbarItem.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarItem = function ToolbarItem(_ref) {
  var children = _ref.children,
    className = _ref.className,
    shrink = _ref.shrink;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-item", className, {
      "toolbar-item-shrink": shrink
    })
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolbarItem);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarSection.jsx":
/*!***************************************************!*\
  !*** ./src/components/Toolbar/ToolbarSection.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarSection = function ToolbarSection(_ref) {
  var auto = _ref.auto,
    children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-section", {
      "toolbar-section-auto": auto
    }, className)
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolbarSection);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarSpacer.jsx":
/*!**************************************************!*\
  !*** ./src/components/Toolbar/ToolbarSpacer.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarSpacer = function ToolbarSpacer(_ref) {
  var className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-spacer", className)
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolbarSpacer);

/***/ }),

/***/ "./src/components/Toolbar/index.js":
/*!*****************************************!*\
  !*** ./src/components/Toolbar/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Toolbar": () => (/* reexport safe */ _Toolbar__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "ToolbarItem": () => (/* reexport safe */ _ToolbarItem__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "ToolbarSection": () => (/* reexport safe */ _ToolbarSection__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "ToolbarSpacer": () => (/* reexport safe */ _ToolbarSpacer__WEBPACK_IMPORTED_MODULE_3__["default"])
/* harmony export */ });
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Toolbar */ "./src/components/Toolbar/Toolbar.jsx");
/* harmony import */ var _ToolbarItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ToolbarItem */ "./src/components/Toolbar/ToolbarItem.jsx");
/* harmony import */ var _ToolbarSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ToolbarSection */ "./src/components/Toolbar/ToolbarSection.jsx");
/* harmony import */ var _ToolbarSpacer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToolbarSpacer */ "./src/components/Toolbar/ToolbarSpacer.jsx");






/***/ }),

/***/ "./src/components/UserNav/UserNavDropdown.jsx":
/*!****************************************************!*\
  !*** ./src/components/UserNav/UserNavDropdown.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ UserNavDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _UserNavMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserNavMenu */ "./src/components/UserNav/UserNavMenu.jsx");


function UserNavDropdown(_ref) {
  var close = _ref.close;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserNavMenu__WEBPACK_IMPORTED_MODULE_1__["default"], {
    close: close,
    dropdown: true
  });
}

/***/ }),

/***/ "./src/components/UserNav/UserNavMenu.jsx":
/*!************************************************!*\
  !*** ./src/components/UserNav/UserNavMenu.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _change_avatar_root__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../change-avatar/root */ "./src/components/change-avatar/root.js");
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _logout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./logout */ "./src/components/UserNav/logout.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var UserNavMenu = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(UserNavMenu, _React$Component);
  var _super = _createSuper(UserNavMenu);
  function UserNavMenu(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, UserNavMenu);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "changeAvatar", function () {
      _this.props.close();
      _services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_10__.connect)(_change_avatar_root__WEBPACK_IMPORTED_MODULE_12__.select)(_change_avatar_root__WEBPACK_IMPORTED_MODULE_12__["default"]));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "revealOptions", function () {
      _this.setState({
        options: _this.props.options,
        optionsMore: false
      });
    });
    if (props.dropdown) {
      // Collapse options on dropdown
      _this.state = {
        options: props.options.slice(0, 2),
        optionsMore: props.options.length > 2
      };
    } else {
      // Reveal all options on mobile overlay
      _this.state = {
        options: props.options,
        optionsMore: false
      };
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(UserNavMenu, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        user = _this$props.user,
        close = _this$props.close,
        dropdown = _this$props.dropdown,
        overlay = _this$props.overlay;
      if (!user) {
        return null;
      }
      var adminUrl = misago.get("ADMIN_URL");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("ul", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()("user-nav-menu", {
          "dropdown-menu-list": dropdown,
          "overlay-menu-list": overlay
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("li", {
        className: "dropdown-menu-item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("a", {
        href: user.url,
        className: "user-nav-profile"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("strong", null, user.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("small", null, pgettext("user nav", "Go to your profile")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownDivider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("a", {
        href: misago.get("NOTIFICATIONS_URL")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "material-icon"
      }, user.unreadNotifications ? "notifications_active" : "notifications_none"), pgettext("user nav", "Notifications"), !!user.unreadNotifications && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "badge"
      }, user.unreadNotifications))), !!user.showPrivateThreads && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("a", {
        href: misago.get("PRIVATE_THREADS_URL")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "material-icon"
      }, "inbox"), pgettext("user nav", "Private threads"), !!user.unreadPrivateThreads && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "badge"
      }, user.unreadPrivateThreads))), !!adminUrl && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("a", {
        href: adminUrl,
        target: "_blank"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "material-icon"
      }, "security"), pgettext("user nav", "Admin control panel"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownDivider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownSubheader, {
        className: "user-nav-options"
      }, pgettext("user nav section", "Account settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("button", {
        className: "btn-link",
        onClick: this.changeAvatar,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "material-icon"
      }, "portrait"), pgettext("user nav", "Change avatar"))), this.state.options.map(function (item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, {
          key: item.icon
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("a", {
          href: item.url
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
          className: "material-icon"
        }, item.icon), item.name));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownMenuItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("button", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()("btn-link", {
          "d-none": !this.state.optionsMore
        }),
        onClick: this.revealOptions,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("span", {
        className: "material-icon"
      }, "more_vertical"), pgettext("user nav", "See more"))), !!dropdown && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_13__.DropdownFooter, {
        listItem: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement("button", {
        className: "btn btn-default btn-block",
        onClick: function onClick() {
          (0,_logout__WEBPACK_IMPORTED_MODULE_14__["default"])();
          close();
        },
        type: "button"
      }, pgettext("user nav", "Log out"))));
    }
  }]);
  return UserNavMenu;
}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));
function select(state) {
  var user = state.auth.user;
  if (!user.id) {
    return {
      user: null
    };
  }
  return {
    user: {
      username: user.username,
      unreadNotifications: user.unreadNotifications,
      unreadPrivateThreads: user.unread_private_threads,
      showPrivateThreads: user.acl.can_use_private_threads,
      url: user.url
    },
    options: (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(misago.get("userOptions"))
  };
}
var UserNavMenuConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.connect)(select)(UserNavMenu);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserNavMenuConnected);

/***/ }),

/***/ "./src/components/UserNav/UserNavOverlay.jsx":
/*!***************************************************!*\
  !*** ./src/components/UserNav/UserNavOverlay.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UserNavOverlay": () => (/* binding */ UserNavOverlay),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");
/* harmony import */ var _Overlay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Overlay */ "./src/components/Overlay/index.js");
/* harmony import */ var _UserNavMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UserNavMenu */ "./src/components/UserNav/UserNavMenu.jsx");
/* harmony import */ var _logout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logout */ "./src/components/UserNav/logout.js");







function UserNavOverlay(_ref) {
  var dispatch = _ref.dispatch,
    isOpen = _ref.isOpen;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_4__.Overlay, {
    open: isOpen
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_4__.OverlayHeader, null, pgettext("user nav title", "Your options")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserNavMenu__WEBPACK_IMPORTED_MODULE_5__["default"], {
    close: function close() {
      return dispatch((0,_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.close)());
    },
    overlay: true
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.DropdownFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block",
    onClick: function onClick() {
      (0,_logout__WEBPACK_IMPORTED_MODULE_6__["default"])();
      dispatch((0,_reducers_overlay__WEBPACK_IMPORTED_MODULE_2__.close)());
    },
    type: "button"
  }, pgettext("user nav", "Log out"))));
}
function select(state) {
  return {
    isOpen: state.overlay.userNav
  };
}
var UserNavOverlayConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(select)(UserNavOverlay);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserNavOverlayConnected);

/***/ }),

/***/ "./src/components/UserNav/index.js":
/*!*****************************************!*\
  !*** ./src/components/UserNav/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UserNavDropdown": () => (/* reexport safe */ _UserNavDropdown__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "UserNavMenu": () => (/* reexport safe */ _UserNavMenu__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "UserNavOverlay": () => (/* reexport safe */ _UserNavOverlay__WEBPACK_IMPORTED_MODULE_2__["default"])
/* harmony export */ });
/* harmony import */ var _UserNavMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserNavMenu */ "./src/components/UserNav/UserNavMenu.jsx");
/* harmony import */ var _UserNavDropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserNavDropdown */ "./src/components/UserNav/UserNavDropdown.jsx");
/* harmony import */ var _UserNavOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UserNavOverlay */ "./src/components/UserNav/UserNavOverlay.jsx");





/***/ }),

/***/ "./src/components/UserNav/logout.js":
/*!******************************************!*\
  !*** ./src/components/UserNav/logout.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ logout)
/* harmony export */ });
function logout() {
  document.getElementById("hidden-logout-form").submit();
}

/***/ }),

/***/ "./src/components/accept-agreement.js":
/*!********************************************!*\
  !*** ./src/components/accept-agreement.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ AcceptAgreement)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var AcceptAgreement = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(AcceptAgreement, _React$Component);
  var _super = _createSuper(AcceptAgreement);
  function AcceptAgreement(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, AcceptAgreement);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleDecline", function () {
      if (_this.state.submiting) return;
      var confirmation = window.confirm(pgettext("accept agreement prompt", "Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;
      _this.setState({
        submiting: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.api, {
        accept: false
      }).then(function () {
        window.location.reload(true);
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleAccept", function () {
      if (_this.state.submiting) return;
      _this.setState({
        submiting: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.api, {
        accept: true
      }).then(function () {
        window.location.reload(true);
      });
    });
    _this.state = {
      submiting: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleDecline
      }, pgettext("accept agreement choice", "Decline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleAccept
      }, pgettext("accept agreement choice", "Accept and continue")));
    }
  }]);
  return AcceptAgreement;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/add-participant.js":
/*!*******************************************!*\
  !*** ./src/components/add-participant.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUsernameChange", function (event) {
      _this.changeValue("username", event.target.value);
    });
    _this.state = {
      isLoading: false,
      username: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("add private thread participant", "You have to enter user name."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].patch(this.props.thread.api.index, [{
        op: "add",
        path: "participants",
        value: this.state.username
      }, {
        op: "add",
        path: "acl",
        value: 1
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.updateAcl)(data));
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_10__.replace(data.participants));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("add private thread participant", "New participant has been added to thread."));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "id_username",
        label: pgettext("add private thread participant field", "User to add")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onUsernameChange,
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-block btn-primary",
        disabled: this.state.isLoading
      }, pgettext("add private thread participant btn", "Add participant")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-block btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("add private thread participant btn", "Cancel"))))));
    }
  }]);
  return _default;
}(_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("add private thread participant modal title", "Add participant")));
}

/***/ }),

/***/ "./src/components/auth-message.js":
/*!****************************************!*\
  !*** ./src/components/auth-message.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(pgettext("auth message", "You have signed in as %(username)s. Please refresh the page before continuing."), {
          username: this.props.signedIn.username
        }, true);
      } else if (this.props.signedOut) {
        return interpolate(pgettext("auth message", "%(username)s, you have been signed out. Please refresh the page before continuing."), {
          username: this.props.user.username
        }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";
      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: className
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        type: "button",
        onClick: this.refresh
      }, pgettext("auth message", "Reload page")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "hidden-xs hidden-sm"
      }, " " + pgettext("auth message", "or press F5 key.")))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

/***/ }),

/***/ "./src/components/avatar.js":
/*!**********************************!*\
  !*** ./src/components/avatar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getSrc": () => (/* binding */ getSrc),
/* harmony export */   "resolveAvatarForSize": () => (/* binding */ resolveAvatarForSize)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var size = props.size || 100;
  var size2x = props.size2x || size * 2;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: props.height || size,
    height: props.height || size
  });
}
function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("BLANK_AVATAR_URL");
  }
}
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

/***/ }),

/***/ "./src/components/banned-page.js":
/*!***************************************!*\
  !*** ./src/components/banned-page.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", {
          className: "lead"
        }, this.props.message.plain);
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter(moment__WEBPACK_IMPORTED_MODULE_5___default()())) {
          var title = interpolate(pgettext("banned page", "This ban expires on %(expires_on)s."), {
            expires_on: this.props.expires.format("LL, LT")
          }, true);
          var message = interpolate(pgettext("banned page", "This ban expires %(expires_on)s."), {
            expires_on: this.props.expires.fromNow()
          }, true);
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("abbr", {
            title: title
          }, message);
        } else {
          return pgettext("banned page", "This ban has expired.");
        }
      } else {
        return pgettext("banned page", "This ban is permanent.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "page page-error page-error-banned"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
        className: "material-icon"
      }, "highlight_off")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-body"
      }, this.getReasonMessage(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", {
        className: "message-footnote"
      }, this.getExpirationMessage())))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));


/***/ }),

/***/ "./src/components/button.js":
/*!**********************************!*\
  !*** ./src/components/button.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Button)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var Button = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(Button, _React$Component);
  var _super = _createSuper(Button);
  function Button() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Button);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;
      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: className,
        disabled: disabled,
        onClick: this.props.onClick,
        type: this.props.onClick ? "button" : "submit"
      }, this.props.children, this.props.loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null) : null);
    }
  }]);
  return Button;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

Button.defaultProps = {
  className: "btn-default",
  type: "submit",
  loading: false,
  disabled: false,
  onClick: null
};

/***/ }),

/***/ "./src/components/category-select.js":
/*!*******************************************!*\
  !*** ./src/components/category-select.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("select", {
    className: props.className || "form-control",
    disabled: props.disabled || false,
    id: props.id || null,
    onChange: props.onChange,
    value: props.value
  }, props.choices.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option", {
      disabled: item.disabled || false,
      key: item.value,
      value: item.value
    }, "- - ".repeat(item.level) + item.label);
  }));
}

/***/ }),

/***/ "./src/components/change-avatar/crop.js":
/*!**********************************************!*\
  !*** ./src/components/change-avatar/crop.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "cropAvatar", function () {
      if (_this.state.isLoading) {
        return false;
      }
      _this.setState({
        isLoading: true
      });
      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");
      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });
    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();
      var initialWidth = cropit.width();
      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }
      var deviceRatio = this.getAvatarSize() / cropperWidth;
      cropit.width(cropperWidth);
      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize");

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;
            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-crop"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "crop-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "cropit-preview"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "range",
        className: "cropit-image-zoom-input"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.cropAvatar,
        loading: this.state.isLoading,
        className: "btn-primary btn-block"
      }, this.props.upload ? pgettext("avatar crop modal btn", "Set avatar") : pgettext("avatar crop modal btn", "Crop image")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, pgettext("avatar crop modal btn", "Cancel")))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/gallery.js":
/*!*************************************************!*\
  !*** ./src/components/change-avatar/gallery.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Gallery": () => (/* binding */ Gallery),
/* harmony export */   "GalleryItem": () => (/* binding */ GalleryItem),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_batch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/batch */ "./src/utils/batch.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var GalleryItem = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(GalleryItem, _React$Component);
  var _super = _createSuper(GalleryItem);
  function GalleryItem() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, GalleryItem);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "select", function () {
      _this.props.select(_this.props.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.select
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("img", {
        src: this.props.url
      }));
    }
  }]);
  return GalleryItem;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Gallery = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(Gallery, _React$Component2);
  var _super2 = _createSuper(Gallery);
  function Gallery() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Gallery);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Gallery, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "avatars-gallery"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", null, this.props.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "avatars-gallery-images"
      }, (0,misago_utils_batch__WEBPACK_IMPORTED_MODULE_14__["default"])(this.props.images, 4, null).map(function (row, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "row",
          key: i
        }, row.map(function (item, i) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "col-xs-3",
            key: i
          }, item ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(GalleryItem, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
            disabled: _this2.props.disabled,
            select: _this2.props.select,
            selection: _this2.props.selection
          }, item)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "blank-avatar"
          }));
        }));
      })));
    }
  }]);
  return Gallery;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var _default = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component3);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this3 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this3), "select", function (image) {
      _this3.setState({
        selection: image
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this3), "save", function () {
      if (_this3.state.isLoading) {
        return false;
      }
      _this3.setState({
        isLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(_this3.props.user.api.avatar, {
        avatar: "galleries",
        image: _this3.state.selection
      }).then(function (response) {
        _this3.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].success(response.detail);
        _this3.props.onComplete(response);
        _this3.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(rejection.detail);
          _this3.setState({
            isLoading: false
          });
        } else {
          _this3.props.showError(rejection);
        }
      });
    });
    _this3.state = {
      selection: null,
      isLoading: false
    };
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this4 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body modal-avatar-gallery"
      }, this.props.options.galleries.map(function (item, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Gallery, {
          name: item.name,
          images: item.images,
          selection: _this4.state.selection,
          disabled: _this4.state.isLoading,
          select: _this4.select,
          key: i
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onClick: this.save,
        loading: this.state.isLoading,
        disabled: !this.state.selection,
        className: "btn-primary btn-block"
      }, this.state.selection ? pgettext("avatar gallery modal btn", "Save choice") : pgettext("avatar gallery modal btn", "Select avatar")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, pgettext("avatar gallery modal btn", "Cancel"))))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/index.js":
/*!***********************************************!*\
  !*** ./src/components/change-avatar/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setGravatar", function () {
      _this.callApi("gravatar");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setGenerated", function () {
      _this.callApi("generated");
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;
      if (this.state.isLoading) {
        return false;
      }
      this.setState({
        isLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(rejection.detail);
          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
          onClick: this.setGravatar,
          disabled: this.state.isLoading,
          className: "btn-default btn-block btn-avatar-gravatar"
        }, pgettext("avatar modal btn", "Download my Gravatar"));
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-crop",
        disabled: this.state.isLoading,
        onClick: this.props.showCrop
      }, pgettext("avatar modal btn", "Re-crop uploaded image"));
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-upload",
        disabled: this.state.isLoading,
        onClick: this.props.showUpload
      }, pgettext("avatar modal btn", "Upload new image"));
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-gallery",
        disabled: this.state.isLoading,
        onClick: this.props.showGallery
      }, pgettext("avatar modal btn", "Pick avatar from gallery"));
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };
      if (this.state.isLoading) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "avatar-preview preview-loading"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
          size: "200",
          user: userPeview
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_10__["default"], null));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "avatar-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
        size: "200",
        user: userPeview
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-index"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-5"
      }, this.getAvatarPreview()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-7"
      }, this.getGravatarButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.setGenerated,
        disabled: this.state.isLoading,
        className: "btn-default btn-block btn-avatar-generate"
      }, pgettext("avatar modal btn", "Generate my individual avatar")), this.getCropButton(), this.getUploadButton(), this.getGalleryButton())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/root.js":
/*!**********************************************!*\
  !*** ./src/components/change-avatar/root.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChangeAvatarError": () => (/* binding */ ChangeAvatarError),
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/change-avatar/index */ "./src/components/change-avatar/index.js");
/* harmony import */ var misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/change-avatar/crop */ "./src/components/change-avatar/crop.js");
/* harmony import */ var misago_components_change_avatar_upload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/change-avatar/upload */ "./src/components/change-avatar/upload.js");
/* harmony import */ var misago_components_change_avatar_gallery__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/change-avatar/gallery */ "./src/components/change-avatar/gallery.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var ChangeAvatarError = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ChangeAvatarError, _React$Component);
  var _super = _createSuper(ChangeAvatarError);
  function ChangeAvatarError() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ChangeAvatarError);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
          dangerouslySetInnerHTML: {
            __html: this.props.reason
          }
        });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "remove_circle_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getErrorReason(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("avatar modal dismiss", "Ok"))));
    }
  }]);
  return ChangeAvatarError;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super2 = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showError", function (error) {
      _this.setState({
        error: error
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showIndex", function () {
      _this.setState({
        component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showUpload", function () {
      _this.setState({
        component: misago_components_change_avatar_upload__WEBPACK_IMPORTED_MODULE_10__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showCrop", function () {
      _this.setState({
        component: misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_9__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showGallery", function () {
      _this.setState({
        component: misago_components_change_avatar_gallery__WEBPACK_IMPORTED_MODULE_11__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "completeFlow", function (options) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_13__.updateAvatar)(_this.props.user, options.avatars));
      _this.setState({
        component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"],
        options: options
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].get(this.props.user.api.avatar).then(function (options) {
        _this2.setState({
          component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"],
          options: options,
          error: null
        });
      }, function (rejection) {
        _this2.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_12__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("avatar modal title", "Change your avatar"))), this.getBody()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function select(state) {
  return {
    user: state.auth.user
  };
}

/***/ }),

/***/ "./src/components/change-avatar/upload.js":
/*!************************************************!*\
  !*** ./src/components/change-avatar/upload.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/change-avatar/crop */ "./src/components/change-avatar/crop.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/utils/file-size */ "./src/utils/file-size.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pickFile", function () {
      document.getElementById("avatar-hidden-upload").click();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "uploadFile", function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;
      var validationError = _this.validateFile(image);
      if (validationError) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(validationError);
        return;
      }
      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });
      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].info(pgettext("avatar upload modal", "Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });
    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(pgettext("avatar upload modal", "Selected file is too big. (%(filesize)s)"), {
          filesize: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__["default"])(image.size)
        }, true);
      }
      var invalidTypeMsg = pgettext("avatar upload modal", "Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }
      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });
      if (!extensionFound) {
        return invalidTypeMsg;
      }
      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });
      return interpolate(pgettext("avatar upload modal", "%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__["default"])(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-pick-file",
        onClick: this.pickFile
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "material-icon"
      }, "input"), pgettext("avatar upload modal field", "Select file")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "text-muted"
      }, this.getUploadRequirements(this.props.options.upload)));
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(pgettext("avatar upload modal field", "%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "upload-progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("img", {
        src: this.state.preview
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "progress-bar",
        role: "progressbar",
        "aria-valuenow": "{this.state.progress}",
        "aria-valuemin": "0",
        "aria-valuemax": "100",
        style: {
          width: this.state.progress + "%"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "sr-only"
      }, this.getUploadProgressLabel())))));
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "file",
        id: "avatar-hidden-upload",
        className: "hidden-file-upload",
        onChange: this.uploadFile
      }), this.state.image ? this.getUploadProgress() : this.getUploadButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.props.showIndex,
        disabled: !!this.state.image,
        className: "btn-default btn-block"
      }, pgettext("avatar upload modal btn", "Cancel")))));
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_8__["default"], {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();
      return this.renderUpload();
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/edit-details/blankslate.js":
/*!***************************************************!*\
  !*** ./src/components/edit-details/blankslate.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_1__["default"], {
    helpText: pgettext("user profile details", "No profile details are editable at this time."),
    message: pgettext("user profile details", "This option is currently unavailable.")
  });
}

/***/ }),

/***/ "./src/components/edit-details/field-input.js":
/*!****************************************************!*\
  !*** ./src/components/edit-details/field-input.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (ev) {
      var _this$props = _this.props,
        field = _this$props.field,
        onChange = _this$props.onChange;
      onChange(field.fieldname, ev.target.value);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        disabled = _this$props2.disabled,
        field = _this$props2.field,
        value = _this$props2.value;
      var input = field.input;
      if (input.type === "select") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_8__["default"], {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }
      if (input.type === "textarea") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }
      if (input.type === "text") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }
      return null;
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/edit-details/fieldset.js":
/*!*************************************************!*\
  !*** ./src/components/edit-details/fieldset.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-input */ "./src/components/edit-details/field-input.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var disabled = _ref.disabled,
    errors = _ref.errors,
    fields = _ref.fields,
    name = _ref.name,
    onChange = _ref.onChange,
    value = _ref.value;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("legend", null, name), fields.map(function (field) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_2__["default"], {
      "for": "id_" + field.fieldname,
      helpText: field.help_text,
      key: field.fieldname,
      label: field.label,
      validation: errors[field.fieldname]
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field_input__WEBPACK_IMPORTED_MODULE_1__["default"], {
      disabled: disabled,
      field: field,
      onChange: onChange,
      value: value[field.fieldname]
    }));
  }));
}

/***/ }),

/***/ "./src/components/edit-details/form.js":
/*!*********************************************!*\
  !*** ./src/components/edit-details/form.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CancelButton": () => (/* binding */ CancelButton),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _fieldset__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./fieldset */ "./src/components/edit-details/fieldset.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (name, value) {
      _this.setState((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, name, value));
    });
    _this.state = {
      isLoading: false,
      errors: {}
    };
    var groups = props.groups.length;
    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;
      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: rejection
        });
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, this.props.groups.map(function (group, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_fieldset__WEBPACK_IMPORTED_MODULE_8__["default"], {
          disabled: _this2.state.isLoading,
          errors: _this2.state.errors,
          fields: group.fields,
          name: group.name,
          key: i,
          onChange: _this2.onChange,
          value: _this2.state
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(CancelButton, {
        disabled: this.state.isLoading,
        onCancel: this.props.onCancel
      }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("user profile details form btn", "Save changes"))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);

function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
    disabled = _ref.disabled;
  if (!onCancel) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default",
    disabled: disabled,
    onClick: onCancel,
    type: "button"
  }, pgettext("user profile details form btn", "Cancel"));
}

/***/ }),

/***/ "./src/components/edit-details/index.js":
/*!**********************************************!*\
  !*** ./src/components/edit-details/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormDisplay": () => (/* binding */ FormDisplay),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _blankslate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blankslate */ "./src/components/edit-details/blankslate.js");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loader */ "./src/components/edit-details/loader.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/edit-details/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,
          groups: groups
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
        groups = _this$state.groups,
        loading = _this$state.loading;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, pgettext("user profile details form title", "Edit details"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_7__["default"], {
        display: loading
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blankslate__WEBPACK_IMPORTED_MODULE_6__["default"], {
        display: !loading && !groups.length
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(FormDisplay, {
        api: this.props.api,
        display: !loading && groups.length,
        groups: groups,
        onCancel: this.props.onCancel,
        onSuccess: this.props.onSuccess
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function FormDisplay(_ref) {
  var api = _ref.api,
    display = _ref.display,
    groups = _ref.groups,
    onCancel = _ref.onCancel,
    onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_form__WEBPACK_IMPORTED_MODULE_8__["default"], {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

/***/ }),

/***/ "./src/components/edit-details/loader.js":
/*!***********************************************!*\
  !*** ./src/components/edit-details/loader.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_1__["default"], null));
}

/***/ }),

/***/ "./src/components/form-group.js":
/*!**************************************!*\
  !*** ./src/components/form-group.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";
      if (this.isValidated()) {
        className += " has-feedback";
        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }
      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this = this;
      if (this.props.validation) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: "help-block errors"
        }, this.props.validation.map(function (error, i) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
            key: _this.props["for"] + "FeedbackItem" + i
          }, error);
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          id: this.props["for"] + "_status",
          className: "sr-only"
        }, this.props.validation ? pgettext("field validation status", "(error)") : pgettext("field validation status", "(success)"));
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("label", {
        className: "control-label " + (this.props.labelClass || ""),
        htmlFor: this.props["for"] || ""
      }, this.props.label + ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.props.controlClass || ""
      }, this.props.children, this.getFeedbackDescription(), this.getFeedback(), this.getHelpText(), this.props.extra || null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/form.js":
/*!********************************!*\
  !*** ./src/components/form.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/validators */ "./src/utils/validators.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var validateRequired = (0,_utils_validators__WEBPACK_IMPORTED_MODULE_8__.required)();
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "bindInput", function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "changeValue", function (name, value) {
      var newState = (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, name, value);
      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;
      _this.setState(newState);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }
      if (_this.state.isLoading) {
        return;
      }
      if (_this.clean()) {
        _this.setState({
          isLoading: true
        });
        var promise = _this.send();
        if (promise) {
          promise.then(function (success) {
            _this.setState({
              isLoading: false
            });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({
              isLoading: false
            });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({
            isLoading: false
          });
        }
      }
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "validate",
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }
      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };
      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);
        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }
      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }
      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }
      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };
      var requiredError = validateRequired(value) || false;
      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }
        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }
        return errors.length ? errors : null;
      }
      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_9__["default"].apiError(rejection);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/li.js":
/*!******************************!*\
  !*** ./src/components/li.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/loader.js":
/*!**********************************!*\
  !*** ./src/components/loader.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className || "loader"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "loader-spinning-wheel"
  }));
}

/***/ }),

/***/ "./src/components/merge-conflict.js":
/*!******************************************!*\
  !*** ./src/components/merge-conflict.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BestAnswerSelect": () => (/* binding */ BestAnswerSelect),
/* harmony export */   "PollSelect": () => (/* binding */ PollSelect),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./button */ "./src/components/button.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./form */ "./src/components/form.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (success) {
      _this.props.onSuccess(success);
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].hide();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      _this.props.onError(rejection);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onBestAnswerChange", function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPollChange", function (event) {
      _this.changeValue("poll", event.target.value);
    });
    _this.state = {
      isLoading: false,
      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = window.confirm(pgettext("merge threads conflict form", "Are you sure you want to delete all polls?"));
        return confirmation;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("merge threads conflict modal title", "Merge threads"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(BestAnswerSelect, {
        choices: this.props.bestAnswers,
        onChange: this.onBestAnswerChange,
        value: this.state.bestAnswer
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollSelect, {
        choices: this.props.polls,
        onChange: this.onPollChange,
        value: this.state.poll
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("merge threads conflict btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("merge threads conflict btn", "Merge threads"))))));
    }
  }]);
  return _default;
}(_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
    onChange = _ref.onChange,
    value = _ref.value;
  if (!choices) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
    label: pgettext("merge threads conflict best answer", "Best answer"),
    helpText: pgettext("merge threads conflict best answer", "Select the best answer for your newly merged thread. No posts will be deleted during the merge."),
    "for": "id_best_answer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
    className: "form-control",
    id: "id_best_answer",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}
function PollSelect(_ref2) {
  var choices = _ref2.choices,
    onChange = _ref2.onChange,
    value = _ref2.value;
  if (!choices) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
    label: pgettext("merge threads conflict poll", "Poll"),
    helpText: pgettext("merge threads conflict poll", "Select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
    "for": "id_poll"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
    className: "form-control",
    id: "id_poll",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

/***/ }),

/***/ "./src/components/misago-markup.js":
/*!*****************************************!*\
  !*** ./src/components/misago-markup.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var misago_services_one_box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/services/one-box */ "./src/services/one-box.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_one_box__WEBPACK_IMPORTED_MODULE_7__["default"].render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      misago_services_one_box__WEBPACK_IMPORTED_MODULE_7__["default"].render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("article", {
        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()("misago-markup", this.props.className),
        dangerouslySetInnerHTML: {
          __html: this.props.markup
        },
        "data-author": this.props.author || undefined,
        ref: function ref(node) {
          _this.documentNode = node;
        }
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));

function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

/***/ }),

/***/ "./src/components/modal-loader.js":
/*!****************************************!*\
  !*** ./src/components/modal-loader.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body modal-loader"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/modal-message.js":
/*!*****************************************!*\
  !*** ./src/components/modal-message.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_PanelMessage) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _PanelMessage);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("modal message dismiss btn", "Ok"))));
    }
  }]);
  return _default;
}(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__["default"]);


/***/ }),

/***/ "./src/components/page-lead.js":
/*!*************************************!*\
  !*** ./src/components/page-lead.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_utils_string_count__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/utils/string-count */ "./src/utils/string-count.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0,misago_utils_string_count__WEBPACK_IMPORTED_MODULE_6__["default"])(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }
      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/panel-loader.js":
/*!****************************************!*\
  !*** ./src/components/panel-loader.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body panel-body-loading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "loader loader-spaced"
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/panel-message.js":
/*!*****************************************!*\
  !*** ./src/components/panel-message.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body panel-message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/participants/add-participant.js":
/*!********************************************************!*\
  !*** ./src/components/participants/add-participant.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_add_participant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/add-participant */ "./src/components/add-participant.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_9__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_add_participant__WEBPACK_IMPORTED_MODULE_8__["default"], {
        thread: _this.props.thread
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "person_add"), pgettext("add participant btn", "Add participant")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/cards-list/actions.js":
/*!***********************************************************!*\
  !*** ./src/components/participants/cards-list/actions.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeOwner": () => (/* binding */ changeOwner),
/* harmony export */   "leave": () => (/* binding */ leave),
/* harmony export */   "remove": () => (/* binding */ remove)
/* harmony export */ });
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");






function leave(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }]).then(function () {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(pgettext("thread participants actions", "You have left this thread."));
    window.setTimeout(function () {
      window.location = misago__WEBPACK_IMPORTED_MODULE_2__["default"].get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}
function remove(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.updateAcl)(data));
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__.replace(data.participants));
    var message = pgettext("thread participants actions", "%(user)s has been removed from this thread.");
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}
function changeOwner(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "replace",
    path: "owner",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.updateAcl)(data));
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__.replace(data.participants));
    var message = pgettext("thread participants actions", "%(user)s has been made new thread owner.");
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}

/***/ }),

/***/ "./src/components/participants/cards-list/card.js":
/*!********************************************************!*\
  !*** ./src/components/participants/cards-list/card.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UserStatus": () => (/* binding */ UserStatus),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _make_owner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./make-owner */ "./src/components/participants/cards-list/make-owner.js");
/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./remove */ "./src/components/participants/cards-list/remove.js");
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var participant = props.participant;
  var className = "btn btn-default";
  if (participant.is_owner) {
    className = "btn btn-primary";
  }
  className += " btn-user btn-block";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-sm-3 col-md-2 participant-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: className,
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_3__["default"], {
    size: "34",
    user: participant
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "btn-text"
  }, participant.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UserStatus, {
    isOwner: participant.is_owner
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-header"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: participant.url
  }, pgettext("thread participants profile link", "See profile"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    role: "separator",
    className: "divider"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_make_owner__WEBPACK_IMPORTED_MODULE_1__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_remove__WEBPACK_IMPORTED_MODULE_2__["default"], props))));
}
function UserStatus(_ref) {
  var isOwner = _ref.isOwner;
  if (!isOwner) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-header dropdown-header-owner"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "start"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "icon-text"
  }, pgettext("thread participants owner status", "Thread owner")));
}

/***/ }),

/***/ "./src/components/participants/cards-list/index.js":
/*!*********************************************************!*\
  !*** ./src/components/participants/cards-list/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/participants/cards-list/card.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var participants = _ref.participants,
    thread = _ref.thread,
    user = _ref.user,
    userIsOwner = _ref.userIsOwner;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "participants-cards"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, participants.map(function (participant) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: participant.id,
      participant: participant,
      thread: thread,
      user: user,
      userIsOwner: userIsOwner
    });
  })));
}

/***/ }),

/***/ "./src/components/participants/cards-list/make-owner.js":
/*!**************************************************************!*\
  !*** ./src/components/participants/cards-list/make-owner.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions */ "./src/components/participants/cards-list/actions.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = window.confirm(pgettext("private thread owner change", "Are you sure you want to take over this thread?"));
      } else {
        var message = pgettext("private thread owner change", "Are you sure you want to change thread owner to %(user)s?");
        confirmed = window.confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }
      if (!confirmed) return;
      (0,_actions__WEBPACK_IMPORTED_MODULE_8__.changeOwner)(_this.props.thread, _this.props.participant);
    });
    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, pgettext("private thread owner change btn", "Make owner")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/cards-list/remove.js":
/*!**********************************************************!*\
  !*** ./src/components/participants/cards-list/remove.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions */ "./src/components/participants/cards-list/actions.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = window.confirm(pgettext("private thread leave", "Are you sure you want to leave this thread?"));
      } else {
        var message = pgettext("private thread leave", "Are you sure you want to remove %(user)s from this thread?");
        confirmed = window.confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }
      if (!confirmed) return;
      if (_this.isUser) {
        (0,_actions__WEBPACK_IMPORTED_MODULE_8__.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0,_actions__WEBPACK_IMPORTED_MODULE_8__.remove)(_this.props.thread, _this.props.participant);
      }
    });
    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;
      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, this.isUser ? pgettext("private thread leave btn", "Leave thread") : pgettext("private thread leave btn", "Remove")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/index.js":
/*!**********************************************!*\
  !*** ./src/components/participants/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getUserIsOwner": () => (/* binding */ getUserIsOwner)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _add_participant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-participant */ "./src/components/participants/add-participant.js");
/* harmony import */ var _cards_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cards-list */ "./src/components/participants/cards-list/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./src/components/participants/utils.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!props.participants.length) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "panel panel-default panel-participants"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_cards_list__WEBPACK_IMPORTED_MODULE_3__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    userIsOwner: getUserIsOwner(props.user, props.participants)
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_add_participant__WEBPACK_IMPORTED_MODULE_2__["default"], {
    thread: props.thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "col-xs-12 col-sm-9"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", null, _utils__WEBPACK_IMPORTED_MODULE_4__.getParticipantsCopy(props.participants))))));
}
function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

/***/ }),

/***/ "./src/components/participants/utils.js":
/*!**********************************************!*\
  !*** ./src/components/participants/utils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getParticipantsCopy": () => (/* binding */ getParticipantsCopy)
/* harmony export */ });
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = npgettext("thread participants stat", "This thread has %(users)s participant.", "This thread has %(users)s participants.", count);
  return interpolate(message, {
    users: count
  }, true);
}

/***/ }),

/***/ "./src/components/password-strength.js":
/*!*********************************************!*\
  !*** ./src/components/password-strength.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LABELS": () => (/* binding */ LABELS),
/* harmony export */   "STYLES": () => (/* binding */ STYLES),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/zxcvbn */ "./src/services/zxcvbn.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];
var LABELS = [pgettext("password strength indicator", "Entered password is very weak."), pgettext("password strength indicator", "Entered password is weak."), pgettext("password strength indicator", "Entered password is average."), pgettext("password strength indicator", "Entered password is strong."), pgettext("password strength indicator", "Entered password is very strong.")];
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    _this.state = {
      loaded: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__["default"].load().then(function () {
        _this2.setState({
          loaded: true
        });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;
      var cacheStale = false;
      if (password !== this._password) {
        cacheStale = true;
      }
      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }
      if (cacheStale) {
        this._score = misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__["default"].scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }
      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;
      var score = this.getScore(this.props.password, this.props.inputs);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "help-block password-strength"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "progress-bar " + STYLES[score],
        style: {
          width: 20 + 20 * score + "%"
        },
        role: "progress-bar",
        "aria-valuenow": score,
        "aria-valuemin": "0",
        "aria-valuemax": "4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "sr-only"
      }, LABELS[score]))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "text-small"
      }, LABELS[score]));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/poll/form/choices-control.js":
/*!*****************************************************!*\
  !*** ./src/components/poll/form/choices-control.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollChoice": () => (/* binding */ PollChoice),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _utils_getRandomString__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../utils/getRandomString */ "./src/utils/getRandomString.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var HASH_LENGTH = 12;
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAdd", function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: (0,_utils_getRandomString__WEBPACK_IMPORTED_MODULE_8__["default"])(HASH_LENGTH),
        label: ""
      });
      _this.props.setChoices(choices);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }
        return choice;
      });
      _this.props.setChoices(choices);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onDelete", function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "poll-choices-control"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "list-group"
      }, this.props.choices.map(function (choice) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollChoice, {
          canDelete: _this2.props.choices.length > 2,
          choice: choice,
          disabled: _this2.props.disabled,
          key: choice.hash,
          onChange: _this2.onChange,
          onDelete: _this2.onDelete
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-sm",
        disabled: this.props.disabled,
        onClick: this.onAdd,
        type: "button"
      }, pgettext("thread poll", "Add choice")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

var PollChoice = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PollChoice, _React$Component2);
  var _super2 = _createSuper(PollChoice);
  function PollChoice() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PollChoice);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this3 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onChange", function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onDelete", function () {
      var deleteItem = _this3.props.choice.label.length === 0 ? true : window.confirm(pgettext("thread poll", "Are you sure you want to remove this choice?"));
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PollChoice, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        className: "list-group-item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn",
        disabled: !this.props.canDelete || this.props.disabled,
        onClick: this.onDelete,
        title: pgettext("thread poll", "Remove this choice"),
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "close")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        disabled: this.props.disabled,
        maxLength: "255",
        placeholder: pgettext("thread poll", "Poll choice"),
        type: "text",
        onChange: this.onChange,
        value: this.props.choice.label
      }));
    }
  }]);
  return PollChoice;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/poll/form/index.js":
/*!*******************************************!*\
  !*** ./src/components/poll/form/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollPublicSwitch": () => (/* binding */ PollPublicSwitch),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _choices_control__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./choices-control */ "./src/components/poll/form/choices-control.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setChoices", function (choices) {
      _this.setState(function (state) {
        return {
          choices: choices,
          errors: Object.assign({}, state.errors, {
            choices: null
          })
        };
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = false;

      // Nothing added to the poll so no changes to discard
      var formEmpty = !!(_this.state.question === "" && _this.state.choices && _this.state.choices.every(function (choice) {
        return choice.label === "";
      }) && _this.state.length === 0 && _this.state.allowed_choices === 1);
      if (formEmpty) {
        return _this.props.close();
      }
      if (!!_this.props.poll) {
        cancel = window.confirm(pgettext("thread poll", "Are you sure you want to discard changes?"));
      } else {
        cancel = window.confirm(pgettext("thread poll", "Are you sure you want to discard new poll?"));
      }
      if (cancel) {
        _this.props.close();
      }
    });
    var poll = props.poll.id ? props.poll : {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };
    _this.state = {
      isLoading: false,
      isEdit: !!poll.id,
      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,
      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };
      if (this.state.isEdit) {
        return misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].put(this.props.poll.api.index, data);
      }
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].post(this.props.thread.api.poll, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_16__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_13__.replace(data));
      if (this.state.isEdit) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_15__["default"].success(pgettext("thread poll", "Poll has been edited."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_15__["default"].success(pgettext("thread poll", "Poll has been posted."));
      }
      this.props.close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }
        this.setState({
          errors: Object.assign({}, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_15__["default"].error(gettext("Form contains errors."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_15__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "poll-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", {
        className: "panel-title"
      }, this.state.isEdit ? pgettext("thread poll", "Edit poll") : pgettext("thread poll", "Add poll"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("legend", null, pgettext("thread poll", "Question and choices")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("thread poll", "Poll question"),
        "for": "id_questions",
        validation: this.state.errors.question
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_questions",
        onChange: this.bindInput("question"),
        type: "text",
        maxLength: "255",
        value: this.state.question
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("thread poll", "Available choices"),
        validation: this.state.errors.choices
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_choices_control__WEBPACK_IMPORTED_MODULE_8__["default"], {
        choices: this.state.choices,
        disabled: this.state.isLoading,
        setChoices: this.setChoices
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("legend", null, pgettext("thread poll", "Voting")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("thread poll", "Poll length"),
        helpText: pgettext("thread poll", "Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
        "for": "id_length",
        validation: this.state.errors.length
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_length",
        onChange: this.bindInput("length"),
        type: "text",
        value: this.state.length
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("thread poll", "Allowed choices"),
        "for": "id_allowed_choices",
        validation: this.state.errors.allowed_choices
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_allowed_choices",
        onChange: this.bindInput("allowed_choices"),
        type: "text",
        maxLength: "255",
        value: this.state.allowed_choices
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollPublicSwitch, {
        bindInput: this.bindInput,
        disabled: this.state.isLoading,
        isEdit: this.state.isEdit,
        value: this.state.is_public
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("thread poll", "Allow vote changes"),
        "for": "id_allow_revotes"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_allow_revotes",
        disabled: this.state.isLoading,
        iconOn: "check",
        iconOff: "close",
        labelOn: pgettext("thread poll", "Allow participants to change their vote"),
        labelOff: pgettext("thread poll", "Don't allow participants to change their vote"),
        onChange: this.bindInput("allow_revotes"),
        value: this.state.allow_revotes
      })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        disabled: this.state.isLoading,
        onClick: this.onCancel,
        type: "button"
      }, pgettext("thread poll", "Cancel")), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, this.state.isEdit ? pgettext("thread poll", "Save changes") : pgettext("thread poll", "Post poll"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);

function PollPublicSwitch(props) {
  if (props.isEdit) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "col-xs-12 col-sm-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
    label: pgettext("thread poll", "Make voting public"),
    helpText: pgettext("thread poll", "Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
    "for": "id_is_public"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__["default"], {
    id: "id_is_public",
    disabled: props.disabled,
    iconOn: "visibility",
    iconOff: "visibility_off",
    labelOn: pgettext("thread poll", "Votes are public"),
    labelOff: pgettext("thread poll", "Votes are hidden"),
    onChange: props.bindInput("is_public"),
    value: props.value
  })));
}

/***/ }),

/***/ "./src/components/poll/index.js":
/*!**************************************!*\
  !*** ./src/components/poll/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Poll": () => (/* reexport safe */ _poll__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "PollForm": () => (/* reexport safe */ _form__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _poll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./poll */ "./src/components/poll/poll.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form */ "./src/components/poll/form/index.js");




/***/ }),

/***/ "./src/components/poll/info.js":
/*!*************************************!*\
  !*** ./src/components/poll/info.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollCreation": () => (/* binding */ PollCreation),
/* harmony export */   "PollIsPublic": () => (/* binding */ PollIsPublic),
/* harmony export */   "PollLength": () => (/* binding */ PollLength),
/* harmony export */   "PollVotes": () => (/* binding */ PollVotes),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getEndsOn": () => (/* binding */ getEndsOn),
/* harmony export */   "getPostedOn": () => (/* binding */ getPostedOn),
/* harmony export */   "getPoster": () => (/* binding */ getPoster)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollVotes, {
    votes: props.poll.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollLength, {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollIsPublic, {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollCreation, {
    poll: props.poll
  }));
}
function PollCreation(props) {
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("thread poll", "Started by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.url.poster),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.poster_name)
    }, true);
  }
  return interpolate(USER_SPAN, {
    user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.poster_name)
  }, true);
}
function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.posted_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.posted_on.fromNow())
  }, true);
}
function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("thread poll", "Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.endsOn.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.endsOn.fromNow())
  }, true);
}
function PollVotes(props) {
  var message = npgettext("thread poll", "%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-votes"
  }, label);
}
function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-public"
  }, pgettext("thread poll", "Voting is public."));
}

/***/ }),

/***/ "./src/components/poll/poll.js":
/*!*************************************!*\
  !*** ./src/components/poll/poll.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "getIsPollOver": () => (/* binding */ getIsPollOver)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _results__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./results */ "./src/components/poll/results/index.js");
/* harmony import */ var _voting__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./voting */ "./src/components/poll/voting/index.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "showResults", function () {
      _this.setState({
        showResults: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "showVoting", function () {
      _this.setState({
        showResults: false
      });
    });
    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }
    _this.state = {
      showResults: showResults
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;
      var isPollOver = getIsPollOver(this.props.poll);
      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_voting__WEBPACK_IMPORTED_MODULE_11__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
          showResults: this.showResults
        }, this.props));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_results__WEBPACK_IMPORTED_MODULE_10__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function getIsPollOver(poll) {
  if (poll.length) {
    return moment__WEBPACK_IMPORTED_MODULE_9___default()().isAfter(poll.endsOn);
  }
  return false;
}

/***/ }),

/***/ "./src/components/poll/results/chart.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/chart.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceVotes": () => (/* binding */ ChoiceVotes),
/* harmony export */   "PollChoice": () => (/* binding */ PollChoice),
/* harmony export */   "UserChoice": () => (/* binding */ UserChoice),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getVotesLabel": () => (/* binding */ getVotesLabel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "poll-choices-bars"
  }, props.poll.choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollChoice, {
      choice: choice,
      key: choice.hash,
      poll: props.poll
    });
  }));
}
function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dl", {
    className: "dl-horizontal"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dt", null, props.choice.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "progress"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "progress-bar",
    role: "progressbar",
    "aria-valuenow": proc,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    style: {
      width: proc + "%"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "sr-only"
  }, getVotesLabel(props.votes, props.proc)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-chart"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChoiceVotes, {
    proc: proc,
    votes: props.choice.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UserChoice, {
    selected: props.choice.selected
  }))));
}
function ChoiceVotes(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-chart-votes"
  }, getVotesLabel(props.votes, props.proc));
}
function getVotesLabel(votes, proc) {
  var message = npgettext("thread poll", "%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);
  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}
function UserChoice(props) {
  if (!props.selected) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-chart-selected"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_box"), pgettext("thread poll", "You've voted on this choice."));
}

/***/ }),

/***/ "./src/components/poll/results/index.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chart */ "./src/components/poll/results/chart.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./options */ "./src/components/poll/results/options.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../info */ "./src/components/poll/info.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-poll"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h2", null, props.poll.question), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_info__WEBPACK_IMPORTED_MODULE_3__["default"], {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_chart__WEBPACK_IMPORTED_MODULE_1__["default"], {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_options__WEBPACK_IMPORTED_MODULE_2__["default"], {
    isPollOver: props.isPollOver,
    poll: props.poll,
    edit: props.edit,
    showVoting: props.showVoting,
    thread: props.thread
  })));
}

/***/ }),

/***/ "./src/components/poll/results/modal.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/modal.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceDetails": () => (/* binding */ ChoiceDetails),
/* harmony export */   "ChoicesList": () => (/* binding */ ChoicesList),
/* harmony export */   "ModalBody": () => (/* binding */ ModalBody),
/* harmony export */   "VoteDate": () => (/* binding */ VoteDate),
/* harmony export */   "Voter": () => (/* binding */ Voter),
/* harmony export */   "VotesCount": () => (/* binding */ VotesCount),
/* harmony export */   "VotesList": () => (/* binding */ VotesList),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: moment__WEBPACK_IMPORTED_MODULE_7___default()(voter.voted_on)
              });
            })
          });
        });
        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("thread poll", "Poll votes"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalBody, {
        data: this.state.data,
        error: this.state.error,
        isLoading: this.state.isLoading
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));

function ModalBody(props) {
  if (props.isLoading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
  } else if (props.error) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_8__["default"], {
      icon: "error_outline",
      message: props.error
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ChoicesList, {
    data: props.data
  });
}
function ChoicesList(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-body modal-poll-votes"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "list-unstyled votes-details"
  }, props.data.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ChoiceDetails, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: choice.hash
    }, choice));
  })));
}
function ChoiceDetails(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", null, props.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VotesCount, {
    votes: props.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VotesList, {
    voters: props.voters
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("hr", null));
}
function VotesCount(props) {
  var message = npgettext("thread poll", "%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", null, label);
}
function VotesList(props) {
  if (!props.voters.length) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "list-unstyled"
  }, props.voters.map(function (user) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(Voter, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: user.username
    }, user));
  }));
}
function Voter(props) {
  if (props.url) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VoteDate, {
      voted_on: props.voted_on
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("strong", null, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VoteDate, {
    voted_on: props.voted_on
  }));
}
function VoteDate(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("abbr", {
    className: "text-muted",
    title: props.voted_on.format("LLL")
  }, props.voted_on.fromNow());
}

/***/ }),

/***/ "./src/components/poll/results/options.js":
/*!************************************************!*\
  !*** ./src/components/poll/results/options.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChangeVote": () => (/* binding */ ChangeVote),
/* harmony export */   "Delete": () => (/* binding */ Delete),
/* harmony export */   "Edit": () => (/* binding */ Edit),
/* harmony export */   "SeeVotes": () => (/* binding */ SeeVotes),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getClassName": () => (/* binding */ getClassName),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal */ "./src/components/poll/results/modal.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var isPollOver = props.isPollOver,
    poll = props.poll,
    showVoting = props.showVoting,
    thread = props.thread;
  if (!isVisible(isPollOver, poll.acl, poll)) return null;
  var controls = [];
  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;
  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "row poll-options"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChangeVote, {
    controls: controls,
    isPollOver: isPollOver,
    poll: poll,
    showVoting: showVoting
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(SeeVotes, {
    controls: controls,
    poll: poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Edit, {
    controls: controls,
    poll: poll,
    thread: thread,
    onClick: props.edit
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, {
    controls: controls,
    poll: poll
  }));
}
function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}
function getClassName(controls, control) {
  var className = "col-xs-6";
  if (controls.length === 1) {
    className = "col-xs-12";
  }
  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }
  return className + " col-sm-3 col-md-2";
}
function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;
  if (!(canVote && canChangeVote)) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: getClassName(props.controls, 0)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.showVoting,
    type: "button"
  }, pgettext("thread poll", "Vote")));
}
var SeeVotes = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(SeeVotes, _React$Component);
  var _super = _createSuper(SeeVotes);
  function SeeVotes() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SeeVotes);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_modal__WEBPACK_IMPORTED_MODULE_8__["default"], {
        poll: _this.props.poll
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: getClassName(this.props.controls, 1)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, pgettext("thread poll", "See votes")));
    }
  }]);
  return SeeVotes;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
function Edit(props) {
  if (!props.poll.acl.can_edit) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: getClassName(props.controls, 2)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.onClick,
    type: "button"
  }, pgettext("thread poll", "Edit")));
}
var Delete = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component2);
  var _super2 = _createSuper(Delete);
  function Delete() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      var deletePoll = window.confirm(pgettext("thread poll", "Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.busy());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"]["delete"](_this2.props.poll.api.index).then(_this2.handleSuccess, _this2.handleError);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "handleSuccess", function (newThreadAcl) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("thread poll", "Poll has been deleted"));
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.remove());
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_10__.updateAcl(newThreadAcl));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "handleError", function (rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.release());
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: getClassName(this.props.controls, 3)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, pgettext("thread poll", "Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/poll/voting/help.js":
/*!********************************************!*\
  !*** ./src/components/poll/voting/help.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollAllowRevote": () => (/* binding */ PollAllowRevote),
/* harmony export */   "PollChoicesLeft": () => (/* binding */ PollChoicesLeft),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-help"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollChoicesLeft, {
    choicesLeft: props.choicesLeft
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollAllowRevote, {
    poll: props.poll
  }));
}
function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;
  if (choicesLeft === 0) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "poll-help-choices-left"
    }, pgettext("thread poll", "You can't select any more choices."));
  }
  var message = npgettext("thread poll", "You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);
  var label = interpolate(message, {
    choices: choicesLeft
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-help-choices-left"
  }, label);
}
function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "poll-help-allow-revotes"
    }, pgettext("thread poll", "You can change your vote later."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-help-no-revotes"
  }, pgettext("thread poll", "Votes are final."));
}

/***/ }),

/***/ "./src/components/poll/voting/index.js":
/*!*********************************************!*\
  !*** ./src/components/poll/voting/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _help__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./help */ "./src/components/poll/voting/help.js");
/* harmony import */ var _select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./select */ "./src/components/poll/voting/select.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils */ "./src/components/poll/voting/utils.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../info */ "./src/components/poll/info.js");
/* harmony import */ var _results_options__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../results/options */ "./src/components/poll/results/options.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggleChoice", function (hash) {
      var choice = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoiceFromHash)(_this.state.choices, hash);
      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }
      _this.setState({
        choices: choices,
        choicesLeft: (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(_this.props.poll, choices)
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "selectChoice", function (choice, hash) {
      var choicesLeft = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(_this.props.poll, _this.state.choices);
      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "deselectChoice", function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    });
    _this.state = {
      isLoading: false,
      choices: props.poll.choices,
      choicesLeft: (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(pgettext("thread poll vote", "You need to select at least one choice."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_15__.replace(data));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(pgettext("thread poll vote", "Your vote has been saved."));
      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];
      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-poll"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h2", null, this.props.poll.question), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_info__WEBPACK_IMPORTED_MODULE_11__["default"], {
        poll: this.props.poll
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        choices: this.state.choices,
        toggleChoice: this.toggleChoice
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_help__WEBPACK_IMPORTED_MODULE_8__["default"], {
        choicesLeft: this.state.choicesLeft,
        poll: this.props.poll
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: (0,_results_options__WEBPACK_IMPORTED_MODULE_12__.getClassName)(controls, 0)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_13__["default"], {
        className: "btn-primary btn-block btn-sm",
        loading: this.state.isLoading
      }, pgettext("thread poll vote btn", "Save your vote"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: (0,_results_options__WEBPACK_IMPORTED_MODULE_12__.getClassName)(controls, 1)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.state.isLoading,
        onClick: this.props.showResults,
        type: "button"
      }, pgettext("thread poll vote btn", "See results"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_results_options__WEBPACK_IMPORTED_MODULE_12__.Edit, {
        controls: controls,
        poll: this.props.poll,
        thread: this.props.thread,
        onClick: this.props.edit
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_results_options__WEBPACK_IMPORTED_MODULE_12__.Delete, {
        controls: controls,
        poll: this.props.poll
      })))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_14__["default"]);


/***/ }),

/***/ "./src/components/poll/voting/select.js":
/*!**********************************************!*\
  !*** ./src/components/poll/voting/select.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceSelect": () => (/* binding */ ChoiceSelect),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "list-unstyled poll-select-choices"
  }, props.choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChoiceSelect, {
      choice: choice,
      key: choice.hash,
      toggleChoice: props.toggleChoice
    });
  }));
}
var ChoiceSelect = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(ChoiceSelect, _React$Component);
  var _super = _createSuper(ChoiceSelect);
  function ChoiceSelect() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, ChoiceSelect);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        className: "poll-select-choice"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: this.props.choice.selected ? "btn btn-selected" : "btn",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.props.choice.selected ? "check_box" : "check_box_outline_blank"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("strong", null, this.props.choice.label)));
    }
  }]);
  return ChoiceSelect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/poll/voting/utils.js":
/*!*********************************************!*\
  !*** ./src/components/poll/voting/utils.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getChoiceFromHash": () => (/* binding */ getChoiceFromHash),
/* harmony export */   "getChoicesLeft": () => (/* binding */ getChoicesLeft)
/* harmony export */ });
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }
  return null;
}
function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }
  return poll.allowed_choices - selection.length;
}

/***/ }),

/***/ "./src/components/post-changelog/diff.js":
/*!***********************************************!*\
  !*** ./src/components/post-changelog/diff.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DiffItem": () => (/* binding */ DiffItem),
/* harmony export */   "cleanItem": () => (/* binding */ cleanItem),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getItemClassName": () => (/* binding */ getItemClassName)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body post-changelog-diff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled"
  }, props.diff.map(function (item, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DiffItem, {
      item: item,
      key: i
    });
  })));
}
function DiffItem(props) {
  if (props.item[0] === "?") return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: getItemClassName(props.item)
  }, cleanItem(props.item));
}
function getItemClassName(item) {
  var className = "diff-item";
  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }
  return className;
}
function cleanItem(item) {
  return item.substr(2);
}

/***/ }),

/***/ "./src/components/post-changelog/footer.js":
/*!*************************************************!*\
  !*** ./src/components/post-changelog/footer.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-default btn-sm btn-block",
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: pgettext("post revert btn", "Revert post to state from before this edit.")
      }, pgettext("post revert btn", "Revert")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/post-changelog/index.js":
/*!************************************************!*\
  !*** ./src/components/post-changelog/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalDialog": () => (/* binding */ ModalDialog),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _diff__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./diff */ "./src/components/post-changelog/diff.js");
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./footer */ "./src/components/post-changelog/footer.js");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./toolbar */ "./src/components/post-changelog/toolbar.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ "./src/components/post-changelog/utils.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goToEdit", function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      _this.setState({
        isBusy: true
      });
      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += "?edit=" + edit;
      }
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0,_utils__WEBPACK_IMPORTED_MODULE_11__.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "revertEdit", function (edit) {
      if (_this.state.isBusy) return;
      var confirmation = window.confirm(pgettext("post revert", "Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;
      _this.setState({
        isBusy: true
      });
      var url = _this.props.post.api.edits + "?edit=" + edit;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].post(url).then(function (data) {
        var hydratedPost = misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__.hydrate(data);
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__.patch(data, hydratedPost));
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(pgettext("post revert", "Post has been reverted to previous state."));
        misago_services_modal__WEBPACK_IMPORTED_MODULE_16__["default"].hide();
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
        _this.setState({
          isBusy: false
        });
      });
    });
    _this.state = {
      isReady: false,
      isBusy: true,
      canRevert: props.post.acl.can_edit,
      error: null,
      edit: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, {
          className: "modal-dialog modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__["default"], {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_toolbar__WEBPACK_IMPORTED_MODULE_10__["default"], {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          goToEdit: this.goToEdit,
          revertEdit: this.revertEdit
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_diff__WEBPACK_IMPORTED_MODULE_8__["default"], {
          diff: this.state.edit.diff
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_footer__WEBPACK_IMPORTED_MODULE_9__["default"], {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          revertEdit: this.revertEdit
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function ModalDialog(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: props.className || "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("post history modal title", "Post edits history"))), props.children));
}

/***/ }),

/***/ "./src/components/post-changelog/toolbar.js":
/*!**************************************************!*\
  !*** ./src/components/post-changelog/toolbar.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GoBackBtn": () => (/* binding */ GoBackBtn),
/* harmony export */   "GoForwardBtn": () => (/* binding */ GoForwardBtn),
/* harmony export */   "GoLastBtn": () => (/* binding */ GoLastBtn),
/* harmony export */   "Label": () => (/* binding */ Label),
/* harmony export */   "RevertBtn": () => (/* binding */ RevertBtn),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goLast", function () {
      _this.props.goToEdit();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goForward", function () {
      _this.props.goToEdit(_this.props.edit.next);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goBack", function () {
      _this.props.goToEdit(_this.props.edit.previous);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "revertEdit", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-toolbar post-changelog-toolbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoBackBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goBack
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoForwardBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goForward
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoLastBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goLast
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Label, {
        edit: this.props.edit
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RevertBtn, {
        canRevert: this.props.canRevert,
        disabled: this.props.disabled,
        onClick: this.revertEdit
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function GoBackBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.previous,
    onClick: props.onClick,
    title: pgettext("post history modal btn", "See previous change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left"));
}
function GoForwardBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: pgettext("post history modal btn", "See next change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}
function GoLastBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: pgettext("post history modal btn", "See previous change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "last_page"));
}
function RevertBtn(props) {
  if (!props.canRevert) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "col-sm-3 hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-sm btn-block",
    disabled: props.disabled,
    onClick: props.onClick,
    title: pgettext("post revert btn", "Revert post to state from before this edit.")
  }, pgettext("post revert btn", "Revert")));
}
function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.url.editor),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.editor_name)
    }, true);
  }
  var date = interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.edited_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.edited_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(pgettext("post history modal", "By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/post-changelog/utils.js":
/*!************************************************!*\
  !*** ./src/components/post-changelog/utils.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hydrateEdit": () => (/* binding */ hydrateEdit)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.edited_on)
  });
}

/***/ }),

/***/ "./src/components/post-feed/index.js":
/*!*******************************************!*\
  !*** ./src/components/post-feed/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./post */ "./src/components/post-feed/post/index.js");
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview */ "./src/components/post-feed/preview.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var isReady = _ref.isReady,
    posts = _ref.posts,
    poster = _ref.poster;
  if (!isReady) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_preview__WEBPACK_IMPORTED_MODULE_2__["default"], null);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "posts-list post-feed ui-ready"
  }, posts.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: post.id,
      post: post,
      poster: poster
    });
  }));
}

/***/ }),

/***/ "./src/components/post-feed/post/body.js":
/*!***********************************************!*\
  !*** ./src/components/post-feed/post/body.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Default": () => (/* binding */ Default),
/* harmony export */   "Invalid": () => (/* binding */ Invalid),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.content) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Default, props);
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Invalid, props);
  }
}
function Default(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__["default"], {
    markup: props.post.headline || props.post.content
  }));
}
function Invalid(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body post-body-invalid"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, pgettext("post body invalid", "This post's contents cannot be displayed.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted"
  }, pgettext("post body invalid", "This error is caused by invalid post content manipulation.")));
}

/***/ }),

/***/ "./src/components/post-feed/post/header.js":
/*!*************************************************!*\
  !*** ./src/components/post-feed/post/header.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  var category = post.category,
    thread = post.thread;
  var tooltip = interpolate(pgettext("posts feed item header", "posted %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link item-title",
    href: thread.url
  }, thread.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link post-category",
    href: category.url.index
  }, category.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: post.url.index,
    className: "btn btn-link posted-on",
    title: tooltip
  }, post.posted_on.fromNow()));
}

/***/ }),

/***/ "./src/components/post-feed/post/index.js":
/*!************************************************!*\
  !*** ./src/components/post-feed/post/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./body */ "./src/components/post-feed/post/body.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./header */ "./src/components/post-feed/post/header.js");
/* harmony import */ var _post_side__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./post-side */ "./src/components/post-feed/post/post-side/index.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  var user = poster || post.poster;
  var className = "post";
  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className,
    id: "post-" + post.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post_side__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    poster: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_body__WEBPACK_IMPORTED_MODULE_1__["default"], {
    post: post
  })))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/anonymous.js":
/*!**************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/anonymous.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./button */ "./src/components/post-feed/post/post-side/button.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, post.poster_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, pgettext("post removed poster username", "Removed user")))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/button.js":
/*!***********************************************************!*\
  !*** ./src/components/post-feed/post/post-side/button.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-default btn-icon pull-right",
    href: post.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "btn-text-left hidden-xs"
  }, pgettext("go to post link", "See post")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/index.js":
/*!**********************************************************!*\
  !*** ./src/components/post-feed/post/post-side/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _anonymous__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./anonymous */ "./src/components/post-feed/post/post-side/anonymous.js");
/* harmony import */ var _registered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./registered */ "./src/components/post-feed/post/post-side/registered.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  if (poster && poster.id) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_registered__WEBPACK_IMPORTED_MODULE_2__["default"], {
      post: post,
      poster: poster
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_anonymous__WEBPACK_IMPORTED_MODULE_1__["default"], {
    post: post
  });
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/registered.js":
/*!***************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/registered.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./button */ "./src/components/post-feed/post/post-side/button.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-title */ "./src/components/post-feed/post/post-side/user-title.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: poster.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50,
    user: poster
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_3__["default"], {
    title: poster.title,
    rank: poster.rank
  }))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/user-title.js":
/*!***************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/user-title.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/post-feed/preview.js":
/*!*********************************************!*\
  !*** ./src/components/post-feed/preview.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "posts-list post-feed ui-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0")))))))));
}

/***/ }),

/***/ "./src/components/post-likes.js":
/*!**************************************!*\
  !*** ./src/components/post-likes.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LikeDate": () => (/* binding */ LikeDate),
/* harmony export */   "LikeDetails": () => (/* binding */ LikeDetails),
/* harmony export */   "LikesList": () => (/* binding */ LikesList),
/* harmony export */   "ModalDialog": () => (/* binding */ ModalDialog),
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "hydrateLike": () => (/* binding */ hydrateLike)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isReady: false,
      error: null,
      likes: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__["default"], {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
            className: "modal-sm",
            likes: this.state.likes
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikesList, {
            likes: this.state.likes
          }));
        }
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__["default"], {
          message: pgettext("post likes modal", "No users have liked this post.")
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
        className: "modal-sm"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_10__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));

function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: moment__WEBPACK_IMPORTED_MODULE_7___default()(data.liked_on)
  });
}
function ModalDialog(_ref) {
  var className = _ref.className,
    children = _ref.children,
    likes = _ref.likes;
  var title = pgettext("post likes modal title", "Post Likes");
  if (likes) {
    var likesCount = likes.length;
    var message = npgettext("post likes modal", "%(likes)s like", "%(likes)s likes", likesCount);
    title = interpolate(message, {
      likes: likesCount
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-dialog " + (className || ""),
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", {
    className: "modal-title"
  }, title)), children));
}
function LikesList(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-body modal-post-likers"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "media-list"
  }, props.likes.map(function (like) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDetails, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: like.id
    }, like));
  })));
}
function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", {
      className: "media"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
      className: "media-left"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "user-avatar",
      href: props.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
      size: "50",
      user: user
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
      className: "media-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDate, {
      likedOn: props.liked_on
    })));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    className: "user-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
    size: "50"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("strong", null, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDate, {
    likedOn: props.liked_on
  })));
}
function LikeDate(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    className: "text-muted",
    title: props.likedOn.format("LLL")
  }, props.likedOn.fromNow());
}

/***/ }),

/***/ "./src/components/posting/PostingDialog.jsx":
/*!**************************************************!*\
  !*** ./src/components/posting/PostingDialog.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var CLASS_ACTIVE = "posting-active";
var CLASS_DEFAULT = "posting-default";
var CLASS_MINIMIZED = "posting-minimized";
var CLASS_FULLSCREEN = "posting-fullscreen";
var PostingDialog = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(PostingDialog, _React$Component);
  var _super = _createSuper(PostingDialog);
  function PostingDialog() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostingDialog);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostingDialog, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.body.classList.remove(CLASS_ACTIVE, CLASS_DEFAULT, CLASS_MINIMIZED, CLASS_FULLSCREEN);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(_ref) {
      var fullscreen = _ref.fullscreen,
        minimized = _ref.minimized;
      if (minimized) {
        document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN);
        document.body.classList.add(CLASS_MINIMIZED);
      } else {
        if (fullscreen) {
          document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED);
          document.body.classList.add(CLASS_FULLSCREEN);
        } else {
          document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED);
          document.body.classList.add(CLASS_DEFAULT);
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
        children = _this$props.children,
        fullscreen = _this$props.fullscreen,
        minimized = _this$props.minimized;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()("posting-dialog", {
          "posting-dialog-minimized": minimized,
          "posting-dialog-fullscreen": fullscreen && !minimized
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "posting-dialog-container"
      }, children));
    }
  }]);
  return PostingDialog;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PostingDialog);

/***/ }),

/***/ "./src/components/posting/PostingDialogBody.jsx":
/*!******************************************************!*\
  !*** ./src/components/posting/PostingDialogBody.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PostingDialogBody = function PostingDialogBody(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-body"
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PostingDialogBody);

/***/ }),

/***/ "./src/components/posting/PostingDialogError.jsx":
/*!*******************************************************!*\
  !*** ./src/components/posting/PostingDialogError.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PostingDialogError = function PostingDialogError(_ref) {
  var close = _ref.close,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-error"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-error-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "error_outlined")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-error-detail"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default",
    onClick: close
  }, pgettext("modal", "Close"))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PostingDialogError);

/***/ }),

/***/ "./src/components/posting/PostingDialogHeader.jsx":
/*!********************************************************!*\
  !*** ./src/components/posting/PostingDialogHeader.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PostingDialogHeader = function PostingDialogHeader(_ref) {
  var children = _ref.children,
    close = _ref.close,
    fullscreen = _ref.fullscreen,
    minimize = _ref.minimize,
    minimized = _ref.minimized,
    fullscreenEnter = _ref.fullscreenEnter,
    fullscreenExit = _ref.fullscreenExit,
    open = _ref.open;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-caption"
  }, children), minimized ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Open"),
    type: "button",
    onClick: open
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_less")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Minimize"),
    type: "button",
    onClick: minimize
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_more")), fullscreen ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog hidden-xs",
    title: pgettext("dialog", "Exit the fullscreen mode"),
    type: "button",
    onClick: fullscreenExit
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "fullscreen_exit")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog hidden-xs",
    title: pgettext("dialog", "Enter the fullscreen mode"),
    type: "button",
    onClick: fullscreenEnter
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "fullscreen")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Cancel"),
    type: "button",
    onClick: close
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "close")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PostingDialogHeader);

/***/ }),

/***/ "./src/components/posting/PostingQuoteSelection.jsx":
/*!**********************************************************!*\
  !*** ./src/components/posting/PostingQuoteSelection.jsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PostingQuoteSelection)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_posting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/posting */ "./src/services/posting.js");
/* harmony import */ var _posting__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../posting */ "./src/components/posting/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var PostingQuoteSelection = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostingQuoteSelection, _React$Component);
  var _super = _createSuper(PostingQuoteSelection);
  function PostingQuoteSelection(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, PostingQuoteSelection);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "selected", function () {
      if (_this.element) {
        var range = getQuoteSelection(_this.element) || null;
        var rect = range ? range.getBoundingClientRect() : null;
        _this.setState({
          range: range,
          rect: rect
        });
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "reply", function () {
      if (!_services_posting__WEBPACK_IMPORTED_MODULE_8__["default"].isOpen()) {
        var content = (0,_posting__WEBPACK_IMPORTED_MODULE_9__.getQuoteMarkup)(_this.state.range);
        _services_posting__WEBPACK_IMPORTED_MODULE_8__["default"].open(Object.assign({}, _this.props.posting, {
          "default": content
        }));
        _this.setState({
          range: null,
          rect: null
        });
        window.setTimeout(focusEditor, 1000);
      } else {
        var globalState = (0,_posting__WEBPACK_IMPORTED_MODULE_9__.getGlobalState)();
        if (globalState && !globalState.disabled) {
          globalState.quote((0,_posting__WEBPACK_IMPORTED_MODULE_9__.getQuoteMarkup)(_this.state.range));
          _this.setState({
            range: null,
            rect: null
          });
          focusEditor();
        }
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        ref: function ref(element) {
          if (element) {
            _this.element = element;
          }
        },
        onMouseUp: _this.selected,
        onTouchEnd: _this.selected
      }, _this.props.children), !!_this.state.rect && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "quote-control",
        style: {
          position: "absolute",
          left: _this.state.rect.left + window.scrollX,
          top: _this.state.rect.bottom + window.scrollY
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "quote-control-arrow"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "quote-control-inner"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn quote-control-btn",
        type: "button",
        onClick: _this.reply
      }, pgettext("post reply", "Quote")))));
    });
    _this.state = {
      range: null,
      rect: null
    };
    _this.element = null;
    return _this;
  }
  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(PostingQuoteSelection);
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function focusEditor() {
  var textarea = document.querySelector("#posting-mount textarea");
  textarea.focus();
  textarea.selectionStart = textarea.selectionEnd = textarea.value.length;
}
var getQuoteSelection = function getQuoteSelection(container) {
  if (typeof window.getSelection === "undefined") return;

  // Validate that selection is of valid type and has one range
  var selection = window.getSelection();
  if (!selection) return;
  if (selection.type !== "Range") return;
  if (selection.rangeCount !== 1) return;

  // Validate that selection is within the container and post's article
  var range = selection.getRangeAt(0);
  if (!isRangeContained(range, container)) return;
  if (!isPostContained(range)) return;
  if (!isAnyTextSelected(range.cloneContents())) return;
  return range;
};
var isRangeContained = function isRangeContained(range, container) {
  var node = range.commonAncestorContainer;
  if (node === container) return true;
  var p = node.parentNode;
  while (p) {
    if (p === container) return true;
    p = p.parentNode;
  }
  return false;
};
var isPostContained = function isPostContained(range) {
  var element = range.commonAncestorContainer;
  if (element.nodeName === "ARTICLE") return true;
  if (element.dataset && element.dataset.noquote === "1") return false;
  var p = element.parentNode;
  while (p) {
    if (p.dataset && p.dataset.noquote === "1") return false;
    if (p.nodeName === "ARTICLE") return true;
    p = p.parentNode;
  }
  return false;
};
var isAnyTextSelected = function isAnyTextSelected(node) {
  for (var i = 0; i < node.childNodes.length; i++) {
    var child = node.childNodes[i];
    if (child.nodeType === Node.TEXT_NODE) {
      if (child.textContent && child.textContent.trim().length > 0) return true;
    }
    if (child.nodeName === "IMG") return true;
    if (isAnyTextSelected(child)) return true;
  }
  return false;
};

/***/ }),

/***/ "./src/components/posting/PostingThreadOptions.jsx":
/*!*********************************************************!*\
  !*** ./src/components/posting/PostingThreadOptions.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PostingThreadOptions)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function PostingThreadOptions(_ref) {
  var isClosed = _ref.isClosed,
    isHidden = _ref.isHidden,
    isPinned = _ref.isPinned,
    disabled = _ref.disabled,
    options = _ref.options,
    close = _ref.close,
    open = _ref.open,
    hide = _ref.hide,
    unhide = _ref.unhide,
    pinGlobally = _ref.pinGlobally,
    pinLocally = _ref.pinLocally,
    unpin = _ref.unpin;
  var icons = getIcons(isClosed, isHidden, isPinned);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("post thread", "Options"),
    "aria-expanded": "true",
    "aria-haspopup": "true",
    "data-toggle": "dropdown",
    type: "button",
    disabled: disabled
  }, icons.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "btn-icons-family"
  }, icons.map(function (icon) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      key: icon,
      className: "material-icon"
    }, icon);
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "more_horiz")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, options.pin === 2 && isPinned !== 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: pinGlobally,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark"), pgettext("post thread", "Pinned globally"))), options.pin >= isPinned && isPinned !== 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: pinLocally,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark_outline"), pgettext("post thread", "Pinned in category"))), options.pin >= isPinned && isPinned !== 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: unpin,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "radio_button_unchecked"), pgettext("post thread", "Not pinned"))), options.close && !!isClosed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: open,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock_outline"), pgettext("post thread", "Open"))), options.close && !isClosed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: close,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock"), pgettext("post thread", "Closed"))), options.hide && !!isHidden && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: unhide,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility"), pgettext("post thread", "Visible"))), options.hide && !isHidden && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-link",
    onClick: hide,
    type: "button",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility_off"), pgettext("post thread", "Hidden")))));
}
function getIcons(closed, hidden, pinned) {
  var icons = [];
  if (pinned === 2) icons.push("bookmark");
  if (pinned === 1) icons.push("bookmark_outline");
  if (closed) icons.push("lock");
  if (hidden) icons.push("visibility_off");
  return icons;
}

/***/ }),

/***/ "./src/components/posting/edit.js":
/*!****************************************!*\
  !*** ./src/components/posting/edit.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var _PostingDialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PostingDialog */ "./src/components/posting/PostingDialog.jsx");
/* harmony import */ var _PostingDialogBody__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./PostingDialogBody */ "./src/components/posting/PostingDialogBody.jsx");
/* harmony import */ var _PostingDialogError__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PostingDialogError */ "./src/components/posting/PostingDialogError.jsx");
/* harmony import */ var _PostingDialogHeader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PostingDialogHeader */ "./src/components/posting/PostingDialogHeader.jsx");
/* harmony import */ var _globalState__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./globalState */ "./src/components/posting/globalState.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      _this.originalPost = data.post;
      _this.setState({
        isReady: true,
        post: data.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_9__.hydrate(data.attachments),
        protect: data.is_protected,
        canProtect: data.can_protect
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        error: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "appendData", function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";
      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post.trim() + "\n\n" + newPost
          };
        }
        return {
          post: newPost
        };
      });
      _this.open();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var originalPostSameAsCurrentPost = _this.state.originalPost === _this.state.post;
      var noAttachementsAdded = _this.state.attachments.length === 0;
      if (originalPostSameAsCurrentPost && noAttachementsAdded) {
        return _this.close();
      }
      var cancel = window.confirm(pgettext("edit reply", "Are you sure you want to discard changes?"));
      if (cancel) {
        _this.close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onProtect", function () {
      _this.setState({
        protect: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnprotect", function () {
      _this.setState({
        protect: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState(attachments);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onQuote", function (quote) {
      _this.setState(function (_ref) {
        var post = _ref.post;
        if (post.length > 0) {
          return {
            post: post.trim() + "\n\n" + quote
          };
        }
        return {
          post: quote
        };
      });
      _this.open();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.minimize();
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].close();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "minimize", function () {
      _this.setState({
        fullscreen: false,
        minimized: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.setState({
        minimized: false
      });
      if (_this.state.fullscreen) {}
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenEnter", function () {
      _this.setState({
        fullscreen: true,
        minimized: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenExit", function () {
      _this.setState({
        fullscreen: false,
        minimized: false
      });
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      error: false,
      minimized: false,
      fullscreen: false,
      post: "",
      attachments: [],
      protect: false,
      canProtect: false,
      validators: {
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_10__.getPostValidators)()
      },
      errors: {}
    };
    _this.originalPost = "";
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(this.props.config).then(this.loadSuccess, this.loadError);
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.clearGlobalState)();
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;
      if (context && newContext && context.reply === newContext.reply) return;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(nextProps.config, nextProps.context || null).then(this.appendData, misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(pgettext("posting form", "You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(true, this.onQuote);
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].put(this.props.submit, {
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_9__.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        isLoading: true
      });
      this.close();
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].success(pgettext("edit reply", "Reply has been edited."));
      window.location = success.url.index;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError(rejection);
      }
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var dialogProps = {
        post: this.props.post,
        minimized: this.state.minimized,
        minimize: this.minimize,
        open: this.open,
        fullscreen: this.state.fullscreen,
        fullscreenEnter: this.fullscreenEnter,
        fullscreenExit: this.fullscreenExit,
        close: this.onCancel
      };
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogEditReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogError__WEBPACK_IMPORTED_MODULE_17__["default"], {
          message: this.state.error,
          close: this.close
        }));
      }
      if (!this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogEditReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "posting-loading ui-preview"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_14__["default"], {
          attachments: [],
          value: "",
          submitText: pgettext("edit reply submit", "Edit reply"),
          disabled: true,
          onAttachmentsChange: function onAttachmentsChange() {},
          onChange: function onChange() {}
        })));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogEditReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        className: "posting-dialog-form",
        method: "POST",
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_14__["default"], {
        attachments: this.state.attachments,
        canProtect: this.state.canProtect,
        isProtected: this.state.protect,
        enableProtection: function enableProtection() {
          return _this2.setState({
            protect: true
          });
        },
        disableProtection: function disableProtection() {
          return _this2.setState({
            protect: false
          });
        },
        value: this.state.post,
        submitText: pgettext("edit reply submit", "Edit reply"),
        disabled: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onChange: this.onPostChange
      })));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

var PostingDialogEditReply = function PostingDialogEditReply(_ref2) {
  var children = _ref2.children,
    close = _ref2.close,
    minimized = _ref2.minimized,
    minimize = _ref2.minimize,
    open = _ref2.open,
    fullscreen = _ref2.fullscreen,
    fullscreenEnter = _ref2.fullscreenEnter,
    fullscreenExit = _ref2.fullscreenExit,
    post = _ref2.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialog__WEBPACK_IMPORTED_MODULE_15__["default"], {
    fullscreen: fullscreen,
    minimized: minimized
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
    fullscreen: fullscreen,
    fullscreenEnter: fullscreenEnter,
    fullscreenExit: fullscreenExit,
    minimized: minimized,
    minimize: minimize,
    open: open,
    close: close
  }, interpolate(pgettext("edit reply", "Edit reply by %(poster)s from %(date)s"), {
    poster: post.poster ? post.poster.username : post.poster_name,
    date: post.posted_on.fromNow()
  }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogBody__WEBPACK_IMPORTED_MODULE_16__["default"], null, children));
};

/***/ }),

/***/ "./src/components/posting/getQuoteMarkup.js":
/*!**************************************************!*\
  !*** ./src/components/posting/getQuoteMarkup.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");


var getQuoteMarkup = function getQuoteMarkup(range) {
  var metadata = getQuoteMetadata(range);
  var markup = convertNodesToMarkup(range.cloneContents().childNodes, []);
  var prefix = metadata ? "[quote=\"".concat(metadata, "\"]\n") : "[quote]\n";
  var suffix = "\n[/quote]\n\n";
  var codeBlock = getQuoteCodeBlock(range);
  if (codeBlock) {
    prefix += codeBlock.syntax ? "[code=".concat(codeBlock.syntax, "]\n") : "[code]\n";
    suffix = "\n[/code]" + suffix;
  } else if (isNodeInlineCodeBlock(range)) {
    markup = markup.trim();
    prefix += "`";
    suffix = "`" + suffix;
  } else {
    markup = markup.trim();
  }
  return prefix + markup + suffix;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getQuoteMarkup);
var getQuoteMetadata = function getQuoteMetadata(range) {
  var node = range.commonAncestorContainer;
  if (isNodeElementWithQuoteMetadata(node)) {
    return getQuoteMetadataFromNode(node);
  }
  var p = node.parentNode;
  while (p) {
    if (isNodeElementWithQuoteMetadata(p)) {
      return getQuoteMetadataFromNode(p);
    }
    p = p.parentNode;
  }
  return "";
};
var isNodeElementWithQuoteMetadata = function isNodeElementWithQuoteMetadata(node) {
  if (node.nodeType !== Node.ELEMENT_NODE) return false;
  if (node.nodeName === "ARTICLE") return true;
  if (node.nodeName === "BLOCKQUOTE") {
    return node.dataset && node.dataset.block === "quote";
  }
  return false;
};
var getQuoteMetadataFromNode = function getQuoteMetadataFromNode(element) {
  if (element.dataset) {
    return element.dataset.author || null;
  }
  return null;
};
var getQuoteCodeBlock = function getQuoteCodeBlock(range) {
  var node = range.commonAncestorContainer;
  if (isNodeCodeBlock(node)) {
    return getNodeCodeBlockMeta(node);
  }
  var p = node.parentNode;
  while (p) {
    if (isNodeCodeBlock(p)) {
      return getNodeCodeBlockMeta(p);
    }
    p = p.parentNode;
  }
  return null;
};
var isNodeCodeBlock = function isNodeCodeBlock(node) {
  return node.nodeName === "PRE";
};
var isNodeInlineCodeBlock = function isNodeInlineCodeBlock(range) {
  var node = range.commonAncestorContainer;
  if (node.nodeName === "CODE") {
    return true;
  }
  var p = node.parentNode;
  while (p) {
    if (isNodeElementWithQuoteMetadata(p)) {
      return false;
    }
    if (p.nodeName === "CODE") {
      return true;
    }
    p = p.parentNode;
  }
  return false;
};
var getNodeCodeBlockMeta = function getNodeCodeBlockMeta(node) {
  if (!node.dataset) {
    return {
      syntax: null
    };
  }
  return {
    syntax: node.dataset.syntax || null
  };
};
var convertNodesToMarkup = function convertNodesToMarkup(nodes, stack) {
  var markup = "";
  for (var i = 0; i < nodes.length; i++) {
    var node = nodes[i];
    markup += convertNodeToMarkup(node, stack);
  }
  return markup;
};
var SIMPLE_NODE_MAPPINGS = {
  H1: ["\n\n# ", ""],
  H2: ["\n\n## ", ""],
  H3: ["\n\n### ", ""],
  H4: ["\n\n#### ", ""],
  H5: ["\n\n##### ", ""],
  H6: ["\n\n###### ", ""],
  STRONG: ["**", "**"],
  EM: ["*", "*"],
  DEL: ["~~", "~~"],
  B: ["[b]", "[/b]"],
  U: ["[u]", "[/u]"],
  I: ["[i]", "[/i]"],
  SUB: ["[sub]", "[/sub]"],
  SUP: ["[sup]", "[/sup]"]
};
var convertNodeToMarkup = function convertNodeToMarkup(node, stack) {
  var dataset = node.dataset || {};
  if (node.nodeType === Node.TEXT_NODE) {
    return node.textContent || "";
  }
  if (node.nodeType === Node.ELEMENT_NODE) {
    if (dataset.quote) {
      return dataset.quote || "";
    }
    if (dataset.noquote === "1") return "";
  }
  if (node.nodeType === Node.ELEMENT_NODE && dataset.quote && dataset.quote.trim()) {
    return "";
  }
  if (node.nodeName === "HR") {
    return "\n\n- - -";
  }
  if (SIMPLE_NODE_MAPPINGS[node.nodeName]) {
    var _SIMPLE_NODE_MAPPINGS = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(SIMPLE_NODE_MAPPINGS[node.nodeName], 2),
      prefix = _SIMPLE_NODE_MAPPINGS[0],
      suffix = _SIMPLE_NODE_MAPPINGS[1];
    return prefix + convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [node.nodeName])) + suffix;
  }
  if (node.nodeName === "A") {
    var href = node.href;
    var text = convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [node.nodeName]));
    if (text) {
      return "[".concat(text, "](").concat(href, ")");
    } else {
      return "!(".concat(href, ")");
    }
  }
  if (node.nodeName === "IMG") {
    var src = node.src;
    var alt = node.alt;
    if (alt) {
      return "![".concat(alt, "](").concat(src, ")");
    } else {
      return "!(".concat(src, ")");
    }
  }
  if (node.nodeName === "DIV" || node.nodeName === "ASIDE") {
    var block = dataset.block && dataset.block.toUpperCase();
    if (block && SIMPLE_NODE_MAPPINGS[block]) {
      var _SIMPLE_NODE_MAPPINGS2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(SIMPLE_NODE_MAPPINGS[block], 2),
        _prefix = _SIMPLE_NODE_MAPPINGS2[0],
        _suffix = _SIMPLE_NODE_MAPPINGS2[1];
      return _prefix + convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [block])) + _suffix;
    } else {
      return convertNodesToMarkup(node.childNodes, stack);
    }
  }
  if (node.nodeName === "BLOCKQUOTE") {
    if (dataset.block === "spoiler") {
      var _content = convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), ["SPOILER"])).trim();
      if (!_content) return "";
      var _markup = "\n[spoiler]\n";
      _markup += _content;
      _markup += "\n[/spoiler]";
      return _markup;
    }
    var content = convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), ["QUOTE"])).trim();
    if (!content) return "";
    var metadata = getQuoteMetadataFromNode(node);
    var markup = metadata ? "\n[quote=".concat(metadata, "]\n") : "\n\n[quote]\n";
    markup += content;
    markup += "\n[/quote]";
    return markup;
  }
  if (node.nodeName === "PRE") {
    var syntax = dataset.syntax || null;
    var code = node.querySelector("code");
    var _content2 = code ? code.innerText || "" : "";
    if (!_content2.trim()) return "";
    return "\n[code" + (syntax ? "=" + syntax : "") + "]" + _content2 + "[/code]";
  }
  if (node.nodeName === "CODE") {
    return "`" + node.innerText + "`";
  }
  if (node.nodeName === "P") {
    return "\n" + convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [node.nodeName]));
  }
  if (node.nodeName === "UL" || node.nodeName === "OL") {
    var level = stack.filter(function (item) {
      return item === "OL" || item === "UL";
    }).length;
    var _prefix2 = level === 0 ? "\n" : "";
    return _prefix2 + convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [node.nodeName]));
  }
  if (node.nodeName === "LI") {
    var _prefix3 = "";
    var _level = stack.filter(function (item) {
      return item === "OL" || item === "UL";
    }).length;
    for (var i = 1; i < _level; i++) {
      _prefix3 += "    ";
    }
    var ordered = stack[stack.length - 1] === "OL";
    if (ordered) {
      _prefix3 += dataset.index ? dataset.index + ". " : "1. ";
    } else {
      _prefix3 += "- ";
    }
    var _content3 = convertNodesToMarkup(node.childNodes, [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(stack), [node.nodeName]));
    if (!_content3.trim()) return "";
    return "\n" + _prefix3 + _content3;
  }
  if (node.nodeName === "SPAN") {
    return convertNodesToMarkup(node.childNodes, stack);
  }
  return "";
};

/***/ }),

/***/ "./src/components/posting/globalState.js":
/*!***********************************************!*\
  !*** ./src/components/posting/globalState.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clearGlobalState": () => (/* binding */ clearGlobalState),
/* harmony export */   "getGlobalState": () => (/* binding */ getGlobalState),
/* harmony export */   "setGlobalState": () => (/* binding */ setGlobalState)
/* harmony export */ });
function getGlobalState() {
  return window.misagoReply;
}
function setGlobalState(disabled, quote) {
  window.misagoReply = {
    disabled: disabled,
    quote: quote
  };
}
function clearGlobalState() {
  window.misagoReply = null;
}

/***/ }),

/***/ "./src/components/posting/index.js":
/*!*****************************************!*\
  !*** ./src/components/posting/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostingQuoteSelection": () => (/* reexport safe */ _PostingQuoteSelection__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "clearGlobalState": () => (/* reexport safe */ _globalState__WEBPACK_IMPORTED_MODULE_3__.clearGlobalState),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getGlobalState": () => (/* reexport safe */ _globalState__WEBPACK_IMPORTED_MODULE_3__.getGlobalState),
/* harmony export */   "getQuoteMarkup": () => (/* reexport safe */ _getQuoteMarkup__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "setGlobalState": () => (/* reexport safe */ _globalState__WEBPACK_IMPORTED_MODULE_3__.setGlobalState)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PostingQuoteSelection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PostingQuoteSelection */ "./src/components/posting/PostingQuoteSelection.jsx");
/* harmony import */ var _getQuoteMarkup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getQuoteMarkup */ "./src/components/posting/getQuoteMarkup.js");
/* harmony import */ var _globalState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./globalState */ "./src/components/posting/globalState.js");
/* harmony import */ var _start__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start */ "./src/components/posting/start.js");
/* harmony import */ var _start_private__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./start-private */ "./src/components/posting/start-private.js");
/* harmony import */ var _reply__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./reply */ "./src/components/posting/reply.js");
/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./edit */ "./src/components/posting/edit.js");








/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  switch (props.mode) {
    case "START":
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_start__WEBPACK_IMPORTED_MODULE_4__["default"], props);
    case "START_PRIVATE":
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_start_private__WEBPACK_IMPORTED_MODULE_5__["default"], props);
    case "REPLY":
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reply__WEBPACK_IMPORTED_MODULE_6__["default"], props);
    case "EDIT":
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_edit__WEBPACK_IMPORTED_MODULE_7__["default"], props);
    default:
      return null;
  }
}


/***/ }),

/***/ "./src/components/posting/reply.js":
/*!*****************************************!*\
  !*** ./src/components/posting/reply.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var _PostingDialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PostingDialog */ "./src/components/posting/PostingDialog.jsx");
/* harmony import */ var _PostingDialogBody__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./PostingDialogBody */ "./src/components/posting/PostingDialogBody.jsx");
/* harmony import */ var _PostingDialogError__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PostingDialogError */ "./src/components/posting/PostingDialogError.jsx");
/* harmony import */ var _PostingDialogHeader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PostingDialogHeader */ "./src/components/posting/PostingDialogHeader.jsx");
/* harmony import */ var _globalState__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./globalState */ "./src/components/posting/globalState.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : _this.state.post
      });
      _this.quoteText = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : _this.state.post;
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        error: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "appendData", function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";
      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post.trim() + "\n\n" + newPost
          };
        }
        return {
          post: newPost
        };
      });
      _this.open();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      // If only the quote text is on editor user didn't add anything
      // so no changes to discard
      var onlyQuoteTextInEditor = _this.state.post === _this.quoteText;
      if (onlyQuoteTextInEditor && _this.state.attachments.length === 0) {
        return _this.close();
      }
      var cancel = window.confirm(pgettext("post reply", "Are you sure you want to discard your reply?"));
      if (cancel) {
        _this.close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState(attachments);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onQuote", function (quote) {
      _this.setState(function (_ref) {
        var post = _ref.post;
        if (post.length > 0) {
          return {
            post: post.trim() + "\n\n" + quote
          };
        }
        return {
          post: quote
        };
      });
      _this.open();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.minimize();
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].close();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "minimize", function () {
      _this.setState({
        fullscreen: false,
        minimized: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.setState({
        minimized: false
      });
      if (_this.state.fullscreen) {}
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenEnter", function () {
      _this.setState({
        fullscreen: true,
        minimized: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenExit", function () {
      _this.setState({
        fullscreen: false,
        minimized: false
      });
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      error: null,
      minimized: false,
      fullscreen: false,
      post: _this.props["default"] || "",
      attachments: [],
      validators: {
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_10__.getPostValidators)()
      },
      errors: {}
    };
    _this.quoteText = "";
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.clearGlobalState)();
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;

      // User clicked "reply" instead of "quote"
      if (context && newContext && !newContext.reply) return;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(nextProps.config, nextProps.context || null).then(this.appendData, misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(pgettext("posting form", "You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(true, this.onQuote);
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.submit, {
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_9__.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        isLoading: true
      });
      this.close();
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].success(pgettext("post reply", "Your reply has been posted."));
      window.location = success.url.index;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError(rejection);
      }
      (0,_globalState__WEBPACK_IMPORTED_MODULE_19__.setGlobalState)(false, this.onQuote);
    }
  }, {
    key: "render",
    value: function render() {
      var dialogProps = {
        thread: this.props.thread,
        minimized: this.state.minimized,
        minimize: this.minimize,
        open: this.open,
        fullscreen: this.state.fullscreen,
        fullscreenEnter: this.fullscreenEnter,
        fullscreenExit: this.fullscreenExit,
        close: this.onCancel
      };
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogError__WEBPACK_IMPORTED_MODULE_17__["default"], {
          message: this.state.error,
          close: this.close
        }));
      }
      if (!this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "posting-loading ui-preview"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_14__["default"], {
          attachments: [],
          value: "",
          submitText: pgettext("post reply submit", "Post reply"),
          disabled: true,
          onAttachmentsChange: function onAttachmentsChange() {},
          onChange: function onChange() {}
        })));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        className: "posting-dialog-form",
        method: "POST",
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_14__["default"], {
        attachments: this.state.attachments,
        value: this.state.post,
        submitText: pgettext("post reply submit", "Post reply"),
        disabled: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onChange: this.onPostChange
      })));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

var PostingDialogReply = function PostingDialogReply(_ref2) {
  var children = _ref2.children,
    close = _ref2.close,
    minimized = _ref2.minimized,
    minimize = _ref2.minimize,
    open = _ref2.open,
    fullscreen = _ref2.fullscreen,
    fullscreenEnter = _ref2.fullscreenEnter,
    fullscreenExit = _ref2.fullscreenExit,
    thread = _ref2.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialog__WEBPACK_IMPORTED_MODULE_15__["default"], {
    fullscreen: fullscreen,
    minimized: minimized
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
    fullscreen: fullscreen,
    fullscreenEnter: fullscreenEnter,
    fullscreenExit: fullscreenExit,
    minimized: minimized,
    minimize: minimize,
    open: open,
    close: close
  }, interpolate(pgettext("post reply", "Reply to: %(thread)s"), {
    thread: thread.title
  }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogBody__WEBPACK_IMPORTED_MODULE_16__["default"], null, children));
};

/***/ }),

/***/ "./src/components/posting/start-private.js":
/*!*************************************************!*\
  !*** ./src/components/posting/start-private.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_usernames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/usernames */ "./src/components/posting/utils/usernames.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _PostingDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PostingDialog */ "./src/components/posting/PostingDialog.jsx");
/* harmony import */ var _PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PostingDialogBody */ "./src/components/posting/PostingDialogBody.jsx");
/* harmony import */ var _PostingDialogHeader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PostingDialogHeader */ "./src/components/posting/PostingDialogHeader.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var formEmpty = !!(_this.state.post.length === 0 && _this.state.title.length === 0 && _this.state.to.length === 0 && _this.state.attachments.length === 0);
      if (formEmpty) {
        return _this.close();
      }
      var cancel = window.confirm(pgettext("post thread", "Are you sure you want to discard private thread?"));
      if (cancel) {
        _this.close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onToChange", function (event) {
      _this.changeValue("to", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState(attachments);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.minimize();
      misago_services_posting__WEBPACK_IMPORTED_MODULE_13__["default"].close();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "minimize", function () {
      _this.setState({
        fullscreen: false,
        minimized: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.setState({
        minimized: false
      });
      if (_this.state.fullscreen) {}
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenEnter", function () {
      _this.setState({
        fullscreen: true,
        minimized: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenExit", function () {
      _this.setState({
        fullscreen: false,
        minimized: false
      });
    });
    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");
    _this.state = {
      isLoading: false,
      error: null,
      minimized: false,
      fullscreen: false,
      to: to,
      title: "",
      post: "",
      attachments: [],
      validators: {
        title: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_11__.getTitleValidators)(),
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_11__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!(0,_utils_usernames__WEBPACK_IMPORTED_MODULE_10__["default"])(this.state.to).length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("posting form", "You have to enter at least one recipient."));
        return false;
      }
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("posting form", "You have to enter thread title."));
        return false;
      }
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("posting form", "You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.title[0]);
        return false;
      }
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.submit, {
        to: (0,_utils_usernames__WEBPACK_IMPORTED_MODULE_10__["default"])(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_9__.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        isLoading: true
      });
      this.close();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("post thread", "Your thread has been posted."));
      window.location = success.url;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var dialogProps = {
        minimized: this.state.minimized,
        minimize: this.minimize,
        open: this.open,
        fullscreen: this.state.fullscreen,
        fullscreenEnter: this.fullscreenEnter,
        fullscreenExit: this.fullscreenExit,
        close: this.onCancel
      };
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogStartPrivate, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        className: "posting-dialog-form",
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.Toolbar, {
        className: "posting-dialog-toolbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        className: "posting-dialog-thread-recipients",
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onToChange,
        placeholder: pgettext("post thread", "Recipients, eg.: Danny, Lisa, Alice"),
        type: "text",
        value: this.state.to
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        className: "posting-dialog-thread-title",
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: pgettext("post thread", "Thread title"),
        type: "text",
        value: this.state.title
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_15__["default"], {
        attachments: this.state.attachments,
        value: this.state.post,
        submitText: pgettext("post thread submit", "Start thread"),
        disabled: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onChange: this.onPostChange
      })));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

var PostingDialogStartPrivate = function PostingDialogStartPrivate(_ref) {
  var children = _ref.children,
    close = _ref.close,
    minimized = _ref.minimized,
    minimize = _ref.minimize,
    open = _ref.open,
    fullscreen = _ref.fullscreen,
    fullscreenEnter = _ref.fullscreenEnter,
    fullscreenExit = _ref.fullscreenExit;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialog__WEBPACK_IMPORTED_MODULE_17__["default"], {
    fullscreen: fullscreen,
    minimized: minimized
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogHeader__WEBPACK_IMPORTED_MODULE_19__["default"], {
    fullscreen: fullscreen,
    fullscreenEnter: fullscreenEnter,
    fullscreenExit: fullscreenExit,
    minimized: minimized,
    minimize: minimize,
    open: open,
    close: close
  }, pgettext("post thread", "Start private thread")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__["default"], null, children));
};

/***/ }),

/***/ "./src/components/posting/start.js":
/*!*****************************************!*\
  !*** ./src/components/posting/start.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _PostingDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PostingDialog */ "./src/components/posting/PostingDialog.jsx");
/* harmony import */ var _PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PostingDialogBody */ "./src/components/posting/PostingDialogBody.jsx");
/* harmony import */ var _PostingDialogError__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PostingDialogError */ "./src/components/posting/PostingDialogError.jsx");
/* harmony import */ var _PostingDialogHeader__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./PostingDialogHeader */ "./src/components/posting/PostingDialogHeader.jsx");
/* harmony import */ var _PostingThreadOptions__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./PostingThreadOptions */ "./src/components/posting/PostingThreadOptions.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }















var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      var category = null;
      var options = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          options = item.post;
        }
        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });
      _this.setState({
        isReady: true,
        options: options,
        categories: categories,
        category: category
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        error: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var formEmpty = !!(_this.state.post.length === 0 && _this.state.title.length === 0 && _this.state.attachments.length === 0);
      if (formEmpty) {
        _this.minimize();
        return misago_services_posting__WEBPACK_IMPORTED_MODULE_13__["default"].close();
      }
      var cancel = window.confirm(pgettext("post thread", "Are you sure you want to discard thread?"));
      if (cancel) {
        _this.minimize();
        misago_services_posting__WEBPACK_IMPORTED_MODULE_13__["default"].close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCategoryChange", function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }
      _this.setState({
        category: category.id,
        categoryOptions: category.post,
        pin: pin
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState(attachments);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClose", function () {
      _this.changeValue("close", true);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onOpen", function () {
      _this.changeValue("close", false);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPinGlobally", function () {
      _this.changeValue("pin", 2);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPinLocally", function () {
      _this.changeValue("pin", 1);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnpin", function () {
      _this.changeValue("pin", 0);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onHide", function () {
      _this.changeValue("hide", true);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnhide", function () {
      _this.changeValue("hide", false);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.minimize();
      misago_services_posting__WEBPACK_IMPORTED_MODULE_13__["default"].close();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "minimize", function () {
      _this.setState({
        fullscreen: false,
        minimized: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.setState({
        minimized: false
      });
      if (_this.state.fullscreen) {}
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenEnter", function () {
      _this.setState({
        fullscreen: true,
        minimized: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenExit", function () {
      _this.setState({
        fullscreen: false,
        minimized: false
      });
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      error: null,
      minimized: false,
      fullscreen: false,
      options: null,
      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,
      validators: {
        title: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_11__.getTitleValidators)(),
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_11__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("posting form", "You have to enter thread title."));
        return false;
      }
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("posting form", "You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.title[0]);
        return false;
      }
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_10__.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        isLoading: true
      });
      this.close();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("post thread", "Your thread has been posted."));
      window.location = success.url;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var dialogProps = {
        minimized: this.state.minimized,
        minimize: this.minimize,
        open: this.open,
        fullscreen: this.state.fullscreen,
        fullscreenEnter: this.fullscreenEnter,
        fullscreenExit: this.fullscreenExit,
        close: this.onCancel
      };
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogStart, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogError__WEBPACK_IMPORTED_MODULE_19__["default"], {
          message: this.state.error,
          close: this.close
        }));
      }
      if (!this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogStart, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "posting-loading ui-preview"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.Toolbar, {
          className: "posting-dialog-toolbar"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
          className: "posting-dialog-thread-title",
          auto: true
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
          auto: true
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
          className: "form-control",
          disabled: true,
          type: "text"
        }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
          className: "posting-dialog-category-select",
          auto: true
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
          className: "form-control",
          disabled: true,
          type: "text"
        })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_15__["default"], {
          attachments: [],
          value: "",
          submitText: pgettext("post thread submit", "Start thread"),
          disabled: true,
          onAttachmentsChange: function onAttachmentsChange() {},
          onChange: function onChange() {}
        })));
      }
      var showOptions = !!(this.state.options.close || this.state.options.hide || this.state.options.pin);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogStart, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        className: "posting-dialog-form",
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.Toolbar, {
        className: "posting-dialog-toolbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        className: "posting-dialog-thread-title",
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: pgettext("post thread", "Thread title"),
        type: "text",
        value: this.state.title
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        className: "posting-dialog-category-select",
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_8__["default"], {
        choices: this.state.categories,
        disabled: this.state.isLoading,
        onChange: this.onCategoryChange,
        value: this.state.category
      })), showOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        shrink: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingThreadOptions__WEBPACK_IMPORTED_MODULE_21__["default"], {
        isClosed: this.state.close,
        isHidden: this.state.hide,
        isPinned: this.state.pin,
        disabled: this.state.isLoading,
        options: this.state.options,
        close: this.onClose,
        open: this.onOpen,
        hide: this.onHide,
        unhide: this.onUnhide,
        pinGlobally: this.onPinGlobally,
        pinLocally: this.onPinLocally,
        unpin: this.onUnpin
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditor__WEBPACK_IMPORTED_MODULE_15__["default"], {
        attachments: this.state.attachments,
        value: this.state.post,
        submitText: pgettext("post thread submit", "Start thread"),
        disabled: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onChange: this.onPostChange
      })));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

var PostingDialogStart = function PostingDialogStart(_ref) {
  var children = _ref.children,
    close = _ref.close,
    minimized = _ref.minimized,
    minimize = _ref.minimize,
    open = _ref.open,
    fullscreen = _ref.fullscreen,
    fullscreenEnter = _ref.fullscreenEnter,
    fullscreenExit = _ref.fullscreenExit;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialog__WEBPACK_IMPORTED_MODULE_17__["default"], {
    fullscreen: fullscreen,
    minimized: minimized
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogHeader__WEBPACK_IMPORTED_MODULE_20__["default"], {
    fullscreen: fullscreen,
    fullscreenEnter: fullscreenEnter,
    fullscreenExit: fullscreenExit,
    minimized: minimized,
    minimize: minimize,
    open: open,
    close: close
  }, pgettext("post thread", "Start new thread")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__["default"], null, children));
};

/***/ }),

/***/ "./src/components/posting/utils/attachments.js":
/*!*****************************************************!*\
  !*** ./src/components/posting/utils/attachments.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clean": () => (/* binding */ clean),
/* harmony export */   "hydrate": () => (/* binding */ hydrate)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

function clean(attachments) {
  return attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  }).map(function (a) {
    return a.id;
  });
}
function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(attachment.uploaded_on)
    });
  });
}

/***/ }),

/***/ "./src/components/posting/utils/usernames.js":
/*!***************************************************!*\
  !*** ./src/components/posting/utils/usernames.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });
  return removedDuplicates;
}

/***/ }),

/***/ "./src/components/posting/utils/validators.js":
/*!****************************************************!*\
  !*** ./src/components/posting/utils/validators.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPostValidators": () => (/* binding */ getPostValidators),
/* harmony export */   "getTitleLengthMax": () => (/* binding */ getTitleLengthMax),
/* harmony export */   "getTitleLengthMin": () => (/* binding */ getTitleLengthMin),
/* harmony export */   "getTitleValidators": () => (/* binding */ getTitleValidators),
/* harmony export */   "validatePostLengthMax": () => (/* binding */ validatePostLengthMax),
/* harmony export */   "validatePostLengthMin": () => (/* binding */ validatePostLengthMin)
/* harmony export */ });
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}
function getPostValidators() {
  if (misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}
function getTitleLengthMin() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.minLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = npgettext("thread title length validator", "Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function getTitleLengthMax() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.maxLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = npgettext("thread title length validator", "Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function validatePostLengthMin() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.minLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = npgettext("post length validator", "Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function validatePostLengthMax() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.maxLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = npgettext("post length validator", "Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/controls.js":
/*!*****************************************************!*\
  !*** ./src/components/posts-list/event/controls.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Delete": () => (/* binding */ Delete),
/* harmony export */   "Hide": () => (/* binding */ Hide),
/* harmony export */   "Unhide": () => (/* binding */ Unhide),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (isVisible(props.post.acl)) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
      className: "event-controls"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
  } else {
    return null;
  }
}
function isVisible(acl) {
  return acl.can_hide;
}
var Hide = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component);
  var _super = _createSuper(Hide);
  function Hide() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: moment__WEBPACK_IMPORTED_MODULE_8___default()(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));
      var op = {
        op: "replace",
        path: "is-hidden",
        value: true
      };
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].patch(_this.props.post.api.index, [op]).then(function (patch) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, pgettext("event hide btn", "Hide"));
      } else {
        return null;
      }
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component2);
  var _super2 = _createSuper(Unhide);
  function Unhide() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, {
        is_hidden: false
      }));
      var op = {
        op: "replace",
        path: "is-hidden",
        value: false
      };
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].patch(_this2.props.post.api.index, [op]).then(function (patch) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, pgettext("event reveal btn", "Unhide"));
      } else {
        return null;
      }
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component3);
  var _super3 = _createSuper(Delete);
  function Delete() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      var decision = window.confirm(pgettext("event delete", "Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3["delete"]();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "delete", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this3.props.post, {
        isDeleted: true
      }));
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"]["delete"](_this3.props.post.api.index).then(function () {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(pgettext("event delete", "Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, pgettext("event delete btn", "Delete"));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/posts-list/event/icon.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/event/icon.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ICON = {
  changed_title: "edit",
  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",
  moved: "arrow_forward",
  merged: "call_merge",
  approved: "done",
  opened: "lock_open",
  closed: "lock_outline",
  unhid: "visibility",
  hid: "visibility_off",
  changed_owner: "grade",
  tookover: "grade",
  added_participant: "person_add",
  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};
var EventIcon = function EventIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "event-icon-bg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, ICON[props.post.event_type]));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventIcon);

/***/ }),

/***/ "./src/components/posts-list/event/index.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/event/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icon */ "./src/components/posts-list/event/icon.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./info */ "./src/components/posts-list/event/info.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/components/posts-list/event/message.js");
/* harmony import */ var _unread_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unread-label */ "./src/components/posts-list/event/unread-label.js");
/* harmony import */ var _waypoint__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../waypoint */ "./src/components/posts-list/waypoint.js");






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var className = "event";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_unread_label__WEBPACK_IMPORTED_MODULE_4__["default"], {
    post: props.post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_icon__WEBPACK_IMPORTED_MODULE_1__["default"], props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "event-content",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_message__WEBPACK_IMPORTED_MODULE_3__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_info__WEBPACK_IMPORTED_MODULE_2__["default"], props))));
}

/***/ }),

/***/ "./src/components/posts-list/event/info.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/event/info.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Hidden": () => (/* binding */ Hidden),
/* harmony export */   "Poster": () => (/* binding */ Poster),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls */ "./src/components/posts-list/event/controls.js");



var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-inline event-info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Hidden, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Poster, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_2__["default"], props));
}
function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.url.hidden_by),
        user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_by_name)
      }, true);
    }
    var date = interpolate(DATE_ABBR, {
      absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_on.format("LLL")),
      relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_on.fromNow())
    }, true);
    var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event info", "Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: {
        __html: message
      }
    });
  } else {
    return null;
  }
}
function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster.url),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster_name)
    }, true);
  }
  var date = interpolate(DATE_URL, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.url.index),
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.posted_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.posted_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event info", "By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/message.js":
/*!****************************************************!*\
  !*** ./src/components/posts-list/event/message.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddedParticipant": () => (/* binding */ AddedParticipant),
/* harmony export */   "ChangedOwner": () => (/* binding */ ChangedOwner),
/* harmony export */   "ChangedTitle": () => (/* binding */ ChangedTitle),
/* harmony export */   "Merged": () => (/* binding */ Merged),
/* harmony export */   "Moved": () => (/* binding */ Moved),
/* harmony export */   "RemovedParticipant": () => (/* binding */ RemovedParticipant),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var MESSAGE = {
  pinned_globally: pgettext("event message", "Thread has been pinned globally."),
  pinned_locally: pgettext("event message", "Thread has been pinned in category."),
  unpinned: pgettext("event message", "Thread has been unpinned."),
  approved: pgettext("event message", "Thread has been approved."),
  opened: pgettext("event message", "Thread has been opened."),
  closed: pgettext("event message", "Thread has been closed."),
  unhid: pgettext("event message", "Thread has been revealed."),
  hid: pgettext("event message", "Thread has been made hidden."),
  tookover: pgettext("event message", "Took thread over."),
  owner_left: pgettext("event message", "Owner has left thread. This thread is now closed."),
  participant_left: pgettext("event message", "Participant has left thread.")
};
var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (MESSAGE[props.post.event_type]) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      className: "event-message"
    }, MESSAGE[props.post.event_type]);
  } else if (props.post.event_type === "changed_title") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RemovedParticipant, props);
  } else {
    return null;
  }
}
function ChangedTitle(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function Moved(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.from_category.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.from_category.name)
  }, true);
  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function Merged(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.merged_thread)
  }, true);
  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function ChangedOwner(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function AddedParticipant(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function RemovedParticipant(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(pgettext("event message", "Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/unread-label.js":
/*!*********************************************************!*\
  !*** ./src/components/posts-list/event/unread-label.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  if (post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-label"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "label label-unread"
  }, pgettext("event unread label", "New event")));
}

/***/ }),

/***/ "./src/components/posts-list/index.js":
/*!********************************************!*\
  !*** ./src/components/posts-list/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListItem": () => (/* binding */ ListItem),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event */ "./src/components/posts-list/event/index.js");
/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./post */ "./src/components/posts-list/post/index.js");
/* harmony import */ var _post_preview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./post/preview */ "./src/components/posts-list/post/preview.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!props.posts.isLoaded) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
      className: "posts-list ui-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_post_preview__WEBPACK_IMPORTED_MODULE_4__["default"], null));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: "posts-list ui-ready"
  }, props.posts.results.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ListItem, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: post.id,
      post: post
    }, props));
  }));
}
function ListItem(props) {
  if (props.post.is_event) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_event__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_post__WEBPACK_IMPORTED_MODULE_3__["default"], props);
}

/***/ }),

/***/ "./src/components/posts-list/post/attachments/attachment.js":
/*!******************************************************************!*\
  !*** ./src/components/posts-list/post/attachments/attachment.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AttachmentDetails": () => (/* binding */ AttachmentDetails),
/* harmony export */   "AttachmentIcon": () => (/* binding */ AttachmentIcon),
/* harmony export */   "AttachmentPreview": () => (/* binding */ AttachmentPreview),
/* harmony export */   "AttachmentThumbnail": () => (/* binding */ AttachmentThumbnail),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");
/* harmony import */ var misago_utils_file_size__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/file-size */ "./src/utils/file-size.js");




var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-md-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentPreview, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-attachment"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: props.attachment.url.index,
    className: "attachment-name item-title",
    target: "_blank"
  }, props.attachment.filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentDetails, props)));
}
function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentThumbnail, props));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentIcon, props));
  }
}
function AttachmentIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: props.attachment.url.index,
    className: "material-icon"
  }, "insert_drive_file");
}
function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    target: "_blank",
    style: {
      backgroundImage: 'url("' + (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(url) + '")'
    }
  });
}
function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.url.uploader),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploader_name)
    }, true);
  }
  var date = interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploaded_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(pgettext("post attachment", "%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_3__["default"])(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/post/attachments/index.js":
/*!*************************************************************!*\
  !*** ./src/components/posts-list/post/attachments/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Row": () => (/* binding */ Row),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_batch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/batch */ "./src/utils/batch.js");
/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachment */ "./src/components/posts-list/post/attachments/attachment.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!isVisible(props.post)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-attachments"
  }, (0,misago_utils_batch__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.attachments, 2).map(function (row) {
    var key = row.map(function (a) {
      return a ? a.id : 0;
    }).join("_");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Row, {
      key: key,
      row: row
    });
  }));
}
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}
function Row(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, props.row.map(function (attachment) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_attachment__WEBPACK_IMPORTED_MODULE_2__["default"], {
      attachment: attachment,
      key: attachment ? attachment.id : 0
    });
  }));
}

/***/ }),

/***/ "./src/components/posts-list/post/body.js":
/*!************************************************!*\
  !*** ./src/components/posts-list/post/body.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Default": () => (/* binding */ Default),
/* harmony export */   "Hidden": () => (/* binding */ Hidden),
/* harmony export */   "Invalid": () => (/* binding */ Invalid),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _waypoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../waypoint */ "./src/components/posts-list/waypoint.js");
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");




var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Hidden, props);
  } else if (props.post.content) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Default, props);
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Invalid, props);
  }
}
function Default(_ref) {
  var post = _ref.post;
  var poster = "@" + (post.poster ? post.poster.username : post.poster_name);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body",
    post: post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    author: poster,
    markup: post.content
  }));
}
function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.url.hidden_by),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_by_name)
    }, true);
  }
  var date = interpolate(HIDDEN_ON, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(pgettext("post body hidden", "Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body post-body-hidden",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, pgettext("post body hidden", "This post is hidden. You cannot see its contents.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}
function Invalid(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body post-body-invalid",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, pgettext("post body invalid", "This post's contents cannot be displayed.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted"
  }, pgettext("post body invalid", "This error is caused by invalid post content manipulation.")));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/actions.js":
/*!************************************************************!*\
  !*** ./src/components/posts-list/post/controls/actions.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "approve": () => (/* binding */ approve),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "like": () => (/* binding */ like),
/* harmony export */   "markAsBestAnswer": () => (/* binding */ markAsBestAnswer),
/* harmony export */   "patch": () => (/* binding */ patch),
/* harmony export */   "patchThread": () => (/* binding */ patchThread),
/* harmony export */   "protect": () => (/* binding */ protect),
/* harmony export */   "remove": () => (/* binding */ remove),
/* harmony export */   "unhide": () => (/* binding */ unhide),
/* harmony export */   "unlike": () => (/* binding */ unlike),
/* harmony export */   "unmarkBestAnswer": () => (/* binding */ unmarkBestAnswer),
/* harmony export */   "unprotect": () => (/* binding */ unprotect)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");






function approve(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_unapproved: false
  }));
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var previousState = {
    is_unapproved: props.post.is_unapproved
  };
  patch(props, ops, previousState);
}
function protect(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_protected: true
  }));
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}
function unprotect(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_protected: false
  }));
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}
function hide(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_hidden: true,
    hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };
  patch(props, ops, previousState);
}
function unhide(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_hidden: false
  }));
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var previousState = {
    is_hidden: props.post.is_hidden
  };
  patch(props, ops, previousState);
}
function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));
  var ops = [{
    op: "replace",
    path: "is-liked",
    value: true
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}
function unlike(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));
  var ops = [{
    op: "replace",
    path: "is-liked",
    value: false
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}
function patch(props, ops, previousState) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(props.post.api.index, ops).then(function (newState) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail[0]);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, previousState));
  });
}
function remove(props) {
  var confirmed = window.confirm(pgettext("post delete", "Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    isDeleted: true
  }));
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"](props.post.api.index).then(function () {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(pgettext("post delete", "Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
      isDeleted: false
    }));
  });
}
function markAsBestAnswer(props) {
  var post = props.post,
    user = props.user;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));
  var ops = [{
    op: "replace",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}
function unmarkBestAnswer(props) {
  var post = props.post;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));
  var ops = [{
    op: "remove",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}
function patchThread(props, ops, previousState) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = moment__WEBPACK_IMPORTED_MODULE_0___default()(newState.best_answer_marked_on);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail[0]);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update(previousState));
  });
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/dropdown.js":
/*!*************************************************************!*\
  !*** ./src/components/posts-list/post/controls/dropdown.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Approve": () => (/* binding */ Approve),
/* harmony export */   "Delete": () => (/* binding */ Delete),
/* harmony export */   "Edit": () => (/* binding */ Edit),
/* harmony export */   "Hide": () => (/* binding */ Hide),
/* harmony export */   "MarkAsBestAnswer": () => (/* binding */ MarkAsBestAnswer),
/* harmony export */   "Move": () => (/* binding */ Move),
/* harmony export */   "Permalink": () => (/* binding */ Permalink),
/* harmony export */   "PostEdits": () => (/* binding */ PostEdits),
/* harmony export */   "Protect": () => (/* binding */ Protect),
/* harmony export */   "Split": () => (/* binding */ Split),
/* harmony export */   "Unhide": () => (/* binding */ Unhide),
/* harmony export */   "UnmarkMarkBestAnswer": () => (/* binding */ UnmarkMarkBestAnswer),
/* harmony export */   "Unprotect": () => (/* binding */ Unprotect),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./actions */ "./src/components/posts-list/post/controls/actions.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./move */ "./src/components/posts-list/post/controls/move.js");
/* harmony import */ var misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/post-changelog */ "./src/components/post-changelog/index.js");
/* harmony import */ var _split__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./split */ "./src/components/posts-list/post/controls/split.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Permalink, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Edit, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(MarkAsBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnmarkMarkBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEdits, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Approve, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Move, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Split, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Protect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unprotect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
}
var Permalink = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Permalink, _React$Component);
  var _super = _createSuper(Permalink);
  function Permalink() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Permalink);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;
      prompt(pgettext("post permalink", "Permament link to this post:"), permaUrl);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Permalink, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "link"), pgettext("post options permalink btn", "Permament link")));
    }
  }]);
  return Permalink;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Edit = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Edit, _React$Component2);
  var _super2 = _createSuper(Edit);
  function Edit() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Edit);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_9__["default"].open({
        mode: "EDIT",
        thread: _this2.props.thread,
        post: _this2.props.post,
        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), pgettext("post options edit btn", "Edit")));
    }
  }]);
  return Edit;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswer, _React$Component3);
  var _super3 = _createSuper(MarkAsBestAnswer);
  function MarkAsBestAnswer() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswer);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.markAsBestAnswer(_this3.props);
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        post = _this$props.post,
        thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box"), pgettext("post options best answer btn", "Mark as best answer")));
    }
  }]);
  return MarkAsBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var UnmarkMarkBestAnswer = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(UnmarkMarkBestAnswer, _React$Component4);
  var _super4 = _createSuper(UnmarkMarkBestAnswer);
  function UnmarkMarkBestAnswer() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, UnmarkMarkBestAnswer);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unmarkBestAnswer(_this4.props);
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        post = _this$props2.post,
        thread = _this$props2.thread;
      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), pgettext("post options best answer btn", "Unmark best answer")));
    }
  }]);
  return UnmarkMarkBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var PostEdits = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEdits, _React$Component5);
  var _super5 = _createSuper(PostEdits);
  function PostEdits() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEdits);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super5.call.apply(_super5, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_12__["default"], {
        post: _this5.props.post
      }));
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var message = npgettext("post edits", "This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), pgettext("post options edit btn", "Changes history")));
    }
  }]);
  return PostEdits;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Approve = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Approve, _React$Component6);
  var _super6 = _createSuper(Approve);
  function Approve() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Approve);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.approve(_this6.props);
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), pgettext("post options approve btn", "Approve")));
    }
  }]);
  return Approve;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Move = /*#__PURE__*/function (_React$Component7) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Move, _React$Component7);
  var _super7 = _createSuper(Move);
  function Move() {
    var _this7;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Move);
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    _this7 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this7), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_11__["default"], _this7.props));
    });
    return _this7;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), pgettext("post options move btn", "Move")));
    }
  }]);
  return Move;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Split = /*#__PURE__*/function (_React$Component8) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Split, _React$Component8);
  var _super8 = _createSuper(Split);
  function Split() {
    var _this8;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Split);
    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }
    _this8 = _super8.call.apply(_super8, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this8), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_split__WEBPACK_IMPORTED_MODULE_13__["default"], _this8.props));
    });
    return _this8;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_split"), pgettext("post options split btn", "Split")));
    }
  }]);
  return Split;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Protect = /*#__PURE__*/function (_React$Component9) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Protect, _React$Component9);
  var _super9 = _createSuper(Protect);
  function Protect() {
    var _this9;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Protect);
    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }
    _this9 = _super9.call.apply(_super9, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this9), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.protect(_this9.props);
    });
    return _this9;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), pgettext("post options protect btn", "Protect")));
    }
  }]);
  return Protect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unprotect = /*#__PURE__*/function (_React$Component10) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unprotect, _React$Component10);
  var _super10 = _createSuper(Unprotect);
  function Unprotect() {
    var _this10;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unprotect);
    for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }
    _this10 = _super10.call.apply(_super10, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this10), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unprotect(_this10.props);
    });
    return _this10;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), pgettext("post options protect btn", "Remove protection")));
    }
  }]);
  return Unprotect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Hide = /*#__PURE__*/function (_React$Component11) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component11);
  var _super11 = _createSuper(Hide);
  function Hide() {
    var _this11;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }
    _this11 = _super11.call.apply(_super11, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this11), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.hide(_this11.props);
    });
    return _this11;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
        post = _this$props3.post,
        thread = _this$props3.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), pgettext("post options hide btn", "Hide")));
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component12) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component12);
  var _super12 = _createSuper(Unhide);
  function Unhide() {
    var _this12;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }
    _this12 = _super12.call.apply(_super12, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this12), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unhide(_this12.props);
    });
    return _this12;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), pgettext("post options hide btn", "Unhide")));
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component13) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component13);
  var _super13 = _createSuper(Delete);
  function Delete() {
    var _this13;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }
    _this13 = _super13.call.apply(_super13, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this13), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.remove(_this13.props);
    });
    return _this13;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
        post = _this$props4.post,
        thread = _this$props4.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), pgettext("post options delete btn", "Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/posts-list/post/controls/index.js":
/*!**********************************************************!*\
  !*** ./src/components/posts-list/post/controls/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dropdown */ "./src/components/posts-list/post/controls/dropdown.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "pull-right dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default btn-icon dropdown-toggle",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_more")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dropdown__WEBPACK_IMPORTED_MODULE_1__["default"], props));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/move.js":
/*!*********************************************************!*\
  !*** ./src/components/posts-list/post/controls/move.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(pgettext("post move modal", "You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_10__.patch(this.props.post, {
        isDeleted: true
      }));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].success(pgettext("post move modal", "Selected post was moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "id_url",
        label: pgettext("post move modal field", "Link to thread you want to move post to")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading
      }, pgettext("post move modal btn", "Move post"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("post move modal title", "Move post")));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/split.js":
/*!**********************************************************!*\
  !*** ./src/components/posts-list/post/controls/split.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Error": () => (/* binding */ Error),
/* harmony export */   "Loader": () => (/* binding */ Loader),
/* harmony export */   "Modal": () => (/* binding */ Modal),
/* harmony export */   "ModerationForm": () => (/* binding */ ModerationForm),
/* harmony export */   "PostingConfig": () => (/* binding */ PostingConfig),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(PostingConfig, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, props, {
    Form: ModerationForm
  }));
}
var PostingConfig = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PostingConfig, _React$Component);
  var _super = _createSuper(PostingConfig);
  function PostingConfig(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PostingConfig);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });
        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(ModerationForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Loader, null);
      }
    }
  }]);
  return PostingConfig;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var ModerationForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ModerationForm, _Form);
  var _super2 = _createSuper(ModerationForm);
  function ModerationForm(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ModerationForm);
    _this3 = _super2.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };
      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }
      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }
      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }
      _this3.setState(newState);
    });
    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: pgettext("thread hidden switch choice", "No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: pgettext("thread hidden switch choice", "Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: pgettext("thread closed switch choice", "No")
    }, {
      value: true,
      icon: "lock",
      label: pgettext("thread closed switch choice", "Yes")
    }];
    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }
        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__.patch(this.props.post, {
        isDeleted: true
      }));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].success(pgettext("post split modal", "Selected post was split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: pgettext("thread weight choice", "Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: pgettext("thread weight choice", "Pinned in category")
      }];
      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: pgettext("thread weight choice", "Pinned globally")
        });
      }
      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts split modal field", "Thread weight"),
          "for": "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts split modal field", "Hide thread"),
          "for": "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts split modal field", "Close thread"),
          "for": "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("posts split modal field", "Thread title"),
        "for": "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("posts split modal field", "Category"),
        "for": "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("posts split modal btn", "Split post")))));
    }
  }]);
  return ModerationForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
function Loader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
}
function Error(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
    className: "lead"
  }, pgettext("post split modal", "You can't move this post at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, props.message)));
}
function Modal(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("posts split modal title", "Split post into new thread"))), props.children));
}

/***/ }),

/***/ "./src/components/posts-list/post/flags.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/post/flags.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlagBestAnswer": () => (/* binding */ FlagBestAnswer),
/* harmony export */   "FlagHidden": () => (/* binding */ FlagHidden),
/* harmony export */   "FlagProtected": () => (/* binding */ FlagProtected),
/* harmony export */   "FlagUnapproved": () => (/* binding */ FlagUnapproved),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function FlagBestAnswer(_ref) {
  var post = _ref.post,
    thread = _ref.thread,
    user = _ref.user;
  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }
  var message = null;
  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(pgettext("post best answer flag", "Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(pgettext("post best answer flag", "Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-best-answer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, message));
}
function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-hidden"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, pgettext("post hidden flag", "This post is hidden. Only users with permission may see its contents.")));
}
function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-unapproved"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "remove_circle_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, pgettext("post unapproved flag", "This post is unapproved. Only users with permission to approve posts and its author may see its contents.")));
}
function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-protected visible-xs-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, pgettext("post protected flag", "This post is protected. Only moderators may change it.")));
}
function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

/***/ }),

/***/ "./src/components/posts-list/post/footer.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/footer.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Edit": () => (/* binding */ Edit),
/* harmony export */   "Like": () => (/* binding */ Like),
/* harmony export */   "Likes": () => (/* binding */ Likes),
/* harmony export */   "LikesCompact": () => (/* binding */ LikesCompact),
/* harmony export */   "MarkAsBestAnswer": () => (/* binding */ MarkAsBestAnswer),
/* harmony export */   "MarkAsBestAnswerCompact": () => (/* binding */ MarkAsBestAnswerCompact),
/* harmony export */   "Quote": () => (/* binding */ Quote),
/* harmony export */   "Reply": () => (/* binding */ Reply),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getLikesMessage": () => (/* binding */ getLikesMessage),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _controls_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controls/actions */ "./src/components/posts-list/post/controls/actions.js");
/* harmony import */ var misago_components_post_likes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/post-likes */ "./src/components/post-likes.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!isVisible(props.post)) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "post-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(MarkAsBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(MarkAsBestAnswerCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Like, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Likes, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({
    lastLikes: props.post.last_likes,
    likes: props.post.likes
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(LikesCompact, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({
    likes: props.post.likes
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Reply, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Quote, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Edit, props));
}
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}
var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswer, _React$Component);
  var _super = _createSuper(MarkAsBestAnswer);
  function MarkAsBestAnswer() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswer);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _controls_actions__WEBPACK_IMPORTED_MODULE_9__.markAsBestAnswer(_this.props);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        post = _this$props.post,
        thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "hidden-xs btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "check_box"), pgettext("post footer btn", "Best answer"));
    }
  }]);
  return MarkAsBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var MarkAsBestAnswerCompact = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswerCompact, _React$Component2);
  var _super2 = _createSuper(MarkAsBestAnswerCompact);
  function MarkAsBestAnswerCompact() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswerCompact);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      _controls_actions__WEBPACK_IMPORTED_MODULE_9__.markAsBestAnswer(_this2.props);
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        post = _this$props2.post,
        thread = _this$props2.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "check_box"));
    }
  }]);
  return MarkAsBestAnswerCompact;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Like = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Like, _React$Component3);
  var _super3 = _createSuper(Like);
  function Like() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Like);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      if (_this3.props.post.is_liked) {
        _controls_actions__WEBPACK_IMPORTED_MODULE_9__.unlike(_this3.props);
      } else {
        _controls_actions__WEBPACK_IMPORTED_MODULE_9__.like(_this3.props);
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;
      var className = "btn btn-default btn-sm pull-left";
      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: className,
        disabled: this.props.post.isBusy,
        onClick: this.onClick,
        type: "button"
      }, this.props.post.is_liked ? pgettext("post footer btn", "Liked") : pgettext("post footer btn", "Like"));
    }
  }]);
  return Like;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Likes = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Likes, _React$Component4);
  var _super4 = _createSuper(Likes);
  function Likes() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Likes);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_post_likes__WEBPACK_IMPORTED_MODULE_10__["default"], {
        post: _this4.props.post
      }));
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;
      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-link btn-sm pull-left hidden-xs",
          onClick: this.onClick,
          type: "button"
        }, getLikesMessage(this.props.likes, this.props.lastLikes));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "pull-left hidden-xs"
      }, getLikesMessage(this.props.likes, this.props.lastLikes));
    }
  }]);
  return Likes;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var LikesCompact = /*#__PURE__*/function (_Likes) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(LikesCompact, _Likes);
  var _super5 = _createSuper(LikesCompact);
  function LikesCompact() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LikesCompact);
    return _super5.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;
      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
          onClick: this.onClick,
          type: "button"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
          className: "material-icon"
        }, "favorite"), this.props.likes);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "likes-compact pull-left visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "favorite"), this.props.likes);
    }
  }]);
  return LikesCompact;
}(Likes);
function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });
  if (usernames.length == 1) {
    return interpolate(pgettext("post likes", "%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }
  var hiddenLikes = likes - usernames.length;
  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];
  var usernamesList = interpolate(pgettext("post likes", "%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);
  if (hiddenLikes === 0) {
    return interpolate(pgettext("post likes", "%(users)s like this."), {
      users: usernamesList
    }, true);
  }
  var message = npgettext("post likes", "%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);
  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}
var Reply = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Reply, _React$Component5);
  var _super6 = _createSuper(Reply);
  function Reply() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Reply);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].open({
        mode: "REPLY",
        thread: _this5.props.thread,
        config: _this5.props.thread.api.editor,
        submit: _this5.props.thread.api.posts.index
      });
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, pgettext("post footer btn", "Reply"));
      } else {
        return null;
      }
    }
  }]);
  return Reply;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Quote = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Quote, _React$Component6);
  var _super7 = _createSuper(Quote);
  function Quote() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Quote);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].open({
        mode: "QUOTE",
        thread: _this6.props.thread,
        config: _this6.props.thread.api.editor,
        submit: _this6.props.thread.api.posts.index,
        context: {
          reply: _this6.props.post.id
        }
      });
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Quote, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, pgettext("post footer btn", "Quote"));
      } else {
        return null;
      }
    }
  }]);
  return Quote;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Edit = /*#__PURE__*/function (_React$Component7) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Edit, _React$Component7);
  var _super8 = _createSuper(Edit);
  function Edit() {
    var _this7;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Edit);
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    _this7 = _super8.call.apply(_super8, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this7), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].open({
        mode: "EDIT",
        thread: _this7.props.thread,
        post: _this7.props.post,
        config: _this7.props.post.api.editor,
        submit: _this7.props.post.api.index
      });
    });
    return _this7;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "hidden-xs btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, pgettext("post footer btn", "Edit"));
      } else {
        return null;
      }
    }
  }]);
  return Edit;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

/***/ }),

/***/ "./src/components/posts-list/post/header.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/header.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostEdits": () => (/* binding */ PostEdits),
/* harmony export */   "PostEditsCompacts": () => (/* binding */ PostEditsCompacts),
/* harmony export */   "PostedOn": () => (/* binding */ PostedOn),
/* harmony export */   "PostedOnCompact": () => (/* binding */ PostedOnCompact),
/* harmony export */   "ProtectedLabel": () => (/* binding */ ProtectedLabel),
/* harmony export */   "UnreadCompact": () => (/* binding */ UnreadCompact),
/* harmony export */   "UnreadLabel": () => (/* binding */ UnreadLabel),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var _select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./select */ "./src/components/posts-list/post/select.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/post-changelog */ "./src/components/post-changelog/index.js");
/* harmony import */ var misago_components_Timestamp__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/Timestamp */ "./src/components/Timestamp/index.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnreadLabel, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnreadCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostedOn, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostedOnCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEdits, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEditsCompacts, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ProtectedLabel, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_select__WEBPACK_IMPORTED_MODULE_9__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_8__["default"], props));
}
function UnreadLabel(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-unread hidden-xs"
  }, pgettext("post unread label", "New post"));
}
function UnreadCompact(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-unread visible-xs-inline-block"
  }, pgettext("post unread label", "New"));
}
function PostedOn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_Timestamp__WEBPACK_IMPORTED_MODULE_12__["default"], {
    datetime: props.post.posted_on.toISOString()
  }));
}
function PostedOnCompact(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on visible-xs-inline-block"
  }, props.post.posted_on.fromNow());
}
var PostEdits = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEdits, _React$Component);
  var _super = _createSuper(PostEdits);
  function PostEdits() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEdits);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_11__["default"], {
        post: _this.props.post
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var tooltip = npgettext("post edits stat", "This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);
      var label = npgettext("post edits stat", "edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link btn-see-edits hidden-xs",
        onClick: this.onClick,
        title: title,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);
  return PostEdits;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var PostEditsCompacts = /*#__PURE__*/function (_PostEdits) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEditsCompacts, _PostEdits);
  var _super2 = _createSuper(PostEditsCompacts);
  function PostEditsCompacts() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEditsCompacts);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var label = npgettext("post edits stat", "%(edits)s edit", "%(edits)s edits", this.props.post.edits);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link btn-see-edits visible-xs-inline-block",
        onClick: this.onClick,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);
  return PostEditsCompacts;
}(PostEdits);
function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);
  if (!isVisible) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-protected hidden-xs",
    title: pgettext("post protected label", "This post is protected and may not be edited.")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "lock_outline"), pgettext("post protected label", "protected"));
}

/***/ }),

/***/ "./src/components/posts-list/post/index.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/post/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _attachments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./attachments */ "./src/components/posts-list/post/attachments/index.js");
/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./body */ "./src/components/posts-list/post/body.js");
/* harmony import */ var _flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flags */ "./src/components/posts-list/post/flags.js");
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./footer */ "./src/components/posts-list/post/footer.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./header */ "./src/components/posts-list/post/header.js");
/* harmony import */ var _post_side__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./post-side */ "./src/components/posts-list/post/post-side/index.js");







/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var className = "post";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }
  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }
  if (!props.post.is_read) {
    className += " post-new";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post_side__WEBPACK_IMPORTED_MODULE_6__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_5__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagUnapproved, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagProtected, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagHidden, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_body__WEBPACK_IMPORTED_MODULE_2__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_attachments__WEBPACK_IMPORTED_MODULE_1__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_footer__WEBPACK_IMPORTED_MODULE_4__["default"], props)))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/anonymous.js":
/*!***************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/anonymous.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/posts-list/post/controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/posts-list/post/select */ "./src/components/posts-list/post/select.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 100
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "media-heading item-title"
  }, post.poster_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, pgettext("post removed poster username", "Removed user")))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/has-visible-title.js":
/*!***********************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/has-visible-title.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var title = _ref.title,
    rank = _ref.rank;
  return rank.is_tab || !!title || !!rank.title;
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/index.js":
/*!***********************************************************!*\
  !*** ./src/components/posts-list/post/post-side/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _anonymous__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./anonymous */ "./src/components/posts-list/post/post-side/anonymous.js");
/* harmony import */ var _registered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./registered */ "./src/components/posts-list/post/post-side/registered.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.poster) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_registered__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_anonymous__WEBPACK_IMPORTED_MODULE_1__["default"], props);
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/registered.js":
/*!****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/registered.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/posts-list/post/controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/posts-list/post/select */ "./src/components/posts-list/post/select.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var _user_postcount__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user-postcount */ "./src/components/posts-list/post/post-side/user-postcount.js");
/* harmony import */ var _user_status__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user-status */ "./src/components/posts-list/post/post-side/user-status.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user-title */ "./src/components/posts-list/post/post-side/user-title.js");








/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    thread = _ref.thread;
  var poster = post.poster;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: poster.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 100,
    user: poster
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__["default"], {
    status: poster.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__.StatusIcon, {
    status: poster.status
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_7__["default"], {
    rank: poster.rank,
    title: poster.title
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_6__["default"], {
    poster: poster
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_postcount__WEBPACK_IMPORTED_MODULE_5__["default"], {
    poster: poster
  }))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-postcount.js":
/*!********************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-postcount.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _has_visible_title__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./has-visible-title */ "./src/components/posts-list/post/post-side/has-visible-title.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var poster = _ref.poster;
  var message = npgettext("poster stats", "%(posts)s post", "%(posts)s posts", poster.posts);
  var className = "user-postcount";
  if ((0,_has_visible_title__WEBPACK_IMPORTED_MODULE_1__["default"])(poster)) {
    className += " hidden-xs hidden-sm";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, interpolate(message, {
    posts: poster.posts
  }, true));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-status.js":
/*!*****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-status.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var _has_visible_title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./has-visible-title */ "./src/components/posts-list/post/post-side/has-visible-title.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var poster = _ref.poster;
  var className = "hidden-xs";
  if ((0,_has_visible_title__WEBPACK_IMPORTED_MODULE_2__["default"])(poster)) {
    className += " hidden-sm";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    status: poster.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    status: poster.status,
    user: poster
  })));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-title.js":
/*!****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-title.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title;
  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }
  if (!userTitle) return null;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: rank.url
    }, userTitle));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/posts-list/post/preview.js":
/*!***************************************************!*\
  !*** ./src/components/posts-list/post/preview.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");



var PostPreview = function PostPreview() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: "100"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "media-heading item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: "80px"
    }
  }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: "60px"
    }
  }, "\xA0"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text",
    style: {
      width: "100%"
    }
  }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text",
    style: {
      width: "70%"
    }
  }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text hidden-xs hidden-sm",
    style: {
      width: "85%"
    }
  }, "\xA0")))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PostPreview);

/***/ }),

/***/ "./src/components/posts-list/post/select.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/select.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "isVisible": () => (/* binding */ isVisible)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      if (_this.props.post.isSelected) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_9__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__.deselect(_this.props.post));
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_9__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__.select(_this.props.post));
      }
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pull-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-icon",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.props.post.isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

/***/ }),

/***/ "./src/components/posts-list/waypoint.js":
/*!***********************************************!*\
  !*** ./src/components/posts-list/waypoint.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "initialize", function (element) {
      _this.initialized = true;
      _this.observer = new IntersectionObserver(function (entries) {
        return entries.forEach(_this.callback);
      });
      _this.observer.observe(element);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "callback", function (entry) {
      if (!entry.isIntersecting || _this.props.post.is_read || _this.primed) {
        return;
      }
      window.setTimeout(function () {
        misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.post.api.read);
      }, 0);
      _this.primed = true;
      _this.destroy();
    });
    _this.initialized = false;
    _this.primed = false;
    _this.observer = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "destroy",
    value: function destroy() {
      if (this.observer) {
        this.observer.disconnect();
        this.observer = null;
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.destroy();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var ready = !this.initialized && !this.primed && !this.props.post.is_read;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.props.className,
        ref: function ref(node) {
          if (node && ready) {
            _this2.initialize(node);
          }
        }
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/ProfileDataList.jsx":
/*!****************************************************!*\
  !*** ./src/components/profile/ProfileDataList.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user-status */ "./src/components/user-status.js");


var ProfileDataList = function ProfileDataList(_ref) {
  var profile = _ref.profile;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "profile-data-list"
  }, profile.is_active === false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-account-disabled"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: pgettext("profile data list", "This user's account has been disabled by administrator.")
  }, pgettext("profile data list", "Account disabled"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-status-display"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    user: profile,
    status: profile.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusIcon, {
    user: profile,
    status: profile.status
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    user: profile,
    status: profile.status,
    className: "status-label"
  }))), profile.rank.is_tab ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-rank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: profile.rank.url,
    className: "item-title"
  }, profile.rank.name)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-rank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, profile.rank.name)), (profile.title || profile.rank.title) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-title"
  }, profile.title || profile.rank.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-joined-on"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: interpolate(pgettext("profile data list", "Joined on %(joined_on)s"), {
      joined_on: profile.joined_on.format("LL, LT")
    }, true)
  }, interpolate(pgettext("profile data list", "Joined %(joined_on)s"), {
    joined_on: profile.joined_on.fromNow()
  }, true))), profile.email && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-email"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: "mailto:" + profile.email,
    className: "item-title"
  }, profile.email)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProfileDataList);

/***/ }),

/***/ "./src/components/profile/ProfileHeader.jsx":
/*!**************************************************!*\
  !*** ./src/components/profile/ProfileHeader.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");
/* harmony import */ var _follow_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./follow-button */ "./src/components/profile/follow-button.js");
/* harmony import */ var _message_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message-button */ "./src/components/profile/message-button.js");
/* harmony import */ var _moderation_nav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./moderation/nav */ "./src/components/profile/moderation/nav.js");
/* harmony import */ var _ProfileDataList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProfileDataList */ "./src/components/profile/ProfileDataList.jsx");








var ProfileHeader = function ProfileHeader(_ref) {
  var profile = _ref.profile,
    user = _ref.user,
    moderation = _ref.moderation,
    message = _ref.message,
    follow = _ref.follow;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeader, {
    styleName: profile.rank.css_class ? "rank-" + profile.rank.css_class : "profile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderBanner, {
    styleName: profile.rank.css_class ? "rank-" + profile.rank.css_class : "profile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "profile-page-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "profile-page-header-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-sm hidden-md hidden-lg",
    user: profile,
    size: 200,
    size2x: 400
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-xs hidden-md hidden-lg",
    user: profile,
    size: 64,
    size2x: 128
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-xs hidden-sm",
    user: profile,
    size: 128,
    size2x: 256
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, profile.username))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderDetails, {
    className: "profile-page-header-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ProfileDataList__WEBPACK_IMPORTED_MODULE_7__["default"], {
    profile: profile
  }))), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_message_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "btn btn-default btn-block btn-outline",
    profile: profile,
    user: user
  })), moderation.available && !follow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  })))), follow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_follow_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "btn btn-block btn-outline",
    profile: profile
  })), moderation.available && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  })))), moderation.available && !follow && !message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    className: "hidden-xs",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    className: "hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings"), pgettext("profile options btn", "Options")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  }))))))));
};
var ProfileModerationButton = function ProfileModerationButton() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-icon btn-outline dropdown-toggle",
    type: "button",
    title: pgettext("profile options btn", "Options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProfileHeader);

/***/ }),

/***/ "./src/components/profile/ProfileNav.js":
/*!**********************************************!*\
  !*** ./src/components/profile/ProfileNav.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_li__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/li */ "./src/components/li.js");



var ProfileNav = function ProfileNav(_ref) {
  var baseUrl = _ref.baseUrl,
    page = _ref.page,
    pages = _ref.pages;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "nav-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, page.icon), page.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, pages.map(function (page) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: page.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: baseUrl + page.component + "/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "nav nav-pills hidden-xs",
    role: "menu"
  }, pages.map(function (page) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_li__WEBPACK_IMPORTED_MODULE_2__["default"], {
      path: baseUrl + page.component + "/",
      key: page.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: baseUrl + page.component + "/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProfileNav);

/***/ }),

/***/ "./src/components/profile/ban-details.js":
/*!***********************************************!*\
  !*** ./src/components/profile/ban-details.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/panel-loader */ "./src/components/panel-loader.js");
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (ban) {
      if (ban.expires_on) {
        ban.expires_on = moment__WEBPACK_IMPORTED_MODULE_7___default()(ban.expires_on);
      }
      _this.setState({
        isLoaded: true,
        error: null,
        ban: ban
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "error", function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("PROFILE_BAN")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling(props.profile.api.ban);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = moment__WEBPACK_IMPORTED_MODULE_7___default()(ban.expires_on);
      }
      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_12__["default"].start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: pgettext("profile ban details title", "Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_12__["default"].stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "panel-body ban-message ban-user-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, pgettext("profile ban details", "User-shown ban message")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.user_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "panel-body ban-message ban-staff-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, pgettext("profile ban details", "Team-shown ban message")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.staff_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter(moment__WEBPACK_IMPORTED_MODULE_7___default()())) {
          var _title = interpolate(pgettext("profile ban details", "This ban expires on %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);
          var message = interpolate(pgettext("profile ban details", "This ban expires %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("abbr", {
            title: _title
          }, message);
        } else {
          return pgettext("profile ban details", "This ban has expired.");
        }
      } else {
        return interpolate(pgettext("profile ban details", "%(username)s's ban is permanent."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, this.getUserMessage(), this.getStaffMessage(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "panel-body ban-expires"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, pgettext("profile ban details", "Ban expiration")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
            className: "lead"
          }, this.getExpirationMessage())));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
            message: pgettext("profile ban details", "No ban is active at the moment.")
          }));
        }
      } else if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
          icon: "error_outline",
          message: this.state.error
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "profile-ban-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "panel panel-default"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", {
        className: "panel-title"
      }, pgettext("profile ban details title", "Ban details"))), this.getPanelBody()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/profile/details/empty-message.js":
/*!*********************************************************!*\
  !*** ./src/components/profile/details/empty-message.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var isAuthenticated = _ref.isAuthenticated,
    profile = _ref.profile;
  var message = null;
  if (isAuthenticated) {
    message = pgettext("profile details empty", "You are not sharing any details with others.");
  } else {
    message = interpolate(pgettext("profile details empty", "%(username)s is not sharing any details with others."), {
      username: profile.username
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body text-center lead"
  }, message));
}

/***/ }),

/***/ "./src/components/profile/details/field-value.js":
/*!*******************************************************!*\
  !*** ./src/components/profile/details/field-value.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SafeValue": () => (/* binding */ SafeValue),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var html = _ref.html,
    text = _ref.text,
    url = _ref.url;
  if (html) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: {
        __html: html
      }
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-control-static col-md-9"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SafeValue, {
    text: text,
    url: url
  }));
}
function SafeValue(_ref2) {
  var text = _ref2.text,
    url = _ref2.url;
  if (url) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: url,
      target: "_blank",
      rel: "nofollow"
    }, text || url));
  }
  if (text) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, text);
  }
  return null;
}

/***/ }),

/***/ "./src/components/profile/details/field.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/field.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-value */ "./src/components/profile/details/field-value.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", {
    className: "control-label col-md-3"
  }, props.name, ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field_value__WEBPACK_IMPORTED_MODULE_1__["default"], props));
}

/***/ }),

/***/ "./src/components/profile/details/form.js":
/*!************************************************!*\
  !*** ./src/components/profile/details/form.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_edit_details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/edit-details */ "./src/components/edit-details/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var api = _ref.api,
    display = _ref.display,
    onCancel = _ref.onCancel,
    onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_edit_details__WEBPACK_IMPORTED_MODULE_1__["default"], {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

/***/ }),

/***/ "./src/components/profile/details/group.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/group.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field */ "./src/components/profile/details/field.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var fields = _ref.fields,
    name = _ref.name;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-profile-details-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-horizontal"
  }, fields.map(function (_ref2) {
    var fieldname = _ref2.fieldname,
      html = _ref2.html,
      name = _ref2.name,
      text = _ref2.text,
      url = _ref2.url;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: fieldname,
      name: name,
      html: html,
      text: text,
      url: url
    });
  }))));
}

/***/ }),

/***/ "./src/components/profile/details/groups-list.js":
/*!*******************************************************!*\
  !*** ./src/components/profile/details/groups-list.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _empty_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty-message */ "./src/components/profile/details/empty-message.js");
/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group */ "./src/components/profile/details/group.js");
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display,
    groups = _ref.groups,
    isAuthenticated = _ref.isAuthenticated,
    loading = _ref.loading,
    profile = _ref.profile;
  if (!display) return null;
  if (loading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_3__["default"], null);
  }
  if (!groups.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_empty_message__WEBPACK_IMPORTED_MODULE_1__["default"], {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, groups.map(function (group, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_group__WEBPACK_IMPORTED_MODULE_2__["default"], {
      fields: group.fields,
      key: i,
      name: group.name
    });
  }));
}

/***/ }),

/***/ "./src/components/profile/details/header.js":
/*!**************************************************!*\
  !*** ./src/components/profile/details/header.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");


var ProfileDetailsHeader = function ProfileDetailsHeader(_ref) {
  var onEdit = _ref.onEdit,
    showEditButton = _ref.showEditButton;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", null, pgettext("profile details title", "Details")))), showEditButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    onClick: onEdit,
    type: "button"
  }, pgettext("profile details edit btn", "Edit")))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProfileDetailsHeader);

/***/ }),

/***/ "./src/components/profile/details/index.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/profile/details/form.js");
/* harmony import */ var _groups_list__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./groups-list */ "./src/components/profile/details/groups-list.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./header */ "./src/components/profile/details/header.js");
/* harmony import */ var misago_data_profile_details__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/data/profile-details */ "./src/data/profile-details.js");
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      _this.setState({
        editing: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onEdit", function () {
      _this.setState({
        editing: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onSuccess", function (newDetails) {
      var _this$props = _this.props,
        dispatch = _this$props.dispatch,
        isAuthenticated = _this$props.isAuthenticated,
        profile = _this$props.profile;
      var message = null;
      if (isAuthenticated) {
        message = pgettext("profile details form", "Your details have been changed.");
      } else {
        message = interpolate(pgettext("profile details form", "%(username)s's details have been changed."), {
          username: profile.username
        }, true);
      }
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].info(message);
      dispatch((0,misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_12__.load)(newDetails));
      _this.setState({
        editing: false
      });
    });
    _this.state = {
      editing: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: pgettext("profile details title", "Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        dispatch = _this$props2.dispatch,
        isAuthenticated = _this$props2.isAuthenticated,
        profile = _this$props2.profile,
        profileDetails = _this$props2.profileDetails;
      var loading = profileDetails.id !== profile.id;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_data_profile_details__WEBPACK_IMPORTED_MODULE_11__["default"], {
        data: profileDetails,
        dispatch: dispatch,
        user: profile
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "profile-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_header__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onEdit: this.onEdit,
        showEditButton: !!profileDetails.edit && !this.state.editing
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_groups_list__WEBPACK_IMPORTED_MODULE_9__["default"], {
        display: !this.state.editing,
        groups: profileDetails.groups,
        isAuthenticated: isAuthenticated,
        loading: loading,
        profile: profile
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form__WEBPACK_IMPORTED_MODULE_8__["default"], {
        api: profile.api.edit_details,
        dispatch: dispatch,
        display: this.state.editing,
        onCancel: this.onCancel,
        onSuccess: this.onSuccess
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/feed/index.js":
/*!**********************************************!*\
  !*** ./src/components/profile/feed/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Posts": () => (/* binding */ Posts),
/* harmony export */   "Threads": () => (/* binding */ Threads)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route */ "./src/components/profile/feed/route.js");



function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = pgettext("profile threads", "You haven't started any threads.");
  } else {
    emptyMessage = interpolate(pgettext("profile threads", "%(username)s hasn't started any threads"), {
      username: props.profile.username
    }, true);
  }
  var header = null;
  if (!props.posts.isLoaded) {
    header = pgettext("profile threads", "Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = npgettext("profile threads", "You have started %(threads)s thread.", "You have started %(threads)s threads.", props.profile.threads);
    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = npgettext("profile threads", "%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.profile.threads);
    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_route__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: pgettext("profile threads title", "Threads")
  }, props));
}
function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = pgettext("profile posts", "You have posted no messages.");
  } else {
    emptyMessage = interpolate(pgettext("profile posts", "%(username)s posted no messages."), {
      username: props.profile.username
    }, true);
  }
  var header = null;
  if (!props.posts.isLoaded) {
    header = pgettext("profile posts", "Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = npgettext("profile posts", "You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.profile.posts);
    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = npgettext("profile posts", "%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.profile.posts);
    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_route__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: pgettext("profile posts title", "Posts")
  }, props));
}

/***/ }),

/***/ "./src/components/profile/feed/route.js":
/*!**********************************************!*\
  !*** ./src/components/profile/feed/route.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Feed": () => (/* binding */ Feed),
/* harmony export */   "LoadMoreButton": () => (/* binding */ LoadMoreButton),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_post_feed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/post-feed */ "./src/components/post-feed/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "loadMore", function () {
      _this.setState({
        isLoading: true
      });
      _this.loadItems(_this.props.posts.next);
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;
      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.load(data));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.append(data));
        }
        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_12__["default"].set({
        title: this.props.title,
        parent: this.props.profile.username
      });
      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "profile-feed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", null, this.props.header)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Feed, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        isLoading: this.state.isLoading,
        loadMore: this.loadMore
      }, this.props)));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function Feed(props) {
  if (props.posts.isLoaded && !props.posts.results.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
      className: "lead"
    }, props.emptyMessage);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_post_feed__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isReady: props.posts.isLoaded,
    posts: props.posts.results,
    poster: props.profile
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(LoadMoreButton, {
    isLoading: props.isLoading,
    loadMore: props.loadMore,
    next: props.posts.next
  }));
}
function LoadMoreButton(props) {
  if (!props.next) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "pager-more"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: "btn btn-default btn-outline",
    loading: props.isLoading,
    onClick: props.loadMore
  }, pgettext("profile load more btn", "Show older activity")));
}

/***/ }),

/***/ "./src/components/profile/follow-button.js":
/*!*************************************************!*\
  !*** ./src/components/profile/follow-button.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "action", function () {
      _this.setState({
        isLoading: true
      });
      if (_this.props.profile.is_followed) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
      });
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return pgettext("user profile follow btn", "Following");
      } else {
        return pgettext("user profile follow btn", "Follow");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.action
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.getIcon()), this.getLabel());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/followers.js":
/*!*********************************************!*\
  !*** ./src/components/profile/followers.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/quick-search */ "./src/components/quick-search.js");
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });
      _this.loadUsers(_this.state.page + 1, _this.state.search);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });
      _this.loadUsers(1, ev.target.value);
    });
    _this.setSpecialProps();
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = pgettext("profile followers title", "Followers");
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;
      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var apiUrl = this.props.profile.api[this.API_FILTER];
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.append)(data.results));
        }
        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__["default"].set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return pgettext("Loading...");
      } else if (this.state.search) {
        var message = npgettext("profile followers", "Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = npgettext("profile followers", "You have %(users)s follower.", "You have %(users)s followers.", this.state.count);
        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = npgettext("profile followers", "%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return pgettext("profile followers", "Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return pgettext("profile followers", "You have no followers.");
      } else {
        return interpolate(pgettext("profile followers", "%(username)s has no followers."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(pgettext("profile followers", "Show more (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
          className: "lead"
        }, this.getEmptyMessage());
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_10__["default"], {
        cols: 3,
        isReady: this.state.isLoaded,
        users: this.props.users
      }), this.getMoreButton());
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", null, this.getLabel()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__["default"], {
        value: this.state.search,
        onChange: this.search,
        placeholder: pgettext("profile followers search", "Search users...")
      })))), this.getListBody());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/follows.js":
/*!*******************************************!*\
  !*** ./src/components/profile/follows.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_profile_followers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/profile/followers */ "./src/components/profile/followers.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_Followers) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Followers);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      this.TITLE = pgettext("profile follows title", "Follows");
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return pgettext("profile follows", "Loading...");
      } else if (this.state.search) {
        var message = npgettext("profile follows", "Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = npgettext("profile follows", "You are following %(users)s user.", "You are following %(users)s users.", this.state.count);
        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = npgettext("profile follows", "%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return pgettext("profile follows", "Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return pgettext("profile follows", "You are not following any users.");
      } else {
        return interpolate(pgettext("profile follows", "%(username)s is not following any users."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);
  return _default;
}(misago_components_profile_followers__WEBPACK_IMPORTED_MODULE_6__["default"]);


/***/ }),

/***/ "./src/components/profile/message-button.js":
/*!**************************************************!*\
  !*** ./src/components/profile/message-button.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago */ "./src/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_8__["default"].open({
        mode: "START_PRIVATE",
        submit: misago__WEBPACK_IMPORTED_MODULE_9__["default"].get("PRIVATE_THREADS_API"),
        to: [_this.props.profile]
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      if (!canMessage || isProfileOwner) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: this.props.className,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "comment"), pgettext("profile message btn", "Message"));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/moderation/avatar-controls.js":
/*!**************************************************************!*\
  !*** ./src/components/profile/moderation/avatar-controls.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,
          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("profile avatar moderation", "Avatar controls have been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: pgettext("profile avatar moderation field", "Lock avatar"),
        helpText: pgettext("profile avatar moderation field", "Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
        "for": "id_is_avatar_locked"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__["default"], {
        id: "id_is_avatar_locked",
        disabled: this.state.isLoading,
        iconOn: "lock_outline",
        iconOff: "lock_open",
        labelOn: pgettext("profile avatar moderation field", "Disallow user from changing avatar"),
        labelOff: pgettext("profile avatar moderation field", "Allow user to change avatar"),
        onChange: this.bindInput("is_avatar_locked"),
        value: this.state.is_avatar_locked
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: pgettext("profile avatar moderation field", "User message"),
        helpText: pgettext("profile avatar moderation field", "Optional message for user explaining why they are prohibited from changing their avatar."),
        "for": "id_avatar_lock_user_message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("textarea", {
        id: "id_avatar_lock_user_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_user_message"),
        value: this.state.avatar_lock_user_message
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: pgettext("profile avatar moderation field", "Staff message"),
        helpText: pgettext("profile avatar moderation field", "Optional message for forum team members explaining why the user is prohibited form changing their avatar."),
        "for": "id_avatar_lock_staff_message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("textarea", {
        id: "id_avatar_lock_staff_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_staff_message"),
        value: this.state.avatar_lock_staff_message
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, pgettext("profile avatar moderation btn", "Close")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("profile avatar moderation btn", "Save changes"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_11__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("profile avatar moderation title", "Avatar controls"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/change-username.js":
/*!**************************************************************!*\
  !*** ./src/components/profile/moderation/change-username.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      username: "",
      validators: {
        username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_16__.usernameContent()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_11__.addNameChange)(apiResponse, this.props.profile, this.props.user));
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("profile username moderation", "Username has been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: pgettext("profile username moderation field", "New username"),
        "for": "id_username"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("profile username moderation btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("profile username moderation btn", "Change username"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("profile username moderation title", "Change username"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/delete-account.js":
/*!*************************************************************!*\
  !*** ./src/components/profile/moderation/delete-account.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "countdown", function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    });
    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,
      countdown: 5,
      confirm: false,
      with_content: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.profile.api["delete"]).then(function () {
        _this2.setState({
          isLoaded: true
        });
        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].post(this.props.profile.api["delete"], {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].stop("user-profile");
      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(pgettext("profile delete", "%(username)s's account, threads, posts and other content has been deleted."), {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(pgettext("profile delete", "%(username)s's account has been deleted and other content has been hidden."), {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(pgettext("profile delete btn", "Delete %(username)s"), {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate(pgettext("profile delete btn", "Please wait... (%(countdown)ss)"), {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        label: pgettext("profile delete", "User content"),
        "for": "id_with_content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_13__["default"], {
        id: "id_with_content",
        disabled: this.state.isLoading,
        labelOn: pgettext("profile delete content", "Delete together with user's account"),
        labelOff: pgettext("profile delete content", "Hide after deleting user's account"),
        onChange: this.bindInput("with_content"),
        value: this.state.with_content
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, pgettext("profile delete btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-danger",
        loading: this.state.isLoading,
        disabled: !this.state.confirm
      }, this.getButtonLabel())));
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.state.isDeleted), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
        href: misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("USERS_LIST_URL")
      }, pgettext("profile delete link", "Return to users list")))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("profile delete title", "Delete user account"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/nav.js":
/*!**************************************************!*\
  !*** ./src/components/profile/moderation/nav.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_profile_moderation_avatar_controls__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/profile/moderation/avatar-controls */ "./src/components/profile/moderation/avatar-controls.js");
/* harmony import */ var misago_components_profile_moderation_change_username__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/profile/moderation/change-username */ "./src/components/profile/moderation/change-username.js");
/* harmony import */ var misago_components_profile_moderation_delete_account__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/profile/moderation/delete-account */ "./src/components/profile/moderation/delete-account.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showAvatarDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_avatar_controls__WEBPACK_IMPORTED_MODULE_9__["default"]));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showRenameDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_change_username__WEBPACK_IMPORTED_MODULE_10__["default"]));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showDeleteDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_delete_account__WEBPACK_IMPORTED_MODULE_11__["default"]));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.moderation;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right",
        role: "menu"
      }, !!moderation.avatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showAvatarDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "portrait"), pgettext("profile moderation menu", "Avatar controls"))), !!moderation.rename && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showRenameDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "credit_card"), pgettext("profile moderation menu", "Change username"))), !!moderation["delete"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showDeleteDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), pgettext("profile moderation menu", "Delete account"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/root.js":
/*!****************************************!*\
  !*** ./src/components/profile/root.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "paths": () => (/* binding */ paths),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _ban_details__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ban-details */ "./src/components/profile/ban-details.js");
/* harmony import */ var _details__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./details */ "./src/components/profile/details/index.js");
/* harmony import */ var _feed__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./feed */ "./src/components/profile/feed/index.js");
/* harmony import */ var _followers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./followers */ "./src/components/profile/followers.js");
/* harmony import */ var _follows__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./follows */ "./src/components/profile/follows.js");
/* harmony import */ var _username_history__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./username-history */ "./src/components/profile/username-history.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _ProfileHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ProfileHeader */ "./src/components/profile/ProfileHeader.jsx");
/* harmony import */ var _ProfileNav__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ProfileNav */ "./src/components/profile/ProfileNav.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
















var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_17__.hydrate)(data));
    });
    _this.startPolling(props.profile.api.index);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_18__["default"].start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var baseUrl = misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE").url;
      var pages = misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE_PAGES");
      var page = pages.filter(function (page) {
        var url = baseUrl + page.component + "/";
        return _this2.props.location.pathname === url;
      })[0];
      var _this$props = this.props,
        profile = _this$props.profile,
        user = _this$props.user;
      var moderation = getModeration(profile, user);
      var message = !!user.acl.can_start_private_threads && profile.id !== user.id;
      var follow = !!profile.acl.can_follow && profile.id !== user.id;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-user-profile"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ProfileHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
        profile: this.props.profile,
        user: this.props.user,
        moderation: moderation,
        message: message,
        follow: follow
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_20__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ProfileNav__WEBPACK_IMPORTED_MODULE_22__["default"], {
        baseUrl: baseUrl,
        page: page,
        pages: pages
      }), this.props.children));
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_15__["default"]);

var getModeration = function getModeration(profile, user) {
  var moderation = {
    available: false,
    rename: false,
    avatar: false,
    "delete": false
  };
  if (user.is_anonymous) return moderation;
  moderation.rename = profile.acl.can_rename;
  moderation.avatar = profile.acl.can_moderate_avatar;
  moderation["delete"] = profile.acl.can_delete;
  moderation.available = !!(moderation.rename || moderation.avatar || moderation["delete"]);
  return moderation;
};
function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}
var COMPONENTS = {
  posts: _feed__WEBPACK_IMPORTED_MODULE_11__.Posts,
  threads: _feed__WEBPACK_IMPORTED_MODULE_11__.Threads,
  followers: _followers__WEBPACK_IMPORTED_MODULE_12__["default"],
  follows: _follows__WEBPACK_IMPORTED_MODULE_13__["default"],
  details: _details__WEBPACK_IMPORTED_MODULE_10__["default"],
  "username-history": _username_history__WEBPACK_IMPORTED_MODULE_14__["default"],
  "ban-details": _ban_details__WEBPACK_IMPORTED_MODULE_9__["default"]
};
function paths() {
  var paths = [];
  misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE").url + item.component + "/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(COMPONENTS[item.component])
    }));
  });
  return paths;
}

/***/ }),

/***/ "./src/components/profile/username-history.js":
/*!****************************************************!*\
  !*** ./src/components/profile/username-history.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/quick-search */ "./src/components/quick-search.js");
/* harmony import */ var misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/username-history/root */ "./src/components/username-history/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });
      _this.loadChanges(_this.state.page + 1, _this.state.search);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });
      _this.loadChanges(1, ev.target.value);
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;
      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.append)(data.results));
        }
        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__["default"].set({
        title: pgettext("profile username history title", "Username history"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return pgettext("profile username history", "Loading...");
      } else if (this.state.search) {
        var message = npgettext("profile username history", "Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);
        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = npgettext("profile username history", "Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);
        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = npgettext("profile username history", "%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return pgettext("profile username history", "Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return pgettext("username history empty", "Your account has no history of name changes.");
      } else {
        return interpolate(pgettext("profile username history", "%(username)s's username was never changed."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(pgettext("profile username history", "Show older (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "profile-username-history"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", null, this.getLabel()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__["default"], {
        value: this.state.search,
        onChange: this.search,
        placeholder: pgettext("profile username history search input", "Search history...")
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_10__["default"], {
        isLoaded: this.state.isLoaded,
        emptyMessage: this.getEmptyMessage(),
        changes: this.props["username-history"]
      }), this.getMoreButton());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/quick-search.js":
/*!****************************************!*\
  !*** ./src/components/quick-search.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        className: "form-control",
        value: this.props.value,
        onChange: this.props.onChange,
        placeholder: this.props.placeholder || pgettext("quick search placeholder", "Search...")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "search"));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/register.js":
/*!************************************!*\
  !*** ./src/components/register.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RegisterComplete": () => (/* binding */ RegisterComplete),
/* harmony export */   "RegisterForm": () => (/* binding */ RegisterForm),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_password_strength__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/password-strength */ "./src/components/password-strength.js");
/* harmony import */ var misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/RegisterLegalFootnote */ "./src/components/RegisterLegalFootnote.js");
/* harmony import */ var misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/StartSocialAuth */ "./src/components/StartSocialAuth.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/captcha */ "./src/services/captcha.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");








function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }















var RegisterForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RegisterForm, _Form);
  var _super = _createSuper(RegisterForm);
  function RegisterForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, RegisterForm);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({}, agreement, null));
          return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({
            errors: _errors
          }, agreement, value);
        }
        var validator = _this.state.validators[agreement][0];
        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({}, agreement, [validator(null)]));
        return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({
          errors: errors
        }, agreement, null);
      });
    });
    var _this$props$criteria = _this.props.criteria,
      username = _this$props$criteria.username,
      password = _this$props$criteria.password;
    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });
    var formValidators = {
      username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameContent(), misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameMinLength(username.min_length), misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameMaxLength(username.max_length)],
      email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.email()],
      password: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.passwordMinLength(passwordMinLength)],
      captcha: misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__["default"].validator()
    };
    if (!!misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.requiredTermsOfService()];
    }
    if (!!misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.requiredPrivacyPolicy()];
    }
    _this.state = {
      isLoading: false,
      username: "",
      email: "",
      password: "",
      captcha: "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        if (rejection.__all__ && rejection.__all__.length > 0) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(rejection.__all__[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_21__["default"])(rejection.ban);
        misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].hide();
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-dialog modal-register",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("register modal title", "Register"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_14__["default"], {
        buttonClassName: "col-xs-12 col-sm-6",
        buttonLabel: pgettext("register modal field", "Join with %(site)s"),
        formLabel: pgettext("register modal field", "Or create forum account:")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("register modal field", "Username"),
        "for": "id_username",
        validation: this.state.errors.username
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        "aria-describedby": "id_username_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("register modal field", "E-mail"),
        "for": "id_email",
        validation: this.state.errors.email
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "text",
        id: "id_email",
        className: "form-control",
        "aria-describedby": "id_email_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("register modal field", "Password"),
        "for": "id_password",
        validation: this.state.errors.password,
        extra: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_password_strength__WEBPACK_IMPORTED_MODULE_12__["default"], {
          password: this.state.password,
          inputs: [this.state.username, this.state.email]
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "password",
        id: "id_password",
        className: "form-control",
        "aria-describedby": "id_password_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      })), misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__["default"].component({
        form: this
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_13__["default"], {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("register modal btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("register modal btn", "Register account"))))));
    }
  }]);
  return RegisterForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
var RegisterComplete = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RegisterComplete, _React$Component);
  var _super2 = _createSuper(RegisterComplete);
  function RegisterComplete() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, RegisterComplete);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return pgettext("account activation required", "%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === "admin") {
        return pgettext("account activation required", "%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return pgettext("account activation required", "We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === "admin") {
        return pgettext("account activation required", "We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-dialog modal-message modal-register",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("register modal title", "Registration complete"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "lead"
      }, interpolate(this.getLead(), {
        username: this.props.username
      }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, interpolate(this.getSubscript(), {
        email: this.props.email
      }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, pgettext("register modal dismiss", "Ok"))))));
    }
  }]);
  return RegisterComplete;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this2 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this2), "completeRegistration", function (apiResponse) {
      if (apiResponse.activation === "active") {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].hide();
        misago_services_auth__WEBPACK_IMPORTED_MODULE_17__["default"].signIn(apiResponse);
      } else {
        _this2.setState({
          complete: apiResponse
        });
      }
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(RegisterForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        callback: this.completeRegistration
      }, this.props));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/request-activation-link.js":
/*!***************************************************!*\
  !*** ./src/components/request-activation-link.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LinkSent": () => (/* binding */ LinkSent),
/* harmony export */   "RequestLinkForm": () => (/* binding */ RequestLinkForm),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var RequestLinkForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RequestLinkForm, _Form);
  var _super = _createSuper(RequestLinkForm);
  function RequestLinkForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, RequestLinkForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_13__.email()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(pgettext("request activation link form", "Enter a valid e-mail address."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_8__["default"].get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_14__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-activation-link"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: pgettext("request activation link form field", "Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, pgettext("request activation link form btn", "Send link"))));
    }
  }]);
  return RequestLinkForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
var LinkSent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(LinkSent, _React$Component);
  var _super2 = _createSuper(LinkSent);
  function LinkSent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, LinkSent);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(pgettext("request activation link form", "Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-activation-link well-done"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.getMessage())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary btn-block",
        type: "button",
        onClick: this.props.callback
      }, pgettext("request activation link form btn", "Request another link"))));
    }
  }]);
  return LinkSent;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    _this2 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LinkSent, {
          user: this.state.complete,
          callback: this.reset
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RequestLinkForm, {
          callback: this.complete
        });
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/request-password-reset.js":
/*!**************************************************!*\
  !*** ./src/components/request-password-reset.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccountInactivePage": () => (/* binding */ AccountInactivePage),
/* harmony export */   "LinkSent": () => (/* binding */ LinkSent),
/* harmony export */   "RequestResetForm": () => (/* binding */ RequestResetForm),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var RequestResetForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RequestResetForm, _Form);
  var _super = _createSuper(RequestResetForm);
  function RequestResetForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, RequestResetForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_14__.email()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(pgettext("request password reset form", "Enter a valid e-mail address."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_15__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-password-reset"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: pgettext("request password reset form field", "Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, pgettext("request password reset form btn", "Send link"))));
    }
  }]);
  return RequestResetForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);
var LinkSent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(LinkSent, _React$Component);
  var _super2 = _createSuper(LinkSent);
  function LinkSent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, LinkSent);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(pgettext("request password reset form", "Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-password-reset well-done"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.getMessage())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-primary btn-block",
        onClick: this.props.callback
      }, pgettext("request password reset form btn", "Request another link"))));
    }
  }]);
  return LinkSent;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var AccountInactivePage = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(AccountInactivePage, _React$Component2);
  var _super3 = _createSuper(AccountInactivePage);
  function AccountInactivePage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, AccountInactivePage);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
          href: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("REQUEST_ACTIVATION_URL")
        }, pgettext("request password reset form error", "Activate your account.")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-message page-message-info page-forgotten-password-inactive"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, pgettext("request password reset form error", "Your account is inactive.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.props.message), this.getActivateButton()))));
    }
  }]);
  return AccountInactivePage;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component3);
  var _super4 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    _this2 = _super4.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      react_dom__WEBPACK_IMPORTED_MODULE_8___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/reset-password-form.js":
/*!***********************************************!*\
  !*** ./src/components/reset-password-form.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasswordChangedPage": () => (/* binding */ PasswordChangedPage),
/* harmony export */   "ResetPasswordForm": () => (/* binding */ ResetPasswordForm),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/sign-in.js */ "./src/components/sign-in.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var ResetPasswordForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ResetPasswordForm, _Form);
  var _super = _createSuper(ResetPasswordForm);
  function ResetPasswordForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ResetPasswordForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(pgettext("password reset form", "Enter new password."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_17__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-reset-password"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: pgettext("password reset form field", "Enter new password"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, pgettext("password reset form btn", "Change password"))));
    }
  }]);
  return ResetPasswordForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);
var PasswordChangedPage = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PasswordChangedPage, _React$Component);
  var _super2 = _createSuper(PasswordChangedPage);
  function PasswordChangedPage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PasswordChangedPage);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(pgettext("password reset form", "%(username)s, your password has been changed."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_15__["default"].show(misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_12__["default"]);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-message page-message-success page-forgotten-password-changed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, pgettext("password reset form", "Sign in using new password to continue.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-primary",
        onClick: this.showSignIn
      }, pgettext("password reset form btn", "Sign in")))))));
    }
  }]);
  return PasswordChangedPage;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this2 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      misago_services_auth__WEBPACK_IMPORTED_MODULE_14__["default"].softSignOut();

      // nuke "next" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="next"]').remove();
      react_dom__WEBPACK_IMPORTED_MODULE_8___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PasswordChangedPage, {
        user: apiResponse
      }), document.getElementById("page-mount"));
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ResetPasswordForm, {
        callback: this.complete
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/search-route/form.js":
/*!*********************************************!*\
  !*** ./src/components/search-route/form.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onQueryChange", function (event) {
      _this.changeValue("query", event.target.value);
    });
    _this.state = {
      isLoading: false,
      query: props.search.query
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("search form", "You have to enter search query."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        isLoading: true
      }));
      var query = this.state.query.trim();
      var url = window.location.href;
      var urlQuery = url.indexOf("?q=");
      if (urlQuery > 0) {
        url = url.substring(0, urlQuery + 3);
      }
      window.history.pushState({}, "", url + encodeURIComponent(query));
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("SEARCH_API"), {
        q: query
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));
      providers.forEach(function (provider) {
        if (provider.id === "users") {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_10__.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeader, {
        styleName: "site-search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderBanner, {
        styleName: "site-search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h1", null, pgettext("search form title", "Search"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderDetails, {
        className: "page-header-search-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        type: "text",
        value: this.state.query,
        placeholder: pgettext("search form input", "Search"),
        onChange: this.onQueryChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, {
        shrink: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-secondary btn-icon btn-outline",
        title: pgettext("search form btn", "Search"),
        disabled: this.state.isLoading
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "search")))))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/search-route/index.js":
/*!**********************************************!*\
  !*** ./src/components/search-route/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _threads__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./threads */ "./src/components/search-route/threads/index.js");
/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./users */ "./src/components/search-route/users/index.js");



var components = {
  threads: _threads__WEBPACK_IMPORTED_MODULE_1__["default"],
  users: _users__WEBPACK_IMPORTED_MODULE_2__["default"]
};
function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
}

/***/ }),

/***/ "./src/components/search-route/page.js":
/*!*********************************************!*\
  !*** ./src/components/search-route/page.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchTime": () => (/* binding */ SearchTime),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./form */ "./src/components/search-route/form.js");
/* harmony import */ var _sidenav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sidenav */ "./src/components/search-route/sidenav.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page page-search"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_form__WEBPACK_IMPORTED_MODULE_2__["default"], {
    provider: props.provider,
    search: props.search
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_1__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_sidenav__WEBPACK_IMPORTED_MODULE_3__["default"], {
    providers: props.search.providers
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-9"
  }, props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SearchTime, {
    provider: props.provider,
    search: props.search
  })))));
}
function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });
  if (time === null) return null;
  var copy = pgettext("search time", "Search took %(time)s s");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("footer", {
    className: "search-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, interpolate(copy, {
    time: time
  }, true)));
}

/***/ }),

/***/ "./src/components/search-route/sidenav.js":
/*!************************************************!*\
  !*** ./src/components/search-route/sidenav.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Badge": () => (/* binding */ Badge),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "list-group nav-side"
  }, props.providers.map(function (provider) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      activeClassName: "active",
      className: "list-group-item",
      key: provider.id,
      to: provider.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, provider.icon), provider.name, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Badge, {
      results: provider.results
    }));
  }));
}
function Badge(props) {
  if (!props.results) return null;
  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "badge"
  }, count);
}

/***/ }),

/***/ "./src/components/search-route/threads/index.js":
/*!******************************************************!*\
  !*** ./src/components/search-route/threads/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blankslate": () => (/* binding */ Blankslate),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../page */ "./src/components/search-route/page.js");
/* harmony import */ var _results__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./results */ "./src/components/search-route/threads/results.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_page__WEBPACK_IMPORTED_MODULE_2__["default"], {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Blankslate, {
    loading: props.search.isLoading,
    query: props.search.query,
    posts: props.posts
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_results__WEBPACK_IMPORTED_MODULE_3__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    provider: props.route.provider,
    query: props.search.query
  }, props.posts))));
}
function Blankslate(_ref) {
  var children = _ref.children,
    loading = _ref.loading,
    posts = _ref.posts,
    query = _ref.query;
  if (posts && posts.count) return children;
  if (query.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
      className: "lead"
    }, loading ? pgettext("search threads", "Loading results...") : pgettext("search threads", "No threads matching search query have been found."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "lead"
  }, pgettext("search threads", "Enter at least two characters to search threads."));
}

/***/ }),

/***/ "./src/components/search-route/threads/results.js":
/*!********************************************************!*\
  !*** ./src/components/search-route/threads/results.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadMore": () => (/* binding */ LoadMore),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_post_feed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/post-feed */ "./src/components/post-feed/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_feed__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isReady: true,
    posts: props.results
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LoadMore, props));
}
var LoadMore = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(LoadMore, _React$Component);
  var _super = _createSuper(LoadMore);
  function LoadMore() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LoadMore);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
        isBusy: true
      }));
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.append)(provider.results));
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_12__.updateProvider)(provider));
        });
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
          isBusy: false
        }));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
          isBusy: false
        }));
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.props.isBusy,
        onClick: this.onClick
      }, pgettext("search threads btn", "Show more")));
    }
  }]);
  return LoadMore;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/search-route/users/index.js":
/*!****************************************************!*\
  !*** ./src/components/search-route/users/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blankslate": () => (/* binding */ Blankslate),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../page */ "./src/components/search-route/page.js");
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_page__WEBPACK_IMPORTED_MODULE_1__["default"], {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Blankslate, {
    loading: props.search.isLoading,
    query: props.search.query,
    users: props.users
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_2__["default"], {
    cols: 3,
    isReady: !props.search.isLoading,
    users: props.users
  })));
}
function Blankslate(_ref) {
  var children = _ref.children,
    loading = _ref.loading,
    query = _ref.query,
    users = _ref.users;
  if (users.length) return children;
  if (query.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      className: "lead"
    }, loading ? pgettext("search users", "Loading results...") : pgettext("search users", "No users matching search query have been found."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, pgettext("search users", "Enter at least two characters to search users."));
}

/***/ }),

/***/ "./src/components/search/SearchDropdown.jsx":
/*!**************************************************!*\
  !*** ./src/components/search/SearchDropdown.jsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SearchFetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SearchFetch */ "./src/components/search/SearchFetch.jsx");
/* harmony import */ var _SearchInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchInput */ "./src/components/search/SearchInput.jsx");
/* harmony import */ var _SearchQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchQuery */ "./src/components/search/SearchQuery.jsx");




function SearchDropdown() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchQuery__WEBPACK_IMPORTED_MODULE_3__["default"], null, function (_ref) {
    var query = _ref.query,
      setQuery = _ref.setQuery;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "search-dropdown-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchInput__WEBPACK_IMPORTED_MODULE_2__["default"], {
      query: query,
      setQuery: setQuery
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchFetch__WEBPACK_IMPORTED_MODULE_1__["default"], {
      query: query
    }));
  });
}

/***/ }),

/***/ "./src/components/search/SearchFetch.jsx":
/*!***********************************************!*\
  !*** ./src/components/search/SearchFetch.jsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchFetch)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Api */ "./src/components/Api/index.js");
/* harmony import */ var _SearchMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SearchMessage */ "./src/components/search/SearchMessage.jsx");
/* harmony import */ var _SearchResults__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SearchResults */ "./src/components/search/SearchResults.jsx");
/* harmony import */ var _SearchResultsEmpty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SearchResultsEmpty */ "./src/components/search/SearchResultsEmpty.jsx");
/* harmony import */ var _SearchResultsError__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SearchResultsError */ "./src/components/search/SearchResultsError.jsx");
/* harmony import */ var _SearchResultsLoading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SearchResultsLoading */ "./src/components/search/SearchResultsLoading.jsx");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var DEBOUNCE = 750;
var CACHE = {};
var SearchFetch = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(SearchFetch, _React$Component);
  var _super = _createSuper(SearchFetch);
  function SearchFetch(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SearchFetch);
    _this = _super.call(this, props);
    _this.state = {
      query: _this.props.query.trim()
    };
    _this.debounce = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SearchFetch, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var _this2 = this;
      var query = this.props.query.trim();
      if (this.state.query != query) {
        if (this.debounce) {
          window.clearTimeout(this.debounce);
        }
        this.debounce = window.setTimeout(function () {
          _this2.setState({
            query: query
          });
        }, DEBOUNCE);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.debounce) {
        window.clearTimeout(this.debounce);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_Api__WEBPACK_IMPORTED_MODULE_6__.ApiFetch, {
        url: getSearchUrl(this.state.query),
        cache: CACHE,
        disabled: this.state.query.length < 3
      }, function (_ref) {
        var data = _ref.data,
          loading = _ref.loading,
          error = _ref.error;
        if (_this3.state.query.length < 3) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_SearchMessage__WEBPACK_IMPORTED_MODULE_7__["default"], null);
        }
        if (loading) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_SearchResultsLoading__WEBPACK_IMPORTED_MODULE_11__["default"], null);
        }
        if (error) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_SearchResultsError__WEBPACK_IMPORTED_MODULE_10__["default"], {
            error: error
          });
        }
        if (isResultEmpty(data)) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_SearchResultsEmpty__WEBPACK_IMPORTED_MODULE_9__["default"], null);
        }
        if (data !== null) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_SearchResults__WEBPACK_IMPORTED_MODULE_8__["default"], {
            query: _this3.state.query,
            results: data
          });
        }
        return null;
      });
    }
  }]);
  return SearchFetch;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function getSearchUrl(query) {
  return misago.get("SEARCH_API") + "?q=" + encodeURIComponent(query);
}
function isResultEmpty(results) {
  if (results === null) {
    return true;
  }
  var resultsCount = 0;
  results.forEach(function (result) {
    resultsCount += result.results.count;
  });
  return resultsCount === 0;
}

/***/ }),

/***/ "./src/components/search/SearchInput.jsx":
/*!***********************************************!*\
  !*** ./src/components/search/SearchInput.jsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchInput)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function SearchInput(_ref) {
  var query = _ref.query,
    setQuery = _ref.setQuery;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-input"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {
    className: "form-control form-control-search",
    type: "text",
    placeholder: pgettext("cta", "Search"),
    value: query,
    onChange: function onChange(event) {
      return setQuery(event.target.value);
    }
  }));
}

/***/ }),

/***/ "./src/components/search/SearchMessage.jsx":
/*!*************************************************!*\
  !*** ./src/components/search/SearchMessage.jsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchMessage)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _SearchResultsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchResultsList */ "./src/components/search/SearchResultsList.jsx");



function SearchMessage() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultsList__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupMessage, {
    message: pgettext("search cta", "Enter search query (at least 3 characters).")
  }));
}

/***/ }),

/***/ "./src/components/search/SearchOverlay.jsx":
/*!*************************************************!*\
  !*** ./src/components/search/SearchOverlay.jsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _Overlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Overlay */ "./src/components/Overlay/index.js");
/* harmony import */ var _SearchFetch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchFetch */ "./src/components/search/SearchFetch.jsx");
/* harmony import */ var _SearchInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SearchInput */ "./src/components/search/SearchInput.jsx");
/* harmony import */ var _SearchQuery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SearchQuery */ "./src/components/search/SearchQuery.jsx");






function SearchOverlay(_ref) {
  var open = _ref.open;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_2__.Overlay, {
    open: open,
    onOpen: function onOpen() {
      window.setTimeout(function () {
        document.querySelector("#search-mount .form-control-search").focus();
      }, 0);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Overlay__WEBPACK_IMPORTED_MODULE_2__.OverlayHeader, null, pgettext("cta", "Search")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchQuery__WEBPACK_IMPORTED_MODULE_5__["default"], null, function (_ref2) {
    var query = _ref2.query,
      setQuery = _ref2.setQuery;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "search-overlay-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchInput__WEBPACK_IMPORTED_MODULE_4__["default"], {
      query: query,
      setQuery: setQuery
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "search-results-container"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchFetch__WEBPACK_IMPORTED_MODULE_3__["default"], {
      query: query
    })));
  }));
}
function select(state) {
  return {
    open: state.overlay.search
  };
}
var SearchOverlayConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(select)(SearchOverlay);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchOverlayConnected);

/***/ }),

/***/ "./src/components/search/SearchQuery.jsx":
/*!***********************************************!*\
  !*** ./src/components/search/SearchQuery.jsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchQuery)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var SearchQuery = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(SearchQuery, _React$Component);
  var _super = _createSuper(SearchQuery);
  function SearchQuery(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SearchQuery);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setQuery", function (query) {
      _this.setState({
        query: query
      });
    });
    _this.state = {
      query: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SearchQuery, [{
    key: "render",
    value: function render() {
      return this.props.children({
        query: this.state.query,
        setQuery: this.setQuery
      });
    }
  }]);
  return SearchQuery;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/search/SearchResultPost.jsx":
/*!****************************************************!*\
  !*** ./src/components/search/SearchResultPost.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultPost)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _Timestamp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Timestamp */ "./src/components/Timestamp/index.js");



function SearchResultPost(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupItem, {
    className: "search-result"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: post.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-result-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-result-name"
  }, post.thread.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-result-summary",
    dangerouslySetInnerHTML: {
      __html: post.headline || post.content
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "search-result-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("b", null, post.category.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, post.poster ? post.poster.username : post.poster_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Timestamp__WEBPACK_IMPORTED_MODULE_2__["default"], {
    datetime: post.posted_on
  }))))));
}

/***/ }),

/***/ "./src/components/search/SearchResultUser.jsx":
/*!****************************************************!*\
  !*** ./src/components/search/SearchResultUser.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultUser)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _Timestamp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Timestamp */ "./src/components/Timestamp/index.js");




function SearchResultUser(_ref) {
  var user = _ref.user;
  var title = user.title || user.rank.title;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_2__.ListGroupItem, {
    className: "search-result"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    user: user,
    size: 32
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-result-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "search-result-name"
  }, user.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "search-result-details"
  }, !!title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("b", null, title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, user.rank.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Timestamp__WEBPACK_IMPORTED_MODULE_3__["default"], {
    datetime: user.joined_on
  }))))));
}

/***/ }),

/***/ "./src/components/search/SearchResults.jsx":
/*!*************************************************!*\
  !*** ./src/components/search/SearchResults.jsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResults)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _SearchResultsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchResultsList */ "./src/components/search/SearchResultsList.jsx");
/* harmony import */ var _SearchResultPost__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SearchResultPost */ "./src/components/search/SearchResultPost.jsx");
/* harmony import */ var _SearchResultUser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SearchResultUser */ "./src/components/search/SearchResultUser.jsx");





function SearchResults(_ref) {
  var query = _ref.query,
    results = _ref.results;
  var threads = results[0];
  var users = results[1];
  var count = threads.results.count;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultsList__WEBPACK_IMPORTED_MODULE_2__["default"], null, users.results.results.map(function (user) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultUser__WEBPACK_IMPORTED_MODULE_4__["default"], {
      key: user.id,
      user: user
    });
  }), threads.results.results.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultPost__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: post.id,
      post: post
    });
  }), count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: threads.url + "?q=" + encodeURIComponent(query),
    className: "btn btn-default btn-block"
  }, npgettext("search results list", "See all %(count)s result.", "See all %(count)s results.", threads.results.count).replace("%(count)s", threads.results.count))));
}

/***/ }),

/***/ "./src/components/search/SearchResultsEmpty.jsx":
/*!******************************************************!*\
  !*** ./src/components/search/SearchResultsEmpty.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultsEmpty)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _SearchResultsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchResultsList */ "./src/components/search/SearchResultsList.jsx");



function SearchResultsEmpty() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultsList__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupEmpty, {
    message: pgettext("search results", "The search returned no results.")
  }));
}

/***/ }),

/***/ "./src/components/search/SearchResultsError.jsx":
/*!******************************************************!*\
  !*** ./src/components/search/SearchResultsError.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultsError)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _SearchResultsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchResultsList */ "./src/components/search/SearchResultsList.jsx");



function SearchResultsError(_ref) {
  var error = _ref.error;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultsList__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupError, {
    message: pgettext("search results", "The search could not be completed."),
    detail: errorDetail(error)
  }));
}
function errorDetail(error) {
  if (error.status === 0) {
    return gettext("Check your internet connection and try refreshing the site.");
  }
  if (error.data && error.data.detail) {
    return error.data.detail;
  }
}

/***/ }),

/***/ "./src/components/search/SearchResultsList.jsx":
/*!*****************************************************!*\
  !*** ./src/components/search/SearchResultsList.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultsList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");


function SearchResultsList(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroup, {
    className: "search-results-list"
  }, children);
}

/***/ }),

/***/ "./src/components/search/SearchResultsLoading.jsx":
/*!********************************************************!*\
  !*** ./src/components/search/SearchResultsLoading.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SearchResultsLoading)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ListGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ListGroup */ "./src/components/ListGroup/index.js");
/* harmony import */ var _SearchResultsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SearchResultsList */ "./src/components/search/SearchResultsList.jsx");



function SearchResultsLoading() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SearchResultsList__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ListGroup__WEBPACK_IMPORTED_MODULE_1__.ListGroupLoading, {
    message: pgettext("search results", "Searching...")
  }));
}

/***/ }),

/***/ "./src/components/search/index.js":
/*!****************************************!*\
  !*** ./src/components/search/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchDropdown": () => (/* reexport safe */ _SearchDropdown__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "SearchOverlay": () => (/* reexport safe */ _SearchOverlay__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _SearchDropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SearchDropdown */ "./src/components/search/SearchDropdown.jsx");
/* harmony import */ var _SearchOverlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SearchOverlay */ "./src/components/search/SearchOverlay.jsx");




/***/ }),

/***/ "./src/components/select.js":
/*!**********************************!*\
  !*** ./src/components/select.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Icon": () => (/* binding */ Icon),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "change", function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;
      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "btn-group btn-select-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-select dropdown-toggle",
        id: this.props.id || null,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Icon, {
        icon: this.getIcon()
      }), this.getLabel()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu"
      }, this.props.choices.map(function (item, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn-link",
          onClick: _this3.change(item.value)
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Icon, {
          icon: item.icon
        }), item.label));
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function Icon(_ref) {
  var icon = _ref.icon;
  if (!icon) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, icon);
}

/***/ }),

/***/ "./src/components/sign-in.js":
/*!***********************************!*\
  !*** ./src/components/sign-in.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/StartSocialAuth */ "./src/components/StartSocialAuth.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      showActivation: false,
      username: "",
      password: "",
      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(pgettext("sign in modal", "Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");
      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].getCsrfToken());
      form.find('input[name="next"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__["default"])(rejection.detail);
          misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].hide();
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__["default"])(rejection.ban);
        misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].hide();
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        className: "btn btn-success btn-block",
        href: misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("REQUEST_ACTIVATION_URL")
      }, pgettext("sign in modal btn", "Activate account"));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-dialog modal-sm modal-sign-in",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("sign in modal title", "Sign in"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_9__["default"], {
        buttonLabel: pgettext("sign in modal", "Sign in with %(site)s"),
        formLabel: pgettext("sign in modal", "Or use your forum account:"),
        labelClassName: "text-center"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_username",
        onChange: this.bindInput("username"),
        placeholder: pgettext("sign in modal field", "Username or e-mail"),
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_password",
        onChange: this.bindInput("password"),
        placeholder: pgettext("sign in modal field", "Password"),
        type: "password",
        value: this.state.password
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, this.getActivationButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_7__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, pgettext("sign in modal btn", "Sign in")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        className: "btn btn-default btn-block",
        href: misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("FORGOTTEN_PASSWORD_URL")
      }, pgettext("sign in modal btn", "Forgot password?"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);


/***/ }),

/***/ "./src/components/snackbar.js":
/*!************************************!*\
  !*** ./src/components/snackbar.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Snackbar": () => (/* binding */ Snackbar),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};
var Snackbar = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(Snackbar, _React$Component);
  var _super = _createSuper(Snackbar);
  function Snackbar() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Snackbar);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";
      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }
      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getSnackbarClass()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "alert " + TYPES_CLASSES[this.props.type]
      }, this.props.message));
    }
  }]);
  return Snackbar;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function select(state) {
  return state.snackbar;
}

/***/ }),

/***/ "./src/components/social-auth/complete.js":
/*!************************************************!*\
  !*** ./src/components/social-auth/complete.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./header */ "./src/components/social-auth/header.js");




var Complete = function Complete(_ref) {
  var activation = _ref.activation,
    backend_name = _ref.backend_name,
    username = _ref.username;
  var icon = "";
  var message = "";
  if (activation === "user") {
    message = pgettext("account activation required", "%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === "admin") {
    message = pgettext("account activation required", "%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.");
  } else {
    message = pgettext("social auth complete", "%(username)s, your account has been created and you have been signed in to it.");
  }
  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page page-social-auth page-social-auth-register"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_3__["default"], {
    backendName: backend_name
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-6 col-md-offset-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, pgettext("social auth complete title", "Registration completed!"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, interpolate(message, {
    username: username
  }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-default",
    href: misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("MISAGO_PATH")
  }, pgettext("social auth complete link", "Return to forum index"))))))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Complete);

/***/ }),

/***/ "./src/components/social-auth/header.js":
/*!**********************************************!*\
  !*** ./src/components/social-auth/header.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");


var Header = function Header(_ref) {
  var backendName = _ref.backendName;
  var pageTitleTpl = pgettext("social auth title", "Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, {
    backend: backendName
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__.PageHeader, {
    styleName: "social-auth"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__.PageHeaderBanner, {
    styleName: "social-auth"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, pageTitle))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Header);

/***/ }),

/***/ "./src/components/social-auth/index.js":
/*!*********************************************!*\
  !*** ./src/components/social-auth/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SocialAuth)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _register__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./register */ "./src/components/social-auth/register.js");
/* harmony import */ var _complete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./complete */ "./src/components/social-auth/complete.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var SocialAuth = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(SocialAuth, _React$Component);
  var _super = _createSuper(SocialAuth);
  function SocialAuth(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SocialAuth);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleRegistrationComplete", function (_ref) {
      var activation = _ref.activation,
        email = _ref.email,
        step = _ref.step,
        username = _ref.username;
      _this.setState({
        activation: activation,
        email: email,
        step: step,
        username: username
      });
    });
    _this.state = {
      step: props.step,
      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SocialAuth, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        backend_name = _this$props.backend_name,
        url = _this$props.url;
      var _this$state = this.state,
        activation = _this$state.activation,
        email = _this$state.email,
        step = _this$state.step,
        username = _this$state.username;
      if (step === "register") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_register__WEBPACK_IMPORTED_MODULE_8__["default"], {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_complete__WEBPACK_IMPORTED_MODULE_9__["default"], {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);
  return SocialAuth;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/social-auth/register.js":
/*!************************************************!*\
  !*** ./src/components/social-auth/register.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Register)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/RegisterLegalFootnote */ "./src/components/RegisterLegalFootnote.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./header */ "./src/components/social-auth/header.js");







function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var Register = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Register, _Form);
  var _super = _createSuper(Register);
  function Register(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Register);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, agreement, null));
          return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({
            errors: _errors
          }, agreement, value);
        }
        var validator = _this.state.validators[agreement][0];
        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, agreement, [validator(null)]));
        return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({
          errors: errors
        }, agreement, null);
      });
    });
    var formValidators = {
      email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.email()],
      username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.usernameContent()]
    };
    if (!!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.requiredTermsOfService()];
    }
    if (!!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.requiredPrivacyPolicy()];
    }
    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {},
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Register, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];
      if (lengths.indexOf(0) !== -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("social auth form", "Fill out all fields."));
        return false;
      }
      var validators = this.state.validators;
      var checkTermsOfService = !!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("TERMS_OF_SERVICE_ID");
      if (checkTermsOfService && this.state.termsOfService === null) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(validators.termsOfService[0](null));
        return false;
      }
      var checkPrivacyPolicy = !!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("PRIVACY_POLICY_ID");
      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(validators.privacyPolicy[0](null));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;
      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;
        onRegistrationComplete({
          activation: "active",
          step: "done",
          username: username
        });
      } else if (rejection.status === 400) {
        var stateUpdate = {
          errors: rejection
        };
        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }
        this.setState(stateUpdate);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _this$state = this.state,
        email = _this$state.email,
        emailProtected = _this$state.emailProtected,
        username = _this$state.username,
        isLoading = _this$state.isLoading;
      var emailHelpText = null;
      if (emailProtected) {
        var emailHelpTextTpl = pgettext("social auth form", "Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, {
          backend: backend_name
        }, true);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-social-auth page-social-auth-register"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_header__WEBPACK_IMPORTED_MODULE_17__["default"], {
        backendName: backend_name
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_16__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", {
        className: "panel-title"
      }, pgettext("social auth form title", "Complete your account"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__["default"], {
        "for": "id_username",
        label: pgettext("social auth form field", "Username"),
        validation: this.state.errors.username
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: isLoading,
        onChange: this.bindInput("username"),
        value: username
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__["default"], {
        "for": "id_email",
        label: pgettext("social auth form field", "E-mail address"),
        helpText: emailHelpText,
        validation: emailProtected ? null : this.state.errors.email
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "email",
        id: "id_email",
        className: "form-control",
        disabled: isLoading || emailProtected,
        onChange: this.bindInput("email"),
        value: email
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_9__["default"], {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("social auth form btn", "Sign in")))))))));
    }
  }]);
  return Register;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);


/***/ }),

/***/ "./src/components/thread/ThreadHeader/ThreadHeader.jsx":
/*!*************************************************************!*\
  !*** ./src/components/thread/ThreadHeader/ThreadHeader.jsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _ThreadFlags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ThreadFlags */ "./src/components/ThreadFlags.jsx");
/* harmony import */ var _ThreadReplies__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ThreadReplies */ "./src/components/ThreadReplies.jsx");
/* harmony import */ var _ThreadStarterCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ThreadStarterCard */ "./src/components/ThreadStarterCard.jsx");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../PageHeader */ "./src/components/PageHeader/index.js");
/* harmony import */ var _ThreadModeration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ThreadModeration */ "./src/components/thread/ThreadModeration.jsx");
/* harmony import */ var _ThreadWatchButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ThreadWatchButton */ "./src/components/thread/ThreadWatchButton.jsx");
/* harmony import */ var _ThreadHeaderBreadcrumbs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ThreadHeaderBreadcrumbs */ "./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx");









var ThreadHeader = function ThreadHeader(_ref) {
  var styleName = _ref.styleName,
    thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    moderation = _ref.moderation;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeader, {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderBanner, {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadHeaderBreadcrumbs__WEBPACK_IMPORTED_MODULE_8__["default"], {
    breadcrumbs: thread.path
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, thread.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderDetails, {
    className: "page-header-thread-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadStarterCard__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    auto: true
  }), thread.replies > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplies__WEBPACK_IMPORTED_MODULE_3__["default"], {
    thread: thread
  })), hasFlags(thread) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadFlags__WEBPACK_IMPORTED_MODULE_2__["default"], {
    thread: thread
  }))), user.is_authenticated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadWatchButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    thread: thread
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadModeration__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread,
    posts: posts,
    moderation: moderation
  })))))));
};
var hasFlags = function hasFlags(thread) {
  return thread.is_closed || thread.is_hidden || thread.is_unapproved || thread.weight > 0 || thread.best_answer || thread.has_poll || thread.has_unapproved_posts;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadHeader);

/***/ }),

/***/ "./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx":
/*!************************************************************************!*\
  !*** ./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Breadcrumbs */ "./src/components/Breadcrumbs/index.js");


var ThreadHeaderBreadcrumbs = function ThreadHeaderBreadcrumbs(_ref) {
  var breadcrumbs = _ref.breadcrumbs;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.Breadcrumbs, null, breadcrumbs.map(function (category) {
    return category.special_role ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.BreadcrumbsRootCategory, {
      key: category.id,
      category: category
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.BreadcrumbsCategory, {
      key: category.id,
      category: category
    });
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadHeaderBreadcrumbs);

/***/ }),

/***/ "./src/components/thread/ThreadHeader/index.js":
/*!*****************************************************!*\
  !*** ./src/components/thread/ThreadHeader/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ThreadHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreadHeader */ "./src/components/thread/ThreadHeader/ThreadHeader.jsx");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_ThreadHeader__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/thread/ThreadModeration.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadModeration.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _moderation_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moderation/thread */ "./src/components/thread/moderation/thread/index.js");


var ThreadModeration = function ThreadModeration(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    moderation = _ref.moderation;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline btn-icon dropdown-toggle",
    title: pgettext("thread options btn", "Thread options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: thread.isBusy
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_thread__WEBPACK_IMPORTED_MODULE_1__["default"], {
    thread: thread,
    posts: posts,
    moderation: moderation
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadModeration);

/***/ }),

/***/ "./src/components/thread/ThreadPaginator.jsx":
/*!***************************************************!*\
  !*** ./src/components/thread/ThreadPaginator.jsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");




var ThreadPaginator = function ThreadPaginator(_ref) {
  var router = _ref.router,
    baseUrl = _ref.baseUrl,
    posts = _ref.posts,
    scrollToTop = _ref.scrollToTop;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "thread-paginator"
  }, posts.isLoaded && posts.first ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl,
    title: pgettext("paginator", "Go to first page"),
    onClick: scrollToTop ? resetScroll : null
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "first_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("paginator", "Go to first page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "first_page")), posts.isLoaded && posts.previous ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + (posts.previous > 1 ? posts.previous + "/" : ""),
    title: pgettext("paginator", "Go to previous page"),
    onClick: scrollToTop ? resetScroll : null
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("paginator", "Go to previous page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_3__.Dropdown, {
    toggle: function toggle(_ref2) {
      var aria = _ref2.aria,
        toggle = _ref2.toggle;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, aria, {
        className: "btn btn-default btn-block btn-outline",
        type: "button",
        disabled: !posts.isLoaded,
        onClick: toggle
      }), getLabel(posts.page, posts.pages));
    },
    onOpen: function onOpen(dropdown) {
      dropdown.querySelector("input").focus();
    }
  }, function (_ref3) {
    var close = _ref3.close;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("form", {
      className: "thread-paginator-form",
      onSubmit: function onSubmit(event) {
        if (posts.isLoaded) {
          var formData = new FormData(event.target);
          var page = parseInt(formData.get("page"));
          if (page && page != posts.page && page >= 1 && page <= posts.pages) {
            var url = page > 1 ? baseUrl + page + "/" : baseUrl;
            router.push({
              pathname: url
            });
          }
        }
        event.preventDefault();
        close();
        if (scrollToTop) {
          resetScroll();
        }
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input", {
      className: "form-control",
      name: "page",
      type: "number",
      min: 1,
      max: posts.pages,
      placeholder: pgettext("paginator input", "Page"),
      disabled: !posts.isLoaded
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
      className: "btn btn-primary",
      type: "submit",
      disabled: !posts.isLoaded
    }, pgettext("paginator", "Go")));
  }), posts.isLoaded && posts.next ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + posts.next + "/",
    title: pgettext("paginator", "Go to next page"),
    onClick: scrollToTop ? resetScroll : null
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("paginator", "Go to next page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")), posts.isLoaded && posts.last ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + posts.last + "/",
    title: pgettext("paginator", "Go to last page"),
    onClick: scrollToTop ? resetScroll : null
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "last_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("paginator", "Go to last page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "last_page")));
};
function getLabel(page, pages) {
  return pgettext("paginator", "Page %(page)s of %(pages)s").replace("%(page)s", page).replace("%(pages)s", pages);
}
function resetScroll() {
  window.scrollTo(0, 0);
}
var ThreadPaginatorConnected = (0,react_router__WEBPACK_IMPORTED_MODULE_2__.withRouter)(ThreadPaginator);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadPaginatorConnected);

/***/ }),

/***/ "./src/components/thread/ThreadPollButton.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadPollButton.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ThreadPollButton = function ThreadPollButton(_ref) {
  var compact = _ref.compact,
    disabled = _ref.disabled,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-default btn-outline", {
      "btn-block": !compact,
      "btn-icon": compact
    }),
    type: "button",
    title: compact ? pgettext("thread poll btn", "Add poll") : null,
    disabled: disabled,
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "poll"), !compact && pgettext("thread poll btn", "Add poll"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadPollButton);

/***/ }),

/***/ "./src/components/thread/ThreadPostsModeration.jsx":
/*!*********************************************************!*\
  !*** ./src/components/thread/ThreadPostsModeration.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _moderation_posts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moderation/posts */ "./src/components/thread/moderation/posts/index.js");


var ThreadPostsModeration = function ThreadPostsModeration(_ref) {
  var thread = _ref.thread,
    user = _ref.user,
    selection = _ref.selection,
    dropup = _ref.dropup;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: dropup ? "dropup" : "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline btn-icon dropdown-toggle",
    title: pgettext("post options btn", "Posts options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: selection.length === 0
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_posts__WEBPACK_IMPORTED_MODULE_1__.ThreadPostsModerationOptions, {
    thread: thread,
    user: user,
    selection: selection
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadPostsModeration);

/***/ }),

/***/ "./src/components/thread/ThreadReplyButton.jsx":
/*!*****************************************************!*\
  !*** ./src/components/thread/ThreadReplyButton.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadReplyButton = function ThreadReplyButton(_ref) {
  var onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-primary btn-outline btn-block",
    type: "button",
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chat"), pgettext("thread reply btn", "Reply"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadReplyButton);

/***/ }),

/***/ "./src/components/thread/ThreadShortcutsButton.jsx":
/*!*********************************************************!*\
  !*** ./src/components/thread/ThreadShortcutsButton.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var ThreadShortcutsButton = function ThreadShortcutsButton(_ref) {
  var user = _ref.user,
    thread = _ref.thread,
    posts = _ref.posts;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("thread shortcuts btn", "Shortcuts"),
    "aria-expanded": "true",
    "aria-haspopup": "true",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu"
  }, !!posts.first && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-link",
    href: thread.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "place"), pgettext("thread shortcut btn", "Go to first post"))), user.is_authenticated && thread.is_new && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.new_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "comment"), pgettext("thread shortcut btn", "Go to new post"))), thread.best_answer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.best_answer
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_circle"), pgettext("thread shortcut btn", "Go to best answer"))), thread.has_unapproved_posts && thread.acl.can_approve && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.unapproved_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility"), pgettext("thread shortcut btn", "Go to unapproved post"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.last_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "reply"), pgettext("thread shortcut btn", "Go to last post")))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadShortcutsButton);

/***/ }),

/***/ "./src/components/thread/ThreadToolbarBottom.jsx":
/*!*******************************************************!*\
  !*** ./src/components/thread/ThreadToolbarBottom.jsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _ThreadPaginator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreadPaginator */ "./src/components/thread/ThreadPaginator.jsx");
/* harmony import */ var _ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadPostsModeration */ "./src/components/thread/ThreadPostsModeration.jsx");
/* harmony import */ var _ThreadReplyButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadReplyButton */ "./src/components/thread/ThreadReplyButton.jsx");
/* harmony import */ var _ThreadWatchButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadWatchButton */ "./src/components/thread/ThreadWatchButton.jsx");






var ThreadToolbarBottom = function ThreadToolbarBottom(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    selection = _ref.selection,
    moderation = _ref.moderation,
    onReply = _ref.onReply;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, posts.pages > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPaginator__WEBPACK_IMPORTED_MODULE_2__["default"], {
    baseUrl: thread.url.index,
    posts: posts,
    scrollToTop: true
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSpacer, null), user.is_authenticated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadWatchButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    thread: thread,
    dropup: true
  })), thread.acl.can_reply && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplyButton__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onReply
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_3__["default"], {
    thread: thread,
    user: user,
    selection: selection,
    dropup: true
  }))), user.is_authenticated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadWatchButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    thread: thread,
    dropup: true
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadToolbarBottom);

/***/ }),

/***/ "./src/components/thread/ThreadToolbarThird.jsx":
/*!******************************************************!*\
  !*** ./src/components/thread/ThreadToolbarThird.jsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");


var ThreadToolbarThird = function ThreadToolbarThird() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, {
    className: "thread-toolbar-third"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSpacer, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-muted btn-block",
    type: "button",
    onClick: function onClick() {
      return window.scrollTo(0, 0);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "arrow_upward"), pgettext("go up", "Go to top")))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadToolbarThird);

/***/ }),

/***/ "./src/components/thread/ThreadToolbarTop.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadToolbarTop.jsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _ThreadPaginator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreadPaginator */ "./src/components/thread/ThreadPaginator.jsx");
/* harmony import */ var _ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadPollButton */ "./src/components/thread/ThreadPollButton.jsx");
/* harmony import */ var _ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadPostsModeration */ "./src/components/thread/ThreadPostsModeration.jsx");
/* harmony import */ var _ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadReplyButton */ "./src/components/thread/ThreadReplyButton.jsx");
/* harmony import */ var _ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThreadShortcutsButton */ "./src/components/thread/ThreadShortcutsButton.jsx");







var ThreadToolbarTop = function ThreadToolbarTop(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    pollDisabled = _ref.pollDisabled,
    selection = _ref.selection,
    moderation = _ref.moderation,
    onPoll = _ref.onPoll,
    onReply = _ref.onReply;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    posts: posts,
    thread: thread,
    user: user
  })), posts.pages > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPaginator__WEBPACK_IMPORTED_MODULE_2__["default"], {
    baseUrl: thread.url.index,
    posts: posts
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSpacer, null), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disabled: pollDisabled,
    onClick: onPoll
  }))), thread.acl.can_reply ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    posts: posts,
    thread: thread,
    user: user
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: onReply
  })), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disabled: pollDisabled,
    onClick: onPoll,
    compact: true
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-xs",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection
  }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    posts: posts,
    thread: thread,
    user: user
  })), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disabled: pollDisabled,
    onClick: onPoll
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection
  }))), posts.pages > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPaginator__WEBPACK_IMPORTED_MODULE_2__["default"], {
    baseUrl: thread.url.index,
    posts: posts
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadToolbarTop);

/***/ }),

/***/ "./src/components/thread/ThreadWatchButton.jsx":
/*!*****************************************************!*\
  !*** ./src/components/thread/ThreadWatchButton.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _reducers_thread__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _Api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Api */ "./src/components/Api/index.js");
/* harmony import */ var _Dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Dropdown */ "./src/components/Dropdown/index.js");







var ThreadWatchButton = function ThreadWatchButton(_ref) {
  var dispatch = _ref.dispatch,
    dropup = _ref.dropup,
    stickToBottom = _ref.stickToBottom,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Api__WEBPACK_IMPORTED_MODULE_5__.ApiMutation, {
    url: thread.api.watch
  }, function (mutate, _ref2) {
    var loading = _ref2.loading;
    function setNotifications(notifications) {
      if (thread.notifications !== notifications) {
        dispatch((0,_reducers_thread__WEBPACK_IMPORTED_MODULE_3__.update)({
          notifications: notifications
        }));
        mutate({
          json: {
            notifications: notifications
          },
          onError: function onError(error) {
            _services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(error);
            dispatch((0,_reducers_thread__WEBPACK_IMPORTED_MODULE_3__.update)({
              notifications: thread.notifications
            }));
          }
        });
      }
    }
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
      className: dropup ? "dropup" : "dropdown"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
      className: "btn btn-default btn-outline btn-block",
      "aria-expanded": "true",
      "aria-haspopup": "true",
      "data-toggle": "dropdown",
      type: "button"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
      className: "material-icon"
    }, getIcon(thread.notifications)), getLabel(thread.notifications)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-menu dropdown-menu-right", {
        "stick-to-bottom": stickToBottom
      })
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Dropdown__WEBPACK_IMPORTED_MODULE_6__.DropdownSubheader, null, pgettext("watch thread", "Notify about new replies")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
      className: "btn btn-link",
      disabled: loading,
      onClick: function onClick() {
        return setNotifications(2);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
      className: "material-icon"
    }, "mail"), pgettext("watch thread", "On site and with e-mail"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
      className: "btn btn-link",
      disabled: loading,
      onClick: function onClick() {
        return setNotifications(1);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
      className: "material-icon"
    }, "notifications_active"), pgettext("watch thread", "On site only"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
      className: "btn btn-link",
      disabled: loading,
      onClick: function onClick() {
        return setNotifications(0);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
      className: "material-icon"
    }, "notifications_none"), pgettext("watch thread", "Don't notify")))));
  });
};
function getIcon(notifications) {
  if (notifications === 2) return "mail";
  if (notifications === 1) return "notifications_active";
  return "notifications_none";
}
function getLabel(notifications) {
  if (notifications) {
    return pgettext("watch thread", "Watching");
  }
  return pgettext("watch thread", "Watch");
}
var ThreadWatchButtonConnected = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)()(ThreadWatchButton);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreadWatchButtonConnected);

/***/ }),

/***/ "./src/components/thread/moderation/posts/actions.js":
/*!***********************************************************!*\
  !*** ./src/components/thread/moderation/posts/actions.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "approve": () => (/* binding */ approve),
/* harmony export */   "hide": () => (/* binding */ hide),
/* harmony export */   "merge": () => (/* binding */ merge),
/* harmony export */   "patch": () => (/* binding */ patch),
/* harmony export */   "protect": () => (/* binding */ protect),
/* harmony export */   "remove": () => (/* binding */ remove),
/* harmony export */   "unhide": () => (/* binding */ unhide),
/* harmony export */   "unprotect": () => (/* binding */ unprotect)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _errors_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./errors-list */ "./src/components/thread/moderation/posts/errors-list.js");









function approve(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });
  patch(props, ops, newState, previousState);
}
function protect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}
function unprotect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}
function hide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}
function unhide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}
function patch(props, ops, newState, previousState) {
  var selection = props.selection,
    thread = props.thread;

  // patch selected items
  newState.forEach(function (item) {
    misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item);
  });

  // deselect all the things
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());

  // call ajax
  var data = {
    ops: ops,
    ids: selection.map(function (post) {
      return post.id;
    })
  };
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"].patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
      });
      return misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    var errors = [];
    var rollback = [];
    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
      }
      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
        }
      });
    });
    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });
    misago_services_modal__WEBPACK_IMPORTED_MODULE_5__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_errors_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
      errors: errors,
      posts: posts
    }));
  });
}
function merge(props) {
  var confirmed = window.confirm(pgettext("merge posts", "Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  props.selection.slice(1).map(function (selection) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
      isDeleted: true
    }));
  });
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"].post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(data, misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    props.selection.slice(1).map(function (selection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
        isDeleted: false
      }));
    });
  });
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());
}
function remove(props) {
  var confirmed = window.confirm(pgettext("delete posts", "Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  props.selection.map(function (selection) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
      isDeleted: true
    }));
  });
  var ids = props.selection.map(function (post) {
    return post.id;
  });
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"](props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    props.selection.map(function (selection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
        isDeleted: false
      }));
    });
  });
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/dropdown.js":
/*!************************************************************!*\
  !*** ./src/components/thread/moderation/posts/dropdown.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Approve": () => (/* binding */ Approve),
/* harmony export */   "Delete": () => (/* binding */ Delete),
/* harmony export */   "Hide": () => (/* binding */ Hide),
/* harmony export */   "Merge": () => (/* binding */ Merge),
/* harmony export */   "Move": () => (/* binding */ Move),
/* harmony export */   "Protect": () => (/* binding */ Protect),
/* harmony export */   "Split": () => (/* binding */ Split),
/* harmony export */   "Unhide": () => (/* binding */ Unhide),
/* harmony export */   "Unprotect": () => (/* binding */ Unprotect),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./actions */ "./src/components/thread/moderation/posts/actions.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./move */ "./src/components/thread/moderation/posts/move.js");
/* harmony import */ var _split__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./split */ "./src/components/thread/moderation/posts/split.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Approve, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Merge, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Move, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Split, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Protect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unprotect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
}
var Approve = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Approve, _React$Component);
  var _super = _createSuper(Approve);
  function Approve() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Approve);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.approve(_this.props);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), pgettext("thread posts moderation", "Approve")));
    }
  }]);
  return Approve;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Merge = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Merge, _React$Component2);
  var _super2 = _createSuper(Merge);
  function Merge() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Merge);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.merge(_this2.props);
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_merge"), pgettext("thread posts moderation", "Merge")));
    }
  }]);
  return Merge;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Move = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Move, _React$Component3);
  var _super3 = _createSuper(Move);
  function Move() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Move);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_10__["default"], _this3.props));
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), pgettext("thread posts moderation", "Move")));
    }
  }]);
  return Move;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Split = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Split, _React$Component4);
  var _super4 = _createSuper(Split);
  function Split() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Split);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_split__WEBPACK_IMPORTED_MODULE_11__["default"], _this4.props));
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_split"), pgettext("thread posts moderation", "Split")));
    }
  }]);
  return Split;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Protect = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Protect, _React$Component5);
  var _super5 = _createSuper(Protect);
  function Protect() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Protect);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super5.call.apply(_super5, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.protect(_this5.props);
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), pgettext("thread posts moderation", "Protect")));
    }
  }]);
  return Protect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unprotect = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unprotect, _React$Component6);
  var _super6 = _createSuper(Unprotect);
  function Unprotect() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unprotect);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.unprotect(_this6.props);
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), pgettext("thread posts moderation", "Unprotect")));
    }
  }]);
  return Unprotect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Hide = /*#__PURE__*/function (_React$Component7) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component7);
  var _super7 = _createSuper(Hide);
  function Hide() {
    var _this7;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    _this7 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this7), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.hide(_this7.props);
    });
    return _this7;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), pgettext("thread posts moderation", "Hide")));
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component8) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component8);
  var _super8 = _createSuper(Unhide);
  function Unhide() {
    var _this8;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }
    _this8 = _super8.call.apply(_super8, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this8), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.unhide(_this8.props);
    });
    return _this8;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), pgettext("thread posts moderation", "Unhide")));
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component9) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component9);
  var _super9 = _createSuper(Delete);
  function Delete() {
    var _this9;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }
    _this9 = _super9.call.apply(_super9, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this9), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.remove(_this9.props);
    });
    return _this9;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), pgettext("thread posts moderation", "Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/thread/moderation/posts/errors-list.js":
/*!***************************************************************!*\
  !*** ./src/components/thread/moderation/posts/errors-list.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostErrors": () => (/* binding */ PostErrors),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var errors = _ref.errors,
    posts = _ref.posts;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("thread posts moderation modal title", "Moderation"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, pgettext("thread posts moderation modal", "One or more posts could not be changed:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-errored-items"
  }, errors.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PostErrors, {
      errors: post.detail,
      key: post.id,
      post: posts[post.id]
    });
  })))));
}
function PostErrors(_ref2) {
  var errors = _ref2.errors,
    post = _ref2.post;
  var heading = interpolate(pgettext("thread posts moderation modal", "%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, heading, ":"), errors.map(function (error, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      key: i
    }, error);
  }));
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/index.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/posts/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ThreadPostsModerationOptions": () => (/* reexport safe */ _dropdown__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dropdown */ "./src/components/thread/moderation/posts/dropdown.js");



/***/ }),

/***/ "./src/components/thread/moderation/posts/move.js":
/*!********************************************************!*\
  !*** ./src/components/thread/moderation/posts/move.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("thread posts moderation move", "You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__.patch(selection, {
          isDeleted: true
        }));
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("thread posts moderation move", "Selected posts were moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        "for": "id_url",
        label: pgettext("thread posts moderation move", "Link to thread you want to move posts to")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("thread posts moderation move btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading
      }, pgettext("thread posts moderation move btn", "Move posts"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("thread posts moderation move title", "Move posts")));
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/split.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/posts/split.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Error": () => (/* binding */ Error),
/* harmony export */   "Loader": () => (/* binding */ Loader),
/* harmony export */   "Modal": () => (/* binding */ Modal),
/* harmony export */   "ModerationForm": () => (/* binding */ ModerationForm),
/* harmony export */   "PostingConfig": () => (/* binding */ PostingConfig),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var _errors_list__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./errors-list */ "./src/components/thread/moderation/posts/errors-list.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }














/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(PostingConfig, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, props, {
    Form: ModerationForm
  }));
}
var PostingConfig = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PostingConfig, _React$Component);
  var _super = _createSuper(PostingConfig);
  function PostingConfig(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PostingConfig);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });
        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(ModerationForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Loader, null);
      }
    }
  }]);
  return PostingConfig;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var ModerationForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ModerationForm, _Form);
  var _super2 = _createSuper(ModerationForm);
  function ModerationForm(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ModerationForm);
    _this3 = _super2.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };
      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }
      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }
      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }
      _this3.setState(newState);
    });
    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: pgettext("thread hidden switch choice", "No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: pgettext("thread hidden switch choice", "Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: pgettext("thread closed switch choice", "No")
    }, {
      value: true,
      icon: "lock",
      label: pgettext("thread closed switch choice", "Yes")
    }];
    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }
        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__.patch(selection, {
          isDeleted: true
        }));
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].success(pgettext("posts moderation split", "Selected posts were split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_errors_list__WEBPACK_IMPORTED_MODULE_21__["default"], {
          errors: rejection
        }));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: pgettext("thread weight choice", "Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: pgettext("thread weight choice", "Pinned in category")
      }];
      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: pgettext("thread weight choice", "Pinned globally")
        });
      }
      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts moderation split field", "Thread weight"),
          "for": "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts moderation split field", "Hide thread"),
          "for": "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: pgettext("posts moderation split field", "Close thread"),
          "for": "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("posts moderation split field", "Thread title"),
        "for": "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: pgettext("posts moderation split field", "Category"),
        "for": "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("posts moderation split btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, pgettext("posts moderation split btn", "Split posts")))));
    }
  }]);
  return ModerationForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
function Loader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
}
function Error(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
    className: "lead"
  }, pgettext("posts moderation split", "You can't move selected posts at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, props.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, pgettext("posts moderation split dismiss btn", "Ok"))));
}
function Modal(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("posts moderation split title", "Split posts into new thread"))), props.children));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx":
/*!****************************************************************************!*\
  !*** ./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_posting_utils_validators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/posting/utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (data) {
      _this.handleSuccessUnmounted(data);

      // keep form loading
      _this.setState({
        isLoading: true
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccessUnmounted", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.update(data));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    _this.state = {
      isLoading: false,
      title: props.thread.title,
      validators: {
        title: (0,misago_components_posting_utils_validators__WEBPACK_IMPORTED_MODULE_10__.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("thread title form", "You have to enter thread title."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.title[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].patch(this.props.thread.api.index, [{
        op: "replace",
        path: "title",
        value: this.state.title
      }]);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "id_modal_title",
        label: pgettext("thread title form field", "Thread title")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_modal_title",
        onChange: this.onChange,
        value: this.state.title
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("thread title form btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading || this.props.thread.isBusy
      }, pgettext("thread title form btn", "Change title"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("thread title form title", "Change title")));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/controls.js":
/*!*************************************************************!*\
  !*** ./src/components/thread/moderation/thread/controls.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _ThreadChangeTitleModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ThreadChangeTitleModal */ "./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx");
/* harmony import */ var _merge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./merge */ "./src/components/thread/moderation/thread/merge.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./move */ "./src/components/thread/moderation/thread/move.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "callApi", function (ops, successMessage) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.busy());

      // by the chance update thread acl too
      ops.push({
        op: "add",
        path: "acl",
        value: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].patch(_this.props.thread.api.index, ops).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.update(data));
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(successMessage);
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "changeTitle", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadChangeTitleModal__WEBPACK_IMPORTED_MODULE_13__["default"], {
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], pgettext("thread moderation", "Thread has been pinned globally."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], pgettext("thread moderation", "Thread has been pinned in category."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], pgettext("thread moderation", "Thread has been unpinned."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], pgettext("thread moderation", "Thread has been approved."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Thread has been opened."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], pgettext("thread moderation", "Thread has been closed."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], pgettext("thread moderation", "Thread has been made visible."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], pgettext("thread moderation", "Thread has been made hidden."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "move", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_15__["default"], {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "merge", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_merge__WEBPACK_IMPORTED_MODULE_14__["default"], {
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "delete", function () {
      if (!window.confirm(pgettext("thread moderation", "Are you sure you want to delete this thread?"))) {
        return;
      }
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.busy());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"]["delete"](_this.props.thread.api.index).then(function (data) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(pgettext("thread moderation", "Thread has been deleted."));
        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.moderation;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, !!moderation.edit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.changeTitle,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), pgettext("thread moderation btn", "Change title"))), !!moderation.pinGlobally && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark"), pgettext("thread moderation btn", "Pin globally"))), !!moderation.pinLocally && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), pgettext("thread moderation btn", "Pin in category"))), !!moderation.unpin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), pgettext("thread moderation btn", "Unpin"))), !!moderation.move && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), pgettext("thread moderation btn", "Move"))), !!moderation.merge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_merge"), pgettext("thread moderation btn", "Merge"))), !!moderation.approve && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), pgettext("thread moderation btn", "Approve"))), !!moderation.open && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), pgettext("thread moderation btn", "Open"))), !!moderation.close && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), pgettext("thread moderation btn", "Close"))), !!moderation.unhide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), pgettext("thread moderation btn", "Unhide"))), !!moderation.hide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.hide,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), pgettext("thread moderation btn", "Hide"))), !!moderation["delete"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this["delete"],
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), pgettext("thread moderation btn", "Delete"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/thread/moderation/thread/index.js":
/*!**********************************************************!*\
  !*** ./src/components/thread/moderation/thread/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls */ "./src/components/thread/moderation/thread/controls.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_controls__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/thread/moderation/thread/merge.js":
/*!**********************************************************!*\
  !*** ./src/components/thread/moderation/thread/merge.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/merge-conflict */ "./src/components/merge-conflict.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        isLoading: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccessUnmounted", function (success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(pgettext("thread merge form", "Thread has been merged with other one."));
      window.location = success.url;
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_10__["default"], {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: {
              other_thread: _this.state.url
            },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.poll[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail);
        }
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(pgettext("thread merge form", "You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        "for": "id_url",
        label: pgettext("thread merge form field", "Link to thread you want to merge with"),
        help_text: pgettext("thread merge form field", "Merge will delete current thread and move its contents to the thread specified here.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, pgettext("thread merge form btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading || this.props.thread.isBusy
      }, pgettext("thread merge form btn", "Merge thread"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("thread merge form title", "Merge thread")));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/move.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/thread/move.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "ModalLoading": () => (/* binding */ ModalLoading),
/* harmony export */   "ModalMessage": () => (/* binding */ ModalMessage),
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCategoryChange", function (event) {
      _this.changeValue("category", event.target.value);
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,
      category: null,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(misago__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREAD_EDITOR_API")).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });
        _this2.setState({
          isReady: true,
          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].patch(this.props.thread.api.index, [{
        op: "replace",
        path: "category",
        value: this.state.category
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.thread.api.posts.index, {
        page: this.props.posts.page
      }).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.replace(data));
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_12__.load(data.post_set));
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(pgettext("thread move form", "Thread has been moved."));
        misago_services_modal__WEBPACK_IMPORTED_MODULE_16__["default"].hide();
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(rejection.detail[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-dialog",
          role: "document"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-content"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-body"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
          "for": "id_category",
          label: pgettext("thread move form field", "New category")
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
          choices: this.state.categories,
          disabled: this.state.isLoading || this.props.thread.isBusy,
          id: "id_category",
          onChange: this.onCategoryChange,
          value: this.state.category
        }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-footer"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          className: "btn btn-default",
          "data-dismiss": "modal",
          disabled: this.state.isLoading,
          type: "button"
        }, pgettext("thread move form btn", "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          className: "btn btn-primary",
          disabled: this.state.isLoading || this.props.thread.isBusy
        }, pgettext("thread move form btn", "Move thread"))))));
      } else if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalMessage, {
          message: this.state.isError
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalLoading, null);
      }
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, pgettext("thread move form title", "Move thread")));
}
function ModalLoading(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__["default"], null)));
}
function ModalMessage(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-dialog modal-message",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
    className: "lead"
  }, pgettext("thread move form", "You can't move this thread at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, props.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, pgettext("thread move form dismiss btn", "Ok")))));
}

/***/ }),

/***/ "./src/components/thread/root.js":
/*!***************************************!*\
  !*** ./src/components/thread/root.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paths": () => (/* binding */ paths),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/thread/route */ "./src/components/thread/route.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");



function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}
function paths() {
  var thread = misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("THREAD");
  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");
  return [{
    path: basePath,
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__["default"])
  }, {
    path: basePath + ":page/",
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__["default"])
  }];
}

/***/ }),

/***/ "./src/components/thread/route.js":
/*!****************************************!*\
  !*** ./src/components/thread/route.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_participants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/participants */ "./src/components/participants/index.js");
/* harmony import */ var misago_components_poll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/poll */ "./src/components/poll/index.js");
/* harmony import */ var misago_components_posts_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/posts-list */ "./src/components/posts-list/index.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _posting__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../posting */ "./src/components/posting/index.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _ThreadHeader__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ThreadHeader */ "./src/components/thread/ThreadHeader/index.js");
/* harmony import */ var _ThreadToolbarBottom__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ThreadToolbarBottom */ "./src/components/thread/ThreadToolbarBottom.jsx");
/* harmony import */ var _ThreadToolbarThird__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ThreadToolbarThird */ "./src/components/thread/ThreadToolbarThird.jsx");
/* harmony import */ var _ThreadToolbarTop__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ThreadToolbarTop */ "./src/components/thread/ThreadToolbarTop.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




















var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_14__.replace(data));
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__.load(data.post_set));
      if (data.participants) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_11__.replace(data.participants));
      }
      if (data.poll) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_12__.replace(data.poll));
      }
      _this.setPageTitle();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "openPollForm", function () {
      _this.setState({
        editPoll: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "closePollForm", function () {
      _this.setState({
        editPoll: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "openReplyForm", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_18__["default"].open({
        mode: "REPLY",
        thread: _this.props.thread,
        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    });
    _this.state = {
      editPoll: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }
      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__.unload());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].start({
        poll: "thread-posts",
        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,
        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_20__["default"].set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var category = this.props.thread.category;
      var className = "page page-thread";
      if (category.css_class) {
        className += " page-thread-" + category.css_class;
      }
      var styleName = category.special_role === "private_threads" ? "private-threads" : category.css_class || "category-threads";
      var threadModeration = getThreadModeration(this.props.thread, this.props.user);
      var postsModeration = getPostsModeration(this.props.posts.results, this.props.user);
      var selection = this.props.posts.results.filter(function (post) {
        return post.isSelected;
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: className
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadHeader__WEBPACK_IMPORTED_MODULE_23__["default"], {
        styleName: styleName,
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        moderation: threadModeration
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_22__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_participants__WEBPACK_IMPORTED_MODULE_8__["default"], {
        participants: this.props.participants,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadToolbarTop__WEBPACK_IMPORTED_MODULE_26__["default"], {
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        selection: selection,
        moderation: postsModeration,
        pollDisabled: this.state.editPoll,
        onPoll: this.openPollForm,
        onReply: this.openReplyForm
      }), this.state.editPoll ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_poll__WEBPACK_IMPORTED_MODULE_9__.PollForm, {
        poll: this.props.poll,
        thread: this.props.thread,
        close: this.closePollForm
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_poll__WEBPACK_IMPORTED_MODULE_9__.Poll, {
        poll: this.props.poll,
        thread: this.props.thread,
        user: this.props.user,
        edit: this.openPollForm
      }), this.props.thread.acl.can_reply ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_posting__WEBPACK_IMPORTED_MODULE_21__.PostingQuoteSelection, {
        posting: {
          mode: "REPLY",
          thread: this.props.thread,
          config: this.props.thread.api.editor,
          submit: this.props.thread.api.posts.index
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_posts_list__WEBPACK_IMPORTED_MODULE_10__["default"], this.props)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_posts_list__WEBPACK_IMPORTED_MODULE_10__["default"], this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadToolbarBottom__WEBPACK_IMPORTED_MODULE_24__["default"], {
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        selection: selection,
        moderation: postsModeration,
        onReply: this.openReplyForm
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadToolbarThird__WEBPACK_IMPORTED_MODULE_25__["default"], null)));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

var getThreadModeration = function getThreadModeration(thread, user) {
  var moderation = {
    enabled: false,
    edit: false,
    approve: false,
    close: false,
    open: false,
    hide: false,
    unhide: false,
    move: false,
    merge: false,
    pinGlobally: false,
    pinLocally: false,
    unpin: false,
    "delete": false
  };
  if (!user.is_authenticated) return moderation;
  moderation.edit = thread.acl.can_edit;
  moderation.approve = thread.acl.can_approve && thread.is_unapproved;
  moderation.close = thread.acl.can_close && !thread.is_closed;
  moderation.open = thread.acl.can_close && thread.is_closed;
  moderation.hide = thread.acl.can_hide && !thread.is_hidden;
  moderation.unhide = thread.acl.can_unhide && thread.is_hidden;
  moderation.move = thread.acl.can_move;
  moderation.merge = thread.acl.can_merge;
  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2;
  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1;
  moderation.unpin = thread.acl.can_pin && thread.weight === 1 || thread.acl.can_pin_globally && thread.weight === 2;
  moderation["delete"] = thread.acl.can_delete;
  moderation.enabled = moderation.edit || moderation.approve || moderation.close || moderation.open || moderation.hide || moderation.unhide || moderation.move || moderation.merge || moderation.pinGlobally || moderation.pinLocally || moderation.unpin || moderation["delete"];
  return moderation;
};
var getPostsModeration = function getPostsModeration(posts, user) {
  var moderation = {
    enabled: false,
    approve: false,
    move: false,
    merge: false,
    protect: false,
    hide: false,
    "delete": false
  };
  if (!user.is_authenticated) return moderation;
  posts.forEach(function (post) {
    if (!post.is_event) {
      if (post.acl.can_approve && post.is_unapproved) {
        moderation.approve = true;
      }
      if (post.acl.can_move) moderation.move = true;
      if (post.acl.can_merge) moderation.merge = true;
      if (post.acl.can_protect || post.acl.can_unprotect) {
        moderation.protect = true;
      }
      if (post.acl.can_hide || post.acl.can_unhide) {
        moderation.hide = true;
      }
      if (post.acl.can_delete) moderation["delete"] = true;
      if (moderation.approve || moderation.move || moderation.merge || moderation.protect || moderation.hide || moderation["delete"]) {
        moderation.enabled = true;
      }
    }
  });
  return moderation;
};

/***/ }),

/***/ "./src/components/user-status.js":
/*!***************************************!*\
  !*** ./src/components/user-status.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StatusIcon": () => (/* binding */ StatusIcon),
/* harmony export */   "StatusLabel": () => (/* binding */ StatusLabel),
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "getStatusClassName": () => (/* binding */ getStatusClassName),
/* harmony export */   "getStatusDescription": () => (/* binding */ getStatusDescription)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: this.getClass()
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

var StatusIcon = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(StatusIcon, _React$Component2);
  var _super2 = _createSuper(StatusIcon);
  function StatusIcon() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StatusIcon);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon status-icon"
      }, this.getIcon());
    }
  }]);
  return StatusIcon;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var StatusLabel = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(StatusLabel, _React$Component3);
  var _super3 = _createSuper(StatusLabel);
  function StatusLabel() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StatusLabel);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return pgettext("user status", "Banned");
      } else if (this.props.status.is_hidden) {
        return pgettext("user status", "Hidden");
      } else if (this.props.status.is_online_hidden) {
        return pgettext("user status", "Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return pgettext("user status", "Offline (hidden)");
      } else if (this.props.status.is_online) {
        return pgettext("user status", "Online");
      } else if (this.props.status.is_offline) {
        return pgettext("user status", "Offline");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: this.props.className || "status-label",
        title: this.getHelp()
      }, this.getLabel());
    }
  }]);
  return StatusLabel;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function getStatusClassName(status) {
  var className = "";
  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }
  return "user-status user-" + className;
}
function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(pgettext("user status", "%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate(pgettext("user status", "%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(pgettext("user status", "%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(pgettext("user status", "%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(pgettext("user status", "%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(pgettext("user status", "%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(pgettext("user status", "%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

/***/ }),

/***/ "./src/components/username-history/change-preview.js":
/*!***********************************************************!*\
  !*** ./src/components/username-history/change-preview.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "100"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-author"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 100) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(80, 140) + "px"
        }
      }, "\xA0")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/change.js":
/*!***************************************************!*\
  !*** ./src/components/username-history/change.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
          href: this.props.change.changed_by.url,
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
          user: this.props.change.changed_by,
          size: "100"
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
          size: "100"
        }));
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
          href: this.props.change.changed_by.url,
          className: "item-title"
        }, this.props.change.changed_by.username);
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "item-title"
        }, this.props.change.changed_by_username);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "list-group-item",
        key: this.props.change.id
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-avatar"
      }, this.renderUserAvatar()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-author"
      }, this.renderUsername()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "old-username"
      }, this.props.change.old_username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "new-username"
      }, this.props.change.new_username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("abbr", {
        title: this.props.change.changed_on.format("LLL")
      }, this.props.change.changed_on.fromNow())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-empty.js":
/*!*******************************************************!*\
  !*** ./src/components/username-history/list-empty.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return pgettext("username history empty", "Your account has no history of name changes.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "list-group-item empty-message"
      }, this.getEmptyMessage())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-preview.js":
/*!*********************************************************!*\
  !*** ./src/components/username-history/list-preview.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_change_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/change-preview */ "./src/components/username-history/change-preview.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_change_preview__WEBPACK_IMPORTED_MODULE_6__["default"], {
          hiddenOnMobile: i > 0,
          key: i
        });
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-ready.js":
/*!*******************************************************!*\
  !*** ./src/components/username-history/list-ready.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_change__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/change */ "./src/components/username-history/change.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, this.props.changes.map(function (change) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_change__WEBPACK_IMPORTED_MODULE_6__["default"], {
          change: change,
          key: change.id
        });
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/root.js":
/*!*************************************************!*\
  !*** ./src/components/username-history/root.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_list_empty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/list-empty */ "./src/components/username-history/list-empty.js");
/* harmony import */ var misago_components_username_history_list_ready__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/username-history/list-ready */ "./src/components/username-history/list-ready.js");
/* harmony import */ var misago_components_username_history_list_preview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/username-history/list-preview */ "./src/components/username-history/list-preview.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_ready__WEBPACK_IMPORTED_MODULE_7__["default"], {
            changes: this.props.changes
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_empty__WEBPACK_IMPORTED_MODULE_6__["default"], {
            emptyMessage: this.props.emptyMessage
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_preview__WEBPACK_IMPORTED_MODULE_8__["default"], null);
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users-list/card/index.js":
/*!*************************************************!*\
  !*** ./src/components/users-list/card/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stats */ "./src/components/users-list/card/stats.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-title */ "./src/components/users-list/card/user-title.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var showStatus = _ref.showStatus,
    user = _ref.user;
  var rank = user.rank;
  var className = "panel user-card";
  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-3 user-card-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-small-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: "50",
    size2x: "80",
    user: user
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-9 col-sm-12 user-card-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: "150",
    size2x: "200",
    user: user
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-username"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, user.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_3__["default"], {
    rank: rank,
    title: user.title
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-stats"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_stats__WEBPACK_IMPORTED_MODULE_2__["default"], {
    showStatus: showStatus,
    user: user
  }))))));
}

/***/ }),

/***/ "./src/components/users-list/card/stats.js":
/*!*************************************************!*\
  !*** ./src/components/users-list/card/stats.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Followers": () => (/* binding */ Followers),
/* harmony export */   "JoinDate": () => (/* binding */ JoinDate),
/* harmony export */   "Posts": () => (/* binding */ Posts),
/* harmony export */   "Status": () => (/* binding */ Status),
/* harmony export */   "Threads": () => (/* binding */ Threads),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getStatClassName": () => (/* binding */ getStatClassName)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var showStatus = _ref.showStatus,
    user = _ref.user;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Status, {
    showStatus: showStatus,
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(JoinDate, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-divider"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Posts, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Threads, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Followers, {
    user: user
  }));
}
function Status(_ref2) {
  var showStatus = _ref2.showStatus,
    user = _ref2.user;
  if (!showStatus) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-status"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    status: user.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    status: user.status,
    user: user
  })));
}
function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;
  var title = interpolate(pgettext("users list item", "Joined on %(joined_on)s"), {
    joined_on: joined_on.format("LL, LT")
  }, true);
  var message = interpolate(pgettext("users list item", "Joined %(joined_on)s"), {
    joined_on: joined_on.fromNow()
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-join-date"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: title
  }, message));
}
function Posts(_ref4) {
  var user = _ref4.user;
  var className = getStatClassName("user-stat-posts", user.posts);
  var message = npgettext("users list item", "%(posts)s post", "%(posts)s posts", user.posts);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    posts: user.posts
  }, true));
}
function Threads(_ref5) {
  var user = _ref5.user;
  var className = getStatClassName("user-stat-threads", user.threads);
  var message = npgettext("users list item", "%(threads)s thread", "%(threads)s threads", user.threads);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    threads: user.threads
  }, true));
}
function Followers(_ref6) {
  var user = _ref6.user;
  var className = getStatClassName("user-stat-followers", user.followers);
  var message = npgettext("users list item", "%(followers)s follower", "%(followers)s followers", user.followers);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    followers: user.followers
  }, true));
}
function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }
  return className;
}

/***/ }),

/***/ "./src/components/users-list/card/user-title.js":
/*!******************************************************!*\
  !*** ./src/components/users-list/card/user-title.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/users-list/index.js":
/*!********************************************!*\
  !*** ./src/components/users-list/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/users-list/card/index.js");
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview */ "./src/components/users-list/preview/index.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var cols = _ref.cols,
    isReady = _ref.isReady,
    showStatus = _ref.showStatus,
    users = _ref.users;
  var colClassName = "col-xs-12 col-sm-4";
  if (cols === 4) {
    colClassName += " col-md-3";
  }
  if (!isReady) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_preview__WEBPACK_IMPORTED_MODULE_2__["default"], {
      colClassName: colClassName,
      cols: cols
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "users-cards-list ui-ready"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, users.map(function (user) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: colClassName,
      key: user.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], {
      showStatus: showStatus,
      user: user
    }));
  })));
}

/***/ }),

/***/ "./src/components/users-list/preview/card.js":
/*!***************************************************!*\
  !*** ./src/components/users-list/preview/card.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel user-card user-card-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-3 user-card-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-small-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "50",
        size2x: "80"
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-9 col-sm-12 user-card-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "150",
        size2x: "200"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-username"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-title"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-stats"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-unstyled"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "user-stat-divider"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0"))))))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users-list/preview/index.js":
/*!****************************************************!*\
  !*** ./src/components/users-list/preview/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/users-list/preview/card.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var colClassName = _ref.colClassName,
    cols = _ref.cols;
  var list = Array.apply(null, {
    length: cols
  }).map(Number.call, Number);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "users-cards-list ui-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, list.map(function (i) {
    var className = colClassName;
    if (i !== 0) className += " hidden-xs";
    if (i === 3) className += " hidden-sm";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: className,
      key: i
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], null));
  })));
}

/***/ }),

/***/ "./src/components/users/UsersNav.js":
/*!******************************************!*\
  !*** ./src/components/users/UsersNav.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_li__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/li */ "./src/components/li.js");



var UsersNav = function UsersNav(_ref) {
  var baseUrl = _ref.baseUrl,
    page = _ref.page,
    pages = _ref.pages;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "nav-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "menu"), page.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, pages.map(function (page) {
    var url = getPageUrl(baseUrl, page);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: url
    }, page.name));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "nav nav-pills hidden-xs",
    role: "menu"
  }, pages.map(function (page) {
    var url = getPageUrl(baseUrl, page);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_li__WEBPACK_IMPORTED_MODULE_2__["default"], {
      path: url,
      key: url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: url
    }, page.name));
  })));
};
var getPageUrl = function getPageUrl(baseUrl, page) {
  var url = baseUrl;
  if (page.component === "rank") {
    url += page.slug;
  } else {
    url += page.component;
  }
  return url + "/";
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UsersNav);

/***/ }),

/***/ "./src/components/users/active-posters/list-empty.js":
/*!***********************************************************!*\
  !*** ./src/components/users/active-posters/list-empty.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate(npgettext("top posters empty", "No users have posted any new messages during last %(days)s day.", "No users have posted any new messages during last %(days)s days.", this.props.trackedPeriod), {
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_7__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getEmptyMessage())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-item-preview.js":
/*!******************************************************************!*\
  !*** ./src/components/users/active-posters/list-item-preview.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "50"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "item-title"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 80) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Ranked posts"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Ranked posts"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Total posts"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-item.js":
/*!**********************************************************!*\
  !*** ./src/components/users/active-posters/list-item.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__["default"], {
          user: this.props.user,
          status: this.props.user.status
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__.StatusIcon, {
          user: this.props.user,
          status: this.props.user.status
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__.StatusLabel, {
          user: this.props.user,
          status: this.props.user.status,
          className: "status-label hidden-xs hidden-sm"
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_10__.int(30, 50) + "px"
        }
      }, "\xA0"));
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "rank-name item-title"
        }, this.props.rank.name);
      }
      var rankUrl = misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_6__.Link, {
        to: rankUrl,
        className: "rank-name item-title"
      }, this.props.rank.name);
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, this.props.user.title);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: this.props.user.url
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__["default"], {
        user: this.props.user,
        size: 50,
        size2x: 64
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: this.props.user.url,
        className: "item-title"
      }, this.props.user.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-details"
      }, this.getUserStatus(), this.getRankName(), this.getUserTitle()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, "#", this.props.counter), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Ranked posts"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, "#", this.props.counter), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Ranked posts"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.posts), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, pgettext("top posters list item", "Total posts"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-preview.js":
/*!*************************************************************!*\
  !*** ./src/components/users/active-posters/list-preview.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_users_active_posters_list_item_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/users/active-posters/list-item-preview */ "./src/components/users/active-posters/list-item-preview.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_8__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_9__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(50, 220) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_users_active_posters_list_item_preview__WEBPACK_IMPORTED_MODULE_6__["default"], {
          hiddenOnMobile: i > 0,
          key: i
        });
      })))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-ready.js":
/*!***********************************************************!*\
  !*** ./src/components/users/active-posters/list-ready.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_users_active_posters_list_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/users/active-posters/list-item */ "./src/components/users/active-posters/list-item.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = npgettext("top posters list", "%(posters)s top poster from last %(days)s days.", "%(posters)s top posters from last %(days)s days.", this.props.count);
      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_7__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_8__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getLeadMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, this.props.users.map(function (user, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_users_active_posters_list_item__WEBPACK_IMPORTED_MODULE_6__["default"], {
          user: user,
          rank: user.rank,
          counter: i + 1,
          key: user.id
        });
      })))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/root.js":
/*!*****************************************************!*\
  !*** ./src/components/users/active-posters/root.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_users_active_posters_list_empty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users/active-posters/list-empty */ "./src/components/users/active-posters/list-empty.js");
/* harmony import */ var misago_components_users_active_posters_list_preview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/users/active-posters/list-preview */ "./src/components/users/active-posters/list-preview.js");
/* harmony import */ var misago_components_users_active_posters_list_ready__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/users/active-posters/list-ready */ "./src/components/users/active-posters/list-ready.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
      _this.setState({
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      });
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("USERS")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling();
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_13__["default"].start({
        poll: "active-posters",
        url: misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_15__["default"].set({
        title: this.props.route.extra.name,
        parent: pgettext("users page title", "Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_13__["default"].stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      var page = {
        name: this.props.route.extra.name
      };
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_ready__WEBPACK_IMPORTED_MODULE_10__["default"], {
            page: page,
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_empty__WEBPACK_IMPORTED_MODULE_8__["default"], {
            page: page,
            trackedPeriod: this.state.trackedPeriod
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_preview__WEBPACK_IMPORTED_MODULE_9__["default"], {
          page: page
        });
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/users/rank/RankUsersLeft.jsx":
/*!*****************************************************!*\
  !*** ./src/components/users/rank/RankUsersLeft.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var RankUsersLeft = function RankUsersLeft(_ref) {
  var users = _ref.users;
  if (users.more) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, interpolate(npgettext("rank users list", "There is %(more)s more user with this rank.", "There are %(more)s more users with this rank.", users.more), {
      more: users.more
    }, true));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, pgettext("rank users list empty", "There are no more users with this rank."));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RankUsersLeft);

/***/ }),

/***/ "./src/components/users/rank/RankUsersList.js":
/*!****************************************************!*\
  !*** ./src/components/users/rank/RankUsersList.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _users_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../users-list */ "./src/components/users-list/index.js");


var RankUsersList = function RankUsersList(_ref) {
  var users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_users_list__WEBPACK_IMPORTED_MODULE_1__["default"], {
    cols: 4,
    isReady: true,
    showStatus: true,
    users: users
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RankUsersList);

/***/ }),

/***/ "./src/components/users/rank/RankUsersListLoader.js":
/*!**********************************************************!*\
  !*** ./src/components/users/rank/RankUsersListLoader.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var RankUsersListLoader = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(RankUsersListLoader, _React$Component);
  var _super = _createSuper(RankUsersListLoader);
  function RankUsersListLoader() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, RankUsersListLoader);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
        cols: 4,
        isReady: false
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(RankUsersListLoader, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }]);
  return RankUsersListLoader;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RankUsersListLoader);

/***/ }),

/***/ "./src/components/users/rank/RankUsersPagination.jsx":
/*!***********************************************************!*\
  !*** ./src/components/users/rank/RankUsersPagination.jsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var RankUsersPagination = function RankUsersPagination(_ref) {
  var baseUrl = _ref.baseUrl,
    users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "misago-pagination"
  }, users.isLoaded && users.first ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl,
    title: pgettext("rank users list paginator", "Go to first page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("rank users list paginator", "Go to first page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")), users.isLoaded && users.previous ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + (users.previous > 1 ? users.previous + "/" : ""),
    title: pgettext("rank users list paginator", "Go to previous page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("rank users list paginator", "Go to previous page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")), users.isLoaded && users.next ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + users.next + "/",
    title: pgettext("rank users list paginator", "Go to next page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("rank users list paginator", "Go to next page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")), users.isLoaded && users.last ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + users.last + "/",
    title: pgettext("rank users list paginator", "Go to last page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: pgettext("rank users list paginator", "Go to last page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RankUsersPagination);

/***/ }),

/***/ "./src/components/users/rank/RankUsersToolbar.jsx":
/*!********************************************************!*\
  !*** ./src/components/users/rank/RankUsersToolbar.jsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _RankUsersLeft__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RankUsersLeft */ "./src/components/users/rank/RankUsersLeft.jsx");
/* harmony import */ var _RankUsersPagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RankUsersPagination */ "./src/components/users/rank/RankUsersPagination.jsx");




var RankUsersToolbar = function RankUsersToolbar(_ref) {
  var baseUrl = _ref.baseUrl,
    users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_RankUsersPagination__WEBPACK_IMPORTED_MODULE_3__["default"], {
    baseUrl: baseUrl,
    users: users
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_RankUsersLeft__WEBPACK_IMPORTED_MODULE_2__["default"], {
    users: users
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RankUsersToolbar);

/***/ }),

/***/ "./src/components/users/rank/root.js":
/*!*******************************************!*\
  !*** ./src/components/users/rank/root.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_page_lead__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/page-lead */ "./src/components/page-lead.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _RankUsersList__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./RankUsersList */ "./src/components/users/rank/RankUsersList.js");
/* harmony import */ var _RankUsersListLoader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./RankUsersListLoader */ "./src/components/users/rank/RankUsersListLoader.js");
/* harmony import */ var _RankUsersToolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./RankUsersToolbar */ "./src/components/users/rank/RankUsersToolbar.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__.hydrate)(data.results));
      data.isLoaded = true;
      _this.setState(data);
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].has("USERS")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling(props.params.page || 1);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].start({
        poll: "rank-users",
        url: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: pgettext("users page title", "Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: pgettext("users page title", "Users")
        });
        this.setState({
          isLoaded: false
        });
        misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].stop("rank-users");
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "rank-description"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_page_lead__WEBPACK_IMPORTED_MODULE_8__["default"], {
          copy: this.props.route.rank.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersList__WEBPACK_IMPORTED_MODULE_15__["default"], {
            users: this.props.users
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
            className: "lead"
          }, pgettext("rank users list", "There are no users with this rank at the moment."));
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersListLoader__WEBPACK_IMPORTED_MODULE_16__["default"], null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_14__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_18__["default"], {
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL"),
        page: {
          name: this.props.route.rank.name
        },
        pages: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LISTS")
      }), this.getRankDescription(), this.getComponent(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersToolbar__WEBPACK_IMPORTED_MODULE_17__["default"], {
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL") + this.props.route.rank.slug + "/",
        users: this.state
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/users/root.js":
/*!**************************************!*\
  !*** ./src/components/users/root.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default),
/* harmony export */   "paths": () => (/* binding */ paths),
/* harmony export */   "select": () => (/* binding */ select)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_users_active_posters_root__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/users/active-posters/root */ "./src/components/users/active-posters/root.js");
/* harmony import */ var misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users/rank/root */ "./src/components/users/rank/root.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "page page-users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeader, {
        styleName: "users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeaderBanner, {
        styleName: "users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h1", null, pgettext("users page title", "Users"))))), this.props.children);
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_9__["default"]);

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}
function paths() {
  var paths = [];
  misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__["default"]),
        rank: item
      });
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.slug + "/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__["default"]),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.component + "/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_active_posters_root__WEBPACK_IMPORTED_MODULE_7__["default"]),
        extra: {
          name: item.name
        }
      });
    }
  });
  return paths;
}

/***/ }),

/***/ "./src/components/with-dropdown.js":
/*!*****************************************!*\
  !*** ./src/components/with-dropdown.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggleNav", function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "hideNav", function () {
      _this.setState({
        dropdown: false
      });
    });
    _this.state = {
      dropdown: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/yes-no-switch.js":
/*!*****************************************!*\
  !*** ./src/components/yes-no-switch.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggle", function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || pgettext("yesno switch choice", "yes");
      } else {
        return this.props.labelOff || pgettext("yesno switch choice", "no");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        onClick: this.toggle,
        className: this.getClassName(),
        id: this.props.id || null,
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "btn-text"
      }, this.getLabel()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/data/profile-details.js":
/*!*************************************!*\
  !*** ./src/data/profile-details.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _default)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
        data = _this$props.data,
        dispatch = _this$props.dispatch,
        user = _this$props.user;
      if (data && data.id === user.id) return;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_7__["default"].get(this.props.user.api.details).then(function (data) {
        dispatch((0,misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_6__.load)(data));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_8__["default"].apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/formValidators.js":
/*!*******************************!*\
  !*** ./src/formValidators.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "registerElementValidator": () => (/* binding */ registerElementValidator),
/* harmony export */   "registerValidators": () => (/* binding */ registerValidators)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_2__);



var DEBOUNCE = 1000;
var cache = {};
function registerElementValidator(element) {
  var active = element.getAttribute("misago-validate-active");
  if (active) {
    return;
  }
  var url = element.getAttribute("misago-validate");
  var user = element.getAttribute("misago-validate-user");
  var strip = element.getAttribute("misago-validate-strip") == "false" ? false : true;
  var input = element.querySelector("input");
  var csrf = input.closest("form").querySelector("input[type=hidden]");
  if (!url || !input) {
    return;
  }
  if (!cache[url]) {
    cache[url] = {};
  }
  element.setAttribute("misago-validate-active", "true");
  var timeout = null;
  input.addEventListener("keyup", function (event) {
    var value = event.target.value;
    if (strip) {
      value = value.trim();
    }
    if (value.trim().length === 0) {
      clearFormControlValidationState(element);
      return;
    }
    if (cache[url][value]) {
      setFormControlValidationState(element, input, cache[url][value]);
    } else {
      if (timeout) {
        window.clearTimeout(timeout);
      }
      timeout = window.setTimeout( /*#__PURE__*/(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee() {
        var _yield$callValidation, errors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return callValidationUrl(url, csrf, value, user);
              case 2:
                _yield$callValidation = _context.sent;
                errors = _yield$callValidation.errors;
                cache[url][value] = errors;
                setFormControlValidationState(element, input, errors);
              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      })), DEBOUNCE);
    }
  });
}
function setFormControlValidationState(element, input, errors) {
  if (errors.length) {
    setFormControlErrorValidationState(element, input, errors);
  } else {
    setFormControlSuccessValidationState(element);
  }
}
function setFormControlErrorValidationState(element, input, errors) {
  element.classList.remove("has-success");
  element.classList.add("has-error");
  clearFormControlValidationMessages(element);
  errors.forEach(function (error) {
    var message = document.createElement("p");
    message.className = "help-block";
    message.setAttribute("misago-dynamic-message", "true");
    message.innerText = error;
    input.after(message);
  });
}
function setFormControlSuccessValidationState(element) {
  element.classList.remove("has-error");
  element.classList.add("has-success");
  clearFormControlValidationMessages(element);
}
function clearFormControlValidationState(element) {
  element.classList.remove("has-error");
  element.classList.remove("has-success");
  clearFormControlValidationMessages(element);
}
function clearFormControlValidationMessages(element) {
  element.querySelectorAll("[misago-dynamic-message]").forEach(function (i) {
    return i.remove();
  });
}
function callValidationUrl(_x, _x2, _x3, _x4) {
  return _callValidationUrl.apply(this, arguments);
}
function _callValidationUrl() {
  _callValidationUrl = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee2(url, csrf, value, user) {
    var data, response;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            data = new FormData();
            data.set(csrf.name, csrf.value);
            data.set("value", value);
            if (user) {
              data.set("user", user);
            }
            _context2.next = 6;
            return fetch(url, {
              method: "POST",
              mode: "cors",
              credentials: "same-origin",
              body: data
            });
          case 6:
            response = _context2.sent;
            _context2.next = 9;
            return response.json();
          case 9:
            return _context2.abrupt("return", _context2.sent);
          case 10:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _callValidationUrl.apply(this, arguments);
}
function registerValidators(element) {
  var target = element || document;
  target.querySelectorAll("[misago-validate]").forEach(registerElementValidator);
}
htmx_org__WEBPACK_IMPORTED_MODULE_2___default().onLoad(registerValidators);

/***/ }),

/***/ "./src/formats.js":
/*!************************!*\
  !*** ./src/formats.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dateRelative": () => (/* binding */ dateRelative),
/* harmony export */   "dateRelativeShort": () => (/* binding */ dateRelativeShort),
/* harmony export */   "dayAt": () => (/* binding */ dayAt),
/* harmony export */   "daysShort": () => (/* binding */ daysShort),
/* harmony export */   "formatDayAtTime": () => (/* binding */ formatDayAtTime),
/* harmony export */   "fullDateTime": () => (/* binding */ fullDateTime),
/* harmony export */   "hoursShort": () => (/* binding */ hoursShort),
/* harmony export */   "isSameDay": () => (/* binding */ isSameDay),
/* harmony export */   "isTomorrow": () => (/* binding */ isTomorrow),
/* harmony export */   "isYesterday": () => (/* binding */ isYesterday),
/* harmony export */   "locale": () => (/* binding */ locale),
/* harmony export */   "minutesShort": () => (/* binding */ minutesShort),
/* harmony export */   "momentAgo": () => (/* binding */ momentAgo),
/* harmony export */   "momentAgoShort": () => (/* binding */ momentAgoShort),
/* harmony export */   "otherYearDate": () => (/* binding */ otherYearDate),
/* harmony export */   "otherYearShort": () => (/* binding */ otherYearShort),
/* harmony export */   "relativeNumeric": () => (/* binding */ relativeNumeric),
/* harmony export */   "short": () => (/* binding */ _short),
/* harmony export */   "shortTime": () => (/* binding */ shortTime),
/* harmony export */   "soonAt": () => (/* binding */ soonAt),
/* harmony export */   "thisYearDate": () => (/* binding */ thisYearDate),
/* harmony export */   "thisYearShort": () => (/* binding */ thisYearShort),
/* harmony export */   "tomorrowAt": () => (/* binding */ tomorrowAt),
/* harmony export */   "weekday": () => (/* binding */ weekday),
/* harmony export */   "yesterdayAt": () => (/* binding */ yesterdayAt)
/* harmony export */ });
var locale = window.misago_locale || "en-us";
var momentAgo = pgettext("time ago", "moment ago");
var momentAgoShort = pgettext("time ago", "now");
var dayAt = pgettext("day at time", "%(day)s at %(time)s");
var soonAt = pgettext("day at time", "Today at %(time)s");
var tomorrowAt = pgettext("day at time", "Tomorrow at %(time)s");
var yesterdayAt = pgettext("day at time", "Yesterday at %(time)s");
var minutesShort = pgettext("short minutes", "%(time)sm");
var hoursShort = pgettext("short hours", "%(time)sh");
var daysShort = pgettext("short days", "%(time)sd");
var relativeNumeric = new Intl.RelativeTimeFormat(locale, {
  numeric: "always",
  style: "long"
});
var fullDateTime = new Intl.DateTimeFormat(locale, {
  dateStyle: "full",
  timeStyle: "medium"
});
var thisYearDate = new Intl.DateTimeFormat(locale, {
  month: "long",
  day: "numeric"
});
var otherYearDate = new Intl.DateTimeFormat(locale, {
  year: "numeric",
  month: "long",
  day: "numeric"
});
var _short = new Intl.DateTimeFormat(locale, {
  year: "2-digit",
  month: "short",
  day: "numeric"
});

var weekday = new Intl.DateTimeFormat(locale, {
  weekday: "long"
});
var shortTime = new Intl.DateTimeFormat(locale, {
  timeStyle: "short"
});
var thisYearShort = new Intl.DateTimeFormat(locale, {
  month: "short",
  day: "numeric"
});
var otherYearShort = new Intl.DateTimeFormat(locale, {
  month: "short",
  year: "numeric"
});
function dateRelative(date) {
  var now = new Date();
  var diff = Math.round((date - now) / 1000);
  var absDiff = Math.abs(diff);
  var sign = diff < 1 ? -1 : 1;
  if (absDiff < 90) {
    return momentAgo;
  }
  if (absDiff < 60 * 47) {
    var minutes = Math.round(absDiff / 60) * sign;
    return relativeNumeric.format(minutes, "minute");
  }
  if (absDiff < 3600 * 3) {
    var hours = Math.round(absDiff / 3600) * sign;
    return relativeNumeric.format(hours, "hour");
  }
  if (isSameDay(now, date)) {
    if (diff > 0) {
      return soonAt.replace("%(time)s", shortTime.format(date));
    }
    return shortTime.format(date);
  }
  if (isYesterday(date)) {
    return yesterdayAt.replace("%(time)s", shortTime.format(date));
  }
  if (isTomorrow(date)) {
    return tomorrowAt.replace("%(time)s", shortTime.format(date));
  }
  if (diff < 0 && absDiff < 3600 * 24 * 6) {
    var day = weekday.format(date);
    return formatDayAtTime(day, date);
  }
  if (now.getFullYear() == date.getFullYear()) {
    return thisYearDate.format(date);
  }
  return otherYearDate.format(date);
}
function isSameDay(now, date) {
  return now.getFullYear() == date.getFullYear() && now.getMonth() == date.getMonth() && now.getDate() == date.getDate();
}
function isYesterday(date) {
  var yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  return isSameDay(yesterday, date);
}
function isTomorrow(date) {
  var yesterday = new Date();
  yesterday.setDate(yesterday.getDate() + 1);
  return isSameDay(yesterday, date);
}
function formatDayAtTime(day, date) {
  return dayAt.replace("%(day)s", day).replace("%(time)s", shortTime.format(date));
}
function dateRelativeShort(date) {
  var now = new Date();
  var absDiff = Math.abs(Math.round((date - now) / 1000));
  if (absDiff < 60) {
    return momentAgoShort;
  }
  if (absDiff < 60 * 55) {
    var minutes = Math.round(absDiff / 60);
    return minutesShort.replace("%(time)s", minutes);
  }
  if (absDiff < 3600 * 24) {
    var hours = Math.round(absDiff / 3600);
    return hoursShort.replace("%(time)s", hours);
  }
  if (absDiff < 86400 * 7) {
    var days = Math.round(absDiff / 86400);
    return daysShort.replace("%(time)s", days);
  }
  if (date.getFullYear() === now.getFullYear()) {
    return thisYearShort.format(date);
  }
  return otherYearShort.format(date);
}

/***/ }),

/***/ "./src/htmxErrors.js":
/*!***************************!*\
  !*** ./src/htmxErrors.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setupHtmxErrors": () => (/* binding */ setupHtmxErrors)
/* harmony export */ });
/* harmony import */ var _snackbars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./snackbars */ "./src/snackbars.js");

function handleResponseError(event) {
  if (isEventVisible(event)) {
    var message = getResponseErrorMessage(event.detail.xhr);
    (0,_snackbars__WEBPACK_IMPORTED_MODULE_0__.error)(message);
  }
}
function getResponseErrorMessage(xhr) {
  if (xhr.getResponseHeader("content-type") === "application/json") {
    var data = JSON.parse(xhr.response);
    if (data.error) {
      return data.error;
    }
  }
  if (xhr.status === 404) {
    return pgettext("htmx response error", "Page not found");
  }
  if (xhr.status === 403) {
    return pgettext("htmx response error", "Permission denied");
  }
  return pgettext("htmx response error", "Unexpected error");
}
function handleSendError(event) {
  if (isEventVisible(event)) {
    var message = pgettext("htmx response error", "Site could not be reached.");
    (0,_snackbars__WEBPACK_IMPORTED_MODULE_0__.error)(message);
  }
}
function handleTimeoutError(event) {
  if (isEventVisible(event)) {
    var message = pgettext("htmx response error", "Site took too long to reply");
    (0,_snackbars__WEBPACK_IMPORTED_MODULE_0__.error)(message);
  }
}
function isEventVisible(_ref) {
  var detail = _ref.detail;
  var silent = getEventTargetSilentAttr(detail.target);
  return !(silent === "true" && detail.requestConfig.verb === "get");
}
function getEventTargetSilentAttr(target) {
  var element = target.closest("[hx-silent]");
  if (element) {
    return element.getAttribute("hx-silent");
  }
  return null;
}
function setupHtmxErrors() {
  document.addEventListener("htmx:responseError", handleResponseError);
  document.addEventListener("htmx:sendError", handleSendError);
  document.addEventListener("htmx:timeout", handleTimeoutError);
}
setupHtmxErrors();

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Misago": () => (/* binding */ Misago),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bootstrap/js/transition */ "./node_modules/bootstrap/js/transition.js");
/* harmony import */ var bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bootstrap/js/affix */ "./node_modules/bootstrap/js/affix.js");
/* harmony import */ var bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bootstrap/js/modal */ "./node_modules/bootstrap/js/modal.js");
/* harmony import */ var bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bootstrap/js/dropdown */ "./node_modules/bootstrap/js/dropdown.js");
/* harmony import */ var bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var at_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! at-js */ "./node_modules/at.js/dist/js/jquery.atwho.js");
/* harmony import */ var at_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(at_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cropit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cropit */ "./node_modules/cropit/dist/jquery.cropit.js");
/* harmony import */ var cropit__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cropit__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var jquery_caret__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jquery-caret */ "./node_modules/jquery.caret/dist/jquery.caret.js");
/* harmony import */ var jquery_caret__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(jquery_caret__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var misago_utils_ordered_list__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/utils/ordered-list */ "./src/utils/ordered-list.js");
/* harmony import */ var misago_style_index_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/style/index.less */ "./src/style/index.less");
/* harmony import */ var _AjaxLoader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./AjaxLoader */ "./src/AjaxLoader.js");
/* harmony import */ var _BulkModeration__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BulkModeration */ "./src/BulkModeration.js");
/* harmony import */ var _formValidators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./formValidators */ "./src/formValidators.js");
/* harmony import */ var _htmxErrors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./htmxErrors */ "./src/htmxErrors.js");
/* harmony import */ var _liveTimestamps__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./liveTimestamps */ "./src/liveTimestamps.js");
/* harmony import */ var _pagination__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./pagination */ "./src/pagination.js");
/* harmony import */ var _snackbars__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./snackbars */ "./src/snackbars.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




















var loader = new _AjaxLoader__WEBPACK_IMPORTED_MODULE_13__["default"]();
var Misago = /*#__PURE__*/function () {
  function Misago() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Misago);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "hideMarkAsReadModal", function () {
      $("#mark-as-read").modal("hide");
    });
    this._initializers = [];
    this._context = {};
    this.loader = loader;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,
        item: initializer.initializer,
        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;
      this._context = context;
      var initOrder = new misago_utils_ordered_list__WEBPACK_IMPORTED_MODULE_11__["default"](this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors
  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }, {
    key: "snackbar",
    value: function snackbar(type, message) {
      _snackbars__WEBPACK_IMPORTED_MODULE_19__.snackbar(type, message);
    }
  }, {
    key: "snackbarInfo",
    value: function snackbarInfo(message) {
      _snackbars__WEBPACK_IMPORTED_MODULE_19__.info(message);
    }
  }, {
    key: "snackbarSuccess",
    value: function snackbarSuccess(message) {
      _snackbars__WEBPACK_IMPORTED_MODULE_19__.success(message);
    }
  }, {
    key: "snackbarWarning",
    value: function snackbarWarning(message) {
      _snackbars__WEBPACK_IMPORTED_MODULE_19__.warning(message);
    }
  }, {
    key: "snackbarError",
    value: function snackbarError(message) {
      _snackbars__WEBPACK_IMPORTED_MODULE_19__.error(message);
    }
  }, {
    key: "bulkModeration",
    value: function bulkModeration(options) {
      return new _BulkModeration__WEBPACK_IMPORTED_MODULE_14__["default"](options);
    }
  }]);
  return Misago;
}();

// create the singleton
var misago = new Misago();

// expose it globally
window.misago = misago;

// and export it for tests and stuff
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (misago);

// Register ajax loader events
document.addEventListener("htmx:beforeRequest", function (_ref) {
  var target = _ref.target;
  if ((0,_AjaxLoader__WEBPACK_IMPORTED_MODULE_13__.useLoader)(target)) {
    loader.show();
  }
});
document.addEventListener("htmx:afterRequest", function (_ref2) {
  var target = _ref2.target;
  if ((0,_AjaxLoader__WEBPACK_IMPORTED_MODULE_13__.useLoader)(target)) {
    loader.hide();
  }
});

// Hide moderation modal
document.addEventListener("misago:afterModeration", function () {
  $("#threads-moderation-modal").modal("hide");
});

/***/ }),

/***/ "./src/initializers/ajax.js":
/*!**********************************!*\
  !*** ./src/initializers/ajax.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");


function initializer() {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("CSRF_COOKIE_NAME"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "ajax",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/auth-sync.js":
/*!***************************************!*\
  !*** ./src/initializers/auth-sync.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_2__["default"].get(context.get("AUTH_API")).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_4__["default"].dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__.patch)(data));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

/***/ }),

/***/ "./src/initializers/auth.js":
/*!**********************************!*\
  !*** ./src/initializers/auth.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_local_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/local-storage */ "./src/services/local-storage.js");





function initializer() {
  misago_services_auth__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_services_store__WEBPACK_IMPORTED_MODULE_3__["default"], misago_services_local_storage__WEBPACK_IMPORTED_MODULE_4__["default"], misago_services_modal__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/captcha.js":
/*!*************************************!*\
  !*** ./src/initializers/captcha.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_captcha__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/captcha */ "./src/services/captcha.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function initializer(context) {
  misago_services_captcha__WEBPACK_IMPORTED_MODULE_2__["default"].init(context, misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_include__WEBPACK_IMPORTED_MODULE_3__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "captcha",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/components/accept-agreement.js":
/*!*********************************************************!*\
  !*** ./src/initializers/components/accept-agreement.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_accept_agreement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/accept-agreement */ "./src/components/accept-agreement.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_accept_agreement__WEBPACK_IMPORTED_MODULE_2__["default"], {
      api: context.get("REQUIRED_AGREEMENT_API")
    }), "required-agreement-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/auth-message.js":
/*!*****************************************************!*\
  !*** ./src/initializers/components/auth-message.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/auth-message */ "./src/components/auth-message.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__["default"]), "auth-message-mount");
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/banned-page.js":
/*!****************************************************!*\
  !*** ./src/initializers/components/banned-page.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");


function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_1__["default"])(context.get("BAN_MESSAGE"), false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/navbar.js":
/*!***********************************************!*\
  !*** ./src/initializers/components/navbar.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_Navbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Navbar */ "./src/components/Navbar/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  var root = document.getElementById("misago-navbar");
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_3__["default"], null)), root);
}
misago.addInitializer({
  name: "component:navbar",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/notifications-overlay.js":
/*!**************************************************************!*\
  !*** ./src/initializers/components/notifications-overlay.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_NotificationsOverlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/NotificationsOverlay */ "./src/components/NotificationsOverlay/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  if (context.get("isAuthenticated")) {
    var root = document.getElementById("notifications-mount");
    react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
      store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_NotificationsOverlay__WEBPACK_IMPORTED_MODULE_3__["default"], null)), root);
  }
}
misago.addInitializer({
  name: "component:notifications-overlay",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/notifications.js":
/*!******************************************************!*\
  !*** ./src/initializers/components/notifications.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_Notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Notifications */ "./src/components/Notifications/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  var basename = misago.get("NOTIFICATIONS_URL");
  if (document.location.pathname.startsWith(basename) && !document.location.pathname.startsWith(basename + "disable-email/") && context.get("isAuthenticated")) {
    var root = document.getElementById("page-mount");
    react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
      store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Notifications__WEBPACK_IMPORTED_MODULE_3__["default"], null)), root);
  }
}
misago.addInitializer({
  name: "component:notifications",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/profile.js":
/*!************************************************!*\
  !*** ./src/initializers/components/profile.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/profile/root */ "./src/components/profile/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");




function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_3__["default"])({
      root: misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("PROFILE").url,
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__.select)(misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__["default"]),
      paths: (0,misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

/***/ }),

/***/ "./src/initializers/components/request-activation-link.js":
/*!****************************************************************!*\
  !*** ./src/initializers/components/request-activation-link.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_request_activation_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/request-activation-link */ "./src/components/request-activation-link.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_request_activation_link__WEBPACK_IMPORTED_MODULE_1__["default"], "request-activation-link-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/request-password-reset.js":
/*!***************************************************************!*\
  !*** ./src/initializers/components/request-password-reset.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_request_password_reset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/request-password-reset */ "./src/components/request-password-reset.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_request_password_reset__WEBPACK_IMPORTED_MODULE_1__["default"], "request-password-reset-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/reset-password-form.js":
/*!************************************************************!*\
  !*** ./src/initializers/components/reset-password-form.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_reset_password_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/reset-password-form */ "./src/components/reset-password-form.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_reset_password_form__WEBPACK_IMPORTED_MODULE_1__["default"], "reset-password-form-mount", false);
  }
}
misago__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/search-overlay.js":
/*!*******************************************************!*\
  !*** ./src/initializers/components/search-overlay.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/search */ "./src/components/search/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  var root = document.getElementById("search-mount");
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_search__WEBPACK_IMPORTED_MODULE_3__.SearchOverlay, null)), root);
}
misago.addInitializer({
  name: "component:search-overlay",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/search.js":
/*!***********************************************!*\
  !*** ./src/initializers/components/search.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_components_search_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/search-route */ "./src/components/search-route/index.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      paths: (0,misago_components_search_route__WEBPACK_IMPORTED_MODULE_0__["default"])(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SEARCH_PROVIDERS"))
    });
  }
}
misago__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/site-nav-overlay.js":
/*!*********************************************************!*\
  !*** ./src/initializers/components/site-nav-overlay.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_SiteNav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/SiteNav */ "./src/components/SiteNav/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  var root = document.getElementById("site-nav-mount");
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_SiteNav__WEBPACK_IMPORTED_MODULE_3__.SiteNavOverlay, null)), root);
}
misago.addInitializer({
  name: "component:site-nav-overlay",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/snackbar.js":
/*!*************************************************!*\
  !*** ./src/initializers/components/snackbar.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/snackbar */ "./src/components/snackbar.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__.Snackbar), "snackbar-mount");
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

/***/ }),

/***/ "./src/initializers/components/social-auth.js":
/*!****************************************************!*\
  !*** ./src/initializers/components/social-auth.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_social_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/social-auth */ "./src/components/social-auth/index.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_social_auth__WEBPACK_IMPORTED_MODULE_1__["default"], props), "page-mount");
  }
}
misago__WEBPACK_IMPORTED_MODULE_2__["default"].addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/thread.js":
/*!***********************************************!*\
  !*** ./src/initializers/components/thread.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_components_thread_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/thread/root */ "./src/components/thread/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      paths: (0,misago_components_thread_root__WEBPACK_IMPORTED_MODULE_0__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/user-nav-overlay.js":
/*!*********************************************************!*\
  !*** ./src/initializers/components/user-nav-overlay.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _components_UserNav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/UserNav */ "./src/components/UserNav/index.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");





function initializer(context) {
  var root = document.getElementById("user-nav-mount");
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: _services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_UserNav__WEBPACK_IMPORTED_MODULE_3__.UserNavOverlay, null)), root);
}
misago.addInitializer({
  name: "component:user-nav-overlay",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/users.js":
/*!**********************************************!*\
  !*** ./src/initializers/components/users.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/users/root */ "./src/components/users/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      root: misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].get("USERS_LIST_URL"),
      component: misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__["default"],
      paths: (0,misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/include.js":
/*!*************************************!*\
  !*** ./src/initializers/include.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");


function initializer(context) {
  misago_services_include__WEBPACK_IMPORTED_MODULE_1__["default"].init(context.get("STATIC_URL"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "include",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/local-storage.js":
/*!*******************************************!*\
  !*** ./src/initializers/local-storage.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_local_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/local-storage */ "./src/services/local-storage.js");


function initializer() {
  misago_services_local_storage__WEBPACK_IMPORTED_MODULE_1__["default"].init("misago_");
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "local-storage",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/mobile-navbar-dropdown.js":
/*!****************************************************!*\
  !*** ./src/initializers/mobile-navbar-dropdown.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/mobile-navbar-dropdown */ "./src/services/mobile-navbar-dropdown.js");


function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");
  if (element) {
    misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_1__["default"].init(element);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/modal.js":
/*!***********************************!*\
  !*** ./src/initializers/modal.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");


function initializer() {
  var element = document.getElementById("modal-mount");
  if (element) {
    misago_services_modal__WEBPACK_IMPORTED_MODULE_1__["default"].init(element);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/moment-locale.js":
/*!*******************************************!*\
  !*** ./src/initializers/moment-locale.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


function initializer() {
  moment__WEBPACK_IMPORTED_MODULE_0___default().locale($("html").attr("lang"));
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "moment",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/page-title.js":
/*!****************************************!*\
  !*** ./src/initializers/page-title.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");


function initializer(context) {
  misago_services_page_title__WEBPACK_IMPORTED_MODULE_1__["default"].init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "page-title",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/polls.js":
/*!***********************************!*\
  !*** ./src/initializers/polls.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");




function initializer() {
  misago_services_polls__WEBPACK_IMPORTED_MODULE_3__["default"].init(misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "polls",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/posting.js":
/*!*************************************!*\
  !*** ./src/initializers/posting.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");




function initializer() {
  misago_services_posting__WEBPACK_IMPORTED_MODULE_2__["default"].init(misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"], document.getElementById("posting-mount"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "posting",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/reducers/auth.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/auth.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer(context) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("auth", misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),
    user: context.get("user")
  }, misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__.initialState));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/overlay.js":
/*!**********************************************!*\
  !*** ./src/initializers/reducers/overlay.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var _reducers_overlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../reducers/overlay */ "./src/reducers/overlay.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");



function initializer(context) {
  _services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("overlay", _reducers_overlay__WEBPACK_IMPORTED_MODULE_1__["default"], _reducers_overlay__WEBPACK_IMPORTED_MODULE_1__.initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:overlay",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/participants.js":
/*!***************************************************!*\
  !*** ./src/initializers/reducers/participants.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD")) {
    initialState = misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").participants;
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("participants", misago_reducers_participants__WEBPACK_IMPORTED_MODULE_1__["default"], initialState || []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/poll.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/poll.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD") && misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").poll) {
    initialState = (0,misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").poll);
  } else {
    initialState = {};
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("poll", misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/posts.js":
/*!********************************************!*\
  !*** ./src/initializers/reducers/posts.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("POSTS")) {
    initialState = (0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("posts", misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile-details.js":
/*!******************************************************!*\
  !*** ./src/initializers/reducers/profile-details.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("PROFILE_DETAILS")) {
    initialState = misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("PROFILE_DETAILS");
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("profile-details", misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_1__["default"], initialState || {});
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile-hydrate.js":
/*!******************************************************!*\
  !*** ./src/initializers/reducers/profile-hydrate.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("PROFILE")) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("PROFILE")));
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile.js":
/*!**********************************************!*\
  !*** ./src/initializers/reducers/profile.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("profile", misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__["default"], {});
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/search.js":
/*!*********************************************!*\
  !*** ./src/initializers/reducers/search.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("search", misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({}, misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__.initialState, {
    providers: misago__WEBPACK_IMPORTED_MODULE_0__["default"].get("SEARCH_PROVIDERS") || [],
    query: misago__WEBPACK_IMPORTED_MODULE_0__["default"].get("SEARCH_QUERY") || ""
  }));
}
misago__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/selection.js":
/*!************************************************!*\
  !*** ./src/initializers/reducers/selection.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("selection", misago_reducers_selection__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/snackbar.js":
/*!***********************************************!*\
  !*** ./src/initializers/reducers/snackbar.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/snackbar */ "./src/reducers/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("snackbar", misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__["default"], misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__.initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/thread.js":
/*!*********************************************!*\
  !*** ./src/initializers/reducers/thread.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD")) {
    initialState = (0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("thread", misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/threads.js":
/*!**********************************************!*\
  !*** ./src/initializers/reducers/threads.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_threads__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("threads", misago_reducers_threads__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/tick.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/tick.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/tick */ "./src/reducers/tick.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("tick", misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__["default"], misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__.initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/username-history.js":
/*!*******************************************************!*\
  !*** ./src/initializers/reducers/username-history.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("username-history", misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/users.js":
/*!********************************************!*\
  !*** ./src/initializers/reducers/users.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("users", misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/snackbar.js":
/*!**************************************!*\
  !*** ./src/initializers/snackbar.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_snackbar__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/store.js":
/*!***********************************!*\
  !*** ./src/initializers/store.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");


function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_1__["default"].init();
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

/***/ }),

/***/ "./src/initializers/tick-start.js":
/*!****************************************!*\
  !*** ./src/initializers/tick-start.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/tick */ "./src/reducers/tick.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].dispatch((0,misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__.doTick)());
  }, TICK_PERIOD);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/zxcvbn.js":
/*!************************************!*\
  !*** ./src/initializers/zxcvbn.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ initializer)
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");
/* harmony import */ var misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/zxcvbn */ "./src/services/zxcvbn.js");



function initializer() {
  misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_2__["default"].init(misago_services_include__WEBPACK_IMPORTED_MODULE_1__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

/***/ }),

/***/ "./src/liveTimestamps.js":
/*!*******************************!*\
  !*** ./src/liveTimestamps.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "startLiveTimestamps": () => (/* binding */ startLiveTimestamps),
/* harmony export */   "updateLiveTimestamps": () => (/* binding */ updateLiveTimestamps),
/* harmony export */   "updateTimestamp": () => (/* binding */ updateTimestamp)
/* harmony export */ });
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _formats__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formats */ "./src/formats.js");


var cache = {};
function updateTimestamp(element) {
  var timestamp = element.getAttribute("misago-timestamp");
  if (!cache[timestamp]) {
    cache[timestamp] = new Date(timestamp);
  }
  if (!element.hasAttribute("misago-timestamp-title")) {
    element.setAttribute("misago-timestamp-title", "true");
    element.setAttribute("title", _formats__WEBPACK_IMPORTED_MODULE_1__.fullDateTime.format(cache[timestamp]));
  }
  var format = element.getAttribute("misago-timestamp-format");
  if (format == "short") {
    element.textContent = (0,_formats__WEBPACK_IMPORTED_MODULE_1__.dateRelativeShort)(cache[timestamp]);
  } else {
    element.textContent = (0,_formats__WEBPACK_IMPORTED_MODULE_1__.dateRelative)(cache[timestamp]);
  }
}
function startLiveTimestamps() {
  document.querySelectorAll("[misago-timestamp]").forEach(updateTimestamp);
  updateLiveTimestamps();
  window.setInterval(updateLiveTimestamps, 1000 * 55);
}
function updateLiveTimestamps(element) {
  var target = element || document;
  target.querySelectorAll("[misago-timestamp]").forEach(updateTimestamp);
}
startLiveTimestamps();
htmx_org__WEBPACK_IMPORTED_MODULE_0___default().onLoad(updateLiveTimestamps);

/***/ }),

/***/ "./src/pagination.js":
/*!***************************!*\
  !*** ./src/pagination.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "activatePageSelectForm": () => (/* binding */ activatePageSelectForm),
/* harmony export */   "activatePageSelectForms": () => (/* binding */ activatePageSelectForms)
/* harmony export */ });
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_0__);
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");

function activatePageSelectForms() {
  document.querySelectorAll("[misago-page-form]").forEach(function (element) {
    if (element.getAttribute("misago-page-form") === "") {
      activatePageSelectForm(element);
    }
  });
}
function activatePageSelectForm(form) {
  form.setAttribute("misago-page-form", "true");
  form.addEventListener("submit", function (event) {
    var page = form.getAttribute("misago-page");
    var input = event.target.querySelector("input");
    var value = input.value;
    if (value >= input.min && value <= input.max && value != page) {
      var url = form.getAttribute("misago-page-url");
      if (value > 1) {
        url += value + "/";
      }
      window.history.pushState({}, "", url);
      document.getElementById("misago-page-scroll-target").scrollIntoView();
      htmx_org__WEBPACK_IMPORTED_MODULE_0___default().ajax("GET", url, {
        target: "#misago-htmx-root",
        swap: "outerHTML"
      });
    }
    var toggle = form.closest(".dropdown").querySelector("[data-toggle]");
    if (toggle) {
      $().dropdown('toggle');
    }
    event.preventDefault();
    return false;
  });
}
htmx_org__WEBPACK_IMPORTED_MODULE_0___default().onLoad(activatePageSelectForms);

/***/ }),

/***/ "./src/reducers/auth.js":
/*!******************************!*\
  !*** ./src/reducers/auth.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PATCH_USER": () => (/* binding */ PATCH_USER),
/* harmony export */   "SIGN_IN": () => (/* binding */ SIGN_IN),
/* harmony export */   "SIGN_OUT": () => (/* binding */ SIGN_OUT),
/* harmony export */   "UPDATE_AUTHENTICATED_USER": () => (/* binding */ UPDATE_AUTHENTICATED_USER),
/* harmony export */   "default": () => (/* binding */ auth),
/* harmony export */   "initialState": () => (/* binding */ initialState),
/* harmony export */   "patch": () => (/* binding */ patch),
/* harmony export */   "signIn": () => (/* binding */ signIn),
/* harmony export */   "signOut": () => (/* binding */ signOut),
/* harmony export */   "updateAuthenticatedUser": () => (/* binding */ updateAuthenticatedUser)
/* harmony export */ });
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");

var initialState = {
  signedIn: false,
  signedOut: false
};
var UPDATE_AUTHENTICATED_USER = "UPDATE_AUTHENTICATED_USER";
var PATCH_USER = "PATCH_USER";
var SIGN_IN = "SIGN_IN";
var SIGN_OUT = "SIGN_OUT";
function updateAuthenticatedUser(data) {
  return {
    type: UPDATE_AUTHENTICATED_USER,
    data: data
  };
}
function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}
function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}
function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return {
    type: SIGN_OUT,
    soft: soft
  };
}
function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;
    case UPDATE_AUTHENTICATED_USER:
      var updatedState = Object.assign({}, state);
      updatedState.user = Object.assign({}, state.user, action.data);
      return updatedState;
    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });
    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }
      return state;
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/overlay.js":
/*!*********************************!*\
  !*** ./src/reducers/overlay.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CLOSE": () => (/* binding */ CLOSE),
/* harmony export */   "OPEN_NOTIFICATIONS": () => (/* binding */ OPEN_NOTIFICATIONS),
/* harmony export */   "OPEN_PRIVATE_THREADS": () => (/* binding */ OPEN_PRIVATE_THREADS),
/* harmony export */   "OPEN_SEARCH": () => (/* binding */ OPEN_SEARCH),
/* harmony export */   "OPEN_SITE_NAV": () => (/* binding */ OPEN_SITE_NAV),
/* harmony export */   "OPEN_USER_NAV": () => (/* binding */ OPEN_USER_NAV),
/* harmony export */   "close": () => (/* binding */ close),
/* harmony export */   "default": () => (/* binding */ notifications),
/* harmony export */   "initialState": () => (/* binding */ initialState),
/* harmony export */   "openNotifications": () => (/* binding */ openNotifications),
/* harmony export */   "openPrivateThreads": () => (/* binding */ openPrivateThreads),
/* harmony export */   "openSearch": () => (/* binding */ openSearch),
/* harmony export */   "openSiteNav": () => (/* binding */ openSiteNav),
/* harmony export */   "openUserNav": () => (/* binding */ openUserNav)
/* harmony export */ });
var OPEN_SITE_NAV = "OPEN_SITE_NAV";
var OPEN_SEARCH = "OPEN_SEARCH";
var OPEN_NOTIFICATIONS = "OPEN_NOTIFICATIONS";
var OPEN_PRIVATE_THREADS = "OPEN_PRIVATE_THREADS";
var OPEN_USER_NAV = "OPEN_USER_NAV";
var CLOSE = "CLOSE_OVERLAYS";
function openSiteNav() {
  return {
    type: OPEN_SITE_NAV
  };
}
function openSearch() {
  return {
    type: OPEN_SEARCH
  };
}
function openNotifications() {
  return {
    type: OPEN_NOTIFICATIONS
  };
}
function openPrivateThreads() {
  return {
    type: OPEN_PRIVATE_THREADS
  };
}
function openUserNav() {
  return {
    type: OPEN_USER_NAV
  };
}
function close() {
  return {
    type: CLOSE
  };
}
var initialState = {
  siteNav: false,
  search: false,
  notifications: false,
  privateThreads: false,
  userNav: false
};
function notifications() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case OPEN_SITE_NAV:
      return Object.assign({}, state, initialState, {
        siteNav: true
      });
    case OPEN_SEARCH:
      return Object.assign({}, state, initialState, {
        search: true
      });
    case OPEN_NOTIFICATIONS:
      return Object.assign({}, state, initialState, {
        notifications: true
      });
    case OPEN_PRIVATE_THREADS:
      return Object.assign({}, state, initialState, {
        privateThreads: true
      });
    case OPEN_USER_NAV:
      return Object.assign({}, state, initialState, {
        userNav: true
      });
    case CLOSE:
      return Object.assign({}, state, initialState);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/participants.js":
/*!**************************************!*\
  !*** ./src/reducers/participants.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REPLACE_PARTICIPANTS": () => (/* binding */ REPLACE_PARTICIPANTS),
/* harmony export */   "default": () => (/* binding */ participants),
/* harmony export */   "replace": () => (/* binding */ replace)
/* harmony export */ });
var REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";
function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}
function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/poll.js":
/*!******************************!*\
  !*** ./src/reducers/poll.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BUSY_POLL": () => (/* binding */ BUSY_POLL),
/* harmony export */   "RELEASE_POLL": () => (/* binding */ RELEASE_POLL),
/* harmony export */   "REMOVE_POLL": () => (/* binding */ REMOVE_POLL),
/* harmony export */   "REPLACE_POLL": () => (/* binding */ REPLACE_POLL),
/* harmony export */   "UPDATE_POLL": () => (/* binding */ UPDATE_POLL),
/* harmony export */   "busy": () => (/* binding */ busy),
/* harmony export */   "default": () => (/* binding */ poll),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "release": () => (/* binding */ release),
/* harmony export */   "remove": () => (/* binding */ remove),
/* harmony export */   "replace": () => (/* binding */ replace),
/* harmony export */   "update": () => (/* binding */ update)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var BUSY_POLL = "BUSY_POLL";
var RELEASE_POLL = "RELEASE_POLL";
var REMOVE_POLL = "REMOVE_POLL";
var REPLACE_POLL = "REPLACE_POLL";
var UPDATE_POLL = "UPDATE_POLL";
function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }
  return Object.assign({}, json, {
    posted_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on),
    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on).add(json.length, "days") : null,
    isBusy: false
  });
}
function busy() {
  return {
    type: BUSY_POLL
  };
}
function release() {
  return {
    type: RELEASE_POLL
  };
}
function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}
function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}
function remove() {
  return {
    type: REMOVE_POLL
  };
}
function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, {
        isBusy: true
      });
    case RELEASE_POLL:
      return Object.assign({}, state, {
        isBusy: false
      });
    case REMOVE_POLL:
      return {
        isBusy: false
      };
    case REPLACE_POLL:
      return action.state;
    case UPDATE_POLL:
      return Object.assign({}, state, action.data);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/post.js":
/*!******************************!*\
  !*** ./src/reducers/post.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PATCH_POST": () => (/* binding */ PATCH_POST),
/* harmony export */   "default": () => (/* binding */ post),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "hydrateAttachment": () => (/* binding */ hydrateAttachment),
/* harmony export */   "patch": () => (/* binding */ patch)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./users */ "./src/reducers/users.js");


var PATCH_POST = "PATCH_POST";
function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on),
    updated_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.updated_on),
    hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.hidden_on),
    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0,_users__WEBPACK_IMPORTED_MODULE_1__.hydrateUser)(json.poster) : null,
    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}
function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.uploaded_on)
  });
}
function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}
function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/posts.js":
/*!*******************************!*\
  !*** ./src/reducers/posts.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_POSTS": () => (/* binding */ APPEND_POSTS),
/* harmony export */   "DESELECT_POST": () => (/* binding */ DESELECT_POST),
/* harmony export */   "DESELECT_POSTS": () => (/* binding */ DESELECT_POSTS),
/* harmony export */   "LOAD_POSTS": () => (/* binding */ LOAD_POSTS),
/* harmony export */   "SELECT_POST": () => (/* binding */ SELECT_POST),
/* harmony export */   "UNLOAD_POSTS": () => (/* binding */ UNLOAD_POSTS),
/* harmony export */   "UPDATE_POSTS": () => (/* binding */ UPDATE_POSTS),
/* harmony export */   "append": () => (/* binding */ append),
/* harmony export */   "default": () => (/* binding */ posts),
/* harmony export */   "deselect": () => (/* binding */ deselect),
/* harmony export */   "deselectAll": () => (/* binding */ deselectAll),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "load": () => (/* binding */ load),
/* harmony export */   "select": () => (/* binding */ select),
/* harmony export */   "unload": () => (/* binding */ unload),
/* harmony export */   "update": () => (/* binding */ update)
/* harmony export */ });
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");

var APPEND_POSTS = "APPEND_POSTS";
var SELECT_POST = "SELECT_POST";
var DESELECT_POST = "DESELECT_POST";
var DESELECT_POSTS = "DESELECT_POSTS";
var LOAD_POSTS = "LOAD_POSTS";
var UNLOAD_POSTS = "UNLOAD_POSTS";
var UPDATE_POSTS = "UPDATE_POSTS";
function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}
function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}
function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}
function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}
function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}
function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}
function unload() {
  return {
    type: UNLOAD_POSTS
  };
}
function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}
function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: selectedPosts
      });
    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: deseletedPosts
      });
    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });
      return Object.assign({}, state, {
        results: deseletedAllPosts
      });
    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });
      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });
      return Object.assign({}, action.state, {
        results: results
      });
    case LOAD_POSTS:
      return action.state;
    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });
    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);
    case misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0,misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__["default"])(post, action);
      });
      return Object.assign({}, state, {
        results: reducedPosts
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/profile-details.js":
/*!*****************************************!*\
  !*** ./src/reducers/profile-details.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LOAD_DETAILS": () => (/* binding */ LOAD_DETAILS),
/* harmony export */   "default": () => (/* binding */ details),
/* harmony export */   "load": () => (/* binding */ load)
/* harmony export */ });
var LOAD_DETAILS = "LOAD_DETAILS";
function load(newState) {
  return {
    type: LOAD_DETAILS,
    newState: newState
  };
}
function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/profile.js":
/*!*********************************!*\
  !*** ./src/reducers/profile.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HYDRATE_PROFILE": () => (/* binding */ HYDRATE_PROFILE),
/* harmony export */   "PATCH_PROFILE": () => (/* binding */ PATCH_PROFILE),
/* harmony export */   "default": () => (/* binding */ auth),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "patch": () => (/* binding */ patch)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");


var HYDRATE_PROFILE = "HYDRATE_PROFILE";
var PATCH_PROFILE = "PATCH_PROFILE";
function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}
function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}
function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(action.profile.joined_on),
        status: (0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.hydrateStatus)(action.profile.status)
      });
    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/search.js":
/*!********************************!*\
  !*** ./src/reducers/search.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REPLACE_SEARCH": () => (/* binding */ REPLACE_SEARCH),
/* harmony export */   "UPDATE_SEARCH": () => (/* binding */ UPDATE_SEARCH),
/* harmony export */   "UPDATE_SEARCH_PROVIDER": () => (/* binding */ UPDATE_SEARCH_PROVIDER),
/* harmony export */   "default": () => (/* binding */ participants),
/* harmony export */   "initialState": () => (/* binding */ initialState),
/* harmony export */   "replace": () => (/* binding */ replace),
/* harmony export */   "update": () => (/* binding */ update),
/* harmony export */   "updateProvider": () => (/* binding */ updateProvider)
/* harmony export */ });
var REPLACE_SEARCH = "REPLACE_SEARCH";
var UPDATE_SEARCH = "UPDATE_SEARCH";
var UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";
var initialState = {
  isLoading: false,
  query: "",
  providers: []
};
function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}
function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}
function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}
function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;
    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);
    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/selection.js":
/*!***********************************!*\
  !*** ./src/reducers/selection.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECT_ALL": () => (/* binding */ SELECT_ALL),
/* harmony export */   "SELECT_ITEM": () => (/* binding */ SELECT_ITEM),
/* harmony export */   "SELECT_NONE": () => (/* binding */ SELECT_NONE),
/* harmony export */   "all": () => (/* binding */ all),
/* harmony export */   "default": () => (/* binding */ selection),
/* harmony export */   "item": () => (/* binding */ item),
/* harmony export */   "none": () => (/* binding */ none)
/* harmony export */ });
/* harmony import */ var misago_utils_sets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/utils/sets */ "./src/utils/sets.js");

var SELECT_ALL = "SELECT_ALL";
var SELECT_NONE = "SELECT_NONE";
var SELECT_ITEM = "SELECT_ITEM";
function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}
function none() {
  return {
    type: SELECT_NONE
  };
}
function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}
function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case SELECT_ALL:
      return action.items;
    case SELECT_NONE:
      return [];
    case SELECT_ITEM:
      return (0,misago_utils_sets__WEBPACK_IMPORTED_MODULE_0__.toggle)(state, action.item);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/snackbar.js":
/*!**********************************!*\
  !*** ./src/reducers/snackbar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HIDE_SNACKBAR": () => (/* binding */ HIDE_SNACKBAR),
/* harmony export */   "SHOW_SNACKBAR": () => (/* binding */ SHOW_SNACKBAR),
/* harmony export */   "default": () => (/* binding */ snackbar),
/* harmony export */   "hideSnackbar": () => (/* binding */ hideSnackbar),
/* harmony export */   "initialState": () => (/* binding */ initialState),
/* harmony export */   "showSnackbar": () => (/* binding */ showSnackbar)
/* harmony export */ });
var initialState = {
  type: "info",
  message: "",
  isVisible: false
};
var SHOW_SNACKBAR = "SHOW_SNACKBAR";
var HIDE_SNACKBAR = "HIDE_SNACKBAR";
function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}
function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}
function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

/***/ }),

/***/ "./src/reducers/thread.js":
/*!********************************!*\
  !*** ./src/reducers/thread.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BUSY_THREAD": () => (/* binding */ BUSY_THREAD),
/* harmony export */   "RELEASE_THREAD": () => (/* binding */ RELEASE_THREAD),
/* harmony export */   "REPLACE_THREAD": () => (/* binding */ REPLACE_THREAD),
/* harmony export */   "UPDATE_THREAD": () => (/* binding */ UPDATE_THREAD),
/* harmony export */   "UPDATE_THREAD_ACL": () => (/* binding */ UPDATE_THREAD_ACL),
/* harmony export */   "busy": () => (/* binding */ busy),
/* harmony export */   "default": () => (/* binding */ thread),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "release": () => (/* binding */ release),
/* harmony export */   "replace": () => (/* binding */ replace),
/* harmony export */   "update": () => (/* binding */ update),
/* harmony export */   "updateAcl": () => (/* binding */ updateAcl)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _poll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./poll */ "./src/reducers/poll.js");


var BUSY_THREAD = "BUSY_THREAD";
var RELEASE_THREAD = "RELEASE_THREAD";
var REPLACE_THREAD = "REPLACE_THREAD";
var UPDATE_THREAD = "UPDATE_THREAD";
var UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";
function hydrate(json) {
  return Object.assign({}, json, {
    started_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.started_on),
    last_post_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? moment__WEBPACK_IMPORTED_MODULE_0___default()(json.best_answer_marked_on) : null,
    isBusy: false
  });
}
function busy() {
  return {
    type: BUSY_THREAD
  };
}
function release() {
  return {
    type: RELEASE_THREAD
  };
}
function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}
function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}
function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}
function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, {
        isBusy: true
      });
    case RELEASE_THREAD:
      return Object.assign({}, state, {
        isBusy: false
      });
    case _poll__WEBPACK_IMPORTED_MODULE_1__.REMOVE_POLL:
      return Object.assign({}, state, {
        poll: null
      });
    case _poll__WEBPACK_IMPORTED_MODULE_1__.REPLACE_POLL:
      return Object.assign({}, state, {
        poll: action.state
      });
    case REPLACE_THREAD:
      return action.state;
    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);
    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, {
        acl: acl
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/threads.js":
/*!*********************************!*\
  !*** ./src/reducers/threads.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_THREADS": () => (/* binding */ APPEND_THREADS),
/* harmony export */   "DELETE_THREAD": () => (/* binding */ DELETE_THREAD),
/* harmony export */   "FILTER_THREADS": () => (/* binding */ FILTER_THREADS),
/* harmony export */   "HYDRATE_THREADS": () => (/* binding */ HYDRATE_THREADS),
/* harmony export */   "MODERATION_PERMISSIONS": () => (/* binding */ MODERATION_PERMISSIONS),
/* harmony export */   "PATCH_THREAD": () => (/* binding */ PATCH_THREAD),
/* harmony export */   "SORT_THREADS": () => (/* binding */ SORT_THREADS),
/* harmony export */   "append": () => (/* binding */ append),
/* harmony export */   "default": () => (/* binding */ thread),
/* harmony export */   "deleteThread": () => (/* binding */ deleteThread),
/* harmony export */   "filterThreads": () => (/* binding */ filterThreads),
/* harmony export */   "getThreadModerationOptions": () => (/* binding */ getThreadModerationOptions),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "hydrateThread": () => (/* binding */ hydrateThread),
/* harmony export */   "patch": () => (/* binding */ patch),
/* harmony export */   "sort": () => (/* binding */ sort)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");


var APPEND_THREADS = "APPEND_THREADS";
var DELETE_THREAD = "DELETE_THREAD";
var FILTER_THREADS = "FILTER_THREADS";
var HYDRATE_THREADS = "HYDRATE_THREADS";
var PATCH_THREAD = "PATCH_THREAD";
var SORT_THREADS = "SORT_THREADS";
var MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];
function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}
function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}
function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}
function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}
function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}
function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}
function hydrateThread(thread) {
  return Object.assign({}, thread, {
    moderation: getThreadModerationOptions(thread.acl)
  });
}
function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__["default"])(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);
    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });
    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });
    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);
    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });
      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;
    case SORT_THREADS:
      return state.sort(action.sorting);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/tick.js":
/*!******************************!*\
  !*** ./src/reducers/tick.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TICK": () => (/* binding */ TICK),
/* harmony export */   "default": () => (/* binding */ tick),
/* harmony export */   "doTick": () => (/* binding */ doTick),
/* harmony export */   "initialState": () => (/* binding */ initialState)
/* harmony export */ });
var initialState = {
  tick: 0
};
var TICK = "TICK";
function doTick() {
  return {
    type: TICK
  };
}
function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

/***/ }),

/***/ "./src/reducers/username-history.js":
/*!******************************************!*\
  !*** ./src/reducers/username-history.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ADD_NAME_CHANGE": () => (/* binding */ ADD_NAME_CHANGE),
/* harmony export */   "APPEND_HISTORY": () => (/* binding */ APPEND_HISTORY),
/* harmony export */   "HYDRATE_HISTORY": () => (/* binding */ HYDRATE_HISTORY),
/* harmony export */   "addNameChange": () => (/* binding */ addNameChange),
/* harmony export */   "append": () => (/* binding */ append),
/* harmony export */   "default": () => (/* binding */ username),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "hydrateNamechange": () => (/* binding */ hydrateNamechange)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");



var ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
var APPEND_HISTORY = "APPEND_HISTORY";
var HYDRATE_HISTORY = "HYDRATE_HISTORY";
function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}
function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}
function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(namechange.changed_on)
  });
}
function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000),
        // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;
    case APPEND_HISTORY:
      return (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_2__["default"])(state, action.items.map(hydrateNamechange));
    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }
        return item;
      });
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }
        return Object.assign({}, item);
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/users.js":
/*!*******************************!*\
  !*** ./src/reducers/users.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_USERS": () => (/* binding */ APPEND_USERS),
/* harmony export */   "HYDRATE_USERS": () => (/* binding */ HYDRATE_USERS),
/* harmony export */   "UPDATE_AVATAR": () => (/* binding */ UPDATE_AVATAR),
/* harmony export */   "UPDATE_USERNAME": () => (/* binding */ UPDATE_USERNAME),
/* harmony export */   "append": () => (/* binding */ append),
/* harmony export */   "default": () => (/* binding */ user),
/* harmony export */   "hydrate": () => (/* binding */ hydrate),
/* harmony export */   "hydrateStatus": () => (/* binding */ hydrateStatus),
/* harmony export */   "hydrateUser": () => (/* binding */ hydrateUser),
/* harmony export */   "updateAvatar": () => (/* binding */ updateAvatar),
/* harmony export */   "updateUsername": () => (/* binding */ updateUsername)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");


var APPEND_USERS = "APPEND_USERS";
var HYDRATE_USERS = "HYDRATE_USERS";
var UPDATE_AVATAR = "UPDATE_AVATAR";
var UPDATE_USERNAME = "UPDATE_USERNAME";
function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}
function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? moment__WEBPACK_IMPORTED_MODULE_0___default()(status.last_click) : null,
      banned_until: status.banned_until ? moment__WEBPACK_IMPORTED_MODULE_0___default()(status.banned_until) : null
    });
  } else {
    return null;
  }
}
function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(user.joined_on),
    status: hydrateStatus(user.status)
  });
}
function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}
function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}
function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case APPEND_USERS:
      return (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__["default"])(state, action.items.map(hydrateUser));
    case HYDRATE_USERS:
      return action.items.map(hydrateUser);
    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }
        return item;
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/services/ajax.js":
/*!******************************!*\
  !*** ./src/services/ajax.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ajax": () => (/* binding */ Ajax),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


var Ajax = /*#__PURE__*/function () {
  function Ajax() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Ajax);
    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function success(data) {
            resolve(data);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;
            if (rejection.status === 0) {
              rejection.detail = pgettext("ajax client error", "Could not connect to the site.");
            }
            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = pgettext("ajax client error", "Action link is invalid.");
              }
            }
            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = pgettext("ajax client error", "Unknown error has occurred.");
            }
            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }
      if (lock) {
        var self = this;

        // update url in existing lock?
        if (this._locks[lock]) {
          this._locks[lock].url = url;
        }

        // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve
        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          };

          // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;
          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300);

                // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url);

                // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };
            window.setTimeout(function () {
              wait(url);
            }, 300);
          });

          // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };
          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data,
          contentType: false,
          processData: false,
          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },
          success: function success(response) {
            resolve(response);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;
            if (rejection.status === 0) {
              rejection.detail = pgettext("api error", "Could not connect to the site.");
            }
            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = pgettext("api error", "Upload was rejected by the site as too large.");
            }
            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = pgettext("api error", "Action link is invalid.");
              }
            }
            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = pgettext("api error", "Unknown error has occurred.");
            }
            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }]);
  return Ajax;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Ajax());

/***/ }),

/***/ "./src/services/auth.js":
/*!******************************!*\
  !*** ./src/services/auth.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Auth": () => (/* binding */ Auth),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");



var Auth = /*#__PURE__*/function () {
  function Auth() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Auth);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;
      var state = this._store.getState().auth;
      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(user));
      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)());
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(true));
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);
  return Auth;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Auth());

/***/ }),

/***/ "./src/services/captcha.js":
/*!*********************************!*\
  !*** ./src/services/captcha.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseCaptcha": () => (/* binding */ BaseCaptcha),
/* harmony export */   "Captcha": () => (/* binding */ Captcha),
/* harmony export */   "NoCaptcha": () => (/* binding */ NoCaptcha),
/* harmony export */   "QACaptcha": () => (/* binding */ QACaptcha),
/* harmony export */   "ReCaptcha": () => (/* binding */ ReCaptcha),
/* harmony export */   "ReCaptchaComponent": () => (/* binding */ ReCaptchaComponent),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
/* global grecaptcha */


var BaseCaptcha = /*#__PURE__*/function () {
  function BaseCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, BaseCaptcha);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);
  return BaseCaptcha;
}();
var NoCaptcha = /*#__PURE__*/function (_BaseCaptcha) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(NoCaptcha, _BaseCaptcha);
  var _super = _createSuper(NoCaptcha);
  function NoCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, NoCaptcha);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);
  return NoCaptcha;
}(BaseCaptcha);
var QACaptcha = /*#__PURE__*/function (_BaseCaptcha2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(QACaptcha, _BaseCaptcha2);
  var _super2 = _createSuper(QACaptcha);
  function QACaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, QACaptcha);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(pgettext("captcha field", "Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__["default"], {
        label: this.question,
        "for": "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: this.helpText || null
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        "aria-describedby": "id_captcha_status",
        className: "form-control",
        disabled: kwargs.form.state.isLoading,
        id: "id_captcha",
        onChange: kwargs.form.bindInput("captcha"),
        type: "text",
        value: kwargs.form.state.captcha
      }));
    }
  }]);
  return QACaptcha;
}(BaseCaptcha);
var ReCaptchaComponent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(ReCaptchaComponent, _React$Component);
  var _super3 = _createSuper(ReCaptchaComponent);
  function ReCaptchaComponent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ReCaptchaComponent);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;
      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        id: "recaptcha"
      });
    }
  }]);
  return ReCaptchaComponent;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var ReCaptcha = /*#__PURE__*/function (_BaseCaptcha3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(ReCaptcha, _BaseCaptcha3);
  var _super4 = _createSuper(ReCaptcha);
  function ReCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ReCaptcha);
    return _super4.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);
      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__["default"], {
        label: pgettext("captcha field", "Please solve the quick test"),
        "for": "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: pgettext("captcha field", "This test helps us prevent automated spam registrations on the site.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ReCaptchaComponent, {
        binding: kwargs.form.bindInput("captcha"),
        siteKey: this._context.get("SETTINGS").recaptcha_site_key
      }));
    }
  }]);
  return ReCaptcha;
}(BaseCaptcha);
var Captcha = /*#__PURE__*/function () {
  function Captcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, Captcha);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;
        case "qa":
          this._captcha = new QACaptcha();
          break;
        case "re":
          this._captcha = new ReCaptcha();
          break;
      }
      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy
  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);
  return Captcha;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Captcha());

/***/ }),

/***/ "./src/services/include.js":
/*!*********************************!*\
  !*** ./src/services/include.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Include": () => (/* binding */ Include),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


var Include = /*#__PURE__*/function () {
  function Include() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Include);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);
  return Include;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Include());

/***/ }),

/***/ "./src/services/local-storage.js":
/*!***************************************!*\
  !*** ./src/services/local-storage.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocalStorage": () => (/* binding */ LocalStorage),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var storage = window.localStorage;
var LocalStorage = /*#__PURE__*/function () {
  function LocalStorage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LocalStorage);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;
      this._prefix = prefix;
      this._watchers = [];
      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);
  return LocalStorage;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new LocalStorage());

/***/ }),

/***/ "./src/services/mobile-navbar-dropdown.js":
/*!************************************************!*\
  !*** ./src/services/mobile-navbar-dropdown.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MobileNavbarDropdown": () => (/* binding */ MobileNavbarDropdown),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");



var MobileNavbarDropdown = /*#__PURE__*/function () {
  function MobileNavbarDropdown() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MobileNavbarDropdown);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);
  return MobileNavbarDropdown;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new MobileNavbarDropdown());

/***/ }),

/***/ "./src/services/modal.js":
/*!*******************************!*\
  !*** ./src/services/modal.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Modal": () => (/* binding */ Modal),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




var Modal = /*#__PURE__*/function () {
  function Modal() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Modal);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;
      this._element = element;
      this._modal = $(element).modal({
        show: false
      });
      this._modal.on("hidden.bs.modal", function () {
        react_dom__WEBPACK_IMPORTED_MODULE_2___default().unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])(component, this._element.id);
      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);
  return Modal;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Modal());

/***/ }),

/***/ "./src/services/one-box.js":
/*!*********************************!*\
  !*** ./src/services/one-box.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OneBox": () => (/* binding */ OneBox),
/* harmony export */   "cleanUrl": () => (/* binding */ cleanUrl),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getVideoIdFromUrl": () => (/* binding */ getVideoIdFromUrl),
/* harmony export */   "parseYoutubeUrl": () => (/* binding */ parseYoutubeUrl)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");



var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");
var OneBox = /*#__PURE__*/function () {
  function OneBox() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OneBox);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "render", function (element) {
      if (!element) return;
      _this.highlightCode(element);
      _this.embedYoutubePlayers(element);
    });
    this._youtube = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(element) {
      Promise.all(/*! import() */[__webpack_require__.e("vendor"), __webpack_require__.e("hljs")]).then(__webpack_require__.bind(__webpack_require__, /*! highlight */ "./highlight/highlight.js")).then(function (_ref) {
        var hljs = _ref["default"];
        var codeblocks = element.querySelectorAll("pre>code");
        for (var i = 0; i < codeblocks.length; i++) {
          hljs.highlightElement(codeblocks[i]);
        }
      });
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(element) {
      var anchors = element.querySelectorAll("p>a");
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;
        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }
        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?feature=oembed";
      if (youtube.start) {
        url += "&start=" + youtube.start;
      }
      var player = $('<iframe class="embed-responsive-item" frameborder="0" ' + 'src="' + url + '" ' + 'allow="encrypted-media; gyroscope; picture-in-picture" ' + "allowfullscreen></iframe>");
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);
  return OneBox;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new OneBox());
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);
  if (!video) return null;
  var start = 0;
  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];
    if (timebit) {
      var bits = timebit.substr(2).split("m");
      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }
  return {
    start: start,
    video: video
  };
}
function cleanUrl(url) {
  var clean = url;
  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }
  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }
  return clean;
}
function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;
  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

/***/ }),

/***/ "./src/services/page-title.js":
/*!************************************!*\
  !*** ./src/services/page-title.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageTitle": () => (/* binding */ PageTitle),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var PageTitle = /*#__PURE__*/function () {
  function PageTitle() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PageTitle);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }
      if (typeof title === "string") {
        title = {
          title: title
        };
      }
      var finalTitle = title.title;
      if (title.page > 1) {
        var pageLabel = interpolate(pgettext("page title pagination", "page: %(page)s"), {
          page: title.page
        }, true);
        finalTitle += " (" + pageLabel + ")";
      }
      if (title.parent) {
        finalTitle += " | " + title.parent;
      }
      document.title = finalTitle + " | " + this._forumName;
    }
  }]);
  return PageTitle;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new PageTitle());

/***/ }),

/***/ "./src/services/polls.js":
/*!*******************************!*\
  !*** ./src/services/polls.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Polls": () => (/* binding */ Polls),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var Polls = /*#__PURE__*/function () {
  function Polls() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Polls);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;
      this.stop(kwargs.poll);
      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;
        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);
            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };
      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);
  return Polls;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Polls());

/***/ }),

/***/ "./src/services/posting.js":
/*!*********************************!*\
  !*** ./src/services/posting.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Posting": () => (/* binding */ Posting),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var misago_components_posting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/components/posting */ "./src/components/posting/index.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");







var Posting = /*#__PURE__*/function () {
  function Posting() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Posting);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "close", function () {
      _this.unsetBeforeUnload();
      _this._props = null;
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._mount.classList.remove("show");
        window.setTimeout(function () {
          react_dom__WEBPACK_IMPORTED_MODULE_4___default().unmountComponentAtNode(_this._mount);
          _this._observer.unobserve(_this._mount);
          _this._spacer.style.height = "0px;";
          _this._isClosing = false;
          _this._isOpen = false;
          _this._mode = null;
        }, 300);
      }
    });
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, mount) {
      var _this2 = this;
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._mount = mount;
      this._mode = null;
      this._spacer = document.getElementById("posting-spacer");
      this._observer = new ResizeObserver(function (entries) {
        _this2._spacer.style.height = entries[0].contentRect.height + "px";
      });
      this._isOpen = false;
      this._isClosing = false;
      this._beforeunloadSet = false;
      this._props = null;
    }
  }, {
    key: "isOpen",
    value: function isOpen() {
      return this._isOpen;
    }
  }, {
    key: "setBeforeUnload",
    value: function setBeforeUnload() {
      if (!this._beforeunloadSet) {
        window.addEventListener("beforeunload", this.beforeUnload, {
          capture: true
        });
        this._beforeunloadSet = true;
      }
    }
  }, {
    key: "unsetBeforeUnload",
    value: function unsetBeforeUnload() {
      window.removeEventListener("beforeunload", this.beforeUnload, {
        capture: true
      });
      this._beforeunloadSet = false;
    }
  }, {
    key: "beforeUnload",
    value: function beforeUnload(event) {
      event.returnValue = "true";
      return "true";
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        if (props.mode === "QUOTE") {
          this._mode = "REPLY";
        } else {
          this._mode = props.mode;
        }
        this._isOpen = props.submit;
        this._realOpen(Object.assign({}, props, {
          mode: this._mode
        }));
      } else if (props.mode === "QUOTE") {
        this._realOpen(Object.assign({}, this._props, {
          config: props.config,
          context: props.context
        }));
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");
        var changeForm = window.confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_6__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(misago_components_posting__WEBPACK_IMPORTED_MODULE_5__["default"], props), this._mount.id);
      this._props = props;
      this._mount.classList.add("show");
      this._observer.observe(this._mount);
      this.setBeforeUnload();
    }
  }]);
  return Posting;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Posting());

/***/ }),

/***/ "./src/services/snackbar.js":
/*!**********************************!*\
  !*** ./src/services/snackbar.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Snackbar": () => (/* binding */ Snackbar),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/reducers/snackbar */ "./src/reducers/snackbar.js");




var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;
var Snackbar = /*#__PURE__*/function () {
  function Snackbar() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Snackbar);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "alert", function (message, type) {
      if (_this._timeout) {
        window.clearTimeout(_this._timeout);
        _this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_3__.hideSnackbar)());
        _this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        _this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_3__.showSnackbar)(message, type));
        _this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_3__.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "info", function (message) {
      _this.alert(message, "info");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "success", function (message) {
      _this.alert(message, "success");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "warning", function (message) {
      _this.alert(message, "warning");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "error", function (message) {
      _this.alert(message, "error");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "apiError", function (rejection) {
      var message = rejection.data ? rejection.data.detail : rejection.detail;
      if (!message) {
        if (rejection.status === 0) {
          message = pgettext("api error", "Could not connect to the site.");
        } else if (rejection.status === 404) {
          message = pgettext("api error", "Action link is invalid.");
        } else {
          message = pgettext("api error", "Unknown error has occurred.");
        }
      }
      if (rejection.status === 403 && message === "Permission denied") {
        message = pgettext("api error", "You don't have permission to perform this action.");
      }
      _this.error(message);
    });
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }]);
  return Snackbar;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Snackbar());

/***/ }),

/***/ "./src/services/store.js":
/*!*******************************!*\
  !*** ./src/services/store.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreWrapper": () => (/* binding */ StoreWrapper),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/index.js");



var StoreWrapper = /*#__PURE__*/function () {
  function StoreWrapper() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StoreWrapper);
    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0,redux__WEBPACK_IMPORTED_MODULE_2__.createStore)((0,redux__WEBPACK_IMPORTED_MODULE_2__.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    }

    // Store API
  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);
  return StoreWrapper;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new StoreWrapper());

/***/ }),

/***/ "./src/services/zxcvbn.js":
/*!********************************!*\
  !*** ./src/services/zxcvbn.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Zxcvbn": () => (/* binding */ Zxcvbn),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


/* global zxcvbn */
var Zxcvbn = /*#__PURE__*/function () {
  function Zxcvbn() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Zxcvbn);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }
      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);
  return Zxcvbn;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Zxcvbn());

/***/ }),

/***/ "./src/snackbars.js":
/*!**************************!*\
  !*** ./src/snackbars.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "error": () => (/* binding */ error),
/* harmony export */   "info": () => (/* binding */ info),
/* harmony export */   "removeSnackbars": () => (/* binding */ removeSnackbars),
/* harmony export */   "snackbar": () => (/* binding */ snackbar),
/* harmony export */   "success": () => (/* binding */ success),
/* harmony export */   "warning": () => (/* binding */ warning)
/* harmony export */ });
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! htmx.org */ "./node_modules/htmx.org/dist/htmx.min.js");
/* harmony import */ var htmx_org__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(htmx_org__WEBPACK_IMPORTED_MODULE_0__);

var SNACKBAR_TTL = 6;
var container = document.getElementById("misago-snackbars");
var timeout = null;
function removeSnackbars() {
  container.replaceChildren();
}
function renderSnackbars() {
  if (timeout) {
    window.clearTimeout(timeout);
  }
  container.querySelectorAll(".snackbar").forEach(function (element) {
    element.classList.add("in");
  });
  timeout = window.setTimeout(function () {
    container.querySelectorAll(".snackbar").forEach(function (element) {
      element.classList.add("out");
      timeout = window.setTimeout(removeSnackbars, 1000);
    });
  }, SNACKBAR_TTL * 1000);
}
function snackbar(type, message) {
  removeSnackbars();
  if (timeout) {
    window.clearTimeout(timeout);
  }
  var element = document.createElement("div");
  element.classList.add("snackbar");
  element.classList.add("snackbar-" + type);
  element.innerText = message;
  element.role = "alert";
  container.appendChild(element);
  timeout = window.setTimeout(renderSnackbars, 100);
}
function info(message) {
  snackbar("info", message);
}
function success(message) {
  snackbar("success", message);
}
function warning(message) {
  snackbar("warning", message);
}
function error(message) {
  snackbar("danger", message);
}
htmx_org__WEBPACK_IMPORTED_MODULE_0___default().onLoad(renderSnackbars);

/***/ }),

/***/ "./src/utils/banned-page.js":
/*!**********************************!*\
  !*** ./src/utils/banned-page.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_banned_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/components/banned-page */ "./src/components/banned-page.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







var select = function select(state) {
  return state.tick;
};
var RedrawedBannedPage = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(select)(misago_components_banned_page__WEBPACK_IMPORTED_MODULE_4__["default"]);
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ban, changeState) {
  react_dom__WEBPACK_IMPORTED_MODULE_2___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_3__.Provider, {
    store: misago_services_store__WEBPACK_IMPORTED_MODULE_6__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(RedrawedBannedPage, {
    message: ban.message,
    expires: ban.expires_on ? moment__WEBPACK_IMPORTED_MODULE_0___default()(ban.expires_on) : null
  })), document.getElementById("page-mount"));
  if (typeof changeState === "undefined" || changeState) {
    var forumName = misago_index__WEBPACK_IMPORTED_MODULE_5__["default"].get("SETTINGS").forum_name;
    document.title = pgettext("banned error title", "You are banned") + " | " + forumName;
    window.history.pushState({}, "", misago_index__WEBPACK_IMPORTED_MODULE_5__["default"].get("BANNED_URL"));
  }
}

/***/ }),

/***/ "./src/utils/batch.js":
/*!****************************!*\
  !*** ./src/utils/batch.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var rows = [];
  var row = [];
  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }
  if (row.length) {
    rows.push(row);
  }
  return rows;
}

/***/ }),

/***/ "./src/utils/concat-unique.js":
/*!************************************!*\
  !*** ./src/utils/concat-unique.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
}

/***/ }),

/***/ "./src/utils/escape-html.js":
/*!**********************************!*\
  !*** ./src/utils/escape-html.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
}

/***/ }),

/***/ "./src/utils/file-size.js":
/*!********************************!*\
  !*** ./src/utils/file-size.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "roundSize": () => (/* binding */ roundSize)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
}
function roundSize(value) {
  return value.toFixed(1);
}

/***/ }),

/***/ "./src/utils/getRandomString.js":
/*!**************************************!*\
  !*** ./src/utils/getRandomString.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ALPHA": () => (/* binding */ ALPHA),
/* harmony export */   "ALPHA_LEN": () => (/* binding */ ALPHA_LEN),
/* harmony export */   "default": () => (/* binding */ getRandomString)
/* harmony export */ });
var ALPHA = "12345678990abcdefghijklmnopqrstuvwxyz";
var ALPHA_LEN = ALPHA.length;
function getRandomString(len) {
  var chars = [];
  for (var i = 0; i < len; i++) {
    var index = Math.floor(Math.random() * ALPHA_LEN);
    chars.push(ALPHA[index]);
  }
  return chars.join("");
}

/***/ }),

/***/ "./src/utils/mount-component.js":
/*!**************************************!*\
  !*** ./src/utils/mount-component.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var rootElement = document.getElementById(rootElementId);
  var finalComponent = Component.props ? Component : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, null);
  if (rootElement) {
    if (connected) {
      react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
        store: misago_services_store__WEBPACK_IMPORTED_MODULE_3__["default"].getStore()
      }, finalComponent), rootElement);
    } else {
      react_dom__WEBPACK_IMPORTED_MODULE_1___default().render(finalComponent, rootElement);
    }
  }
}

/***/ }),

/***/ "./src/utils/ordered-list.js":
/*!***********************************!*\
  !*** ./src/utils/ordered-list.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var OrderedList = /*#__PURE__*/function () {
  function OrderedList(items) {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OrderedList);
    this.isOrdered = false;
    this._items = items || [];
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,
        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }
      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }
      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }
          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }
      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }
      return ordered;
    }
  }]);
  return OrderedList;
}();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OrderedList);

/***/ }),

/***/ "./src/utils/random.js":
/*!*****************************!*\
  !*** ./src/utils/random.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "int": () => (/* binding */ _int),
/* harmony export */   "range": () => (/* binding */ range)
/* harmony export */ });
function _int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(_int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }
  return array;
}

/***/ }),

/***/ "./src/utils/routed-component.js":
/*!***************************************!*\
  !*** ./src/utils/routed-component.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





var rootElement = document.getElementById("page-mount");
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };
  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: misago_services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_3__.Router, {
    routes: routes,
    history: react_router__WEBPACK_IMPORTED_MODULE_3__.browserHistory
  })), rootElement);
}

/***/ }),

/***/ "./src/utils/sets.js":
/*!***************************!*\
  !*** ./src/utils/sets.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "push": () => (/* binding */ push),
/* harmony export */   "remove": () => (/* binding */ remove),
/* harmony export */   "toggle": () => (/* binding */ toggle)
/* harmony export */ });
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}
function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}
function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

/***/ }),

/***/ "./src/utils/string-count.js":
/*!***********************************!*\
  !*** ./src/utils/string-count.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();
  if (subString.length <= 0) return 0;
  var n = 0;
  var pos = 0;
  var step = subString.length;
  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }
  return n;
}

/***/ }),

/***/ "./src/utils/validators.js":
/*!*********************************!*\
  !*** ./src/utils/validators.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "email": () => (/* binding */ email),
/* harmony export */   "maxLength": () => (/* binding */ maxLength),
/* harmony export */   "minLength": () => (/* binding */ minLength),
/* harmony export */   "passwordMinLength": () => (/* binding */ passwordMinLength),
/* harmony export */   "required": () => (/* binding */ required),
/* harmony export */   "requiredPrivacyPolicy": () => (/* binding */ requiredPrivacyPolicy),
/* harmony export */   "requiredTermsOfService": () => (/* binding */ requiredTermsOfService),
/* harmony export */   "usernameContent": () => (/* binding */ usernameContent),
/* harmony export */   "usernameMaxLength": () => (/* binding */ usernameMaxLength),
/* harmony export */   "usernameMinLength": () => (/* binding */ usernameMinLength)
/* harmony export */ });
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z_]+$", "i");
var USERNAME_ALPHANUMERIC = new RegExp("[0-9a-z]", "i");
function required(message) {
  return function (value) {
    if (value === false || value === null || String(value).trim().length === 0) {
      return message || gettext("This field is required.");
    }
  };
}
function requiredTermsOfService(message) {
  var error = pgettext("agreement validator", "You have to accept the terms of service.");
  return required(message || error);
}
function requiredPrivacyPolicy(message) {
  var error = pgettext("agreement validator", "You have to accept the privacy policy.");
  return required(message || error);
}
function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || pgettext("email validator", "Enter a valid e-mail address.");
    }
  };
}
function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = value.trim().length;
    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = npgettext("value length validator", "Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}
function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = value.trim().length;
    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = npgettext("value length validator", "Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}
function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return npgettext("username length validator", "Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}
function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return npgettext("username length validator", "Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };
  return maxLength(lengthMax, message);
}
function usernameContent() {
  return function (value) {
    var valueTrimmed = value.trim();
    if (!USERNAME.test(valueTrimmed)) {
      return pgettext("username validator", "Username can only contain Latin alphabet letters, digits, and an underscore sign.");
    }
    if (!USERNAME_ALPHANUMERIC.test(valueTrimmed)) {
      return pgettext("username validator", "Username must contain Latin alphabet letters or digits.");
    }
  };
}
function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;
    if (length < limitValue) {
      var returnMessage = npgettext("password length validator", "Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

/***/ }),

/***/ "./src/style/index.less":
/*!******************************!*\
  !*** ./src/style/index.less ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!***************************************************!*\
  !*** ./node_modules/moment/locale/ sync ^\.\/.*$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn-bd": "./node_modules/moment/locale/bn-bd.js",
	"./bn-bd.js": "./node_modules/moment/locale/bn-bd.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-mx": "./node_modules/moment/locale/es-mx.js",
	"./es-mx.js": "./node_modules/moment/locale/es-mx.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.hmd = (module) => {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: () => {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "misago:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"misago": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkmisago"] = self["webpackChunkmisago"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/index.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/ajax.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/auth-sync.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/auth.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/captcha.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/accept-agreement.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/auth-message.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/banned-page.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/navbar.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/notifications-overlay.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/notifications.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/profile.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/request-activation-link.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/request-password-reset.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/reset-password-form.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/search-overlay.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/search.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/site-nav-overlay.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/snackbar.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/social-auth.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/thread.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/user-nav-overlay.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/components/users.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/include.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/local-storage.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/mobile-navbar-dropdown.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/modal.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/moment-locale.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/page-title.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/polls.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/posting.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/auth.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/overlay.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/participants.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/poll.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/posts.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/profile-details.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/profile-hydrate.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/profile.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/search.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/selection.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/snackbar.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/thread.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/threads.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/tick.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/username-history.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/reducers/users.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/snackbar.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/store.js")))
/******/ 	__webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/tick-start.js")))
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], () => (__webpack_require__("./src/initializers/zxcvbn.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=misago.js.map