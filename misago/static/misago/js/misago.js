/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/Breadcrumbs/Breadcrumbs.jsx":
/*!****************************************************!*\
  !*** ./src/components/Breadcrumbs/Breadcrumbs.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var Breadcrumbs = function Breadcrumbs(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs", className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (Breadcrumbs);

/***/ }),

/***/ "./src/components/Breadcrumbs/BreadcrumbsCategory.jsx":
/*!************************************************************!*\
  !*** ./src/components/Breadcrumbs/BreadcrumbsCategory.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var BreadcrumbsCategory = function BreadcrumbsCategory(_ref) {
  var category = _ref.category,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs-item", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: category.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon",
    style: {
      color: category.color || "inherit"
    }
  }, "label"), !!category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name hidden-sm hidden-md hidden-lg",
    title: category.name
  }, category.short_name), !!category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name hidden-xs"
  }, category.name), !category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name"
  }, category.name)));
};
/* harmony default export */ __webpack_exports__["default"] = (BreadcrumbsCategory);

/***/ }),

/***/ "./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx":
/*!****************************************************************!*\
  !*** ./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var BreadcrumbsRootCategory = function BreadcrumbsRootCategory(_ref) {
  var category = _ref.category,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("breadcrumbs-item", className)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: category.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "breadcrumbs-item-name"
  }, category.special_role === "root_category" ? gettext("Threads") : gettext("Private threads"))));
};
/* harmony default export */ __webpack_exports__["default"] = (BreadcrumbsRootCategory);

/***/ }),

/***/ "./src/components/Breadcrumbs/index.js":
/*!*********************************************!*\
  !*** ./src/components/Breadcrumbs/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Breadcrumbs": function() { return /* reexport safe */ _Breadcrumbs__WEBPACK_IMPORTED_MODULE_0__["default"]; },
/* harmony export */   "BreadcrumbsCategory": function() { return /* reexport safe */ _BreadcrumbsCategory__WEBPACK_IMPORTED_MODULE_1__["default"]; },
/* harmony export */   "BreadcrumbsRootCategory": function() { return /* reexport safe */ _BreadcrumbsRootCategory__WEBPACK_IMPORTED_MODULE_2__["default"]; }
/* harmony export */ });
/* harmony import */ var _Breadcrumbs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Breadcrumbs */ "./src/components/Breadcrumbs/Breadcrumbs.jsx");
/* harmony import */ var _BreadcrumbsCategory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BreadcrumbsCategory */ "./src/components/Breadcrumbs/BreadcrumbsCategory.jsx");
/* harmony import */ var _BreadcrumbsRootCategory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BreadcrumbsRootCategory */ "./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx");





/***/ }),

/***/ "./src/components/FlexRow/FlexRow.jsx":
/*!********************************************!*\
  !*** ./src/components/FlexRow/FlexRow.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRow = function FlexRow(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row", className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (FlexRow);

/***/ }),

/***/ "./src/components/FlexRow/FlexRowCol.jsx":
/*!***********************************************!*\
  !*** ./src/components/FlexRow/FlexRowCol.jsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRowCol = function FlexRowCol(_ref) {
  var children = _ref.children,
    className = _ref.className,
    shrink = _ref.shrink;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row-col", className, {
      "flex-row-col-shrink": shrink
    })
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (FlexRowCol);

/***/ }),

/***/ "./src/components/FlexRow/FlexRowSection.jsx":
/*!***************************************************!*\
  !*** ./src/components/FlexRow/FlexRowSection.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var FlexRowSection = function FlexRowSection(_ref) {
  var auto = _ref.auto,
    children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("flex-row-section", {
      "flex-row-section-auto": auto
    }, className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (FlexRowSection);

/***/ }),

/***/ "./src/components/FlexRow/index.js":
/*!*****************************************!*\
  !*** ./src/components/FlexRow/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlexRow": function() { return /* reexport safe */ _FlexRow__WEBPACK_IMPORTED_MODULE_0__["default"]; },
/* harmony export */   "FlexRowCol": function() { return /* reexport safe */ _FlexRowCol__WEBPACK_IMPORTED_MODULE_1__["default"]; },
/* harmony export */   "FlexRowSection": function() { return /* reexport safe */ _FlexRowSection__WEBPACK_IMPORTED_MODULE_2__["default"]; }
/* harmony export */ });
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FlexRow */ "./src/components/FlexRow/FlexRow.jsx");
/* harmony import */ var _FlexRowCol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FlexRowCol */ "./src/components/FlexRow/FlexRowCol.jsx");
/* harmony import */ var _FlexRowSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FlexRowSection */ "./src/components/FlexRow/FlexRowSection.jsx");





/***/ }),

/***/ "./src/components/MarkupEditor/MarkupCodeModal.jsx":
/*!*********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupCodeModal.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var MarkupCodeModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupCodeModal, _React$Component);
  var _super = _createSuper(MarkupCodeModal);
  function MarkupCodeModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupCodeModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var syntax = _this.state.syntax.trim();
      var text = _this.state.text.trim();
      if (text.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      var prefix = selection.prefix.trim().length ? "\n\n" : "";
      (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(Object.assign({}, selection, {
        text: text
      }), update, prefix + "```" + syntax + "\n" + text + "\n```\n\n");
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    _this.state = {
      error: null,
      syntax: "",
      text: props.selection.text
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupCodeModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Code"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "markup_code_syntax",
        label: pgettext("markup editor", "Syntax highlighting")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
        id: "markup_code_syntax",
        className: "form-control",
        value: this.state.syntax,
        onChange: function onChange(event) {
          return _this2.setState({
            syntax: event.target.value
          });
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
        value: ""
      }, pgettext("markup editor", "No syntax highlighting")), LANGUAGES.map(function (_ref) {
        var value = _ref.value,
          name = _ref.name;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
          key: value,
          value: value
        }, name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "markup_code_text",
        label: pgettext("markup editor", "Code to insert"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        id: "markup_code_text",
        className: "form-control",
        rows: "8",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert code"))))));
    }
  }]);
  return MarkupCodeModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var LANGUAGES = [{
  value: "bash",
  name: "Bash"
}, {
  value: "c",
  name: "C"
}, {
  value: "c#",
  name: "C#"
}, {
  value: "c++",
  name: "C++"
}, {
  value: "css",
  name: "CSS"
}, {
  value: "diff",
  name: "Diff"
}, {
  value: "go",
  name: "Go"
}, {
  value: "graphql",
  name: "GraphQL"
}, {
  value: "html,",
  name: "HTML"
}, {
  value: "xml",
  name: "XML"
}, {
  value: "json",
  name: "JSON"
}, {
  value: "java",
  name: "Java"
}, {
  value: "javascript",
  name: "JavaScript"
}, {
  value: "kotlin",
  name: "Kotlin"
}, {
  value: "less",
  name: "Less"
}, {
  value: "lua",
  name: "Lua"
}, {
  value: "makefile",
  name: "Makefile"
}, {
  value: "markdown",
  name: "Markdown"
}, {
  value: "objective-C",
  name: "Objective-C"
}, {
  value: "php",
  name: "PHP"
}, {
  value: "perl",
  name: "Perl"
}, {
  value: "plain",
  name: "Plain"
}, {
  value: "text",
  name: "text"
}, {
  value: "python",
  name: "Python"
}, {
  value: "repl",
  name: "REPL"
}, {
  value: "r",
  name: "R"
}, {
  value: "ruby",
  name: "Ruby"
}, {
  value: "rust",
  name: "Rust"
}, {
  value: "scss",
  name: "SCSS"
}, {
  value: "sql",
  name: "SQL"
}, {
  value: "shell",
  name: "Shell Session"
}, {
  value: "swift",
  name: "Swift"
}, {
  value: "toml",
  name: "TOML"
}, {
  value: "ini",
  name: "INI"
}, {
  value: "typescript",
  name: "TypeScript"
}, {
  value: "visualbasic",
  name: "Visual Basic .NET"
}, {
  value: "webassembly",
  name: "WebAssembly"
}, {
  value: "yaml",
  name: "YAML"
}];
/* harmony default export */ __webpack_exports__["default"] = (MarkupCodeModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditor.jsx":
/*!******************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditor.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _misago_markup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var _MarkupEditorFooter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./MarkupEditorFooter */ "./src/components/MarkupEditor/MarkupEditorFooter.jsx");
/* harmony import */ var _MarkupEditorToolbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./MarkupEditorToolbar */ "./src/components/MarkupEditor/MarkupEditorToolbar.jsx");
/* harmony import */ var _uploadFile__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./uploadFile */ "./src/components/MarkupEditor/uploadFile.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var MarkupEditor = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupEditor, _React$Component);
  var _super = _createSuper(MarkupEditor);
  function MarkupEditor(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, MarkupEditor);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showPreview", function () {
      if (_this.state.loading) return;
      _this.setState({
        loading: true,
        preview: true,
        element: null
      });
      _services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(___WEBPACK_IMPORTED_MODULE_9__["default"].get("PARSE_MARKUP_API"), {
        post: _this.props.value
      }).then(function (data) {
        _this.setState({
          loading: false,
          parsed: data.parsed
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
        } else {
          _services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        _this.setState({
          loading: false
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "closePreview", function () {
      _this.setState({
        preview: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onDrop", function (event) {
      event.preventDefault();
      event.stopPropagation();
      if (!event.dataTransfer.files) return;
      var setState = _this.props.onAttachmentsChange;
      if (___WEBPACK_IMPORTED_MODULE_9__["default"].get("user").acl.max_attachment_size) {
        for (var i = 0; i < event.dataTransfer.files.length; i++) {
          var file = event.dataTransfer.files[i];
          (0,_uploadFile__WEBPACK_IMPORTED_MODULE_15__["default"])(file, setState);
        }
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPaste", function (event) {
      var setState = _this.props.onAttachmentsChange;
      var files = [];
      for (var i = 0; i < event.clipboardData.items.length; i++) {
        var item = event.clipboardData.items[i];
        if (item.kind === "file") {
          files.push(item.getAsFile());
        }
      }
      if (files.length) {
        event.preventDefault();
        event.stopPropagation();
        if (___WEBPACK_IMPORTED_MODULE_9__["default"].get("user").acl.max_attachment_size) {
          for (var _i = 0; _i < files.length; _i++) {
            (0,_uploadFile__WEBPACK_IMPORTED_MODULE_15__["default"])(files[_i], setState);
          }
        }
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()("markup-editor", {
          "markup-editor-focused": _this.state.focused && !_this.state.preview
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditorToolbar__WEBPACK_IMPORTED_MODULE_14__["default"], {
        disabled: _this.props.disabled || _this.state.preview,
        element: _this.state.element,
        update: function update(value) {
          return _this.props.onChange({
            target: {
              value: value
            }
          });
        },
        updateAttachments: _this.props.onAttachmentsChange
      }), _this.state.preview ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "markup-editor-preview"
      }, _this.state.loading ? "loading..." : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_misago_markup__WEBPACK_IMPORTED_MODULE_12__["default"], {
        markup: _this.state.parsed
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        className: "markup-editor-textarea form-control",
        placeholder: _this.props.placeholder,
        value: _this.props.value,
        disabled: _this.props.disabled || _this.state.loading,
        rows: 6,
        ref: function ref(element) {
          if (element && !_this.state.element) {
            _this.setState({
              element: element
            });
          }
        },
        onChange: _this.props.onChange,
        onDrop: _this.onDrop,
        onFocus: function onFocus() {
          return _this.setState({
            focused: true
          });
        },
        onPaste: _this.onPaste,
        onBlur: function onBlur() {
          return _this.setState({
            focused: false
          });
        }
      }), _this.props.attachments.map(function (attachment) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          key: attachment.key
        }, attachment.filename, attachment.progress + "%");
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_MarkupEditorFooter__WEBPACK_IMPORTED_MODULE_13__["default"], {
        preview: _this.state.preview,
        disabled: _this.props.disabled,
        empty: _this.props.value.trim().length < ___WEBPACK_IMPORTED_MODULE_9__["default"].get("SETTINGS").post_length_min || _this.state.loading,
        showPreview: _this.showPreview,
        closePreview: _this.closePreview,
        submitText: _this.props.submitText
      }));
    });
    _this.state = {
      element: null,
      focused: false,
      loading: false,
      preview: false,
      parsed: null
    };
    return _this;
  }
  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(MarkupEditor);
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (MarkupEditor);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorButton.jsx":
/*!************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorButton.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var MarkupEditorButton = function MarkupEditorButton(_ref) {
  var disabled = _ref.disabled,
    icon = _ref.icon,
    title = _ref.title,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-markup-editor",
    title: title,
    type: "button",
    disabled: disabled,
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, icon));
};
/* harmony default export */ __webpack_exports__["default"] = (MarkupEditorButton);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorFooter.jsx":
/*!************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorFooter.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../button */ "./src/components/button.js");


var MarkupEditorFooter = function MarkupEditorFooter(_ref) {
  var disabled = _ref.disabled,
    empty = _ref.empty,
    preview = _ref.preview,
    submitText = _ref.submitText,
    showPreview = _ref.showPreview,
    closePreview = _ref.closePreview;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-spacer"
  }), preview ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default",
    onClick: closePreview,
    type: "button"
  }, pgettext("markup editor", "Edit")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-default",
    disabled: disabled || empty,
    onClick: showPreview,
    type: "button"
  }, pgettext("markup editor", "Preview")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "btn-primary",
    disabled: disabled || empty
  }, submitText || gettext("Post")));
};
/* harmony default export */ __webpack_exports__["default"] = (MarkupEditorFooter);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupEditorToolbar.jsx":
/*!*************************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupEditorToolbar.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _MarkupCodeModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupCodeModal */ "./src/components/MarkupEditor/MarkupCodeModal.jsx");
/* harmony import */ var _MarkupImageModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupImageModal */ "./src/components/MarkupEditor/MarkupImageModal.jsx");
/* harmony import */ var _MarkupLinkModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupLinkModal */ "./src/components/MarkupEditor/MarkupLinkModal.jsx");
/* harmony import */ var _MarkupQuoteModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MarkupQuoteModal */ "./src/components/MarkupEditor/MarkupQuoteModal.jsx");
/* harmony import */ var _MarkupEditorButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MarkupEditorButton */ "./src/components/MarkupEditor/MarkupEditorButton.jsx");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");
/* harmony import */ var _uploadFile__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./uploadFile */ "./src/components/MarkupEditor/uploadFile.js");










var MarkupEditorToolbar = function MarkupEditorToolbar(_ref) {
  var disabled = _ref.disabled,
    element = _ref.element,
    update = _ref.update,
    updateAttachments = _ref.updateAttachments;
  var actions = [{
    name: pgettext("markup editor", "Strong"),
    icon: "format_bold",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_8__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element), update, "**", "**", pgettext("example markup", "Strong text"));
    }
  }, {
    name: pgettext("markup editor", "Emphasis"),
    icon: "format_italic",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_8__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element), update, "*", "*", pgettext("example markup", "Text with emphasis"));
    }
  }, {
    name: pgettext("markup editor", "Strikethrough"),
    icon: "format_strikethrough",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_8__.wrapSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element), update, "~~", "~~", pgettext("example markup", "Text with strikethrough"));
    }
  }, {
    name: pgettext("markup editor", "Horizontal ruler"),
    icon: "remove",
    onClick: function onClick() {
      (0,_operations__WEBPACK_IMPORTED_MODULE_8__.replaceSelection)((0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element), update, "\n\n- - -\n\n");
    }
  }, {
    name: pgettext("markup editor", "Link"),
    icon: "insert_link",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupLinkModal__WEBPACK_IMPORTED_MODULE_5__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Image"),
    icon: "insert_photo",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupImageModal__WEBPACK_IMPORTED_MODULE_4__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Quote"),
    icon: "format_quote",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupQuoteModal__WEBPACK_IMPORTED_MODULE_6__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }, {
    name: pgettext("markup editor", "Spoiler"),
    icon: "visibility_off",
    onClick: function onClick() {
      insertSpoiler(element, update);
    }
  }, {
    name: pgettext("markup editor", "Code"),
    icon: "code",
    onClick: function onClick() {
      var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element);
      _services_modal__WEBPACK_IMPORTED_MODULE_2__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupCodeModal__WEBPACK_IMPORTED_MODULE_3__["default"], {
        selection: selection,
        element: element,
        update: update
      }));
    }
  }];
  if (___WEBPACK_IMPORTED_MODULE_1__["default"].get("user").acl.max_attachment_size) {
    actions.push({
      name: pgettext("markup editor", "Upload file"),
      icon: "file_upload",
      onClick: function onClick() {
        return uploadFiles(updateAttachments);
      }
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "markup-editor-toolbar"
  }, actions.map(function (_ref2) {
    var name = _ref2.name,
      icon = _ref2.icon,
      onClick = _ref2.onClick;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MarkupEditorButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
      key: icon,
      title: name,
      icon: icon,
      disabled: disabled || !element,
      onClick: onClick
    });
  }));
};
var insertSpoiler = function insertSpoiler(element, update) {
  var selection = (0,_operations__WEBPACK_IMPORTED_MODULE_8__.getSelection)(element);
  var prefix = selection.prefix.trim().length ? "\n\n" : "";
  (0,_operations__WEBPACK_IMPORTED_MODULE_8__.wrapSelection)(selection, update, prefix + "[spoiler]\n", "\n[/spoiler]\n\n", pgettext("markup editor", "Spoiler text"));
};
var uploadFiles = function uploadFiles(setState) {
  var input = document.createElement("input");
  input.type = "file";
  input.multiple = "multiple";
  input.addEventListener("change", function () {
    for (var i = 0; i < input.files.length; i++) {
      (0,_uploadFile__WEBPACK_IMPORTED_MODULE_9__["default"])(input.files[i], setState);
    }
  });
  input.click();
};
/* harmony default export */ __webpack_exports__["default"] = (MarkupEditorToolbar);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupImageModal.jsx":
/*!**********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupImageModal.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _utils_is_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/is-url */ "./src/utils/is-url.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var MarkupImageModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupImageModal, _React$Component);
  var _super = _createSuper(MarkupImageModal);
  function MarkupImageModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupImageModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var text = _this.state.text.trim();
      var url = _this.state.url.trim();
      if (url.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      if (!(0,_utils_is_url__WEBPACK_IMPORTED_MODULE_9__["default"])(url)) {
        _this.setState({
          error: gettext("Enter a valid address.")
        });
        return false;
      }
      if (text.length > 0) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "![" + text + "](" + url + ")");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "!(" + url + ")");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    var _text = props.selection.text.trim();
    var textUrl = (0,_utils_is_url__WEBPACK_IMPORTED_MODULE_9__["default"])(_text);
    _this.state = {
      error: null,
      text: textUrl ? "" : _text,
      url: textUrl ? _text : ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupImageModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Image"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "markup_link_url",
        label: pgettext("markup editor", "Image description"),
        helpText: pgettext("markup editor", "Optional but recommended . Will be displayed instead of image when it fails to load.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_text",
        className: "form-control",
        type: "text",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "markup_link_url",
        label: pgettext("markup editor", "Image address"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_url",
        className: "form-control",
        type: "text",
        value: this.state.url,
        onChange: function onChange(event) {
          return _this2.setState({
            url: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert image"))))));
    }
  }]);
  return MarkupImageModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (MarkupImageModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupLinkModal.jsx":
/*!*********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupLinkModal.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _utils_is_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/is-url */ "./src/utils/is-url.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var MarkupLinkModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupLinkModal, _React$Component);
  var _super = _createSuper(MarkupLinkModal);
  function MarkupLinkModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupLinkModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var text = _this.state.text.trim();
      var url = _this.state.url.trim();
      if (url.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      if (!(0,_utils_is_url__WEBPACK_IMPORTED_MODULE_9__["default"])(url)) {
        _this.setState({
          error: gettext("Enter a valid address.")
        });
        return false;
      }
      if (text.length > 0) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "[" + text + "](" + url + ")");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_11__.replaceSelection)(selection, update, "<" + url + ">");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    var _text = props.selection.text.trim();
    var textUrl = (0,_utils_is_url__WEBPACK_IMPORTED_MODULE_9__["default"])(_text);
    _this.state = {
      error: null,
      text: textUrl ? "" : _text,
      url: textUrl ? _text : ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupLinkModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Link"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "markup_link_url",
        label: pgettext("markup editor", "Link text"),
        helpText: pgettext("markup editor", "Optional. Will be displayed instead of link's address.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_text",
        className: "form-control",
        type: "text",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "markup_link_url",
        label: pgettext("markup editor", "Link address"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_link_url",
        className: "form-control",
        type: "text",
        value: this.state.url,
        onChange: function onChange(event) {
          return _this2.setState({
            url: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert link"))))));
    }
  }]);
  return MarkupLinkModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (MarkupLinkModal);

/***/ }),

/***/ "./src/components/MarkupEditor/MarkupQuoteModal.jsx":
/*!**********************************************************!*\
  !*** ./src/components/MarkupEditor/MarkupQuoteModal.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/modal */ "./src/services/modal.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../form-group */ "./src/components/form-group.js");
/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./operations */ "./src/components/MarkupEditor/operations.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var MarkupQuoteModal = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkupQuoteModal, _React$Component);
  var _super = _createSuper(MarkupQuoteModal);
  function MarkupQuoteModal(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkupQuoteModal);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (ev) {
      ev.preventDefault();
      var _this$props = _this.props,
        selection = _this$props.selection,
        update = _this$props.update;
      var author = _this.state.author.trim();
      var text = _this.state.text.trim();
      if (text.length === 0) {
        _this.setState({
          error: gettext("This field is required.")
        });
        return false;
      }
      var prefix = selection.prefix.trim().length ? "\n\n" : "";
      if (author) {
        (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(selection, update, prefix + '[quote="' + author + '"]\n' + text + "\n[/quote]\n\n");
      } else {
        (0,_operations__WEBPACK_IMPORTED_MODULE_10__.replaceSelection)(selection, update, prefix + "[quote]\n" + text + "\n[/quote]\n\n");
      }
      _services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].hide();
      return false;
    });
    _this.state = {
      error: null,
      author: "",
      text: props.selection.text
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkupQuoteModal, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, pgettext("markup editor", "Quote"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "markup_quote_author",
        label: pgettext("markup editor", "Quote's author or source"),
        helpText: pgettext("markup editor", 'Optional. If it\'s username, put "@" before it ("@JohnDoe").')
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "markup_quote_author",
        className: "form-control",
        type: "text",
        value: this.state.author,
        onChange: function onChange(event) {
          return _this2.setState({
            author: event.target.value
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "markup_quote_text",
        label: pgettext("markup editor", "Quoted text"),
        validation: !!this.state.error ? [this.state.error] : undefined
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        id: "markup_quote_text",
        className: "form-control",
        rows: "8",
        value: this.state.text,
        onChange: function onChange(event) {
          return _this2.setState({
            text: event.target.value
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, pgettext("markup editor", "Insert quote"))))));
    }
  }]);
  return MarkupQuoteModal;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (MarkupQuoteModal);

/***/ }),

/***/ "./src/components/MarkupEditor/index.js":
/*!**********************************************!*\
  !*** ./src/components/MarkupEditor/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MarkupEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupEditor */ "./src/components/MarkupEditor/MarkupEditor.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_MarkupEditor__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/MarkupEditor/operations.js":
/*!***************************************************!*\
  !*** ./src/components/MarkupEditor/operations.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSelection": function() { return /* binding */ getSelection; },
/* harmony export */   "replaceSelection": function() { return /* binding */ replaceSelection; },
/* harmony export */   "wrapSelection": function() { return /* binding */ wrapSelection; }
/* harmony export */ });
var wrapSelection = function wrapSelection(selection, update, prefix, suffix, def) {
  var text = selection.text || def || "";
  var newValue = selection.prefix;
  newValue += prefix + text + suffix;
  newValue += selection.suffix;
  update(newValue);
  window.setTimeout(function () {
    var caret = selection.start + prefix.length;
    selection.textarea.focus();
    selection.textarea.setSelectionRange(caret, caret + text.length);
  }, 250);
};
var replaceSelection = function replaceSelection(selection, update, text) {
  var newValue = selection.prefix;
  newValue += text;
  newValue += selection.suffix;
  update(newValue);
  window.setTimeout(function () {
    var caret = selection.end + text.length;
    selection.textarea.focus();
    selection.textarea.setSelectionRange(caret, caret);
  }, 250);
};
var getSelection = function getSelection(textarea) {
  if (document.selection) {
    textarea.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -textarea.value.length);
    return createRange(textarea, range.text.length - length, range.text.length);
  }
  if (textarea.selectionStart || textarea.selectionStart == "0") {
    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd);
  }
};
var createRange = function createRange(textarea, start, end) {
  return {
    textarea: textarea,
    start: start,
    end: end,
    text: textarea.value.substring(start, end),
    prefix: textarea.value.substring(0, start),
    suffix: textarea.value.substring(end)
  };
};


/***/ }),

/***/ "./src/components/MarkupEditor/uploadFile.js":
/*!***************************************************!*\
  !*** ./src/components/MarkupEditor/uploadFile.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ */ "./src/index.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");




var ID_LEN = 32;
var uploadFile = function uploadFile(file, setState) {
  var upload = {
    id: null,
    key: getRandomString(ID_LEN),
    error: null,
    uploaded_on: null,
    progress: 0,
    filename: file.name,
    filetype: null,
    is_image: false,
    size: 0,
    url: null,
    uploader_name: null
  };
  setState(function (_ref) {
    var attachments = _ref.attachments;
    return {
      attachments: [upload].concat(attachments)
    };
  });
  var refreshState = function refreshState() {
    setState(function (_ref2) {
      var attachments = _ref2.attachments;
      return {
        attachments: attachments.concat()
      };
    });
  };
  var data = new FormData();
  data.append("upload", file);
  _services_ajax__WEBPACK_IMPORTED_MODULE_2__["default"].upload(___WEBPACK_IMPORTED_MODULE_1__["default"].get("ATTACHMENTS_API"), data, function (progress) {
    upload.progress = progress;
    refreshState();
  }).then(function (data) {
    Object.assign(upload, data, {
      uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(data.uploaded_on)
    });
    refreshState();
  }, function (rejection) {
    if (rejection.status === 400 || rejection.status === 413) {
      upload.error = rejection.detail;
      refreshState();
    } else {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].apiError(rejection);
    }
  });
};
var ALPHA = "12345678990abcdefghijklmnopqrstuvwxyz";
var ALPHA_LEN = ALPHA.length;
var getRandomString = function getRandomString(len) {
  var chars = [];
  for (var i = 0; i < len; i++) {
    var index = Math.floor(Math.random() * ALPHA_LEN);
    chars.push(ALPHA[index]);
  }
  return chars.join("");
};
/* harmony default export */ __webpack_exports__["default"] = (uploadFile);

/***/ }),

/***/ "./src/components/PageContainer.jsx":
/*!******************************************!*\
  !*** ./src/components/PageContainer.jsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PageContainer = function PageContainer(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container page-container"
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (PageContainer);

/***/ }),

/***/ "./src/components/PageHeader/PageHeader.jsx":
/*!**************************************************!*\
  !*** ./src/components/PageHeader/PageHeader.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeader = function PageHeader(_ref) {
  var children = _ref.children,
    className = _ref.className,
    styleName = _ref.styleName;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header", className, styleName && "page-header-" + styleName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-bg-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-bg-overlay"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-image"
  }), children)));
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeader);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderBanner.jsx":
/*!********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderBanner.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderBanner = function PageHeaderBanner(_ref) {
  var children = _ref.children,
    className = _ref.className,
    styleName = _ref.styleName;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-banner", className, styleName && "page-header-banner-" + styleName)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-banner-bg-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "page-header-banner-bg-overlay"
  }, children)));
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderBanner);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderContainer.jsx":
/*!***********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderContainer.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PageHeaderContainer = function PageHeaderContainer(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container page-header-container"
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderContainer);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderDetails.jsx":
/*!*********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderDetails.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderDetails = function PageHeaderDetails(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-details", className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderDetails);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderHTMLMessage.jsx":
/*!*************************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderHTMLMessage.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderHTMLMessage = function PageHeaderHTMLMessage(_ref) {
  var className = _ref.className,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-message", className),
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderHTMLMessage);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderMessage.jsx":
/*!*********************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderMessage.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var PageHeaderMessage = function PageHeaderMessage(_ref) {
  var children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("page-header-message", className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderMessage);

/***/ }),

/***/ "./src/components/PageHeader/PageHeaderPlain.jsx":
/*!*******************************************************!*\
  !*** ./src/components/PageHeader/PageHeaderPlain.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageHeader */ "./src/components/PageHeader/PageHeader.jsx");
/* harmony import */ var _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageHeaderBanner */ "./src/components/PageHeader/PageHeaderBanner.jsx");
/* harmony import */ var _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageHeaderContainer */ "./src/components/PageHeader/PageHeaderContainer.jsx");
/* harmony import */ var _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PageHeaderDetails */ "./src/components/PageHeader/PageHeaderDetails.jsx");





var PageHeaderPlain = function PageHeaderPlain(_ref) {
  var styleName = _ref.styleName,
    header = _ref.header,
    message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderContainer__WEBPACK_IMPORTED_MODULE_3__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_1__["default"], {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderBanner__WEBPACK_IMPORTED_MODULE_2__["default"], {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, header)), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeaderDetails__WEBPACK_IMPORTED_MODULE_4__["default"], {
    styleName: styleName
  }, message)));
};
/* harmony default export */ __webpack_exports__["default"] = (PageHeaderPlain);

/***/ }),

/***/ "./src/components/PageHeader/index.js":
/*!********************************************!*\
  !*** ./src/components/PageHeader/index.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageHeader": function() { return /* reexport safe */ _PageHeader__WEBPACK_IMPORTED_MODULE_0__["default"]; },
/* harmony export */   "PageHeaderBanner": function() { return /* reexport safe */ _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_1__["default"]; },
/* harmony export */   "PageHeaderContainer": function() { return /* reexport safe */ _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_2__["default"]; },
/* harmony export */   "PageHeaderDetails": function() { return /* reexport safe */ _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_3__["default"]; },
/* harmony export */   "PageHeaderHTMLMessage": function() { return /* reexport safe */ _PageHeaderHTMLMessage__WEBPACK_IMPORTED_MODULE_4__["default"]; },
/* harmony export */   "PageHeaderMessage": function() { return /* reexport safe */ _PageHeaderMessage__WEBPACK_IMPORTED_MODULE_5__["default"]; },
/* harmony export */   "PageHeaderPlain": function() { return /* reexport safe */ _PageHeaderPlain__WEBPACK_IMPORTED_MODULE_6__["default"]; }
/* harmony export */ });
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageHeader */ "./src/components/PageHeader/PageHeader.jsx");
/* harmony import */ var _PageHeaderBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageHeaderBanner */ "./src/components/PageHeader/PageHeaderBanner.jsx");
/* harmony import */ var _PageHeaderContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageHeaderContainer */ "./src/components/PageHeader/PageHeaderContainer.jsx");
/* harmony import */ var _PageHeaderDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageHeaderDetails */ "./src/components/PageHeader/PageHeaderDetails.jsx");
/* harmony import */ var _PageHeaderHTMLMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PageHeaderHTMLMessage */ "./src/components/PageHeader/PageHeaderHTMLMessage.jsx");
/* harmony import */ var _PageHeaderMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PageHeaderMessage */ "./src/components/PageHeader/PageHeaderMessage.jsx");
/* harmony import */ var _PageHeaderPlain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PageHeaderPlain */ "./src/components/PageHeader/PageHeaderPlain.jsx");









/***/ }),

/***/ "./src/components/RegisterLegalFootnote.js":
/*!*************************************************!*\
  !*** ./src/components/RegisterLegalFootnote.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");



var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';
var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
    privacyPolicy = props.privacyPolicy,
    termsOfService = props.termsOfService,
    onPrivacyPolicyChange = props.onPrivacyPolicyChange,
    onTermsOfServiceChange = props.onTermsOfServiceChange;
  var termsOfServiceId = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("TERMS_OF_SERVICE_ID");
  var termsOfServiceUrl = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("TERMS_OF_SERVICE_URL");
  var privacyPolicyId = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("PRIVACY_POLICY_ID");
  var privacyPolicyUrl = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("PRIVACY_POLICY_URL");
  if (!termsOfServiceId && !privacyPolicyId) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LegalAgreement, {
    agreement: gettext("the terms of service"),
    checked: termsOfService !== null,
    errors: errors.termsOfService,
    url: termsOfServiceUrl,
    value: termsOfServiceId,
    onChange: onTermsOfServiceChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LegalAgreement, {
    agreement: gettext("the privacy policy"),
    checked: privacyPolicy !== null,
    errors: errors.privacyPolicy,
    url: privacyPolicyUrl,
    value: privacyPolicyId,
    onChange: onPrivacyPolicyChange
  }));
};
var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
    checked = props.checked,
    errors = props.errors,
    url = props.url,
    value = props.value,
    onChange = props.onChange;
  if (!url) return null;
  var agreementHtml = interpolate(AGREEMENT_URL, {
    agreement: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(agreement),
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(url)
  }, true);
  var label = interpolate(gettext("I have read and accept %(agreement)s."), {
    agreement: agreementHtml
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "checkbox legal-footnote"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {
    checked: checked,
    type: "checkbox",
    value: value,
    onChange: onChange
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    dangerouslySetInnerHTML: {
      __html: label
    }
  })), errors && errors.map(function (error, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "help-block errors",
      key: i
    }, error);
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (RegisterLegalFootnote);

/***/ }),

/***/ "./src/components/StartSocialAuth.js":
/*!*******************************************!*\
  !*** ./src/components/StartSocialAuth.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
    buttonLabel = props.buttonLabel,
    formLabel = props.formLabel,
    header = props.header,
    labelClassName = props.labelClassName;
  var socialAuth = misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SOCIAL_AUTH");
  if (socialAuth.length === 0) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-group form-social-auth"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormHeader, {
    className: labelClassName,
    text: header
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, socialAuth.map(function (_ref) {
    var id = _ref.id,
      name = _ref.name,
      button_text = _ref.button_text,
      button_color = _ref.button_color,
      url = _ref.url;
    var className = "btn btn-block btn-default btn-social-" + id;
    var style = button_color ? {
      color: button_color
    } : null;
    var finalButtonLabel = button_text || interpolate(buttonLabel, {
      site: name
    }, true);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: buttonClassName || "col-xs-12",
      key: id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      style: style,
      href: url
    }, finalButtonLabel));
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormHeader, {
    className: labelClassName,
    text: formLabel
  }));
};
var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
    text = _ref2.text;
  if (!text) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", {
    className: className || ""
  }, text);
};
/* harmony default export */ __webpack_exports__["default"] = (StartSocialAuth);

/***/ }),

/***/ "./src/components/ThreadFlags.jsx":
/*!****************************************!*\
  !*** ./src/components/ThreadFlags.jsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadFlags = function ThreadFlags(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "thread-flags"
  }, thread.weight == 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-pinned-globally",
    title: gettext("Pinned globally")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark")), thread.weight == 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-pinned-locally",
    title: gettext("Pinned in category")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark_outline")), thread.best_answer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-answered",
    title: gettext("Answered")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_circle")), thread.has_poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-poll",
    title: gettext("Poll")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "poll")), (thread.is_unapproved || thread.has_unapproved_posts) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-unapproved",
    title: thread.is_unapproved ? gettext("Awaiting approval") : gettext("Has unapproved posts")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility")), thread.is_closed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-closed",
    title: gettext("Closed")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock")), thread.is_hidden && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "thread-flag-hidden",
    title: gettext("Hidden")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility_off")));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadFlags);

/***/ }),

/***/ "./src/components/ThreadReplies.jsx":
/*!******************************************!*\
  !*** ./src/components/ThreadReplies.jsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadReplies = function ThreadReplies(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-replies",
    title: interpolate(ngettext("%(replies)s reply", "%(replies)s replies", thread.replies), {
      replies: thread.replies
    }, true)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chat_bubble_outline"), thread.replies > 980 ? Math.round(thread.replies / 1000) + "K" : thread.replies);
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadReplies);

/***/ }),

/***/ "./src/components/ThreadStarterCard.jsx":
/*!**********************************************!*\
  !*** ./src/components/ThreadStarterCard.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./avatar */ "./src/components/avatar.js");


var ThreadStarterCard = function ThreadStarterCard(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-media"
  }, thread.starter ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: thread.url.starter
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 40,
    user: thread.starter
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 40
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "thread-user-card-header"
  }, thread.starter ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: thread.url.starter,
    title: gettext("Thread author")
  }, thread.starter.username) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title",
    title: gettext("Thread author")
  }, thread.starter_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "text-muted",
    title: interpolate(gettext("Started on: %(timestamp)s"), {
      timestamp: thread.started_on.format("LLL")
    }, true)
  }, thread.started_on.fromNow()))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadStarterCard);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsList.jsx":
/*!****************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsList.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ThreadsListEmpty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThreadsListEmpty */ "./src/components/ThreadsList/ThreadsListEmpty.jsx");
/* harmony import */ var _ThreadsListItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreadsListItem */ "./src/components/ThreadsList/ThreadsListItem.jsx");
/* harmony import */ var _ThreadsListLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadsListLoader */ "./src/components/ThreadsList/ThreadsListLoader.jsx");
/* harmony import */ var _ThreadsListUpdatePrompt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadsListUpdatePrompt */ "./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx");





var ThreadsList = function ThreadsList(_ref) {
  var list = _ref.list,
    categories = _ref.categories,
    category = _ref.category,
    threads = _ref.threads,
    busyThreads = _ref.busyThreads,
    selection = _ref.selection,
    isLoaded = _ref.isLoaded,
    showOptions = _ref.showOptions,
    updatedThreads = _ref.updatedThreads,
    applyUpdate = _ref.applyUpdate,
    emptyMessage = _ref.emptyMessage;
  if (!isLoaded) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListLoader__WEBPACK_IMPORTED_MODULE_3__["default"], {
      showOptions: showOptions
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list"
  }, threads.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-group"
  }, updatedThreads > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListUpdatePrompt__WEBPACK_IMPORTED_MODULE_4__["default"], {
    threads: updatedThreads,
    onClick: applyUpdate
  }), threads.map(function (thread) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
      key: thread.id,
      activeCategory: category,
      categories: categories,
      thread: thread,
      showOptions: showOptions,
      showSubscription: showOptions && list.type === "subscribed",
      isBusy: busyThreads.indexOf(thread.id) >= 0,
      isSelected: selection.indexOf(thread.id) >= 0
    });
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-group"
  }, updatedThreads > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListUpdatePrompt__WEBPACK_IMPORTED_MODULE_4__["default"], {
    threads: updatedThreads,
    onClick: applyUpdate
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListEmpty__WEBPACK_IMPORTED_MODULE_1__["default"], {
    category: category,
    list: list,
    message: emptyMessage
  })));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsList);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListEmpty.jsx":
/*!*********************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListEmpty.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadsListEmpty = function ThreadsListEmpty(_ref) {
  var category = _ref.category,
    list = _ref.list,
    message = _ref.message;
  if (list.type === "all") {
    if (message) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
        className: "list-group-item empty-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
        className: "lead"
      }, message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("Why not start one yourself?")));
    }
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "list-group-item empty-message"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      className: "lead"
    }, category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("Why not start one yourself?")));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item empty-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("No threads matching specified criteria were found.")));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListEmpty);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItem.jsx":
/*!********************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItem.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ThreadFlags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ThreadFlags */ "./src/components/ThreadFlags.jsx");
/* harmony import */ var _ThreadReplies__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ThreadReplies */ "./src/components/ThreadReplies.jsx");
/* harmony import */ var _ThreadsListItemActivity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadsListItemActivity */ "./src/components/ThreadsList/ThreadsListItemActivity.jsx");
/* harmony import */ var _ThreadsListItemCategory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadsListItemCategory */ "./src/components/ThreadsList/ThreadsListItemCategory.jsx");
/* harmony import */ var _ThreadsListItemCheckbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadsListItemCheckbox */ "./src/components/ThreadsList/ThreadsListItemCheckbox.jsx");
/* harmony import */ var _ThreadsListItemIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThreadsListItemIcon */ "./src/components/ThreadsList/ThreadsListItemIcon.jsx");
/* harmony import */ var _ThreadsListItemLastPoster__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ThreadsListItemLastPoster */ "./src/components/ThreadsList/ThreadsListItemLastPoster.jsx");
/* harmony import */ var _ThreadsListItemSubscription__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ThreadsListItemSubscription */ "./src/components/ThreadsList/ThreadsListItemSubscription.jsx");









var ThreadsListItem = function ThreadsListItem(_ref) {
  var activeCategory = _ref.activeCategory,
    categories = _ref.categories,
    showOptions = _ref.showOptions,
    showSubscription = _ref.showSubscription,
    thread = _ref.thread,
    isBusy = _ref.isBusy,
    isSelected = _ref.isSelected;
  var parent = null;
  var category = null;
  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
    if (category.parent && category.parent !== activeCategory.id && categories[category.parent] && !categories[category.parent].special_role) {
      parent = categories[category.parent];
    }
  }
  var hasFlags = thread.is_closed || thread.is_hidden || thread.is_unapproved || thread.weight > 0 || thread.best_answer || thread.has_poll || thread.has_unapproved_posts;
  var isNew = showOptions ? thread.is_new : true;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item threads-list-item" + (isBusy ? " threads-list-item-is-busy" : "")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-top-row"
  }, showOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: thread.url.index,
    className: "threads-list-item-title"
  }, thread.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: isNew ? thread.url.new_post : thread.url.index,
    className: "threads-list-item-title-sm" + (isNew ? " threads-list-item-title-new" : "")
  }, thread.title)), showOptions && thread.moderation.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-checkbox-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemCheckbox__WEBPACK_IMPORTED_MODULE_5__["default"], {
    checked: isSelected,
    disabled: isBusy,
    thread: thread
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-bottom-row"
  }, hasFlags && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-flags"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadFlags__WEBPACK_IMPORTED_MODULE_1__["default"], {
    thread: thread
  })), !!category && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-category"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemCategory__WEBPACK_IMPORTED_MODULE_4__["default"], {
    parent: parent,
    category: category
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-spacer-xs"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-replies"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplies__WEBPACK_IMPORTED_MODULE_2__["default"], {
    thread: thread
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemLastPoster__WEBPACK_IMPORTED_MODULE_7__["default"], {
    thread: thread
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemActivity__WEBPACK_IMPORTED_MODULE_3__["default"], {
    thread: thread
  })), showOptions && showSubscription && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-subscription"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemSubscription__WEBPACK_IMPORTED_MODULE_8__["default"], {
    disabled: isBusy,
    thread: thread
  })), showOptions && thread.moderation.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-checkbox"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemCheckbox__WEBPACK_IMPORTED_MODULE_5__["default"], {
    checked: isSelected,
    disabled: isBusy,
    thread: thread
  }))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItem);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemActivity.jsx":
/*!****************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemActivity.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadsListItemActivity = function ThreadsListItemActivity(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: thread.url.last_post,
    className: "threads-list-item-last-activity",
    title: interpolate(gettext("Last activity: %(timestamp)s"), {
      timestamp: thread.last_post_on.format("LLL")
    }, true)
  }, thread.last_post_on.fromNow(true));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemActivity);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemCategory.jsx":
/*!****************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemCategory.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadsListItemCategory = function ThreadsListItemCategory(_ref) {
  var parent = _ref.parent,
    category = _ref.category;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, parent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: parent.url.index,
    className: getClassName(parent) + " threads-list-item-parent-category",
    style: parent.color ? {
      "--label-color": parent.color
    } : null,
    title: !!parent.short_name ? parent.name : null
  }, parent.short_name || parent.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: category.url.index,
    className: getClassName(category),
    style: category.color ? {
      "--label-color": category.color
    } : null,
    title: !!category.short_name ? category.name : null
  }, category.short_name || category.name));
};
var getClassName = function getClassName(category) {
  var className = "threads-list-item-category threads-list-category-label";
  if (category.color) {
    className += " threads-list-category-label-color";
  }
  return className;
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemCategory);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemCheckbox.jsx":
/*!****************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemCheckbox.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _reducers_selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");



var ThreadsListItemCheckbox = function ThreadsListItemCheckbox(_ref) {
  var checked = _ref.checked,
    disabled = _ref.disabled,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-icon",
    type: "button",
    disabled: disabled,
    onClick: function onClick() {
      return _services_store__WEBPACK_IMPORTED_MODULE_2__["default"].dispatch(_reducers_selection__WEBPACK_IMPORTED_MODULE_1__.item(thread.id));
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, checked ? "check_box" : "check_box_outline_blank"));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemCheckbox);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemIcon.jsx":
/*!************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemIcon.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadsListItemIcon = function ThreadsListItemIcon(_ref) {
  var thread = _ref.thread;
  var className = "threads-list-icon";
  if (!thread.is_read) className += " threads-list-icon-new";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    title: thread.is_read ? gettext("No new posts") : gettext("New posts"),
    href: thread.is_read ? thread.url.last_post : thread.url.new_post,
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, thread.is_read ? "chat_bubble_outline" : "chat_bubble"));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemIcon);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemLastPoster.jsx":
/*!******************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemLastPoster.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");


var ThreadsListItemLastPoster = function ThreadsListItemLastPoster(_ref) {
  var thread = _ref.thread;
  return !!thread.last_poster ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: thread.url.last_poster,
    className: "threads-list-item-last-poster",
    title: interpolate(gettext("Last post by: %(poster)s"), {
      poster: thread.last_poster.username
    }, true)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 32,
    user: thread.last_poster
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-poster",
    title: interpolate(gettext("Last post by: %(poster)s"), {
      poster: thread.last_poster_name
    }, true)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 32
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemLastPoster);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemSubscription.jsx":
/*!********************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemSubscription.jsx ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ThreadsListItemSubscriptionOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThreadsListItemSubscriptionOptions */ "./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx");


var ThreadsListItemSubscription = function ThreadsListItemSubscription(_ref) {
  var disabled = _ref.disabled,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-icon",
    type: "button",
    title: getSubscriptionTitle(thread.subscription),
    disabled: disabled,
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, getSubscriptionIcon(thread.subscription))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListItemSubscriptionOptions__WEBPACK_IMPORTED_MODULE_1__["default"], {
    disabled: disabled,
    thread: thread
  }));
};
var getSubscriptionTitle = function getSubscriptionTitle(subscription) {
  if (subscription === true) return gettext("Subscribed to e-mails");
  if (subscription === false) return gettext("Subscribed to alerts");
  return gettext("Not subscribed");
};
var getSubscriptionIcon = function getSubscriptionIcon(subscription) {
  if (subscription === true) return "star";
  if (subscription === false) return "star_half";
  return "star_border";
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemSubscription);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx":
/*!***************************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _reducers_threads__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var SUBSCRIPTION = {
  unsubscribe: null,
  notify: false,
  email: true
};
var ThreadsListItemSubscriptionOptions = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(ThreadsListItemSubscriptionOptions, _React$Component);
  var _super = _createSuper(ThreadsListItemSubscriptionOptions);
  function ThreadsListItemSubscriptionOptions(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, ThreadsListItemSubscriptionOptions);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (value) {
      var thread = _this.props.thread;
      _this.setState({
        loading: true
      });
      _services_store__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch((0,_reducers_threads__WEBPACK_IMPORTED_MODULE_8__.patch)(thread, {
        subscription: SUBSCRIPTION[value]
      }));
      _services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].patch(thread.api.index, [{
        op: "replace",
        path: "subscription",
        value: value
      }]).then(function () {}, function (rejection) {
        _services_store__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch((0,_reducers_threads__WEBPACK_IMPORTED_MODULE_8__.patch)(thread, {
          subscription: SUBSCRIPTION[thread.subscription]
        }));
        _services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
      }).then(function () {
        return _this.setState({
          loading: false
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      var loading = _this.state.loading;
      var _this$props = _this.props,
        disabled = _this$props.disabled,
        thread = _this$props.thread;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn-link",
        disabled: disabled || loading || thread.subscription === null,
        onClick: function onClick() {
          return _this.update("unsubscribe");
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn-link",
        disabled: disabled || loading || thread.subscription === false,
        onClick: function onClick() {
          return _this.update("notify");
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe with alert"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn-link",
        disabled: disabled || loading || thread.subscription === true,
        onClick: function onClick() {
          return _this.update("email");
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail"))));
    });
    _this.state = {
      loading: false
    };
    return _this;
  }
  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_0__["default"])(ThreadsListItemSubscriptionOptions);
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListItemSubscriptionOptions);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListLoader.jsx":
/*!**********************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListLoader.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");
/* harmony import */ var _UIPreview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UIPreview */ "./src/components/UIPreview/index.js");



var ThreadsListLoader = function ThreadsListLoader(_ref) {
  var showOptions = _ref.showOptions;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list threads-list-loader"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item threads-list-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-top-row"
  }, showOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-icon ui-preview-img"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "90"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "40"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "90"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "40"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-bottom-row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-category"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "70"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-replies"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "50"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 32
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "50"
  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item threads-list-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-top-row"
  }, showOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-icon ui-preview-img"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "30"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "60"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "30"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "60"
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-bottom-row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-category"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "55"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-replies"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "60"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 32
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "70"
  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item threads-list-item"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-top-row"
  }, showOptions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-icon ui-preview-img"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "40"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "80"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-title-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "40"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "120"
  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "80"
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-bottom-row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-category"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "75"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-replies"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "40"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 32
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "threads-list-item-col-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-item-last-activity"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UIPreview__WEBPACK_IMPORTED_MODULE_2__.UIPreviewText, {
    width: "60"
  })))))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListLoader);

/***/ }),

/***/ "./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx":
/*!****************************************************************!*\
  !*** ./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadsListUpdatePrompt = function ThreadsListUpdatePrompt(_ref) {
  var threads = _ref.threads,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item threads-list-update-prompt"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-block threads-list-update-prompt-btn",
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "cached"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "threads-list-update-prompt-message"
  }, interpolate(ngettext("There is %(threads)s new or updated thread. Click here to show it.", "There are %(threads)s new or updated threads. Click here to show them.", threads), {
    threads: threads
  }, true))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListUpdatePrompt);

/***/ }),

/***/ "./src/components/ThreadsList/index.js":
/*!*********************************************!*\
  !*** ./src/components/ThreadsList/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThreadsList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreadsList */ "./src/components/ThreadsList/ThreadsList.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_ThreadsList__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/Toolbar/Toolbar.jsx":
/*!********************************************!*\
  !*** ./src/components/Toolbar/Toolbar.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var Toolbar = function Toolbar(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("nav", {
    className: "toolbar"
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (Toolbar);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarItem.jsx":
/*!************************************************!*\
  !*** ./src/components/Toolbar/ToolbarItem.jsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarItem = function ToolbarItem(_ref) {
  var children = _ref.children,
    className = _ref.className,
    shrink = _ref.shrink;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-item", className, {
      "toolbar-item-shrink": shrink
    })
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (ToolbarItem);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarSection.jsx":
/*!***************************************************!*\
  !*** ./src/components/Toolbar/ToolbarSection.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarSection = function ToolbarSection(_ref) {
  var auto = _ref.auto,
    children = _ref.children,
    className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-section", {
      "toolbar-section-auto": auto
    }, className)
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (ToolbarSection);

/***/ }),

/***/ "./src/components/Toolbar/ToolbarSpacer.jsx":
/*!**************************************************!*\
  !*** ./src/components/Toolbar/ToolbarSpacer.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ToolbarSpacer = function ToolbarSpacer(_ref) {
  var className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("toolbar-spacer", className)
  });
};
/* harmony default export */ __webpack_exports__["default"] = (ToolbarSpacer);

/***/ }),

/***/ "./src/components/Toolbar/index.js":
/*!*****************************************!*\
  !*** ./src/components/Toolbar/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Toolbar": function() { return /* reexport safe */ _Toolbar__WEBPACK_IMPORTED_MODULE_0__["default"]; },
/* harmony export */   "ToolbarItem": function() { return /* reexport safe */ _ToolbarItem__WEBPACK_IMPORTED_MODULE_1__["default"]; },
/* harmony export */   "ToolbarSection": function() { return /* reexport safe */ _ToolbarSection__WEBPACK_IMPORTED_MODULE_2__["default"]; },
/* harmony export */   "ToolbarSpacer": function() { return /* reexport safe */ _ToolbarSpacer__WEBPACK_IMPORTED_MODULE_3__["default"]; }
/* harmony export */ });
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Toolbar */ "./src/components/Toolbar/Toolbar.jsx");
/* harmony import */ var _ToolbarItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ToolbarItem */ "./src/components/Toolbar/ToolbarItem.jsx");
/* harmony import */ var _ToolbarSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ToolbarSection */ "./src/components/Toolbar/ToolbarSection.jsx");
/* harmony import */ var _ToolbarSpacer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToolbarSpacer */ "./src/components/Toolbar/ToolbarSpacer.jsx");






/***/ }),

/***/ "./src/components/UIPreview/UIPreviewText.js":
/*!***************************************************!*\
  !*** ./src/components/UIPreview/UIPreviewText.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var UIPreviewText = function UIPreviewText(_ref) {
  var width = _ref.width;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: width + "px"
    }
  }, "\xA0");
};
/* harmony default export */ __webpack_exports__["default"] = (UIPreviewText);

/***/ }),

/***/ "./src/components/UIPreview/index.js":
/*!*******************************************!*\
  !*** ./src/components/UIPreview/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UIPreviewText": function() { return /* reexport safe */ _UIPreviewText__WEBPACK_IMPORTED_MODULE_0__["default"]; }
/* harmony export */ });
/* harmony import */ var _UIPreviewText__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIPreviewText */ "./src/components/UIPreview/UIPreviewText.js");



/***/ }),

/***/ "./src/components/accept-agreement.js":
/*!********************************************!*\
  !*** ./src/components/accept-agreement.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ AcceptAgreement; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var AcceptAgreement = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(AcceptAgreement, _React$Component);
  var _super = _createSuper(AcceptAgreement);
  function AcceptAgreement(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, AcceptAgreement);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleDecline", function () {
      if (_this.state.submiting) return;
      var confirmation = window.confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;
      _this.setState({
        submiting: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.api, {
        accept: false
      }).then(function () {
        window.location.reload(true);
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleAccept", function () {
      if (_this.state.submiting) return;
      _this.setState({
        submiting: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.api, {
        accept: true
      }).then(function () {
        window.location.reload(true);
      });
    });
    _this.state = {
      submiting: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleDecline
      }, gettext("Decline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleAccept
      }, gettext("Accept and continue")));
    }
  }]);
  return AcceptAgreement;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/add-participant.js":
/*!*******************************************!*\
  !*** ./src/components/add-participant.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUsernameChange", function (event) {
      _this.changeValue("username", event.target.value);
    });
    _this.state = {
      isLoading: false,
      username: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter user name."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].patch(this.props.thread.api.index, [{
        op: "add",
        path: "participants",
        value: this.state.username
      }, {
        op: "add",
        path: "acl",
        value: 1
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.updateAcl)(data));
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_10__.replace(data.participants));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("New participant has been added to thread."));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "id_username",
        label: gettext("User to add")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onUsernameChange,
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-block btn-primary",
        disabled: this.state.isLoading
      }, gettext("Add participant")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-block btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel"))))));
    }
  }]);
  return _default;
}(_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Add participant")));
}

/***/ }),

/***/ "./src/components/auth-message.js":
/*!****************************************!*\
  !*** ./src/components/auth-message.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), {
          username: this.props.signedIn.username
        }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), {
          username: this.props.user.username
        }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";
      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: className
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        type: "button",
        onClick: this.refresh
      }, gettext("Reload page")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "hidden-xs hidden-sm"
      }, " " + gettext("or press F5 key.")))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

/***/ }),

/***/ "./src/components/avatar.js":
/*!**********************************!*\
  !*** ./src/components/avatar.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getSrc": function() { return /* binding */ getSrc; },
/* harmony export */   "resolveAvatarForSize": function() { return /* binding */ resolveAvatarForSize; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
}
function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("BLANK_AVATAR_URL");
  }
}
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

/***/ }),

/***/ "./src/components/banned-page.js":
/*!***************************************!*\
  !*** ./src/components/banned-page.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", {
          className: "lead"
        }, this.props.message.plain);
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter(moment__WEBPACK_IMPORTED_MODULE_5___default()())) {
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.props.expires.format("LL, LT")
          }, true);
          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.props.expires.fromNow()
          }, true);
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("abbr", {
            title: title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "page page-error page-error-banned"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
        className: "material-icon"
      }, "highlight_off")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "message-body"
      }, this.getReasonMessage(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", {
        className: "message-footnote"
      }, this.getExpirationMessage())))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));


/***/ }),

/***/ "./src/components/button.js":
/*!**********************************!*\
  !*** ./src/components/button.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ Button; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var Button = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(Button, _React$Component);
  var _super = _createSuper(Button);
  function Button() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Button);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;
      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: className,
        disabled: disabled,
        onClick: this.props.onClick,
        type: this.props.onClick ? "button" : "submit"
      }, this.props.children, this.props.loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null) : null);
    }
  }]);
  return Button;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

Button.defaultProps = {
  className: "btn-default",
  type: "submit",
  loading: false,
  disabled: false,
  onClick: null
};

/***/ }),

/***/ "./src/components/categories/blankslate.js":
/*!*************************************************!*\
  !*** ./src/components/categories/blankslate.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "categories-list"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "list-group-item empty-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("No categories exist or you don't have permission to see them.")))));
}

/***/ }),

/***/ "./src/components/categories/categories-list.js":
/*!******************************************************!*\
  !*** ./src/components/categories/categories-list.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _category__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./category */ "./src/components/categories/category/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var categories = _ref.categories;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "categories-list"
  }, categories.map(function (category) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_category__WEBPACK_IMPORTED_MODULE_1__["default"], {
      category: category,
      key: category.id
    });
  }));
}

/***/ }),

/***/ "./src/components/categories/category/index.js":
/*!*****************************************************!*\
  !*** ./src/components/categories/category/index.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _list_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./list-item */ "./src/components/categories/category/list-item/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  var className = "list-group list-group-category";
  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-category-" + category.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__["default"], {
    category: category,
    isFirst: true
  }), category.subcategories.map(function (category) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__["default"], {
      category: category,
      isFirst: false,
      key: category.id
    });
  }));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/description.js":
/*!*********************************************************************!*\
  !*** ./src/components/categories/category/list-item/description.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  if (!category.description) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
}

/***/ }),

/***/ "./src/components/categories/category/list-item/icon.js":
/*!**************************************************************!*\
  !*** ./src/components/categories/category/list-item/icon.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getClassName": function() { return /* binding */ getClassName; },
/* harmony export */   "getIcon": function() { return /* binding */ getIcon; },
/* harmony export */   "getTitle": function() { return /* binding */ getTitle; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: getClassName(category),
    title: getTitle(category)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, getIcon(category)));
}
function getClassName(category) {
  if (category.is_read) {
    return "read-status item-read";
  }
  return "read-status item-new";
}
function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }
    return gettext("This category has new posts. (closed)");
  }
  if (category.is_read) {
    return gettext("This category has no new posts.");
  }
  return gettext("This category has new posts.");
}
function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }
    return "lock";
  }
  if (category.is_read) {
    return "chat_bubble_outline";
  }
  return "chat_bubble";
}

/***/ }),

/***/ "./src/components/categories/category/list-item/index.js":
/*!***************************************************************!*\
  !*** ./src/components/categories/category/list-item/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ "./src/components/categories/category/list-item/main.js");
/* harmony import */ var _last_thread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./last-thread */ "./src/components/categories/category/list-item/last-thread.js");
/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stats */ "./src/components/categories/category/list-item/stats.js");
/* harmony import */ var _subcategories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subcategories */ "./src/components/categories/category/list-item/subcategories/index.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category,
    isFirst = _ref.isFirst;
  var className = "list-group-item";
  if (category.description) {
    className += " list-group-category-has-description";
  } else {
    className += " list-group-category-no-description";
  }
  if (isFirst) {
    className += " list-group-item-first";
  }
  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-item-category-" + category.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_main__WEBPACK_IMPORTED_MODULE_1__["default"], {
    category: category
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_stats__WEBPACK_IMPORTED_MODULE_3__["default"], {
    category: category
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_last_thread__WEBPACK_IMPORTED_MODULE_2__["default"], {
    category: category
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_subcategories__WEBPACK_IMPORTED_MODULE_4__["default"], {
    category: category,
    isFirst: isFirst
  }));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/last-thread.js":
/*!*********************************************************************!*\
  !*** ./src/components/categories/category/list-item/last-thread.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Empty": function() { return /* binding */ Empty; },
/* harmony export */   "LastPosterAvatar": function() { return /* binding */ LastPosterAvatar; },
/* harmony export */   "LastPosterName": function() { return /* binding */ LastPosterName; },
/* harmony export */   "LastThread": function() { return /* binding */ LastThread; },
/* harmony export */   "Message": function() { return /* binding */ Message; },
/* harmony export */   "Private": function() { return /* binding */ Private; },
/* harmony export */   "Protected": function() { return /* binding */ Protected; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-4 category-last-thread"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LastThread, {
    category: category
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Empty, {
    category: category
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Private, {
    category: category
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Protected, {
    category: category
  }));
}
function LastThread(_ref2) {
  var category = _ref2.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LastPosterAvatar, {
    category: category
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title thread-title",
    href: category.url.last_thread_new,
    title: category.last_thread_title
  }, category.last_thread_title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "category-last-thread-poster"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LastPosterName, {
    category: category
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "divider"
  }, "\u2014"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "category-last-thread-date"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: category.url.last_post
  }, category.last_post_on.fromNow())))));
}
function LastPosterAvatar(_ref3) {
  var category = _ref3.category;
  if (category.last_poster) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: "last-poster-avatar",
      href: category.last_poster.url,
      title: category.last_poster_name
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
      className: "media-object",
      size: 40,
      user: category.last_poster
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "last-poster-avatar",
    title: category.last_poster_name
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "media-object",
    size: 40
  }));
}
function LastPosterName(_ref4) {
  var category = _ref4.category;
  if (category.last_poster) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: "item-title",
      href: category.last_poster.url
    }, category.last_poster_name);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, category.last_poster_name);
}
function Empty(_ref5) {
  var category = _ref5.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Message, {
    message: gettext("This category is empty. No threads were posted within it so far.")
  });
}
function Private(_ref6) {
  var category = _ref6.category;
  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}
function Protected(_ref7) {
  var category = _ref7.category;
  if (category.acl.can_browse) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Message, {
    message: gettext("This category is protected. You can't browse its contents.")
  });
}
function Message(_ref8) {
  var message = _ref8.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media category-thread-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, message)));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/main.js":
/*!**************************************************************!*\
  !*** ./src/components/categories/category/list-item/main.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _description__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./description */ "./src/components/categories/category/list-item/description.js");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icon */ "./src/components/categories/category/list-item/icon.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-6 category-main"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    category: category
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: category.url.index
  }, category.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_description__WEBPACK_IMPORTED_MODULE_1__["default"], {
    category: category
  }))));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/stats.js":
/*!***************************************************************!*\
  !*** ./src/components/categories/category/list-item/stats.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Posts": function() { return /* binding */ Posts; },
/* harmony export */   "Threads": function() { return /* binding */ Threads; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-2 hidden-xs hidden-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled category-stats"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Threads, {
    threads: category.threads
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Posts, {
    posts: category.posts
  })));
}
function Threads(_ref2) {
  var threads = _ref2.threads;
  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "category-stat-threads"
  }, interpolate(message, {
    threads: threads
  }, true));
}
function Posts(_ref3) {
  var posts = _ref3.posts;
  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "category-stat-posts"
  }, interpolate(message, {
    posts: posts
  }, true));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/subcategories/index.js":
/*!*****************************************************************************!*\
  !*** ./src/components/categories/category/list-item/subcategories/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _list_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./list-item */ "./src/components/categories/category/list-item/subcategories/list-item.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category,
    isFirst = _ref.isFirst;
  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row subcategories-list"
  }, category.subcategories.map(function (category) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_list_item__WEBPACK_IMPORTED_MODULE_1__["default"], {
      category: category,
      key: category.id
    });
  }));
}

/***/ }),

/***/ "./src/components/categories/category/list-item/subcategories/list-item.js":
/*!*********************************************************************************!*\
  !*** ./src/components/categories/category/list-item/subcategories/list-item.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getIcon": function() { return /* binding */ getIcon; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var category = _ref.category;
  var className = "btn btn-default btn-block btn-sm btn-subcategory";
  if (!category.is_read) {
    className += " btn-subcategory-new";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-sm-4 col-md-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: className,
    href: category.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, getIcon(category)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "icon-text"
  }, category.name)));
}
function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }
    return "lock";
  }
  if (category.is_read) {
    return "chat_bubble_outline";
  }
  return "chat_bubble";
}

/***/ }),

/***/ "./src/components/categories/index.js":
/*!********************************************!*\
  !*** ./src/components/categories/index.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _blankslate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./blankslate */ "./src/components/categories/blankslate.js");
/* harmony import */ var _categories_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./categories-list */ "./src/components/categories/categories-list.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? moment__WEBPACK_IMPORTED_MODULE_7___default()(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    });
    _this.state = {
      categories: misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("CATEGORIES").map(hydrate)
    };
    _this.startPolling(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("CATEGORIES_API"));
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_12__["default"].start({
        poll: "categories",
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var categories = this.state.categories;
      if (categories.length === 0) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_blankslate__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_categories_list__WEBPACK_IMPORTED_MODULE_10__["default"], {
        categories: categories
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function select(store) {
  return {
    tick: store.tick.tick
  };
}

/***/ }),

/***/ "./src/components/category-select.js":
/*!*******************************************!*\
  !*** ./src/components/category-select.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("select", {
    className: props.className || "form-control",
    disabled: props.disabled || false,
    id: props.id || null,
    onChange: props.onChange,
    value: props.value
  }, props.choices.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option", {
      disabled: item.disabled || false,
      key: item.value,
      value: item.value
    }, "- - ".repeat(item.level) + item.label);
  }));
}

/***/ }),

/***/ "./src/components/change-avatar/crop.js":
/*!**********************************************!*\
  !*** ./src/components/change-avatar/crop.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "cropAvatar", function () {
      if (_this.state.isLoading) {
        return false;
      }
      _this.setState({
        isLoading: true
      });
      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");
      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });
    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();
      var initialWidth = cropit.width();
      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }
      var deviceRatio = this.getAvatarSize() / cropperWidth;
      cropit.width(cropperWidth);
      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize");

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;
            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-crop"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "crop-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "cropit-preview"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "range",
        className: "cropit-image-zoom-input"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.cropAvatar,
        loading: this.state.isLoading,
        className: "btn-primary btn-block"
      }, this.props.upload ? gettext("Set avatar") : gettext("Crop image")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/gallery.js":
/*!*************************************************!*\
  !*** ./src/components/change-avatar/gallery.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Gallery": function() { return /* binding */ Gallery; },
/* harmony export */   "GalleryItem": function() { return /* binding */ GalleryItem; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_batch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/batch */ "./src/utils/batch.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var GalleryItem = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(GalleryItem, _React$Component);
  var _super = _createSuper(GalleryItem);
  function GalleryItem() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, GalleryItem);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "select", function () {
      _this.props.select(_this.props.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.select
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("img", {
        src: this.props.url
      }));
    }
  }]);
  return GalleryItem;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Gallery = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(Gallery, _React$Component2);
  var _super2 = _createSuper(Gallery);
  function Gallery() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Gallery);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Gallery, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "avatars-gallery"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", null, this.props.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "avatars-gallery-images"
      }, (0,misago_utils_batch__WEBPACK_IMPORTED_MODULE_14__["default"])(this.props.images, 4, null).map(function (row, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "row",
          key: i
        }, row.map(function (item, i) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "col-xs-3",
            key: i
          }, item ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(GalleryItem, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
            disabled: _this2.props.disabled,
            select: _this2.props.select,
            selection: _this2.props.selection
          }, item)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "blank-avatar"
          }));
        }));
      })));
    }
  }]);
  return Gallery;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var _default = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component3);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this3 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this3), "select", function (image) {
      _this3.setState({
        selection: image
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this3), "save", function () {
      if (_this3.state.isLoading) {
        return false;
      }
      _this3.setState({
        isLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(_this3.props.user.api.avatar, {
        avatar: "galleries",
        image: _this3.state.selection
      }).then(function (response) {
        _this3.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].success(response.detail);
        _this3.props.onComplete(response);
        _this3.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(rejection.detail);
          _this3.setState({
            isLoading: false
          });
        } else {
          _this3.props.showError(rejection);
        }
      });
    });
    _this3.state = {
      selection: null,
      isLoading: false
    };
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this4 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body modal-avatar-gallery"
      }, this.props.options.galleries.map(function (item, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Gallery, {
          name: item.name,
          images: item.images,
          selection: _this4.state.selection,
          disabled: _this4.state.isLoading,
          select: _this4.select,
          key: i
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onClick: this.save,
        loading: this.state.isLoading,
        disabled: !this.state.selection,
        className: "btn-primary btn-block"
      }, this.state.selection ? gettext("Save choice") : gettext("Select avatar")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel"))))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/index.js":
/*!***********************************************!*\
  !*** ./src/components/change-avatar/index.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setGravatar", function () {
      _this.callApi("gravatar");
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setGenerated", function () {
      _this.callApi("generated");
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;
      if (this.state.isLoading) {
        return false;
      }
      this.setState({
        isLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(rejection.detail);
          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
          onClick: this.setGravatar,
          disabled: this.state.isLoading,
          className: "btn-default btn-block btn-avatar-gravatar"
        }, gettext("Download my Gravatar"));
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-crop",
        disabled: this.state.isLoading,
        onClick: this.props.showCrop
      }, gettext("Re-crop uploaded image"));
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-upload",
        disabled: this.state.isLoading,
        onClick: this.props.showUpload
      }, gettext("Upload new image"));
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-block btn-avatar-gallery",
        disabled: this.state.isLoading,
        onClick: this.props.showGallery
      }, gettext("Pick avatar from gallery"));
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };
      if (this.state.isLoading) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "avatar-preview preview-loading"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
          size: "200",
          user: userPeview
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_10__["default"], null));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "avatar-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
        size: "200",
        user: userPeview
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-index"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-5"
      }, this.getAvatarPreview()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-7"
      }, this.getGravatarButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.setGenerated,
        disabled: this.state.isLoading,
        className: "btn-default btn-block btn-avatar-generate"
      }, gettext("Generate my individual avatar")), this.getCropButton(), this.getUploadButton(), this.getGalleryButton())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/change-avatar/root.js":
/*!**********************************************!*\
  !*** ./src/components/change-avatar/root.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChangeAvatarError": function() { return /* binding */ ChangeAvatarError; },
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/change-avatar/index */ "./src/components/change-avatar/index.js");
/* harmony import */ var misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/change-avatar/crop */ "./src/components/change-avatar/crop.js");
/* harmony import */ var misago_components_change_avatar_upload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/change-avatar/upload */ "./src/components/change-avatar/upload.js");
/* harmony import */ var misago_components_change_avatar_gallery__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/change-avatar/gallery */ "./src/components/change-avatar/gallery.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var ChangeAvatarError = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ChangeAvatarError, _React$Component);
  var _super = _createSuper(ChangeAvatarError);
  function ChangeAvatarError() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ChangeAvatarError);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
          dangerouslySetInnerHTML: {
            __html: this.props.reason
          }
        });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "remove_circle_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getErrorReason(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);
  return ChangeAvatarError;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super2 = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showError", function (error) {
      _this.setState({
        error: error
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showIndex", function () {
      _this.setState({
        component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showUpload", function () {
      _this.setState({
        component: misago_components_change_avatar_upload__WEBPACK_IMPORTED_MODULE_10__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showCrop", function () {
      _this.setState({
        component: misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_9__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "showGallery", function () {
      _this.setState({
        component: misago_components_change_avatar_gallery__WEBPACK_IMPORTED_MODULE_11__["default"]
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this), "completeFlow", function (options) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_13__.updateAvatar)(_this.props.user, options.avatars));
      _this.setState({
        component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"],
        options: options
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].get(this.props.user.api.avatar).then(function (options) {
        _this2.setState({
          component: misago_components_change_avatar_index__WEBPACK_IMPORTED_MODULE_8__["default"],
          options: options,
          error: null
        });
      }, function (rejection) {
        _this2.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_12__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Change your avatar"))), this.getBody()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function select(state) {
  return {
    user: state.auth.user
  };
}

/***/ }),

/***/ "./src/components/change-avatar/upload.js":
/*!************************************************!*\
  !*** ./src/components/change-avatar/upload.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/change-avatar/crop */ "./src/components/change-avatar/crop.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/utils/file-size */ "./src/utils/file-size.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pickFile", function () {
      document.getElementById("avatar-hidden-upload").click();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "uploadFile", function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;
      var validationError = _this.validateFile(image);
      if (validationError) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(validationError);
        return;
      }
      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });
      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail);
          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });
    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          filesize: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__["default"])(image.size)
        }, true);
      }
      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }
      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });
      if (!extensionFound) {
        return invalidTypeMsg;
      }
      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });
      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_12__["default"])(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-pick-file",
        onClick: this.pickFile
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "material-icon"
      }, "input"), gettext("Select file")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "text-muted"
      }, this.getUploadRequirements(this.props.options.upload)));
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "upload-progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("img", {
        src: this.state.preview
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "progress-bar",
        role: "progressbar",
        "aria-valuenow": "{this.state.progress}",
        "aria-valuemin": "0",
        "aria-valuemax": "100",
        style: {
          width: this.state.progress + "%"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "sr-only"
      }, this.getUploadProgressLabel())))));
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "file",
        id: "avatar-hidden-upload",
        className: "hidden-file-upload",
        onChange: this.uploadFile
      }), this.state.image ? this.getUploadProgress() : this.getUploadButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        onClick: this.props.showIndex,
        disabled: !!this.state.image,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_change_avatar_crop__WEBPACK_IMPORTED_MODULE_8__["default"], {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();
      return this.renderUpload();
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/edit-details/blankslate.js":
/*!***************************************************!*\
  !*** ./src/components/edit-details/blankslate.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_1__["default"], {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
}

/***/ }),

/***/ "./src/components/edit-details/field-input.js":
/*!****************************************************!*\
  !*** ./src/components/edit-details/field-input.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (ev) {
      var _this$props = _this.props,
        field = _this$props.field,
        onChange = _this$props.onChange;
      onChange(field.fieldname, ev.target.value);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        disabled = _this$props2.disabled,
        field = _this$props2.field,
        value = _this$props2.value;
      var input = field.input;
      if (input.type === "select") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_8__["default"], {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }
      if (input.type === "textarea") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }
      if (input.type === "text") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }
      return null;
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/edit-details/fieldset.js":
/*!*************************************************!*\
  !*** ./src/components/edit-details/fieldset.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-input */ "./src/components/edit-details/field-input.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var disabled = _ref.disabled,
    errors = _ref.errors,
    fields = _ref.fields,
    name = _ref.name,
    onChange = _ref.onChange,
    value = _ref.value;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("legend", null, name), fields.map(function (field) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_2__["default"], {
      for: "id_" + field.fieldname,
      helpText: field.help_text,
      key: field.fieldname,
      label: field.label,
      validation: errors[field.fieldname]
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field_input__WEBPACK_IMPORTED_MODULE_1__["default"], {
      disabled: disabled,
      field: field,
      onChange: onChange,
      value: value[field.fieldname]
    }));
  }));
}

/***/ }),

/***/ "./src/components/edit-details/form.js":
/*!*********************************************!*\
  !*** ./src/components/edit-details/form.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CancelButton": function() { return /* binding */ CancelButton; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _fieldset__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./fieldset */ "./src/components/edit-details/fieldset.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (name, value) {
      _this.setState((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, name, value));
    });
    _this.state = {
      isLoading: false,
      errors: {}
    };
    var groups = props.groups.length;
    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;
      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: rejection
        });
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, this.props.groups.map(function (group, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_fieldset__WEBPACK_IMPORTED_MODULE_8__["default"], {
          disabled: _this2.state.isLoading,
          errors: _this2.state.errors,
          fields: group.fields,
          name: group.name,
          key: i,
          onChange: _this2.onChange,
          value: _this2.state
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(CancelButton, {
        disabled: this.state.isLoading,
        onCancel: this.props.onCancel
      }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);

function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
    disabled = _ref.disabled;
  if (!onCancel) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default",
    disabled: disabled,
    onClick: onCancel,
    type: "button"
  }, gettext("Cancel"));
}

/***/ }),

/***/ "./src/components/edit-details/index.js":
/*!**********************************************!*\
  !*** ./src/components/edit-details/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormDisplay": function() { return /* binding */ FormDisplay; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _blankslate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blankslate */ "./src/components/edit-details/blankslate.js");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loader */ "./src/components/edit-details/loader.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/edit-details/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,
          groups: groups
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
        groups = _this$state.groups,
        loading = _this$state.loading;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Edit details"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_7__["default"], {
        display: loading
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blankslate__WEBPACK_IMPORTED_MODULE_6__["default"], {
        display: !loading && !groups.length
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(FormDisplay, {
        api: this.props.api,
        display: !loading && groups.length,
        groups: groups,
        onCancel: this.props.onCancel,
        onSuccess: this.props.onSuccess
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function FormDisplay(_ref) {
  var api = _ref.api,
    display = _ref.display,
    groups = _ref.groups,
    onCancel = _ref.onCancel,
    onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_form__WEBPACK_IMPORTED_MODULE_8__["default"], {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

/***/ }),

/***/ "./src/components/edit-details/loader.js":
/*!***********************************************!*\
  !*** ./src/components/edit-details/loader.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_1__["default"], null));
}

/***/ }),

/***/ "./src/components/editor/actions/action.js":
/*!*************************************************!*\
  !*** ./src/components/editor/actions/action.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _this.props.replaceSelection(_this.props.execAction);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-icon " + this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: this.props.title,
        type: "button"
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/editor/actions/code.js":
/*!***********************************************!*\
  !*** ./src/components/editor/actions/code.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertCode": function() { return /* binding */ insertCode; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertCode,
    title: gettext("Insert code")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "functions"));
}
function insertCode(selection, replace) {
  var syntax = $.trim(prompt(gettext("Enter name of syntax of your code (optional)") + ":"));
  replace("\n\n```" + syntax + "\n" + selection + "\n```\n\n");
}

/***/ }),

/***/ "./src/components/editor/actions/emphasis.js":
/*!***************************************************!*\
  !*** ./src/components/editor/actions/emphasis.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "makeEmphasis": function() { return /* binding */ makeEmphasis; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: makeEmphasis,
    title: gettext("Emphase selection")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "format_italic"));
}
function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace("*" + selection + "*");
  }
}

/***/ }),

/***/ "./src/components/editor/actions/hr.js":
/*!*********************************************!*\
  !*** ./src/components/editor/actions/hr.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertHr": function() { return /* binding */ insertHr; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertHr,
    title: gettext("Insert horizontal ruler")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "remove"));
}
function insertHr(selection, replace) {
  replace("\n\n- - - - -\n\n");
}

/***/ }),

/***/ "./src/components/editor/actions/image.js":
/*!************************************************!*\
  !*** ./src/components/editor/actions/image.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertImage": function() { return /* binding */ insertImage; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");
/* harmony import */ var misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/is-url */ "./src/utils/is-url.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertImage,
    title: gettext("Insert image")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "insert_photo"));
}
function insertImage(selection, replace) {
  var url = "";
  var label = "";
  if (selection.length) {
    if ((0,misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__["default"])(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }
  url = $.trim(prompt(gettext("Enter link to image") + ":", url));
  if (url.length) {
    label = $.trim(prompt(gettext("Enter image label (optional)") + ":", label));
    if (label.length > 0) {
      replace("![" + label + "](" + url + ")");
    } else {
      replace("!(" + url + ")");
    }
  }
}

/***/ }),

/***/ "./src/components/editor/actions/link.js":
/*!***********************************************!*\
  !*** ./src/components/editor/actions/link.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertLink": function() { return /* binding */ insertLink; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");
/* harmony import */ var misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/is-url */ "./src/utils/is-url.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertLink,
    title: gettext("Insert link")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "insert_link"));
}
function insertLink(selection, replace) {
  var url = "";
  var label = "";
  if (selection.length) {
    if ((0,misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__["default"])(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }
  url = $.trim(prompt(gettext("Enter link address") + ":", url) || "");
  if (url.length === 0) return false;
  label = $.trim(prompt(gettext("Enter link label (optional)") + ":", label));
  if (url.length) {
    if (label.length > 0) {
      replace("[" + label + "](" + url + ")");
    } else {
      replace(url);
    }
  }
}

/***/ }),

/***/ "./src/components/editor/actions/quote.js":
/*!************************************************!*\
  !*** ./src/components/editor/actions/quote.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertQuote": function() { return /* binding */ insertQuote; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");
/* harmony import */ var misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/is-url */ "./src/utils/is-url.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertQuote,
    title: gettext("Insert quote")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "format_quote"));
}
function insertQuote(selection, replace) {
  var title = $.trim(prompt(gettext("Enter quote autor, prefix usernames with @") + ":", title));
  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + "\n[/quote]\n\n");
  } else {
    replace("\n\n[quote]\n" + selection + "\n[/quote]\n\n");
  }
}

/***/ }),

/***/ "./src/components/editor/actions/spoiler.js":
/*!**************************************************!*\
  !*** ./src/components/editor/actions/spoiler.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "insertSpoiler": function() { return /* binding */ insertSpoiler; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");
/* harmony import */ var misago_utils_is_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/is-url */ "./src/utils/is-url.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: insertSpoiler,
    title: gettext("Insert spoiler")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "not_interested"));
}
function insertSpoiler(selection, replace) {
  replace("\n\n[spoiler]\n" + selection + "\n[/spoiler]\n\n");
}

/***/ }),

/***/ "./src/components/editor/actions/strikethrough.js":
/*!********************************************************!*\
  !*** ./src/components/editor/actions/strikethrough.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "makeStrikethrough": function() { return /* binding */ makeStrikethrough; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: makeStrikethrough,
    title: gettext("Strikethrough selection")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "format_strikethrough"));
}
function makeStrikethrough(selection, replace) {
  if (selection.length) {
    replace("~~" + selection + "~~");
  }
}

/***/ }),

/***/ "./src/components/editor/actions/strong.js":
/*!*************************************************!*\
  !*** ./src/components/editor/actions/strong.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "makeStrong": function() { return /* binding */ makeStrong; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./src/components/editor/actions/action.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_action__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    execAction: makeStrong,
    title: gettext("Bolder selection")
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "format_bold"));
}
function makeStrong(selection, replace) {
  if (selection.length) {
    replace("**" + selection + "**");
  }
}

/***/ }),

/***/ "./src/components/editor/attachments/attachment/complete.js":
/*!******************************************************************!*\
  !*** ./src/components/editor/attachments/attachment/complete.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Actions": function() { return /* binding */ Actions; },
/* harmony export */   "Details": function() { return /* binding */ Details; },
/* harmony export */   "Filename": function() { return /* binding */ Filename; },
/* harmony export */   "Icon": function() { return /* binding */ Icon; },
/* harmony export */   "Image": function() { return /* binding */ Image; },
/* harmony export */   "Insert": function() { return /* binding */ Insert; },
/* harmony export */   "Preview": function() { return /* binding */ Preview; },
/* harmony export */   "Remove": function() { return /* binding */ Remove; },
/* harmony export */   "Undo": function() { return /* binding */ Undo; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");
/* harmony import */ var misago_utils_file_size__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/utils/file-size */ "./src/utils/file-size.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "onInsert", function () {
      _this.props.replaceSelection(_this.insertAttachment);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "insertAttachment", function (selection, replace) {
      var item = _this.props.item;
      if (item.is_image) {
        if (item.url.thumb) {
          replace("[![" + item.filename + "](" + item.url.thumb + ")](" + item.url.index + ")");
        } else {
          replace("[![" + item.filename + "](" + item.url.index + ")](" + item.url.index + ")");
        }
      } else {
        replace("[" + item.filename + "](" + item.url.index + ")");
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "onRemove", function () {
      _this.updateItem({
        isRemoved: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "onUndo", function () {
      _this.updateItem({
        isRemoved: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "updateItem", function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("li", {
        className: "editor-attachment-complete"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Preview, this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "editor-attachment-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Filename, this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Details, this.props))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top-half"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Actions, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        onInsert: this.onInsert,
        onRemove: this.onRemove,
        onUndo: this.onUndo
      }, this.props)))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function Preview(props) {
  if (props.item.is_image) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Image, props);
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Icon, props);
  }
}
function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "editor-attachment-image"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("a", {
    href: props.item.url.index + "?shva=1",
    style: {
      backgroundImage: "url('" + thumbnailUrl + "?shva=1')"
    },
    target: "_blank"
  }));
}
function Icon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "editor-attachment-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    className: "material-icon"
  }, "insert_drive_file"));
}
function Filename(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("a", {
    className: "item-title",
    href: props.item.url.index + "?shva=1",
    target: "_blank"
  }, props.item.filename));
}
function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(props.item.url.uploader),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(props.item.uploader_name)
    }, true);
  }
  var date = interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(props.item.uploaded_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(props.item.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_10__["default"])(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_11__["default"])(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function Actions(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "editor-attachment-actions"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Insert, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Remove, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Undo, props)));
}
function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onInsert,
    type: "button"
  }, gettext("Insert")));
}
function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onRemove,
    type: "button"
  }, gettext("Remove")));
}
function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "col-xs-12"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onUndo,
    type: "button"
  }, gettext("Undo removal")));
}

/***/ }),

/***/ "./src/components/editor/attachments/attachment/error.js":
/*!***************************************************************!*\
  !*** ./src/components/editor/attachments/attachment/error.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var STRONG = "<strong>%(name)s</strong>";
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_8__["default"])(this.props.item.filename)
      }, true);
      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + "%"
      }, true);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        className: "editor-attachment-error"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "editor-attachment-error-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "warning")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "editor-attachment-error-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        dangerouslySetInnerHTML: {
          __html: title + ":"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.props.item.error), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-sm",
        onClick: this.onClick,
        type: "button"
      }, gettext("Dismiss"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/editor/attachments/attachment/index.js":
/*!***************************************************************!*\
  !*** ./src/components/editor/attachments/attachment/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _complete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./complete */ "./src/components/editor/attachments/attachment/complete.js");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error */ "./src/components/editor/attachments/attachment/error.js");
/* harmony import */ var _upload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./upload */ "./src/components/editor/attachments/attachment/upload.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.item.id) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_complete__WEBPACK_IMPORTED_MODULE_1__["default"], props);
  }
  if (props.item.error) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_error__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_upload__WEBPACK_IMPORTED_MODULE_3__["default"], props);
}

/***/ }),

/***/ "./src/components/editor/attachments/attachment/upload.js":
/*!****************************************************************!*\
  !*** ./src/components/editor/attachments/attachment/upload.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var STRONG = "<strong>%(name)s</strong>";
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var filename = interpolate(STRONG, {
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.item.filename)
  }, true);
  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + "%"
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "editor-attachment-upload"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "editor-attachment-progress-bar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "editor-attachment-progress",
    style: {
      width: props.item.progress + "%"
    }
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "editor-attachment-upload-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

/***/ }),

/***/ "./src/components/editor/attachments/index.js":
/*!****************************************************!*\
  !*** ./src/components/editor/attachments/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./list */ "./src/components/editor/attachments/list.js");
/* harmony import */ var _uploader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uploader */ "./src/components/editor/attachments/uploader.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago */ "./src/index.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!misago__WEBPACK_IMPORTED_MODULE_3__["default"].get("user").acl.max_attachment_size) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "editor-attachments"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_list__WEBPACK_IMPORTED_MODULE_1__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_uploader__WEBPACK_IMPORTED_MODULE_2__["default"], props));
}

/***/ }),

/***/ "./src/components/editor/attachments/list.js":
/*!***************************************************!*\
  !*** ./src/components/editor/attachments/list.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachment */ "./src/components/editor/attachments/attachment/index.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: "list-unstyled editor-attachments-list"
  }, props.attachments.map(function (item) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_attachment__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      item: item,
      key: item.id || item.key
    }, props));
  }));
}

/***/ }),

/***/ "./src/components/editor/attachments/upload-button.js":
/*!************************************************************!*\
  !*** ./src/components/editor/attachments/upload-button.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago */ "./src/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      document.getElementById("editor-upload-field").click();
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("user").acl.max_attachment_size) {
        return null;
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-icon " + this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Upload file"),
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "file_upload"));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/editor/attachments/uploader.js":
/*!*******************************************************!*\
  !*** ./src/components/editor/attachments/uploader.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "getRandomKey": function() { return /* binding */ getRandomKey; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }
      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };
      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));
      var data = new FormData();
      data.append("upload", file);
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].upload(misago__WEBPACK_IMPORTED_MODULE_9__["default"].get("ATTACHMENTS_API"), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = moment__WEBPACK_IMPORTED_MODULE_8___default()(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "editor-upload-field",
        onChange: this.onChange,
        type: "file"
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function getRandomKey() {
  return "upld-" + Math.round(new Date().getTime());
}

/***/ }),

/***/ "./src/components/editor/index.js":
/*!****************************************!*\
  !*** ./src/components/editor/index.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Protect": function() { return /* binding */ Protect; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _actions_code__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions/code */ "./src/components/editor/actions/code.js");
/* harmony import */ var _actions_emphasis__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./actions/emphasis */ "./src/components/editor/actions/emphasis.js");
/* harmony import */ var _actions_hr__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./actions/hr */ "./src/components/editor/actions/hr.js");
/* harmony import */ var _actions_image__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./actions/image */ "./src/components/editor/actions/image.js");
/* harmony import */ var _actions_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./actions/link */ "./src/components/editor/actions/link.js");
/* harmony import */ var _actions_spoiler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./actions/spoiler */ "./src/components/editor/actions/spoiler.js");
/* harmony import */ var _actions_strikethrough__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./actions/strikethrough */ "./src/components/editor/actions/strikethrough.js");
/* harmony import */ var _actions_strong__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./actions/strong */ "./src/components/editor/actions/strong.js");
/* harmony import */ var _actions_quote__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./actions/quote */ "./src/components/editor/actions/quote.js");
/* harmony import */ var _attachments__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./attachments */ "./src/components/editor/attachments/index.js");
/* harmony import */ var _attachments_upload_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./attachments/upload-button */ "./src/components/editor/attachments/upload-button.js");
/* harmony import */ var _markup_preview__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./markup-preview */ "./src/components/editor/markup-preview.js");
/* harmony import */ var _textutils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./textutils */ "./src/components/editor/textutils.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



















var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPreviewClick", function () {
      if (_this.state.isPreviewLoading) {
        return;
      }
      _this.setState({
        isPreviewLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_23__["default"].post(misago__WEBPACK_IMPORTED_MODULE_22__["default"].get("PARSE_MARKUP_API"), {
        post: _this.props.value
      }).then(function (data) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_24__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_markup_preview__WEBPACK_IMPORTED_MODULE_19__["default"], {
          markup: data.parsed
        }));
        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_25__["default"].error(rejection.detail);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_25__["default"].apiError(rejection);
        }
        _this.setState({
          isPreviewLoading: false
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "replaceSelection", function (operation) {
      operation(_textutils__WEBPACK_IMPORTED_MODULE_20__.getSelectionText(), _this._replaceSelection);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "_replaceSelection", function (newValue) {
      _this.props.onChange({
        target: {
          value: _textutils__WEBPACK_IMPORTED_MODULE_20__.replace(newValue)
        }
      });
    });
    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      $("#editor-textarea").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "@${username}",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(misago__WEBPACK_IMPORTED_MODULE_22__["default"].get("MENTION_API"), {
              q: query
            }, callback);
          }
        }
      });
      $("#editor-textarea").on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "editor-border"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("textarea", {
        className: "form-control",
        value: this.props.value,
        disabled: this.props.loading,
        id: "editor-textarea",
        onChange: this.props.onChange,
        rows: "9"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "editor-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "buttons-list pull-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_strong__WEBPACK_IMPORTED_MODULE_15__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_emphasis__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_strikethrough__WEBPACK_IMPORTED_MODULE_14__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_hr__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_link__WEBPACK_IMPORTED_MODULE_12__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_image__WEBPACK_IMPORTED_MODULE_11__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_quote__WEBPACK_IMPORTED_MODULE_16__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_spoiler__WEBPACK_IMPORTED_MODULE_13__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_actions_code__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        replaceSelection: this.replaceSelection
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_attachments_upload_button__WEBPACK_IMPORTED_MODULE_18__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_21__["default"], {
        className: "btn-default btn-sm pull-left",
        disabled: this.props.loading || this.state.isPreviewLoading,
        onClick: this.onPreviewClick,
        type: "button"
      }, gettext("Preview")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_21__["default"], {
        className: "btn-primary btn-sm pull-right",
        loading: this.props.loading
      }, this.props.submitLabel || gettext("Post")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-sm pull-right",
        disabled: this.props.loading,
        onClick: this.props.onCancel,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "clearfix visible-xs-block"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Protect, {
        canProtect: this.props.canProtect,
        disabled: this.props.loading,
        onProtect: this.props.onProtect,
        onUnprotect: this.props.onUnprotect,
        protect: this.props.protect
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_attachments__WEBPACK_IMPORTED_MODULE_17__["default"], {
        attachments: this.props.attachments,
        onAttachmentsChange: this.props.onAttachmentsChange,
        placeholder: this.props.placeholder,
        replaceSelection: this.replaceSelection
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function Protect(props) {
  if (!props.canProtect) return null;
  var label = props.protect ? gettext("Protected") : gettext("Protect");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-icon btn-default btn-protect btn-sm pull-right",
    disabled: props.disabled,
    onClick: props.protect ? props.onUnprotect : props.onProtect,
    title: label,
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, props.protect ? "lock" : "lock_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "btn-text hidden-md hidden-lg"
  }, label));
}

/***/ }),

/***/ "./src/components/editor/markup-preview.js":
/*!*************************************************!*\
  !*** ./src/components/editor/markup-preview.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Preview message"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body markup-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__["default"], {
    markup: props.markup
  }))));
}

/***/ }),

/***/ "./src/components/editor/textutils.js":
/*!********************************************!*\
  !*** ./src/components/editor/textutils.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_replace": function() { return /* binding */ _replace; },
/* harmony export */   "getSelection": function() { return /* binding */ getSelection; },
/* harmony export */   "getSelectionRange": function() { return /* binding */ getSelectionRange; },
/* harmony export */   "getSelectionText": function() { return /* binding */ getSelectionText; },
/* harmony export */   "getTextarea": function() { return /* binding */ getTextarea; },
/* harmony export */   "getValue": function() { return /* binding */ getValue; },
/* harmony export */   "replace": function() { return /* binding */ replace; },
/* harmony export */   "setSelection": function() { return /* binding */ setSelection; },
/* harmony export */   "textareaId": function() { return /* binding */ textareaId; }
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
var textareaId = "editor-textarea";
function getTextarea() {
  return document.getElementById(textareaId);
}
function getValue() {
  return document.getElementById(textareaId).value;
}
function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}
function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == "0") {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}
function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}
function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart("character", selectionRange.start);
    range.moveEnd("character", selectionRange.end);
    range.select();
  }
}
function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}
function replace(replacement) {
  return _replace(getSelection(), replacement);
}

/***/ }),

/***/ "./src/components/form-group.js":
/*!**************************************!*\
  !*** ./src/components/form-group.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";
      if (this.isValidated()) {
        className += " has-feedback";
        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }
      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this = this;
      if (this.props.validation) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: "help-block errors"
        }, this.props.validation.map(function (error, i) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
            key: _this.props.for + "FeedbackItem" + i
          }, error);
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          id: this.props.for + "_status",
          className: "sr-only"
        }, this.props.validation ? gettext("(error)") : gettext("(success)"));
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("label", {
        className: "control-label " + (this.props.labelClass || ""),
        htmlFor: this.props.for || ""
      }, this.props.label + ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.props.controlClass || ""
      }, this.props.children, this.getFeedbackDescription(), this.getFeedback(), this.getHelpText(), this.props.extra || null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/form.js":
/*!********************************!*\
  !*** ./src/components/form.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var validateRequired = (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_8__.required)();
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "bindInput", function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "changeValue", function (name, value) {
      var newState = (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, name, value);
      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;
      _this.setState(newState);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }
      if (_this.state.isLoading) {
        return;
      }
      if (_this.clean()) {
        _this.setState({
          isLoading: true
        });
        var promise = _this.send();
        if (promise) {
          promise.then(function (success) {
            _this.setState({
              isLoading: false
            });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({
              isLoading: false
            });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({
            isLoading: false
          });
        }
      }
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "validate",
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }
      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };
      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);
        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }
      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }
      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }
      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };
      var requiredError = validateRequired(value) || false;
      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }
        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }
        return errors.length ? errors : null;
      }
      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__["default"].apiError(rejection);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/li.js":
/*!******************************!*\
  !*** ./src/components/li.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/loader.js":
/*!**********************************!*\
  !*** ./src/components/loader.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className || "loader"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "loader-spinning-wheel"
  }));
}

/***/ }),

/***/ "./src/components/merge-conflict.js":
/*!******************************************!*\
  !*** ./src/components/merge-conflict.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BestAnswerSelect": function() { return /* binding */ BestAnswerSelect; },
/* harmony export */   "PollSelect": function() { return /* binding */ PollSelect; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./button */ "./src/components/button.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./form */ "./src/components/form.js");
/* harmony import */ var _form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (success) {
      _this.props.onSuccess(success);
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].hide();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      _this.props.onError(rejection);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onBestAnswerChange", function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPollChange", function (event) {
      _this.changeValue("poll", event.target.value);
    });
    _this.state = {
      isLoading: false,
      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = window.confirm(gettext("Are you sure you want to delete all polls?"));
        return confirmation;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(BestAnswerSelect, {
        choices: this.props.bestAnswers,
        onChange: this.onBestAnswerChange,
        value: this.state.bestAnswer
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollSelect, {
        choices: this.props.polls,
        onChange: this.onPollChange,
        value: this.state.poll
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))))));
    }
  }]);
  return _default;
}(_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
    onChange = _ref.onChange,
    value = _ref.value;
  if (!choices) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
    label: gettext("Best answer"),
    helpText: gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),
    for: "id_best_answer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
    className: "form-control",
    id: "id_best_answer",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}
function PollSelect(_ref2) {
  var choices = _ref2.choices,
    onChange = _ref2.onChange,
    value = _ref2.value;
  if (!choices) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
    label: gettext("Poll"),
    helpText: gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
    for: "id_poll"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("select", {
    className: "form-control",
    id: "id_poll",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

/***/ }),

/***/ "./src/components/misago-markup.js":
/*!*****************************************!*\
  !*** ./src/components/misago-markup.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_services_one_box__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/one-box */ "./src/services/one-box.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_one_box__WEBPACK_IMPORTED_MODULE_6__["default"].render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      misago_services_one_box__WEBPACK_IMPORTED_MODULE_6__["default"].render(this.documentNode);
      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("article", {
        className: "misago-markup",
        dangerouslySetInnerHTML: {
          __html: this.props.markup
        },
        ref: function ref(node) {
          _this.documentNode = node;
        }
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

/***/ }),

/***/ "./src/components/modal-loader.js":
/*!****************************************!*\
  !*** ./src/components/modal-loader.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body modal-loader"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/modal-message.js":
/*!*****************************************!*\
  !*** ./src/components/modal-message.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_PanelMessage) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _PanelMessage);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);
  return _default;
}(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__["default"]);


/***/ }),

/***/ "./src/components/navbar-search/clean-results.js":
/*!*******************************************************!*\
  !*** ./src/components/navbar-search/clean-results.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
var MAX_RESULTS = 5;
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });
  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/constants.js":
/*!************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/constants.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FOOTER": function() { return /* binding */ FOOTER; },
/* harmony export */   "HEADER": function() { return /* binding */ HEADER; },
/* harmony export */   "RESULT": function() { return /* binding */ RESULT; }
/* harmony export */ });
var HEADER = "HEADER";
var RESULT = "RESULT";
var FOOTER = "FOOTER";

/***/ }),

/***/ "./src/components/navbar-search/dropdown/dropdown-menu.js":
/*!****************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/dropdown-menu.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input */ "./src/components/navbar-search/dropdown/input.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var children = _ref.children,
    onChange = _ref.onChange,
    query = _ref.query;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu dropdown-search-results",
    role: "menu"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "form-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_input__WEBPACK_IMPORTED_MODULE_1__["default"], {
    value: query,
    onChange: onChange
  })), children);
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/empty.js":
/*!********************************************************!*\
  !*** ./src/components/navbar-search/dropdown/empty.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-search-message"
  }, gettext("Search returned no results."));
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/flatten-results.js":
/*!******************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/flatten-results.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./src/components/navbar-search/dropdown/constants.js");

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
}
function flattenProviders(results, flatlist) {
  var arrayLength = results.length;
  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];
    flatlist.push({
      provider: provider,
      type: _constants__WEBPACK_IMPORTED_MODULE_0__.HEADER
    });
    flattenProvider(provider, flatlist);
  }
}
function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;
  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants__WEBPACK_IMPORTED_MODULE_0__.RESULT
    });
  }
  flatlist.push({
    provider: provider,
    type: _constants__WEBPACK_IMPORTED_MODULE_0__.FOOTER
  });
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/index.js":
/*!********************************************************!*\
  !*** ./src/components/navbar-search/dropdown/index.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./src/components/navbar-search/dropdown/constants.js");
/* harmony import */ var _dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dropdown-menu */ "./src/components/navbar-search/dropdown/dropdown-menu.js");
/* harmony import */ var _empty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./empty */ "./src/components/navbar-search/dropdown/empty.js");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./loader */ "./src/components/navbar-search/dropdown/loader.js");
/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./result */ "./src/components/navbar-search/dropdown/result/index.js");
/* harmony import */ var _flatten_results__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./flatten-results */ "./src/components/navbar-search/dropdown/flatten-results.js");








/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var isLoading = _ref.isLoading,
    onChange = _ref.onChange,
    results = _ref.results,
    query = _ref.query;
  if (!query.trim().length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__["default"], {
      onChange: onChange,
      query: query
    });
  }
  if (results.length) {
    var flatResults = (0,_flatten_results__WEBPACK_IMPORTED_MODULE_7__["default"])(results);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__["default"], {
      onChange: onChange,
      query: query
    }, flatResults.map(function (props) {
      var type = props.type,
        provider = props.provider,
        result = props.result;
      if (type === _constants__WEBPACK_IMPORTED_MODULE_2__.RESULT) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_result__WEBPACK_IMPORTED_MODULE_6__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
          key: [provider.id, type, result.id].join("_")
        }, props));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_result__WEBPACK_IMPORTED_MODULE_6__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        key: [provider.id, type].join("_"),
        query: query
      }, props));
    }));
  } else if (isLoading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__["default"], {
      onChange: onChange,
      query: query
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_loader__WEBPACK_IMPORTED_MODULE_5__["default"], null));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onChange: onChange,
    query: query
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_empty__WEBPACK_IMPORTED_MODULE_4__["default"], null));
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/input.js":
/*!********************************************************!*\
  !*** ./src/components/navbar-search/dropdown/input.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var value = _ref.value,
    onChange = _ref.onChange;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    "aria-controls": "dropdown-menu dropdown-search-results",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: gettext("Search"),
    role: "combobox",
    type: "text"
  });
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/loader.js":
/*!*********************************************************!*\
  !*** ./src/components/navbar-search/dropdown/loader.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var message = _ref.message;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-search-loader"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_1__["default"], null));
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/footer.js":
/*!****************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/footer.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var provider = _ref.provider,
    query = _ref.query;
  var url = provider.url + "?q=" + encodeURI(query);
  var label = ngettext('See full "%(provider)s" results page with %(count)s result.', 'See full "%(provider)s" results page with %(count)s results.', provider.count);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-search-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: url
  }, interpolate(label, {
    count: provider.count,
    provider: provider.name
  }, true)));
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/header.js":
/*!****************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/header.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var provider = _ref.provider;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-search-header"
  }, provider.name);
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/index.js":
/*!***************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./src/components/navbar-search/dropdown/constants.js");
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./footer */ "./src/components/navbar-search/dropdown/result/footer.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./header */ "./src/components/navbar-search/dropdown/result/header.js");
/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./result */ "./src/components/navbar-search/dropdown/result/result.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var provider = _ref.provider,
    result = _ref.result,
    type = _ref.type,
    query = _ref.query;
  if (type === _constants__WEBPACK_IMPORTED_MODULE_1__.HEADER) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_3__["default"], {
      provider: provider
    });
  } else if (type === _constants__WEBPACK_IMPORTED_MODULE_1__.FOOTER) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_footer__WEBPACK_IMPORTED_MODULE_2__["default"], {
      provider: provider,
      query: query
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_result__WEBPACK_IMPORTED_MODULE_4__["default"], {
    provider: provider,
    result: result
  });
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/result.js":
/*!****************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/result.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./thread */ "./src/components/navbar-search/dropdown/result/thread.js");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user */ "./src/components/navbar-search/dropdown/result/user.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var provider = _ref.provider,
    result = _ref.result;
  if (provider.id === "threads") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_thread__WEBPACK_IMPORTED_MODULE_1__["default"], {
      result: result
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user__WEBPACK_IMPORTED_MODULE_2__["default"], {
    result: result
  });
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/thread.js":
/*!****************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/thread.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var result = _ref.result;
  var poster = result.poster,
    thread = result.thread;
  var footer = gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: result.url.index,
    className: "dropdown-search-thread"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h5", null, thread.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("small", {
    className: "dropdown-search-post-content"
  }, $(result.content).text()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("small", {
    className: "dropdown-search-post-footer"
  }, interpolate(footer, {
    category: result.category.name,
    posted_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(result.posted_on).format("LL"),
    poster: result.poster_name
  }, true))));
}

/***/ }),

/***/ "./src/components/navbar-search/dropdown/result/user.js":
/*!**************************************************************!*\
  !*** ./src/components/navbar-search/dropdown/result/user.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var result = _ref.result;
  var rank = result.rank;
  var detail = gettext("%(title)s, joined on %(joined_on)s");
  var title = result.title || rank.title || rank.name;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a", {
    href: result.url,
    className: "dropdown-search-user"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_2__["default"], {
    size: 38,
    user: result
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h5", {
    className: "media-heading"
  }, result.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("small", null, interpolate(detail, {
    title: title,
    joined_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(result.joined_on).format("LL")
  }, true))))));
}

/***/ }),

/***/ "./src/components/navbar-search/index.js":
/*!***********************************************!*\
  !*** ./src/components/navbar-search/index.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var _clean_results__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./clean-results */ "./src/components/navbar-search/clean-results.js");
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dropdown */ "./src/components/navbar-search/dropdown/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onToggle", function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector("input").focus();
          }, 100);
        }
        return {
          isOpen: !prevState.isOpen
        };
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onDocumentMouseDown", function (ev) {
      var closeResults = true;
      var node = ev.target;
      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }
        node = node.parentNode;
      }
      if (closeResults) {
        _this.setState({
          isOpen: false
        });
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onEscape", function (ev) {
      if (ev.key === "Escape") {
        _this.setState({
          isOpen: false
        });
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (ev) {
      var query = ev.target.value;
      _this.setState({
        query: query
      });
      _this.loadResults(query.trim());
    });
    _this.state = {
      isLoading: false,
      isOpen: false,
      query: "",
      results: []
    };
    _this.intervalId = null;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.onDocumentMouseDown);
      document.addEventListener("keydown", this.onEscape);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.onDocumentMouseDown);
      document.removeEventListener("keydown", this.onEscape);
    }
  }, {
    key: "loadResults",
    value: function loadResults(query) {
      var _this2 = this;
      if (!query.length) return;
      var delay = 300 + Math.random() * 300;
      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }
      this.setState({
        isLoading: true
      });
      this.intervalId = window.setTimeout(function () {
        misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].get(misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SEARCH_API"), {
          q: query
        }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0,_clean_results__WEBPACK_IMPORTED_MODULE_11__["default"])(data)
          });
        }, function (rejection) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__["default"].apiError(rejection);
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: className,
        ref: function ref(container) {
          return _this3.container = container;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
        "aria-haspopup": "true",
        "aria-expanded": "false",
        className: "navbar-icon",
        "data-toggle": "dropdown",
        href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SEARCH_URL"),
        onClick: this.onToggle
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("i", {
        className: "material-icon"
      }, "search")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_dropdown__WEBPACK_IMPORTED_MODULE_12__["default"], {
        isLoading: this.state.isLoading,
        onChange: this.onChange,
        results: this.state.results,
        query: this.state.query
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/options/change-username/form-loading.js":
/*!****************************************************************!*\
  !*** ./src/components/options/change-username/form-loading.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/panel-loader */ "./src/components/panel-loader.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, gettext("Change username"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_1__["default"], null));
}

/***/ }),

/***/ "./src/components/options/change-username/form-locked.js":
/*!***************************************************************!*\
  !*** ./src/components/options/change-username/form-locked.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), {
          next_change: this.props.options.next_on.fromNow()
        }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_6__["default"], {
        helpText: this.getHelpText(),
        message: gettext("You can't change your username at the moment.")
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/options/change-username/form.js":
/*!********************************************************!*\
  !*** ./src/components/options/change-username/form.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      username: "",
      validators: {
        username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__.usernameContent(), misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__.usernameMinLength(props.options.length_min), misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__.usernameMaxLength(props.options.length_max)]
      },
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      var phrases = [];
      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);
        phrases.push(interpolate(message, {
          changes_left: this.props.options.changes_left
        }, true));
      }
      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes become available again after %(name_changes_expire)s day.", "Used changes become available again after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);
        phrases.push(interpolate(_message, {
          name_changes_expire: this.props.user.acl.name_changes_expire
        }, true));
      }
      return phrases.length ? phrases.join(" ") : null;
    }
  }, {
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(errors.username[0]);
        return false;
      }
      if (this.state.username.trim() === this.props.user.username) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].post(this.props.user.api.username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        username: ""
      });
      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("New username"),
        for: "id_username",
        helpText: this.getHelpText()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username")))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/options/change-username/root.js":
/*!********************************************************!*\
  !*** ./src/components/options/change-username/root.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_options_change_username_form_loading__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/options/change-username/form-loading */ "./src/components/options/change-username/form-loading.js");
/* harmony import */ var misago_components_options_change_username_form_locked__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/options/change-username/form-locked */ "./src/components/options/change-username/form-locked.js");
/* harmony import */ var misago_components_options_change_username_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/options/change-username/form */ "./src/components/options/change-username/form.js");
/* harmony import */ var misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/username-history/root */ "./src/components/username-history/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onComplete", function (username, slug, options) {
      _this.setState({
        options: options
      });
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_14__.addNameChange)({
        username: username,
        slug: slug
      }, _this.props.user, _this.props.user));
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_15__.updateUsername)(_this.props.user, username, slug));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].success(gettext("Your username has been changed successfully."));
    });
    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_17__["default"].set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });
      Promise.all([misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(this.props.user.api.username), misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(misago_index__WEBPACK_IMPORTED_MODULE_13__["default"].get("USERNAME_CHANGES_API"), {
        user: this.props.user.id
      })]).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_14__.hydrate)(data[1].results));
        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? moment__WEBPACK_IMPORTED_MODULE_7___default()(data[0].next_on) : null
          }
        });
      });
    }
  }, {
    key: "getChangeForm",
    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_options_change_username_form_loading__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
      if (this.state.options.changes_left === 0) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_options_change_username_form_locked__WEBPACK_IMPORTED_MODULE_10__["default"], {
          options: this.state.options
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_options_change_username_form__WEBPACK_IMPORTED_MODULE_11__["default"], {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, this.getChangeForm(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_12__["default"], {
        changes: this.props["username-history"],
        isLoaded: this.state.isLoaded
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/options/delete-account.js":
/*!**************************************************!*\
  !*** ./src/components/options/delete-account.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago */ "./src/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPasswordChange", function (event) {
      _this.setState({
        password: event.target.value
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (event) {
      event.preventDefault();
      var _this$state = _this.state,
        isLoading = _this$state.isLoading,
        password = _this$state.password;
      var user = _this.props.user;
      if (password.length == 0) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(gettext("Enter your password to confirm account deletion."));
        return false;
      }
      if (isLoading) return false;
      _this.setState({
        isLoading: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].post(user.api.delete, {
        password: password
      }).then(function (success) {
        window.location.href = misago__WEBPACK_IMPORTED_MODULE_13__["default"].get("MISAGO_PATH");
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        if (rejection.password) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.password[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
      });
    });
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_10__["default"].set({
        title: gettext("Delete account"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-danger panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Delete account"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, "-", " ", gettext("Stored IP addresses associated with content that you have posted will be deleted.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, "-", " ", gettext("Your username will become available for other user to rename to or for new user to register their account with.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, "-", " ", gettext("Your e-mail will become available for use in new account registration.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts."))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "input-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        name: "password-confirmation",
        type: "password",
        placeholder: gettext("Enter your password to confirm account deletion."),
        value: this.state.password,
        onChange: this.onPasswordChange
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "input-group-btn"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-danger",
        loading: this.state.isLoading
      }, gettext("Delete my account")))))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/options/download-data.js":
/*!*************************************************!*\
  !*** ./src/components/options/download-data.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ DownloadData; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var DownloadData = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(DownloadData, _React$Component);
  var _super = _createSuper(DownloadData);
  function DownloadData(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, DownloadData);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleLoadDownloads", function () {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleRequestDataDownload", function () {
      _this.setState({
        isSubmiting: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].success(gettext("Your request for data download has been registered."));
        _this.setState({
          isSubmiting: false
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
        _this.setState({
          isSubmiting: false
        });
      });
    });
    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(DownloadData, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_11__["default"].set({
        title: gettext("Download your data"),
        parent: gettext("Change your options")
      });
      this.handleLoadDownloads();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Download your data"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext('To download your data from the site, click the "Request data download" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired."))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("table", {
        className: "table"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("th", null, gettext("Requested on")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("th", {
        className: "col-md-4"
      }, gettext("Download")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("tbody", null, this.state.downloads.map(function (item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("tr", {
          key: item.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("td", {
          style: rowStyle
        }, moment__WEBPACK_IMPORTED_MODULE_8___default()(item.requested_on).fromNow()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(DownloadButton, {
          exportFile: item.file,
          status: item.status
        })));
      }), this.state.downloads.length == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("td", {
        colSpan: "2"
      }, gettext("You have no data downloads."))) : null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isSubmiting,
        type: "button",
        onClick: this.handleRequestDataDownload
      }, gettext("Request data download")))));
    }
  }]);
  return DownloadData;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

var rowStyle = {
  verticalAlign: "middle"
};
var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;
var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
    status = _ref.status;
  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: "btn-info btn-sm btn-block",
      disabled: true,
      type: "button"
    }, gettext("Download is being prepared"));
  }
  if (exportFile) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
      className: "btn btn-success btn-sm btn-block",
      href: exportFile
    }, gettext("Download your data"));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: "btn-default btn-sm btn-block",
    disabled: true,
    type: "button"
  }, gettext("Download is expired"));
};

/***/ }),

/***/ "./src/components/options/edit-details.js":
/*!************************************************!*\
  !*** ./src/components/options/edit-details.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_edit_details__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/edit-details */ "./src/components/edit-details/index.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onSuccess", function () {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].info(gettext("Your details have been updated."));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_9__["default"].set({
        title: gettext("Edit details"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_edit_details__WEBPACK_IMPORTED_MODULE_8__["default"], {
        api: this.props.user.api.edit_details,
        onSuccess: this.onSuccess
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/options/forum-options.js":
/*!*************************************************!*\
  !*** ./src/components/options/forum-options.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      is_hiding_presence: props.user.is_hiding_presence,
      limits_private_thread_invites_to: props.user.limits_private_thread_invites_to,
      subscribe_to_started_threads: props.user.subscribe_to_started_threads,
      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,
      errors: {}
    };
    _this.privateThreadInvitesChoices = [{
      value: 0,
      icon: "help_outline",
      label: gettext("Everybody")
    }, {
      value: 1,
      icon: "done_all",
      label: gettext("Users I follow")
    }, {
      value: 2,
      icon: "highlight_off",
      label: gettext("Nobody")
    }];
    _this.subscribeToChoices = [{
      value: 0,
      icon: "star_border",
      label: gettext("No")
    }, {
      value: 1,
      icon: "star_half",
      label: gettext("Notify")
    }, {
      value: 2,
      icon: "star",
      label: gettext("Notify with e-mail")
    }];
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_11__.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Your forum options have been changed."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("Please reload page and try again."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Change forum options"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("legend", null, gettext("Privacy settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Hide my presence"),
        helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
        for: "id_is_hiding_presence"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__["default"], {
        id: "id_is_hiding_presence",
        disabled: this.state.isLoading,
        iconOn: "visibility_off",
        iconOff: "visibility",
        labelOn: gettext("Hide my presence from other users"),
        labelOff: gettext("Show my presence to other users"),
        onChange: this.bindInput("is_hiding_presence"),
        value: this.state.is_hiding_presence
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Private thread invitations"),
        for: "id_limits_private_thread_invites_to"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        id: "id_limits_private_thread_invites_to",
        disabled: this.state.isLoading,
        onChange: this.bindInput("limits_private_thread_invites_to"),
        value: this.state.limits_private_thread_invites_to,
        choices: this.privateThreadInvitesChoices
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("legend", null, gettext("Automatic subscriptions")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Threads I start"),
        for: "id_subscribe_to_started_threads"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        id: "id_subscribe_to_started_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_started_threads"),
        value: this.state.subscribe_to_started_threads,
        choices: this.subscribeToChoices
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Threads I reply to"),
        for: "id_subscribe_to_replied_threads"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        id: "id_subscribe_to_replied_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_replied_threads"),
        value: this.state.subscribe_to_replied_threads,
        choices: this.subscribeToChoices
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes")))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/options/navs.js":
/*!****************************************!*\
  !*** ./src/components/options/navs.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CompactNav": function() { return /* binding */ CompactNav; },
/* harmony export */   "SideNav": function() { return /* binding */ SideNav; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_li__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/li */ "./src/components/li.js");



function SideNav(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "list-group nav-side"
  }, props.options.map(function (option) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: props.baseUrl + option.component + "/",
      className: "list-group-item",
      activeClassName: "active",
      key: option.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, option.icon), option.name);
  }));
}
function CompactNav(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: props.className || "dropdown-menu",
    role: "menu"
  }, props.options.map(function (option) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_li__WEBPACK_IMPORTED_MODULE_2__["default"], {
      path: props.baseUrl + option.component + "/",
      key: option.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: props.baseUrl + option.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon hidden-sm"
    }, option.icon), option.name));
  }));
}

/***/ }),

/***/ "./src/components/options/root.js":
/*!****************************************!*\
  !*** ./src/components/options/root.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "paths": function() { return /* binding */ paths; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_options_navs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/options/navs */ "./src/components/options/navs.js");
/* harmony import */ var misago_components_options_delete_account__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/options/delete-account */ "./src/components/options/delete-account.js");
/* harmony import */ var misago_components_options_edit_details__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/options/edit-details */ "./src/components/options/edit-details.js");
/* harmony import */ var misago_components_options_download_data__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/options/download-data */ "./src/components/options/download-data.js");
/* harmony import */ var misago_components_options_forum_options__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/options/forum-options */ "./src/components/options/forum-options.js");
/* harmony import */ var misago_components_options_change_username_root__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/options/change-username/root */ "./src/components/options/change-username/root.js");
/* harmony import */ var misago_components_options_sign_in_credentials_root__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/options/sign-in-credentials/root */ "./src/components/options/sign-in-credentials/root.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }














var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this = this;
      var page = misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USER_OPTIONS").filter(function (page) {
        var url = misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + page.component + "/";
        return _this.props.location.pathname.substr(0, url.length) === url;
      })[0];
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "page page-options"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_18__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_18__.PageHeader, {
        styleName: "options"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_18__.PageHeaderBanner, {
        styleName: "options"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h1", null, gettext("Change your options"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, {
        className: "hidden-xs hidden-md hidden-lg",
        shrink: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "dropdown"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline btn-icon dropdown-toggle",
        title: gettext("Menu"),
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "menu")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_options_navs__WEBPACK_IMPORTED_MODULE_7__.CompactNav, {
        className: "dropdown-menu dropdown-menu-right",
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL"),
        options: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USER_OPTIONS")
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowSection, {
        className: "hidden-sm hidden-md hidden-lg"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "dropdown"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline btn-block dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, page.icon), page.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_options_navs__WEBPACK_IMPORTED_MODULE_7__.CompactNav, {
        className: "dropdown-menu",
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL"),
        options: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USER_OPTIONS")
      })))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_17__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_options_navs__WEBPACK_IMPORTED_MODULE_7__.SideNav, {
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL"),
        options: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USER_OPTIONS")
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_14__["default"]);

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    "username-history": store["username-history"]
  };
}
function paths() {
  var paths = [{
    path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "forum-options/",
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_forum_options__WEBPACK_IMPORTED_MODULE_11__["default"])
  }, {
    path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "edit-details/",
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_edit_details__WEBPACK_IMPORTED_MODULE_9__["default"])
  }];
  var delegateAuth = misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("SETTINGS").DELEGATE_AUTH;
  if (!delegateAuth) {
    paths.push({
      path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "change-username/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_change_username_root__WEBPACK_IMPORTED_MODULE_12__["default"])
    });
    paths.push({
      path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "sign-in-credentials/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_sign_in_credentials_root__WEBPACK_IMPORTED_MODULE_13__["default"])
    });
  }
  if (misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("ENABLE_DOWNLOAD_OWN_DATA")) {
    paths.push({
      path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "download-data/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_download_data__WEBPACK_IMPORTED_MODULE_10__["default"])
    });
  }
  if (!delegateAuth && misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("ENABLE_DELETE_OWN_ACCOUNT")) {
    paths.push({
      path: misago_index__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERCP_URL") + "delete-account/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_options_delete_account__WEBPACK_IMPORTED_MODULE_8__["default"])
    });
  }
  return paths;
}

/***/ }),

/***/ "./src/components/options/sign-in-credentials/UnusablePasswordMessage.js":
/*!*******************************************************************************!*\
  !*** ./src/components/options/sign-in-credentials/UnusablePasswordMessage.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");


var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, gettext("Change email or password"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("You need to set a password for your account to be able to change your username or email.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-primary",
    href: misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].get("FORGOTTEN_PASSWORD_URL")
  }, gettext("Set password"))))));
};
/* harmony default export */ __webpack_exports__["default"] = (UnusablePasswordMessage);

/***/ }),

/***/ "./src/components/options/sign-in-credentials/change-email.js":
/*!********************************************************************!*\
  !*** ./src/components/options/sign-in-credentials/change-email.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      new_email: "",
      password: "",
      validators: {
        new_email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_11__.email()],
        password: []
      },
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];
      if (lengths.indexOf(0) !== -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(gettext("Fill out all fields."));
        return false;
      }
      if (errors.new_email) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(errors.new_email[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_email: "",
        password: ""
      });
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(rejection.new_email);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(rejection.password);
        }
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Change e-mail address"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("New e-mail"),
        for: "id_new_email"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        id: "id_new_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_email"),
        value: this.state.new_email
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Your current password"),
        for: "id_confirm_email"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        id: "id_confirm_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change e-mail")))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/options/sign-in-credentials/change-password.js":
/*!***********************************************************************!*\
  !*** ./src/components/options/sign-in-credentials/change-password.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      new_password: "",
      repeat_password: "",
      password: "",
      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];
      if (lengths.indexOf(0) !== -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(gettext("Fill out all fields."));
        return false;
      }
      if (errors.new_password) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(errors.new_password[0]);
        return false;
      }
      if (this.state.new_password !== this.state.repeat_password) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(gettext("New passwords are different."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_password: "",
        repeat_password: "",
        password: ""
      });
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(rejection.new_password);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].error(rejection.password);
        }
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_10__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Change password"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("New password"),
        for: "id_new_password"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        id: "id_new_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_password"),
        value: this.state.new_password
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Repeat password"),
        for: "id_repeat_password"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        id: "id_repeat_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("repeat_password"),
        value: this.state.repeat_password
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Your current password"),
        for: "id_confirm_password"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "password",
        id: "id_confirm_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change password")))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/options/sign-in-credentials/root.js":
/*!************************************************************!*\
  !*** ./src/components/options/sign-in-credentials/root.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_options_sign_in_credentials_change_email__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/options/sign-in-credentials/change-email */ "./src/components/options/sign-in-credentials/change-email.js");
/* harmony import */ var misago_components_options_sign_in_credentials_change_password__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/options/sign-in-credentials/change-password */ "./src/components/options/sign-in-credentials/change-password.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _UnusablePasswordMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./UnusablePasswordMessage */ "./src/components/options/sign-in-credentials/UnusablePasswordMessage.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_9__["default"].set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UnusablePasswordMessage__WEBPACK_IMPORTED_MODULE_10__["default"], null);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_options_sign_in_credentials_change_email__WEBPACK_IMPORTED_MODULE_6__["default"], {
        user: this.props.user
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_options_sign_in_credentials_change_password__WEBPACK_IMPORTED_MODULE_7__["default"], {
        user: this.props.user
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "message-line"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "warning"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: misago_index__WEBPACK_IMPORTED_MODULE_8__["default"].get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Change forgotten password"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/page-lead.js":
/*!*************************************!*\
  !*** ./src/components/page-lead.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_utils_string_count__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/utils/string-count */ "./src/utils/string-count.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0,misago_utils_string_count__WEBPACK_IMPORTED_MODULE_6__["default"])(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }
      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/panel-loader.js":
/*!****************************************!*\
  !*** ./src/components/panel-loader.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body panel-body-loading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "loader loader-spaced"
      }));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/panel-message.js":
/*!*****************************************!*\
  !*** ./src/components/panel-message.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body panel-message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/participants/add-participant.js":
/*!********************************************************!*\
  !*** ./src/components/participants/add-participant.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_add_participant__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/add-participant */ "./src/components/add-participant.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_9__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_add_participant__WEBPACK_IMPORTED_MODULE_8__["default"], {
        thread: _this.props.thread
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "person_add"), gettext("Add participant")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/cards-list/actions.js":
/*!***********************************************************!*\
  !*** ./src/components/participants/cards-list/actions.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeOwner": function() { return /* binding */ changeOwner; },
/* harmony export */   "leave": function() { return /* binding */ leave; },
/* harmony export */   "remove": function() { return /* binding */ remove; }
/* harmony export */ });
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");






function leave(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }]).then(function () {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(gettext("You have left this thread."));
    window.setTimeout(function () {
      window.location = misago__WEBPACK_IMPORTED_MODULE_2__["default"].get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}
function remove(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.updateAcl)(data));
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__.replace(data.participants));
    var message = gettext("%(user)s has been removed from this thread.");
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}
function changeOwner(thread, participant) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "replace",
    path: "owner",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch((0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.updateAcl)(data));
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_0__.replace(data.participants));
    var message = gettext("%(user)s has been made new thread owner.");
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
  });
}

/***/ }),

/***/ "./src/components/participants/cards-list/card.js":
/*!********************************************************!*\
  !*** ./src/components/participants/cards-list/card.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UserStatus": function() { return /* binding */ UserStatus; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _make_owner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./make-owner */ "./src/components/participants/cards-list/make-owner.js");
/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./remove */ "./src/components/participants/cards-list/remove.js");
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var participant = props.participant;
  var className = "btn btn-default";
  if (participant.is_owner) {
    className = "btn btn-primary";
  }
  className += " btn-user btn-block";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-sm-3 col-md-2 participant-card"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: className,
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_3__["default"], {
    size: "34",
    user: participant
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "btn-text"
  }, participant.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UserStatus, {
    isOwner: participant.is_owner
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-header"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: participant.url
  }, gettext("See profile"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    role: "separator",
    className: "divider"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_make_owner__WEBPACK_IMPORTED_MODULE_1__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_remove__WEBPACK_IMPORTED_MODULE_2__["default"], props))));
}
function UserStatus(_ref) {
  var isOwner = _ref.isOwner;
  if (!isOwner) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "dropdown-header dropdown-header-owner"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "start"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "icon-text"
  }, gettext("Thread owner")));
}

/***/ }),

/***/ "./src/components/participants/cards-list/index.js":
/*!*********************************************************!*\
  !*** ./src/components/participants/cards-list/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/participants/cards-list/card.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var participants = _ref.participants,
    thread = _ref.thread,
    user = _ref.user,
    userIsOwner = _ref.userIsOwner;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "participants-cards"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, participants.map(function (participant) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: participant.id,
      participant: participant,
      thread: thread,
      user: user,
      userIsOwner: userIsOwner
    });
  })));
}

/***/ }),

/***/ "./src/components/participants/cards-list/make-owner.js":
/*!**************************************************************!*\
  !*** ./src/components/participants/cards-list/make-owner.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions */ "./src/components/participants/cards-list/actions.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = window.confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = window.confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }
      if (!confirmed) return;
      (0,_actions__WEBPACK_IMPORTED_MODULE_8__.changeOwner)(_this.props.thread, _this.props.participant);
    });
    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Make owner")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/cards-list/remove.js":
/*!**********************************************************!*\
  !*** ./src/components/participants/cards-list/remove.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions */ "./src/components/participants/cards-list/actions.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = window.confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = window.confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }
      if (!confirmed) return;
      if (_this.isUser) {
        (0,_actions__WEBPACK_IMPORTED_MODULE_8__.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0,_actions__WEBPACK_IMPORTED_MODULE_8__.remove)(_this.props.thread, _this.props.participant);
      }
    });
    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;
      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, this.isUser ? gettext("Leave thread") : gettext("Remove")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/participants/index.js":
/*!**********************************************!*\
  !*** ./src/components/participants/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getUserIsOwner": function() { return /* binding */ getUserIsOwner; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _add_participant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-participant */ "./src/components/participants/add-participant.js");
/* harmony import */ var _cards_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cards-list */ "./src/components/participants/cards-list/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./src/components/participants/utils.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!props.participants.length) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "panel panel-default panel-participants"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_cards_list__WEBPACK_IMPORTED_MODULE_3__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    userIsOwner: getUserIsOwner(props.user, props.participants)
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_add_participant__WEBPACK_IMPORTED_MODULE_2__["default"], {
    thread: props.thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "col-xs-12 col-sm-9"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", null, _utils__WEBPACK_IMPORTED_MODULE_4__.getParticipantsCopy(props.participants))))));
}
function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

/***/ }),

/***/ "./src/components/participants/utils.js":
/*!**********************************************!*\
  !*** ./src/components/participants/utils.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getParticipantsCopy": function() { return /* binding */ getParticipantsCopy; }
/* harmony export */ });
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);
  return interpolate(message, {
    users: count
  }, true);
}

/***/ }),

/***/ "./src/components/password-strength.js":
/*!*********************************************!*\
  !*** ./src/components/password-strength.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LABELS": function() { return /* binding */ LABELS; },
/* harmony export */   "STYLES": function() { return /* binding */ STYLES; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/zxcvbn */ "./src/services/zxcvbn.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];
var LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    _this.state = {
      loaded: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__["default"].load().then(function () {
        _this2.setState({
          loaded: true
        });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;
      var cacheStale = false;
      if (password !== this._password) {
        cacheStale = true;
      }
      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }
      if (cacheStale) {
        this._score = misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_6__["default"].scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }
      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;
      var score = this.getScore(this.props.password, this.props.inputs);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "help-block password-strength"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "progress"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "progress-bar " + STYLES[score],
        style: {
          width: 20 + 20 * score + "%"
        },
        role: "progress-bar",
        "aria-valuenow": score,
        "aria-valuemin": "0",
        "aria-valuemax": "4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "sr-only"
      }, LABELS[score]))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "text-small"
      }, LABELS[score]));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/poll/form/choices-control.js":
/*!*****************************************************!*\
  !*** ./src/components/poll/form/choices-control.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollChoice": function() { return /* binding */ PollChoice; },
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "generateRandomHash": function() { return /* binding */ generateRandomHash; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAdd", function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: generateRandomHash(),
        label: ""
      });
      _this.props.setChoices(choices);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }
        return choice;
      });
      _this.props.setChoices(choices);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onDelete", function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "poll-choices-control"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "list-group"
      }, this.props.choices.map(function (choice) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollChoice, {
          canDelete: _this2.props.choices.length > 2,
          choice: choice,
          disabled: _this2.props.disabled,
          key: choice.hash,
          onChange: _this2.onChange,
          onDelete: _this2.onDelete
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-sm",
        disabled: this.props.disabled,
        onClick: this.onAdd,
        type: "button"
      }, gettext("Add choice")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

var PollChoice = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PollChoice, _React$Component2);
  var _super2 = _createSuper(PollChoice);
  function PollChoice() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PollChoice);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this3 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onChange", function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onDelete", function () {
      var deleteItem = window.confirm(gettext("Are you sure you want to delete this choice?"));
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PollChoice, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        className: "list-group-item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn",
        disabled: !this.props.canDelete || this.props.disabled,
        onClick: this.onDelete,
        title: gettext("Delete this choice"),
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "close")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        disabled: this.props.disabled,
        maxLength: "255",
        placeholder: gettext("choice label"),
        type: "text",
        onChange: this.onChange,
        value: this.props.choice.label
      }));
    }
  }]);
  return PollChoice;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
function generateRandomHash() {
  var randomHash = "";
  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, "").substr(1, 12);
  }
  return randomHash;
}

/***/ }),

/***/ "./src/components/poll/form/index.js":
/*!*******************************************!*\
  !*** ./src/components/poll/form/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollPublicSwitch": function() { return /* binding */ PollPublicSwitch; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _choices_control__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./choices-control */ "./src/components/poll/form/choices-control.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "setChoices", function (choices) {
      var errors = Object.assign({}, errors, {
        choices: null
      });
      _this.setState({
        choices: choices,
        errors: errors
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = window.confirm(gettext("Are you sure you want to discard poll?"));
      if (cancel) {
        misago_services_posting__WEBPACK_IMPORTED_MODULE_15__["default"].close();
      }
    });
    var poll = props.poll || {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };
    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,
      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,
      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };
      if (this.state.isEdit) {
        return misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].put(this.props.poll.api.index, data);
      } else {
        return misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_17__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_13__.replace(data));
      if (this.state.isEdit) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].success(gettext("Poll has been edited."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].success(gettext("Poll has been posted."));
      }
      misago_services_posting__WEBPACK_IMPORTED_MODULE_15__["default"].close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }
        this.setState({
          errors: Object.assign({}, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(gettext("Form contains errors."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "poll-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("legend", null, gettext("Question and choices")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Poll question"),
        for: "id_questions",
        validation: this.state.errors.question
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_questions",
        onChange: this.bindInput("question"),
        type: "text",
        maxLength: "255",
        value: this.state.question
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Available choices"),
        validation: this.state.errors.choices
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_choices_control__WEBPACK_IMPORTED_MODULE_8__["default"], {
        choices: this.state.choices,
        disabled: this.state.isLoading,
        setChoices: this.setChoices
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("legend", null, gettext("Voting")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Poll length"),
        helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
        for: "id_length",
        validation: this.state.errors.length
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_length",
        onChange: this.bindInput("length"),
        type: "text",
        value: this.state.length
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Allowed choices"),
        for: "id_allowed_choices",
        validation: this.state.errors.allowed_choices
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_allowed_choices",
        onChange: this.bindInput("allowed_choices"),
        type: "text",
        maxLength: "255",
        value: this.state.allowed_choices
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PollPublicSwitch, {
        bindInput: this.bindInput,
        disabled: this.state.isLoading,
        isEdit: this.state.isEdit,
        value: this.state.is_public
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Allow vote changes"),
        for: "id_allow_revotes"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_allow_revotes",
        disabled: this.state.isLoading,
        iconOn: "check",
        iconOff: "close",
        labelOn: gettext("Allow participants to change their vote"),
        labelOff: gettext("Don't allow participants to change their vote"),
        onChange: this.bindInput("allow_revotes"),
        value: this.state.allow_revotes
      })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        disabled: this.state.isLoading,
        onClick: this.onCancel,
        type: "button"
      }, gettext("Cancel")), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, this.state.isEdit ? gettext("Save changes") : gettext("Post poll")))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);

function PollPublicSwitch(props) {
  if (props.isEdit) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "col-xs-12 col-sm-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
    label: gettext("Make voting public"),
    helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
    for: "id_is_public"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_12__["default"], {
    id: "id_is_public",
    disabled: props.disabled,
    iconOn: "visibility",
    iconOff: "visibility_off",
    labelOn: gettext("Votes are public"),
    labelOff: gettext("Votes are hidden"),
    onChange: props.bindInput("is_public"),
    value: props.value
  })));
}

/***/ }),

/***/ "./src/components/poll/index.js":
/*!**************************************!*\
  !*** ./src/components/poll/index.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Poll": function() { return /* reexport safe */ _poll__WEBPACK_IMPORTED_MODULE_0__["default"]; },
/* harmony export */   "PollForm": function() { return /* reexport safe */ _form__WEBPACK_IMPORTED_MODULE_1__["default"]; }
/* harmony export */ });
/* harmony import */ var _poll__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./poll */ "./src/components/poll/poll.js");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form */ "./src/components/poll/form/index.js");





/***/ }),

/***/ "./src/components/poll/info.js":
/*!*************************************!*\
  !*** ./src/components/poll/info.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollCreation": function() { return /* binding */ PollCreation; },
/* harmony export */   "PollIsPublic": function() { return /* binding */ PollIsPublic; },
/* harmony export */   "PollLength": function() { return /* binding */ PollLength; },
/* harmony export */   "PollVotes": function() { return /* binding */ PollVotes; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getEndsOn": function() { return /* binding */ getEndsOn; },
/* harmony export */   "getPostedOn": function() { return /* binding */ getPostedOn; },
/* harmony export */   "getPoster": function() { return /* binding */ getPoster; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollVotes, {
    votes: props.poll.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollLength, {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollIsPublic, {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollCreation, {
    poll: props.poll
  }));
}
function PollCreation(props) {
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.url.poster),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.poster_name)
    }, true);
  }
  return interpolate(USER_SPAN, {
    user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.poster_name)
  }, true);
}
function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.posted_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.posted_on.fromNow())
  }, true);
}
function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.endsOn.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(poll.endsOn.fromNow())
  }, true);
}
function PollVotes(props) {
  var message = ngettext("%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-votes"
  }, label);
}
function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-info-public"
  }, gettext("Votes are public."));
}

/***/ }),

/***/ "./src/components/poll/poll.js":
/*!*************************************!*\
  !*** ./src/components/poll/poll.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "getIsPollOver": function() { return /* binding */ getIsPollOver; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _results__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./results */ "./src/components/poll/results/index.js");
/* harmony import */ var _voting__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./voting */ "./src/components/poll/voting/index.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "showResults", function () {
      _this.setState({
        showResults: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "showVoting", function () {
      _this.setState({
        showResults: false
      });
    });
    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }
    _this.state = {
      showResults: showResults
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;
      var isPollOver = getIsPollOver(this.props.poll);
      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_voting__WEBPACK_IMPORTED_MODULE_11__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
          showResults: this.showResults
        }, this.props));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_results__WEBPACK_IMPORTED_MODULE_10__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function getIsPollOver(poll) {
  if (poll.length) {
    return moment__WEBPACK_IMPORTED_MODULE_9___default()().isAfter(poll.endsOn);
  }
  return false;
}

/***/ }),

/***/ "./src/components/poll/results/chart.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/chart.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceVotes": function() { return /* binding */ ChoiceVotes; },
/* harmony export */   "PollChoice": function() { return /* binding */ PollChoice; },
/* harmony export */   "UserChoice": function() { return /* binding */ UserChoice; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getVotesLabel": function() { return /* binding */ getVotesLabel; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "poll-choices-bars"
  }, props.poll.choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollChoice, {
      choice: choice,
      key: choice.hash,
      poll: props.poll
    });
  }));
}
function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dl", {
    className: "dl-horizontal"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dt", null, props.choice.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("dd", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "progress"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "progress-bar",
    role: "progressbar",
    "aria-valuenow": proc,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    style: {
      width: proc + "%"
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "sr-only"
  }, getVotesLabel(props.votes, props.proc)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-chart"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChoiceVotes, {
    proc: proc,
    votes: props.choice.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UserChoice, {
    selected: props.choice.selected
  }))));
}
function ChoiceVotes(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-chart-votes"
  }, getVotesLabel(props.votes, props.proc));
}
function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);
  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}
function UserChoice(props) {
  if (!props.selected) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-chart-selected"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_box"), gettext("Your choice."));
}

/***/ }),

/***/ "./src/components/poll/results/index.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chart */ "./src/components/poll/results/chart.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./options */ "./src/components/poll/results/options.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../info */ "./src/components/poll/info.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-poll"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h2", null, props.poll.question), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_info__WEBPACK_IMPORTED_MODULE_3__["default"], {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_chart__WEBPACK_IMPORTED_MODULE_1__["default"], {
    poll: props.poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_options__WEBPACK_IMPORTED_MODULE_2__["default"], {
    isPollOver: props.isPollOver,
    poll: props.poll,
    showVoting: props.showVoting,
    thread: props.thread
  })));
}

/***/ }),

/***/ "./src/components/poll/results/modal.js":
/*!**********************************************!*\
  !*** ./src/components/poll/results/modal.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceDetails": function() { return /* binding */ ChoiceDetails; },
/* harmony export */   "ChoicesList": function() { return /* binding */ ChoicesList; },
/* harmony export */   "ModalBody": function() { return /* binding */ ModalBody; },
/* harmony export */   "VoteDate": function() { return /* binding */ VoteDate; },
/* harmony export */   "Voter": function() { return /* binding */ Voter; },
/* harmony export */   "VotesCount": function() { return /* binding */ VotesCount; },
/* harmony export */   "VotesList": function() { return /* binding */ VotesList; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: moment__WEBPACK_IMPORTED_MODULE_7___default()(voter.voted_on)
              });
            })
          });
        });
        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Poll votes"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalBody, {
        data: this.state.data,
        error: this.state.error,
        isLoading: this.state.isLoading
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));

function ModalBody(props) {
  if (props.isLoading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
  } else if (props.error) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_8__["default"], {
      icon: "error_outline",
      message: props.error
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ChoicesList, {
    data: props.data
  });
}
function ChoicesList(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-body modal-poll-votes"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "list-unstyled votes-details"
  }, props.data.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ChoiceDetails, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: choice.hash
    }, choice));
  })));
}
function ChoiceDetails(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", null, props.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VotesCount, {
    votes: props.votes
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VotesList, {
    voters: props.voters
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("hr", null));
}
function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", null, label);
}
function VotesList(props) {
  if (!props.voters.length) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "list-unstyled"
  }, props.voters.map(function (user) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(Voter, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: user.username
    }, user));
  }));
}
function Voter(props) {
  if (props.url) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VoteDate, {
      voted_on: props.voted_on
    }));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("strong", null, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(VoteDate, {
    voted_on: props.voted_on
  }));
}
function VoteDate(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("abbr", {
    className: "text-muted",
    title: props.voted_on.format("LLL")
  }, props.voted_on.fromNow());
}

/***/ }),

/***/ "./src/components/poll/results/options.js":
/*!************************************************!*\
  !*** ./src/components/poll/results/options.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChangeVote": function() { return /* binding */ ChangeVote; },
/* harmony export */   "Delete": function() { return /* binding */ Delete; },
/* harmony export */   "Edit": function() { return /* binding */ Edit; },
/* harmony export */   "SeeVotes": function() { return /* binding */ SeeVotes; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getClassName": function() { return /* binding */ getClassName; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal */ "./src/components/poll/results/modal.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var isPollOver = props.isPollOver,
    poll = props.poll,
    showVoting = props.showVoting,
    thread = props.thread;
  if (!isVisible(isPollOver, poll.acl, poll)) return null;
  var controls = [];
  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;
  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "row poll-options"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChangeVote, {
    controls: controls,
    isPollOver: isPollOver,
    poll: poll,
    showVoting: showVoting
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(SeeVotes, {
    controls: controls,
    poll: poll
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Edit, {
    controls: controls,
    poll: poll,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, {
    controls: controls,
    poll: poll
  }));
}
function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}
function getClassName(controls, control) {
  var className = "col-xs-6";
  if (controls.length === 1) {
    className = "col-xs-12";
  }
  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }
  return className + " col-sm-3 col-md-2";
}
function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;
  if (!(canVote && canChangeVote)) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: getClassName(props.controls, 0)
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.showVoting,
    type: "button"
  }, gettext("Vote")));
}
var SeeVotes = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(SeeVotes, _React$Component);
  var _super = _createSuper(SeeVotes);
  function SeeVotes() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SeeVotes);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_modal__WEBPACK_IMPORTED_MODULE_8__["default"], {
        poll: _this.props.poll
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: getClassName(this.props.controls, 1)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("See votes")));
    }
  }]);
  return SeeVotes;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Edit = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Edit, _React$Component2);
  var _super2 = _createSuper(Edit);
  function Edit() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Edit);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_13__["default"].open({
        submit: _this2.props.poll.api.index,
        thread: _this2.props.thread,
        poll: _this2.props.poll,
        mode: "POLL"
      });
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: getClassName(this.props.controls, 2)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Edit")));
    }
  }]);
  return Edit;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component3);
  var _super3 = _createSuper(Delete);
  function Delete() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      var deletePoll = window.confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.busy());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"]["delete"](_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "handleSuccess", function (newThreadAcl) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success("Poll has been deleted");
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.remove());
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_10__.updateAcl(newThreadAcl));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "handleError", function (rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_9__.release());
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: getClassName(this.props.controls, 3)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/poll/voting/help.js":
/*!********************************************!*\
  !*** ./src/components/poll/voting/help.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PollAllowRevote": function() { return /* binding */ PollAllowRevote; },
/* harmony export */   "PollChoicesLeft": function() { return /* binding */ PollChoicesLeft; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-inline poll-help"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollChoicesLeft, {
    choicesLeft: props.choicesLeft
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PollAllowRevote, {
    poll: props.poll
  }));
}
function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;
  if (choicesLeft === 0) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "poll-help-choices-left"
    }, gettext("You can't select any more choices."));
  }
  var message = ngettext("You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);
  var label = interpolate(message, {
    choices: choicesLeft
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-help-choices-left"
  }, label);
}
function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "poll-help-allow-revotes"
    }, gettext("You can change your vote later."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "poll-help-no-revotes"
  }, gettext("Votes are final."));
}

/***/ }),

/***/ "./src/components/poll/voting/index.js":
/*!*********************************************!*\
  !*** ./src/components/poll/voting/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _help__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./help */ "./src/components/poll/voting/help.js");
/* harmony import */ var _select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./select */ "./src/components/poll/voting/select.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils */ "./src/components/poll/voting/utils.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../info */ "./src/components/poll/info.js");
/* harmony import */ var _results_options__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../results/options */ "./src/components/poll/results/options.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggleChoice", function (hash) {
      var choice = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoiceFromHash)(_this.state.choices, hash);
      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }
      _this.setState({
        choices: choices,
        choicesLeft: (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(_this.props.poll, choices)
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "selectChoice", function (choice, hash) {
      var choicesLeft = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(_this.props.poll, _this.state.choices);
      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "deselectChoice", function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    });
    _this.state = {
      isLoading: false,
      choices: props.poll.choices,
      choicesLeft: (0,_utils__WEBPACK_IMPORTED_MODULE_10__.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(gettext("You need to select at least one choice"));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_15__.replace(data));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(gettext("Your vote has been saved."));
      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];
      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-poll"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h2", null, this.props.poll.question), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_info__WEBPACK_IMPORTED_MODULE_11__["default"], {
        poll: this.props.poll
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        choices: this.state.choices,
        toggleChoice: this.toggleChoice
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_help__WEBPACK_IMPORTED_MODULE_8__["default"], {
        choicesLeft: this.state.choicesLeft,
        poll: this.props.poll
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: (0,_results_options__WEBPACK_IMPORTED_MODULE_12__.getClassName)(controls, 0)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_13__["default"], {
        className: "btn-primary btn-block btn-sm",
        loading: this.state.isLoading
      }, gettext("Save your vote"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: (0,_results_options__WEBPACK_IMPORTED_MODULE_12__.getClassName)(controls, 1)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.state.isLoading,
        onClick: this.props.showResults,
        type: "button"
      }, gettext("See results"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_results_options__WEBPACK_IMPORTED_MODULE_12__.Edit, {
        controls: controls,
        poll: this.props.poll,
        thread: this.props.thread
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_results_options__WEBPACK_IMPORTED_MODULE_12__.Delete, {
        controls: controls,
        poll: this.props.poll
      })))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_14__["default"]);


/***/ }),

/***/ "./src/components/poll/voting/select.js":
/*!**********************************************!*\
  !*** ./src/components/poll/voting/select.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChoiceSelect": function() { return /* binding */ ChoiceSelect; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "list-unstyled poll-select-choices"
  }, props.choices.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ChoiceSelect, {
      choice: choice,
      key: choice.hash,
      toggleChoice: props.toggleChoice
    });
  }));
}
var ChoiceSelect = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(ChoiceSelect, _React$Component);
  var _super = _createSuper(ChoiceSelect);
  function ChoiceSelect() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, ChoiceSelect);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        className: "poll-select-choice"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: this.props.choice.selected ? "btn btn-selected" : "btn",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.props.choice.selected ? "check_box" : "check_box_outline_blank"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("strong", null, this.props.choice.label)));
    }
  }]);
  return ChoiceSelect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/poll/voting/utils.js":
/*!*********************************************!*\
  !*** ./src/components/poll/voting/utils.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getChoiceFromHash": function() { return /* binding */ getChoiceFromHash; },
/* harmony export */   "getChoicesLeft": function() { return /* binding */ getChoicesLeft; }
/* harmony export */ });
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }
  return null;
}
function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }
  return poll.allowed_choices - selection.length;
}

/***/ }),

/***/ "./src/components/post-changelog/diff.js":
/*!***********************************************!*\
  !*** ./src/components/post-changelog/diff.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DiffItem": function() { return /* binding */ DiffItem; },
/* harmony export */   "cleanItem": function() { return /* binding */ cleanItem; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getItemClassName": function() { return /* binding */ getItemClassName; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body post-changelog-diff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled"
  }, props.diff.map(function (item, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DiffItem, {
      item: item,
      key: i
    });
  })));
}
function DiffItem(props) {
  if (props.item[0] === "?") return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: getItemClassName(props.item)
  }, cleanItem(props.item));
}
function getItemClassName(item) {
  var className = "diff-item";
  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }
  return className;
}
function cleanItem(item) {
  return item.substr(2);
}

/***/ }),

/***/ "./src/components/post-changelog/footer.js":
/*!*************************************************!*\
  !*** ./src/components/post-changelog/footer.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-default btn-sm btn-block",
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Revert post to state from before this edit.")
      }, gettext("Revert")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/post-changelog/index.js":
/*!************************************************!*\
  !*** ./src/components/post-changelog/index.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalDialog": function() { return /* binding */ ModalDialog; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _diff__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./diff */ "./src/components/post-changelog/diff.js");
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./footer */ "./src/components/post-changelog/footer.js");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./toolbar */ "./src/components/post-changelog/toolbar.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ "./src/components/post-changelog/utils.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goToEdit", function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      _this.setState({
        isBusy: true
      });
      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += "?edit=" + edit;
      }
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0,_utils__WEBPACK_IMPORTED_MODULE_11__.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "revertEdit", function (edit) {
      if (_this.state.isBusy) return;
      var confirmation = window.confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;
      _this.setState({
        isBusy: true
      });
      var url = _this.props.post.api.edits + "?edit=" + edit;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].post(url).then(function (data) {
        var hydratedPost = misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__.hydrate(data);
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_14__.patch(data, hydratedPost));
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(gettext("Post has been reverted to previous state."));
        misago_services_modal__WEBPACK_IMPORTED_MODULE_16__["default"].hide();
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
        _this.setState({
          isBusy: false
        });
      });
    });
    _this.state = {
      isReady: false,
      isBusy: true,
      canRevert: props.post.acl.can_edit,
      error: null,
      edit: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, {
          className: "modal-dialog modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__["default"], {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_toolbar__WEBPACK_IMPORTED_MODULE_10__["default"], {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          goToEdit: this.goToEdit,
          revertEdit: this.revertEdit
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_diff__WEBPACK_IMPORTED_MODULE_8__["default"], {
          diff: this.state.edit.diff
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_footer__WEBPACK_IMPORTED_MODULE_9__["default"], {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          revertEdit: this.revertEdit
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalDialog, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function ModalDialog(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: props.className || "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Post edits history"))), props.children));
}

/***/ }),

/***/ "./src/components/post-changelog/toolbar.js":
/*!**************************************************!*\
  !*** ./src/components/post-changelog/toolbar.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GoBackBtn": function() { return /* binding */ GoBackBtn; },
/* harmony export */   "GoForwardBtn": function() { return /* binding */ GoForwardBtn; },
/* harmony export */   "GoLastBtn": function() { return /* binding */ GoLastBtn; },
/* harmony export */   "Label": function() { return /* binding */ Label; },
/* harmony export */   "RevertBtn": function() { return /* binding */ RevertBtn; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goLast", function () {
      _this.props.goToEdit();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goForward", function () {
      _this.props.goToEdit(_this.props.edit.next);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "goBack", function () {
      _this.props.goToEdit(_this.props.edit.previous);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "revertEdit", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-toolbar post-changelog-toolbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoBackBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goBack
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoForwardBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goForward
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(GoLastBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goLast
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Label, {
        edit: this.props.edit
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RevertBtn, {
        canRevert: this.props.canRevert,
        disabled: this.props.disabled,
        onClick: this.revertEdit
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function GoBackBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.previous,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left"));
}
function GoForwardBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See next change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}
function GoLastBtn(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "last_page"));
}
function RevertBtn(props) {
  if (!props.canRevert) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "col-sm-3 hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "btn-default btn-sm btn-block",
    disabled: props.disabled,
    onClick: props.onClick,
    title: gettext("Revert post to state from before this edit.")
  }, gettext("Revert")));
}
function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.url.editor),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.editor_name)
    }, true);
  }
  var date = interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.edited_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(props.edit.edited_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_9__["default"])(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/post-changelog/utils.js":
/*!************************************************!*\
  !*** ./src/components/post-changelog/utils.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hydrateEdit": function() { return /* binding */ hydrateEdit; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.edited_on)
  });
}

/***/ }),

/***/ "./src/components/post-feed/index.js":
/*!*******************************************!*\
  !*** ./src/components/post-feed/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./post */ "./src/components/post-feed/post/index.js");
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview */ "./src/components/post-feed/preview.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var isReady = _ref.isReady,
    posts = _ref.posts,
    poster = _ref.poster;
  if (!isReady) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_preview__WEBPACK_IMPORTED_MODULE_2__["default"], null);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "posts-list post-feed ui-ready"
  }, posts.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: post.id,
      post: post,
      poster: poster
    });
  }));
}

/***/ }),

/***/ "./src/components/post-feed/post/body.js":
/*!***********************************************!*\
  !*** ./src/components/post-feed/post/body.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Default": function() { return /* binding */ Default; },
/* harmony export */   "Invalid": function() { return /* binding */ Invalid; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.content) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Default, props);
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Invalid, props);
  }
}
function Default(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_1__["default"], {
    markup: props.post.content
  }));
}
function Invalid(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body post-body-invalid"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

/***/ }),

/***/ "./src/components/post-feed/post/header.js":
/*!*************************************************!*\
  !*** ./src/components/post-feed/post/header.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  var category = post.category,
    thread = post.thread;
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link item-title",
    href: thread.url
  }, thread.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link post-category",
    href: category.url.index
  }, category.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: post.url.index,
    className: "btn btn-link posted-on",
    title: tooltip
  }, post.posted_on.fromNow()));
}

/***/ }),

/***/ "./src/components/post-feed/post/index.js":
/*!************************************************!*\
  !*** ./src/components/post-feed/post/index.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./body */ "./src/components/post-feed/post/body.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./header */ "./src/components/post-feed/post/header.js");
/* harmony import */ var _post_side__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./post-side */ "./src/components/post-feed/post/post-side/index.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  var user = poster || post.poster;
  var className = "post";
  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className,
    id: "post-" + post.id
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post_side__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    poster: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_body__WEBPACK_IMPORTED_MODULE_1__["default"], {
    post: post
  })))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/anonymous.js":
/*!**************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/anonymous.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./button */ "./src/components/post-feed/post/post-side/button.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, post.poster_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/button.js":
/*!***********************************************************!*\
  !*** ./src/components/post-feed/post/post-side/button.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-default btn-icon pull-right",
    href: post.url.index
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "btn-text-left hidden-xs"
  }, gettext("See post")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/index.js":
/*!**********************************************************!*\
  !*** ./src/components/post-feed/post/post-side/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _anonymous__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./anonymous */ "./src/components/post-feed/post/post-side/anonymous.js");
/* harmony import */ var _registered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./registered */ "./src/components/post-feed/post/post-side/registered.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  if (poster && poster.id) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_registered__WEBPACK_IMPORTED_MODULE_2__["default"], {
      post: post,
      poster: poster
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_anonymous__WEBPACK_IMPORTED_MODULE_1__["default"], {
    post: post
  });
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/registered.js":
/*!***************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/registered.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./button */ "./src/components/post-feed/post/post-side/button.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-title */ "./src/components/post-feed/post/post-side/user-title.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    poster = _ref.poster;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: poster.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50,
    user: poster
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_3__["default"], {
    title: poster.title,
    rank: poster.rank
  }))));
}

/***/ }),

/***/ "./src/components/post-feed/post/post-side/user-title.js":
/*!***************************************************************!*\
  !*** ./src/components/post-feed/post/post-side/user-title.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/post-feed/preview.js":
/*!*********************************************!*\
  !*** ./src/components/post-feed/preview.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "posts-list post-feed ui-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: misago_utils_random__WEBPACK_IMPORTED_MODULE_2__.int(30, 200) + "px"
    }
  }, "\xA0")))))))));
}

/***/ }),

/***/ "./src/components/post-likes.js":
/*!**************************************!*\
  !*** ./src/components/post-likes.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LikeDate": function() { return /* binding */ LikeDate; },
/* harmony export */   "LikeDetails": function() { return /* binding */ LikeDetails; },
/* harmony export */   "LikesList": function() { return /* binding */ LikesList; },
/* harmony export */   "ModalDialog": function() { return /* binding */ ModalDialog; },
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "hydrateLike": function() { return /* binding */ hydrateLike; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isReady: false,
      error: null,
      likes: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__["default"], {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
            className: "modal-sm",
            likes: this.state.likes
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikesList, {
            likes: this.state.likes
          }));
        }
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_9__["default"], {
          message: gettext("No users have liked this post.")
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(ModalDialog, {
        className: "modal-sm"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_10__["default"], null));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_6___default().Component));

function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: moment__WEBPACK_IMPORTED_MODULE_7___default()(data.liked_on)
  });
}
function ModalDialog(_ref) {
  var className = _ref.className,
    children = _ref.children,
    likes = _ref.likes;
  var title = gettext("Post Likes");
  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);
    title = interpolate(message, {
      likes: likesCount
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-dialog " + (className || ""),
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("h4", {
    className: "modal-title"
  }, title)), children));
}
function LikesList(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "modal-body modal-post-likers"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("ul", {
    className: "media-list"
  }, props.likes.map(function (like) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDetails, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: like.id
    }, like));
  })));
}
function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", {
      className: "media"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
      className: "media-left"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "user-avatar",
      href: props.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
      size: "50",
      user: user
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
      className: "media-body"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDate, {
      likedOn: props.liked_on
    })));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("li", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    className: "user-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_8__["default"], {
    size: "50"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("strong", null, props.username), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(LikeDate, {
    likedOn: props.liked_on
  })));
}
function LikeDate(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement("span", {
    className: "text-muted",
    title: props.likedOn.format("LLL")
  }, props.likedOn.fromNow());
}

/***/ }),

/***/ "./src/components/posting/PostingDialog.jsx":
/*!**************************************************!*\
  !*** ./src/components/posting/PostingDialog.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var CLASS_ACTIVE = "posting-active";
var CLASS_DEFAULT = "posting-default";
var CLASS_MINIMIZED = "posting-minimized";
var CLASS_FULLSCREEN = "posting-fullscreen";
var PostingDialog = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(PostingDialog, _React$Component);
  var _super = _createSuper(PostingDialog);
  function PostingDialog() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostingDialog);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostingDialog, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.body.classList.remove(CLASS_ACTIVE, CLASS_DEFAULT, CLASS_MINIMIZED, CLASS_FULLSCREEN);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(_ref) {
      var fullscreen = _ref.fullscreen,
        minimized = _ref.minimized;
      if (minimized) {
        document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN);
        document.body.classList.add(CLASS_MINIMIZED);
      } else {
        if (fullscreen) {
          document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED);
          document.body.classList.add(CLASS_FULLSCREEN);
        } else {
          document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED);
          document.body.classList.add(CLASS_DEFAULT);
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
        children = _this$props.children,
        fullscreen = _this$props.fullscreen,
        minimized = _this$props.minimized;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()("posting-dialog", {
          "posting-dialog-minimized": minimized,
          "posting-dialog-fullscreen": fullscreen && !minimized
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "posting-dialog-container"
      }, children));
    }
  }]);
  return PostingDialog;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (PostingDialog);

/***/ }),

/***/ "./src/components/posting/PostingDialogBody.jsx":
/*!******************************************************!*\
  !*** ./src/components/posting/PostingDialogBody.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PostingDialogBody = function PostingDialogBody(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-body"
  }, children);
};
/* harmony default export */ __webpack_exports__["default"] = (PostingDialogBody);

/***/ }),

/***/ "./src/components/posting/PostingDialogHeader.jsx":
/*!********************************************************!*\
  !*** ./src/components/posting/PostingDialogHeader.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var PostingDialogHeader = function PostingDialogHeader(_ref) {
  var children = _ref.children,
    close = _ref.close,
    fullscreen = _ref.fullscreen,
    minimize = _ref.minimize,
    minimized = _ref.minimized,
    fullscreenEnter = _ref.fullscreenEnter,
    fullscreenExit = _ref.fullscreenExit,
    open = _ref.open;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "posting-dialog-header"
  }, children, minimized ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Open"),
    type: "button",
    onClick: open
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_less")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Minimize"),
    type: "button",
    onClick: minimize
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_more")), fullscreen ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog hidden-xs hidden-sm",
    title: pgettext("dialog", "Exit the fullscreen mode"),
    type: "button",
    onClick: fullscreenExit
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "fullscreen_exit")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog hidden-xs hidden-sm",
    title: pgettext("dialog", "Enter the fullscreen mode"),
    type: "button",
    onClick: fullscreenEnter
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "fullscreen")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-posting-dialog",
    title: pgettext("dialog", "Cancel"),
    type: "button",
    onClick: close
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "close")));
};
/* harmony default export */ __webpack_exports__["default"] = (PostingDialogHeader);

/***/ }),

/***/ "./src/components/posting/edit.js":
/*!****************************************!*\
  !*** ./src/components/posting/edit.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/editor */ "./src/components/editor/index.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_container__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/container */ "./src/components/posting/utils/container.js");
/* harmony import */ var _utils_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/loader */ "./src/components/posting/utils/loader.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/message */ "./src/components/posting/utils/message.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_13__.hydrate(data.attachments),
        protect: data.is_protected,
        canProtect: data.can_protect
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = window.confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        misago_services_posting__WEBPACK_IMPORTED_MODULE_16__["default"].close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onProtect", function () {
      _this.setState({
        protect: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnprotect", function () {
      _this.setState({
        protect: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      protect: false,
      canProtect: false,
      validators: {
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_14__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(gettext("You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].put(this.props.submit, {
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_13__.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_container__WEBPACK_IMPORTED_MODULE_10__["default"], {
          className: "posting-form"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "row"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_editor__WEBPACK_IMPORTED_MODULE_8__["default"], {
          attachments: this.state.attachments,
          canProtect: this.state.canProtect,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          onProtect: this.onProtect,
          onUnprotect: this.onUnprotect,
          protect: this.state.protect,
          submitLabel: gettext("Edit reply"),
          value: this.state.post
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_message__WEBPACK_IMPORTED_MODULE_12__["default"], {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_loader__WEBPACK_IMPORTED_MODULE_11__["default"], null);
      }
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/posting/index.js":
/*!*****************************************!*\
  !*** ./src/components/posting/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _start__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./start */ "./src/components/posting/start.js");
/* harmony import */ var _start_private__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./start-private */ "./src/components/posting/start-private.js");
/* harmony import */ var _reply__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reply */ "./src/components/posting/reply.js");
/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edit */ "./src/components/posting/edit.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.mode === "START") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_start__WEBPACK_IMPORTED_MODULE_1__["default"], props);
  } else if (props.mode === "START_PRIVATE") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_start_private__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  } else if (props.mode === "REPLY") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_reply__WEBPACK_IMPORTED_MODULE_3__["default"], props);
  } else if (props.mode === "EDIT") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_edit__WEBPACK_IMPORTED_MODULE_4__["default"], props);
  } else {
    return null;
  }
}

/***/ }),

/***/ "./src/components/posting/reply.js":
/*!*****************************************!*\
  !*** ./src/components/posting/reply.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_MarkupEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/loader */ "./src/components/posting/utils/loader.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/message */ "./src/components/posting/utils/message.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _PostingDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PostingDialog */ "./src/components/posting/PostingDialog.jsx");
/* harmony import */ var _PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PostingDialogBody */ "./src/components/posting/PostingDialogBody.jsx");
/* harmony import */ var _PostingDialogHeader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PostingDialogHeader */ "./src/components/posting/PostingDialogHeader.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : ""
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "appendData", function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";
      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + "\n\n" + newPost
          };
        }
        return {
          post: newPost
        };
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = window.confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _this.minimize();
        misago_services_posting__WEBPACK_IMPORTED_MODULE_15__["default"].close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState(attachments);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "minimize", function () {
      _this.setState({
        fullscreen: false,
        minimized: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.setState({
        minimized: false
      });
      if (_this.state.fullscreen) {}
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenEnter", function () {
      _this.setState({
        fullscreen: true,
        minimized: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "fullscreenExit", function () {
      _this.setState({
        fullscreen: false,
        minimized: false
      });
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      minimized: false,
      fullscreen: false,
      post: "",
      attachments: [],
      validators: {
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_13__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;
      if (context && newContext && context.reply === newContext.reply) return;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].get(nextProps.config, nextProps.context || null).then(this.appendData, misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(gettext("You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_14__["default"].post(this.props.submit, {
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_12__.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var dialogProps = {
        thread: this.props.thread,
        minimized: this.state.minimized,
        minimize: this.minimize,
        open: this.open,
        fullscreen: this.state.fullscreen,
        fullscreenEnter: this.fullscreenEnter,
        fullscreenExit: this.fullscreenExit,
        close: this.onCancel
      };
      if (this.state.isErrored) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_message__WEBPACK_IMPORTED_MODULE_11__["default"], {
          message: this.state.isErrored
        }));
      }
      if (!this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_loader__WEBPACK_IMPORTED_MODULE_10__["default"], null));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostingDialogReply, dialogProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        className: "posting-form",
        method: "POST",
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_MarkupEditor__WEBPACK_IMPORTED_MODULE_8__["default"], {
        attachments: this.state.attachments,
        value: this.state.post,
        submitText: gettext("Post reply"),
        disabled: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onChange: this.onPostChange
      })));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

var PostingDialogReply = function PostingDialogReply(_ref) {
  var children = _ref.children,
    close = _ref.close,
    minimized = _ref.minimized,
    minimize = _ref.minimize,
    open = _ref.open,
    fullscreen = _ref.fullscreen,
    fullscreenEnter = _ref.fullscreenEnter,
    fullscreenExit = _ref.fullscreenExit,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialog__WEBPACK_IMPORTED_MODULE_17__["default"], {
    fullscreen: fullscreen,
    minimized: minimized
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogHeader__WEBPACK_IMPORTED_MODULE_19__["default"], {
    fullscreen: fullscreen,
    fullscreenEnter: fullscreenEnter,
    fullscreenExit: fullscreenExit,
    minimized: minimized,
    minimize: minimize,
    open: open,
    close: close
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("strong", null, "Reply to: " + thread.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PostingDialogBody__WEBPACK_IMPORTED_MODULE_18__["default"], null, children));
};

/***/ }),

/***/ "./src/components/posting/start-private.js":
/*!*************************************************!*\
  !*** ./src/components/posting/start-private.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/editor */ "./src/components/editor/index.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_container__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/container */ "./src/components/posting/utils/container.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/message */ "./src/components/posting/utils/message.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_usernames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/usernames */ "./src/components/posting/utils/usernames.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = window.confirm(gettext("Are you sure you want to discard private thread?"));
      if (cancel) {
        misago_services_posting__WEBPACK_IMPORTED_MODULE_16__["default"].close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onToChange", function (event) {
      _this.changeValue("to", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });
    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");
    _this.state = {
      isLoading: false,
      to: to,
      title: "",
      post: "",
      attachments: [],
      validators: {
        title: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_14__.getTitleValidators)(),
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_14__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!(0,_utils_usernames__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.to).length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(gettext("You have to enter at least one recipient."));
        return false;
      }
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(gettext("You have to enter thread title."));
        return false;
      }
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(gettext("You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(errors.title[0]);
        return false;
      }
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].post(this.props.submit, {
        to: (0,_utils_usernames__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_12__.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_container__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onToChange,
        placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
        type: "text",
        value: this.state.to
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_editor__WEBPACK_IMPORTED_MODULE_8__["default"], {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/posting/start.js":
/*!*****************************************!*\
  !*** ./src/components/posting/start.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_MarkupEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/MarkupEditor */ "./src/components/MarkupEditor/index.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var _utils_container__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/container */ "./src/components/posting/utils/container.js");
/* harmony import */ var _utils_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/loader */ "./src/components/posting/utils/loader.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/message */ "./src/components/posting/utils/message.js");
/* harmony import */ var _utils_options__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/options */ "./src/components/posting/utils/options.js");
/* harmony import */ var _utils_attachments__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/attachments */ "./src/components/posting/utils/attachments.js");
/* harmony import */ var _utils_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadSuccess", function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }
        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }
        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });
      _this.setState({
        isReady: true,
        showOptions: showOptions,
        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      var cancel = window.confirm(gettext("Are you sure you want to discard thread?"));
      if (cancel) {
        misago_services_posting__WEBPACK_IMPORTED_MODULE_18__["default"].close();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCategoryChange", function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }
      _this.setState({
        category: category.id,
        categoryOptions: category.post,
        pin: pin
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClose", function () {
      _this.changeValue("close", true);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onOpen", function () {
      _this.changeValue("close", false);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPinGlobally", function () {
      _this.changeValue("pin", 2);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onPinLocally", function () {
      _this.changeValue("pin", 1);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnpin", function () {
      _this.changeValue("pin", 0);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onHide", function () {
      _this.changeValue("hide", true);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUnhide", function () {
      _this.changeValue("hide", false);
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      showOptions: false,
      categoryOptions: null,
      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,
      validators: {
        title: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_16__.getTitleValidators)(),
        post: (0,_utils_validators__WEBPACK_IMPORTED_MODULE_16__.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_17__["default"].get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].error(gettext("You have to enter thread title."));
        return false;
      }
      if (!this.state.post.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].error(gettext("You have to enter a message."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].error(errors.title[0]);
        return false;
      }
      if (errors.post) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].error(errors.post[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_17__["default"].post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: _utils_attachments__WEBPACK_IMPORTED_MODULE_15__.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].error(errors[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isErrored) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_message__WEBPACK_IMPORTED_MODULE_13__["default"], {
          message: this.state.isErrored
        });
      }
      if (!this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_loader__WEBPACK_IMPORTED_MODULE_12__["default"], null);
      }
      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;
      var titleStyle = null;
      if (columns === 1) {
        titleStyle = "col-sm-6";
      } else {
        titleStyle = "col-sm-8";
      }
      if (columns === 3) {
        titleStyle += " col-md-6";
      } else if (columns) {
        titleStyle += " col-md-7";
      } else {
        titleStyle += " col-md-9";
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_container__WEBPACK_IMPORTED_MODULE_11__["default"], {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: titleStyle
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_9__["default"], {
        choices: this.state.categories,
        disabled: this.state.isLoading,
        onChange: this.onCategoryChange,
        value: this.state.category
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_utils_options__WEBPACK_IMPORTED_MODULE_14__["default"], {
        close: this.state.close,
        columns: columns,
        disabled: this.state.isLoading,
        hide: this.state.hide,
        onClose: this.onClose,
        onHide: this.onHide,
        onOpen: this.onOpen,
        onPinGlobally: this.onPinGlobally,
        onPinLocally: this.onPinLocally,
        onUnhide: this.onUnhide,
        onUnpin: this.onUnpin,
        options: this.state.categoryOptions,
        pin: this.state.pin,
        showOptions: this.state.showOptions
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_MarkupEditor__WEBPACK_IMPORTED_MODULE_8__["default"], {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);


/***/ }),

/***/ "./src/components/posting/utils/attachments.js":
/*!*****************************************************!*\
  !*** ./src/components/posting/utils/attachments.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "clean": function() { return /* binding */ clean; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

function clean(attachments) {
  return attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  }).map(function (a) {
    return a.id;
  });
}
function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(attachment.uploaded_on)
    });
  });
}

/***/ }),

/***/ "./src/components/posting/utils/container.js":
/*!***************************************************!*\
  !*** ./src/components/posting/utils/container.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container"
  }, props.children));
}

/***/ }),

/***/ "./src/components/posting/utils/loader.js":
/*!************************************************!*\
  !*** ./src/components/posting/utils/loader.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./container */ "./src/components/posting/utils/container.js");
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "posting-loader"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_2__["default"], null));
}

/***/ }),

/***/ "./src/components/posting/utils/message.js":
/*!*************************************************!*\
  !*** ./src/components/posting/utils/message.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./container */ "./src/components/posting/utils/container.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "posting-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "error_outline"), props.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default",
    onClick: misago_services_posting__WEBPACK_IMPORTED_MODULE_2__["default"].close
  }, gettext("Dismiss"))));
}

/***/ }),

/***/ "./src/components/posting/utils/options.js":
/*!*************************************************!*\
  !*** ./src/components/posting/utils/options.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloseOptions": function() { return /* binding */ CloseOptions; },
/* harmony export */   "HideOptions": function() { return /* binding */ HideOptions; },
/* harmony export */   "PinOptions": function() { return /* binding */ PinOptions; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!props.showOptions) return null;
  var columns = props.columns;
  var className = "col-xs-12 xs-margin-top";
  if (columns === 1) {
    className += " col-sm-2";
  } else {
    className += " sm-margin-top";
  }
  if (columns === 3) {
    className += " col-md-3";
  } else {
    className += " col-md-2";
  }
  className += " posting-options";
  var columnClassName = "col-xs-" + 12 / columns;
  var textClassName = "btn-text";
  if (columns === 3) {
    textClassName += " visible-sm-inline-block";
  } else if (columns === 2) {
    textClassName += " hidden-md hidden-lg";
  } else {
    textClassName += " hidden-sm";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PinOptions, {
    className: columnClassName,
    disabled: props.disabled,
    onPinGlobally: props.onPinGlobally,
    onPinLocally: props.onPinLocally,
    onUnpin: props.onUnpin,
    pin: props.pin,
    show: props.options.pin,
    textClassName: textClassName
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(HideOptions, {
    className: columnClassName,
    disabled: props.disabled,
    hide: props.hide,
    onHide: props.onHide,
    onUnhide: props.onUnhide,
    show: props.options.hide,
    textClassName: textClassName
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CloseOptions, {
    className: columnClassName,
    close: props.close,
    disabled: props.disabled,
    onClose: props.onClose,
    onOpen: props.onOpen,
    show: props.options.close,
    textClassName: textClassName
  })));
}
function CloseOptions(props) {
  if (!props.show) return null;
  var label = props.close ? gettext("Closed") : gettext("Open");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.close ? props.onOpen : props.onClose,
    title: label,
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, props.close ? "lock" : "lock_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: props.textClassName
  }, label)));
}
function HideOptions(props) {
  if (!props.show) return null;
  var label = props.hide ? gettext("Hidden") : gettext("Not hidden");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.hide ? props.onUnhide : props.onHide,
    title: label,
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, props.hide ? "visibility_off" : "visibility"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: props.textClassName
  }, label)));
}
function PinOptions(props) {
  if (!props.show) return null;
  var icon = null;
  var onClick = null;
  var label = null;
  switch (props.pin) {
    case 0:
      icon = "radio_button_unchecked";
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;
    case 1:
      icon = "bookmark_outline";
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");
      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }
      break;
    case 2:
      icon = "bookmark";
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: props.className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: onClick,
    title: label,
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: props.textClassName
  }, label)));
}

/***/ }),

/***/ "./src/components/posting/utils/usernames.js":
/*!***************************************************!*\
  !*** ./src/components/posting/utils/usernames.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });
  return removedDuplicates;
}

/***/ }),

/***/ "./src/components/posting/utils/validators.js":
/*!****************************************************!*\
  !*** ./src/components/posting/utils/validators.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPostValidators": function() { return /* binding */ getPostValidators; },
/* harmony export */   "getTitleLengthMax": function() { return /* binding */ getTitleLengthMax; },
/* harmony export */   "getTitleLengthMin": function() { return /* binding */ getTitleLengthMin; },
/* harmony export */   "getTitleValidators": function() { return /* binding */ getTitleValidators; },
/* harmony export */   "validatePostLengthMax": function() { return /* binding */ validatePostLengthMax; },
/* harmony export */   "validatePostLengthMin": function() { return /* binding */ validatePostLengthMin; }
/* harmony export */ });
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");


function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}
function getPostValidators() {
  if (misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}
function getTitleLengthMin() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.minLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function getTitleLengthMax() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.maxLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function validatePostLengthMin() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.minLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}
function validatePostLengthMax() {
  return (0,misago_utils_validators__WEBPACK_IMPORTED_MODULE_0__.maxLength)(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/controls.js":
/*!*****************************************************!*\
  !*** ./src/components/posts-list/event/controls.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Delete": function() { return /* binding */ Delete; },
/* harmony export */   "Hide": function() { return /* binding */ Hide; },
/* harmony export */   "Unhide": function() { return /* binding */ Unhide; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (isVisible(props.post.acl)) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
      className: "event-controls"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
  } else {
    return null;
  }
}
function isVisible(acl) {
  return acl.can_hide;
}
var Hide = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component);
  var _super = _createSuper(Hide);
  function Hide() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: moment__WEBPACK_IMPORTED_MODULE_8___default()(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));
      var op = {
        op: "replace",
        path: "is-hidden",
        value: true
      };
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].patch(_this.props.post.api.index, [op]).then(function (patch) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Hide"));
      } else {
        return null;
      }
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component2);
  var _super2 = _createSuper(Unhide);
  function Unhide() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, {
        is_hidden: false
      }));
      var op = {
        op: "replace",
        path: "is-hidden",
        value: false
      };
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].patch(_this2.props.post.api.index, [op]).then(function (patch) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Unhide"));
      } else {
        return null;
      }
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component3);
  var _super3 = _createSuper(Delete);
  function Delete() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      var decision = window.confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "delete", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this3.props.post, {
        isDeleted: true
      }));
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"]["delete"](_this3.props.post.api.index).then(function () {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_9__.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, gettext("Delete"));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/posts-list/event/icon.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/event/icon.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ICON = {
  changed_title: "edit",
  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",
  moved: "arrow_forward",
  merged: "call_merge",
  approved: "done",
  opened: "lock_open",
  closed: "lock_outline",
  unhid: "visibility",
  hid: "visibility_off",
  changed_owner: "grade",
  tookover: "grade",
  added_participant: "person_add",
  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};
var EventIcon = function EventIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "event-icon-bg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, ICON[props.post.event_type]));
};
/* harmony default export */ __webpack_exports__["default"] = (EventIcon);

/***/ }),

/***/ "./src/components/posts-list/event/index.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/event/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icon */ "./src/components/posts-list/event/icon.js");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./info */ "./src/components/posts-list/event/info.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/components/posts-list/event/message.js");
/* harmony import */ var _unread_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unread-label */ "./src/components/posts-list/event/unread-label.js");
/* harmony import */ var _waypoint__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../waypoint */ "./src/components/posts-list/waypoint.js");






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var className = "event";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_unread_label__WEBPACK_IMPORTED_MODULE_4__["default"], {
    post: props.post
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_icon__WEBPACK_IMPORTED_MODULE_1__["default"], props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "event-content",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_message__WEBPACK_IMPORTED_MODULE_3__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_info__WEBPACK_IMPORTED_MODULE_2__["default"], props))));
}

/***/ }),

/***/ "./src/components/posts-list/event/info.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/event/info.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Hidden": function() { return /* binding */ Hidden; },
/* harmony export */   "Poster": function() { return /* binding */ Poster; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls */ "./src/components/posts-list/event/controls.js");



var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-inline event-info"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Hidden, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Poster, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_2__["default"], props));
}
function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.url.hidden_by),
        user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_by_name)
      }, true);
    }
    var date = interpolate(DATE_ABBR, {
      absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_on.format("LLL")),
      relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.hidden_on.fromNow())
    }, true);
    var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: {
        __html: message
      }
    });
  } else {
    return null;
  }
}
function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster.url),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.poster_name)
    }, true);
  }
  var date = interpolate(DATE_URL, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.url.index),
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.posted_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.posted_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/message.js":
/*!****************************************************!*\
  !*** ./src/components/posts-list/event/message.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddedParticipant": function() { return /* binding */ AddedParticipant; },
/* harmony export */   "ChangedOwner": function() { return /* binding */ ChangedOwner; },
/* harmony export */   "ChangedTitle": function() { return /* binding */ ChangedTitle; },
/* harmony export */   "Merged": function() { return /* binding */ Merged; },
/* harmony export */   "Moved": function() { return /* binding */ Moved; },
/* harmony export */   "RemovedParticipant": function() { return /* binding */ RemovedParticipant; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");


var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),
  approved: gettext("Thread has been approved."),
  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),
  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),
  tookover: gettext("Took thread over."),
  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};
var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (MESSAGE[props.post.event_type]) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      className: "event-message"
    }, MESSAGE[props.post.event_type]);
  } else if (props.post.event_type === "changed_title") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RemovedParticipant, props);
  } else {
    return null;
  }
}
function ChangedTitle(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function Moved(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.from_category.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.from_category.name)
  }, true);
  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function Merged(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.merged_thread)
  }, true);
  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function ChangedOwner(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function AddedParticipant(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}
function RemovedParticipant(props) {
  var msgstring = (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.url),
    name: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/event/unread-label.js":
/*!*********************************************************!*\
  !*** ./src/components/posts-list/event/unread-label.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post;
  if (post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "event-label"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "label label-unread"
  }, gettext("New event")));
}

/***/ }),

/***/ "./src/components/posts-list/index.js":
/*!********************************************!*\
  !*** ./src/components/posts-list/index.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListItem": function() { return /* binding */ ListItem; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event */ "./src/components/posts-list/event/index.js");
/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./post */ "./src/components/posts-list/post/index.js");
/* harmony import */ var _post_preview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./post/preview */ "./src/components/posts-list/post/preview.js");





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!props.posts.isLoaded) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
      className: "posts-list ui-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_post_preview__WEBPACK_IMPORTED_MODULE_4__["default"], null));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: "posts-list ui-ready"
  }, props.posts.results.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ListItem, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
      key: post.id,
      post: post
    }, props));
  }));
}
function ListItem(props) {
  if (props.post.is_event) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_event__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_post__WEBPACK_IMPORTED_MODULE_3__["default"], props);
}

/***/ }),

/***/ "./src/components/posts-list/post/attachments/attachment.js":
/*!******************************************************************!*\
  !*** ./src/components/posts-list/post/attachments/attachment.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AttachmentDetails": function() { return /* binding */ AttachmentDetails; },
/* harmony export */   "AttachmentIcon": function() { return /* binding */ AttachmentIcon; },
/* harmony export */   "AttachmentPreview": function() { return /* binding */ AttachmentPreview; },
/* harmony export */   "AttachmentThumbnail": function() { return /* binding */ AttachmentThumbnail; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");
/* harmony import */ var misago_utils_file_size__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/file-size */ "./src/utils/file-size.js");




var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-12 col-md-6"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentPreview, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-attachment"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: props.attachment.url.index,
    className: "attachment-name item-title"
  }, props.attachment.filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentDetails, props)));
}
function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentThumbnail, props));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AttachmentIcon, props));
  }
}
function AttachmentIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: props.attachment.url.index,
    className: "material-icon"
  }, "insert_drive_file");
}
function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    style: {
      backgroundImage: 'url("' + (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(url) + '")'
    }
  });
}
function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.url.uploader),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploader_name)
    }, true);
  }
  var date = interpolate(DATE_ABBR, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploaded_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(props.attachment.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_2__["default"])(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0,misago_utils_file_size__WEBPACK_IMPORTED_MODULE_3__["default"])(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

/***/ }),

/***/ "./src/components/posts-list/post/attachments/index.js":
/*!*************************************************************!*\
  !*** ./src/components/posts-list/post/attachments/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Row": function() { return /* binding */ Row; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_batch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/batch */ "./src/utils/batch.js");
/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachment */ "./src/components/posts-list/post/attachments/attachment.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!isVisible(props.post)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-attachments"
  }, (0,misago_utils_batch__WEBPACK_IMPORTED_MODULE_1__["default"])(props.post.attachments, 2).map(function (row) {
    var key = row.map(function (a) {
      return a ? a.id : 0;
    }).join("_");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Row, {
      key: key,
      row: row
    });
  }));
}
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}
function Row(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, props.row.map(function (attachment) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_attachment__WEBPACK_IMPORTED_MODULE_2__["default"], {
      attachment: attachment,
      key: attachment ? attachment.id : 0
    });
  }));
}

/***/ }),

/***/ "./src/components/posts-list/post/body.js":
/*!************************************************!*\
  !*** ./src/components/posts-list/post/body.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Default": function() { return /* binding */ Default; },
/* harmony export */   "Hidden": function() { return /* binding */ Hidden; },
/* harmony export */   "Invalid": function() { return /* binding */ Invalid; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _waypoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../waypoint */ "./src/components/posts-list/waypoint.js");
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/escape-html */ "./src/utils/escape-html.js");




var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Hidden, props);
  } else if (props.post.content) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Default, props);
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Invalid, props);
  }
}
function Default(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    markup: props.post.content
  }));
}
function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.url.hidden_by),
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_by_name)
    }, true);
  }
  var date = interpolate(HIDDEN_ON, {
    absolute: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_on.format("LLL")),
    relative: (0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(props.post.hidden_on.fromNow())
  }, true);
  var message = interpolate((0,misago_utils_escape_html__WEBPACK_IMPORTED_MODULE_3__["default"])(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body post-body-hidden",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("This post is hidden. You cannot see its contents.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}
function Invalid(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_waypoint__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "post-body post-body-invalid",
    post: props.post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/actions.js":
/*!************************************************************!*\
  !*** ./src/components/posts-list/post/controls/actions.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "approve": function() { return /* binding */ approve; },
/* harmony export */   "hide": function() { return /* binding */ hide; },
/* harmony export */   "like": function() { return /* binding */ like; },
/* harmony export */   "markAsBestAnswer": function() { return /* binding */ markAsBestAnswer; },
/* harmony export */   "patch": function() { return /* binding */ patch; },
/* harmony export */   "patchThread": function() { return /* binding */ patchThread; },
/* harmony export */   "protect": function() { return /* binding */ protect; },
/* harmony export */   "remove": function() { return /* binding */ remove; },
/* harmony export */   "unhide": function() { return /* binding */ unhide; },
/* harmony export */   "unlike": function() { return /* binding */ unlike; },
/* harmony export */   "unmarkBestAnswer": function() { return /* binding */ unmarkBestAnswer; },
/* harmony export */   "unprotect": function() { return /* binding */ unprotect; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");






function approve(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_unapproved: false
  }));
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var previousState = {
    is_unapproved: props.post.is_unapproved
  };
  patch(props, ops, previousState);
}
function protect(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_protected: true
  }));
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}
function unprotect(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_protected: false
  }));
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}
function hide(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_hidden: true,
    hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };
  patch(props, ops, previousState);
}
function unhide(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_hidden: false
  }));
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var previousState = {
    is_hidden: props.post.is_hidden
  };
  patch(props, ops, previousState);
}
function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));
  var ops = [{
    op: "replace",
    path: "is-liked",
    value: true
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}
function unlike(props) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));
  var ops = [{
    op: "replace",
    path: "is-liked",
    value: false
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}
function patch(props, ops, previousState) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(props.post.api.index, ops).then(function (newState) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail[0]);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, previousState));
  });
}
function remove(props) {
  var confirmed = window.confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
    isDeleted: true
  }));
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"]["delete"](props.post.api.index).then(function () {
    misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(props.post, {
      isDeleted: false
    }));
  });
}
function markAsBestAnswer(props) {
  var post = props.post,
    user = props.user;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));
  var ops = [{
    op: "replace",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}
function unmarkBestAnswer(props) {
  var post = props.post;
  misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));
  var ops = [{
    op: "remove",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}
function patchThread(props, ops, previousState) {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = moment__WEBPACK_IMPORTED_MODULE_0___default()(newState.best_answer_marked_on);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail[0]);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    misago_services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.update(previousState));
  });
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/dropdown.js":
/*!*************************************************************!*\
  !*** ./src/components/posts-list/post/controls/dropdown.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Approve": function() { return /* binding */ Approve; },
/* harmony export */   "Delete": function() { return /* binding */ Delete; },
/* harmony export */   "Edit": function() { return /* binding */ Edit; },
/* harmony export */   "Hide": function() { return /* binding */ Hide; },
/* harmony export */   "MarkAsBestAnswer": function() { return /* binding */ MarkAsBestAnswer; },
/* harmony export */   "Move": function() { return /* binding */ Move; },
/* harmony export */   "Permalink": function() { return /* binding */ Permalink; },
/* harmony export */   "PostEdits": function() { return /* binding */ PostEdits; },
/* harmony export */   "Protect": function() { return /* binding */ Protect; },
/* harmony export */   "Split": function() { return /* binding */ Split; },
/* harmony export */   "Unhide": function() { return /* binding */ Unhide; },
/* harmony export */   "UnmarkMarkBestAnswer": function() { return /* binding */ UnmarkMarkBestAnswer; },
/* harmony export */   "Unprotect": function() { return /* binding */ Unprotect; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./actions */ "./src/components/posts-list/post/controls/actions.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./move */ "./src/components/posts-list/post/controls/move.js");
/* harmony import */ var misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/post-changelog */ "./src/components/post-changelog/index.js");
/* harmony import */ var _split__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./split */ "./src/components/posts-list/post/controls/split.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Permalink, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Edit, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(MarkAsBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnmarkMarkBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEdits, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Approve, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Move, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Split, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Protect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unprotect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
}
var Permalink = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Permalink, _React$Component);
  var _super = _createSuper(Permalink);
  function Permalink() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Permalink);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;
      prompt(gettext("Permament link to this post:"), permaUrl);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Permalink, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "link"), gettext("Permament link")));
    }
  }]);
  return Permalink;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Edit = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Edit, _React$Component2);
  var _super2 = _createSuper(Edit);
  function Edit() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Edit);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_9__["default"].open({
        mode: "EDIT",
        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Edit")));
    }
  }]);
  return Edit;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswer, _React$Component3);
  var _super3 = _createSuper(MarkAsBestAnswer);
  function MarkAsBestAnswer() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswer);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.markAsBestAnswer(_this3.props);
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        post = _this$props.post,
        thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Mark as best answer")));
    }
  }]);
  return MarkAsBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var UnmarkMarkBestAnswer = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(UnmarkMarkBestAnswer, _React$Component4);
  var _super4 = _createSuper(UnmarkMarkBestAnswer);
  function UnmarkMarkBestAnswer() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, UnmarkMarkBestAnswer);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unmarkBestAnswer(_this4.props);
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        post = _this$props2.post,
        thread = _this$props2.thread;
      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Unmark best answer")));
    }
  }]);
  return UnmarkMarkBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var PostEdits = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEdits, _React$Component5);
  var _super5 = _createSuper(PostEdits);
  function PostEdits() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEdits);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super5.call.apply(_super5, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_12__["default"], {
        post: _this5.props.post
      }));
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Changes history")));
    }
  }]);
  return PostEdits;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Approve = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Approve, _React$Component6);
  var _super6 = _createSuper(Approve);
  function Approve() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Approve);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.approve(_this6.props);
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);
  return Approve;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Move = /*#__PURE__*/function (_React$Component7) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Move, _React$Component7);
  var _super7 = _createSuper(Move);
  function Move() {
    var _this7;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Move);
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    _this7 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this7), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_11__["default"], _this7.props));
    });
    return _this7;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);
  return Move;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Split = /*#__PURE__*/function (_React$Component8) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Split, _React$Component8);
  var _super8 = _createSuper(Split);
  function Split() {
    var _this8;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Split);
    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }
    _this8 = _super8.call.apply(_super8, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this8), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_split__WEBPACK_IMPORTED_MODULE_13__["default"], _this8.props));
    });
    return _this8;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);
  return Split;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Protect = /*#__PURE__*/function (_React$Component9) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Protect, _React$Component9);
  var _super9 = _createSuper(Protect);
  function Protect() {
    var _this9;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Protect);
    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }
    _this9 = _super9.call.apply(_super9, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this9), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.protect(_this9.props);
    });
    return _this9;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);
  return Protect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unprotect = /*#__PURE__*/function (_React$Component10) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unprotect, _React$Component10);
  var _super10 = _createSuper(Unprotect);
  function Unprotect() {
    var _this10;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unprotect);
    for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }
    _this10 = _super10.call.apply(_super10, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this10), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unprotect(_this10.props);
    });
    return _this10;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Remove protection")));
    }
  }]);
  return Unprotect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Hide = /*#__PURE__*/function (_React$Component11) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component11);
  var _super11 = _createSuper(Hide);
  function Hide() {
    var _this11;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }
    _this11 = _super11.call.apply(_super11, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this11), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.hide(_this11.props);
    });
    return _this11;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
        post = _this$props3.post,
        thread = _this$props3.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component12) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component12);
  var _super12 = _createSuper(Unhide);
  function Unhide() {
    var _this12;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }
    _this12 = _super12.call.apply(_super12, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this12), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.unhide(_this12.props);
    });
    return _this12;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component13) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component13);
  var _super13 = _createSuper(Delete);
  function Delete() {
    var _this13;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }
    _this13 = _super13.call.apply(_super13, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this13), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_10__.remove(_this13.props);
    });
    return _this13;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
        post = _this$props4.post,
        thread = _this$props4.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/posts-list/post/controls/index.js":
/*!**********************************************************!*\
  !*** ./src/components/posts-list/post/controls/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dropdown */ "./src/components/posts-list/post/controls/dropdown.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "pull-right dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default btn-icon dropdown-toggle",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "expand_more")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dropdown__WEBPACK_IMPORTED_MODULE_1__["default"], props));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/move.js":
/*!*********************************************************!*\
  !*** ./src/components/posts-list/post/controls/move.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__.patch(this.props.post, {
        isDeleted: true
      }));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "id_url",
        label: gettext("Link to thread you want to move post to")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading
      }, gettext("Move post"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Move post")));
}

/***/ }),

/***/ "./src/components/posts-list/post/controls/split.js":
/*!**********************************************************!*\
  !*** ./src/components/posts-list/post/controls/split.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Error": function() { return /* binding */ Error; },
/* harmony export */   "Loader": function() { return /* binding */ Loader; },
/* harmony export */   "Modal": function() { return /* binding */ Modal; },
/* harmony export */   "ModerationForm": function() { return /* binding */ ModerationForm; },
/* harmony export */   "PostingConfig": function() { return /* binding */ PostingConfig; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }













/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(PostingConfig, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, props, {
    Form: ModerationForm
  }));
}
var PostingConfig = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PostingConfig, _React$Component);
  var _super = _createSuper(PostingConfig);
  function PostingConfig(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PostingConfig);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });
        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(ModerationForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Loader, null);
      }
    }
  }]);
  return PostingConfig;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var ModerationForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ModerationForm, _Form);
  var _super2 = _createSuper(ModerationForm);
  function ModerationForm(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ModerationForm);
    _this3 = _super2.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };
      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }
      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }
      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }
      _this3.setState(newState);
    });
    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }
        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__.patch(this.props.post, {
        isDeleted: true
      }));
      misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];
      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }
      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split post")))));
    }
  }]);
  return ModerationForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
function Loader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
}
function Error(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
    className: "lead"
  }, gettext("You can't move this post at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, props.message)));
}
function Modal(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Split post into new thread"))), props.children));
}

/***/ }),

/***/ "./src/components/posts-list/post/flags.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/post/flags.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlagBestAnswer": function() { return /* binding */ FlagBestAnswer; },
/* harmony export */   "FlagHidden": function() { return /* binding */ FlagHidden; },
/* harmony export */   "FlagProtected": function() { return /* binding */ FlagProtected; },
/* harmony export */   "FlagUnapproved": function() { return /* binding */ FlagUnapproved; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

function FlagBestAnswer(_ref) {
  var post = _ref.post,
    thread = _ref.thread,
    user = _ref.user;
  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }
  var message = null;
  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(gettext("Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-best-answer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, message));
}
function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-hidden"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("This post is hidden. Only users with permission may see its contents.")));
}
function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-unapproved"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "remove_circle_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")));
}
function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-status-message post-status-protected visible-xs-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("This post is protected. Only moderators may change it.")));
}
function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

/***/ }),

/***/ "./src/components/posts-list/post/footer.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/footer.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Edit": function() { return /* binding */ Edit; },
/* harmony export */   "Like": function() { return /* binding */ Like; },
/* harmony export */   "Likes": function() { return /* binding */ Likes; },
/* harmony export */   "LikesCompact": function() { return /* binding */ LikesCompact; },
/* harmony export */   "MarkAsBestAnswer": function() { return /* binding */ MarkAsBestAnswer; },
/* harmony export */   "MarkAsBestAnswerCompact": function() { return /* binding */ MarkAsBestAnswerCompact; },
/* harmony export */   "Reply": function() { return /* binding */ Reply; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getLikesMessage": function() { return /* binding */ getLikesMessage; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _controls_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controls/actions */ "./src/components/posts-list/post/controls/actions.js");
/* harmony import */ var misago_components_post_likes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/post-likes */ "./src/components/post-likes.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (!isVisible(props.post)) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "post-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(MarkAsBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(MarkAsBestAnswerCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Like, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Likes, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({
    lastLikes: props.post.last_likes,
    likes: props.post.likes
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(LikesCompact, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({
    likes: props.post.likes
  }, props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Reply, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Edit, props));
}
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}
var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswer, _React$Component);
  var _super = _createSuper(MarkAsBestAnswer);
  function MarkAsBestAnswer() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswer);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _controls_actions__WEBPACK_IMPORTED_MODULE_9__.markAsBestAnswer(_this.props);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        post = _this$props.post,
        thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "hidden-xs btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Best answer"));
    }
  }]);
  return MarkAsBestAnswer;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var MarkAsBestAnswerCompact = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(MarkAsBestAnswerCompact, _React$Component2);
  var _super2 = _createSuper(MarkAsBestAnswerCompact);
  function MarkAsBestAnswerCompact() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MarkAsBestAnswerCompact);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      _controls_actions__WEBPACK_IMPORTED_MODULE_9__.markAsBestAnswer(_this2.props);
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        post = _this$props2.post,
        thread = _this$props2.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "check_box"));
    }
  }]);
  return MarkAsBestAnswerCompact;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Like = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Like, _React$Component3);
  var _super3 = _createSuper(Like);
  function Like() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Like);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      if (_this3.props.post.is_liked) {
        _controls_actions__WEBPACK_IMPORTED_MODULE_9__.unlike(_this3.props);
      } else {
        _controls_actions__WEBPACK_IMPORTED_MODULE_9__.like(_this3.props);
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;
      var className = "btn btn-default btn-sm pull-left";
      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: className,
        disabled: this.props.post.isBusy,
        onClick: this.onClick,
        type: "button"
      }, this.props.post.is_liked ? gettext("Liked") : gettext("Like"));
    }
  }]);
  return Like;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Likes = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Likes, _React$Component4);
  var _super4 = _createSuper(Likes);
  function Likes() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Likes);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_post_likes__WEBPACK_IMPORTED_MODULE_10__["default"], {
        post: _this4.props.post
      }));
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;
      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-link btn-sm pull-left hidden-xs",
          onClick: this.onClick,
          type: "button"
        }, getLikesMessage(this.props.likes, this.props.lastLikes));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "pull-left hidden-xs"
      }, getLikesMessage(this.props.likes, this.props.lastLikes));
    }
  }]);
  return Likes;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var LikesCompact = /*#__PURE__*/function (_Likes) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(LikesCompact, _Likes);
  var _super5 = _createSuper(LikesCompact);
  function LikesCompact() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LikesCompact);
    return _super5.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;
      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
          onClick: this.onClick,
          type: "button"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
          className: "material-icon"
        }, "favorite"), this.props.likes);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "likes-compact pull-left visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "favorite"), this.props.likes);
    }
  }]);
  return LikesCompact;
}(Likes);
function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });
  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }
  var hiddenLikes = likes - usernames.length;
  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];
  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);
  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }
  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);
  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}
var Reply = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Reply, _React$Component5);
  var _super6 = _createSuper(Reply);
  function Reply() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Reply);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].open({
        mode: "REPLY",
        config: _this5.props.thread.api.editor,
        submit: _this5.props.thread.api.posts.index,
        context: {
          reply: _this5.props.post.id
        }
      });
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "btn btn-primary btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Reply"));
      } else {
        return null;
      }
    }
  }]);
  return Reply;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var Edit = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Edit, _React$Component6);
  var _super7 = _createSuper(Edit);
  function Edit() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Edit);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_12__["default"].open({
        mode: "EDIT",
        config: _this6.props.post.api.editor,
        submit: _this6.props.post.api.index
      });
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
          className: "hidden-xs btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Edit"));
      } else {
        return null;
      }
    }
  }]);
  return Edit;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

/***/ }),

/***/ "./src/components/posts-list/post/header.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/header.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostEdits": function() { return /* binding */ PostEdits; },
/* harmony export */   "PostEditsCompacts": function() { return /* binding */ PostEditsCompacts; },
/* harmony export */   "PostedOn": function() { return /* binding */ PostedOn; },
/* harmony export */   "PostedOnCompact": function() { return /* binding */ PostedOnCompact; },
/* harmony export */   "ProtectedLabel": function() { return /* binding */ ProtectedLabel; },
/* harmony export */   "UnreadCompact": function() { return /* binding */ UnreadCompact; },
/* harmony export */   "UnreadLabel": function() { return /* binding */ UnreadLabel; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var _select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./select */ "./src/components/posts-list/post/select.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/post-changelog */ "./src/components/post-changelog/index.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnreadLabel, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(UnreadCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostedOn, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostedOnCompact, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEdits, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PostEditsCompacts, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ProtectedLabel, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_select__WEBPACK_IMPORTED_MODULE_9__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_controls__WEBPACK_IMPORTED_MODULE_8__["default"], props));
}
function UnreadLabel(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-unread hidden-xs"
  }, gettext("New post"));
}
function UnreadCompact(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-unread visible-xs-inline-block"
  }, gettext("New"));
}
function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: props.post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on hidden-xs",
    title: tooltip
  }, props.post.posted_on.fromNow());
}
function PostedOnCompact(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on visible-xs-inline-block"
  }, props.post.posted_on.fromNow());
}
var PostEdits = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEdits, _React$Component);
  var _super = _createSuper(PostEdits);
  function PostEdits() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEdits);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_changelog__WEBPACK_IMPORTED_MODULE_11__["default"], {
        post: _this.props.post
      }));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);
      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link btn-see-edits hidden-xs",
        onClick: this.onClick,
        title: title,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);
  return PostEdits;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var PostEditsCompacts = /*#__PURE__*/function (_PostEdits) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(PostEditsCompacts, _PostEdits);
  var _super2 = _createSuper(PostEditsCompacts);
  function PostEditsCompacts() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PostEditsCompacts);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link btn-see-edits visible-xs-inline-block",
        onClick: this.onClick,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);
  return PostEditsCompacts;
}(PostEdits);
function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);
  if (!isVisible) {
    return null;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "label label-protected hidden-xs",
    title: gettext("This post is protected and may not be edited.")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "lock_outline"), gettext("protected"));
}

/***/ }),

/***/ "./src/components/posts-list/post/index.js":
/*!*************************************************!*\
  !*** ./src/components/posts-list/post/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _attachments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./attachments */ "./src/components/posts-list/post/attachments/index.js");
/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./body */ "./src/components/posts-list/post/body.js");
/* harmony import */ var _flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flags */ "./src/components/posts-list/post/flags.js");
/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./footer */ "./src/components/posts-list/post/footer.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./header */ "./src/components/posts-list/post/header.js");
/* harmony import */ var _post_side__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./post-side */ "./src/components/posts-list/post/post-side/index.js");







/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  var className = "post";
  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }
  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }
  if (!props.post.is_read) {
    className += " post-new";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_post_side__WEBPACK_IMPORTED_MODULE_6__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_5__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagBestAnswer, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagUnapproved, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagProtected, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_flags__WEBPACK_IMPORTED_MODULE_3__.FlagHidden, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_body__WEBPACK_IMPORTED_MODULE_2__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_attachments__WEBPACK_IMPORTED_MODULE_1__["default"], props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_footer__WEBPACK_IMPORTED_MODULE_4__["default"], props)))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/anonymous.js":
/*!***************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/anonymous.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/posts-list/post/controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/posts-list/post/select */ "./src/components/posts-list/post/select.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 100
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "media-heading item-title"
  }, post.poster_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/has-visible-title.js":
/*!***********************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/has-visible-title.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var title = _ref.title,
    rank = _ref.rank;
  return rank.is_tab || !!title || !!rank.title;
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/index.js":
/*!***********************************************************!*\
  !*** ./src/components/posts-list/post/post-side/index.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _anonymous__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./anonymous */ "./src/components/posts-list/post/post-side/anonymous.js");
/* harmony import */ var _registered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./registered */ "./src/components/posts-list/post/post-side/registered.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  if (props.post.poster) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_registered__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_anonymous__WEBPACK_IMPORTED_MODULE_1__["default"], props);
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/registered.js":
/*!****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/registered.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/posts-list/post/controls */ "./src/components/posts-list/post/controls/index.js");
/* harmony import */ var misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/posts-list/post/select */ "./src/components/posts-list/post/select.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var _user_postcount__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user-postcount */ "./src/components/posts-list/post/post-side/user-postcount.js");
/* harmony import */ var _user_status__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user-status */ "./src/components/posts-list/post/post-side/user-status.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user-title */ "./src/components/posts-list/post/post-side/user-title.js");








/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var post = _ref.post,
    thread = _ref.thread;
  var poster = post.poster;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_posts_list_post_controls__WEBPACK_IMPORTED_MODULE_2__["default"], {
    post: post,
    thread: thread
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: poster.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: 100,
    user: poster
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__["default"], {
    status: poster.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_4__.StatusIcon, {
    status: poster.status
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_7__["default"], {
    rank: poster.rank,
    title: poster.title
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_6__["default"], {
    poster: poster
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_postcount__WEBPACK_IMPORTED_MODULE_5__["default"], {
    poster: poster
  }))));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-postcount.js":
/*!********************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-postcount.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _has_visible_title__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./has-visible-title */ "./src/components/posts-list/post/post-side/has-visible-title.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var poster = _ref.poster;
  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);
  var className = "user-postcount";
  if ((0,_has_visible_title__WEBPACK_IMPORTED_MODULE_1__["default"])(poster)) {
    className += " hidden-xs hidden-sm";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, interpolate(message, {
    posts: poster.posts
  }, true));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-status.js":
/*!*****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-status.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var _has_visible_title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./has-visible-title */ "./src/components/posts-list/post/post-side/has-visible-title.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var poster = _ref.poster;
  var className = "hidden-xs";
  if ((0,_has_visible_title__WEBPACK_IMPORTED_MODULE_2__["default"])(poster)) {
    className += " hidden-sm";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    status: poster.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    status: poster.status,
    user: poster
  })));
}

/***/ }),

/***/ "./src/components/posts-list/post/post-side/user-title.js":
/*!****************************************************************!*\
  !*** ./src/components/posts-list/post/post-side/user-title.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title;
  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }
  if (!userTitle) return null;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: rank.url
    }, userTitle));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/posts-list/post/preview.js":
/*!***************************************************!*\
  !*** ./src/components/posts-list/post/preview.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");



var PostPreview = function PostPreview() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "poster-avatar",
    size: "100"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "media-heading item-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: "80px"
    }
  }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "ui-preview-text",
    style: {
      width: "60px"
    }
  }, "\xA0"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text",
    style: {
      width: "100%"
    }
  }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text",
    style: {
      width: "70%"
    }
  }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "ui-preview-text hidden-xs hidden-sm",
    style: {
      width: "85%"
    }
  }, "\xA0")))))));
};
/* harmony default export */ __webpack_exports__["default"] = (PostPreview);

/***/ }),

/***/ "./src/components/posts-list/post/select.js":
/*!**************************************************!*\
  !*** ./src/components/posts-list/post/select.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "isVisible": function() { return /* binding */ isVisible; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      if (_this.props.post.isSelected) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_9__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__.deselect(_this.props.post));
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_9__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_8__.select(_this.props.post));
      }
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pull-right"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default btn-icon",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.props.post.isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

/***/ }),

/***/ "./src/components/posts-list/waypoint.js":
/*!***********************************************!*\
  !*** ./src/components/posts-list/waypoint.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value:
    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    function componentDidMount() {
      var _this = this;
      if (this.props.post.is_read) return; // don't register read tracker

      $(this.element).waypoint({
        handler: function handler(direction) {
          if (direction !== "down" || _this.props.post.is_read) return;

          // after 1500ms run flag post as read logic
          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this.element.getBoundingClientRect();
            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;
            if (offsetBottom < 5) return; // scrolled past the post
            if (offsetBottom > clientHeight) return; // scrolled back up

            // mark post as read
            misago_services_store__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_6__.patch(_this.props.post, {
              is_read: true
            }));

            // call API to let it know we have unread post
            misago_services_ajax__WEBPACK_IMPORTED_MODULE_8__["default"].post(_this.props.post.api.read).then(function (data) {
              misago_services_store__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_7__.update(_this.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              misago_services_snackbar__WEBPACK_IMPORTED_MODULE_9__["default"].apiError(rejection);
            });
          }, 1000);
        },
        offset: "bottom-in-view"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.props.className,
        ref: function ref(node) {
          if (node) _this2.element = node;
        }
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/profile/ProfileDataList.jsx":
/*!****************************************************!*\
  !*** ./src/components/profile/ProfileDataList.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user-status */ "./src/components/user-status.js");


var ProfileDataList = function ProfileDataList(_ref) {
  var profile = _ref.profile;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "profile-data-list"
  }, profile.is_active === false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-account-disabled"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: gettext("This user's account has been disabled by administrator.")
  }, gettext("Account disabled"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-status-display"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    user: profile,
    status: profile.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusIcon, {
    user: profile,
    status: profile.status
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    user: profile,
    status: profile.status,
    className: "status-label"
  }))), profile.rank.is_tab ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-rank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: profile.rank.url,
    className: "item-title"
  }, profile.rank.name)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-rank"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "item-title"
  }, profile.rank.name)), (profile.title || profile.rank.title) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-title"
  }, profile.title || profile.rank.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-joined-on"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: interpolate(gettext("Joined on %(joined_on)s"), {
      joined_on: profile.joined_on.format("LL, LT")
    }, true)
  }, interpolate(gettext("Joined %(joined_on)s"), {
    joined_on: profile.joined_on.fromNow()
  }, true))), profile.email && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-email"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: "mailto:" + profile.email,
    className: "item-title"
  }, profile.email)));
};
/* harmony default export */ __webpack_exports__["default"] = (ProfileDataList);

/***/ }),

/***/ "./src/components/profile/ProfileHeader.jsx":
/*!**************************************************!*\
  !*** ./src/components/profile/ProfileHeader.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar */ "./src/components/avatar.js");
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");
/* harmony import */ var _follow_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./follow-button */ "./src/components/profile/follow-button.js");
/* harmony import */ var _message_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message-button */ "./src/components/profile/message-button.js");
/* harmony import */ var _moderation_nav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./moderation/nav */ "./src/components/profile/moderation/nav.js");
/* harmony import */ var _ProfileDataList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProfileDataList */ "./src/components/profile/ProfileDataList.jsx");








var ProfileHeader = function ProfileHeader(_ref) {
  var profile = _ref.profile,
    user = _ref.user,
    moderation = _ref.moderation,
    message = _ref.message,
    follow = _ref.follow;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeader, {
    styleName: profile.rank.css_class ? "rank-" + profile.rank.css_class : "profile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderBanner, {
    styleName: profile.rank.css_class ? "rank-" + profile.rank.css_class : "profile"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "profile-page-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "profile-page-header-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-sm hidden-md hidden-lg",
    user: profile,
    size: 200,
    size2x: 400
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-xs hidden-md hidden-lg",
    user: profile,
    size: 64,
    size2x: 128
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "user-avatar hidden-xs hidden-sm",
    user: profile,
    size: 128,
    size2x: 256
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, profile.username))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_3__.PageHeaderDetails, {
    className: "profile-page-header-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ProfileDataList__WEBPACK_IMPORTED_MODULE_7__["default"], {
    profile: profile
  }))), message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_message_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "btn btn-default btn-block btn-outline",
    profile: profile,
    user: user
  })), moderation.available && !follow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  })))), follow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_follow_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "btn btn-block btn-outline",
    profile: profile
  })), moderation.available && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  })))), moderation.available && !follow && !message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    className: "hidden-xs",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProfileModerationButton, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_2__.FlexRowCol, {
    className: "hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings"), gettext("Options")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_nav__WEBPACK_IMPORTED_MODULE_6__["default"], {
    profile: profile,
    moderation: moderation
  }))))))));
};
var ProfileModerationButton = function ProfileModerationButton() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-icon btn-outline dropdown-toggle",
    type: "button",
    title: gettext("Options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings"));
};
/* harmony default export */ __webpack_exports__["default"] = (ProfileHeader);

/***/ }),

/***/ "./src/components/profile/ProfileNav.js":
/*!**********************************************!*\
  !*** ./src/components/profile/ProfileNav.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_li__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/li */ "./src/components/li.js");



var ProfileNav = function ProfileNav(_ref) {
  var baseUrl = _ref.baseUrl,
    page = _ref.page,
    pages = _ref.pages;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "nav-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, page.icon), page.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, pages.map(function (page) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: page.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: baseUrl + page.component + "/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "nav nav-pills hidden-xs",
    role: "menu"
  }, pages.map(function (page) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_li__WEBPACK_IMPORTED_MODULE_2__["default"], {
      path: baseUrl + page.component + "/",
      key: page.component
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: baseUrl + page.component + "/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  })));
};
/* harmony default export */ __webpack_exports__["default"] = (ProfileNav);

/***/ }),

/***/ "./src/components/profile/ban-details.js":
/*!***********************************************!*\
  !*** ./src/components/profile/ban-details.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/panel-loader */ "./src/components/panel-loader.js");
/* harmony import */ var misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/panel-message */ "./src/components/panel-message.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (ban) {
      if (ban.expires_on) {
        ban.expires_on = moment__WEBPACK_IMPORTED_MODULE_7___default()(ban.expires_on);
      }
      _this.setState({
        isLoaded: true,
        error: null,
        ban: ban
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "error", function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("PROFILE_BAN")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling(props.profile.api.ban);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = moment__WEBPACK_IMPORTED_MODULE_7___default()(ban.expires_on);
      }
      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_12__["default"].start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_12__["default"].stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "panel-body ban-message ban-user-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, gettext("User-shown ban message")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.user_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "panel-body ban-message ban-staff-message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, gettext("Team-shown ban message")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.staff_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter(moment__WEBPACK_IMPORTED_MODULE_7___default()())) {
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);
          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("abbr", {
            title: _title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, this.getUserMessage(), this.getStaffMessage(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
            className: "panel-body ban-expires"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", null, gettext("Ban expiration")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
            className: "lead"
          }, this.getExpirationMessage())));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
            message: gettext("No ban is active at the moment.")
          }));
        }
      } else if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
          icon: "error_outline",
          message: this.state.error
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_panel_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "profile-ban-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "panel panel-default"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Ban details"))), this.getPanelBody()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/profile/details/empty-message.js":
/*!*********************************************************!*\
  !*** ./src/components/profile/details/empty-message.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var isAuthenticated = _ref.isAuthenticated,
    profile = _ref.profile;
  var message = null;
  if (isAuthenticated) {
    message = gettext("You are not sharing any details with others.");
  } else {
    message = interpolate(gettext("%(username)s is not sharing any details with others."), {
      username: profile.username
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body text-center lead"
  }, message));
}

/***/ }),

/***/ "./src/components/profile/details/field-value.js":
/*!*******************************************************!*\
  !*** ./src/components/profile/details/field-value.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SafeValue": function() { return /* binding */ SafeValue; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var html = _ref.html,
    text = _ref.text,
    url = _ref.url;
  if (html) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: {
        __html: html
      }
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-control-static col-md-9"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SafeValue, {
    text: text,
    url: url
  }));
}
function SafeValue(_ref2) {
  var text = _ref2.text,
    url = _ref2.url;
  if (url) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      href: url,
      target: "_blank",
      rel: "nofollow"
    }, text || url));
  }
  if (text) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, text);
  }
  return null;
}

/***/ }),

/***/ "./src/components/profile/details/field.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/field.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-value */ "./src/components/profile/details/field-value.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", {
    className: "control-label col-md-3"
  }, props.name, ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field_value__WEBPACK_IMPORTED_MODULE_1__["default"], props));
}

/***/ }),

/***/ "./src/components/profile/details/form.js":
/*!************************************************!*\
  !*** ./src/components/profile/details/form.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_edit_details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/edit-details */ "./src/components/edit-details/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var api = _ref.api,
    display = _ref.display,
    onCancel = _ref.onCancel,
    onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_edit_details__WEBPACK_IMPORTED_MODULE_1__["default"], {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

/***/ }),

/***/ "./src/components/profile/details/group.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/group.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field */ "./src/components/profile/details/field.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var fields = _ref.fields,
    name = _ref.name;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-profile-details-group"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "form-horizontal"
  }, fields.map(function (_ref2) {
    var fieldname = _ref2.fieldname,
      html = _ref2.html,
      name = _ref2.name,
      text = _ref2.text,
      url = _ref2.url;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_field__WEBPACK_IMPORTED_MODULE_1__["default"], {
      key: fieldname,
      name: name,
      html: html,
      text: text,
      url: url
    });
  }))));
}

/***/ }),

/***/ "./src/components/profile/details/groups-list.js":
/*!*******************************************************!*\
  !*** ./src/components/profile/details/groups-list.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _empty_message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty-message */ "./src/components/profile/details/empty-message.js");
/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group */ "./src/components/profile/details/group.js");
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var display = _ref.display,
    groups = _ref.groups,
    isAuthenticated = _ref.isAuthenticated,
    loading = _ref.loading,
    profile = _ref.profile;
  if (!display) return null;
  if (loading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_3__["default"], null);
  }
  if (!groups.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_empty_message__WEBPACK_IMPORTED_MODULE_1__["default"], {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, groups.map(function (group, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_group__WEBPACK_IMPORTED_MODULE_2__["default"], {
      fields: group.fields,
      key: i,
      name: group.name
    });
  }));
}

/***/ }),

/***/ "./src/components/profile/details/header.js":
/*!**************************************************!*\
  !*** ./src/components/profile/details/header.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");


var ProfileDetailsHeader = function ProfileDetailsHeader(_ref) {
  var onEdit = _ref.onEdit,
    showEditButton = _ref.showEditButton;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", null, gettext("Details")))), showEditButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    onClick: onEdit,
    type: "button"
  }, gettext("Edit")))));
};
/* harmony default export */ __webpack_exports__["default"] = (ProfileDetailsHeader);

/***/ }),

/***/ "./src/components/profile/details/index.js":
/*!*************************************************!*\
  !*** ./src/components/profile/details/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form */ "./src/components/profile/details/form.js");
/* harmony import */ var _groups_list__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./groups-list */ "./src/components/profile/details/groups-list.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./header */ "./src/components/profile/details/header.js");
/* harmony import */ var misago_data_profile_details__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/data/profile-details */ "./src/data/profile-details.js");
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCancel", function () {
      _this.setState({
        editing: false
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onEdit", function () {
      _this.setState({
        editing: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onSuccess", function (newDetails) {
      var _this$props = _this.props,
        dispatch = _this$props.dispatch,
        isAuthenticated = _this$props.isAuthenticated,
        profile = _this$props.profile;
      var message = null;
      if (isAuthenticated) {
        message = gettext("Your details have been updated.");
      } else {
        message = interpolate(gettext("%(username)s's details have been updated."), {
          username: profile.username
        }, true);
      }
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].info(message);
      dispatch((0,misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_12__.load)(newDetails));
      _this.setState({
        editing: false
      });
    });
    _this.state = {
      editing: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: gettext("Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
        dispatch = _this$props2.dispatch,
        isAuthenticated = _this$props2.isAuthenticated,
        profile = _this$props2.profile,
        profileDetails = _this$props2.profileDetails;
      var loading = profileDetails.id !== profile.id;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_data_profile_details__WEBPACK_IMPORTED_MODULE_11__["default"], {
        data: profileDetails,
        dispatch: dispatch,
        user: profile
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "profile-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_header__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onEdit: this.onEdit,
        showEditButton: !!profileDetails.edit && !this.state.editing
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_groups_list__WEBPACK_IMPORTED_MODULE_9__["default"], {
        display: !this.state.editing,
        groups: profileDetails.groups,
        isAuthenticated: isAuthenticated,
        loading: loading,
        profile: profile
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_form__WEBPACK_IMPORTED_MODULE_8__["default"], {
        api: profile.api.edit_details,
        dispatch: dispatch,
        display: this.state.editing,
        onCancel: this.onCancel,
        onSuccess: this.onSuccess
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/feed/index.js":
/*!**********************************************!*\
  !*** ./src/components/profile/feed/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Posts": function() { return /* binding */ Posts; },
/* harmony export */   "Threads": function() { return /* binding */ Threads; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route */ "./src/components/profile/feed/route.js");



function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      username: props.profile.username
    }, true);
  }
  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.profile.threads);
    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.profile.threads);
    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_route__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}
function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      username: props.profile.username
    }, true);
  }
  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.profile.posts);
    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.profile.posts);
    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_route__WEBPACK_IMPORTED_MODULE_2__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

/***/ }),

/***/ "./src/components/profile/feed/route.js":
/*!**********************************************!*\
  !*** ./src/components/profile/feed/route.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Feed": function() { return /* binding */ Feed; },
/* harmony export */   "LoadMoreButton": function() { return /* binding */ LoadMoreButton; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_post_feed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/post-feed */ "./src/components/post-feed/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "loadMore", function () {
      _this.setState({
        isLoading: true
      });
      _this.loadItems(_this.props.posts.next);
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;
      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.load(data));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.append(data));
        }
        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_12__["default"].set({
        title: this.props.title,
        parent: this.props.profile.username
      });
      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "profile-feed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_16__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h3", null, this.props.header)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Feed, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        isLoading: this.state.isLoading,
        loadMore: this.loadMore
      }, this.props)));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));

function Feed(props) {
  if (props.posts.isLoaded && !props.posts.results.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
      className: "lead"
    }, props.emptyMessage);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_post_feed__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isReady: props.posts.isLoaded,
    posts: props.posts.results,
    poster: props.profile
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(LoadMoreButton, {
    isLoading: props.isLoading,
    loadMore: props.loadMore,
    next: props.posts.next
  }));
}
function LoadMoreButton(props) {
  if (!props.next) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "pager-more"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: "btn btn-default btn-outline",
    loading: props.isLoading,
    onClick: props.loadMore
  }, gettext("Show older activity")));
}

/***/ }),

/***/ "./src/components/profile/follow-button.js":
/*!*************************************************!*\
  !*** ./src/components/profile/follow-button.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "action", function () {
      _this.setState({
        isLoading: true
      });
      if (_this.props.profile.is_followed) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_9__.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
      });
    });
    _this.state = {
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.action
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.getIcon()), this.getLabel());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/followers.js":
/*!*********************************************!*\
  !*** ./src/components/profile/followers.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/quick-search */ "./src/components/quick-search.js");
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });
      _this.loadUsers(_this.state.page + 1, _this.state.search);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });
      _this.loadUsers(1, ev.target.value);
    });
    _this.setSpecialProps();
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = gettext("Followers");
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;
      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var apiUrl = this.props.profile.api[this.API_FILTER];
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.append)(data.results));
        }
        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__["default"].set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);
        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show more (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
          className: "lead"
        }, this.getEmptyMessage());
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_10__["default"], {
        cols: 3,
        isReady: this.state.isLoaded,
        users: this.props.users
      }), this.getMoreButton());
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", null, this.getLabel()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__["default"], {
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search users...")
      })))), this.getListBody());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/follows.js":
/*!*******************************************!*\
  !*** ./src/components/profile/follows.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_profile_followers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/profile/followers */ "./src/components/profile/followers.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_Followers) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Followers);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      this.TITLE = gettext("Follows");
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);
        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);
  return _default;
}(misago_components_profile_followers__WEBPACK_IMPORTED_MODULE_6__["default"]);


/***/ }),

/***/ "./src/components/profile/message-button.js":
/*!**************************************************!*\
  !*** ./src/components/profile/message-button.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago */ "./src/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_8__["default"].open({
        mode: "START_PRIVATE",
        submit: misago__WEBPACK_IMPORTED_MODULE_9__["default"].get("PRIVATE_THREADS_API"),
        to: [_this.props.profile]
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      if (!canMessage || isProfileOwner) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: this.props.className,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "comment"), gettext("Message"));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/moderation/avatar-controls.js":
/*!**************************************************************!*\
  !*** ./src/components/profile/moderation/avatar-controls.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,
          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Lock avatar"),
        helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
        for: "id_is_avatar_locked"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_10__["default"], {
        id: "id_is_avatar_locked",
        disabled: this.state.isLoading,
        iconOn: "lock_outline",
        iconOff: "lock_open",
        labelOn: gettext("Disallow user from changing avatar"),
        labelOff: gettext("Allow user to change avatar"),
        onChange: this.bindInput("is_avatar_locked"),
        value: this.state.is_avatar_locked
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("User message"),
        helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
        for: "id_avatar_lock_user_message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("textarea", {
        id: "id_avatar_lock_user_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_user_message"),
        value: this.state.avatar_lock_user_message
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("Staff message"),
        helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
        for: "id_avatar_lock_staff_message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("textarea", {
        id: "id_avatar_lock_staff_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_staff_message"),
        value: this.state.avatar_lock_staff_message
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Close")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_11__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Avatar controls"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/change-username.js":
/*!**************************************************************!*\
  !*** ./src/components/profile/moderation/change-username.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      username: "",
      validators: {
        username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_16__.usernameContent()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_11__.addNameChange)(apiResponse, this.props.profile, this.props.user));
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Username has been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_8__["default"], {
        label: gettext("New username"),
        for: "id_username"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_10__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Change username"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_7__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/delete-account.js":
/*!*************************************************************!*\
  !*** ./src/components/profile/moderation/delete-account.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/modal-message */ "./src/components/modal-message.js");
/* harmony import */ var misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/yes-no-switch */ "./src/components/yes-no-switch.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "countdown", function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    });
    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,
      countdown: 5,
      confirm: false,
      with_content: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });
        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].stop("user-profile");
      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        label: gettext("User content"),
        for: "id_with_content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_yes_no_switch__WEBPACK_IMPORTED_MODULE_13__["default"], {
        id: "id_with_content",
        disabled: this.state.isLoading,
        labelOn: gettext("Delete together with user's account"),
        labelOff: gettext("Hide after deleting user's account"),
        onChange: this.bindInput("with_content"),
        value: this.state.with_content
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-danger",
        loading: this.state.isLoading,
        disabled: !this.state.confirm
      }, this.getButtonLabel())));
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.state.isDeleted), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
        href: misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("USERS_LIST_URL")
      }, gettext("Return to users list")))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_message__WEBPACK_IMPORTED_MODULE_12__["default"], {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__["default"], null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Delete user account"))), this.getModalBody()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/profile/moderation/nav.js":
/*!**************************************************!*\
  !*** ./src/components/profile/moderation/nav.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_profile_moderation_avatar_controls__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/profile/moderation/avatar-controls */ "./src/components/profile/moderation/avatar-controls.js");
/* harmony import */ var misago_components_profile_moderation_change_username__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/profile/moderation/change-username */ "./src/components/profile/moderation/change-username.js");
/* harmony import */ var misago_components_profile_moderation_delete_account__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/profile/moderation/delete-account */ "./src/components/profile/moderation/delete-account.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showAvatarDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_avatar_controls__WEBPACK_IMPORTED_MODULE_9__["default"]));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showRenameDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_change_username__WEBPACK_IMPORTED_MODULE_10__["default"]));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showDeleteDialog", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(misago_components_profile_moderation_delete_account__WEBPACK_IMPORTED_MODULE_11__["default"]));
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.moderation;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right",
        role: "menu"
      }, !!moderation.avatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showAvatarDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "portrait"), gettext("Avatar controls"))), !!moderation.rename && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showRenameDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "credit_card"), gettext("Change username"))), !!moderation.delete && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.showDeleteDialog
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete account"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/profile/root.js":
/*!****************************************!*\
  !*** ./src/components/profile/root.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "paths": function() { return /* binding */ paths; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _ban_details__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ban-details */ "./src/components/profile/ban-details.js");
/* harmony import */ var _details__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./details */ "./src/components/profile/details/index.js");
/* harmony import */ var _feed__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./feed */ "./src/components/profile/feed/index.js");
/* harmony import */ var _followers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./followers */ "./src/components/profile/followers.js");
/* harmony import */ var _follows__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./follows */ "./src/components/profile/follows.js");
/* harmony import */ var _username_history__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./username-history */ "./src/components/profile/username-history.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _ProfileHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ProfileHeader */ "./src/components/profile/ProfileHeader.jsx");
/* harmony import */ var _ProfileNav__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ProfileNav */ "./src/components/profile/ProfileNav.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
















var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_17__.hydrate)(data));
    });
    _this.startPolling(props.profile.api.index);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_18__["default"].start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var baseUrl = misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE").url;
      var pages = misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE_PAGES");
      var page = pages.filter(function (page) {
        var url = baseUrl + page.component + "/";
        return _this2.props.location.pathname === url;
      })[0];
      var _this$props = this.props,
        profile = _this$props.profile,
        user = _this$props.user;
      var moderation = getModeration(profile, user);
      var message = !!user.acl.can_start_private_threads && profile.id !== user.id;
      var follow = !!profile.acl.can_follow && profile.id !== user.id;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-user-profile"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ProfileHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
        profile: this.props.profile,
        user: this.props.user,
        moderation: moderation,
        message: message,
        follow: follow
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_20__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ProfileNav__WEBPACK_IMPORTED_MODULE_22__["default"], {
        baseUrl: baseUrl,
        page: page,
        pages: pages
      }), this.props.children));
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_15__["default"]);

var getModeration = function getModeration(profile, user) {
  var moderation = {
    available: false,
    rename: false,
    avatar: false,
    delete: false
  };
  if (user.is_anonymous) return moderation;
  moderation.rename = profile.acl.can_rename;
  moderation.avatar = profile.acl.can_moderate_avatar;
  moderation.delete = profile.acl.can_delete;
  moderation.available = !!(moderation.rename || moderation.avatar || moderation.delete);
  return moderation;
};
function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}
var COMPONENTS = {
  posts: _feed__WEBPACK_IMPORTED_MODULE_11__.Posts,
  threads: _feed__WEBPACK_IMPORTED_MODULE_11__.Threads,
  followers: _followers__WEBPACK_IMPORTED_MODULE_12__["default"],
  follows: _follows__WEBPACK_IMPORTED_MODULE_13__["default"],
  details: _details__WEBPACK_IMPORTED_MODULE_10__["default"],
  "username-history": _username_history__WEBPACK_IMPORTED_MODULE_14__["default"],
  "ban-details": _ban_details__WEBPACK_IMPORTED_MODULE_9__["default"]
};
function paths() {
  var paths = [];
  misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: misago__WEBPACK_IMPORTED_MODULE_16__["default"].get("PROFILE").url + item.component + "/",
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(select)(COMPONENTS[item.component])
    }));
  });
  return paths;
}

/***/ }),

/***/ "./src/components/profile/username-history.js":
/*!****************************************************!*\
  !*** ./src/components/profile/username-history.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/quick-search */ "./src/components/quick-search.js");
/* harmony import */ var misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/username-history/root */ "./src/components/username-history/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });
      _this.loadChanges(_this.state.page + 1, _this.state.search);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });
      _this.loadChanges(1, ev.target.value);
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;
      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_12__.append)(data.results));
        }
        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_16__["default"].set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);
        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);
        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);
        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show older (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "profile-username-history"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", null, this.getLabel()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_17__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_quick_search__WEBPACK_IMPORTED_MODULE_9__["default"], {
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search history...")
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_username_history_root__WEBPACK_IMPORTED_MODULE_10__["default"], {
        isLoaded: this.state.isLoaded,
        emptyMessage: this.getEmptyMessage(),
        changes: this.props["username-history"]
      }), this.getMoreButton());
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/quick-search.js":
/*!****************************************!*\
  !*** ./src/components/quick-search.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        type: "text",
        className: "form-control",
        value: this.props.value,
        onChange: this.props.onChange,
        placeholder: this.props.placeholder || gettext("Search...")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "search"));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/register-button.js":
/*!*******************************************!*\
  !*** ./src/components/register-button.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_loader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/loader */ "./src/components/loader.js");
/* harmony import */ var misago_components_register_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/register.js */ "./src/components/register.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_captcha__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/captcha */ "./src/services/captcha.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "showRegisterForm", function () {
      if (misago.get("SETTINGS").account_activation === "closed") {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_register_js__WEBPACK_IMPORTED_MODULE_9__["default"], {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({
          isLoading: true
        });
        Promise.all([misago_services_captcha__WEBPACK_IMPORTED_MODULE_11__["default"].load(), misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });
          misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_register_js__WEBPACK_IMPORTED_MODULE_9__["default"], {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({
            isLoading: false
          });
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    });
    _this.state = {
      isLoading: false,
      isLoaded: false,
      criteria: null
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? " btn-loading" : "");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn " + this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.showRegisterForm,
        type: "button"
      }, gettext("Register"), this.state.isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_loader__WEBPACK_IMPORTED_MODULE_8__["default"], null) : null);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/register.js":
/*!************************************!*\
  !*** ./src/components/register.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RegisterComplete": function() { return /* binding */ RegisterComplete; },
/* harmony export */   "RegisterForm": function() { return /* binding */ RegisterForm; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_password_strength__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/password-strength */ "./src/components/password-strength.js");
/* harmony import */ var misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/RegisterLegalFootnote */ "./src/components/RegisterLegalFootnote.js");
/* harmony import */ var misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/StartSocialAuth */ "./src/components/StartSocialAuth.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/captcha */ "./src/services/captcha.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");








function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }















var RegisterForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RegisterForm, _Form);
  var _super = _createSuper(RegisterForm);
  function RegisterForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, RegisterForm);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({}, agreement, null));
          return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({
            errors: _errors
          }, agreement, value);
        }
        var validator = _this.state.validators[agreement][0];
        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({}, agreement, [validator(null)]));
        return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])({
          errors: errors
        }, agreement, null);
      });
    });
    var _this$props$criteria = _this.props.criteria,
      username = _this$props$criteria.username,
      password = _this$props$criteria.password;
    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });
    var formValidators = {
      username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameContent(), misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameMinLength(username.min_length), misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.usernameMaxLength(username.max_length)],
      email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.email()],
      password: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.passwordMinLength(passwordMinLength)],
      captcha: misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__["default"].validator()
    };
    if (!!misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.requiredTermsOfService()];
    }
    if (!!misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.requiredPrivacyPolicy()];
    }
    _this.state = {
      isLoading: false,
      username: "",
      email: "",
      password: "",
      captcha: "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(misago__WEBPACK_IMPORTED_MODULE_15__["default"].get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        if (rejection.__all__ && rejection.__all__.length > 0) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(rejection.__all__[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_21__["default"])(rejection.ban);
        misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].hide();
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-dialog modal-register",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Register"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_14__["default"], {
        buttonClassName: "col-xs-12 col-sm-6",
        buttonLabel: gettext("Join with %(site)s"),
        formLabel: gettext("Or create forum account:")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Username"),
        for: "id_username",
        validation: this.state.errors.username
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        "aria-describedby": "id_username_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("E-mail"),
        for: "id_email",
        validation: this.state.errors.email
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "text",
        id: "id_email",
        className: "form-control",
        "aria-describedby": "id_email_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Password"),
        for: "id_password",
        validation: this.state.errors.password,
        extra: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_password_strength__WEBPACK_IMPORTED_MODULE_12__["default"], {
          password: this.state.password,
          inputs: [this.state.username, this.state.email]
        })
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        type: "password",
        id: "id_password",
        className: "form-control",
        "aria-describedby": "id_password_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      })), misago_services_captcha__WEBPACK_IMPORTED_MODULE_18__["default"].component({
        form: this
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_13__["default"], {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Register account"))))));
    }
  }]);
  return RegisterForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
var RegisterComplete = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RegisterComplete, _React$Component);
  var _super2 = _createSuper(RegisterComplete);
  function RegisterComplete() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, RegisterComplete);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === "admin") {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === "admin") {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-dialog modal-message modal-register",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Registration complete"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
        className: "lead"
      }, interpolate(this.getLead(), {
        username: this.props.username
      }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, interpolate(this.getSubscript(), {
        email: this.props.email
      }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))))));
    }
  }]);
  return RegisterComplete;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, _default);
    _this2 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__["default"])(_this2), "completeRegistration", function (apiResponse) {
      if (apiResponse.activation === "active") {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].hide();
        misago_services_auth__WEBPACK_IMPORTED_MODULE_17__["default"].signIn(apiResponse);
      } else {
        _this2.setState({
          complete: apiResponse
        });
      }
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(RegisterForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
        callback: this.completeRegistration
      }, this.props));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));


/***/ }),

/***/ "./src/components/request-activation-link.js":
/*!***************************************************!*\
  !*** ./src/components/request-activation-link.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LinkSent": function() { return /* binding */ LinkSent; },
/* harmony export */   "RequestLinkForm": function() { return /* binding */ RequestLinkForm; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var RequestLinkForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RequestLinkForm, _Form);
  var _super = _createSuper(RequestLinkForm);
  function RequestLinkForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, RequestLinkForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_13__.email()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_11__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_8__["default"].get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_14__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-activation-link"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);
  return RequestLinkForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
var LinkSent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(LinkSent, _React$Component);
  var _super2 = _createSuper(LinkSent);
  function LinkSent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, LinkSent);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-activation-link well-done"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.getMessage())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary btn-block",
        type: "button",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);
  return LinkSent;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    _this2 = _super3.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LinkSent, {
          user: this.state.complete,
          callback: this.reset
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RequestLinkForm, {
          callback: this.complete
        });
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/request-password-reset.js":
/*!**************************************************!*\
  !*** ./src/components/request-password-reset.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccountInactivePage": function() { return /* binding */ AccountInactivePage; },
/* harmony export */   "LinkSent": function() { return /* binding */ LinkSent; },
/* harmony export */   "RequestResetForm": function() { return /* binding */ RequestResetForm; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var RequestResetForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(RequestResetForm, _Form);
  var _super = _createSuper(RequestResetForm);
  function RequestResetForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, RequestResetForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_14__.email()]
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_15__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_13__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-password-reset"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);
  return RequestResetForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);
var LinkSent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(LinkSent, _React$Component);
  var _super2 = _createSuper(LinkSent);
  function LinkSent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, LinkSent);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-request-password-reset well-done"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.getMessage())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-primary btn-block",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);
  return LinkSent;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var AccountInactivePage = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(AccountInactivePage, _React$Component2);
  var _super3 = _createSuper(AccountInactivePage);
  function AccountInactivePage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, AccountInactivePage);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("a", {
          href: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("REQUEST_ACTIVATION_URL")
        }, gettext("Activate your account.")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-message page-message-info page-forgotten-password-inactive"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, gettext("Your account is inactive.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.props.message), this.getActivateButton()))));
    }
  }]);
  return AccountInactivePage;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component3);
  var _super4 = _createSuper(_default);
  function _default(props) {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    _this2 = _super4.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });
    _this2.state = {
      complete: false
    };
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      react_dom__WEBPACK_IMPORTED_MODULE_8___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/reset-password-form.js":
/*!***********************************************!*\
  !*** ./src/components/reset-password-form.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasswordChangedPage": function() { return /* binding */ PasswordChangedPage; },
/* harmony export */   "ResetPasswordForm": function() { return /* binding */ ResetPasswordForm; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/sign-in.js */ "./src/components/sign-in.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var ResetPasswordForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ResetPasswordForm, _Form);
  var _super = _createSuper(ResetPasswordForm);
  function ResetPasswordForm(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ResetPasswordForm);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].error(gettext("Enter new password."));
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_17__["default"])(rejection.ban);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_16__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "well well-form well-form-reset-password"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: gettext("Enter new password"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Change password"))));
    }
  }]);
  return ResetPasswordForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);
var PasswordChangedPage = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PasswordChangedPage, _React$Component);
  var _super2 = _createSuper(PasswordChangedPage);
  function PasswordChangedPage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PasswordChangedPage);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_15__["default"].show(misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_12__["default"]);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-message page-message-success page-forgotten-password-changed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext("You will have to sign in using new password before continuing.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-primary",
        onClick: this.showSignIn
      }, gettext("Sign in")))))));
    }
  }]);
  return PasswordChangedPage;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var _default = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(_default, _React$Component2);
  var _super3 = _createSuper(_default);
  function _default() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this2 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this2), "complete", function (apiResponse) {
      misago_services_auth__WEBPACK_IMPORTED_MODULE_14__["default"].softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();
      react_dom__WEBPACK_IMPORTED_MODULE_8___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(PasswordChangedPage, {
        user: apiResponse
      }), document.getElementById("page-mount"));
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ResetPasswordForm, {
        callback: this.complete
      });
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/search/form.js":
/*!***************************************!*\
  !*** ./src/components/search/form.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }











var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onQueryChange", function (event) {
      _this.changeValue("query", event.target.value);
    });
    _this.state = {
      isLoading: false,
      query: props.search.query
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter search query."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        isLoading: true
      }));
      var query = this.state.query.trim();
      var url = window.location.href;
      var urlQuery = url.indexOf("?q=");
      if (urlQuery > 0) {
        url = url.substring(0, urlQuery + 3);
      }
      window.history.pushState({}, "", url + encodeURIComponent(query));
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("SEARCH_API"), {
        q: query
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));
      providers.forEach(function (provider) {
        if (provider.id === "users") {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_10__.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_11__.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeader, {
        styleName: "site-search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderBanner, {
        styleName: "site-search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h1", null, gettext("Search"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_17__.PageHeaderDetails, {
        className: "page-header-search-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowSection, {
        auto: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        type: "text",
        value: this.state.query,
        placeholder: gettext("Search"),
        onChange: this.onQueryChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_16__.FlexRowCol, {
        shrink: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-secondary btn-icon btn-outline",
        disabled: this.state.isLoading
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "search")))))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/search/index.js":
/*!****************************************!*\
  !*** ./src/components/search/index.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var _threads__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./threads */ "./src/components/search/threads/index.js");
/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./users */ "./src/components/search/users/index.js");



var components = {
  threads: _threads__WEBPACK_IMPORTED_MODULE_1__["default"],
  users: _users__WEBPACK_IMPORTED_MODULE_2__["default"]
};
function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
}

/***/ }),

/***/ "./src/components/search/page.js":
/*!***************************************!*\
  !*** ./src/components/search/page.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SearchTime": function() { return /* binding */ SearchTime; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./form */ "./src/components/search/form.js");
/* harmony import */ var _sidenav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sidenav */ "./src/components/search/sidenav.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page page-search"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_form__WEBPACK_IMPORTED_MODULE_2__["default"], {
    provider: props.provider,
    search: props.search
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_1__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_sidenav__WEBPACK_IMPORTED_MODULE_3__["default"], {
    providers: props.search.providers
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-9"
  }, props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SearchTime, {
    provider: props.provider,
    search: props.search
  })))));
}
function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });
  if (time === null) return null;
  var copy = gettext("Search took %(time)s s to complete");
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("footer", {
    className: "search-footer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, interpolate(copy, {
    time: time
  }, true)));
}

/***/ }),

/***/ "./src/components/search/sidenav.js":
/*!******************************************!*\
  !*** ./src/components/search/sidenav.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Badge": function() { return /* binding */ Badge; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "list-group nav-side"
  }, props.providers.map(function (provider) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      activeClassName: "active",
      className: "list-group-item",
      key: provider.id,
      to: provider.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon"
    }, provider.icon), provider.name, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Badge, {
      results: provider.results
    }));
  }));
}
function Badge(props) {
  if (!props.results) return null;
  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "badge"
  }, count);
}

/***/ }),

/***/ "./src/components/search/threads/index.js":
/*!************************************************!*\
  !*** ./src/components/search/threads/index.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blankslate": function() { return /* binding */ Blankslate; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../page */ "./src/components/search/page.js");
/* harmony import */ var _results__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./results */ "./src/components/search/threads/results.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_page__WEBPACK_IMPORTED_MODULE_2__["default"], {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Blankslate, {
    loading: props.search.isLoading,
    query: props.search.query,
    posts: props.posts
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_results__WEBPACK_IMPORTED_MODULE_3__["default"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    provider: props.route.provider,
    query: props.search.query
  }, props.posts))));
}
function Blankslate(_ref) {
  var children = _ref.children,
    loading = _ref.loading,
    posts = _ref.posts,
    query = _ref.query;
  if (posts && posts.count) return children;
  if (query.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
      className: "lead"
    }, loading ? gettext("Loading results...") : gettext("No threads matching search query have been found."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search threads."));
}

/***/ }),

/***/ "./src/components/search/threads/results.js":
/*!**************************************************!*\
  !*** ./src/components/search/threads/results.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoadMore": function() { return /* binding */ LoadMore; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_post_feed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/post-feed */ "./src/components/post-feed/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_misago_markup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/misago-markup */ "./src/components/misago-markup.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_post_feed__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isReady: true,
    posts: props.results
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(LoadMore, props));
}
var LoadMore = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(LoadMore, _React$Component);
  var _super = _createSuper(LoadMore);
  function LoadMore() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LoadMore);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
        isBusy: true
      }));
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.append)(provider.results));
          misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_search__WEBPACK_IMPORTED_MODULE_12__.updateProvider)(provider));
        });
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
          isBusy: false
        }));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch((0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_11__.update)({
          isBusy: false
        }));
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.props.isBusy,
        onClick: this.onClick
      }, gettext("Show more")));
    }
  }]);
  return LoadMore;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/search/users/index.js":
/*!**********************************************!*\
  !*** ./src/components/search/users/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blankslate": function() { return /* binding */ Blankslate; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../page */ "./src/components/search/page.js");
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_page__WEBPACK_IMPORTED_MODULE_1__["default"], {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Blankslate, {
    loading: props.search.isLoading,
    query: props.search.query,
    users: props.users
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_2__["default"], {
    cols: 3,
    isReady: !props.search.isLoading,
    users: props.users
  })));
}
function Blankslate(_ref) {
  var children = _ref.children,
    loading = _ref.loading,
    query = _ref.query,
    users = _ref.users;
  if (users.length) return children;
  if (query.length) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      className: "lead"
    }, loading ? gettext("Loading results...") : gettext("No users matching search query have been found."));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search users."));
}

/***/ }),

/***/ "./src/components/select.js":
/*!**********************************!*\
  !*** ./src/components/select.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Icon": function() { return /* binding */ Icon; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "change", function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;
      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "btn-group btn-select-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-select dropdown-toggle",
        id: this.props.id || null,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Icon, {
        icon: this.getIcon()
      }), this.getLabel()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu"
      }, this.props.choices.map(function (item, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          type: "button",
          className: "btn-link",
          onClick: _this3.change(item.value)
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Icon, {
          icon: item.icon
        }), item.label));
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

function Icon(_ref) {
  var icon = _ref.icon;
  if (!icon) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, icon);
}

/***/ }),

/***/ "./src/components/sign-in.js":
/*!***********************************!*\
  !*** ./src/components/sign-in.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/StartSocialAuth */ "./src/components/StartSocialAuth.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      showActivation: false,
      username: "",
      password: "",
      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");
      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(misago_services_ajax__WEBPACK_IMPORTED_MODULE_10__["default"].getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].info(rejection.detail);
          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__["default"])(rejection.detail);
          misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].hide();
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_13__["default"])(rejection.ban);
        misago_services_modal__WEBPACK_IMPORTED_MODULE_11__["default"].hide();
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_12__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        className: "btn btn-success btn-block",
        href: misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("REQUEST_ACTIVATION_URL")
      }, gettext("Activate account"));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-dialog modal-sm modal-sign-in",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Sign in"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_StartSocialAuth__WEBPACK_IMPORTED_MODULE_9__["default"], {
        buttonLabel: gettext("Sign in with %(site)s"),
        formLabel: gettext("Or use your forum account:"),
        labelClassName: "text-center"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_username",
        onChange: this.bindInput("username"),
        placeholder: gettext("Username or e-mail"),
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_password",
        onChange: this.bindInput("password"),
        placeholder: gettext("Password"),
        type: "password",
        value: this.state.password
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-footer"
      }, this.getActivationButton(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_7__["default"], {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Sign in")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        className: "btn btn-default btn-block",
        href: misago_index__WEBPACK_IMPORTED_MODULE_6__["default"].get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Forgot password?"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);


/***/ }),

/***/ "./src/components/snackbar.js":
/*!************************************!*\
  !*** ./src/components/snackbar.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Snackbar": function() { return /* binding */ Snackbar; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};
var Snackbar = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(Snackbar, _React$Component);
  var _super = _createSuper(Snackbar);
  function Snackbar() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Snackbar);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";
      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }
      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: this.getSnackbarClass()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "alert " + TYPES_CLASSES[this.props.type]
      }, this.props.message));
    }
  }]);
  return Snackbar;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function select(state) {
  return state.snackbar;
}

/***/ }),

/***/ "./src/components/social-auth/complete.js":
/*!************************************************!*\
  !*** ./src/components/social-auth/complete.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./header */ "./src/components/social-auth/header.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago */ "./src/index.js");



var Complete = function Complete(_ref) {
  var activation = _ref.activation,
    backend_name = _ref.backend_name,
    username = _ref.username;
  var icon = "";
  var message = "";
  if (activation === "user") {
    message = gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === "admin") {
    message = gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
  } else {
    message = gettext("%(username)s, your account has been created and you have been signed in to it.");
  }
  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page page-social-auth page-social-sauth-register"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_header__WEBPACK_IMPORTED_MODULE_1__["default"], {
    backendName: backend_name
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-md-6 col-md-offset-3"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {
    className: "panel-title"
  }, gettext("Registration completed!"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, interpolate(message, {
    username: username
  }, true)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-default",
    href: misago__WEBPACK_IMPORTED_MODULE_2__["default"].get("MISAGO_PATH")
  }, gettext("Return to forum index"))))))))));
};
/* harmony default export */ __webpack_exports__["default"] = (Complete);

/***/ }),

/***/ "./src/components/social-auth/header.js":
/*!**********************************************!*\
  !*** ./src/components/social-auth/header.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var Header = function Header(_ref) {
  var backendName = _ref.backendName;
  var pageTitleTpl = gettext("Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, {
    backend: backendName
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page-header-bg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "page-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, pageTitle))));
};
/* harmony default export */ __webpack_exports__["default"] = (Header);

/***/ }),

/***/ "./src/components/social-auth/index.js":
/*!*********************************************!*\
  !*** ./src/components/social-auth/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ SocialAuth; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _register__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./register */ "./src/components/social-auth/register.js");
/* harmony import */ var _complete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./complete */ "./src/components/social-auth/complete.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var SocialAuth = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(SocialAuth, _React$Component);
  var _super = _createSuper(SocialAuth);
  function SocialAuth(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, SocialAuth);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleRegistrationComplete", function (_ref) {
      var activation = _ref.activation,
        email = _ref.email,
        step = _ref.step,
        username = _ref.username;
      _this.setState({
        activation: activation,
        email: email,
        step: step,
        username: username
      });
    });
    _this.state = {
      step: props.step,
      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(SocialAuth, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        backend_name = _this$props.backend_name,
        url = _this$props.url;
      var _this$state = this.state,
        activation = _this$state.activation,
        email = _this$state.email,
        step = _this$state.step,
        username = _this$state.username;
      if (step === "register") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_register__WEBPACK_IMPORTED_MODULE_8__["default"], {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_complete__WEBPACK_IMPORTED_MODULE_9__["default"], {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);
  return SocialAuth;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/social-auth/register.js":
/*!************************************************!*\
  !*** ./src/components/social-auth/register.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ Register; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/RegisterLegalFootnote */ "./src/components/RegisterLegalFootnote.js");
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./header */ "./src/components/social-auth/header.js");







function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var Register = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Register, _Form);
  var _super = _createSuper(Register);
  function Register(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Register);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("privacyPolicy", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement("termsOfService", value);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, agreement, null));
          return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({
            errors: _errors
          }, agreement, value);
        }
        var validator = _this.state.validators[agreement][0];
        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({}, agreement, [validator(null)]));
        return (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])({
          errors: errors
        }, agreement, null);
      });
    });
    var formValidators = {
      email: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.email()],
      username: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.usernameContent()]
    };
    if (!!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.requiredTermsOfService()];
    }
    if (!!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [misago_utils_validators__WEBPACK_IMPORTED_MODULE_15__.requiredPrivacyPolicy()];
    }
    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {},
      isLoading: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Register, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];
      if (lengths.indexOf(0) !== -1) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("Fill out all fields."));
        return false;
      }
      var validators = this.state.validators;
      var checkTermsOfService = !!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("TERMS_OF_SERVICE_ID");
      if (checkTermsOfService && this.state.termsOfService === null) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(validators.termsOfService[0](null));
        return false;
      }
      var checkPrivacyPolicy = !!misago__WEBPACK_IMPORTED_MODULE_8__["default"].get("PRIVACY_POLICY_ID");
      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(validators.privacyPolicy[0](null));
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You need to accept the privacy policy."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_13__["default"].post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;
      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;
        onRegistrationComplete({
          activation: "active",
          step: "done",
          username: username
        });
      } else if (rejection.status === 400) {
        var stateUpdate = {
          errors: rejection
        };
        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }
        this.setState(stateUpdate);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _this$state = this.state,
        email = _this$state.email,
        emailProtected = _this$state.emailProtected,
        username = _this$state.username,
        isLoading = _this$state.isLoading;
      var emailHelpText = null;
      if (emailProtected) {
        var emailHelpTextTpl = gettext("Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, {
          backend: backend_name
        }, true);
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "page page-social-auth page-social-sauth-register"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_header__WEBPACK_IMPORTED_MODULE_16__["default"], {
        backendName: backend_name
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "container"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h3", {
        className: "panel-title"
      }, gettext("Complete your details"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__["default"], {
        for: "id_username",
        label: gettext("Username"),
        validation: this.state.errors.username
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: isLoading,
        onChange: this.bindInput("username"),
        value: username
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_12__["default"], {
        for: "id_email",
        label: gettext("E-mail address"),
        helpText: emailHelpText,
        validation: emailProtected ? null : this.state.errors.email
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        type: "email",
        id: "id_email",
        className: "form-control",
        disabled: isLoading || emailProtected,
        onChange: this.bindInput("email"),
        value: email
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_RegisterLegalFootnote__WEBPACK_IMPORTED_MODULE_9__["default"], {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Sign in")))))))));
    }
  }]);
  return Register;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_11__["default"]);


/***/ }),

/***/ "./src/components/thread/ThreadHeader/ThreadHeader.jsx":
/*!*************************************************************!*\
  !*** ./src/components/thread/ThreadHeader/ThreadHeader.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _FlexRow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../FlexRow */ "./src/components/FlexRow/index.js");
/* harmony import */ var _ThreadFlags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ThreadFlags */ "./src/components/ThreadFlags.jsx");
/* harmony import */ var _ThreadReplies__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ThreadReplies */ "./src/components/ThreadReplies.jsx");
/* harmony import */ var _ThreadStarterCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ThreadStarterCard */ "./src/components/ThreadStarterCard.jsx");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../PageHeader */ "./src/components/PageHeader/index.js");
/* harmony import */ var _ThreadModeration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ThreadModeration */ "./src/components/thread/ThreadModeration.jsx");
/* harmony import */ var _ThreadSubscriptionButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ThreadSubscriptionButton */ "./src/components/thread/ThreadSubscriptionButton.jsx");
/* harmony import */ var _ThreadHeaderBreadcrumbs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ThreadHeaderBreadcrumbs */ "./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx");









var ThreadHeader = function ThreadHeader(_ref) {
  var styleName = _ref.styleName,
    thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    moderation = _ref.moderation;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeader, {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderBanner, {
    styleName: styleName
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadHeaderBreadcrumbs__WEBPACK_IMPORTED_MODULE_8__["default"], {
    breadcrumbs: thread.path
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, thread.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_5__.PageHeaderDetails, {
    className: "page-header-thread-details"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRow, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadStarterCard__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    auto: true
  }), thread.replies > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplies__WEBPACK_IMPORTED_MODULE_3__["default"], {
    thread: thread
  })), hasFlags(thread) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadFlags__WEBPACK_IMPORTED_MODULE_2__["default"], {
    thread: thread
  }))), user.is_authenticated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadSubscriptionButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    thread: thread
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_FlexRow__WEBPACK_IMPORTED_MODULE_1__.FlexRowCol, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadModeration__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread,
    posts: posts,
    moderation: moderation
  })))))));
};
var hasFlags = function hasFlags(thread) {
  return thread.is_closed || thread.is_hidden || thread.is_unapproved || thread.weight > 0 || thread.best_answer || thread.has_poll || thread.has_unapproved_posts;
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadHeader);

/***/ }),

/***/ "./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx":
/*!************************************************************************!*\
  !*** ./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Breadcrumbs */ "./src/components/Breadcrumbs/index.js");


var ThreadHeaderBreadcrumbs = function ThreadHeaderBreadcrumbs(_ref) {
  var breadcrumbs = _ref.breadcrumbs;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.Breadcrumbs, null, breadcrumbs.map(function (category) {
    return category.special_role ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.BreadcrumbsRootCategory, {
      key: category.id,
      category: category
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.BreadcrumbsCategory, {
      key: category.id,
      category: category
    });
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadHeaderBreadcrumbs);

/***/ }),

/***/ "./src/components/thread/ThreadHeader/index.js":
/*!*****************************************************!*\
  !*** ./src/components/thread/ThreadHeader/index.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThreadHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreadHeader */ "./src/components/thread/ThreadHeader/ThreadHeader.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_ThreadHeader__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/thread/ThreadModeration.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadModeration.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _moderation_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moderation/thread */ "./src/components/thread/moderation/thread/index.js");


var ThreadModeration = function ThreadModeration(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    moderation = _ref.moderation;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline btn-icon dropdown-toggle",
    title: gettext("Thread options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: thread.isBusy
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_thread__WEBPACK_IMPORTED_MODULE_1__["default"], {
    thread: thread,
    posts: posts,
    moderation: moderation
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadModeration);

/***/ }),

/***/ "./src/components/thread/ThreadPagination.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadPagination.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var ThreadPagination = function ThreadPagination(_ref) {
  var baseUrl = _ref.baseUrl,
    posts = _ref.posts;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "misago-pagination"
  }, posts.isLoaded && posts.first ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl,
    title: gettext("Go to first page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to first page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")), posts.isLoaded && posts.previous ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + (posts.previous > 1 ? posts.previous + "/" : ""),
    title: gettext("Go to previous page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to previous page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")), posts.isLoaded && posts.next ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + posts.next + "/",
    title: gettext("Go to next page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to next page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")), posts.isLoaded && posts.last ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + posts.last + "/",
    title: gettext("Go to last page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to last page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadPagination);

/***/ }),

/***/ "./src/components/thread/ThreadPollButton.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadPollButton.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ThreadPollButton = function ThreadPollButton(_ref) {
  var compact = _ref.compact,
    onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("btn btn-default btn-outline", {
      "btn-block": !compact,
      "btn-icon": compact
    }),
    type: "button",
    title: compact ? gettext("Add poll") : null,
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "poll"), !compact && gettext("Add poll"));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadPollButton);

/***/ }),

/***/ "./src/components/thread/ThreadPostsLeft.jsx":
/*!***************************************************!*\
  !*** ./src/components/thread/ThreadPostsLeft.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadPostsLeft = function ThreadPostsLeft(_ref) {
  var posts = _ref.posts;
  if (posts.more) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, interpolate(ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", posts.more), {
      more: posts.more
    }, true));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("There are no more posts in this thread."));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadPostsLeft);

/***/ }),

/***/ "./src/components/thread/ThreadPostsModeration.jsx":
/*!*********************************************************!*\
  !*** ./src/components/thread/ThreadPostsModeration.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _moderation_posts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moderation/posts */ "./src/components/thread/moderation/posts/index.js");


var ThreadPostsModeration = function ThreadPostsModeration(_ref) {
  var thread = _ref.thread,
    user = _ref.user,
    selection = _ref.selection,
    dropup = _ref.dropup;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: dropup ? "dropup" : "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline btn-icon dropdown-toggle",
    title: gettext("Posts options"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: selection.length === 0
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_posts__WEBPACK_IMPORTED_MODULE_1__.ThreadPostsModerationOptions, {
    thread: thread,
    user: user,
    selection: selection
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadPostsModeration);

/***/ }),

/***/ "./src/components/thread/ThreadReplyButton.jsx":
/*!*****************************************************!*\
  !*** ./src/components/thread/ThreadReplyButton.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadReplyButton = function ThreadReplyButton(_ref) {
  var onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-primary btn-outline btn-block",
    type: "button",
    onClick: onClick
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chat"), gettext("Reply"));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadReplyButton);

/***/ }),

/***/ "./src/components/thread/ThreadShortcutsButton.jsx":
/*!*********************************************************!*\
  !*** ./src/components/thread/ThreadShortcutsButton.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var ThreadShortcutsButton = function ThreadShortcutsButton(_ref) {
  var user = _ref.user,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Shortcuts"),
    "aria-expanded": "true",
    "aria-haspopup": "true",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "bookmark")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu"
  }, user.is_authenticated && thread.is_new && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.new_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "comment"), gettext("Go to new post"))), thread.best_answer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.best_answer
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "check_circle"), gettext("Go to best answer"))), thread.has_unapproved_posts && thread.acl.can_approve && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.unapproved_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "visibility"), gettext("Go to unapproved post"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    className: "btn btn-link",
    href: thread.url.last_post
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "reply"), gettext("Go to last post")))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadShortcutsButton);

/***/ }),

/***/ "./src/components/thread/ThreadSubscriptionButton.jsx":
/*!************************************************************!*\
  !*** ./src/components/thread/ThreadSubscriptionButton.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _reducers_thread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var _services_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/ajax */ "./src/services/ajax.js");
/* harmony import */ var _services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var _services_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/store */ "./src/services/store.js");






var ThreadSubscriptionButton = function ThreadSubscriptionButton(_ref) {
  var stickToBottom = _ref.stickToBottom,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    "aria-expanded": "true",
    "aria-haspopup": "true",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, getIcon(thread.subscription)), getLabel(thread.subscription)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()("dropdown-menu dropdown-menu-right", {
      "stick-to-bottom": stickToBottom
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-link",
    onClick: function onClick() {
      return unsubscribe(thread);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "star_border"), gettext("Unsubscribe"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-link",
    onClick: function onClick() {
      return alert(thread);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "star_half"), gettext("Subscribe"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button", {
    className: "btn btn-link",
    onClick: function onClick() {
      return email(thread);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span", {
    className: "material-icon"
  }, "star"), gettext("Subscribe with e-mail")))));
};
function getIcon(subscription) {
  if (subscription === true) return "star";
  if (subscription === false) return "star_half";
  return "star_border";
}
function getLabel(subscription) {
  if (subscription === true) return gettext("E-mail");
  if (subscription === false) return gettext("Enabled");
  return gettext("Disabled");
}
function alert(thread) {
  if (thread.subscription !== false) {
    update(thread, false, "notify");
  }
}
function email(thread) {
  if (thread.subscription !== true) {
    update(thread, true, "email");
  }
}
function unsubscribe(thread) {
  if (thread.subscription !== null) {
    update(thread, null, "unsubscribe");
  }
}
function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };
  _services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(_reducers_thread__WEBPACK_IMPORTED_MODULE_2__.update({
    subscription: newState
  }));
  _services_ajax__WEBPACK_IMPORTED_MODULE_3__["default"].patch(thread.api.index, [{
    op: "replace",
    path: "subscription",
    value: value
  }]).then(function (finalState) {
    _services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(_reducers_thread__WEBPACK_IMPORTED_MODULE_2__.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].error(rejection.detail[0]);
    } else {
      _services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"].apiError(rejection);
    }
    _services_store__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(_reducers_thread__WEBPACK_IMPORTED_MODULE_2__.update(oldState));
  });
}
/* harmony default export */ __webpack_exports__["default"] = (ThreadSubscriptionButton);

/***/ }),

/***/ "./src/components/thread/ThreadToolbarBottom.jsx":
/*!*******************************************************!*\
  !*** ./src/components/thread/ThreadToolbarBottom.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _ThreadPagination__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreadPagination */ "./src/components/thread/ThreadPagination.jsx");
/* harmony import */ var _ThreadPostsLeft__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadPostsLeft */ "./src/components/thread/ThreadPostsLeft.jsx");
/* harmony import */ var _ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadPostsModeration */ "./src/components/thread/ThreadPostsModeration.jsx");
/* harmony import */ var _ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadReplyButton */ "./src/components/thread/ThreadReplyButton.jsx");
/* harmony import */ var _ThreadSubscriptionButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThreadSubscriptionButton */ "./src/components/thread/ThreadSubscriptionButton.jsx");







var ThreadToolbarBottom = function ThreadToolbarBottom(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    selection = _ref.selection,
    moderation = _ref.moderation,
    onReply = _ref.onReply;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPagination__WEBPACK_IMPORTED_MODULE_2__["default"], {
    baseUrl: thread.url.index,
    posts: posts
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection,
    dropup: true
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-xs hidden-sm",
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsLeft__WEBPACK_IMPORTED_MODULE_3__["default"], {
    posts: posts
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSpacer, {
    className: "hidden-md hidden-lg"
  }), user.is_authenticated && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadSubscriptionButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread
  })), thread.acl.can_reply && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: onReply
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-xs",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection,
    dropup: true
  }))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadToolbarBottom);

/***/ }),

/***/ "./src/components/thread/ThreadToolbarTop.jsx":
/*!****************************************************!*\
  !*** ./src/components/thread/ThreadToolbarTop.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _ThreadPagination__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThreadPagination */ "./src/components/thread/ThreadPagination.jsx");
/* harmony import */ var _ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ThreadPollButton */ "./src/components/thread/ThreadPollButton.jsx");
/* harmony import */ var _ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadPostsModeration */ "./src/components/thread/ThreadPostsModeration.jsx");
/* harmony import */ var _ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadReplyButton */ "./src/components/thread/ThreadReplyButton.jsx");
/* harmony import */ var _ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThreadShortcutsButton */ "./src/components/thread/ThreadShortcutsButton.jsx");







var ThreadToolbarTop = function ThreadToolbarTop(_ref) {
  var thread = _ref.thread,
    posts = _ref.posts,
    user = _ref.user,
    selection = _ref.selection,
    moderation = _ref.moderation,
    onPoll = _ref.onPoll,
    onReply = _ref.onReply;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread,
    user: user
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-xs hidden-sm"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPagination__WEBPACK_IMPORTED_MODULE_2__["default"], {
    baseUrl: thread.url.index,
    posts: posts
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSpacer, null), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: onPoll
  }))), thread.acl.can_reply ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread,
    user: user
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadReplyButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: onReply
  })), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: onPoll,
    compact: true
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-xs",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection
  }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    className: "hidden-sm hidden-md hidden-lg",
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadShortcutsButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    thread: thread,
    user: user
  })), thread.acl.can_start_poll && !thread.poll && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPollButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: onPoll
  })), moderation.enabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadPostsModeration__WEBPACK_IMPORTED_MODULE_4__["default"], {
    thread: thread,
    user: user,
    selection: selection
  }))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadToolbarTop);

/***/ }),

/***/ "./src/components/thread/moderation/posts/actions.js":
/*!***********************************************************!*\
  !*** ./src/components/thread/moderation/posts/actions.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "approve": function() { return /* binding */ approve; },
/* harmony export */   "hide": function() { return /* binding */ hide; },
/* harmony export */   "merge": function() { return /* binding */ merge; },
/* harmony export */   "patch": function() { return /* binding */ patch; },
/* harmony export */   "protect": function() { return /* binding */ protect; },
/* harmony export */   "remove": function() { return /* binding */ remove; },
/* harmony export */   "unhide": function() { return /* binding */ unhide; },
/* harmony export */   "unprotect": function() { return /* binding */ unprotect; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _errors_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./errors-list */ "./src/components/thread/moderation/posts/errors-list.js");









function approve(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });
  patch(props, ops, newState, previousState);
}
function protect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}
function unprotect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}
function hide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}
function unhide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}
function patch(props, ops, newState, previousState) {
  var selection = props.selection,
    thread = props.thread;

  // patch selected items
  newState.forEach(function (item) {
    misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item);
  });

  // deselect all the things
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());

  // call ajax
  var data = {
    ops: ops,
    ids: selection.map(function (post) {
      return post.id;
    })
  };
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"].patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
      });
      return misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    var errors = [];
    var rollback = [];
    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
      }
      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(item, item));
        }
      });
    });
    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });
    misago_services_modal__WEBPACK_IMPORTED_MODULE_5__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_errors_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
      errors: errors,
      posts: posts
    }));
  });
}
function merge(props) {
  var confirmed = window.confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  props.selection.slice(1).map(function (selection) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
      isDeleted: true
    }));
  });
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"].post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(data, misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    props.selection.slice(1).map(function (selection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
        isDeleted: false
      }));
    });
  });
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());
}
function remove(props) {
  var confirmed = window.confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }
  props.selection.map(function (selection) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
      isDeleted: true
    }));
  });
  var ids = props.selection.map(function (post) {
    return post.id;
  });
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"](props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].error(rejection.detail);
    } else {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_6__["default"].apiError(rejection);
    }
    props.selection.map(function (selection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_2__.patch(selection, {
        isDeleted: false
      }));
    });
  });
  misago_services_store__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_3__.deselectAll());
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/dropdown.js":
/*!************************************************************!*\
  !*** ./src/components/thread/moderation/posts/dropdown.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Approve": function() { return /* binding */ Approve; },
/* harmony export */   "Delete": function() { return /* binding */ Delete; },
/* harmony export */   "Hide": function() { return /* binding */ Hide; },
/* harmony export */   "Merge": function() { return /* binding */ Merge; },
/* harmony export */   "Move": function() { return /* binding */ Move; },
/* harmony export */   "Protect": function() { return /* binding */ Protect; },
/* harmony export */   "Split": function() { return /* binding */ Split; },
/* harmony export */   "Unhide": function() { return /* binding */ Unhide; },
/* harmony export */   "Unprotect": function() { return /* binding */ Unprotect; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./actions */ "./src/components/thread/moderation/posts/actions.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./move */ "./src/components/thread/moderation/posts/move.js");
/* harmony import */ var _split__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./split */ "./src/components/thread/moderation/posts/split.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Approve, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Merge, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Move, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Split, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Protect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unprotect, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Unhide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Hide, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(Delete, props));
}
var Approve = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Approve, _React$Component);
  var _super = _createSuper(Approve);
  function Approve() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Approve);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.approve(_this.props);
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);
  return Approve;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Merge = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Merge, _React$Component2);
  var _super2 = _createSuper(Merge);
  function Merge() {
    var _this2;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Merge);
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    _this2 = _super2.call.apply(_super2, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this2), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.merge(_this2.props);
    });
    return _this2;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }]);
  return Merge;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Move = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Move, _React$Component3);
  var _super3 = _createSuper(Move);
  function Move() {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Move);
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _this3 = _super3.call.apply(_super3, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this3), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_10__["default"], _this3.props));
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);
  return Move;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Split = /*#__PURE__*/function (_React$Component4) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Split, _React$Component4);
  var _super4 = _createSuper(Split);
  function Split() {
    var _this4;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Split);
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    _this4 = _super4.call.apply(_super4, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this4), "onClick", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_8__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_split__WEBPACK_IMPORTED_MODULE_11__["default"], _this4.props));
    });
    return _this4;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);
  return Split;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Protect = /*#__PURE__*/function (_React$Component5) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Protect, _React$Component5);
  var _super5 = _createSuper(Protect);
  function Protect() {
    var _this5;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Protect);
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    _this5 = _super5.call.apply(_super5, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this5), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.protect(_this5.props);
    });
    return _this5;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);
  return Protect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unprotect = /*#__PURE__*/function (_React$Component6) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unprotect, _React$Component6);
  var _super6 = _createSuper(Unprotect);
  function Unprotect() {
    var _this6;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unprotect);
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    _this6 = _super6.call.apply(_super6, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this6), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.unprotect(_this6.props);
    });
    return _this6;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Unprotect")));
    }
  }]);
  return Unprotect;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Hide = /*#__PURE__*/function (_React$Component7) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Hide, _React$Component7);
  var _super7 = _createSuper(Hide);
  function Hide() {
    var _this7;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Hide);
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    _this7 = _super7.call.apply(_super7, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this7), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.hide(_this7.props);
    });
    return _this7;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);
  return Hide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Unhide = /*#__PURE__*/function (_React$Component8) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Unhide, _React$Component8);
  var _super8 = _createSuper(Unhide);
  function Unhide() {
    var _this8;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Unhide);
    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }
    _this8 = _super8.call.apply(_super8, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this8), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.unhide(_this8.props);
    });
    return _this8;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);
  return Unhide;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
var Delete = /*#__PURE__*/function (_React$Component9) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(Delete, _React$Component9);
  var _super9 = _createSuper(Delete);
  function Delete() {
    var _this9;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Delete);
    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }
    _this9 = _super9.call.apply(_super9, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this9), "onClick", function () {
      _actions__WEBPACK_IMPORTED_MODULE_9__.remove(_this9.props);
    });
    return _this9;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);
  return Delete;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

/***/ }),

/***/ "./src/components/thread/moderation/posts/errors-list.js":
/*!***************************************************************!*\
  !*** ./src/components/thread/moderation/posts/errors-list.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostErrors": function() { return /* binding */ PostErrors; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var errors = _ref.errors,
    posts = _ref.posts;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Moderation"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "modal-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
    className: "lead"
  }, gettext("One or more posts could not be changed:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled list-errored-items"
  }, errors.map(function (post) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PostErrors, {
      errors: post.detail,
      key: post.id,
      post: posts[post.id]
    });
  })))));
}
function PostErrors(_ref2) {
  var errors = _ref2.errors,
    post = _ref2.post;
  var heading = interpolate(gettext("%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, heading, ":"), errors.map(function (error, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {
      key: i
    }, error);
  }));
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/index.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/posts/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ThreadPostsModerationOptions": function() { return /* reexport safe */ _dropdown__WEBPACK_IMPORTED_MODULE_0__["default"]; }
/* harmony export */ });
/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dropdown */ "./src/components/thread/moderation/posts/dropdown.js");



/***/ }),

/***/ "./src/components/thread/moderation/posts/move.js":
/*!********************************************************!*\
  !*** ./src/components/thread/moderation/posts/move.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_11__.patch(selection, {
          isDeleted: true
        }));
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        for: "id_url",
        label: gettext("Link to thread you want to move posts to")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading
      }, gettext("Move posts"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Move posts")));
}

/***/ }),

/***/ "./src/components/thread/moderation/posts/split.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/posts/split.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Error": function() { return /* binding */ Error; },
/* harmony export */   "Loader": function() { return /* binding */ Loader; },
/* harmony export */   "Modal": function() { return /* binding */ Modal; },
/* harmony export */   "ModerationForm": function() { return /* binding */ ModerationForm; },
/* harmony export */   "PostingConfig": function() { return /* binding */ PostingConfig; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");
/* harmony import */ var _errors_list__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./errors-list */ "./src/components/thread/moderation/posts/errors-list.js");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }














/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(PostingConfig, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, props, {
    Form: ModerationForm
  }));
}
var PostingConfig = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(PostingConfig, _React$Component);
  var _super = _createSuper(PostingConfig);
  function PostingConfig(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PostingConfig);
    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });
        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(ModerationForm, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__["default"])({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Loader, null);
      }
    }
  }]);
  return PostingConfig;
}((react__WEBPACK_IMPORTED_MODULE_8___default().Component));
var ModerationForm = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__["default"])(ModerationForm, _Form);
  var _super2 = _createSuper(ModerationForm);
  function ModerationForm(props) {
    var _this3;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ModerationForm);
    _this3 = _super2.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__["default"])(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };
      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }
      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }
      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }
      _this3.setState(newState);
    });
    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_20__.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }
        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_16__["default"].post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_post__WEBPACK_IMPORTED_MODULE_15__.patch(selection, {
          isDeleted: true
        }));
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].hide();
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_17__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(_errors_list__WEBPACK_IMPORTED_MODULE_21__["default"], {
          errors: rejection
        }));
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_18__["default"].apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];
      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }
      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_11__["default"], {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split posts")))));
    }
  }]);
  return ModerationForm;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_10__["default"]);
function Loader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_13__["default"], null));
}
function Error(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", {
    className: "lead"
  }, gettext("You can't move selected posts at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("p", null, props.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok"))));
}
function Modal(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Split posts into new thread"))), props.children));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx":
/*!****************************************************************************!*\
  !*** ./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_posting_utils_validators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/posting/utils/validators */ "./src/components/posting/utils/validators.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (data) {
      _this.handleSuccessUnmounted(data);

      // keep form loading
      _this.setState({
        isLoading: true
      });
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccessUnmounted", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.update(data));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onChange", function (event) {
      _this.changeValue("title", event.target.value);
    });
    _this.state = {
      isLoading: false,
      title: props.thread.title,
      validators: {
        title: (0,misago_components_posting_utils_validators__WEBPACK_IMPORTED_MODULE_10__.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter thread title."));
        return false;
      }
      var errors = this.validate();
      if (errors.title) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(errors.title[0]);
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].patch(this.props.thread.api.index, [{
        op: "replace",
        path: "title",
        value: this.state.title
      }]);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog modal-lg",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "id_modal_title",
        label: gettext("Thread title")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_modal_title",
        onChange: this.onChange,
        value: this.state.title
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading || this.props.thread.isBusy
      }, gettext("Change title"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Change title")));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/controls.js":
/*!*************************************************************!*\
  !*** ./src/components/thread/moderation/thread/controls.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var _ThreadChangeTitleModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ThreadChangeTitleModal */ "./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx");
/* harmony import */ var _merge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./merge */ "./src/components/thread/moderation/thread/merge.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./move */ "./src/components/thread/moderation/thread/move.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "callApi", function (ops, successMessage) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.busy());

      // by the chance update thread acl too
      ops.push({
        op: "add",
        path: "acl",
        value: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"].patch(_this.props.thread.api.index, ops).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.update(data));
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(successMessage);
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        if (rejection.status === 400) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].error(rejection.detail[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
        }
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "changeTitle", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadChangeTitleModal__WEBPACK_IMPORTED_MODULE_13__["default"], {
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Thread has been pinned globally."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Thread has been pinned locally."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Thread has been unpinned."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Thread has been approved."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Thread has been opened."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Thread has been closed."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Thread has been made visible."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Thread has been made hidden."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "move", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_move__WEBPACK_IMPORTED_MODULE_15__["default"], {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "merge", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_10__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_merge__WEBPACK_IMPORTED_MODULE_14__["default"], {
        thread: _this.props.thread
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "delete", function () {
      if (!window.confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.busy());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_9__["default"]["delete"](_this.props.thread.api.index).then(function (data) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_8__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_11__["default"].apiError(rejection);
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.moderation;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, !!moderation.edit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.changeTitle,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Change title"))), !!moderation.pinGlobally && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin globally"))), !!moderation.pinLocally && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin locally"))), !!moderation.unpin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin"))), !!moderation.move && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move"))), !!moderation.merge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge"))), !!moderation.approve && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve"))), !!moderation.open && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open"))), !!moderation.close && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close"))), !!moderation.unhide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide"))), !!moderation.hide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.hide,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide"))), !!moderation.delete && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/thread/moderation/thread/index.js":
/*!**********************************************************!*\
  !*** ./src/components/thread/moderation/thread/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls */ "./src/components/thread/moderation/thread/controls.js");

/* harmony default export */ __webpack_exports__["default"] = (_controls__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/thread/moderation/thread/merge.js":
/*!**********************************************************!*\
  !*** ./src/components/thread/moderation/thread/merge.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/merge-conflict */ "./src/components/merge-conflict.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        isLoading: true
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccessUnmounted", function (success) {
      misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Thread has been merged with other one."));
      window.location = success.url;
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.release());
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_10__["default"], {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: {
              other_thread: _this.state.url
            },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.poll[0]);
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(rejection.detail);
        }
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });
    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].error(gettext("You have to enter link to the other thread."));
        return false;
      }
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_11__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        for: "id_url",
        label: gettext("Link to thread you want to merge with"),
        help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.isLoading || this.props.thread.isBusy
      }, gettext("Merge thread"))))));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Merge thread")));
}

/***/ }),

/***/ "./src/components/thread/moderation/thread/move.js":
/*!*********************************************************!*\
  !*** ./src/components/thread/moderation/thread/move.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalHeader": function() { return /* binding */ ModalHeader; },
/* harmony export */   "ModalLoading": function() { return /* binding */ ModalLoading; },
/* harmony export */   "ModalMessage": function() { return /* binding */ ModalMessage; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/modal-loader */ "./src/components/modal-loader.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCategoryChange", function (event) {
      _this.changeValue("category", event.target.value);
    });
    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,
      category: null,
      categories: []
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(misago__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREAD_EDITOR_API")).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });
        _this2.setState({
          isReady: true,
          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.busy());
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].patch(this.props.thread.api.index, [{
        op: "replace",
        path: "category",
        value: this.state.category
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.thread.api.posts.index, {
        page: this.props.posts.page
      }).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.replace(data));
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_12__.load(data.post_set));
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].success(gettext("Thread has been moved."));
        misago_services_modal__WEBPACK_IMPORTED_MODULE_16__["default"].hide();
      }, function (rejection) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_18__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_13__.release());
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].error(rejection.detail[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-dialog",
          role: "document"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-content"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-body"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
          for: "id_category",
          label: gettext("New category")
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
          choices: this.state.categories,
          disabled: this.state.isLoading || this.props.thread.isBusy,
          id: "id_category",
          onChange: this.onCategoryChange,
          value: this.state.category
        }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "modal-footer"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          className: "btn btn-default",
          "data-dismiss": "modal",
          disabled: this.state.isLoading,
          type: "button"
        }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
          className: "btn btn-primary",
          disabled: this.state.isLoading || this.props.thread.isBusy
        }, gettext("Move thread"))))));
      } else if (this.state.isError) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalMessage, {
          message: this.state.isError
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalLoading, null);
      }
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);

function ModalHeader(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    "aria-label": pgettext("modal", "Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
    className: "modal-title"
  }, gettext("Move thread")));
}
function ModalLoading(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_modal_loader__WEBPACK_IMPORTED_MODULE_11__["default"], null)));
}
function ModalMessage(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-dialog modal-message",
    role: "document"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
    className: "lead"
  }, gettext("You can't move this thread at the moment.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, props.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok")))));
}

/***/ }),

/***/ "./src/components/thread/root.js":
/*!***************************************!*\
  !*** ./src/components/thread/root.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paths": function() { return /* binding */ paths; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/thread/route */ "./src/components/thread/route.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");



function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}
function paths() {
  var thread = misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("THREAD");
  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");
  return [{
    path: basePath,
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__["default"])
  }, {
    path: basePath + ":page/",
    component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(select)(misago_components_thread_route__WEBPACK_IMPORTED_MODULE_1__["default"])
  }];
}

/***/ }),

/***/ "./src/components/thread/route.js":
/*!****************************************!*\
  !*** ./src/components/thread/route.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_participants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/participants */ "./src/components/participants/index.js");
/* harmony import */ var misago_components_poll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/poll */ "./src/components/poll/index.js");
/* harmony import */ var misago_components_posts_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/posts-list */ "./src/components/posts-list/index.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _ThreadHeader__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ThreadHeader */ "./src/components/thread/ThreadHeader/index.js");
/* harmony import */ var _ThreadToolbarBottom__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ThreadToolbarBottom */ "./src/components/thread/ThreadToolbarBottom.jsx");
/* harmony import */ var _ThreadToolbarTop__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ThreadToolbarTop */ "./src/components/thread/ThreadToolbarTop.jsx");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


















var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_thread__WEBPACK_IMPORTED_MODULE_14__.replace(data));
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__.load(data.post_set));
      if (data.participants) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_participants__WEBPACK_IMPORTED_MODULE_11__.replace(data.participants));
      }
      if (data.poll) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_poll__WEBPACK_IMPORTED_MODULE_12__.replace(data.poll));
      }
      _this.setPageTitle();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "openPollForm", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_18__["default"].open({
        mode: "POLL",
        submit: _this.props.thread.api.poll,
        thread: _this.props.thread,
        poll: null
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "openReplyForm", function () {
      misago_services_posting__WEBPACK_IMPORTED_MODULE_18__["default"].open({
        mode: "REPLY",
        thread: _this.props.thread,
        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }
      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;
      misago_services_store__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(misago_reducers_posts__WEBPACK_IMPORTED_MODULE_13__.unload());
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_15__["default"].get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_17__["default"].apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].start({
        poll: "thread-posts",
        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,
        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_16__["default"].stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_20__["default"].set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var category = this.props.thread.category;
      var className = "page page-thread";
      if (category.css_class) {
        className += " page-thread-" + category.css_class;
      }
      var styleName = category.special_role === "private_threads" ? "private-threads" : category.css_class || "category-threads";
      var threadModeration = getThreadModeration(this.props.thread, this.props.user);
      var postsModeration = getPostsModeration(this.props.posts.results, this.props.user);
      var selection = this.props.posts.results.filter(function (post) {
        return post.isSelected;
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: className
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadHeader__WEBPACK_IMPORTED_MODULE_22__["default"], {
        styleName: styleName,
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        moderation: threadModeration
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_21__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_participants__WEBPACK_IMPORTED_MODULE_8__["default"], {
        participants: this.props.participants,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadToolbarTop__WEBPACK_IMPORTED_MODULE_24__["default"], {
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        selection: selection,
        moderation: postsModeration,
        onPoll: this.openPollForm,
        onReply: this.openReplyForm
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_poll__WEBPACK_IMPORTED_MODULE_9__.Poll, {
        poll: this.props.poll,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_posts_list__WEBPACK_IMPORTED_MODULE_10__["default"], this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_ThreadToolbarBottom__WEBPACK_IMPORTED_MODULE_23__["default"], {
        thread: this.props.thread,
        posts: this.props.posts,
        user: this.props.user,
        selection: selection,
        moderation: postsModeration,
        onReply: this.openReplyForm
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));

var getThreadModeration = function getThreadModeration(thread, user) {
  var moderation = {
    enabled: false,
    edit: false,
    approve: false,
    close: false,
    open: false,
    hide: false,
    unhide: false,
    move: false,
    merge: false,
    pinGlobally: false,
    pinLocally: false,
    unpin: false,
    delete: false
  };
  if (!user.is_authenticated) return moderation;
  moderation.edit = thread.acl.can_edit;
  moderation.approve = thread.acl.can_approve && thread.is_unapproved;
  moderation.close = thread.acl.can_close && !thread.is_closed;
  moderation.open = thread.acl.can_close && thread.is_closed;
  moderation.hide = thread.acl.can_hide && !thread.is_hidden;
  moderation.unhide = thread.acl.can_unhide && thread.is_hidden;
  moderation.move = thread.acl.can_move;
  moderation.merge = thread.acl.can_merge;
  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2;
  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1;
  moderation.unpin = thread.acl.can_pin && thread.weight === 1 || thread.acl.can_pin_globally && thread.weight === 2;
  moderation.delete = thread.acl.can_delete;
  moderation.enabled = moderation.edit || moderation.approve || moderation.close || moderation.open || moderation.hide || moderation.unhide || moderation.move || moderation.merge || moderation.pinGlobally || moderation.pinLocally || moderation.unpin || moderation.delete;
  return moderation;
};
var getPostsModeration = function getPostsModeration(posts, user) {
  var moderation = {
    enabled: false,
    approve: false,
    move: false,
    merge: false,
    protect: false,
    hide: false,
    delete: false
  };
  if (!user.is_authenticated) return moderation;
  posts.forEach(function (post) {
    if (!post.is_event) {
      if (post.acl.can_approve && post.is_unapproved) {
        moderation.approve = true;
      }
      if (post.acl.can_move) moderation.move = true;
      if (post.acl.can_merge) moderation.merge = true;
      if (post.acl.can_protect || post.acl.can_unprotect) {
        moderation.protect = true;
      }
      if (post.acl.can_hide || post.acl.can_unhide) {
        moderation.hide = true;
      }
      if (post.acl.can_delete) moderation.delete = true;
      if (moderation.approve || moderation.move || moderation.merge || moderation.protect || moderation.hide || moderation.delete) {
        moderation.enabled = true;
      }
    }
  });
  return moderation;
};

/***/ }),

/***/ "./src/components/threads/ThreadsCategoryPicker.jsx":
/*!**********************************************************!*\
  !*** ./src/components/threads/ThreadsCategoryPicker.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var ThreadsCategoryPicker = function ThreadsCategoryPicker(_ref) {
  var allItems = _ref.allItems,
    parentUrl = _ref.parentUrl,
    category = _ref.category,
    categories = _ref.categories,
    list = _ref.list;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown threads-category-picker"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline dropdown-toggle btn-block text-ellipsis",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, category && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon",
    style: {
      color: category.color || "inherit"
    }
  }, "label"), category && category.short_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: category.short_name && "hidden-md hidden-lg"
  }, category.short_name), category ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: category.short_name && "hidden-xs hidden-sm"
  }, category.name) : allItems), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    to: parentUrl + list.path
  }, allItems)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    role: "separator",
    className: "divider"
  }), categories.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: choice.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: choice.url.index + list.path
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
      className: "material-icon",
      style: {
        color: choice.color || "inherit"
      }
    }, "label"), choice.name));
  })));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsCategoryPicker);

/***/ }),

/***/ "./src/components/threads/ThreadsListPicker.jsx":
/*!******************************************************!*\
  !*** ./src/components/threads/ThreadsListPicker.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var ThreadsListPicker = function ThreadsListPicker(_ref) {
  var baseUrl = _ref.baseUrl,
    list = _ref.list,
    lists = _ref.lists;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown threads-list-picker"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline dropdown-toggle btn-block",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, list.longName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, lists.map(function (choice) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: choice.type
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: baseUrl + choice.path
    }, choice.longName));
  })));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsListPicker);

/***/ }),

/***/ "./src/components/threads/ThreadsToolbar.jsx":
/*!***************************************************!*\
  !*** ./src/components/threads/ThreadsToolbar.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _services_posting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/posting */ "./src/services/posting.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../button */ "./src/components/button.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _ThreadsCategoryPicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThreadsCategoryPicker */ "./src/components/threads/ThreadsCategoryPicker.jsx");
/* harmony import */ var _ThreadsListPicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ThreadsListPicker */ "./src/components/threads/ThreadsListPicker.jsx");
/* harmony import */ var _ThreadsToolbarModeration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThreadsToolbarModeration */ "./src/components/threads/ThreadsToolbarModeration.jsx");







var ThreadsToolbar = function ThreadsToolbar(_ref) {
  var api = _ref.api,
    baseUrl = _ref.baseUrl,
    category = _ref.category,
    categories = _ref.categories,
    categoriesMap = _ref.categoriesMap,
    topCategory = _ref.topCategory,
    topCategories = _ref.topCategories,
    subCategory = _ref.subCategory,
    subCategories = _ref.subCategories,
    list = _ref.list,
    lists = _ref.lists,
    threads = _ref.threads,
    addThreads = _ref.addThreads,
    startThread = _ref.startThread,
    freezeThread = _ref.freezeThread,
    updateThread = _ref.updateThread,
    deleteThread = _ref.deleteThread,
    selection = _ref.selection,
    moderation = _ref.moderation,
    route = _ref.route,
    user = _ref.user,
    disabled = _ref.disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.Toolbar, null, topCategories.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsCategoryPicker__WEBPACK_IMPORTED_MODULE_4__["default"], {
    allItems: gettext("All categories"),
    parentUrl: list.path,
    category: topCategory,
    categories: topCategories,
    list: list
  })), topCategory && subCategories.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsCategoryPicker__WEBPACK_IMPORTED_MODULE_4__["default"], {
    allItems: gettext("All subcategories"),
    parentUrl: topCategory.url.index,
    category: subCategory,
    categories: subCategories,
    list: list
  }))), lists.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSection, {
    className: "hidden-xs"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsListPicker__WEBPACK_IMPORTED_MODULE_5__["default"], {
    baseUrl: baseUrl,
    list: list,
    lists: lists
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSpacer, null), !!user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "btn-primary btn-outline btn-block",
    disabled: disabled,
    onClick: function onClick() {
      _services_posting__WEBPACK_IMPORTED_MODULE_1__["default"].open(startThread || {
        mode: "START",
        config: misago.get("THREAD_EDITOR_API"),
        submit: misago.get("THREADS_API"),
        category: category.id
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chat"), gettext("Start thread"))), !!moderation.allow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.ToolbarItem, {
    shrink: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ThreadsToolbarModeration__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api,
    categories: categories,
    categoriesMap: categoriesMap,
    threads: threads.filter(function (thread) {
      return selection.indexOf(thread.id) !== -1;
    }),
    addThreads: addThreads,
    freezeThread: freezeThread,
    updateThread: updateThread,
    deleteThread: deleteThread,
    selection: selection,
    moderation: moderation,
    route: route,
    user: user,
    disabled: disabled
  }))));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsToolbar);

/***/ }),

/***/ "./src/components/threads/ThreadsToolbarModeration.jsx":
/*!*************************************************************!*\
  !*** ./src/components/threads/ThreadsToolbarModeration.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _moderation_controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./moderation/controls */ "./src/components/threads/moderation/controls.js");


var ThreadsToolbarModeration = function ThreadsToolbarModeration(_ref) {
  var api = _ref.api,
    categoriesMap = _ref.categoriesMap,
    categories = _ref.categories,
    threads = _ref.threads,
    addThreads = _ref.addThreads,
    freezeThread = _ref.freezeThread,
    updateThread = _ref.updateThread,
    deleteThread = _ref.deleteThread,
    selection = _ref.selection,
    moderation = _ref.moderation,
    route = _ref.route,
    user = _ref.user,
    disabled = _ref.disabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown threads-moderation"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    type: "button",
    className: "btn btn-default btn-outline btn-icon dropdown-toggle",
    title: gettext("Moderation"),
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false",
    disabled: disabled
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "settings")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_moderation_controls__WEBPACK_IMPORTED_MODULE_1__["default"], {
    api: api,
    categories: categories,
    categoriesMap: categoriesMap,
    threads: threads,
    addThreads: addThreads,
    freezeThread: freezeThread,
    updateThread: updateThread,
    deleteThread: deleteThread,
    selection: selection,
    moderation: moderation,
    route: route,
    user: user,
    disabled: disabled
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ThreadsToolbarModeration);

/***/ }),

/***/ "./src/components/threads/compare.js":
/*!*******************************************!*\
  !*** ./src/components/threads/compare.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "compareGlobalWeight": function() { return /* binding */ compareGlobalWeight; },
/* harmony export */   "compareLastPostAge": function() { return /* binding */ compareLastPostAge; },
/* harmony export */   "compareWeight": function() { return /* binding */ compareWeight; }
/* harmony export */ });
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}
function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}
function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

/***/ }),

/***/ "./src/components/threads/container.js":
/*!*********************************************!*\
  !*** ./src/components/threads/container.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _ThreadsToolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ThreadsToolbar */ "./src/components/threads/ThreadsToolbar.jsx");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var root = this.props.root;
      var _this$props$route = this.props.route,
        category = _this$props$route.category,
        categories = _this$props$route.categories,
        categoriesMap = _this$props$route.categoriesMap;
      var topCategory = getTopCategory(root, category, categoriesMap);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_ThreadsToolbar__WEBPACK_IMPORTED_MODULE_7__["default"], {
        api: this.props.api,
        baseUrl: category.url.index,
        category: category,
        categories: categories,
        categoriesMap: categoriesMap,
        topCategory: topCategory,
        topCategories: categories.filter(function (cat) {
          return cat.parent === root.id;
        }),
        subCategories: !!topCategory ? categories.filter(function (cat) {
          return cat.parent === topCategory.id;
        }) : [],
        subCategory: category.level === 2 ? category : null,
        subcategories: this.props.subcategories,
        list: this.props.route.list,
        lists: this.props.route.lists,
        threads: this.props.threads,
        addThreads: this.props.addThreads,
        startThread: this.props.startThread,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,
        selection: this.props.selection,
        moderation: this.props.moderation,
        route: this.props.route,
        user: this.props.user,
        disabled: !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length
      }), this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

var getTopCategory = function getTopCategory(root, category, categoriesMap) {
  if (!category.parent) return null;
  if (category.parent === root.id) return category;
  return categoriesMap[category.parent];
};

/***/ }),

/***/ "./src/components/threads/moderation/controls.js":
/*!*******************************************************!*\
  !*** ./src/components/threads/moderation/controls.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/threads/moderation/errors-list */ "./src/components/threads/moderation/errors-list.js");
/* harmony import */ var misago_components_threads_moderation_merge__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/threads/moderation/merge */ "./src/components/threads/moderation/merge.js");
/* harmony import */ var misago_components_threads_moderation_move__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/threads/moderation/move */ "./src/components/threads/moderation/move.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "callApi", function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      // list ids
      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      // always return current acl
      ops.push({
        op: "add",
        path: "acl",
        value: true
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"].patch(_this.props.api, {
        ids: ids,
        ops: ops
      }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // update threads
        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        });

        // show success message and call callback
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(successMessage);
        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // escape on non-400 error
        if (rejection.status !== 400) {
          return misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
        }

        // build errors list
        var errors = [];
        var threadsMap = {};
        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });
        rejection.forEach(function (_ref) {
          var id = _ref.id,
            detail = _ref.detail;
          if (typeof threadsMap[id] !== "undefined") {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });
        misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
          errors: errors
        }));
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Selected threads were pinned globally."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Selected threads were pinned locally."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Selected threads were unpinned."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Selected threads were approved."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Selected threads were opened."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Selected threads were closed."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Selected threads were unhidden."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Selected threads were hidden."));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "move", function () {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_move__WEBPACK_IMPORTED_MODULE_10__["default"], {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "merge", function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            id: thread.id,
            title: thread.title,
            errors: [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });
      if (_this.props.threads.length < 2) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
          errors: errors
        }));
        return;
      } else {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_merge__WEBPACK_IMPORTED_MODULE_9__["default"], _this.props));
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "delete", function () {
      if (!window.confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }
      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });
      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_12__["default"]["delete"](_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
        });
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].success(gettext("Selected threads were deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });
          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);
            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });
          misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
            errors: rejection
          }));
        } else {
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_14__["default"].apiError(rejection);
        }
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
        moderation = _this$props.moderation,
        threads = _this$props.threads;
      var noSelection = this.props.selection.length == 0;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: function onClick() {
          return misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_selection__WEBPACK_IMPORTED_MODULE_11__.all(threads.map(function (t) {
            return t.id;
          })));
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Select all"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: function onClick() {
          return misago_services_store__WEBPACK_IMPORTED_MODULE_15__["default"].dispatch(misago_reducers_selection__WEBPACK_IMPORTED_MODULE_11__.none());
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Select none"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", {
        role: "separator",
        className: "divider"
      }), !!moderation.can_pin_globally && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.pinGlobally
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin threads globally"))), !!moderation.can_pin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.pinLocally
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin threads locally"))), !!moderation.can_pin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.unpin
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin threads"))), !!moderation.can_move && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.move
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move threads"))), !!moderation.can_merge && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.merge
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge threads"))), !!moderation.can_approve && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.approve
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve threads"))), !!moderation.can_close && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.open
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open threads"))), !!moderation.can_close && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.close
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close threads"))), !!moderation.can_unhide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.unhide
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide threads"))), !!moderation.can_hide && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.hide
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide threads"))), !!moderation.can_delete && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-link",
        type: "button",
        disabled: noSelection,
        onClick: this.delete
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete threads"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/threads/moderation/errors-list.js":
/*!**********************************************************!*\
  !*** ./src/components/threads/moderation/errors-list.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ThreadErrors": function() { return /* binding */ ThreadErrors; },
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        "aria-label": pgettext("modal", "Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Threads moderation"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, gettext("One or more threads could not be deleted:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-unstyled list-errored-items"
      }, this.props.errors.map(function (item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ThreadErrors, {
          errors: item.errors,
          key: item.thread.id,
          thread: item.thread
        });
      })))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

function ThreadErrors(_ref) {
  var errors = _ref.errors,
    thread = _ref.thread;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h5", null, thread.title), errors.map(function (message, i) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, message);
  }));
}

/***/ }),

/***/ "./src/components/threads/moderation/merge.js":
/*!****************************************************!*\
  !*** ./src/components/threads/moderation/merge.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_components_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/select */ "./src/components/select.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_threads__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/components/threads/moderation/errors-list */ "./src/components/threads/moderation/errors-list.js");
/* harmony import */ var misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/components/merge-conflict */ "./src/components/merge-conflict.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! misago/utils/validators */ "./src/utils/validators.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
















var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "getFormdata", function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSuccess", function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
        _this.props.deleteThread(thread);
      });

      // deselect all threads
      misago_services_store__WEBPACK_IMPORTED_MODULE_21__["default"].dispatch(misago_reducers_selection__WEBPACK_IMPORTED_MODULE_15__.none());

      // append merged thread, filter threads
      _this.props.addThreads([apiResponse]);
      misago_services_store__WEBPACK_IMPORTED_MODULE_21__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_14__.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

      // hide modal
      misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].hide();
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleError", function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_merge_conflict__WEBPACK_IMPORTED_MODULE_17__["default"], {
            api: misago_index__WEBPACK_IMPORTED_MODULE_13__["default"].get("MERGE_THREADS_API"),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            errors: Object.assign({}, _this.state.errors, rejection)
          });
          misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        misago_services_modal__WEBPACK_IMPORTED_MODULE_19__["default"].show( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_moderation_errors_list__WEBPACK_IMPORTED_MODULE_16__["default"], {
          errors: rejection
        }));
      } else if (rejection.best_answer) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(rejection.poll[0]);
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].apiError(rejection);
      }
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };
      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }
      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }
      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }
      _this.setState(newState);
    });
    _this.state = {
      isLoading: false,
      title: "",
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [misago_utils_validators__WEBPACK_IMPORTED_MODULE_22__.required()]
      },
      errors: {}
    };
    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }
      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }
    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;
        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });
        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    _this.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_20__["default"].error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return misago_services_ajax__WEBPACK_IMPORTED_MODULE_18__["default"].post(misago_index__WEBPACK_IMPORTED_MODULE_13__["default"].get("MERGE_THREADS_API"), this.getFormdata());
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];
      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }
      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
          label: gettext("Thread weight"),
          for: "id_weight"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
          label: gettext("Hide thread"),
          for: "id_is_hidden"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
          label: gettext("Close thread"),
          for: "id_is_closed"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_select__WEBPACK_IMPORTED_MODULE_12__["default"], {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        label: gettext("Thread title"),
        for: "id_title",
        validation: this.state.errors.title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_10__["default"], {
        label: gettext("Category"),
        for: "id_category",
        validation: this.state.errors.category
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_11__["default"], {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.categoryChoices
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))));
    }
  }, {
    key: "renderCantMergeMessage",
    value: function renderCantMergeMessage() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext("You need permission to start threads in category to be able to merge threads to it.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), this.state.category ? this.renderForm() : this.renderCantMergeMessage()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_9__["default"]);


/***/ }),

/***/ "./src/components/threads/moderation/move.js":
/*!***************************************************!*\
  !*** ./src/components/threads/moderation/move.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/form */ "./src/components/form.js");
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");
/* harmony import */ var misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/category-select */ "./src/components/category-select.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_reducers_threads__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var _default = /*#__PURE__*/function (_Form) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _Form);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      event.preventDefault();
      misago_services_modal__WEBPACK_IMPORTED_MODULE_13__["default"].hide();
      var onSuccess = function onSuccess() {
        misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_12__.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch(misago_reducers_selection__WEBPACK_IMPORTED_MODULE_11__.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };
      _this.props.callApi([{
        op: "replace",
        path: "category",
        value: _this.state.category
      }, {
        op: "replace",
        path: "flatten-categories",
        value: null
      }, {
        op: "add",
        path: "acl",
        value: true
      }], gettext("Selected threads were moved."), onSuccess);
    });
    _this.state = {
      category: null
    };
    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }
      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }
    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;
        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });
        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_9__["default"], {
        label: gettext("New category"),
        for: "id_new_category"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_category_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
        id: "id_new_category",
        onChange: this.bindInput("category"),
        value: this.state.category,
        choices: this.categoryChoices
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-primary"
      }, gettext("Move threads"))));
    }
  }, {
    key: "renderCantMoveMessage",
    value: function renderCantMoveMessage() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, gettext("You need permission to start threads in category to be able to move threads to it.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": pgettext("modal", "Close")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("h4", {
        className: "modal-title"
      }, gettext("Move threads"))), this.state.category ? this.renderForm() : this.renderCantMoveMessage()));
    }
  }]);
  return _default;
}(misago_components_form__WEBPACK_IMPORTED_MODULE_8__["default"]);


/***/ }),

/***/ "./src/components/threads/root.js":
/*!****************************************!*\
  !*** ./src/components/threads/root.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getLists": function() { return /* binding */ getLists; },
/* harmony export */   "getSelect": function() { return /* binding */ getSelect; },
/* harmony export */   "paths": function() { return /* binding */ paths; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_threads_route__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/threads/route */ "./src/components/threads/route.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");



function getSelect(options) {
  return function (store) {
    return {
      options: options,
      selection: store.selection,
      threads: store.threads,
      tick: store.tick.tick,
      user: store.auth.user
    };
  };
}
function getLists(user) {
  var lists = [{
    type: "all",
    path: "",
    name: gettext("All"),
    longName: gettext("All threads")
  }];
  if (user.id) {
    lists.push({
      type: "my",
      path: "my/",
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: "new",
      path: "new/",
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: "unread",
      path: "unread/",
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: "subscribed",
      path: "subscribed/",
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });
    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: "unapproved",
        path: "unapproved/",
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }
  return lists;
}
function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};
  misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("CATEGORIES").forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;
      routes.push({
        path: category.url.index + list.path,
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(getSelect(mode))(misago_components_threads_route__WEBPACK_IMPORTED_MODULE_1__["default"]),
        categories: misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("CATEGORIES"),
        categoriesMap: categoriesMap,
        category: category,
        lists: lists,
        list: list
      });
    });
  });
  return routes;
}

/***/ }),

/***/ "./src/components/threads/route.js":
/*!*****************************************!*\
  !*** ./src/components/threads/route.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/button */ "./src/components/button.js");
/* harmony import */ var misago_components_threads_compare__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/threads/compare */ "./src/components/threads/compare.js");
/* harmony import */ var misago_components_threads_container__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/threads/container */ "./src/components/threads/container.js");
/* harmony import */ var misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/components/threads/utils */ "./src/components/threads/utils.js");
/* harmony import */ var misago_components_ThreadsList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/components/ThreadsList */ "./src/components/ThreadsList/index.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! misago/reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var misago_utils_sets__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! misago/utils/sets */ "./src/utils/sets.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

















var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });
      _this.loadThreads(_this.getCategory(), _this.state.next);
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "pollResponse", function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.diffThreads)(_this.props.threads, data.results)
        })
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "addThreads", function (threads) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.append)(threads, _this.getSorting()));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "applyDiff", function () {
      _this.addThreads(_this.state.diff.results);
      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.getModerationActions)(misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].getState().threads),
        diff: {
          results: []
        }
      }));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "freezeThread", function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: misago_utils_sets__WEBPACK_IMPORTED_MODULE_22__.toggle(currentState.busyThreads, thread)
        };
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "updateThread", function (thread) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.patch)(thread, thread, _this.getSorting()));
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "deleteThread", function (thread) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.deleteThread)(thread));
    });
    _this.state = {
      isMounted: true,
      isLoaded: false,
      isBusy: false,
      diff: {
        results: []
      },
      moderation: [],
      busyThreads: [],
      dropdown: false,
      subcategories: [],
      next: 0
    };
    var category = _this.getCategory();
    if (misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].has("THREADS")) {
      _this.initWithPreloadedData(category, misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREADS"));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getCategory",
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.getModerationActions)(data.results),
        subcategories: data.subcategories,
        next: data.next
      });
      this.startPolling(category);
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: "loadThreads",
    value: function loadThreads(category) {
      var _this2 = this;
      var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_17__["default"].get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        start: next || 0
      }, "threads").then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }
        if (next === 0) {
          misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.hydrate)(data.results));
        } else {
          misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.append)(data.results, _this2.getSorting()));
        }
        _this2.setState({
          isLoaded: true,
          isBusy: false,
          moderation: (0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.getModerationActions)(misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].getState().threads),
          subcategories: data.subcategories,
          next: data.next
        });
        _this2.startPolling(category);
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_19__["default"].apiError(rejection);
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(category) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_18__["default"].start({
        poll: "threads",
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setPageTitle();
      if (misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].has("THREADS")) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch((0,misago_reducers_threads__WEBPACK_IMPORTED_MODULE_16__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].pop("THREADS").results));
        this.setState({
          isLoaded: true
        });
      }
      misago_services_store__WEBPACK_IMPORTED_MODULE_20__["default"].dispatch(misago_reducers_selection__WEBPACK_IMPORTED_MODULE_15__.none());
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      misago_services_polls__WEBPACK_IMPORTED_MODULE_18__["default"].stop("threads");
    }
  }, {
    key: "getTitle",
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }
      return (0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.getTitle)(this.props.route);
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      if (this.props.route.category.level || !misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREADS_ON_INDEX")) {
        misago_services_page_title__WEBPACK_IMPORTED_MODULE_21__["default"].set((0,misago_components_threads_utils__WEBPACK_IMPORTED_MODULE_11__.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        misago_services_page_title__WEBPACK_IMPORTED_MODULE_21__["default"].set(this.props.options.title);
      } else {
        if (misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("SETTINGS").index_title) {
          document.title = misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("SETTINGS").index_title;
        } else {
          document.title = misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("SETTINGS").forum_name;
        }
      }
    }
  }, {
    key: "getSorting",
    value: function getSorting() {
      if (this.props.route.category.level) {
        return misago_components_threads_compare__WEBPACK_IMPORTED_MODULE_9__.compareWeight;
      } else {
        return misago_components_threads_compare__WEBPACK_IMPORTED_MODULE_9__.compareGlobalWeight;
      }
    }

    // AJAX
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.next) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy || this.state.busyThreads.length,
        onClick: this.loadMore
      }, gettext("Show more")));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "page page-threads";
      className += " page-threads-" + this.props.route.list.type;
      if (isIndex(this.props)) {
        className += " page-threads-index";
      }
      if (this.props.route.category.css_class) {
        className += " page-threads-" + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: "render",
    value: function render() {
      var root = this.props.route.categories[0];
      var _this$props$route = this.props.route,
        category = _this$props$route.category,
        list = _this$props$route.list;
      var specialRole = category.special_role;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName()
      }, specialRole == "root_category" && misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREADS_ON_INDEX") && misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("SETTINGS").index_header && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderPlain, {
        header: misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("SETTINGS").index_header,
        message: category.description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderHTMLMessage, {
          message: category.description.html
        }),
        styleName: "forum-index"
      }), specialRole == "root_category" && !misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREADS_ON_INDEX") && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderPlain, {
        header: gettext("Threads"),
        styleName: "threads"
      }), specialRole == "private_threads" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderPlain, {
        header: this.props.options.title,
        message: this.props.options.pageLead && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderMessage, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", null, this.props.options.pageLead)),
        styleName: "private-threads"
      }), !specialRole && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderPlain, {
        header: category.name,
        message: category.description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_23__.PageHeaderHTMLMessage, {
          message: category.description.html
        }),
        styleName: category.css_class || "category-threads"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_threads_container__WEBPACK_IMPORTED_MODULE_10__["default"], {
        api: this.props.options.api,
        root: root,
        route: this.props.route,
        user: this.props.user,
        pageLead: this.props.options.pageLead,
        threads: this.props.threads,
        threadsCount: this.state.count,
        moderation: this.state.moderation,
        selection: this.props.selection,
        busyThreads: this.state.busyThreads,
        addThreads: this.addThreads,
        startThread: this.props.options.startThread,
        freezeThread: this.freezeThread,
        deleteThread: this.deleteThread,
        updateThread: this.updateThread,
        isLoaded: this.state.isLoaded,
        isBusy: this.state.isBusy
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_ThreadsList__WEBPACK_IMPORTED_MODULE_12__["default"], {
        category: category,
        categories: this.props.route.categoriesMap,
        list: list,
        selection: this.props.selection,
        threads: this.props.threads,
        updatedThreads: this.state.diff.results.length,
        applyUpdate: this.applyDiff,
        showOptions: !!this.props.user.id,
        isLoaded: this.state.isLoaded,
        busyThreads: this.state.busyThreads,
        emptyMessage: this.props.options.emptyMessage
      }), this.getMoreButton()));
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_13__["default"]);

function isIndex(props) {
  if (props.route.category.level || !misago_index__WEBPACK_IMPORTED_MODULE_14__["default"].get("THREADS_ON_INDEX")) return false;
  if (props.options.title) return false;
  return true;
}

/***/ }),

/***/ "./src/components/threads/utils.js":
/*!*****************************************!*\
  !*** ./src/components/threads/utils.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "diffThreads": function() { return /* binding */ diffThreads; },
/* harmony export */   "getModerationActions": function() { return /* binding */ getModerationActions; },
/* harmony export */   "getPageTitle": function() { return /* binding */ getPageTitle; },
/* harmony export */   "getTitle": function() { return /* binding */ getTitle; },
/* harmony export */   "isThreadChanged": function() { return /* binding */ isThreadChanged; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREADS_ON_INDEX")) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}
function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREADS_ON_INDEX")) {
    if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("SETTINGS").index_header) {
      return misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("SETTINGS").index_header;
    } else {
      return misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("SETTINGS").forum_name;
    }
  } else {
    return gettext("Threads");
  }
}
function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}
function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });
  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}
function getModerationActions(threads) {
  var moderation = {
    allow: false,
    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };
  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }
    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }
    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }
    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }
    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }
    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }
    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }
    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }
    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }
    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });
  return moderation;
}

/***/ }),

/***/ "./src/components/user-menu/guest-nav.js":
/*!***********************************************!*\
  !*** ./src/components/user-menu/guest-nav.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CompactGuestNav": function() { return /* binding */ CompactGuestNav; },
/* harmony export */   "GuestMenu": function() { return /* binding */ GuestMenu; },
/* harmony export */   "GuestNav": function() { return /* binding */ GuestNav; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_navbar_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/navbar-search */ "./src/components/navbar-search/index.js");
/* harmony import */ var misago_components_register_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/register-button */ "./src/components/register-button.js");
/* harmony import */ var misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/sign-in.js */ "./src/components/sign-in.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/mobile-navbar-dropdown */ "./src/services/mobile-navbar-dropdown.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var GuestMenu = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(GuestMenu, _React$Component);
  var _super = _createSuper(GuestMenu);
  function GuestMenu() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, GuestMenu);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(GuestMenu, [{
    key: "showSignInModal",
    value: function showSignInModal() {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show(misago_components_sign_in_js__WEBPACK_IMPORTED_MODULE_9__["default"]);
    }
  }, {
    key: "render",
    value: function render() {
      var delegateAuth = misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SETTINGS").DELEGATE_AUTH;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "guest-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h4", null, gettext("You are browsing as guest.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, gettext("Sign in or register to start and participate in discussions.")), delegateAuth ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        className: "btn btn-default btn-sign-in btn-block",
        href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SETTINGS").LOGIN_URL
      }, gettext("Sign in")))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default btn-sign-in btn-block",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_register_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "btn-primary btn-register btn-block"
      }, gettext("Register"))))));
    }
  }]);
  return GuestMenu;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var GuestNav = /*#__PURE__*/function (_GuestMenu) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(GuestNav, _GuestMenu);
  var _super2 = _createSuper(GuestNav);
  function GuestNav() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, GuestNav);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(GuestNav, [{
    key: "render",
    value: function render() {
      if (misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SETTINGS").DELEGATE_AUTH) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: "nav nav-guest"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
          className: "btn navbar-btn btn-default btn-sign-in",
          href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("SETTINGS").LOGIN_URL
        }, gettext("Sign in")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
          className: "navbar-left"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_navbar_search__WEBPACK_IMPORTED_MODULE_7__["default"], null)));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "nav nav-guest"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn navbar-btn btn-default btn-sign-in",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_register_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: "navbar-btn btn-primary btn-register"
      }, gettext("Register")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "navbar-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_navbar_search__WEBPACK_IMPORTED_MODULE_7__["default"], null)));
    }
  }]);
  return GuestNav;
}(GuestMenu);
var CompactGuestNav = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(CompactGuestNav, _React$Component2);
  var _super3 = _createSuper(CompactGuestNav);
  function CompactGuestNav() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, CompactGuestNav);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(CompactGuestNav, [{
    key: "showGuestMenu",
    value: function showGuestMenu() {
      misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_11__["default"].show(GuestMenu);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        onClick: this.showGuestMenu
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "64"
      }));
    }
  }]);
  return CompactGuestNav;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

/***/ }),

/***/ "./src/components/user-menu/root.js":
/*!******************************************!*\
  !*** ./src/components/user-menu/root.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CompactUserMenu": function() { return /* binding */ CompactUserMenu; },
/* harmony export */   "UserMenu": function() { return /* binding */ UserMenu; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _guest_nav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./guest-nav */ "./src/components/user-menu/guest-nav.js");
/* harmony import */ var _user_nav__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user-nav */ "./src/components/user-menu/user-nav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var UserMenu = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(UserMenu, _React$Component);
  var _super = _createSuper(UserMenu);
  function UserMenu() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, UserMenu);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(UserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_user_nav__WEBPACK_IMPORTED_MODULE_7__.UserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_guest_nav__WEBPACK_IMPORTED_MODULE_6__.GuestNav, null);
      }
    }
  }]);
  return UserMenu;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var CompactUserMenu = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(CompactUserMenu, _React$Component2);
  var _super2 = _createSuper(CompactUserMenu);
  function CompactUserMenu() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, CompactUserMenu);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(CompactUserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_user_nav__WEBPACK_IMPORTED_MODULE_7__.CompactUserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_guest_nav__WEBPACK_IMPORTED_MODULE_6__.CompactGuestNav, null);
      }
    }
  }]);
  return CompactUserMenu;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function select(state) {
  return state.auth;
}

/***/ }),

/***/ "./src/components/user-menu/user-nav.js":
/*!**********************************************!*\
  !*** ./src/components/user-menu/user-nav.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CompactUserNav": function() { return /* binding */ CompactUserNav; },
/* harmony export */   "PrivateThreadsBadge": function() { return /* binding */ PrivateThreadsBadge; },
/* harmony export */   "UserMenu": function() { return /* binding */ UserMenu; },
/* harmony export */   "UserNav": function() { return /* binding */ UserNav; },
/* harmony export */   "UserPrivateThreadsLink": function() { return /* binding */ UserPrivateThreadsLink; },
/* harmony export */   "selectUserMenu": function() { return /* binding */ selectUserMenu; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_change_avatar_root__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/change-avatar/root */ "./src/components/change-avatar/root.js");
/* harmony import */ var misago_components_navbar_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/navbar-search */ "./src/components/navbar-search/index.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/mobile-navbar-dropdown */ "./src/services/mobile-navbar-dropdown.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }








var UserMenu = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(UserMenu, _React$Component);
  var _super = _createSuper(UserMenu);
  function UserMenu() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, UserMenu);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(UserMenu, [{
    key: "changeAvatar",
    value: function changeAvatar() {
      misago_services_modal__WEBPACK_IMPORTED_MODULE_12__["default"].show((0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(misago_components_change_avatar_root__WEBPACK_IMPORTED_MODULE_8__.select)(misago_components_change_avatar_root__WEBPACK_IMPORTED_MODULE_8__["default"]));
    }
  }, {
    key: "render",
    value: function render() {
      var user = this.props.user;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "dropdown-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, user.username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row user-stats"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "message"), user.posts), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "forum"), user.threads), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "favorite"), user.followers), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "favorite_outline"), user.following))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "divider"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: user.url
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "account_circle"), gettext("See your profile"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERCP_URL")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "done_all"), gettext("Change options"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn-link",
        onClick: this.changeAvatar,
        type: "button"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "portrait"), gettext("Change avatar"))), !!user.acl.can_use_private_threads && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("PRIVATE_THREADS_URL")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "message"), gettext("Private threads"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(PrivateThreadsBadge, {
        user: user
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "divider"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "dropdown-buttons"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        className: "btn btn-default btn-block",
        onClick: function onClick() {
          return document.getElementById("hidden-logout-form").submit();
        },
        type: "button"
      }, gettext("Log out"))));
    }
  }]);
  return UserMenu;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function PrivateThreadsBadge(_ref) {
  var user = _ref.user;
  if (!user.unread_private_threads) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
    className: "badge"
  }, user.unread_private_threads);
}
function UserNav(_ref2) {
  var user = _ref2.user;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
    className: "ul nav navbar-nav nav-user"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_navbar_search__WEBPACK_IMPORTED_MODULE_9__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(UserPrivateThreadsLink, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
    className: "dropdown"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: "dropdown-toggle",
    "data-toggle": "dropdown",
    href: user.url,
    role: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__["default"], {
    user: user,
    size: "64"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(UserMenu, {
    user: user
  })));
}
function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;
  if (!user.acl.can_use_private_threads) return null;
  var title = null;
  if (user.unread_private_threads) {
    title = gettext("You have unread private threads!");
  } else {
    title = gettext("Private threads");
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
    className: "navbar-icon",
    href: misago__WEBPACK_IMPORTED_MODULE_10__["default"].get("PRIVATE_THREADS_URL"),
    title: title
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
    className: "material-icon"
  }, "message"), user.unread_private_threads > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
    className: "badge"
  }, user.unread_private_threads)));
}
function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}
var CompactUserNav = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(CompactUserNav, _React$Component2);
  var _super2 = _createSuper(CompactUserNav);
  function CompactUserNav() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, CompactUserNav);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(CompactUserNav, [{
    key: "showUserMenu",
    value: function showUserMenu() {
      misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_11__["default"].showConnected("user-menu", (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("button", {
        type: "button",
        onClick: this.showUserMenu
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__["default"], {
        user: this.props.user,
        size: "50"
      }));
    }
  }]);
  return CompactUserNav;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

/***/ }),

/***/ "./src/components/user-status.js":
/*!***************************************!*\
  !*** ./src/components/user-status.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StatusIcon": function() { return /* binding */ StatusIcon; },
/* harmony export */   "StatusLabel": function() { return /* binding */ StatusLabel; },
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "getStatusClassName": function() { return /* binding */ getStatusClassName; },
/* harmony export */   "getStatusDescription": function() { return /* binding */ getStatusDescription; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: this.getClass()
      }, this.props.children);
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));

var StatusIcon = /*#__PURE__*/function (_React$Component2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(StatusIcon, _React$Component2);
  var _super2 = _createSuper(StatusIcon);
  function StatusIcon() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StatusIcon);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon status-icon"
      }, this.getIcon());
    }
  }]);
  return StatusIcon;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var StatusLabel = /*#__PURE__*/function (_React$Component3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(StatusLabel, _React$Component3);
  var _super3 = _createSuper(StatusLabel);
  function StatusLabel() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StatusLabel);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: this.props.className || "status-label",
        title: this.getHelp()
      }, this.getLabel());
    }
  }]);
  return StatusLabel;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
function getStatusClassName(status) {
  var className = "";
  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }
  return "user-status user-" + className;
}
function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

/***/ }),

/***/ "./src/components/username-history/change-preview.js":
/*!***********************************************************!*\
  !*** ./src/components/username-history/change-preview.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "100"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-author"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 100) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(80, 140) + "px"
        }
      }, "\xA0")));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/change.js":
/*!***************************************************!*\
  !*** ./src/components/username-history/change.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
          href: this.props.change.changed_by.url,
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
          user: this.props.change.changed_by,
          size: "100"
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
          size: "100"
        }));
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
          href: this.props.change.changed_by.url,
          className: "item-title"
        }, this.props.change.changed_by.username);
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "item-title"
        }, this.props.change.changed_by_username);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "list-group-item",
        key: this.props.change.id
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-avatar"
      }, this.renderUserAvatar()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-author"
      }, this.renderUsername()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "old-username"
      }, this.props.change.old_username), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "new-username"
      }, this.props.change.new_username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("abbr", {
        title: this.props.change.changed_on.format("LLL")
      }, this.props.change.changed_on.fromNow())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-empty.js":
/*!*******************************************************!*\
  !*** ./src/components/username-history/list-empty.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "list-group-item empty-message"
      }, this.getEmptyMessage())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-preview.js":
/*!*********************************************************!*\
  !*** ./src/components/username-history/list-preview.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_change_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/change-preview */ "./src/components/username-history/change-preview.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_change_preview__WEBPACK_IMPORTED_MODULE_6__["default"], {
          hiddenOnMobile: i > 0,
          key: i
        });
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/list-ready.js":
/*!*******************************************************!*\
  !*** ./src/components/username-history/list-ready.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_change__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/change */ "./src/components/username-history/change.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, this.props.changes.map(function (change) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_change__WEBPACK_IMPORTED_MODULE_6__["default"], {
          change: change,
          key: change.id
        });
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/username-history/root.js":
/*!*************************************************!*\
  !*** ./src/components/username-history/root.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_username_history_list_empty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/username-history/list-empty */ "./src/components/username-history/list-empty.js");
/* harmony import */ var misago_components_username_history_list_ready__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/username-history/list-ready */ "./src/components/username-history/list-ready.js");
/* harmony import */ var misago_components_username_history_list_preview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/username-history/list-preview */ "./src/components/username-history/list-preview.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_ready__WEBPACK_IMPORTED_MODULE_7__["default"], {
            changes: this.props.changes
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_empty__WEBPACK_IMPORTED_MODULE_6__["default"], {
            emptyMessage: this.props.emptyMessage
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_username_history_list_preview__WEBPACK_IMPORTED_MODULE_8__["default"], null);
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users-list/card/index.js":
/*!*************************************************!*\
  !*** ./src/components/users-list/card/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stats */ "./src/components/users-list/card/stats.js");
/* harmony import */ var _user_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-title */ "./src/components/users-list/card/user-title.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var showStatus = _ref.showStatus,
    user = _ref.user;
  var rank = user.rank;
  var className = "panel user-card";
  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: className
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-3 user-card-left"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-small-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: "50",
    size2x: "80",
    user: user
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "col-xs-9 col-sm-12 user-card-body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-avatar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: "150",
    size2x: "200",
    user: user
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-username"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
    href: user.url
  }, user.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-title"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_user_title__WEBPACK_IMPORTED_MODULE_3__["default"], {
    rank: rank,
    title: user.title
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "user-card-stats"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_stats__WEBPACK_IMPORTED_MODULE_2__["default"], {
    showStatus: showStatus,
    user: user
  }))))));
}

/***/ }),

/***/ "./src/components/users-list/card/stats.js":
/*!*************************************************!*\
  !*** ./src/components/users-list/card/stats.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Followers": function() { return /* binding */ Followers; },
/* harmony export */   "JoinDate": function() { return /* binding */ JoinDate; },
/* harmony export */   "Posts": function() { return /* binding */ Posts; },
/* harmony export */   "Status": function() { return /* binding */ Status; },
/* harmony export */   "Threads": function() { return /* binding */ Threads; },
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "getStatClassName": function() { return /* binding */ getStatClassName; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var showStatus = _ref.showStatus,
    user = _ref.user;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "list-unstyled"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Status, {
    showStatus: showStatus,
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(JoinDate, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-divider"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Posts, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Threads, {
    user: user
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Followers, {
    user: user
  }));
}
function Status(_ref2) {
  var showStatus = _ref2.showStatus,
    user = _ref2.user;
  if (!showStatus) return null;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-status"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__["default"], {
    status: user.status
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_1__.StatusLabel, {
    status: user.status,
    user: user
  })));
}
function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;
  var title = interpolate(gettext("Joined on %(joined_on)s"), {
    joined_on: joined_on.format("LL, LT")
  }, true);
  var message = interpolate(gettext("Joined %(joined_on)s"), {
    joined_on: joined_on.fromNow()
  }, true);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: "user-stat-join-date"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("abbr", {
    title: title
  }, message));
}
function Posts(_ref4) {
  var user = _ref4.user;
  var className = getStatClassName("user-stat-posts", user.posts);
  var message = ngettext("%(posts)s post", "%(posts)s posts", user.posts);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    posts: user.posts
  }, true));
}
function Threads(_ref5) {
  var user = _ref5.user;
  var className = getStatClassName("user-stat-threads", user.threads);
  var message = ngettext("%(threads)s thread", "%(threads)s threads", user.threads);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    threads: user.threads
  }, true));
}
function Followers(_ref6) {
  var user = _ref6.user;
  var className = getStatClassName("user-stat-followers", user.followers);
  var message = ngettext("%(followers)s follower", "%(followers)s followers", user.followers);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
    className: className
  }, interpolate(message, {
    followers: user.followers
  }, true));
}
function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }
  return className;
}

/***/ }),

/***/ "./src/components/users-list/card/user-title.js":
/*!******************************************************!*\
  !*** ./src/components/users-list/card/user-title.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var rank = _ref.rank,
    title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";
  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }
  if (rank.is_tab) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: className
  }, userTitle);
}

/***/ }),

/***/ "./src/components/users-list/index.js":
/*!********************************************!*\
  !*** ./src/components/users-list/index.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/users-list/card/index.js");
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview */ "./src/components/users-list/preview/index.js");



/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var cols = _ref.cols,
    isReady = _ref.isReady,
    showStatus = _ref.showStatus,
    users = _ref.users;
  var colClassName = "col-xs-12 col-sm-4";
  if (cols === 4) {
    colClassName += " col-md-3";
  }
  if (!isReady) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_preview__WEBPACK_IMPORTED_MODULE_2__["default"], {
      colClassName: colClassName,
      cols: cols
    });
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "users-cards-list ui-ready"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, users.map(function (user) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: colClassName,
      key: user.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], {
      showStatus: showStatus,
      user: user
    }));
  })));
}

/***/ }),

/***/ "./src/components/users-list/preview/card.js":
/*!***************************************************!*\
  !*** ./src/components/users-list/preview/card.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel user-card user-card-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-3 user-card-left"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-small-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "50",
        size2x: "80"
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "col-xs-9 col-sm-12 user-card-body"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "150",
        size2x: "200"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-username"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-title"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-card-stats"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-unstyled"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: "user-stat-divider"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 70) + "px"
        }
      }, "\xA0"))))))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users-list/preview/index.js":
/*!****************************************************!*\
  !*** ./src/components/users-list/preview/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./card */ "./src/components/users-list/preview/card.js");


/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(_ref) {
  var colClassName = _ref.colClassName,
    cols = _ref.cols;
  var list = Array.apply(null, {
    length: cols
  }).map(Number.call, Number);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "users-cards-list ui-preview"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "row"
  }, list.map(function (i) {
    var className = colClassName;
    if (i !== 0) className += " hidden-xs";
    if (i === 3) className += " hidden-sm";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
      className: className,
      key: i
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_card__WEBPACK_IMPORTED_MODULE_1__["default"], null));
  })));
}

/***/ }),

/***/ "./src/components/users/UsersNav.js":
/*!******************************************!*\
  !*** ./src/components/users/UsersNav.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_li__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/li */ "./src/components/li.js");



var UsersNav = function UsersNav(_ref) {
  var baseUrl = _ref.baseUrl,
    page = _ref.page,
    pages = _ref.pages;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "nav-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "dropdown hidden-sm hidden-md hidden-lg"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-block btn-outline dropdown-toggle",
    type: "button",
    "data-toggle": "dropdown",
    "aria-haspopup": "true",
    "aria-expanded": "false"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "menu"), page.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, pages.map(function (page) {
    var url = getPageUrl(baseUrl, page);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {
      key: url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: url
    }, page.name));
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {
    className: "nav nav-pills hidden-xs",
    role: "menu"
  }, pages.map(function (page) {
    var url = getPageUrl(baseUrl, page);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_li__WEBPACK_IMPORTED_MODULE_2__["default"], {
      path: url,
      key: url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
      to: url
    }, page.name));
  })));
};
var getPageUrl = function getPageUrl(baseUrl, page) {
  var url = baseUrl;
  if (page.component === "rank") {
    url += page.slug;
  } else {
    url += page.component;
  }
  return url + "/";
};
/* harmony default export */ __webpack_exports__["default"] = (UsersNav);

/***/ }),

/***/ "./src/components/users/active-posters/list-empty.js":
/*!***********************************************************!*\
  !*** ./src/components/users/active-posters/list-empty.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), {
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_7__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getEmptyMessage())));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-item-preview.js":
/*!******************************************************************!*\
  !*** ./src/components/users/active-posters/list-item-preview.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }



var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_6__["default"], {
        size: "50"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "item-title"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 80) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-details"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(30, 50) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Total posts"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-item.js":
/*!**********************************************************!*\
  !*** ./src/components/users/active-posters/list-item.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/avatar */ "./src/components/avatar.js");
/* harmony import */ var misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/user-status */ "./src/components/user-status.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__["default"], {
          user: this.props.user,
          status: this.props.user.status
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__.StatusIcon, {
          user: this.props.user,
          status: this.props.user.status
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_user_status__WEBPACK_IMPORTED_MODULE_8__.StatusLabel, {
          user: this.props.user,
          status: this.props.user.status,
          className: "status-label hidden-xs hidden-sm"
        }));
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_10__.int(30, 50) + "px"
        }
      }, "\xA0"));
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
          className: "rank-name item-title"
        }, this.props.rank.name);
      }
      var rankUrl = misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_6__.Link, {
        to: rankUrl,
        className: "rank-name item-title"
      }, this.props.rank.name);
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, this.props.user.title);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: this.props.user.url
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_avatar__WEBPACK_IMPORTED_MODULE_7__["default"], {
        user: this.props.user,
        size: 50,
        size2x: 64
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("a", {
        href: this.props.user.url,
        className: "item-title"
      }, this.props.user.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-details"
      }, this.getUserStatus(), this.getRankName(), this.getUserTitle()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, "#", this.props.counter), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, "#", this.props.counter), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Rank"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("strong", null, this.props.user.posts), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("small", null, gettext("Total posts"))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-preview.js":
/*!*************************************************************!*\
  !*** ./src/components/users/active-posters/list-preview.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_users_active_posters_list_item_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/users/active-posters/list-item-preview */ "./src/components/users/active-posters/list-item-preview.js");
/* harmony import */ var misago_utils_random__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/random */ "./src/utils/random.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_8__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_9__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", {
        className: "ui-preview-text",
        style: {
          width: misago_utils_random__WEBPACK_IMPORTED_MODULE_7__.int(50, 220) + "px"
        }
      }, "\xA0")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters ui-preview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_users_active_posters_list_item_preview__WEBPACK_IMPORTED_MODULE_6__["default"], {
          hiddenOnMobile: i > 0,
          key: i
        });
      })))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/list-ready.js":
/*!***********************************************************!*\
  !*** ./src/components/users/active-posters/list-ready.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_users_active_posters_list_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/users/active-posters/list-item */ "./src/components/users/active-posters/list-item.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s top poster from last %(days)s days.", "%(posters)s top posters from last %(days)s days.", this.props.count);
      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_7__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_8__["default"], {
        baseUrl: misago.get("USERS_LIST_URL"),
        page: this.props.page,
        pages: misago.get("USERS_LISTS")
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", {
        className: "lead"
      }, this.getLeadMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "active-posters ui-ready"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("ul", {
        className: "list-group"
      }, this.props.users.map(function (user, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_users_active_posters_list_item__WEBPACK_IMPORTED_MODULE_6__["default"], {
          user: user,
          rank: user.rank,
          counter: i + 1,
          key: user.id
        });
      })))));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/components/users/active-posters/root.js":
/*!*****************************************************!*\
  !*** ./src/components/users/active-posters/root.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_users_active_posters_list_empty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users/active-posters/list-empty */ "./src/components/users/active-posters/list-empty.js");
/* harmony import */ var misago_components_users_active_posters_list_preview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/users/active-posters/list-preview */ "./src/components/users/active-posters/list-preview.js");
/* harmony import */ var misago_components_users_active_posters_list_ready__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/components/users/active-posters/list-ready */ "./src/components/users/active-posters/list-ready.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }









var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
      _this.setState({
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      });
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].has("USERS")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling();
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      };
      misago_services_store__WEBPACK_IMPORTED_MODULE_14__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_12__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_13__["default"].start({
        poll: "active-posters",
        url: misago_index__WEBPACK_IMPORTED_MODULE_11__["default"].get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_15__["default"].set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_13__["default"].stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      var page = {
        name: this.props.route.extra.name
      };
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_ready__WEBPACK_IMPORTED_MODULE_10__["default"], {
            page: page,
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_empty__WEBPACK_IMPORTED_MODULE_8__["default"], {
            page: page,
            trackedPeriod: this.state.trackedPeriod
          });
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_active_posters_list_preview__WEBPACK_IMPORTED_MODULE_9__["default"], {
          page: page
        });
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/users/rank/RankUsersLeft.jsx":
/*!*****************************************************!*\
  !*** ./src/components/users/rank/RankUsersLeft.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var RankUsersLeft = function RankUsersLeft(_ref) {
  var users = _ref.users;
  if (users.more) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, interpolate(ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", users.more), {
      more: users.more
    }, true));
  }
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, gettext("There are no more members with this role."));
};
/* harmony default export */ __webpack_exports__["default"] = (RankUsersLeft);

/***/ }),

/***/ "./src/components/users/rank/RankUsersList.js":
/*!****************************************************!*\
  !*** ./src/components/users/rank/RankUsersList.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _users_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../users-list */ "./src/components/users-list/index.js");


var RankUsersList = function RankUsersList(_ref) {
  var users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_users_list__WEBPACK_IMPORTED_MODULE_1__["default"], {
    cols: 4,
    isReady: true,
    showStatus: true,
    users: users
  });
};
/* harmony default export */ __webpack_exports__["default"] = (RankUsersList);

/***/ }),

/***/ "./src/components/users/rank/RankUsersListLoader.js":
/*!**********************************************************!*\
  !*** ./src/components/users/rank/RankUsersListLoader.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_users_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users-list */ "./src/components/users-list/index.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }


var RankUsersListLoader = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(RankUsersListLoader, _React$Component);
  var _super = _createSuper(RankUsersListLoader);
  function RankUsersListLoader() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, RankUsersListLoader);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_users_list__WEBPACK_IMPORTED_MODULE_8__["default"], {
        cols: 4,
        isReady: false
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(RankUsersListLoader, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }]);
  return RankUsersListLoader;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (RankUsersListLoader);

/***/ }),

/***/ "./src/components/users/rank/RankUsersPagination.jsx":
/*!***********************************************************!*\
  !*** ./src/components/users/rank/RankUsersPagination.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");


var RankUsersPagination = function RankUsersPagination(_ref) {
  var baseUrl = _ref.baseUrl,
    users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {
    className: "misago-pagination"
  }, users.isLoaded && users.first ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl,
    title: gettext("Go to first page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to first page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "first_page")), users.isLoaded && users.previous ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + (users.previous > 1 ? users.previous + "/" : ""),
    title: gettext("Go to previous page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to previous page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_left")), users.isLoaded && users.next ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + users.next + "/",
    title: gettext("Go to next page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to next page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "chevron_right")), users.isLoaded && users.last ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_1__.Link, {
    className: "btn btn-default btn-outline btn-icon",
    to: baseUrl + users.last + "/",
    title: gettext("Go to last page")
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {
    className: "btn btn-default btn-outline btn-icon",
    title: gettext("Go to last page"),
    type: "button",
    disabled: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {
    className: "material-icon"
  }, "last_page")));
};
/* harmony default export */ __webpack_exports__["default"] = (RankUsersPagination);

/***/ }),

/***/ "./src/components/users/rank/RankUsersToolbar.jsx":
/*!********************************************************!*\
  !*** ./src/components/users/rank/RankUsersToolbar.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Toolbar */ "./src/components/Toolbar/index.js");
/* harmony import */ var _RankUsersLeft__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RankUsersLeft */ "./src/components/users/rank/RankUsersLeft.jsx");
/* harmony import */ var _RankUsersPagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RankUsersPagination */ "./src/components/users/rank/RankUsersPagination.jsx");




var RankUsersToolbar = function RankUsersToolbar(_ref) {
  var baseUrl = _ref.baseUrl,
    users = _ref.users;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.Toolbar, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_RankUsersPagination__WEBPACK_IMPORTED_MODULE_3__["default"], {
    baseUrl: baseUrl,
    users: users
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarSection, {
    auto: true
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_1__.ToolbarItem, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_RankUsersLeft__WEBPACK_IMPORTED_MODULE_2__["default"], {
    users: users
  }))));
};
/* harmony default export */ __webpack_exports__["default"] = (RankUsersToolbar);

/***/ }),

/***/ "./src/components/users/rank/root.js":
/*!*******************************************!*\
  !*** ./src/components/users/rank/root.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var misago_components_page_lead__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/page-lead */ "./src/components/page-lead.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");
/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../PageContainer */ "./src/components/PageContainer.jsx");
/* harmony import */ var _RankUsersList__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./RankUsersList */ "./src/components/users/rank/RankUsersList.js");
/* harmony import */ var _RankUsersListLoader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./RankUsersListLoader */ "./src/components/users/rank/RankUsersListLoader.js");
/* harmony import */ var _RankUsersToolbar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./RankUsersToolbar */ "./src/components/users/rank/RankUsersToolbar.jsx");
/* harmony import */ var _UsersNav__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../UsersNav */ "./src/components/users/UsersNav.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }












var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "update", function (data) {
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__.hydrate)(data.results));
      data.isLoaded = true;
      _this.setState(data);
    });
    if (misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].has("USERS")) {
      _this.initWithPreloadedData(misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }
    _this.startPolling(props.params.page || 1);
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      misago_services_store__WEBPACK_IMPORTED_MODULE_12__["default"].dispatch((0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_10__.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].start({
        poll: "rank-users",
        url: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        misago_services_page_title__WEBPACK_IMPORTED_MODULE_13__["default"].set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });
        this.setState({
          isLoaded: false
        });
        misago_services_polls__WEBPACK_IMPORTED_MODULE_11__["default"].stop("rank-users");
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
          className: "rank-description"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(misago_components_page_lead__WEBPACK_IMPORTED_MODULE_8__["default"], {
          copy: this.props.route.rank.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersList__WEBPACK_IMPORTED_MODULE_15__["default"], {
            users: this.props.users
          });
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("p", {
            className: "lead"
          }, gettext("There are no users with this rank at the moment."));
        }
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersListLoader__WEBPACK_IMPORTED_MODULE_16__["default"], null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_PageContainer__WEBPACK_IMPORTED_MODULE_14__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_UsersNav__WEBPACK_IMPORTED_MODULE_18__["default"], {
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL"),
        page: {
          name: this.props.route.rank.name
        },
        pages: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LISTS")
      }), this.getRankDescription(), this.getComponent(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_RankUsersToolbar__WEBPACK_IMPORTED_MODULE_17__["default"], {
        baseUrl: misago_index__WEBPACK_IMPORTED_MODULE_9__["default"].get("USERS_LIST_URL") + this.props.route.rank.slug + "/",
        users: this.state
      })));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/users/root.js":
/*!**************************************!*\
  !*** ./src/components/users/root.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; },
/* harmony export */   "paths": function() { return /* binding */ paths; },
/* harmony export */   "select": function() { return /* binding */ select; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_users_active_posters_root__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/components/users/active-posters/root */ "./src/components/users/active-posters/root.js");
/* harmony import */ var misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/components/users/rank/root */ "./src/components/users/rank/root.js");
/* harmony import */ var misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! misago/components/with-dropdown */ "./src/components/with-dropdown.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var _PageHeader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../PageHeader */ "./src/components/PageHeader/index.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }







var _default = /*#__PURE__*/function (_WithDropdown) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _WithDropdown);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        className: "page page-users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeaderContainer, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeader, {
        styleName: "users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_PageHeader__WEBPACK_IMPORTED_MODULE_11__.PageHeaderBanner, {
        styleName: "users-lists"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("h1", null, gettext("Users"))))), this.props.children);
    }
  }]);
  return _default;
}(misago_components_with_dropdown__WEBPACK_IMPORTED_MODULE_9__["default"]);

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}
function paths() {
  var paths = [];
  misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__["default"]),
        rank: item
      });
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.slug + "/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_rank_root__WEBPACK_IMPORTED_MODULE_8__["default"]),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: misago_index__WEBPACK_IMPORTED_MODULE_10__["default"].get("USERS_LIST_URL") + item.component + "/",
        component: (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(select)(misago_components_users_active_posters_root__WEBPACK_IMPORTED_MODULE_7__["default"]),
        extra: {
          name: item.name
        }
      });
    }
  });
  return paths;
}

/***/ }),

/***/ "./src/components/with-dropdown.js":
/*!*****************************************!*\
  !*** ./src/components/with-dropdown.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default(props) {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    _this = _super.call(this, props);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggleNav", function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    });
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "hideNav", function () {
      _this.setState({
        dropdown: false
      });
    });
    _this.state = {
      dropdown: false
    };
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/components/yes-no-switch.js":
/*!*****************************************!*\
  !*** ./src/components/yes-no-switch.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    var _this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__["default"])(_this), "toggle", function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    });
    return _this;
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("button", {
        type: "button",
        onClick: this.toggle,
        className: this.getClassName(),
        id: this.props.id || null,
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", {
        className: "btn-text"
      }, this.getLabel()));
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));


/***/ }),

/***/ "./src/data/profile-details.js":
/*!*************************************!*\
  !*** ./src/data/profile-details.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ _default; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




var _default = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__["default"])(_default, _React$Component);
  var _super = _createSuper(_default);
  function _default() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, _default);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
        data = _this$props.data,
        dispatch = _this$props.dispatch,
        user = _this$props.user;
      if (data && data.id === user.id) return;
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_7__["default"].get(this.props.user.api.details).then(function (data) {
        dispatch((0,misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_6__.load)(data));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_8__["default"].apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return _default;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));


/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Misago": function() { return /* binding */ Misago; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bootstrap/js/transition */ "./node_modules/bootstrap/js/transition.js");
/* harmony import */ var bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_transition__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bootstrap/js/affix */ "./node_modules/bootstrap/js/affix.js");
/* harmony import */ var bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_affix__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bootstrap/js/modal */ "./node_modules/bootstrap/js/modal.js");
/* harmony import */ var bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_modal__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bootstrap/js/dropdown */ "./node_modules/bootstrap/js/dropdown.js");
/* harmony import */ var bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_dropdown__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var at_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! at-js */ "./node_modules/at.js/dist/js/jquery.atwho.js");
/* harmony import */ var at_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(at_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cropit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cropit */ "./node_modules/cropit/dist/jquery.cropit.js");
/* harmony import */ var cropit__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cropit__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var waypoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! waypoints */ "./node_modules/waypoints/lib/jquery.waypoints.js");
/* harmony import */ var waypoints__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(waypoints__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var jquery_caret__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jquery-caret */ "./node_modules/jquery.caret/dist/jquery.caret.js");
/* harmony import */ var jquery_caret__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(jquery_caret__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var misago_utils_ordered_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! misago/utils/ordered-list */ "./src/utils/ordered-list.js");
/* harmony import */ var misago_style_index_less__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! misago/style/index.less */ "./src/style/index.less");












var Misago = /*#__PURE__*/function () {
  function Misago() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Misago);
    this._initializers = [];
    this._context = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,
        item: initializer.initializer,
        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;
      this._context = context;
      var initOrder = new misago_utils_ordered_list__WEBPACK_IMPORTED_MODULE_10__["default"](this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors
  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);
  return Misago;
}();

// create  singleton
var misago = new Misago();

// expose it globally
window.misago = misago;

// and export it for tests and stuff
/* harmony default export */ __webpack_exports__["default"] = (misago);

/***/ }),

/***/ "./src/initializers/ajax.js":
/*!**********************************!*\
  !*** ./src/initializers/ajax.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");


function initializer() {
  misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("CSRF_COOKIE_NAME"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "ajax",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/auth-sync.js":
/*!***************************************!*\
  !*** ./src/initializers/auth-sync.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      misago_services_ajax__WEBPACK_IMPORTED_MODULE_2__["default"].get(context.get("AUTH_API")).then(function (data) {
        misago_services_store__WEBPACK_IMPORTED_MODULE_4__["default"].dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__.patch)(data));
      }, function (rejection) {
        misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"].apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

/***/ }),

/***/ "./src/initializers/auth.js":
/*!**********************************!*\
  !*** ./src/initializers/auth.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/auth */ "./src/services/auth.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");
/* harmony import */ var misago_services_local_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/local-storage */ "./src/services/local-storage.js");





function initializer() {
  misago_services_auth__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_services_store__WEBPACK_IMPORTED_MODULE_3__["default"], misago_services_local_storage__WEBPACK_IMPORTED_MODULE_4__["default"], misago_services_modal__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/captcha.js":
/*!*************************************!*\
  !*** ./src/initializers/captcha.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_captcha__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/captcha */ "./src/services/captcha.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");





function initializer(context) {
  misago_services_captcha__WEBPACK_IMPORTED_MODULE_2__["default"].init(context, misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_include__WEBPACK_IMPORTED_MODULE_3__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_4__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "captcha",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/components/accept-agreement.js":
/*!*********************************************************!*\
  !*** ./src/initializers/components/accept-agreement.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_accept_agreement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/accept-agreement */ "./src/components/accept-agreement.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_accept_agreement__WEBPACK_IMPORTED_MODULE_2__["default"], {
      api: context.get("REQUIRED_AGREEMENT_API")
    }), "required-agreement-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/auth-message.js":
/*!*****************************************************!*\
  !*** ./src/initializers/components/auth-message.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/auth-message */ "./src/components/auth-message.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_auth_message__WEBPACK_IMPORTED_MODULE_2__["default"]), "auth-message-mount");
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/banned-page.js":
/*!****************************************************!*\
  !*** ./src/initializers/components/banned-page.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/banned-page */ "./src/utils/banned-page.js");


function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0,misago_utils_banned_page__WEBPACK_IMPORTED_MODULE_1__["default"])(context.get("BAN_MESSAGE"), false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/categories.js":
/*!***************************************************!*\
  !*** ./src/initializers/components/categories.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/categories */ "./src/components/categories/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  if (document.getElementById("categories-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_categories__WEBPACK_IMPORTED_MODULE_1__.select)(misago_components_categories__WEBPACK_IMPORTED_MODULE_1__["default"]), "categories-mount");
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].addInitializer({
  name: "component:categories",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/options.js":
/*!************************************************!*\
  !*** ./src/initializers/components/options.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_components_options_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/options/root */ "./src/components/options/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.has("USER_OPTIONS")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      root: misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].get("USERCP_URL"),
      component: misago_components_options_root__WEBPACK_IMPORTED_MODULE_0__["default"],
      paths: (0,misago_components_options_root__WEBPACK_IMPORTED_MODULE_0__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:options",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/profile.js":
/*!************************************************!*\
  !*** ./src/initializers/components/profile.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/profile/root */ "./src/components/profile/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");




function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_3__["default"])({
      root: misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].get("PROFILE").url,
      component: (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__.select)(misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__["default"]),
      paths: (0,misago_components_profile_root__WEBPACK_IMPORTED_MODULE_1__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_2__["default"].addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

/***/ }),

/***/ "./src/initializers/components/request-activation-link.js":
/*!****************************************************************!*\
  !*** ./src/initializers/components/request-activation-link.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_request_activation_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/request-activation-link */ "./src/components/request-activation-link.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_request_activation_link__WEBPACK_IMPORTED_MODULE_1__["default"], "request-activation-link-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/request-password-reset.js":
/*!***************************************************************!*\
  !*** ./src/initializers/components/request-password-reset.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_request_password_reset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/request-password-reset */ "./src/components/request-password-reset.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_request_password_reset__WEBPACK_IMPORTED_MODULE_1__["default"], "request-password-reset-mount", false);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/reset-password-form.js":
/*!************************************************************!*\
  !*** ./src/initializers/components/reset-password-form.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_components_reset_password_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/reset-password-form */ "./src/components/reset-password-form.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");



function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(misago_components_reset_password_form__WEBPACK_IMPORTED_MODULE_1__["default"], "reset-password-form-mount", false);
  }
}
misago__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/search.js":
/*!***********************************************!*\
  !*** ./src/initializers/components/search.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_components_search__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/search */ "./src/components/search/index.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      paths: (0,misago_components_search__WEBPACK_IMPORTED_MODULE_0__["default"])(misago__WEBPACK_IMPORTED_MODULE_1__["default"].get("SEARCH_PROVIDERS"))
    });
  }
}
misago__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/snackbar.js":
/*!*************************************************!*\
  !*** ./src/initializers/components/snackbar.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/snackbar */ "./src/components/snackbar.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_snackbar__WEBPACK_IMPORTED_MODULE_2__.Snackbar), "snackbar-mount");
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

/***/ }),

/***/ "./src/initializers/components/social-auth.js":
/*!****************************************************!*\
  !*** ./src/initializers/components/social-auth.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_components_social_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/components/social-auth */ "./src/components/social-auth/index.js");
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(misago_components_social_auth__WEBPACK_IMPORTED_MODULE_1__["default"], props), "page-mount");
  }
}
misago__WEBPACK_IMPORTED_MODULE_2__["default"].addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/thread.js":
/*!***********************************************!*\
  !*** ./src/initializers/components/thread.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_components_thread_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/thread/root */ "./src/components/thread/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      paths: (0,misago_components_thread_root__WEBPACK_IMPORTED_MODULE_0__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/threads.js":
/*!************************************************!*\
  !*** ./src/initializers/components/threads.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; },
/* harmony export */   "getListOptions": function() { return /* binding */ getListOptions; }
/* harmony export */ });
/* harmony import */ var misago_components_threads_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/threads/root */ "./src/components/threads/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



var PRIVATE_THREADS_LIST = "misago:private-threads";
function initializer(context) {
  if (context.has("THREADS") && context.has("CATEGORIES")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      paths: (0,misago_components_threads_root__WEBPACK_IMPORTED_MODULE_0__.paths)(context.get("user"), getListOptions(context))
    });
  }
}
function getListOptions(context) {
  var currentLink = context.get("CURRENT_LINK");
  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get("PRIVATE_THREADS_API"),
      startThread: {
        mode: "START_PRIVATE",
        submit: misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].get("PRIVATE_THREADS_API")
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }
  return {
    api: context.get("THREADS_API")
  };
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:threads",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/user-menu.js":
/*!**************************************************!*\
  !*** ./src/initializers/components/user-menu.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_components_user_menu_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/components/user-menu/root */ "./src/components/user-menu/root.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");




function initializer() {
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_user_menu_root__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_user_menu_root__WEBPACK_IMPORTED_MODULE_2__.UserMenu), "user-menu-mount");
  (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])((0,react_redux__WEBPACK_IMPORTED_MODULE_0__.connect)(misago_components_user_menu_root__WEBPACK_IMPORTED_MODULE_2__.select)(misago_components_user_menu_root__WEBPACK_IMPORTED_MODULE_2__.CompactUserMenu), "user-menu-compact-mount");
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:user-menu",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/components/users.js":
/*!**********************************************!*\
  !*** ./src/initializers/components/users.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/components/users/root */ "./src/components/users/root.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/routed-component */ "./src/utils/routed-component.js");



function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0,misago_utils_routed_component__WEBPACK_IMPORTED_MODULE_2__["default"])({
      root: misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].get("USERS_LIST_URL"),
      component: misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__["default"],
      paths: (0,misago_components_users_root__WEBPACK_IMPORTED_MODULE_0__.paths)()
    });
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/include.js":
/*!*************************************!*\
  !*** ./src/initializers/include.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");


function initializer(context) {
  misago_services_include__WEBPACK_IMPORTED_MODULE_1__["default"].init(context.get("STATIC_URL"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "include",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/local-storage.js":
/*!*******************************************!*\
  !*** ./src/initializers/local-storage.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_local_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/local-storage */ "./src/services/local-storage.js");


function initializer() {
  misago_services_local_storage__WEBPACK_IMPORTED_MODULE_1__["default"].init("misago_");
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "local-storage",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/mobile-navbar-dropdown.js":
/*!****************************************************!*\
  !*** ./src/initializers/mobile-navbar-dropdown.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/mobile-navbar-dropdown */ "./src/services/mobile-navbar-dropdown.js");


function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");
  if (element) {
    misago_services_mobile_navbar_dropdown__WEBPACK_IMPORTED_MODULE_1__["default"].init(element);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/modal.js":
/*!***********************************!*\
  !*** ./src/initializers/modal.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/modal */ "./src/services/modal.js");


function initializer() {
  var element = document.getElementById("modal-mount");
  if (element) {
    misago_services_modal__WEBPACK_IMPORTED_MODULE_1__["default"].init(element);
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/moment-locale.js":
/*!*******************************************!*\
  !*** ./src/initializers/moment-locale.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


function initializer() {
  moment__WEBPACK_IMPORTED_MODULE_0___default().locale($("html").attr("lang"));
}
misago_index__WEBPACK_IMPORTED_MODULE_1__["default"].addInitializer({
  name: "moment",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/page-title.js":
/*!****************************************!*\
  !*** ./src/initializers/page-title.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_page_title__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/page-title */ "./src/services/page-title.js");


function initializer(context) {
  misago_services_page_title__WEBPACK_IMPORTED_MODULE_1__["default"].init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "page-title",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/polls.js":
/*!***********************************!*\
  !*** ./src/initializers/polls.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_polls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/polls */ "./src/services/polls.js");




function initializer() {
  misago_services_polls__WEBPACK_IMPORTED_MODULE_3__["default"].init(misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "polls",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/posting.js":
/*!*************************************!*\
  !*** ./src/initializers/posting.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/ajax */ "./src/services/ajax.js");
/* harmony import */ var misago_services_posting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/posting */ "./src/services/posting.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");




function initializer() {
  misago_services_posting__WEBPACK_IMPORTED_MODULE_2__["default"].init(misago_services_ajax__WEBPACK_IMPORTED_MODULE_1__["default"], misago_services_snackbar__WEBPACK_IMPORTED_MODULE_3__["default"], document.getElementById("posting-mount"));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "posting",
  initializer: initializer
});

/***/ }),

/***/ "./src/initializers/reducers/auth.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/auth.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer(context) {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("auth", misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),
    user: context.get("user")
  }, misago_reducers_auth__WEBPACK_IMPORTED_MODULE_1__.initialState));
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/participants.js":
/*!***************************************************!*\
  !*** ./src/initializers/reducers/participants.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_participants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/participants */ "./src/reducers/participants.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD")) {
    initialState = misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").participants;
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("participants", misago_reducers_participants__WEBPACK_IMPORTED_MODULE_1__["default"], initialState || []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/poll.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/poll.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/poll */ "./src/reducers/poll.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD") && misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").poll) {
    initialState = (0,misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD").poll);
  } else {
    initialState = {
      isBusy: false
    };
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("poll", misago_reducers_poll__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/posts.js":
/*!********************************************!*\
  !*** ./src/initializers/reducers/posts.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/posts */ "./src/reducers/posts.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("POSTS")) {
    initialState = (0,misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("posts", misago_reducers_posts__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile-details.js":
/*!******************************************************!*\
  !*** ./src/initializers/reducers/profile-details.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile-details */ "./src/reducers/profile-details.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("PROFILE_DETAILS")) {
    initialState = misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("PROFILE_DETAILS");
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("profile-details", misago_reducers_profile_details__WEBPACK_IMPORTED_MODULE_1__["default"], initialState || {});
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile-hydrate.js":
/*!******************************************************!*\
  !*** ./src/initializers/reducers/profile-hydrate.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("PROFILE")) {
    misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].dispatch((0,misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("PROFILE")));
  }
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/profile.js":
/*!**********************************************!*\
  !*** ./src/initializers/reducers/profile.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/profile */ "./src/reducers/profile.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("profile", misago_reducers_profile__WEBPACK_IMPORTED_MODULE_1__["default"], {});
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/search.js":
/*!*********************************************!*\
  !*** ./src/initializers/reducers/search.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago */ "./src/index.js");
/* harmony import */ var misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/search */ "./src/reducers/search.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("search", misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({}, misago_reducers_search__WEBPACK_IMPORTED_MODULE_1__.initialState, {
    providers: misago__WEBPACK_IMPORTED_MODULE_0__["default"].get("SEARCH_PROVIDERS") || [],
    query: misago__WEBPACK_IMPORTED_MODULE_0__["default"].get("SEARCH_QUERY") || ""
  }));
}
misago__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/selection.js":
/*!************************************************!*\
  !*** ./src/initializers/reducers/selection.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/selection */ "./src/reducers/selection.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("selection", misago_reducers_selection__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/snackbar.js":
/*!***********************************************!*\
  !*** ./src/initializers/reducers/snackbar.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/snackbar */ "./src/reducers/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("snackbar", misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__["default"], misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_1__.initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/thread.js":
/*!*********************************************!*\
  !*** ./src/initializers/reducers/thread.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/thread */ "./src/reducers/thread.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  var initialState = null;
  if (misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].has("THREAD")) {
    initialState = (0,misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__.hydrate)(misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("thread", misago_reducers_thread__WEBPACK_IMPORTED_MODULE_1__["default"], initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/threads.js":
/*!**********************************************!*\
  !*** ./src/initializers/reducers/threads.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_threads__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/threads */ "./src/reducers/threads.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("threads", misago_reducers_threads__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/tick.js":
/*!*******************************************!*\
  !*** ./src/initializers/reducers/tick.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/tick */ "./src/reducers/tick.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("tick", misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__["default"], misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__.initialState);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/username-history.js":
/*!*******************************************************!*\
  !*** ./src/initializers/reducers/username-history.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/username-history */ "./src/reducers/username-history.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("username-history", misago_reducers_username_history__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/reducers/users.js":
/*!********************************************!*\
  !*** ./src/initializers/reducers/users.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].addReducer("users", misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__["default"], []);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

/***/ }),

/***/ "./src/initializers/snackbar.js":
/*!**************************************!*\
  !*** ./src/initializers/snackbar.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_snackbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/snackbar */ "./src/services/snackbar.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



function initializer() {
  misago_services_snackbar__WEBPACK_IMPORTED_MODULE_1__["default"].init(misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/store.js":
/*!***********************************!*\
  !*** ./src/initializers/store.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");


function initializer() {
  misago_services_store__WEBPACK_IMPORTED_MODULE_1__["default"].init();
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

/***/ }),

/***/ "./src/initializers/tick-start.js":
/*!****************************************!*\
  !*** ./src/initializers/tick-start.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/tick */ "./src/reducers/tick.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");



var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    misago_services_store__WEBPACK_IMPORTED_MODULE_2__["default"].dispatch((0,misago_reducers_tick__WEBPACK_IMPORTED_MODULE_1__.doTick)());
  }, TICK_PERIOD);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

/***/ }),

/***/ "./src/initializers/zxcvbn.js":
/*!************************************!*\
  !*** ./src/initializers/zxcvbn.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ initializer; }
/* harmony export */ });
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_include__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/services/include */ "./src/services/include.js");
/* harmony import */ var misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/services/zxcvbn */ "./src/services/zxcvbn.js");



function initializer() {
  misago_services_zxcvbn__WEBPACK_IMPORTED_MODULE_2__["default"].init(misago_services_include__WEBPACK_IMPORTED_MODULE_1__["default"]);
}
misago_index__WEBPACK_IMPORTED_MODULE_0__["default"].addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

/***/ }),

/***/ "./src/reducers/auth.js":
/*!******************************!*\
  !*** ./src/reducers/auth.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PATCH_USER": function() { return /* binding */ PATCH_USER; },
/* harmony export */   "SIGN_IN": function() { return /* binding */ SIGN_IN; },
/* harmony export */   "SIGN_OUT": function() { return /* binding */ SIGN_OUT; },
/* harmony export */   "default": function() { return /* binding */ auth; },
/* harmony export */   "initialState": function() { return /* binding */ initialState; },
/* harmony export */   "patch": function() { return /* binding */ patch; },
/* harmony export */   "signIn": function() { return /* binding */ signIn; },
/* harmony export */   "signOut": function() { return /* binding */ signOut; }
/* harmony export */ });
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");

var initialState = {
  signedIn: false,
  signedOut: false
};
var PATCH_USER = "PATCH_USER";
var SIGN_IN = "SIGN_IN";
var SIGN_OUT = "SIGN_OUT";
function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}
function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}
function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return {
    type: SIGN_OUT,
    soft: soft
  };
}
function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;
    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });
    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }
      return state;
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_0__.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/participants.js":
/*!**************************************!*\
  !*** ./src/reducers/participants.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REPLACE_PARTICIPANTS": function() { return /* binding */ REPLACE_PARTICIPANTS; },
/* harmony export */   "default": function() { return /* binding */ participants; },
/* harmony export */   "replace": function() { return /* binding */ replace; }
/* harmony export */ });
var REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";
function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}
function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/poll.js":
/*!******************************!*\
  !*** ./src/reducers/poll.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BUSY_POLL": function() { return /* binding */ BUSY_POLL; },
/* harmony export */   "RELEASE_POLL": function() { return /* binding */ RELEASE_POLL; },
/* harmony export */   "REMOVE_POLL": function() { return /* binding */ REMOVE_POLL; },
/* harmony export */   "REPLACE_POLL": function() { return /* binding */ REPLACE_POLL; },
/* harmony export */   "UPDATE_POLL": function() { return /* binding */ UPDATE_POLL; },
/* harmony export */   "busy": function() { return /* binding */ busy; },
/* harmony export */   "default": function() { return /* binding */ poll; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "release": function() { return /* binding */ release; },
/* harmony export */   "remove": function() { return /* binding */ remove; },
/* harmony export */   "replace": function() { return /* binding */ replace; },
/* harmony export */   "update": function() { return /* binding */ update; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var BUSY_POLL = "BUSY_POLL";
var RELEASE_POLL = "RELEASE_POLL";
var REMOVE_POLL = "REMOVE_POLL";
var REPLACE_POLL = "REPLACE_POLL";
var UPDATE_POLL = "UPDATE_POLL";
function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }
  return Object.assign({}, json, {
    posted_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on),
    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on).add(json.length, "days") : null,
    isBusy: false
  });
}
function busy() {
  return {
    type: BUSY_POLL
  };
}
function release() {
  return {
    type: RELEASE_POLL
  };
}
function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}
function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}
function remove() {
  return {
    type: REMOVE_POLL
  };
}
function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, {
        isBusy: true
      });
    case RELEASE_POLL:
      return Object.assign({}, state, {
        isBusy: false
      });
    case REMOVE_POLL:
      return {
        isBusy: false
      };
    case REPLACE_POLL:
      return action.state;
    case UPDATE_POLL:
      return Object.assign({}, state, action.data);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/post.js":
/*!******************************!*\
  !*** ./src/reducers/post.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PATCH_POST": function() { return /* binding */ PATCH_POST; },
/* harmony export */   "default": function() { return /* binding */ post; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "hydrateAttachment": function() { return /* binding */ hydrateAttachment; },
/* harmony export */   "patch": function() { return /* binding */ patch; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./users */ "./src/reducers/users.js");


var PATCH_POST = "PATCH_POST";
function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.posted_on),
    updated_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.updated_on),
    hidden_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.hidden_on),
    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0,_users__WEBPACK_IMPORTED_MODULE_1__.hydrateUser)(json.poster) : null,
    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}
function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.uploaded_on)
  });
}
function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}
function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/posts.js":
/*!*******************************!*\
  !*** ./src/reducers/posts.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_POSTS": function() { return /* binding */ APPEND_POSTS; },
/* harmony export */   "DESELECT_POST": function() { return /* binding */ DESELECT_POST; },
/* harmony export */   "DESELECT_POSTS": function() { return /* binding */ DESELECT_POSTS; },
/* harmony export */   "LOAD_POSTS": function() { return /* binding */ LOAD_POSTS; },
/* harmony export */   "SELECT_POST": function() { return /* binding */ SELECT_POST; },
/* harmony export */   "UNLOAD_POSTS": function() { return /* binding */ UNLOAD_POSTS; },
/* harmony export */   "UPDATE_POSTS": function() { return /* binding */ UPDATE_POSTS; },
/* harmony export */   "append": function() { return /* binding */ append; },
/* harmony export */   "default": function() { return /* binding */ posts; },
/* harmony export */   "deselect": function() { return /* binding */ deselect; },
/* harmony export */   "deselectAll": function() { return /* binding */ deselectAll; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "load": function() { return /* binding */ load; },
/* harmony export */   "select": function() { return /* binding */ select; },
/* harmony export */   "unload": function() { return /* binding */ unload; },
/* harmony export */   "update": function() { return /* binding */ update; }
/* harmony export */ });
/* harmony import */ var misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/reducers/post */ "./src/reducers/post.js");

var APPEND_POSTS = "APPEND_POSTS";
var SELECT_POST = "SELECT_POST";
var DESELECT_POST = "DESELECT_POST";
var DESELECT_POSTS = "DESELECT_POSTS";
var LOAD_POSTS = "LOAD_POSTS";
var UNLOAD_POSTS = "UNLOAD_POSTS";
var UPDATE_POSTS = "UPDATE_POSTS";
function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}
function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}
function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}
function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}
function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}
function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}
function unload() {
  return {
    type: UNLOAD_POSTS
  };
}
function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}
function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: selectedPosts
      });
    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: deseletedPosts
      });
    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });
      return Object.assign({}, state, {
        results: deseletedAllPosts
      });
    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });
      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });
      return Object.assign({}, action.state, {
        results: results
      });
    case LOAD_POSTS:
      return action.state;
    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });
    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);
    case misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0,misago_reducers_post__WEBPACK_IMPORTED_MODULE_0__["default"])(post, action);
      });
      return Object.assign({}, state, {
        results: reducedPosts
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/profile-details.js":
/*!*****************************************!*\
  !*** ./src/reducers/profile-details.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LOAD_DETAILS": function() { return /* binding */ LOAD_DETAILS; },
/* harmony export */   "default": function() { return /* binding */ details; },
/* harmony export */   "load": function() { return /* binding */ load; }
/* harmony export */ });
var LOAD_DETAILS = "LOAD_DETAILS";
function load(newState) {
  return {
    type: LOAD_DETAILS,
    newState: newState
  };
}
function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/profile.js":
/*!*********************************!*\
  !*** ./src/reducers/profile.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HYDRATE_PROFILE": function() { return /* binding */ HYDRATE_PROFILE; },
/* harmony export */   "PATCH_PROFILE": function() { return /* binding */ PATCH_PROFILE; },
/* harmony export */   "default": function() { return /* binding */ auth; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "patch": function() { return /* binding */ patch; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");


var HYDRATE_PROFILE = "HYDRATE_PROFILE";
var PATCH_PROFILE = "PATCH_PROFILE";
function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}
function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}
function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(action.profile.joined_on),
        status: (0,misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.hydrateStatus)(action.profile.status)
      });
    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/search.js":
/*!********************************!*\
  !*** ./src/reducers/search.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "REPLACE_SEARCH": function() { return /* binding */ REPLACE_SEARCH; },
/* harmony export */   "UPDATE_SEARCH": function() { return /* binding */ UPDATE_SEARCH; },
/* harmony export */   "UPDATE_SEARCH_PROVIDER": function() { return /* binding */ UPDATE_SEARCH_PROVIDER; },
/* harmony export */   "default": function() { return /* binding */ participants; },
/* harmony export */   "initialState": function() { return /* binding */ initialState; },
/* harmony export */   "replace": function() { return /* binding */ replace; },
/* harmony export */   "update": function() { return /* binding */ update; },
/* harmony export */   "updateProvider": function() { return /* binding */ updateProvider; }
/* harmony export */ });
var REPLACE_SEARCH = "REPLACE_SEARCH";
var UPDATE_SEARCH = "UPDATE_SEARCH";
var UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";
var initialState = {
  isLoading: false,
  query: "",
  providers: []
};
function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}
function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}
function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}
function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;
    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);
    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/selection.js":
/*!***********************************!*\
  !*** ./src/reducers/selection.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SELECT_ALL": function() { return /* binding */ SELECT_ALL; },
/* harmony export */   "SELECT_ITEM": function() { return /* binding */ SELECT_ITEM; },
/* harmony export */   "SELECT_NONE": function() { return /* binding */ SELECT_NONE; },
/* harmony export */   "all": function() { return /* binding */ all; },
/* harmony export */   "default": function() { return /* binding */ selection; },
/* harmony export */   "item": function() { return /* binding */ item; },
/* harmony export */   "none": function() { return /* binding */ none; }
/* harmony export */ });
/* harmony import */ var misago_utils_sets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! misago/utils/sets */ "./src/utils/sets.js");

var SELECT_ALL = "SELECT_ALL";
var SELECT_NONE = "SELECT_NONE";
var SELECT_ITEM = "SELECT_ITEM";
function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}
function none() {
  return {
    type: SELECT_NONE
  };
}
function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}
function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case SELECT_ALL:
      return action.items;
    case SELECT_NONE:
      return [];
    case SELECT_ITEM:
      return (0,misago_utils_sets__WEBPACK_IMPORTED_MODULE_0__.toggle)(state, action.item);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/snackbar.js":
/*!**********************************!*\
  !*** ./src/reducers/snackbar.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HIDE_SNACKBAR": function() { return /* binding */ HIDE_SNACKBAR; },
/* harmony export */   "SHOW_SNACKBAR": function() { return /* binding */ SHOW_SNACKBAR; },
/* harmony export */   "default": function() { return /* binding */ snackbar; },
/* harmony export */   "hideSnackbar": function() { return /* binding */ hideSnackbar; },
/* harmony export */   "initialState": function() { return /* binding */ initialState; },
/* harmony export */   "showSnackbar": function() { return /* binding */ showSnackbar; }
/* harmony export */ });
var initialState = {
  type: "info",
  message: "",
  isVisible: false
};
var SHOW_SNACKBAR = "SHOW_SNACKBAR";
var HIDE_SNACKBAR = "HIDE_SNACKBAR";
function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}
function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}
function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

/***/ }),

/***/ "./src/reducers/thread.js":
/*!********************************!*\
  !*** ./src/reducers/thread.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BUSY_THREAD": function() { return /* binding */ BUSY_THREAD; },
/* harmony export */   "RELEASE_THREAD": function() { return /* binding */ RELEASE_THREAD; },
/* harmony export */   "REPLACE_THREAD": function() { return /* binding */ REPLACE_THREAD; },
/* harmony export */   "UPDATE_THREAD": function() { return /* binding */ UPDATE_THREAD; },
/* harmony export */   "UPDATE_THREAD_ACL": function() { return /* binding */ UPDATE_THREAD_ACL; },
/* harmony export */   "busy": function() { return /* binding */ busy; },
/* harmony export */   "default": function() { return /* binding */ thread; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "release": function() { return /* binding */ release; },
/* harmony export */   "replace": function() { return /* binding */ replace; },
/* harmony export */   "update": function() { return /* binding */ update; },
/* harmony export */   "updateAcl": function() { return /* binding */ updateAcl; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _poll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./poll */ "./src/reducers/poll.js");


var BUSY_THREAD = "BUSY_THREAD";
var RELEASE_THREAD = "RELEASE_THREAD";
var REPLACE_THREAD = "REPLACE_THREAD";
var UPDATE_THREAD = "UPDATE_THREAD";
var UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";
function hydrate(json) {
  return Object.assign({}, json, {
    started_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.started_on),
    last_post_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? moment__WEBPACK_IMPORTED_MODULE_0___default()(json.best_answer_marked_on) : null,
    isBusy: false
  });
}
function busy() {
  return {
    type: BUSY_THREAD
  };
}
function release() {
  return {
    type: RELEASE_THREAD
  };
}
function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}
function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}
function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}
function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, {
        isBusy: true
      });
    case RELEASE_THREAD:
      return Object.assign({}, state, {
        isBusy: false
      });
    case _poll__WEBPACK_IMPORTED_MODULE_1__.REMOVE_POLL:
      return Object.assign({}, state, {
        poll: null
      });
    case _poll__WEBPACK_IMPORTED_MODULE_1__.REPLACE_POLL:
      return Object.assign({}, state, {
        poll: action.state
      });
    case REPLACE_THREAD:
      return action.state;
    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);
    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, {
        acl: acl
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/threads.js":
/*!*********************************!*\
  !*** ./src/reducers/threads.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_THREADS": function() { return /* binding */ APPEND_THREADS; },
/* harmony export */   "DELETE_THREAD": function() { return /* binding */ DELETE_THREAD; },
/* harmony export */   "FILTER_THREADS": function() { return /* binding */ FILTER_THREADS; },
/* harmony export */   "HYDRATE_THREADS": function() { return /* binding */ HYDRATE_THREADS; },
/* harmony export */   "MODERATION_PERMISSIONS": function() { return /* binding */ MODERATION_PERMISSIONS; },
/* harmony export */   "PATCH_THREAD": function() { return /* binding */ PATCH_THREAD; },
/* harmony export */   "SORT_THREADS": function() { return /* binding */ SORT_THREADS; },
/* harmony export */   "append": function() { return /* binding */ append; },
/* harmony export */   "default": function() { return /* binding */ thread; },
/* harmony export */   "deleteThread": function() { return /* binding */ deleteThread; },
/* harmony export */   "filterThreads": function() { return /* binding */ filterThreads; },
/* harmony export */   "getThreadModerationOptions": function() { return /* binding */ getThreadModerationOptions; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "hydrateThread": function() { return /* binding */ hydrateThread; },
/* harmony export */   "patch": function() { return /* binding */ patch; },
/* harmony export */   "sort": function() { return /* binding */ sort; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");


var APPEND_THREADS = "APPEND_THREADS";
var DELETE_THREAD = "DELETE_THREAD";
var FILTER_THREADS = "FILTER_THREADS";
var HYDRATE_THREADS = "HYDRATE_THREADS";
var PATCH_THREAD = "PATCH_THREAD";
var SORT_THREADS = "SORT_THREADS";
var MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];
function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}
function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}
function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}
function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}
function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}
function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}
function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(thread.started_on),
    last_post_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}
function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__["default"])(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);
    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });
    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });
    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);
    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });
      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;
    case SORT_THREADS:
      return state.sort(action.sorting);
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/tick.js":
/*!******************************!*\
  !*** ./src/reducers/tick.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TICK": function() { return /* binding */ TICK; },
/* harmony export */   "default": function() { return /* binding */ tick; },
/* harmony export */   "doTick": function() { return /* binding */ doTick; },
/* harmony export */   "initialState": function() { return /* binding */ initialState; }
/* harmony export */ });
var initialState = {
  tick: 0
};
var TICK = "TICK";
function doTick() {
  return {
    type: TICK
  };
}
function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

/***/ }),

/***/ "./src/reducers/username-history.js":
/*!******************************************!*\
  !*** ./src/reducers/username-history.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ADD_NAME_CHANGE": function() { return /* binding */ ADD_NAME_CHANGE; },
/* harmony export */   "APPEND_HISTORY": function() { return /* binding */ APPEND_HISTORY; },
/* harmony export */   "HYDRATE_HISTORY": function() { return /* binding */ HYDRATE_HISTORY; },
/* harmony export */   "addNameChange": function() { return /* binding */ addNameChange; },
/* harmony export */   "append": function() { return /* binding */ append; },
/* harmony export */   "default": function() { return /* binding */ username; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "hydrateNamechange": function() { return /* binding */ hydrateNamechange; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/reducers/users */ "./src/reducers/users.js");
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");



var ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
var APPEND_HISTORY = "APPEND_HISTORY";
var HYDRATE_HISTORY = "HYDRATE_HISTORY";
function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}
function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}
function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(namechange.changed_on)
  });
}
function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000),
        // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;
    case APPEND_HISTORY:
      return (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_2__["default"])(state, action.items.map(hydrateNamechange));
    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }
        return item;
      });
    case misago_reducers_users__WEBPACK_IMPORTED_MODULE_1__.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }
        return Object.assign({}, item);
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/reducers/users.js":
/*!*******************************!*\
  !*** ./src/reducers/users.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APPEND_USERS": function() { return /* binding */ APPEND_USERS; },
/* harmony export */   "HYDRATE_USERS": function() { return /* binding */ HYDRATE_USERS; },
/* harmony export */   "UPDATE_AVATAR": function() { return /* binding */ UPDATE_AVATAR; },
/* harmony export */   "UPDATE_USERNAME": function() { return /* binding */ UPDATE_USERNAME; },
/* harmony export */   "append": function() { return /* binding */ append; },
/* harmony export */   "default": function() { return /* binding */ user; },
/* harmony export */   "hydrate": function() { return /* binding */ hydrate; },
/* harmony export */   "hydrateStatus": function() { return /* binding */ hydrateStatus; },
/* harmony export */   "hydrateUser": function() { return /* binding */ hydrateUser; },
/* harmony export */   "updateAvatar": function() { return /* binding */ updateAvatar; },
/* harmony export */   "updateUsername": function() { return /* binding */ updateUsername; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! misago/utils/concat-unique */ "./src/utils/concat-unique.js");


var APPEND_USERS = "APPEND_USERS";
var HYDRATE_USERS = "HYDRATE_USERS";
var UPDATE_AVATAR = "UPDATE_AVATAR";
var UPDATE_USERNAME = "UPDATE_USERNAME";
function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}
function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}
function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? moment__WEBPACK_IMPORTED_MODULE_0___default()(status.last_click) : null,
      banned_until: status.banned_until ? moment__WEBPACK_IMPORTED_MODULE_0___default()(status.banned_until) : null
    });
  } else {
    return null;
  }
}
function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: moment__WEBPACK_IMPORTED_MODULE_0___default()(user.joined_on),
    status: hydrateStatus(user.status)
  });
}
function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}
function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}
function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  switch (action.type) {
    case APPEND_USERS:
      return (0,misago_utils_concat_unique__WEBPACK_IMPORTED_MODULE_1__["default"])(state, action.items.map(hydrateUser));
    case HYDRATE_USERS:
      return action.items.map(hydrateUser);
    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }
        return item;
      });
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/services/ajax.js":
/*!******************************!*\
  !*** ./src/services/ajax.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ajax": function() { return /* binding */ Ajax; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


var Ajax = /*#__PURE__*/function () {
  function Ajax() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Ajax);
    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function success(data) {
            resolve(data);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;
            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }
            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }
            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }
            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }
      if (lock) {
        var self = this;

        // update url in existing lock?
        if (this._locks[lock]) {
          this._locks[lock].url = url;
        }

        // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve
        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          };

          // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;
          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300);

                // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url);

                // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };
            window.setTimeout(function () {
              wait(url);
            }, 300);
          });

          // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };
          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data,
          contentType: false,
          processData: false,
          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },
          success: function success(response) {
            resolve(response);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;
            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }
            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }
            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }
            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }
            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }]);
  return Ajax;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Ajax());

/***/ }),

/***/ "./src/services/auth.js":
/*!******************************!*\
  !*** ./src/services/auth.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Auth": function() { return /* binding */ Auth; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/auth */ "./src/reducers/auth.js");



var Auth = /*#__PURE__*/function () {
  function Auth() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Auth);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;
      var state = this._store.getState().auth;
      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(user));
      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)());
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0,misago_reducers_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(true));
      this._local.set("auth", {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);
  return Auth;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Auth());

/***/ }),

/***/ "./src/services/captcha.js":
/*!*********************************!*\
  !*** ./src/services/captcha.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseCaptcha": function() { return /* binding */ BaseCaptcha; },
/* harmony export */   "Captcha": function() { return /* binding */ Captcha; },
/* harmony export */   "NoCaptcha": function() { return /* binding */ NoCaptcha; },
/* harmony export */   "QACaptcha": function() { return /* binding */ QACaptcha; },
/* harmony export */   "ReCaptcha": function() { return /* binding */ ReCaptcha; },
/* harmony export */   "ReCaptchaComponent": function() { return /* binding */ ReCaptchaComponent; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/form-group */ "./src/components/form-group.js");





function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__["default"])(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
/* global grecaptcha */


var BaseCaptcha = /*#__PURE__*/function () {
  function BaseCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, BaseCaptcha);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);
  return BaseCaptcha;
}();
var NoCaptcha = /*#__PURE__*/function (_BaseCaptcha) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(NoCaptcha, _BaseCaptcha);
  var _super = _createSuper(NoCaptcha);
  function NoCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, NoCaptcha);
    return _super.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);
  return NoCaptcha;
}(BaseCaptcha);
var QACaptcha = /*#__PURE__*/function (_BaseCaptcha2) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(QACaptcha, _BaseCaptcha2);
  var _super2 = _createSuper(QACaptcha);
  function QACaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, QACaptcha);
    return _super2.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__["default"], {
        label: this.question,
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: this.helpText || null
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("input", {
        "aria-describedby": "id_captcha_status",
        className: "form-control",
        disabled: kwargs.form.state.isLoading,
        id: "id_captcha",
        onChange: kwargs.form.bindInput("captcha"),
        type: "text",
        value: kwargs.form.state.captcha
      }));
    }
  }]);
  return QACaptcha;
}(BaseCaptcha);
var ReCaptchaComponent = /*#__PURE__*/function (_React$Component) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(ReCaptchaComponent, _React$Component);
  var _super3 = _createSuper(ReCaptchaComponent);
  function ReCaptchaComponent() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ReCaptchaComponent);
    return _super3.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;
      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", {
        id: "recaptcha"
      });
    }
  }]);
  return ReCaptchaComponent;
}((react__WEBPACK_IMPORTED_MODULE_5___default().Component));
var ReCaptcha = /*#__PURE__*/function (_BaseCaptcha3) {
  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_0__["default"])(ReCaptcha, _BaseCaptcha3);
  var _super4 = _createSuper(ReCaptcha);
  function ReCaptcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, ReCaptcha);
    return _super4.apply(this, arguments);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);
      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(misago_components_form_group__WEBPACK_IMPORTED_MODULE_6__["default"], {
        label: gettext("Please solve the quick test"),
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: gettext("This test helps us prevent automated spam registrations on our site.")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default().createElement(ReCaptchaComponent, {
        binding: kwargs.form.bindInput("captcha"),
        siteKey: this._context.get("SETTINGS").recaptcha_site_key
      }));
    }
  }]);
  return ReCaptcha;
}(BaseCaptcha);
var Captcha = /*#__PURE__*/function () {
  function Captcha() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["default"])(this, Captcha);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__["default"])(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;
        case "qa":
          this._captcha = new QACaptcha();
          break;
        case "re":
          this._captcha = new ReCaptcha();
          break;
      }
      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy
  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);
  return Captcha;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Captcha());

/***/ }),

/***/ "./src/services/include.js":
/*!*********************************!*\
  !*** ./src/services/include.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Include": function() { return /* binding */ Include; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");


var Include = /*#__PURE__*/function () {
  function Include() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Include);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);
  return Include;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Include());

/***/ }),

/***/ "./src/services/local-storage.js":
/*!***************************************!*\
  !*** ./src/services/local-storage.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocalStorage": function() { return /* binding */ LocalStorage; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var storage = window.localStorage;
var LocalStorage = /*#__PURE__*/function () {
  function LocalStorage() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, LocalStorage);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;
      this._prefix = prefix;
      this._watchers = [];
      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);
  return LocalStorage;
}();
/* harmony default export */ __webpack_exports__["default"] = (new LocalStorage());

/***/ }),

/***/ "./src/services/mobile-navbar-dropdown.js":
/*!************************************************!*\
  !*** ./src/services/mobile-navbar-dropdown.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MobileNavbarDropdown": function() { return /* binding */ MobileNavbarDropdown; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");



var MobileNavbarDropdown = /*#__PURE__*/function () {
  function MobileNavbarDropdown() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, MobileNavbarDropdown);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_2__["default"])(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);
  return MobileNavbarDropdown;
}();
/* harmony default export */ __webpack_exports__["default"] = (new MobileNavbarDropdown());

/***/ }),

/***/ "./src/services/modal.js":
/*!*******************************!*\
  !*** ./src/services/modal.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Modal": function() { return /* binding */ Modal; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");




var Modal = /*#__PURE__*/function () {
  function Modal() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Modal);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;
      this._element = element;
      this._modal = $(element).modal({
        show: false
      });
      this._modal.on("hidden.bs.modal", function () {
        react_dom__WEBPACK_IMPORTED_MODULE_2___default().unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_3__["default"])(component, this._element.id);
      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);
  return Modal;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Modal());

/***/ }),

/***/ "./src/services/one-box.js":
/*!*********************************!*\
  !*** ./src/services/one-box.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OneBox": function() { return /* binding */ OneBox; },
/* harmony export */   "cleanUrl": function() { return /* binding */ cleanUrl; },
/* harmony export */   "getVideoIdFromUrl": function() { return /* binding */ getVideoIdFromUrl; },
/* harmony export */   "parseYoutubeUrl": function() { return /* binding */ parseYoutubeUrl; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");



var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");
var OneBox = /*#__PURE__*/function () {
  function OneBox() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OneBox);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "render", function (element) {
      if (!element) return;
      _this.highlightCode(element);
      _this.embedYoutubePlayers(element);
    });
    this._youtube = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(element) {
      Promise.all(/*! import() */[__webpack_require__.e("vendor"), __webpack_require__.e("hljs")]).then(__webpack_require__.bind(__webpack_require__, /*! highlight */ "./highlight/highlight.js")).then(function (_ref) {
        var hljs = _ref.default;
        var codeblocks = element.querySelectorAll("pre>code");
        for (var i = 0; i < codeblocks.length; i++) {
          hljs.highlightElement(codeblocks[i]);
        }
      });
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(element) {
      var anchors = element.querySelectorAll("p>a");
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;
        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }
        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?rel=0";
      if (youtube.start) {
        url += "&start=" + youtube.start;
      }
      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);
  return OneBox;
}();
/* harmony default export */ __webpack_exports__["default"] = (new OneBox());
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);
  if (!video) return null;
  var start = 0;
  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];
    if (timebit) {
      var bits = timebit.substr(2).split("m");
      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }
  return {
    start: start,
    video: video
  };
}
function cleanUrl(url) {
  var clean = url;
  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }
  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }
  return clean;
}
function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;
  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

/***/ }),

/***/ "./src/services/page-title.js":
/*!************************************!*\
  !*** ./src/services/page-title.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageTitle": function() { return /* binding */ PageTitle; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var PageTitle = /*#__PURE__*/function () {
  function PageTitle() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, PageTitle);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }
      if (typeof title === "string") {
        title = {
          title: title
        };
      }
      var finalTitle = title.title;
      if (title.page > 1) {
        var pageLabel = interpolate(gettext("page: %(page)s"), {
          page: title.page
        }, true);
        finalTitle += " (" + pageLabel + ")";
      }
      if (title.parent) {
        finalTitle += " | " + title.parent;
      }
      document.title = finalTitle + " | " + this._forumName;
    }
  }]);
  return PageTitle;
}();
/* harmony default export */ __webpack_exports__["default"] = (new PageTitle());

/***/ }),

/***/ "./src/services/polls.js":
/*!*******************************!*\
  !*** ./src/services/polls.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Polls": function() { return /* binding */ Polls; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var Polls = /*#__PURE__*/function () {
  function Polls() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Polls);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;
      this.stop(kwargs.poll);
      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;
        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);
            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };
      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);
  return Polls;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Polls());

/***/ }),

/***/ "./src/services/posting.js":
/*!*********************************!*\
  !*** ./src/services/posting.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Posting": function() { return /* binding */ Posting; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var misago_components_poll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/components/poll */ "./src/components/poll/index.js");
/* harmony import */ var misago_components_posting__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/components/posting */ "./src/components/posting/index.js");
/* harmony import */ var misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! misago/utils/mount-component */ "./src/utils/mount-component.js");








var Posting = /*#__PURE__*/function () {
  function Posting() {
    var _this = this;
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Posting);
    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__["default"])(this, "close", function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._mount.classList.remove("show");
        window.setTimeout(function () {
          react_dom__WEBPACK_IMPORTED_MODULE_4___default().unmountComponentAtNode(_this._mount);
          _this._observer.unobserve(_this._mount);
          _this._spacer.style.height = "0px;";
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    });
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, mount) {
      var _this2 = this;
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._mount = mount;
      this._mode = null;
      this._spacer = document.getElementById("posting-spacer");
      this._observer = new ResizeObserver(function (entries) {
        _this2._spacer.style.height = entries[0].contentRect.height + "px";
      });
      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;
        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");
        if (this._mode == "POLL") {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }
        var changeForm = window.confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      if (props.mode == "POLL") {
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_7__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(misago_components_poll__WEBPACK_IMPORTED_MODULE_5__.PollForm, props), this._mount.id);
      } else {
        (0,misago_utils_mount_component__WEBPACK_IMPORTED_MODULE_7__["default"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(misago_components_posting__WEBPACK_IMPORTED_MODULE_6__["default"], props), this._mount.id);
      }
      this._mount.classList.add("show");
      this._observer.observe(this._mount);
    }
  }]);
  return Posting;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Posting());

/***/ }),

/***/ "./src/services/snackbar.js":
/*!**********************************!*\
  !*** ./src/services/snackbar.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Snackbar": function() { return /* binding */ Snackbar; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! misago/reducers/snackbar */ "./src/reducers/snackbar.js");



var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;
var Snackbar = /*#__PURE__*/function () {
  function Snackbar() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Snackbar);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: "alert",
    value: function alert(message, type) {
      var _this = this;
      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_2__.hideSnackbar)());
        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_2__.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0,misago_reducers_snackbar__WEBPACK_IMPORTED_MODULE_2__.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types
  }, {
    key: "info",
    value: function info(message) {
      this.alert(message, "info");
    }
  }, {
    key: "success",
    value: function success(message) {
      this.alert(message, "success");
    }
  }, {
    key: "warning",
    value: function warning(message) {
      this.alert(message, "warning");
    }
  }, {
    key: "error",
    value: function error(message) {
      this.alert(message, "error");
    }

    // shorthand for api errors
  }, {
    key: "apiError",
    value: function apiError(rejection) {
      var message = rejection.detail;
      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }
      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }
      this.error(message);
    }
  }]);
  return Snackbar;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Snackbar());

/***/ }),

/***/ "./src/services/store.js":
/*!*******************************!*\
  !*** ./src/services/store.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreWrapper": function() { return /* binding */ StoreWrapper; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/index.js");



var StoreWrapper = /*#__PURE__*/function () {
  function StoreWrapper() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, StoreWrapper);
    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0,redux__WEBPACK_IMPORTED_MODULE_2__.createStore)((0,redux__WEBPACK_IMPORTED_MODULE_2__.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    }

    // Store API
  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);
  return StoreWrapper;
}();
/* harmony default export */ __webpack_exports__["default"] = (new StoreWrapper());

/***/ }),

/***/ "./src/services/zxcvbn.js":
/*!********************************!*\
  !*** ./src/services/zxcvbn.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Zxcvbn": function() { return /* binding */ Zxcvbn; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


/* global zxcvbn */
var Zxcvbn = /*#__PURE__*/function () {
  function Zxcvbn() {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Zxcvbn);
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }
      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);
  return Zxcvbn;
}();
/* harmony default export */ __webpack_exports__["default"] = (new Zxcvbn());

/***/ }),

/***/ "./src/utils/banned-page.js":
/*!**********************************!*\
  !*** ./src/utils/banned-page.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_components_banned_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/components/banned-page */ "./src/components/banned-page.js");
/* harmony import */ var misago_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! misago/index */ "./src/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");







var select = function select(state) {
  return state.tick;
};
var RedrawedBannedPage = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(select)(misago_components_banned_page__WEBPACK_IMPORTED_MODULE_4__["default"]);
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ban, changeState) {
  react_dom__WEBPACK_IMPORTED_MODULE_2___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_3__.Provider, {
    store: misago_services_store__WEBPACK_IMPORTED_MODULE_6__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(RedrawedBannedPage, {
    message: ban.message,
    expires: ban.expires_on ? moment__WEBPACK_IMPORTED_MODULE_0___default()(ban.expires_on) : null
  })), document.getElementById("page-mount"));
  if (typeof changeState === "undefined" || changeState) {
    var forumName = misago_index__WEBPACK_IMPORTED_MODULE_5__["default"].get("SETTINGS").forum_name;
    document.title = gettext("You are banned") + " | " + forumName;
    window.history.pushState({}, "", misago_index__WEBPACK_IMPORTED_MODULE_5__["default"].get("BANNED_URL"));
  }
}

/***/ }),

/***/ "./src/utils/batch.js":
/*!****************************!*\
  !*** ./src/utils/batch.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var rows = [];
  var row = [];
  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }
  if (row.length) {
    rows.push(row);
  }
  return rows;
}

/***/ }),

/***/ "./src/utils/concat-unique.js":
/*!************************************!*\
  !*** ./src/utils/concat-unique.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
}

/***/ }),

/***/ "./src/utils/escape-html.js":
/*!**********************************!*\
  !*** ./src/utils/escape-html.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
}

/***/ }),

/***/ "./src/utils/file-size.js":
/*!********************************!*\
  !*** ./src/utils/file-size.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; },
/* harmony export */   "roundSize": function() { return /* binding */ roundSize; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
}
function roundSize(value) {
  return value.toFixed(1);
}

/***/ }),

/***/ "./src/utils/is-url.js":
/*!*****************************!*\
  !*** ./src/utils/is-url.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
var URL_PATTERN = new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i");
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(str) {
  return URL_PATTERN.test($.trim(str));
}

/***/ }),

/***/ "./src/utils/mount-component.js":
/*!**************************************!*\
  !*** ./src/utils/mount-component.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");




/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var rootElement = document.getElementById(rootElementId);
  var finalComponent = Component.props ? Component : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Component, null);
  if (rootElement) {
    if (connected) {
      react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
        store: misago_services_store__WEBPACK_IMPORTED_MODULE_3__["default"].getStore()
      }, finalComponent), rootElement);
    } else {
      react_dom__WEBPACK_IMPORTED_MODULE_1___default().render(finalComponent, rootElement);
    }
  }
}

/***/ }),

/***/ "./src/utils/ordered-list.js":
/*!***********************************!*\
  !*** ./src/utils/ordered-list.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");


var OrderedList = /*#__PURE__*/function () {
  function OrderedList(items) {
    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, OrderedList);
    this.isOrdered = false;
    this._items = items || [];
  }
  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,
        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }
      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }
      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }
          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }
      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }
      return ordered;
    }
  }]);
  return OrderedList;
}();
/* harmony default export */ __webpack_exports__["default"] = (OrderedList);

/***/ }),

/***/ "./src/utils/random.js":
/*!*****************************!*\
  !*** ./src/utils/random.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "int": function() { return /* binding */ int; },
/* harmony export */   "range": function() { return /* binding */ range; }
/* harmony export */ });
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }
  return array;
}

/***/ }),

/***/ "./src/utils/routed-component.js":
/*!***************************************!*\
  !*** ./src/utils/routed-component.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/react.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/lib/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/lib/index.js");
/* harmony import */ var misago_services_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! misago/services/store */ "./src/services/store.js");





var rootElement = document.getElementById("page-mount");
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };
  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }
  react_dom__WEBPACK_IMPORTED_MODULE_1___default().render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {
    store: misago_services_store__WEBPACK_IMPORTED_MODULE_4__["default"].getStore()
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router__WEBPACK_IMPORTED_MODULE_3__.Router, {
    routes: routes,
    history: react_router__WEBPACK_IMPORTED_MODULE_3__.browserHistory
  })), rootElement);
}

/***/ }),

/***/ "./src/utils/sets.js":
/*!***************************!*\
  !*** ./src/utils/sets.js ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "push": function() { return /* binding */ push; },
/* harmony export */   "remove": function() { return /* binding */ remove; },
/* harmony export */   "toggle": function() { return /* binding */ toggle; }
/* harmony export */ });
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}
function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}
function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

/***/ }),

/***/ "./src/utils/string-count.js":
/*!***********************************!*\
  !*** ./src/utils/string-count.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();
  if (subString.length <= 0) return 0;
  var n = 0;
  var pos = 0;
  var step = subString.length;
  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }
  return n;
}

/***/ }),

/***/ "./src/utils/validators.js":
/*!*********************************!*\
  !*** ./src/utils/validators.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "email": function() { return /* binding */ email; },
/* harmony export */   "maxLength": function() { return /* binding */ maxLength; },
/* harmony export */   "minLength": function() { return /* binding */ minLength; },
/* harmony export */   "passwordMinLength": function() { return /* binding */ passwordMinLength; },
/* harmony export */   "required": function() { return /* binding */ required; },
/* harmony export */   "requiredPrivacyPolicy": function() { return /* binding */ requiredPrivacyPolicy; },
/* harmony export */   "requiredTermsOfService": function() { return /* binding */ requiredTermsOfService; },
/* harmony export */   "usernameContent": function() { return /* binding */ usernameContent; },
/* harmony export */   "usernameMaxLength": function() { return /* binding */ usernameMaxLength; },
/* harmony export */   "usernameMinLength": function() { return /* binding */ usernameMinLength; }
/* harmony export */ });
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z]+$", "i");
function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || gettext("This field is required.");
    }
  };
}
function requiredTermsOfService(message) {
  var error = gettext("You have to accept the terms of service.");
  return required(message || error);
}
function requiredPrivacyPolicy(message) {
  var error = gettext("You have to accept the privacy policy.");
  return required(message || error);
}
function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}
function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;
    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}
function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;
    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}
function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}
function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };
  return maxLength(lengthMax, message);
}
function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}
function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;
    if (length < limitValue) {
      var returnMessage = ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

/***/ }),

/***/ "./src/style/index.less":
/*!******************************!*\
  !*** ./src/style/index.less ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!***************************************************!*\
  !*** ./node_modules/moment/locale/ sync ^\.\/.*$ ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn-bd": "./node_modules/moment/locale/bn-bd.js",
	"./bn-bd.js": "./node_modules/moment/locale/bn-bd.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-mx": "./node_modules/moment/locale/es-mx.js",
	"./es-mx.js": "./node_modules/moment/locale/es-mx.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	!function() {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = function(chunkId) {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	!function() {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = function(chunkId) {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".js";
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	!function() {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.miniCssF = function(chunkId) {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.hmd = function(module) {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: function() {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	!function() {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "misago:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = function(url, done, key, chunkId) {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = function(prev, event) {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach(function(fn) { return fn(event); });
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	!function() {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"misago": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = function(chunkId, promises) {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = function(event) {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkmisago"] = self["webpackChunkmisago"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/index.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/ajax.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/auth-sync.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/auth.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/captcha.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/accept-agreement.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/auth-message.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/banned-page.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/categories.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/options.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/profile.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/request-activation-link.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/request-password-reset.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/reset-password-form.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/search.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/snackbar.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/social-auth.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/thread.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/threads.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/user-menu.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/components/users.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/include.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/local-storage.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/mobile-navbar-dropdown.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/modal.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/moment-locale.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/page-title.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/polls.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/posting.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/auth.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/participants.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/poll.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/posts.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/profile-details.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/profile-hydrate.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/profile.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/search.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/selection.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/snackbar.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/thread.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/threads.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/tick.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/username-history.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/reducers/users.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/snackbar.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/store.js"); })
/******/ 	__webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/tick-start.js"); })
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/initializers/zxcvbn.js"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=misago.js.map