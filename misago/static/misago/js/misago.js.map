{"version":3,"file":"misago.js","mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UErFA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA","sources":["webpack://misago/./src/Autocomplete/AnchorElement.js","webpack://misago/./src/Autocomplete/AnchorInput.js","webpack://misago/./src/Autocomplete/Autocomplete.js","webpack://misago/./src/Autocomplete/ControlShadow.js","webpack://misago/./src/Autocomplete/SelectUser.js","webpack://misago/./src/Autocomplete/index.js","webpack://misago/./src/Autocomplete/sources.js","webpack://misago/./src/BulkModeration.js","webpack://misago/./src/Mention.js","webpack://misago/./src/PollChoicesControl.js","webpack://misago/./src/Quote/Quote.js","webpack://misago/./src/Quote/QuoteCursorPosition.js","webpack://misago/./src/Quote/QuoteSelection.js","webpack://misago/./src/Quote/Ruleset.js","webpack://misago/./src/Quote/escape.js","webpack://misago/./src/Quote/extractor.js","webpack://misago/./src/Quote/getQuotedCode.js","webpack://misago/./src/Quote/index.js","webpack://misago/./src/Quote/postprocess.js","webpack://misago/./src/Quote/renderer.js","webpack://misago/./src/Quote/tether.js","webpack://misago/./src/TabGroups.js","webpack://misago/./src/UserMultipleChoice.js","webpack://misago/./src/animations.js","webpack://misago/./src/closest-attribute.js","webpack://misago/./src/components/Api/ApiFetch.jsx","webpack://misago/./src/components/Api/ApiMutation.jsx","webpack://misago/./src/components/Api/index.js","webpack://misago/./src/components/Breadcrumbs/Breadcrumbs.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsCategory.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx","webpack://misago/./src/components/Breadcrumbs/index.js","webpack://misago/./src/components/Dropdown/Dropdown.jsx","webpack://misago/./src/components/Dropdown/DropdownDivider.jsx","webpack://misago/./src/components/Dropdown/DropdownFooter.jsx","webpack://misago/./src/components/Dropdown/DropdownHeader.jsx","webpack://misago/./src/components/Dropdown/DropdownMenuItem.jsx","webpack://misago/./src/components/Dropdown/DropdownPills.jsx","webpack://misago/./src/components/Dropdown/DropdownSubheader.jsx","webpack://misago/./src/components/Dropdown/index.js","webpack://misago/./src/components/FlexRow/FlexRow.jsx","webpack://misago/./src/components/FlexRow/FlexRowCol.jsx","webpack://misago/./src/components/FlexRow/FlexRowSection.jsx","webpack://misago/./src/components/FlexRow/index.js","webpack://misago/./src/components/ListGroup/ListGroup.jsx","webpack://misago/./src/components/ListGroup/ListGroupEmpty.jsx","webpack://misago/./src/components/ListGroup/ListGroupError.jsx","webpack://misago/./src/components/ListGroup/ListGroupItem.jsx","webpack://misago/./src/components/ListGroup/ListGroupLoading.jsx","webpack://misago/./src/components/ListGroup/ListGroupMessage.jsx","webpack://misago/./src/components/ListGroup/index.js","webpack://misago/./src/components/MarkupEditor/MarkupAttachmentModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupCodeModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditor.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachment.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachments.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorButton.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorFooter.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorToolbar.jsx","webpack://misago/./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupImageModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupLinkModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupQuoteModal.jsx","webpack://misago/./src/components/MarkupEditor/index.js","webpack://misago/./src/components/MarkupEditor/isUrl.js","webpack://misago/./src/components/MarkupEditor/operations.js","webpack://misago/./src/components/MarkupEditor/uploadFile.js","webpack://misago/./src/components/Navbar/Navbar.jsx","webpack://misago/./src/components/Navbar/NavbarBranding.jsx","webpack://misago/./src/components/Navbar/NavbarExtraMenu.jsx","webpack://misago/./src/components/Navbar/NavbarNotificationsDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarNotificationsToggle.jsx","webpack://misago/./src/components/Navbar/NavbarPrivateThreads.jsx","webpack://misago/./src/components/Navbar/NavbarSearchDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarSearchToggle.jsx","webpack://misago/./src/components/Navbar/NavbarSiteNavDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarSiteNavToggle.jsx","webpack://misago/./src/components/Navbar/NavbarUserNavDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarUserNavToggle.jsx","webpack://misago/./src/components/Navbar/index.js","webpack://misago/./src/components/Notifications/Notifications.jsx","webpack://misago/./src/components/Notifications/NotificationsHeader.jsx","webpack://misago/./src/components/Notifications/NotificationsPagination.jsx","webpack://misago/./src/components/Notifications/NotificationsPills.jsx","webpack://misago/./src/components/Notifications/NotificationsRoute.jsx","webpack://misago/./src/components/Notifications/NotificationsToolbar.jsx","webpack://misago/./src/components/Notifications/index.js","webpack://misago/./src/components/NotificationsDropdown/NotificationsDropdown.jsx","webpack://misago/./src/components/NotificationsDropdown/NotificationsDropdownBody.jsx","webpack://misago/./src/components/NotificationsDropdown/index.js","webpack://misago/./src/components/NotificationsFetch/NotificationsFetch.jsx","webpack://misago/./src/components/NotificationsFetch/index.js","webpack://misago/./src/components/NotificationsList/NotificationsList.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListEmpty.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListError.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListGroup.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItem.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemActor.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemMessage.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemReadStatus.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemTimestamp.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListLoading.jsx","webpack://misago/./src/components/NotificationsList/index.js","webpack://misago/./src/components/NotificationsOverlay/NotificationsOverlay.jsx","webpack://misago/./src/components/NotificationsOverlay/NotificationsOverlayBody.jsx","webpack://misago/./src/components/NotificationsOverlay/index.js","webpack://misago/./src/components/Overlay/Overlay.jsx","webpack://misago/./src/components/Overlay/OverlayHeader.jsx","webpack://misago/./src/components/Overlay/index.js","webpack://misago/./src/components/PageContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeader.jsx","webpack://misago/./src/components/PageHeader/PageHeaderBanner.jsx","webpack://misago/./src/components/PageHeader/PageHeaderContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeaderDetails.jsx","webpack://misago/./src/components/PageHeader/PageHeaderHTMLMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderPlain.jsx","webpack://misago/./src/components/PageHeader/index.js","webpack://misago/./src/components/PageTitle/PageTitle.jsx","webpack://misago/./src/components/PageTitle/index.js","webpack://misago/./src/components/PillsNav/PillsNav.jsx","webpack://misago/./src/components/PillsNav/PillsNavLink.jsx","webpack://misago/./src/components/PillsNav/index.js","webpack://misago/./src/components/RegisterButton/RegisterButton.jsx","webpack://misago/./src/components/RegisterButton/index.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/SignInButton/SignInButton.jsx","webpack://misago/./src/components/SignInButton/index.js","webpack://misago/./src/components/SignInModalAutoOpen.js","webpack://misago/./src/components/SiteNav/SiteNavDropdown.jsx","webpack://misago/./src/components/SiteNav/SiteNavMenu.jsx","webpack://misago/./src/components/SiteNav/SiteNavOverlay.jsx","webpack://misago/./src/components/SiteNav/index.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadFlags.jsx","webpack://misago/./src/components/ThreadReplies.jsx","webpack://misago/./src/components/ThreadStarterCard.jsx","webpack://misago/./src/components/Timestamp/Timestamp.jsx","webpack://misago/./src/components/Timestamp/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UserNav/UserNavDropdown.jsx","webpack://misago/./src/components/UserNav/UserNavMenu.jsx","webpack://misago/./src/components/UserNav/UserNavOverlay.jsx","webpack://misago/./src/components/UserNav/index.js","webpack://misago/./src/components/UserNav/logout.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/PostingDialog.jsx","webpack://misago/./src/components/posting/PostingDialogBody.jsx","webpack://misago/./src/components/posting/PostingDialogError.jsx","webpack://misago/./src/components/posting/PostingDialogHeader.jsx","webpack://misago/./src/components/posting/PostingQuoteSelection.jsx","webpack://misago/./src/components/posting/PostingThreadOptions.jsx","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/getQuoteMarkup.js","webpack://misago/./src/components/posting/globalState.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ProfileDataList.jsx","webpack://misago/./src/components/profile/ProfileHeader.jsx","webpack://misago/./src/components/profile/ProfileNav.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search-route/form.js","webpack://misago/./src/components/search-route/index.js","webpack://misago/./src/components/search-route/page.js","webpack://misago/./src/components/search-route/sidenav.js","webpack://misago/./src/components/search-route/threads/index.js","webpack://misago/./src/components/search-route/threads/results.js","webpack://misago/./src/components/search-route/users/index.js","webpack://misago/./src/components/search/SearchDropdown.jsx","webpack://misago/./src/components/search/SearchFetch.jsx","webpack://misago/./src/components/search/SearchInput.jsx","webpack://misago/./src/components/search/SearchMessage.jsx","webpack://misago/./src/components/search/SearchOverlay.jsx","webpack://misago/./src/components/search/SearchQuery.jsx","webpack://misago/./src/components/search/SearchResultPost.jsx","webpack://misago/./src/components/search/SearchResultUser.jsx","webpack://misago/./src/components/search/SearchResults.jsx","webpack://misago/./src/components/search/SearchResultsEmpty.jsx","webpack://misago/./src/components/search/SearchResultsError.jsx","webpack://misago/./src/components/search/SearchResultsList.jsx","webpack://misago/./src/components/search/SearchResultsLoading.jsx","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeader.jsx","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx","webpack://misago/./src/components/thread/ThreadHeader/index.js","webpack://misago/./src/components/thread/ThreadModeration.jsx","webpack://misago/./src/components/thread/ThreadPaginator.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadPostsModeration.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarThird.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/ThreadWatchButton.jsx","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/UsersNav.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/rank/RankUsersLeft.jsx","webpack://misago/./src/components/users/rank/RankUsersList.js","webpack://misago/./src/components/users/rank/RankUsersListLoader.js","webpack://misago/./src/components/users/rank/RankUsersPagination.jsx","webpack://misago/./src/components/users/rank/RankUsersToolbar.jsx","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/csrf.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/editor/editor.js","webpack://misago/./src/editor/index.js","webpack://misago/./src/editor/modals.js","webpack://misago/./src/editor/uploader.js","webpack://misago/./src/focusOn.js","webpack://misago/./src/formValidators.js","webpack://misago/./src/formats.js","webpack://misago/./src/getRandomString.js","webpack://misago/./src/htmx-error-handler.js","webpack://misago/./src/htmx-loader.js","webpack://misago/./src/htmx-modal.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/navbar.js","webpack://misago/./src/initializers/components/notifications-overlay.js","webpack://misago/./src/initializers/components/notifications.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search-overlay.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/site-nav-overlay.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/user-nav-overlay.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/overlay.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/lightbox.js","webpack://misago/./src/loader.js","webpack://misago/./src/pagination.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/overlay.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/renderTemplate.js","webpack://misago/./src/richtext.js","webpack://misago/./src/scrollTo.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/snackbars.js","webpack://misago/./src/template/condition/comparisons.js","webpack://misago/./src/template/condition/eval.js","webpack://misago/./src/template/condition/expressions.js","webpack://misago/./src/template/condition/index.js","webpack://misago/./src/template/condition/parser.js","webpack://misago/./src/template/condition/tokenizer.js","webpack://misago/./src/template/condition/tokens.js","webpack://misago/./src/template/condition/validator.js","webpack://misago/./src/template/index.js","webpack://misago/./src/template/render.js","webpack://misago/./src/timestamps.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/getRandomString.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less?9070","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/ensure chunk","webpack://misago/webpack/runtime/get javascript chunk filename","webpack://misago/webpack/runtime/get mini-css chunk filename","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/load script","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/publicPath","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["class AnchorElement {\n  constructor(element) {\n    this.element = element\n  }\n\n  getTarget = (_query) => {\n    return {\n      getBoundingClientRect: () => {\n        return this.element.getBoundingClientRect()\n      },\n    }\n  }\n}\n\nexport default AnchorElement\n","import shadow from \"./ControlShadow\"\n\nclass AnchorInput {\n  constructor(element) {\n    this.element = element\n  }\n\n  getTarget = (query) => {\n    const rect = shadow.getQueryBoundingClientRect(this.element, query)\n\n    return {\n      getBoundingClientRect() {\n        return rect\n      },\n    }\n  }\n}\n\nexport default AnchorInput\n","const DELAY_DEBOUNCED = 1000\nconst DELAY_INITIAL = 100\n\nconst KEY_CANCEL = {\n  Delete: true,\n  Space: true,\n  MetaLeft: true,\n  MetaRight: true,\n  End: true,\n  Enter: true,\n  ArrowUp: true,\n  ArrowDown: true,\n  ArrowLeft: true,\n  ArrowRight: true,\n}\n\nconst KEY_SELECT = {\n  Escape: true,\n  Enter: true,\n  ArrowUp: true,\n  ArrowDown: true,\n}\n\nclass Autocomplete {\n  constructor(config) {\n    this.control = config.control\n    this.anchor = config.anchor\n    this.source = config.source\n    this.getQuery = config.getQuery\n    this.select = config.select\n    this.errors = config.errors || true\n\n    this.keyCancel = config.keyOverride\n      ? Object.assign({}, KEY_CANCEL, config.keyOverride)\n      : KEY_CANCEL\n\n    this.onSelect = config.onSelect\n\n    this.delay = {\n      debounced: DELAY_DEBOUNCED,\n      initial: DELAY_INITIAL,\n    }\n\n    if (config.delay) {\n      if (typeof config.delay.debounced !== \"undefined\") {\n        this.delay.debounced = config.delay.debounced\n      }\n      if (typeof config.delay.initial !== \"undefined\") {\n        this.delay.initial = config.delay.initial\n      }\n    }\n\n    this._debounce = null\n\n    this.control.addEventListener(\"keydown\", this.onKeyDown)\n    this.control.addEventListener(\"keyup\", this.onKeyUp)\n  }\n\n  onKeyDown = (event) => {\n    if (KEY_SELECT[event.code] && this.select.visible) {\n      event.preventDefault()\n    }\n  }\n\n  onKeyUp = (event) => {\n    if (this.keyCancel[event.code] && this.select.visible) {\n      this.select.handleKey(event.code)\n      event.preventDefault()\n    } else if (this.keyCancel[event.code]) {\n      this.select.hide()\n    } else {\n      const query = this.getQuery(event.target)\n\n      if (query) {\n        this.showSuggestions(query)\n      } else {\n        this.select.hide()\n      }\n    }\n  }\n\n  showSuggestions = (query) => {\n    if (!query.value.trim()) {\n      return\n    }\n\n    if (!!this._debounce) {\n      window.clearTimeout(this._debounce)\n      this._debounce = null\n    }\n\n    this._debounce = window.setTimeout(\n      () => {\n        this.source(query, this.errors)\n          .then((data) => {\n            if (this.select && this.onSelect) {\n              this.select.show(query, data, this.onSelect)\n            } else {\n              console.warn(\n                \"Autocomplete was initialized without the 'select' or 'onSelect' options.\"\n              )\n            }\n          })\n          .then(() => {\n            this._debounce = null\n          })\n      },\n      this._debounce ? this.delay.debounced : this.delay.initial\n    )\n  }\n\n  isEventTarget = (event) => {\n    return this.select.isEventTarget(event)\n  }\n}\n\nexport default Autocomplete\n","class ControlShadow {\n  constructor() {\n    this._shadow = null\n  }\n\n  getQueryBoundingClientRect(control, query) {\n    const shadow = this._getShadowElement()\n\n    const rectControl = control.getBoundingClientRect()\n    shadow.style.width = `${rectControl.width}px`\n    shadow.style.height = `${rectControl.height}px`\n\n    shadow.setAttribute(\"class\", control.getAttribute(\"class\"))\n    shadow.innerHTML = query.prefix || \"\"\n\n    const marker = document.createElement(\"span\")\n    marker.innerHTML = query.value\n    shadow.appendChild(marker)\n\n    const rectShadow = shadow.getBoundingClientRect()\n    const rectMarker = marker.getBoundingClientRect()\n\n    return {\n      bottom:\n        rectControl.bottom -\n        rectMarker.bottom -\n        rectShadow.bottom +\n        control.scrollTop,\n      height: rectMarker.height,\n      left: rectControl.left + rectMarker.left - rectShadow.left,\n      right: rectControl.right - rectMarker.right - rectShadow.right,\n      top:\n        rectControl.top + rectMarker.top - rectShadow.top - control.scrollTop,\n      width: rectMarker.width,\n      x: rectControl.x + rectMarker.x - rectShadow.x,\n      y: rectControl.y + rectMarker.y - rectShadow.y,\n    }\n  }\n\n  _getShadowElement() {\n    if (this._shadow) {\n      return this._shadow\n    }\n\n    const shadow = this._createShadowElement()\n    document.body.appendChild(shadow)\n    this._shadow = shadow\n    return shadow\n  }\n\n  _createShadowElement() {\n    const shadow = document.createElement(\"pre\")\n    shadow.ariaHidden = true\n    shadow.style.position = \"absolute\"\n    shadow.style.top = 0\n    shadow.style.left = \"-9999px\"\n    shadow.style.opacity = 0\n    shadow.style.zIndex = -999\n    return shadow\n  }\n}\n\nconst shadow = new ControlShadow()\n\nexport default shadow\n","import { computePosition, flip, offset, shift } from \"@floating-ui/dom\"\n\nclass SelectUser {\n  constructor(config) {\n    this.element = document.createElement(\"div\")\n    this.element.classList.add(\"autocomplete-user-popup\")\n    document.body.appendChild(this.element)\n\n    this.anchor = config.anchor\n    this.placement = config.placement || \"bottom\"\n    this.offset = config.offset || 6\n    this.shift = config.shift || { padding: 8 }\n\n    this.choice = 0\n    this.choices = []\n    this.maxChoice = 0\n\n    this.query = null\n    this.callback = null\n\n    this.visible = false\n\n    document.body.addEventListener(\"click\", (event) => {\n      if (this.visible && !this.element.contains(event.target)) {\n        this.hide()\n      }\n    })\n  }\n\n  updateChoices(query, choices, callback) {\n    const children = choices.map((choice, index) => {\n      const element = document.createElement(\"button\")\n      element.setAttribute(\"type\", \"button\")\n      element.classList.add(\"autocomplete-user-popup-choice\")\n\n      if (index === 0) {\n        element.classList.add(\"active\")\n      }\n\n      const avatars = choice.avatar.filter(({ size }) => size >= 24)\n      const avatarsHd = choice.avatar.filter(({ size }) => size >= 48)\n\n      const img = document.createElement(\"img\")\n      img.classList.add(\"autocomplete-user-popup-choice-avatar\")\n      img.setAttribute(\"src\", avatars[avatars.length - 1].url)\n      img.setAttribute(\"srcset\", avatarsHd[avatarsHd.length - 1].url)\n      img.setAttribute(\"alt\", \"\")\n      element.appendChild(img)\n\n      const span = document.createElement(\"span\")\n      span.classList.add(\"autocomplete-user-popup-choice-username\")\n      span.innerText = choice.username\n      element.appendChild(span)\n\n      element.addEventListener(\"click\", () => {\n        callback(choice, query)\n        this.hide()\n      })\n      return element\n    })\n\n    this.element.replaceChildren(...children)\n  }\n\n  updateActiveChoice() {\n    for (let index = 0; index < this.element.children.length; index++) {\n      const choice = this.element.children[index]\n      if (index === this.choice) {\n        choice.classList.add(\"active\")\n      } else {\n        choice.classList.remove(\"active\")\n      }\n    }\n  }\n\n  handleKey = (keyCode) => {\n    if (keyCode === \"Enter\") {\n      this.callback(this.choices[this.choice], this.query)\n      this.hide()\n    } else if (keyCode === \"ArrowUp\") {\n      if (this.choice > 0) {\n        this.choice--\n      } else {\n        this.choice = this.maxChoice\n      }\n      this.updateActiveChoice()\n    } else if (keyCode === \"ArrowDown\") {\n      if (this.choice < this.maxChoice) {\n        this.choice++\n      } else {\n        this.choice = 0\n      }\n      this.updateActiveChoice()\n    } else if (keyCode === \"Escape\") {\n      this.hide()\n    }\n  }\n\n  isEventTarget = (event) => {\n    if (event.relatedTarget) {\n      return !!this.element.contains(event.relatedTarget)\n    } else if (event.target) {\n      return !!this.element.contains(event.target)\n    } else {\n      return false\n    }\n  }\n\n  show = (query, choices, callback) => {\n    if (choices.length === 0) {\n      this.hide()\n    } else {\n      this.updateChoices(query, choices, callback)\n      this.element.classList.add(\"show\")\n\n      const target = this.anchor.getTarget(query)\n\n      computePosition(target, this.element, {\n        placement: this.placement,\n        middleware: [offset(this.offset), flip(), shift(this.shift)],\n      }).then(({ x, y }) => {\n        Object.assign(this.element.style, {\n          left: `${x}px`,\n          top: `${y}px`,\n        })\n      })\n\n      this.choices = choices\n      this.choice = 0\n      this.maxChoice = choices.length - 1\n\n      this.query = query\n      this.callback = callback\n\n      this.visible = true\n    }\n  }\n\n  hide = () => {\n    this.element.classList.remove(\"show\")\n    this.visible = false\n  }\n}\n\nexport default SelectUser\n","import AnchorElement from \"./AnchorElement\"\nimport AnchorInput from \"./AnchorInput\"\nimport Autocomplete from \"./Autocomplete\"\nimport SelectUser from \"./SelectUser\"\nimport * as sources from \"./sources\"\n\nexport { AnchorElement, AnchorInput, Autocomplete, SelectUser, sources }\n","import { httpResponseError } from \"../snackbars\"\n\nclass SourceUsers {\n  constructor() {\n    this.cache = {}\n    this.url = window.misago_suggest_users\n  }\n\n  get = ({ value, exclude }, showErrors) => {\n    let url = this.url + \"?query=\" + encodeURIComponent(value)\n    if (exclude && Array.isArray(exclude)) {\n      exclude.forEach(function (item) {\n        if (item) {\n          url += \"&exclude=\" + encodeURIComponent(item)\n        }\n      })\n    }\n\n    if (this.cache[url]) {\n      return Promise.resolve(this.cache[url])\n    }\n\n    return fetch(url).then(\n      async (response) => {\n        if (!response.ok) {\n          if (showErrors) {\n            httpResponseError(response)\n          }\n          console.error(response)\n          return []\n        }\n\n        const { results } = await response.json()\n        this.cache[url] = results\n        return results\n      },\n      () => {\n        return []\n      }\n    )\n  }\n}\n\nconst _users = new SourceUsers()\n\nfunction users(query, showErrors) {\n  return _users.get(query, showErrors)\n}\n\nexport { users }\n","import htmx from \"htmx.org\"\n\nclass BulkModeration {\n  constructor(options) {\n    this.menu = options.menu ? document.querySelector(options.menu) : null\n    this.form = options.form\n    this.modal = options.modal\n    this.actions = document.querySelectorAll(options.actions)\n    this.selection = options.selection\n    this.control = document.querySelector(options.button.selector)\n    this.text = options.button.text\n\n    this.update()\n    this.registerEvents()\n    this.registerActions()\n  }\n\n  registerActions = () => {\n    this.actions.forEach((element) => {\n      if (element.getAttribute(\"moderation-action\") === \"remove-selection\") {\n        element.addEventListener(\"click\", this.onRemoveSelection)\n      } else {\n        element.addEventListener(\"click\", this.onAction)\n      }\n    })\n  }\n\n  onAction = (event) => {\n    const form = document.querySelector(this.form)\n    const data = {}\n\n    new FormData(form).forEach((value, key) => {\n      if (typeof data[key] === \"undefined\") {\n        data[key] = []\n      }\n      data[key].push(value)\n    })\n\n    const target = event.target\n    data.moderation = target.getAttribute(\"moderation-action\")\n\n    if (target.getAttribute(\"moderation-multistage\") === \"true\") {\n      htmx\n        .ajax(\"POST\", document.location.href, {\n          target: this.modal,\n          swap: \"innerHTML\",\n          values: data,\n        })\n        .then(() => {\n          $(this.modal).modal(\"show\")\n        })\n    } else {\n      htmx.ajax(\"POST\", document.location.href, {\n        target: \"#misago-htmx-root\",\n        swap: \"outerHTML\",\n        values: data,\n      })\n    }\n  }\n\n  onRemoveSelection = (event) => {\n    document.querySelectorAll(this.selection).forEach((element) => {\n      element.checked = false\n    })\n    this.update()\n  }\n\n  registerEvents = () => {\n    document.body.addEventListener(\"click\", ({ target }) => {\n      if (target.tagName === \"INPUT\" && target.type === \"checkbox\") {\n        this.update()\n      }\n    })\n\n    htmx.onLoad(() => this.update())\n  }\n\n  update = () => {\n    const selection = document.querySelectorAll(this.selection).length\n\n    this.control.innerText = this.text.replace(\"%(number)s\", selection)\n    this.control.disabled = !selection\n\n    if (this.menu) {\n      if (selection) {\n        this.menu.classList.add(\"visible\")\n      } else {\n        this.menu.classList.remove(\"visible\")\n      }\n    }\n  }\n}\n\nexport default BulkModeration\n","import { Autocomplete, AnchorInput, SelectUser, sources } from \"./Autocomplete\"\n\nconst RE_LOOKBACK = /(^|[^\\p{L}\\p{N}])@[a-z0-9_\\-]*$/giu\nconst RE_LOOKAHEAD = /^[\\p{L}\\p{N}]/giu\n\nclass Mention {\n  constructor(control) {\n    this.autocomplete = new Autocomplete({\n      control,\n      source: sources.users,\n      select: new SelectUser({\n        anchor: new AnchorInput(control),\n        placement: \"top\",\n      }),\n      getQuery: this.getQuery,\n      onSelect: this.onSelect,\n    })\n  }\n\n  getQuery = (control) => {\n    const { start, end, closed, prefix, suffix } = this.getSelection(control)\n\n    if (!closed) {\n      return null\n    }\n\n    const prefixMatch = prefix.match(RE_LOOKBACK)\n    const suffixMatch = suffix.match(RE_LOOKAHEAD)\n\n    const prefixMatchClean = prefixMatch ? prefixMatch[0].trim() : \"\"\n    const suffixMatchClean = suffixMatch ? suffixMatch[0].trim() : \"\"\n\n    if (prefixMatchClean.length < 2 || suffixMatchClean) {\n      return null\n    }\n\n    return {\n      control,\n      start: start - prefixMatchClean.length,\n      end: end,\n      prefix: prefix.substring(0, start - prefixMatchClean.length + 1),\n      value: prefixMatchClean.substring(1),\n    }\n  }\n\n  getSelection(control) {\n    const text = control.value\n    const selectionStart = control.selectionStart\n    const selectionEnd = control.selectionEnd\n\n    const prefix = text.substring(0, selectionStart)\n    const suffix = text.substring(selectionEnd)\n    const value =\n      selectionStart < selectionEnd\n        ? text.substring(selectionStart, selectionEnd)\n        : \"\"\n\n    return {\n      text,\n      start: selectionStart,\n      end: selectionEnd,\n      closed: selectionStart === selectionEnd,\n      value,\n      prefix,\n      suffix,\n    }\n  }\n\n  onSelect = (choice, query) => {\n    const { control, start, end } = query\n    const { username } = choice\n\n    const value = control.value\n    const prefix = value.substring(0, start)\n    const suffix = value.substring(end)\n    control.value = prefix + \"@\" + username + \" \" + suffix\n\n    window.setTimeout(() => {\n      const scroll = control.scrollTop\n      control.focus()\n      control.scrollTop = scroll\n\n      const caret = start + username.length + 2\n      control.setSelectionRange(caret, caret)\n    }, 100)\n  }\n}\n\nexport default Mention\n","import htmx from \"htmx.org\"\n\nfunction activatePollChoicesControl(element) {\n  element.setAttribute(\"m-poll-choices-control\", \"true\")\n\n  const maxChoices = Number(element.getAttribute(\"max-choices\") || 0)\n\n  element.addEventListener(\"keyup\", function (event) {\n    const input = event.target.closest(\"input\")\n    const newChoices = element.querySelectorAll(\"[m-poll-new-choice]\").length\n\n    if (\n      input &&\n      input.value.trim() &&\n      (!maxChoices || newChoices < maxChoices)\n    ) {\n      const listItem = event.target.closest(\"li\")\n      if (!listItem.nextElementSibling) {\n        const newListItem = listItem.cloneNode(true)\n        const newInput = newListItem.querySelector(\"input\")\n\n        newInput.value = \"\"\n        newInput.name = input.name\n\n        listItem.after(newListItem)\n      }\n    }\n  })\n}\n\nexport default activatePollChoicesControl\n\nhtmx.onLoad(function () {\n  document\n    .querySelectorAll(\"[m-poll-choices-control]\")\n    .forEach(function (element) {\n      if (!element.getAttribute(\"m-poll-choices-control\")) {\n        activatePollChoicesControl(element)\n      }\n    })\n})\n","import { computePosition, flip, offset, shift } from \"@floating-ui/dom\"\nimport * as snackbar from \"../snackbars\"\nimport QuoteCursorPosition from \"./QuoteCursorPosition\"\nimport QuoteSelection from \"./QuoteSelection\"\nimport Ruleset from \"./Ruleset\"\nimport extractorRules from \"./extractor\"\nimport postprocessRules from \"./postprocess\"\nimport rendererRules from \"./renderer\"\nimport tetherRules from \"./tether\"\n\nclass Quote {\n  constructor() {\n    this.extractor = new Ruleset(extractorRules)\n    this.postprocess = new Ruleset(postprocessRules)\n    this.renderer = new Ruleset(rendererRules)\n    this.tether = new Ruleset(tetherRules)\n\n    this.selecting = false\n    this.debounce = null\n\n    this.options = null\n    this.toolbar = null\n    this.cursor = null\n\n    this.range = null\n    this.root = null\n    this.quote = null\n  }\n\n  activate = (options) => {\n    if (\n      (options.reply || options.quote) &&\n      typeof window.getSelection !== \"undefined\"\n    ) {\n      document.addEventListener(\"mousedown\", this.onSelectStart)\n      document.addEventListener(\"mouseup\", this.onSelectEnd)\n      document.addEventListener(\"selectionchange\", this.onSelectChange)\n\n      this.options = options\n      this.toolbar = this.createToolbar()\n      this.cursor = new QuoteCursorPosition(this.tether)\n    }\n  }\n\n  onSelectStart = () => {\n    this.selecting = true\n  }\n\n  onSelectEnd = () => {\n    this.selecting = false\n    this.updateSelection()\n  }\n\n  onSelectChange = () => {\n    if (this.selecting) {\n      return\n    }\n\n    if (this.debounce) {\n      window.clearTimeout(this.debounce)\n    }\n\n    this.debounce = window.setTimeout(this.updateSelection, 300)\n  }\n\n  updateSelection = () => {\n    if (this.selecting) {\n      return\n    }\n\n    if (this.updateState()) {\n      this.showToolbar()\n    } else {\n      this.hideToolbar()\n    }\n  }\n\n  updateState() {\n    this.range = null\n    this.root = null\n\n    const selection = window.getSelection()\n    if (\n      !selection ||\n      selection.isCollapsed ||\n      selection.type !== \"Range\" ||\n      selection.rangeCount === 0\n    ) {\n      return false\n    }\n\n    const range = this.getRange(selection)\n    const root = this.getRangeRoot(range)\n\n    if (!root) {\n      return false\n    }\n\n    this.range = range\n    this.root = root\n    this.quote = this.getSelectionQuote(root)\n\n    return this.range && this.root && this.quote\n  }\n\n  clearState() {\n    this.selecting = true\n\n    this.range = null\n    this.root = null\n    this.quote = null\n\n    this.hideToolbar()\n\n    window.setTimeout(() => {\n      this.selecting = false\n    }, 300)\n  }\n\n  getRange(selection) {\n    if (selection.rangeCount === 1) {\n      return selection.getRangeAt(0)\n    }\n\n    // Separate logic for FireFox\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=753718\n    const start = selection.getRangeAt(0)\n    const end = selection.getRangeAt(selection.rangeCount - 1)\n\n    const range = new Range()\n    range.setStart(start.startContainer, start.startOffset)\n    range.setEnd(end.endContainer, end.endOffset)\n\n    return range\n  }\n\n  getRangeRoot(range) {\n    const ancestor = this.getCommonAncestor(range)\n    if (!ancestor) {\n      return null\n    }\n\n    const root = ancestor.closest(\"[misago-quote-root]\")\n    if (root) {\n      return {\n        element: root,\n        info: root.getAttribute(\"misago-quote-root\"),\n        ancestor,\n        childNodes: range.cloneContents().childNodes,\n      }\n    }\n    return null\n  }\n\n  getCommonAncestor(range) {\n    const ancestor = range.commonAncestorContainer\n    if (!ancestor) {\n      return null\n    } else if (ancestor.nodeType === Node.TEXT_NODE) {\n      return ancestor.parentNode\n    }\n    return ancestor\n  }\n\n  getSelectionQuote(root) {\n    const selection = new QuoteSelection(\n      this.extractor,\n      this.renderer,\n      this.postprocess\n    )\n    const quote = selection.getQuote(root)\n\n    if (quote) {\n      return \"\\n\\n\" + selection.getQuote(root) + \"\\n\\n\"\n    }\n\n    return \"\"\n  }\n\n  createToolbar() {\n    const toolbar = document.createElement(\"div\")\n    toolbar.className = \"quote-toolbar\"\n\n    if (this.options.reply) {\n      const reply = this.createToolbarButton(\n        pgettext(\"quote toolbar\", \"Reply\"),\n        \"reply\",\n        this.reply\n      )\n      toolbar.appendChild(reply)\n    }\n\n    if (this.options.quote) {\n      const quote = this.createToolbarButton(\n        pgettext(\"quote toolbar\", \"Copy quote\"),\n        \"content_copy\",\n        this.copyQuote\n      )\n      toolbar.appendChild(quote)\n    }\n\n    document.body.appendChild(toolbar)\n\n    return toolbar\n  }\n\n  createToolbarButton(text, icon, callback) {\n    const btn = document.createElement(\"button\")\n    btn.className = \"quote-toolbar-btn\"\n\n    const btnIcon = document.createElement(\"span\")\n    btnIcon.className = \"material-icon\"\n    btnIcon.innerText = icon\n    btn.appendChild(btnIcon)\n\n    const btnText = document.createElement(\"span\")\n    btnText.className = \"quote-toolbar-btn-text\"\n    btnText.innerText = text\n    btn.appendChild(btnText)\n\n    btn.addEventListener(\"click\", callback)\n    return btn\n  }\n\n  showToolbar() {\n    const position = this.cursor.getPosition(this.root, this.range)\n    if (!position) {\n      return\n    }\n\n    this.toolbar.classList.add(\"show\")\n\n    computePosition(position, this.toolbar, {\n      placement: \"bottom\",\n      middleware: [offset(4), flip(), shift({ padding: 8 })],\n    }).then(({ x, y }) => {\n      Object.assign(this.toolbar.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      })\n    })\n  }\n\n  hideToolbar() {\n    this.toolbar.classList.remove(\"show\")\n  }\n\n  reply = () => {\n    const form = document.getElementById(\"misago-htmx-quick-reply\")\n\n    if (form && this.quote) {\n      const textarea = form.querySelector(\".markup-editor-textarea\")\n      if (textarea) {\n        if (textarea.value.trim()) {\n          textarea.value += this.quote\n        } else {\n          textarea.value = this.quote.trimStart()\n        }\n        snackbar.info(pgettext(\"quote toolbar\", \"Quote added to reply\"))\n      }\n    }\n\n    this.clearState()\n  }\n\n  copyQuote = async () => {\n    if (this.quote) {\n      try {\n        await navigator.clipboard.writeText(this.quote)\n        snackbar.info(pgettext(\"quote toolbar\", \"Quote copied to clipboard\"))\n      } catch (error) {\n        console.error(error.message)\n      }\n    }\n\n    this.clearState()\n  }\n}\n\nconst quote = new Quote()\n\nexport default quote\n","class QuoteCursorPosition {\n  constructor(tether) {\n    this.tether = tether\n\n    this.shadow = this.createShadow()\n    this.padding = null\n  }\n\n  createShadow() {\n    const shadow = document.createElement(\"div\")\n    shadow.ariaHidden = true\n    shadow.style.position = \"absolute\"\n    shadow.style.top = 0\n    shadow.style.left = \"-9999px\"\n    shadow.style.opacity = 0\n    shadow.style.zIndex = -999\n\n    document.body.appendChild(shadow)\n\n    return shadow\n  }\n\n  getPosition(root, range) {\n    const { element } = root\n\n    this.shadow.setAttribute(\"class\", element.getAttribute(\"class\"))\n\n    const rangeClone = range.cloneRange()\n    rangeClone.setStart(element.childNodes[0], 0)\n\n    const rangeRect = rangeClone.getBoundingClientRect()\n    this.shadow.style.width = `${rangeRect.width}px`\n\n    if (this.padding === null) {\n      const padding = window\n        .getComputedStyle(element)\n        .getPropertyValue(\"padding-top\")\n      this.padding = parseFloat(padding.substring(0, padding.length - 2))\n    }\n\n    this.shadow.replaceChildren(...rangeClone.cloneContents().childNodes)\n\n    const tether = this.findTether(this.shadow.childNodes)\n    if (!tether) {\n      this.shadow.replaceChildren()\n      return null\n    }\n\n    const shadowRect = this.shadow.getBoundingClientRect()\n    const tetherRect = tether.getBoundingClientRect()\n    const tetherOffset = tetherRect.x - shadowRect.x + tetherRect.width\n\n    const rect = {\n      top: rangeRect.bottom,\n      bottom: rangeRect.bottom + 1,\n      left: rangeRect.x + tetherOffset,\n      right: rangeRect.x + tetherOffset + 1,\n      height: 1,\n      width: 1,\n      x: rangeRect.x + tetherOffset.x,\n      y: rangeRect.bottom,\n    }\n\n    this.shadow.replaceChildren()\n\n    return {\n      getBoundingClientRect() {\n        return rect\n      },\n    }\n  }\n\n  findTether(nodes) {\n    let result = null\n\n    const { rules } = this.tether\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i]\n\n      for (let i = 0; i < rules.length; i++) {\n        const { func } = rules[i]\n        result = func(this, node) || result\n      }\n    }\n\n    return result\n  }\n}\n\nexport default QuoteCursorPosition\n","class QuoteSelection {\n  constructor(extractor, renderer, postprocess) {\n    this.extractor = extractor\n    this.renderer = renderer\n    this.postprocess = postprocess\n  }\n\n  getQuote(root) {\n    let result = this.extractNodes(root.childNodes)\n    result = this.postprocessNodes(root, result)\n    if (result.length === 0) {\n      return \"\"\n    }\n    return this.renderNodes(result).trim()\n  }\n\n  extractNodes(nodes, stack) {\n    const state = {\n      nodes,\n      node: null,\n      result: [],\n      stack: stack || [],\n      pos: 0,\n      posMax: nodes.length - 1,\n    }\n\n    const { rules } = this.extractor\n    while (state.pos <= state.posMax) {\n      let match = false\n\n      const node = nodes[state.pos]\n      state.node = node\n\n      for (let r = 0; r < rules.length; r++) {\n        const rule = rules[r].func\n        if (rule(this, state)) {\n          match = true\n          break\n        }\n      }\n\n      state.pos += match ? 0 : 1\n    }\n\n    return state.result\n  }\n\n  postprocessNodes(root, nodes) {\n    let result = nodes\n\n    const { rules } = this.postprocess\n    for (let i = 0; i < rules.length; i++) {\n      result = rules[i].func(this, root, result)\n    }\n\n    return result\n  }\n\n  renderNodes(nodes) {\n    const state = {\n      nodes,\n      node: null,\n      text: \"\",\n      pos: 0,\n      posMax: nodes.length - 1,\n    }\n\n    const { rules } = this.renderer\n    while (state.pos <= state.posMax) {\n      let match = false\n\n      const node = nodes[state.pos]\n      state.node = node\n\n      for (let r = 0; r < rules.length; r++) {\n        const rule = rules[r].func\n        if (rule(this, state)) {\n          match = true\n          break\n        }\n      }\n\n      state.pos += match ? 0 : 1\n    }\n\n    return state.text\n  }\n}\n\nexport default QuoteSelection\n","class Ruleset {\n  constructor(rules) {\n    this.rules = rules || []\n  }\n\n  push(name, func) {\n    this.rules.push({ name, func })\n  }\n\n  replace(name, func) {\n    this.rules = this.rules.map((rule) => {\n      if (rule.name === name) {\n        return { name, func }\n      } else {\n        return rule\n      }\n    })\n  }\n\n  before(beforeName, name, func) {\n    const rules = []\n    this.rules.forEach((rule) => {\n      rules.push({ name, func })\n      if (rule.name === beforeName) {\n        rules.push(rule)\n      }\n    })\n    this.rules = rules\n  }\n\n  after(afterName, name, func) {\n    const rules = []\n    this.rules.forEach((rule) => {\n      if (rule.name === afterName) {\n        rules.push(rule)\n      }\n      rules.push({ name, func })\n    })\n    this.rules = rules\n  }\n}\n\nexport default Ruleset\n","export function escapeBBCodeArg(arg) {\n  return escapeQuotes(escapeBrackets(escapeBackslash(arg)))\n}\n\nexport function escapeBBCodeContents(arg) {\n  return escapeBrackets(escapeBackslash(arg))\n}\n\nexport function escapeMarkdownLink(arg) {\n  return escapeQuotes(escapeParentheses(escapeBackslash(arg)))\n}\n\nexport function escapeMarkdownLinkText(arg) {\n  return escapeQuotes(escapeBrackets(escapeBackslash(arg)))\n}\n\nexport function escapeMarkdownLinkTitle(arg) {\n  return escapeMarkdownLink(arg)\n}\n\nexport function escapeMarkdownImageTitle(arg) {\n  let escaped = escapeBackslash(arg)\n  escaped = escaped.replaceAll(\"(\", \"\\\\(\")\n  escaped = escaped.replaceAll(\")\", \"\\\\)\")\n  return escaped.replaceAll('\"', '\\\\\"')\n}\n\nexport function escapeAutolink(arg) {\n  return escapeBackslash(arg).replaceAll(\"<\", \"\\\\<\").replaceAll(\">\", \"\\\\>\")\n}\n\nexport function escapeInlineCode(arg) {\n  return escapeBackslash(arg).replaceAll(\"`\", \"\\\\`\").replaceAll(\"`\", \"\\\\`\")\n}\n\nexport function escapeTableCell(arg) {\n  return escapeBackslash(arg).replaceAll(\"|\", \"\\\\|\")\n}\n\nexport function escapeBackslash(text) {\n  return text.replaceAll(\"\\\\\", \"\\\\\\\\\")\n}\n\nexport function escapeBrackets(text) {\n  return text.replaceAll(\"[\", \"\\\\[\").replaceAll(\"]\", \"\\\\]\")\n}\n\nexport function escapeParentheses(text) {\n  return text.replaceAll(\"(\", \"\\\\(\").replaceAll(\")\", \"\\\\)\")\n}\n\nexport function escapeQuotes(text) {\n  return text.replaceAll('\"', '\\\\\"').replaceAll(\"'\", \"\\\\'\")\n}\n","import getQuotedCode from \"./getQuotedCode\"\n\nfunction attachment(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"DIV\" && node.nodeName !== \"SPAN\") {\n    return false\n  }\n\n  const attachment = node.getAttribute(\"misago-rich-text-attachment\")\n  if (!attachment) {\n    return false\n  }\n\n  if (!node.childNodes.length) {\n    return false\n  }\n\n  result.push({\n    type: \"attachment\",\n    args: attachment,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction youtube(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"DIV\") {\n    return false\n  }\n\n  const url = node.getAttribute(\"misago-rich-text-youtube\")\n  if (!url) {\n    return false\n  }\n\n  result.push({\n    type: \"youtube\",\n    url,\n  })\n\n  state.pos += 1\n  return true\n}\n\nconst HEADER_NODES = {\n  H1: true,\n  H2: true,\n  H3: true,\n  H4: true,\n  H5: true,\n  H6: true,\n}\n\nfunction header(selection, state) {\n  const { result, node, stack } = state\n\n  if (!HEADER_NODES[node.nodeName]) {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"header\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const level = parseInt(node.nodeName.substring(1))\n\n  result.push({\n    type: \"header\",\n    level,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction quote(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"ASIDE\") {\n    return false\n  }\n\n  const blockquote = node.querySelector(\"blockquote[misago-rich-text-quote]\")\n  if (!blockquote) {\n    return false\n  }\n\n  const info = blockquote.getAttribute(\"misago-rich-text-quote\")\n\n  const children = selection.extractNodes(\n    blockquote.childNodes,\n    stack.concat([\"quote\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"quote\",\n    info,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction spoiler(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"DETAILS\") {\n    return false\n  }\n\n  const body = node.querySelector(\"div[misago-rich-text-spoiler]\")\n  if (!body) {\n    return false\n  }\n\n  const info = body.getAttribute(\"misago-rich-text-spoiler\")\n\n  const children = selection.extractNodes(\n    body.childNodes,\n    stack.concat([\"quote\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"spoiler\",\n    info,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction code(selection, state) {\n  const { result, node, stack } = state\n\n  if (!(node.nodeName === \"DIV\" || node.nodeName === \"PRE\")) {\n    return false\n  }\n\n  const code = node.querySelector(\"code[misago-rich-text-code]\")\n  if (!code) {\n    return false\n  }\n\n  const info = code.getAttribute(\"misago-rich-text-code\")\n  const content = getQuotedCode(code)\n\n  result.push({\n    type: \"code\",\n    info,\n    content,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction paragraph(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"P\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"paragraph\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"paragraph\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table(selection, state) {\n  const { result, node, stack } = state\n\n  if (\n    node.nodeName !== \"DIV\" ||\n    node.getAttribute(\"misago-rich-text\") !== \"table-container\"\n  ) {\n    return false\n  }\n\n  const tables = Array.from(node.childNodes).filter(function (node) {\n    return node.nodeName === \"TABLE\"\n  })\n\n  if (tables.length !== 1) {\n    return false\n  }\n\n  const table = tables[0]\n\n  const children = selection.extractNodes(\n    table.childNodes,\n    stack.concat([\"table\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_head(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"THEAD\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_head\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_head\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_body(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TBODY\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_body\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_body\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_row(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TR\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_row\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_row\",\n    id: node.id,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_th(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TH\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_th\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const { index, alignment } = getTableCellMeta(node)\n\n  result.push({\n    type: \"table_th\",\n    index,\n    alignment,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_td(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TD\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_td\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const { index, alignment } = getTableCellMeta(node)\n\n  result.push({\n    type: \"table_td\",\n    index,\n    alignment,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction getTableCellMeta(node) {\n  const meta = node.getAttribute(\"misago-rich-text-col\")\n  if (!meta) {\n    return { index: null, alignment: \"c\" }\n  }\n\n  const values = meta.split(\":\")\n  return { index: parseInt(values[0] || \"0\"), alignment: values[1] || \"c\" }\n}\n\nfunction list(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"OL\" && node.nodeName !== \"UL\") {\n    return false\n  }\n\n  const ordered = node.nodeName === \"OL\"\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"list\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"list\",\n    ordered,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction list_item(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"LI\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"list_item\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"list_item\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction hr(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"HR\") {\n    return false\n  }\n\n  result.push({\n    type: \"hr\",\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction image(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"IMG\") {\n    return false\n  }\n\n  const url = (node.getAttribute(\"src\") || \"\").trim()\n  const alt = (node.getAttribute(\"alt\") || \"\").trim() || null\n  const title = (node.getAttribute(\"title\") || \"\").trim() || null\n\n  if (!url) {\n    return false\n  }\n\n  result.push({\n    type: \"image\",\n    url,\n    alt,\n    title,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction mention(selection, state) {\n  const { result, node } = state\n\n  if (!(node.nodeName === \"A\" || node.nodeName === \"SPAN\")) {\n    return false\n  }\n\n  if (!node.getAttribute(\"misago-rich-text-mention\")) {\n    return false\n  }\n\n  result.push({\n    type: \"text\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction link(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"A\") {\n    return false\n  }\n\n  result.push({\n    type: \"link\",\n    href: node.getAttribute(\"href\"),\n    auto: node.getAttribute(\"misago-rich-text\") === \"autolink\",\n    children: selection.extractNodes(node.childNodes, stack.concat([\"link\"])),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction strong_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"STRONG\") {\n    return false\n  }\n\n  result.push({\n    type: \"strong\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"strong_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction emphasis_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"EM\") {\n    return false\n  }\n\n  result.push({\n    type: \"emphasis\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"emphasis_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction bold_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"B\") {\n    return false\n  }\n\n  result.push({\n    type: \"bold\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"bold_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction italic_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"I\") {\n    return false\n  }\n\n  result.push({\n    type: \"italic\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"italic_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction underline_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"U\") {\n    return false\n  }\n\n  result.push({\n    type: \"underline\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"underline_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction strikethrough_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"DEL\") {\n    return false\n  }\n\n  result.push({\n    type: \"strikethrough\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"strikethrough_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction inline_code(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"CODE\") {\n    return false\n  }\n\n  result.push({\n    type: \"inline_code\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction softbreak(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"BR\") {\n    return false\n  }\n\n  result.push({\n    type: \"softbreak\",\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeType !== Node.TEXT_NODE) {\n    return false\n  }\n\n  if (node.textContent === \"\\n\") {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"text\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"code\", func: code },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"table_head\", func: table_head },\n  { name: \"table_body\", func: table_body },\n  { name: \"table_row\", func: table_row },\n  { name: \"table_th\", func: table_th },\n  { name: \"table_td\", func: table_td },\n  { name: \"list\", func: list },\n  { name: \"list_item\", func: list_item },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"mention\", func: mention },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"softbreak\", func: softbreak },\n  { name: \"text\", func: text },\n]\n","export default function getQuotedCode(node) {\n  const code = getCodeTextContent(node)\n  return dedentTrimCode(code)\n}\n\nfunction getCodeTextContent(node) {\n  let text = \"\"\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i]\n    if (child.nodeType === Node.TEXT_NODE) {\n      text += child.textContent\n    } else if (child.nodeName === \"SPAN\") {\n      text += getCodeTextContent(child)\n    }\n  }\n  return text\n}\n\nfunction dedentTrimCode(code) {\n  const lines = splitLines(trimCodeBlankLines(code))\n\n  let dedent = -1\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i]\n    if (line.trim()) {\n      const lineDedent = lines[i].length - lines[i].trimStart().length\n      if (dedent === -1 || lineDedent < dedent) {\n        dedent = lineDedent\n      }\n    }\n  }\n\n  if (dedent) {\n    for (let i = 0; i < lines.length; i++) {\n      lines[i] = lines[i].substring(dedent)\n    }\n  }\n\n  return lines.join(\"\\n\")\n}\n\nfunction trimCodeBlankLines(code) {\n  const cleanLines = []\n  const lines = splitLines(code)\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i]\n    if (cleanLines.length || line.trim()) {\n      cleanLines.push(line.trimEnd())\n    }\n  }\n  return cleanLines.join(\"\\n\").trimEnd()\n}\n\nfunction splitLines(text) {\n  return text.split(/\\r?\\n/)\n}\n","import quote from \"./Quote\"\nimport QuoteSelection from \"./QuoteSelection\"\nimport Ruleset from \"./Ruleset\"\n\nexport default quote\n\nexport { QuoteSelection, Ruleset }\n","import getQuotedCode from \"./getQuotedCode\"\n\nfunction attachment(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-attachment]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const args = container.getAttribute(\"misago-rich-text-attachment\")\n\n  return [\n    {\n      type: \"attachment\",\n      args,\n    },\n  ]\n}\n\nfunction youtube(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-youtube]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const url = container.getAttribute(\"misago-rich-text-youtube\")\n  if (!url) {\n    return nodes\n  }\n\n  return [\n    {\n      type: \"youtube\",\n      url,\n    },\n  ]\n}\n\nfunction code(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-code]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const info = container.getAttribute(\"misago-rich-text-code\")\n  const content = getQuotedCode(root)\n\n  return [\n    {\n      type: \"code\",\n      info,\n      content,\n    },\n  ]\n}\n\nfunction table(selection, root, nodes) {\n  return nodes.map((node) => {\n    if (node.type === \"table\") {\n      return fixTable(selection, node)\n    } else {\n      return node\n    }\n  })\n}\n\nfunction fixTable(selection, table) {\n  let result = fixTableHeader(selection, table)\n  return fixTableColumns(selection, result)\n}\n\nfunction fixTableHeader(selection, table) {\n  if (table.children[0].type === \"table_head\") {\n    return table\n  }\n\n  const thead = {\n    type: \"table_head\",\n    children: [{ type: \"table_row\", children: [] }],\n  }\n\n  table.children = [thead, table.children[0]]\n\n  return table\n}\n\nfunction fixTableColumns(selection, table) {\n  const element = document\n    .getElementById(table.children[1].children[0].id)\n    .closest(\"table\")\n\n  const head = table.children[0]\n  const body = table.children[1]\n\n  const cols = {}\n  head.children.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  body.children.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  head.children[0].children = selection.extractNodes(\n    Array.from(element.querySelector(\"thead tr\").childNodes)\n      .filter((node) => node.nodeName === \"TH\")\n      .filter((_, index) => cols[index])\n  )\n\n  body.children.forEach((row) => {\n    row.children = selection.extractNodes(\n      Array.from(document.getElementById(row.id).childNodes)\n        .filter((node) => node.nodeName === \"TD\")\n        .filter((_, index) => cols[index])\n    )\n  })\n\n  return table\n}\n\nfunction table_head(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_head\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n\n  const cols = {}\n  nodes.forEach(function (rowset) {\n    rowset.children.forEach(function (row) {\n      row.children.forEach(function (cell) {\n        cols[cell.index] = true\n      })\n    })\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(table.querySelector(\"thead tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  const tbody = {\n    type: \"table_body\",\n    children: nodes[1].children.map((row) => {\n      row.children = selection.extractNodes(\n        Array.from(document.getElementById(row.id).childNodes)\n          .filter((node) => node.nodeName === \"TD\")\n          .filter((_, index) => cols[index])\n      )\n      return row\n    }),\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_row(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_row\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n\n  const cols = {}\n  nodes.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(table.querySelector(\"thead tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  const tbody = {\n    type: \"table_body\",\n    children: nodes.map((row) => {\n      row.children = selection.extractNodes(\n        Array.from(document.getElementById(row.id).childNodes)\n          .filter((node) => node.nodeName === \"TD\")\n          .filter((_, index) => cols[index])\n      )\n      return row\n    }),\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_th(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_th\") {\n    return nodes\n  }\n\n  const cols = {}\n  nodes.forEach(function (cell) {\n    cols[cell.index] = true\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(root.ancestor.closest(\"tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead],\n    },\n  ]\n}\n\nfunction table_td(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_td\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n  const header = Array.from(table.querySelector(\"thead tr\").childNodes).filter(\n    (node) => node.nodeName === \"TH\"\n  )\n\n  const thead = {\n    type: \"table_head\",\n    children: [{ type: \"table_row\", children: [] }],\n  }\n\n  nodes.forEach(function (node) {\n    thead.children[0].children.push(\n      selection.extractNodes([header[node.index]])[0]\n    )\n  })\n\n  const cols = {}\n  nodes.forEach(function (cell) {\n    cols[cell.index] = true\n  })\n\n  const tbody = {\n    type: \"table_body\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(root.ancestor.closest(\"tr\").childNodes)\n            .filter((node) => node.nodeName === \"TD\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_content(selection, root, nodes) {\n  const td = root.ancestor.closest(\"td\")\n\n  if (!td) {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n  const header = Array.from(table.querySelector(\"thead tr\").childNodes).filter(\n    (node) => node.nodeName === \"TH\"\n  )\n\n  const node = Object.assign(selection.extractNodes([td])[0], {\n    children: nodes,\n  })\n\n  return [\n    {\n      type: \"table\",\n      children: [\n        {\n          type: \"table_head\",\n          children: [\n            {\n              type: \"table_row\",\n              children: selection.extractNodes([header[node.index]]),\n            },\n          ],\n        },\n        {\n          type: \"table_body\",\n          children: [\n            {\n              type: \"table_row\",\n              children: [node],\n            },\n          ],\n        },\n      ],\n    },\n  ]\n}\n\nfunction list(selection, root, nodes) {\n  if (root.ancestor.nodeName === \"OL\" || root.ancestor.nodeName === \"UL\") {\n    return [\n      {\n        type: \"list\",\n        ordered: root.ancestor.nodeName === \"OL\",\n        children: nodes,\n      },\n    ]\n  }\n\n  return nodes\n}\n\nfunction blocks(selection, root, nodes) {\n  let spoiler = false\n  let quote = false\n\n  let result = nodes\n\n  let parent = root.ancestor\n  while (!parent.hasAttribute(\"misago-quote-root\")) {\n    if (parent.hasAttribute(\"misago-rich-text-spoiler\")) {\n      spoiler = true\n      result = [\n        {\n          type: \"spoiler\",\n          info: parent.getAttribute(\"misago-rich-text-spoiler\"),\n          children: result,\n        },\n      ]\n    } else if (parent.hasAttribute(\"misago-rich-text-quote\")) {\n      quote = true\n      result = [\n        {\n          type: \"quote\",\n          info: parent.getAttribute(\"misago-rich-text-quote\"),\n          children: result,\n        },\n      ]\n    }\n\n    if (spoiler && quote) {\n      return result\n    }\n\n    parent = parent.parentNode\n  }\n\n  return result\n}\n\nfunction quote_wrapper(selection, root, nodes) {\n  if (!nodes) {\n    return false\n  }\n\n  if (!wrapNodesInQuote(nodes)) {\n    return nodes\n  }\n\n  return [\n    {\n      type: \"quote\",\n      info: root.info,\n      children: nodes,\n    },\n  ]\n}\n\nfunction wrapNodesInQuote(nodes) {\n  if (nodes.length !== 1) {\n    return true\n  }\n\n  if (nodes[0].type === \"quote\" && nodes[0].info) {\n    return false\n  }\n\n  if (nodes[0].type === \"spoiler\") {\n    return wrapNodesInQuote(nodes[0].children)\n  }\n\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"code\", func: code },\n  { name: \"table\", func: table },\n  { name: \"table_head\", func: table_head },\n  { name: \"table_row\", func: table_row },\n  { name: \"table_th\", func: table_th },\n  { name: \"table_td\", func: table_td },\n  { name: \"table_content\", func: table_content },\n  { name: \"list\", func: list },\n  { name: \"blocks\", func: blocks },\n  { name: \"quote_wrapper\", func: quote_wrapper },\n]\n","import {\n  escapeAutolink,\n  escapeBBCodeArg,\n  escapeBBCodeContents,\n  escapeInlineCode,\n  escapeMarkdownLink,\n  escapeMarkdownLinkText,\n  escapeMarkdownLinkTitle,\n  escapeTableCell,\n} from \"./escape\"\n\nfunction attachment(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"attachment\") {\n    return false\n  }\n\n  if (state.text) {\n    if (state.nodes[state.pos - 1].type === \"attachment\") {\n      state.text += \"\\n\"\n    } else {\n      state.text += \"\\n\\n\"\n    }\n  }\n\n  state.text += \"<attachment=\" + node.args + \">\"\n  state.pos += 1\n\n  return true\n}\n\nfunction youtube(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"youtube\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += node.url\n  state.pos += 1\n\n  return true\n}\n\nfunction header(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"header\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const prefix = \"#\".repeat(node.level)\n  state.text += prefix + \" \" + text\n  state.pos += 1\n\n  return true\n}\n\nfunction quote(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"quote\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const { info } = node\n\n  state.text += \"[quote\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += text\n  state.text += \"\\n[/quote]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction code(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"code\") {\n    return false\n  }\n\n  const { info, content } = node\n\n  if (!node.content) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += \"[code\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += content\n  state.text += \"\\n[/code]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction spoiler(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"spoiler\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const { info } = node\n\n  state.text += \"[spoiler\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += text\n  state.text += \"\\n[/spoiler]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction paragraph(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"paragraph\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += text\n  state.pos += 1\n\n  return true\n}\n\nfunction table(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"table\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const alignment = []\n  const lengths = []\n  const rows = []\n\n  // thead.tr.th\n  node.children.forEach(function (tbody) {\n    if (tbody.type === \"table_head\") {\n      const row = tbody.children[0].children.map(function (cell) {\n        const text = getTableCellText(selection, cell)\n        alignment.push(cell.alignment)\n        lengths.push(Math.max(text.length, 3))\n        return text\n      })\n      rows.push(row)\n    } else if (tbody.type === \"table_body\") {\n      tbody.children.forEach(function (table_row) {\n        const row = table_row.children.map(function (cell, index) {\n          const text = getTableCellText(selection, cell)\n          lengths[index] = Math.max(text.length, lengths[index] || 0, 3)\n          return text\n        })\n        rows.push(row)\n      })\n    }\n  })\n\n  const table = []\n  rows.forEach(function (cols, index) {\n    const row = cols.map(function (text, col) {\n      return text + \" \".repeat(lengths[col] - text.length)\n    })\n\n    table.push(\"| \" + row.join(\" | \") + \" | \")\n\n    if (index === 0) {\n      const header = cols.map(function (_, col) {\n        if (alignment[col] === \"l\") {\n          return \"-\".repeat(lengths[col])\n        } else if (alignment[col] === \"r\") {\n          return \"-\".repeat(lengths[col] - 1) + \":\"\n        } else if (alignment[col] === \"c\") {\n          return \":\" + \"-\".repeat(lengths[col] - 2) + \":\"\n        }\n      })\n      table.push(\"| \" + header.join(\" | \") + \" | \")\n    }\n  })\n\n  state.text += table.join(\"\\n\")\n  state.pos += 1\n\n  return true\n}\n\nfunction getTableCellText(selection, node) {\n  return escapeTableCell(selection.renderNodes(node.children).trim())\n}\n\nfunction list(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"list\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const items = node.children.map((item, index) => {\n    const prefix = node.ordered ? index + 1 + \". \" : \"* \"\n    const text = selection.renderNodes(item.children).trim()\n    const lines = text.split(/\\r?\\n|\\r|\\n/g).map((line, lineIndex) => {\n      if (lineIndex === 0) {\n        return prefix + line.trim()\n      } else {\n        return \" \".repeat(prefix.length) + line.trim()\n      }\n    })\n    return lines.join(\"\\n\")\n  })\n\n  state.text += items.join(\"\\n\")\n  state.pos += 1\n\n  return true\n}\n\nfunction hr(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"hr\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += \"- - -\"\n  state.pos += 1\n\n  return true\n}\n\nfunction image(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"image\") {\n    return false\n  }\n\n  const { url, alt, title } = node\n\n  if (alt || title) {\n    state.text += \"!\"\n    if (alt) {\n      state.text += \"[\" + escapeMarkdownLinkText(alt) + \"]\"\n    }\n    state.text += \"(\" + escapeMarkdownLink(url)\n    if (title) {\n      state.text += ' \"' + escapeMarkdownLinkTitle(title) + '\"'\n    }\n    state.text += \")\"\n  } else {\n    state.text += \"[img]\" + escapeBBCodeContents(url) + \"[/img]\"\n  }\n\n  state.pos += 1\n\n  return true\n}\n\nfunction link(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"link\") {\n    return false\n  }\n\n  const { auto, children, href } = node\n  const text = selection.renderNodes(children)\n\n  if (auto) {\n    state.text += \"<\" + escapeAutolink(href) + \">\"\n  } else {\n    state.text += \"[url=\" + escapeBBCodeArg(href) + \"]\" + text + \"[/url]\"\n  }\n\n  state.pos += 1\n\n  return true\n}\n\nfunction strong_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"strong\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  const delimiter = text.indexOf(\"_\") === -1 ? \"__\" : \"**\"\n  state.text += delimiter + text + delimiter\n  state.pos += 1\n\n  return true\n}\n\nfunction emphasis_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"emphasis\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  const delimiter = text.indexOf(\"_\") === -1 ? \"_\" : \"**\"\n  state.text += delimiter + text + delimiter\n  state.pos += 1\n\n  return true\n}\n\nfunction bold_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"bold\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[b]\" + text + \"[/b]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction italic_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"italic\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[i]\" + text + \"[/i]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction underline_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"underline\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[u]\" + text + \"[/u]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction strikethrough_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"strikethrough\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[s]\" + text + \"[/s]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction inline_code(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"inline_code\") {\n    return false\n  }\n\n  const { content } = node\n  if (!content) {\n    return false\n  }\n\n  state.text += \"`\" + escapeInlineCode(content) + \"`\"\n  state.pos += 1\n\n  return true\n}\n\nfunction softbreak(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"softbreak\") {\n    return false\n  }\n\n  state.text += \"\\n\"\n\n  state.pos += 1\n  return true\n}\n\nfunction text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"text\") {\n    return false\n  }\n\n  // We rely on 'softbreak' rule for explicit line breaks\n  state.text += node.content.replaceAll(\"\\n\", \"\")\n  state.pos += 1\n\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"code\", func: code },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"list\", func: list },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"softbreak\", func: softbreak },\n  { name: \"text\", func: text },\n]\n","function attachment(cursor, node) {\n  if (node.nodeName !== \"DIV\" && node.nodeName !== \"SPAN\") {\n    return null\n  }\n\n  if (!node.hasAttribute(\"misago-rich-text-attachment\")) {\n    return null\n  }\n\n  return node\n}\n\nfunction youtube(cursor, node) {\n  if (node.nodeName !== \"DIV\") {\n    return null\n  }\n\n  if (!node.hasAttribute(\"misago-rich-text-youtube\")) {\n    return null\n  }\n\n  return node\n}\n\nconst HEADER_NODES = {\n  H1: true,\n  H2: true,\n  H3: true,\n  H4: true,\n  H5: true,\n  H6: true,\n}\n\nfunction header(cursor, node) {\n  if (!HEADER_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction quote(cursor, node) {\n  if (node.nodeName !== \"ASIDE\") {\n    return null\n  }\n\n  const blockquote = node.querySelector(\"blockquote[misago-rich-text-quote]\")\n  if (!blockquote) {\n    return null\n  }\n\n  return cursor.findTether(blockquote.childNodes)\n}\n\nfunction spoiler(cursor, node) {\n  if (node.nodeName !== \"DETAILS\") {\n    return null\n  }\n\n  const body = node.querySelector(\"div[misago-rich-text-spoiler]\")\n  if (!body) {\n    return null\n  }\n\n  return cursor.findTether(body.childNodes)\n}\n\nfunction code(cursor, node) {\n  if (!(node.nodeName === \"DIV\" || node.nodeName === \"PRE\")) {\n    return null\n  }\n\n  const code = node.querySelector(\"code[misago-rich-text-code]\")\n  if (!code) {\n    return null\n  }\n\n  const result = code.childNodes[code.childNodes.length - 1]\n  if (result.nodeName === \"SPAN\") {\n    return cursor.findTether(result.childNodes)\n  }\n\n  return cursor.findTether(code.childNodes)\n}\n\nfunction paragraph(cursor, node) {\n  if (node.nodeName !== \"P\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nconst TABLE_NODES = {\n  TABLE: true,\n  THEAD: true,\n  TBODY: true,\n  TR: true,\n  TH: true,\n  TD: true,\n}\n\nfunction table(cursor, node) {\n  if (\n    node.nodeName === \"DIV\" &&\n    node.getAttribute(\"misago-rich-text\") === \"table-container\"\n  ) {\n    return cursor.findTether(node.childNodes)\n  }\n\n  if (!node.nodeName || !TABLE_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nconst LIST_NODES = {\n  OL: true,\n  UL: true,\n  LI: true,\n}\n\nfunction list(cursor, node) {\n  if (!node.nodeName || !LIST_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction hr(cursor, node) {\n  if (node.nodeName !== \"HR\") {\n    return null\n  }\n\n  return node\n}\n\nfunction image(cursor, node) {\n  if (node.nodeName !== \"IMG\") {\n    return null\n  }\n\n  return node\n}\n\nfunction link(cursor, node) {\n  if (node.nodeName !== \"A\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction strong_text(cursor, node) {\n  if (node.nodeName !== \"STRONG\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction emphasis_text(cursor, node) {\n  if (node.nodeName !== \"EM\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction bold_text(cursor, node) {\n  if (node.nodeName !== \"B\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction italic_text(cursor, node) {\n  if (node.nodeName !== \"I\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction underline_text(cursor, node) {\n  if (node.nodeName !== \"U\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction strikethrough_text(cursor, node) {\n  if (node.nodeName !== \"DEL\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction inline_code(cursor, node) {\n  if (node.nodeName !== \"CODE\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction text(cursor, node) {\n  if (node.nodeType !== Node.TEXT_NODE) {\n    return null\n  }\n\n  const text = node.textContent.trimEnd()\n  if (!text) {\n    return null\n  }\n\n  const range = document.createRange()\n  range.selectNode(node)\n  range.setStart(node, text.length)\n  range.setEnd(node, text.length)\n\n  return range\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"code\", func: code },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"list\", func: list },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"text\", func: text },\n]\n","import htmx from \"htmx.org\"\n\nfunction updateTabGroups(hash) {\n  if (!hash) {\n    return\n  }\n\n  document.querySelectorAll(\".tab-group\").forEach(function (element) {\n    updateTabGroup(hash, element)\n  })\n}\n\nfunction updateTabGroup(hash, element) {\n  let oldNav = null\n  let newNav = null\n\n  element.querySelectorAll(\".tab-group-nav a\").forEach(function (nav) {\n    if (nav.getAttribute(\"href\") === hash) {\n      newNav = nav\n    }\n    if (nav.classList.contains(\"active\")) {\n      oldNav = nav\n    }\n  })\n\n  const oldTab = element.querySelector(\".tab-group-tab.visible\")\n  const newTab = findTab(hash.substring(1), element)\n\n  if (newNav && newTab && newNav != oldNav && newTab !== oldTab) {\n    newNav.classList.add(\"active\")\n    newTab.classList.add(\"visible\")\n\n    if (oldNav) {\n      oldNav.classList.remove(\"active\")\n    }\n\n    if (oldTab) {\n      oldTab.classList.remove(\"visible\")\n    }\n\n    const event = new CustomEvent(\"misago:updated-tab\", {\n      bubbles: true,\n      target: element,\n      oldTab,\n      newTab,\n    })\n    element.dispatchEvent(event)\n  }\n}\n\nfunction findTab(hash, element) {\n  const tabs = element.querySelectorAll(\"[misago-tab-group-tab]\")\n  for (let i = 0; i < tabs.length; i++) {\n    const tab = tabs[i]\n    if (tab.getAttribute(\"misago-tab-group-tab\") === hash) {\n      return tab\n    }\n  }\n  return null\n}\n\nwindow.addEventListener(\"hashchange\", function () {\n  updateTabGroups(window.location.hash)\n})\n\nhtmx.onLoad(function () {\n  updateTabGroups(window.location.hash)\n})\n\nexport { updateTabGroups }\n","import htmx from \"htmx.org\"\nimport { Autocomplete, AnchorInput, SelectUser, sources } from \"./Autocomplete\"\n\nconst DATA_ATTRIBUTE_ELEMENT = \"m-user-multiple-choice\"\nconst DATA_ATTRIBUTE_INPUT = \"m-user-multiple-choice-input\"\n\nconst SELECTOR_ELEMENT = `[${DATA_ATTRIBUTE_ELEMENT}]`\nconst SELECTOR_INPUT = `[${DATA_ATTRIBUTE_INPUT}]`\n\nconst TEMPLATE_ID = \"m-user-multiple-choice-template\"\n\nconst CLASS_NAME_FOCUS = \"focused\"\n\nconst EVENT_FOCUS = [\"focusin\", \"click\"]\n\nconst KEY_OVERRIDE = {\n  Delete: false,\n  Space: false,\n  ArrowLeft: false,\n  ArrowRight: false,\n}\n\nclass UserMultipleChoice {\n  constructor() {\n    this.autocomplete = null\n    this.element = null\n    this.input = null\n    this.template = null\n  }\n\n  activate = (element) => {\n    if (element.getAttribute(DATA_ATTRIBUTE_ELEMENT) === \"true\") {\n      return\n    }\n\n    element.setAttribute(DATA_ATTRIBUTE_ELEMENT, \"true\")\n\n    this.element = element\n    this.maxChoices = Number(element.getAttribute(\"maxchoices\") || 1)\n    this.input = document.querySelector(SELECTOR_INPUT)\n    this.template = document.getElementById(TEMPLATE_ID)\n\n    this.updateInputDisabled()\n\n    function getQuery(control) {\n      const value = control.value.trim().replace(/\\s+/, \"\")\n      if (value.length) {\n        const exclude = []\n        element.querySelectorAll(\"[m-user-id]\").forEach(function (item) {\n          exclude.push(item.getAttribute(\"m-user-id\"))\n        })\n        return { exclude, value }\n      }\n      return null\n    }\n\n    const onSelect = (choice) => {\n      const item = this.template.content.cloneNode(true)\n\n      item.querySelector(\"li\").setAttribute(\"m-user-id\", choice.id)\n      item.querySelector(\"input\").value = choice.slug\n      item.querySelector('slot[name=\"username\"]').replaceWith(choice.username)\n\n      const avatars = choice.avatar\n        .filter(function ({ size }) {\n          return size >= 32\n        })\n        .reverse()\n\n      const img = item.querySelector(\"img\")\n      if (avatars.length) {\n        img.setAttribute(\"src\", avatars[0].url)\n      } else {\n        img.remove()\n      }\n\n      this.input.value = \"\"\n      this.input.parentElement.before(item)\n      this.updateInputDisabled()\n\n      if (!this.input.disabled) {\n        this.input.focus()\n      }\n\n      this.focus()\n    }\n\n    this.autocomplete = new Autocomplete({\n      control: this.input,\n      keyOverride: KEY_OVERRIDE,\n      source: sources.users,\n      select: new SelectUser({\n        anchor: new AnchorInput(this.input),\n        placement: \"bottom-start\",\n      }),\n      getQuery,\n      onSelect,\n    })\n\n    EVENT_FOCUS.forEach((eventName) => {\n      element.addEventListener(eventName, this.focus)\n    })\n\n    EVENT_FOCUS.forEach((eventName) => {\n      document.addEventListener(eventName, (event) => {\n        if (\n          !element.contains(event.target) &&\n          !this.autocomplete.isEventTarget(event)\n        ) {\n          this.blur()\n        }\n      })\n    })\n\n    this.element.addEventListener(\"click\", (event) => {\n      const button = event.target.closest(\"button\")\n      if (button) {\n        this.deleteItem(button.closest(\"li\"))\n      }\n      this.focus()\n    })\n\n    let backspacePressed = false\n\n    this.input.addEventListener(\"keydown\", (event) => {\n      if (event.key === \"Backspace\") {\n        if (!backspacePressed) {\n          backspacePressed = true\n          if (event.target.value.trim() === \"\") {\n            const lastItem = event.target.closest(\"li\").previousElementSibling\n            if (lastItem) {\n              this.deleteItem(lastItem)\n            }\n          }\n        }\n      }\n    })\n\n    this.input.addEventListener(\"keyup\", function (event) {\n      if (event.key === \"Backspace\") {\n        backspacePressed = false\n      }\n    })\n  }\n\n  focus = () => {\n    this.element.classList.add(CLASS_NAME_FOCUS)\n  }\n\n  blur = () => {\n    this.element.classList.remove(CLASS_NAME_FOCUS)\n  }\n\n  deleteItem = (element) => {\n    element.remove()\n    this.updateInputDisabled()\n  }\n\n  updateInputDisabled = () => {\n    this.input.disabled =\n      this.element.querySelectorAll(\"li\").length - 1 >= this.maxChoices\n  }\n}\n\nconst singleton = new UserMultipleChoice()\n\nhtmx.onLoad(function () {\n  const element = document.querySelector(SELECTOR_ELEMENT)\n  if (element) {\n    singleton.activate(element)\n  }\n})\n\nexport default singleton\n\nexport { UserMultipleChoice }\n","export function deleteElement(element, callback) {\n  element.classList.remove(\"animation-fade-in\")\n\n  element\n    .querySelectorAll(\"button, input, select, textarea\")\n    .forEach((child) => {\n      child.setAttribute(\"disabled\", \"\")\n    })\n\n  element.addEventListener(\"animationend\", ({ animationName }) => {\n    if (animationName === \"deleteElementAnimation\") {\n      element.remove()\n\n      if (callback) {\n        callback()\n      }\n    }\n  })\n\n  element.classList.add(\"animation-delete\")\n}\n\nexport function slideUpElement(element, options) {\n  element\n    .querySelectorAll(\"button, input, select, textarea\")\n    .forEach((child) => {\n      child.setAttribute(\"disabled\", \"\")\n    })\n\n  element.classList.add(\"animation-slide-up\")\n\n  const duration = (options && options.duration) || 350\n  const height = element.clientHeight\n  const opacity = element.style.opacity || 1\n\n  let start\n  element.style.overflow = \"hidden\"\n\n  function onFrame(timestamp) {\n    if (start === undefined) {\n      start = timestamp\n    }\n\n    const progress = Math.min((timestamp - start) / duration, 1)\n    const animation = Math.sin(((1 - progress) * Math.PI) / 2)\n\n    element.style.height = Math.floor(height * animation) + \"px\"\n    element.style.opacity = opacity * animation\n\n    if (progress < 1) {\n      requestAnimationFrame(onFrame)\n    } else {\n      element.remove()\n\n      if (options && options.callback) {\n        options.callback()\n      }\n    }\n  }\n\n  requestAnimationFrame(onFrame)\n}\n","function getClosestAttribute(target, name, default_) {\n  const element = target.closest(\"[\" + name + \"]\")\n  if (!element) {\n    return default_ || undefined\n  }\n\n  return element.getAttribute(name) || default_ || undefined\n}\n\nfunction getClosestBoolAttribute(target, name, default_) {\n  const attribute = getClosestAttribute(target, name)\n  if (attribute === \"false\") {\n    return false\n  }\n  if (attribute === \"true\") {\n    return true\n  }\n  return default_\n}\n\nexport { getClosestAttribute, getClosestBoolAttribute }\n","import React from \"react\"\n\nexport default class ApiFetch extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: null,\n      loading: false,\n      error: null,\n    }\n\n    this.controller = new AbortController()\n    this.signal = this.controller.signal\n  }\n\n  componentDidMount() {\n    if (this.props.url && !this.props.disabled) {\n      this.request(this.props.url)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const url = this.props.url\n    const urlChanged = url && url !== prevProps.url\n    const disabledChanged = this.props.disabled != prevProps.disabled\n\n    if (urlChanged || disabledChanged) {\n      if (!this.props.disabled) {\n        if (this.hasCache(url)) {\n          this.getCache(url)\n        } else {\n          this.controller.abort()\n\n          this.controller = new AbortController()\n          this.signal = this.controller.signal\n          this.request(url)\n        }\n      } else {\n        this.controller.abort()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.controller.abort()\n  }\n\n  hasCache = (url) => {\n    return this.props.cache && this.props.cache[url]\n  }\n\n  getCache = async (url) => {\n    const data = this.props.cache[url]\n    this.setState({ loading: false, error: null, data })\n    if (this.props.onData) {\n      await this.props.onData(data)\n    }\n  }\n\n  setCache = (url, data) => {\n    if (this.props.cache) {\n      this.props.cache[url] = data\n    }\n  }\n\n  request = (url) => {\n    this.setState({ loading: true })\n\n    fetch(url, {\n      method: \"GET\",\n      credentials: \"include\",\n      signal: this.signal,\n    }).then(\n      async (response) => {\n        if (url === this.props.url) {\n          if (response.status == 200) {\n            const data = await response.json()\n            this.setState({ loading: false, error: null, data })\n            this.setCache(url, data)\n            if (this.props.onData) {\n              await this.props.onData(data)\n            }\n          } else {\n            const error = { status: response.status }\n            if (response.headers.get(\"Content-Type\") === \"application/json\") {\n              error.data = await response.json()\n            }\n            this.setState({ loading: false, error })\n          }\n        }\n      },\n      (rejection) => {\n        if (url === this.props.url) {\n          this.setState({ loading: false, error: { status: 0, rejection } })\n        }\n      }\n    )\n  }\n\n  refetch = () => {\n    this.request(this.props.url)\n  }\n\n  update = (mutation) => {\n    this.setState((state) => {\n      return { data: mutation(state.data) }\n    })\n  }\n\n  render() {\n    return this.props.children(\n      Object.assign({ refetch: this.refetch, update: this.update }, this.state)\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class ApiMutation extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: null,\n      loading: false,\n      error: null,\n    }\n  }\n\n  mutate = (options) => {\n    this.setState({ loading: true })\n\n    fetch(this.props.url, {\n      method: this.props.method || \"POST\",\n      credentials: \"include\",\n      headers: headers(options),\n      body: body(options),\n    }).then(\n      async (response) => {\n        if (response.status == 200) {\n          const data = await response.json()\n          this.setState({ loading: false, data })\n          if (options.onSuccess) {\n            await options.onSuccess(data)\n          }\n        } else if (response.status == 204) {\n          this.setState({ loading: false })\n          if (options.onSuccess) {\n            await options.onSuccess()\n          }\n        } else {\n          const error = { status: response.status }\n          if (response.headers.get(\"Content-Type\") === \"application/json\") {\n            error.data = await response.json()\n          }\n          this.setState({ loading: false, error })\n          if (options.onError) {\n            await options.onError(error)\n          }\n        }\n      },\n      async (rejection) => {\n        const error = { status: 0, rejection }\n        this.setState({ loading: false, error })\n        if (options.onError) {\n          await options.onError(error)\n        }\n      }\n    )\n  }\n\n  render() {\n    return this.props.children(this.mutate, this.state)\n  }\n}\n\nfunction headers(options) {\n  if (!!options.json) {\n    return {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      \"X-CSRFToken\": csrfToken(),\n    }\n  }\n\n  return {\n    \"X-CSRFToken\": csrfToken(),\n  }\n}\n\nfunction body(options) {\n  if (!!options.json) {\n    return JSON.stringify(options.json)\n  }\n\n  return undefined\n}\n\nfunction csrfToken() {\n  const cookieName = window.misago_csrf\n\n  if (document.cookie.indexOf(cookieName) !== -1) {\n    const cookieRegex = new RegExp(cookieName + \"=([^;]*)\")\n    const cookie = document.cookie.match(cookieRegex)[0]\n    return cookie ? cookie.split(\"=\")[1] : null\n  } else {\n    return null\n  }\n}\n","import ApiFetch from \"./ApiFetch\"\nimport ApiMutation from \"./ApiMutation\"\n\nexport { ApiFetch, ApiMutation }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Breadcrumbs = ({ children, className }) => (\n  <ul className={classnames(\"breadcrumbs\", className)}>{children}</ul>\n)\n\nexport default Breadcrumbs\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span\n        className=\"material-icon\"\n        style={{ color: category.color || \"inherit\" }}\n      >\n        label\n      </span>\n      {!!category.short_name && (\n        <span\n          className=\"breadcrumbs-item-name hidden-sm hidden-md hidden-lg\"\n          title={category.name}\n        >\n          {category.short_name}\n        </span>\n      )}\n      {!!category.short_name && (\n        <span className=\"breadcrumbs-item-name hidden-xs\">{category.name}</span>\n      )}\n      {!category.short_name && (\n        <span className=\"breadcrumbs-item-name\">{category.name}</span>\n      )}\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsCategory\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsRootCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span className=\"material-icon\">chevron_right</span>\n      <span className=\"breadcrumbs-item-name\">\n        {category.special_role === \"root_category\"\n          ? pgettext(\"breadcrumb\", \"Threads\")\n          : pgettext(\"breadcrumb\", \"Private threads\")}\n      </span>\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsRootCategory\n","import Breadcrumbs from \"./Breadcrumbs\"\nimport BreadcrumbsCategory from \"./BreadcrumbsCategory\"\nimport BreadcrumbsRootCategory from \"./BreadcrumbsRootCategory\"\n\nexport { Breadcrumbs, BreadcrumbsCategory, BreadcrumbsRootCategory }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default class Dropdown extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isOpen: false,\n    }\n\n    this.root = null\n    this.dropdown = null\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"click\", this.handleClick)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"click\", this.handleClick)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const didUpdate = prevState.isOpen !== this.state.isOpen\n    if (didUpdate) {\n      if (this.state.isOpen && this.props.onOpen) {\n        this.props.onOpen(this.root)\n      }\n\n      if (!this.state.isOpen && this.props.onClose) {\n        this.props.onClose(this.root)\n      }\n    }\n  }\n\n  handleClick = (event) => {\n    if (\n      this.state.isOpen &&\n      (!this.root.contains(event.target) ||\n        (this.menu.contains(event.target) && event.target.closest(\"a\")))\n    ) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  toggle = () => {\n    this.setState((prevState) => {\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  close = () => {\n    this.setState({ isOpen: false })\n  }\n\n  render() {\n    const { isOpen } = this.state\n\n    return (\n      <div\n        id={this.props.id}\n        className={classnames(\n          \"dropdown\",\n          { open: isOpen },\n          this.props.className\n        )}\n        ref={(element) => {\n          if (element && !this.element) {\n            this.root = element\n          }\n        }}\n      >\n        {this.props.toggle({\n          isOpen,\n          toggle: this.toggle,\n          aria: ariaProps(isOpen),\n        })}\n        <div\n          className={classnames(\n            \"dropdown-menu\",\n            { \"dropdown-menu-right\": this.props.menuAlignRight },\n            this.props.menuClassName\n          )}\n          ref={(element) => {\n            if (element && !this.menu) {\n              this.menu = element\n            }\n          }}\n          role=\"menu\"\n        >\n          {this.props.children({ isOpen, close: this.close })}\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction ariaProps(isOpen) {\n  return {\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen ? \"true\" : \"false\",\n  }\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownDivider({ className }) {\n  return <li className={classnames(\"divider\", className)}></li>\n}\n","import React from \"react\"\n\nexport default function DropdownFooter({ children, listItem }) {\n  if (listItem) {\n    return <li className=\"dropdown-footer\">{children}</li>\n  }\n\n  return <div className=\"dropdown-footer\">{children}</div>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownHeader({ className, children }) {\n  return (\n    <div className={classnames(\"dropdown-header\", className)}>{children}</div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownMenuItem({ className, children }) {\n  return (\n    <li className={classnames(\"dropdown-menu-item\", className)}>{children}</li>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownPills({ className, children }) {\n  return (\n    <div className={classnames(\"dropdown-pills\", className)}>{children}</div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownSubheader({ className, children }) {\n  return (\n    <li className={classnames(\"dropdown-subheader\", className)}>{children}</li>\n  )\n}\n","import Dropdown from \"./Dropdown\"\nimport DropdownDivider from \"./DropdownDivider\"\nimport DropdownFooter from \"./DropdownFooter\"\nimport DropdownHeader from \"./DropdownHeader\"\nimport DropdownMenuItem from \"./DropdownMenuItem\"\nimport DropdownPills from \"./DropdownPills\"\nimport DropdownSubheader from \"./DropdownSubheader\"\n\nexport {\n  Dropdown,\n  DropdownDivider,\n  DropdownFooter,\n  DropdownHeader,\n  DropdownMenuItem,\n  DropdownPills,\n  DropdownSubheader,\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRow = ({ children, className }) => (\n  <div className={classnames(\"flex-row\", className)}>{children}</div>\n)\n\nexport default FlexRow\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowCol = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"flex-row-col\", className, {\n      \"flex-row-col-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowCol\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"flex-row-section\",\n      { \"flex-row-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowSection\n","import FlexRow from \"./FlexRow\"\nimport FlexRowCol from \"./FlexRowCol\"\nimport FlexRowSection from \"./FlexRowSection\"\n\nexport { FlexRow, FlexRowCol, FlexRowSection }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function ListGroup({ className, children }) {\n  return <ul className={classnames(\"list-group\", className)}>{children}</ul>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupEmpty({ className, icon, message }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-empty\", className)}>\n      {!!icon && (\n        <div className=\"list-group-empty-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-empty-message\">{message}</p>\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupError({ className, icon, message, detail }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-error\", className)}>\n      {!!icon && (\n        <div className=\"list-group-error-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-error-message\">{message}</p>\n      {!!detail && <p className=\"list-group-error-detail\">{detail}</p>}\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function ListGroupItem({ className, children }) {\n  return (\n    <li className={classnames(\"list-group-item\", className)}>{children}</li>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupLoading({ className, message }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-loading\", className)}>\n      <p className=\"list-group-loading-message\">{message}</p>\n      <div className=\"list-group-loading-progress\">\n        <div className=\"list-group-loading-progress-bar\"></div>\n      </div>\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupMessage({ className, icon, message, detail }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-message\", className)}>\n      {!!icon && (\n        <div className=\"list-group-message-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-message-message\">{message}</p>\n      {!!detail && <p className=\"list-group-message-detail\">{detail}</p>}\n    </ListGroupItem>\n  )\n}\n","import ListGroup from \"./ListGroup\"\nimport ListGroupEmpty from \"./ListGroupEmpty\"\nimport ListGroupError from \"./ListGroupError\"\nimport ListGroupItem from \"./ListGroupItem\"\nimport ListGroupLoading from \"./ListGroupLoading\"\nimport ListGroupMessage from \"./ListGroupMessage\"\n\nexport {\n  ListGroup,\n  ListGroupEmpty,\n  ListGroupError,\n  ListGroupItem,\n  ListGroupLoading,\n  ListGroupMessage,\n}\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupAttachmentModal({ attachment }) {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup editor\", \"Attachment details\")}\n          </h4>\n        </div>\n        <div className=\"modal-body\">\n          {!!attachment.is_image && (\n            <div className=\"markup-editor-attachment-modal-preview\">\n              <a href={attachment.url.index + \"?shva=1\"} target=\"_blank\">\n                <img src={attachment.url.index + \"?shva=1\"} alt=\"\" />\n              </a>\n            </div>\n          )}\n          <div className=\"markup-editor-attachment-modal-filename\">\n            {attachment.filename}\n          </div>\n          <div className=\"row markup-editor-attachment-modal-details\">\n            <div className=\"col-xs-12 col-md-3\">\n              <strong>\n                {attachment.filetype + \", \" + formatFilesize(attachment.size)}\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Type and size\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-4\">\n              <strong>\n                <abbr title={attachment.uploaded_on.format(\"LLL\")}>\n                  {attachment.uploaded_on.fromNow()}\n                </abbr>\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploaded at\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-3\">\n              {attachment.url.uploader ? (\n                <a\n                  href={attachment.url.uploader}\n                  target=\"_blank\"\n                  className=\"item-title\"\n                >\n                  {attachment.uploader_name}\n                </a>\n              ) : (\n                <span className=\"item-title\">{attachment.uploader_name}</span>\n              )}\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploader\")}</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupCodeModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      syntax: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const syntax = this.state.syntax.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    replaceSelection(\n      Object.assign({}, selection, { text }),\n      update,\n      prefix + \"```\" + syntax + \"\\n\" + text + \"\\n```\\n\\n\"\n    )\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Code\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_code_syntax\"\n                label={pgettext(\"markup editor\", \"Syntax highlighting\")}\n              >\n                <select\n                  id=\"markup_code_syntax\"\n                  className=\"form-control\"\n                  value={this.state.syntax}\n                  onChange={(event) =>\n                    this.setState({ syntax: event.target.value })\n                  }\n                >\n                  <option value=\"\">\n                    {pgettext(\"markup editor\", \"No syntax highlighting\")}\n                  </option>\n                  {LANGUAGES.map(({ value, name }) => (\n                    <option key={value} value={value}>\n                      {name}\n                    </option>\n                  ))}\n                </select>\n              </FormGroup>\n              <FormGroup\n                for=\"markup_code_text\"\n                label={pgettext(\"markup editor\", \"Code to insert\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_code_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert code\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst LANGUAGES = [\n  { value: \"bash\", name: \"Bash\" },\n  { value: \"c\", name: \"C\" },\n  { value: \"c#\", name: \"C#\" },\n  { value: \"c++\", name: \"C++\" },\n  { value: \"css\", name: \"CSS\" },\n  { value: \"diff\", name: \"Diff\" },\n  { value: \"go\", name: \"Go\" },\n  { value: \"graphql\", name: \"GraphQL\" },\n  { value: \"html,\", name: \"HTML\" },\n  { value: \"xml\", name: \"XML\" },\n  { value: \"json\", name: \"JSON\" },\n  { value: \"java\", name: \"Java\" },\n  { value: \"javascript\", name: \"JavaScript\" },\n  { value: \"kotlin\", name: \"Kotlin\" },\n  { value: \"less\", name: \"Less\" },\n  { value: \"lua\", name: \"Lua\" },\n  { value: \"makefile\", name: \"Makefile\" },\n  { value: \"markdown\", name: \"Markdown\" },\n  { value: \"objective-C\", name: \"Objective-C\" },\n  { value: \"php\", name: \"PHP\" },\n  { value: \"perl\", name: \"Perl\" },\n  { value: \"plain\", name: \"Plain\" },\n  { value: \"text\", name: \"text\" },\n  { value: \"python\", name: \"Python\" },\n  { value: \"repl\", name: \"REPL\" },\n  { value: \"r\", name: \"R\" },\n  { value: \"ruby\", name: \"Ruby\" },\n  { value: \"rust\", name: \"Rust\" },\n  { value: \"scss\", name: \"SCSS\" },\n  { value: \"sql\", name: \"SQL\" },\n  { value: \"shell\", name: \"Shell Session\" },\n  { value: \"swift\", name: \"Swift\" },\n  { value: \"toml\", name: \"TOML\" },\n  { value: \"ini\", name: \"INI\" },\n  { value: \"typescript\", name: \"TypeScript\" },\n  { value: \"visualbasic\", name: \"Visual Basic .NET\" },\n  { value: \"webassembly\", name: \"WebAssembly\" },\n  { value: \"yaml\", name: \"YAML\" },\n]\n\nexport default MarkupCodeModal\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport MisagoMarkup from \"../misago-markup\"\nimport MarkupEditorAttachments from \"./MarkupEditorAttachments\"\nimport MarkupEditorFooter from \"./MarkupEditorFooter\"\nimport MarkupEditorToolbar from \"./MarkupEditorToolbar\"\nimport uploadFile from \"./uploadFile\"\n\nclass MarkupEditor extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      element: null,\n      focused: false,\n      loading: false,\n      preview: false,\n      parsed: null,\n    }\n  }\n\n  showPreview = () => {\n    if (this.state.loading) return\n\n    this.setState({ loading: true, preview: true, element: null })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        this.setState({ loading: false, parsed: data.parsed })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({ loading: false, preview: false })\n      }\n    )\n  }\n\n  closePreview = () => {\n    this.setState({ loading: false, preview: false })\n  }\n\n  onDrop = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (!event.dataTransfer.files) return\n\n    const { onAttachmentsChange: setState } = this.props\n\n    if (misago.get(\"user\").acl.max_attachment_size) {\n      for (let i = 0; i < event.dataTransfer.files.length; i++) {\n        const file = event.dataTransfer.files[i]\n        uploadFile(file, setState)\n      }\n    }\n  }\n\n  onPaste = (event) => {\n    const { onAttachmentsChange: setState } = this.props\n\n    const files = []\n    for (let i = 0; i < event.clipboardData.items.length; i++) {\n      const item = event.clipboardData.items[i]\n      if (item.kind === \"file\") {\n        files.push(item.getAsFile())\n      }\n    }\n\n    if (files.length) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (misago.get(\"user\").acl.max_attachment_size) {\n        for (let i = 0; i < files.length; i++) {\n          uploadFile(files[i], setState)\n        }\n      }\n    }\n  }\n\n  render = () => (\n    <div\n      className={classnames(\"markup-editor\", {\n        \"markup-editor-focused\": this.state.focused && !this.state.preview,\n      })}\n    >\n      <MarkupEditorToolbar\n        disabled={this.props.disabled || this.state.preview}\n        element={this.state.element}\n        update={(value) => this.props.onChange({ target: { value } })}\n        updateAttachments={this.props.onAttachmentsChange}\n      />\n      {this.state.preview ? (\n        <div className=\"markup-editor-preview\">\n          {this.state.loading ? (\n            <div className=\"markup-editor-preview-loading\">\n              <div className=\"ui-preview\">\n                <span className=\"ui-preview-text\" style={{ width: \"240px\" }} />\n              </div>\n            </div>\n          ) : (\n            <MisagoMarkup\n              className=\"markup-editor-preview-contents\"\n              markup={this.state.parsed}\n            />\n          )}\n        </div>\n      ) : (\n        <textarea\n          className=\"markup-editor-textarea form-control\"\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          disabled={this.props.disabled || this.state.loading}\n          rows={6}\n          ref={(element) => {\n            if (element && this.state.element !== element) {\n              this.setState({ element })\n              setMentions(this.props, element)\n            }\n          }}\n          onChange={this.props.onChange}\n          onDrop={this.onDrop}\n          onFocus={() => this.setState({ focused: true })}\n          onPaste={this.onPaste}\n          onBlur={() => this.setState({ focused: false })}\n        />\n      )}\n      {this.props.attachments.length > 0 && (\n        <MarkupEditorAttachments\n          attachments={this.props.attachments}\n          disabled={this.props.disabled || this.state.preview}\n          element={this.state.element}\n          setState={this.props.onAttachmentsChange}\n          update={(value) => this.props.onChange({ target: { value } })}\n        />\n      )}\n      <MarkupEditorFooter\n        preview={this.state.preview}\n        canProtect={this.props.canProtect}\n        isProtected={this.props.isProtected}\n        disabled={this.props.disabled}\n        empty={\n          this.props.value.trim().length <\n            misago.get(\"SETTINGS\").post_length_min || this.state.loading\n        }\n        enableProtection={this.props.enableProtection}\n        disableProtection={this.props.disableProtection}\n        showPreview={this.showPreview}\n        closePreview={this.closePreview}\n        submitText={this.props.submitText}\n      />\n    </div>\n  )\n}\n\nfunction setMentions(props, element) {\n  $(element).atwho({\n    at: \"@\",\n    displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n    insertTpl: \"@${username}\",\n    searchKey: \"username\",\n    callbacks: {\n      remoteFilter: function (query, callback) {\n        $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n      },\n    },\n  })\n\n  $(element).on(\"inserted.atwho\", (event, _storage, source, controller) => {\n    const { query } = controller\n    const username = source.target.innerText.trim()\n    const prefix = event.target.value.substr(0, query.headPos)\n    const suffix = event.target.value.substr(query.endPos)\n\n    event.target.value = prefix + username + suffix\n    props.onChange(event)\n\n    const caret = query.headPos + username.length\n    event.target.setSelectionRange(caret, caret)\n    event.target.focus()\n  })\n}\n\nexport default MarkupEditor\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\nimport MarkupAttachmentModal from \"./MarkupAttachmentModal\"\nimport { getSelection, replaceSelection } from \"./operations\"\n\nconst MarkupEditorAttachment = ({\n  attachment,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments-item\">\n    <div className=\"markup-editor-attachment\">\n      <div className=\"markup-editor-attachment-details\">\n        {attachment.id ? (\n          <a\n            className=\"item-title\"\n            href={attachment.url.index + \"?shva=1\"}\n            target=\"_blank\"\n            onClick={(event) => {\n              event.preventDefault()\n              modal.show(<MarkupAttachmentModal attachment={attachment} />)\n            }}\n          >\n            {attachment.filename}\n          </a>\n        ) : (\n          <strong className=\"item-title\">{attachment.filename}</strong>\n        )}\n        <div className=\"text-muted\">\n          <ul className=\"list-unstyled list-inline\">\n            {!attachment.id && <li>{attachment.progress + \"%\"}</li>}\n            {!!attachment.filetype && <li>{attachment.filetype}</li>}\n            {attachment.size > 0 && <li>{formatFilesize(attachment.size)}</li>}\n          </ul>\n        </div>\n      </div>\n      {!!attachment.id && (\n        <div className=\"markup-editor-attachment-buttons\">\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Insert into message\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              const markup = getAttachmentMarkup(attachment)\n              const selection = getSelection(element)\n              replaceSelection(selection, update, markup)\n            }}\n          >\n            <span className=\"material-icon\">flip_to_front</span>\n          </button>\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                const confirm = window.confirm(\n                  pgettext(\"markup editor\", \"Remove this attachment?\")\n                )\n\n                if (confirm) {\n                  return {\n                    attachments: attachments.filter(\n                      ({ id }) => id !== attachment.id\n                    ),\n                  }\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n      {!attachment.id && !!attachment.key && (\n        <div className=\"markup-editor-attachment-buttons\">\n          {attachment.error && (\n            <button\n              className=\"btn btn-markup-editor-attachment btn-icon\"\n              title={pgettext(\"markup editor\", \"See error\")}\n              type=\"button\"\n              onClick={() => {\n                snackbar.error(\n                  interpolate(\n                    pgettext(\"markup editor\", \"%(filename)s: %(error)s\"),\n                    { filename: attachment.filename, error: attachment.error },\n                    true\n                  )\n                )\n              }}\n            >\n              <span className=\"material-icon\">warning</span>\n            </button>\n          )}\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                return {\n                  attachments: attachments.filter(\n                    ({ key }) => key !== attachment.key\n                  ),\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachment\n\nfunction getAttachmentMarkup(attachment) {\n  let markup = \"[\"\n\n  if (attachment.is_image) {\n    markup += \"![\" + attachment.filename + \"]\"\n    markup += \"(\" + (attachment.url.thumb || attachment.url.index) + \"?shva=1)\"\n  } else {\n    markup += attachment.filename\n  }\n\n  markup += \"](\" + attachment.url.index + \"?shva=1)\"\n  return markup\n}\n","import React from \"react\"\nimport MarkupEditorAttachment from \"./MarkupEditorAttachment\"\n\nconst MarkupEditorAttachments = ({\n  attachments,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments\">\n    <div className=\"markup-editor-attachments-container\">\n      {attachments.map((attachment) => (\n        <MarkupEditorAttachment\n          key={attachment.key || attachment.id}\n          attachment={attachment}\n          disabled={disabled}\n          element={element}\n          setState={setState}\n          update={update}\n        />\n      ))}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachments\n","import React from \"react\"\n\nconst MarkupEditorButton = ({ disabled, icon, title, onClick }) => (\n  <button\n    className=\"btn btn-markup-editor\"\n    title={title}\n    type=\"button\"\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">{icon}</span>\n  </button>\n)\n\nexport default MarkupEditorButton\n","import React from \"react\"\nimport Button from \"../button\"\n\nconst MarkupEditorFooter = ({\n  canProtect,\n  disabled,\n  empty,\n  preview,\n  isProtected,\n  submitText,\n  showPreview,\n  closePreview,\n  enableProtection,\n  disableProtection,\n}) => (\n  <div className=\"markup-editor-footer\">\n    {!!canProtect && (\n      <Button\n        className=\"btn-default btn-icon hidden-sm hidden-md hidden-lg\"\n        title={\n          isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")\n        }\n        type=\"button\"\n        disabled={disabled}\n        onClick={() => {\n          if (isProtected) {\n            disableProtection()\n          } else {\n            enableProtection()\n          }\n        }}\n      >\n        <span className=\"material-icon\">\n          {isProtected ? \"lock\" : \"lock_open\"}\n        </span>\n      </Button>\n    )}\n    {!!canProtect && (\n      <div>\n        <Button\n          className=\"btn-default hidden-xs\"\n          type=\"button\"\n          disabled={disabled}\n          onClick={() => {\n            if (isProtected) {\n              disableProtection()\n            } else {\n              enableProtection()\n            }\n          }}\n        >\n          <span className=\"material-icon\">\n            {isProtected ? \"lock\" : \"lock_open\"}\n          </span>\n          {isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")}\n        </Button>\n      </div>\n    )}\n    <div className=\"markup-editor-spacer\" />\n    {preview ? (\n      <Button\n        className=\"btn-default btn-auto\"\n        type=\"button\"\n        onClick={closePreview}\n      >\n        {pgettext(\"markup editor\", \"Edit\")}\n      </Button>\n    ) : (\n      <Button\n        className=\"btn-default btn-auto\"\n        disabled={disabled || empty}\n        type=\"button\"\n        onClick={showPreview}\n      >\n        {pgettext(\"markup editor\", \"Preview\")}\n      </Button>\n    )}\n    <Button className=\"btn-primary btn-auto\" disabled={disabled || empty}>\n      {submitText || pgettext(\"markup editor\", \"Post\")}\n    </Button>\n  </div>\n)\n\nexport default MarkupEditorFooter\n","import React from \"react\"\nimport misago from \"../../\"\nimport modal from \"../../services/modal\"\nimport MarkupCodeModal from \"./MarkupCodeModal\"\nimport MarkupFormattingHelpModal from \"./MarkupFormattingHelpModal\"\nimport MarkupImageModal from \"./MarkupImageModal\"\nimport MarkupLinkModal from \"./MarkupLinkModal\"\nimport MarkupQuoteModal from \"./MarkupQuoteModal\"\nimport MarkupEditorButton from \"./MarkupEditorButton\"\nimport { getSelection, replaceSelection, wrapSelection } from \"./operations\"\nimport uploadFile from \"./uploadFile\"\n\nconst MarkupEditorToolbar = ({\n  disabled,\n  element,\n  update,\n  updateAttachments,\n}) => {\n  const actions = [\n    {\n      name: pgettext(\"markup editor\", \"Strong\"),\n      icon: \"format_bold\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"**\",\n          \"**\",\n          pgettext(\"example markup\", \"Strong text\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Emphasis\"),\n      icon: \"format_italic\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"*\",\n          \"*\",\n          pgettext(\"example markup\", \"Text with emphasis\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Strikethrough\"),\n      icon: \"format_strikethrough\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"~~\",\n          \"~~\",\n          pgettext(\"example markup\", \"Text with strikethrough\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Horizontal ruler\"),\n      icon: \"remove\",\n      onClick: () => {\n        replaceSelection(getSelection(element), update, \"\\n\\n- - -\\n\\n\")\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Link\"),\n      icon: \"insert_link\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupLinkModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Image\"),\n      icon: \"insert_photo\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupImageModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Quote\"),\n      icon: \"format_quote\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupQuoteModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Spoiler\"),\n      icon: \"visibility_off\",\n      onClick: () => {\n        insertSpoiler(element, update)\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Code\"),\n      icon: \"code\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupCodeModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n  ]\n\n  if (misago.get(\"user\").acl.max_attachment_size) {\n    actions.push({\n      name: pgettext(\"markup editor\", \"Upload file\"),\n      icon: \"file_upload\",\n      onClick: () => uploadFiles(updateAttachments),\n    })\n  }\n\n  return (\n    <div className=\"markup-editor-toolbar\">\n      <div className=\"markup-editor-toolbar-left\">\n        {actions.map(({ name, icon, onClick }) => (\n          <MarkupEditorButton\n            key={icon}\n            title={name}\n            icon={icon}\n            disabled={disabled || !element}\n            onClick={onClick}\n          />\n        ))}\n      </div>\n      <div className=\"markup-editor-toolbar-right\">\n        <div className=\"markup-editor-controls-dropdown\">\n          <button\n            type=\"button\"\n            className=\"btn btn-markup-editor dropdown-toggle\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n            disabled={disabled || !element}\n          >\n            <span className=\"material-icon\">more_vert</span>\n          </button>\n          <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n            {actions.map(({ name, icon, onClick }) => (\n              <li key={icon}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  disabled={disabled || !element}\n                  onClick={onClick}\n                >\n                  <span className=\"material-icon\">{icon}</span>\n                  {name}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <MarkupEditorButton\n          title={pgettext(\"markup editor\", \"Open formatting help\")}\n          icon=\"help_outline\"\n          onClick={() => {\n            modal.show(<MarkupFormattingHelpModal />)\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst insertSpoiler = (element, update) => {\n  const selection = getSelection(element)\n  const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n  wrapSelection(\n    selection,\n    update,\n    prefix + \"[spoiler]\\n\",\n    \"\\n[/spoiler]\\n\\n\",\n    pgettext(\"markup editor\", \"Spoiler text\")\n  )\n}\n\nconst uploadFiles = (setState) => {\n  const input = document.createElement(\"input\")\n  input.type = \"file\"\n  input.multiple = \"multiple\"\n\n  input.addEventListener(\"change\", function () {\n    for (let i = 0; i < input.files.length; i++) {\n      uploadFile(input.files[i], setState)\n    }\n  })\n\n  input.click()\n}\n\nexport default MarkupEditorToolbar\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupFormattingHelpModal() {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup help\", \"Formatting help\")}\n          </h4>\n        </div>\n        <div className=\"modal-body formatting-help\">\n          <h4>{pgettext(\"markup help\", \"Emphasis text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"_This text will have emphasis_\")}\n            result={\n              <p>\n                <em>\n                  {pgettext(\"markup help\", \"This text will have emphasis\")}\n                </em>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"**This text will be bold**\")}\n            result={\n              <p>\n                <strong>\n                  {pgettext(\"markup help\", \"This text will be bold\")}\n                </strong>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Removed text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"~~This text will be removed~~\")}\n            result={\n              <p>\n                <del>\n                  {pgettext(\"markup help\", \"This text will be removed\")}\n                </del>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"[b]This text will be bold[/b]\")}\n            result={\n              <p>\n                <b>{pgettext(\"markup help\", \"This text will be bold\")}</b>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Underlined text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[u]This text will be underlined[/u]\"\n            )}\n            result={\n              <p>\n                <u>{pgettext(\"markup help\", \"This text will be underlined\")}</u>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Italics text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[i]This text will be in italics[/i]\"\n            )}\n            result={\n              <p>\n                <i>{pgettext(\"markup help\", \"This text will be in italics\")}</i>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link\")}</h4>\n          <ExampleFormatting\n            markup=\"<http://example.com>\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"](http://example.com)\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[url]http://example.com[/url]\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[url=http://example.com]\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"[/url]\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image\")}</h4>\n          <ExampleFormatting\n            markup=\"!(http://dummyimage.com/38/38)\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://dummyimage.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image with alternate text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"![\" +\n              pgettext(\"markup help\", \"Image text\") +\n              \"](http://dummyimage.com/38/38)\"\n            }\n            result={\n              <p>\n                <img\n                  alt={pgettext(\"markup help\", \"Image text\")}\n                  src=\"http://dummyimage.com/38/38\"\n                />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[img]http://dummyimage.com/38/38[/img]\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://dummyimage.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Mention user by their name\")}</h4>\n          <ExampleFormatting\n            markup=\"@username\"\n            result={\n              <p>\n                <a href=\"#\">@username</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 1\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"# First level heading\")}\n            result={<h1>{pgettext(\"markup help\", \"First level heading\")}</h1>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 2\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"## Second level heading\")}\n            result={<h2>{pgettext(\"markup help\", \"Second level heading\")}</h2>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 3\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"### Third level heading\")}\n            result={<h3>{pgettext(\"markup help\", \"Third level heading\")}</h3>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 4\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"#### Fourth level heading\")}\n            result={<h4>{pgettext(\"markup help\", \"Fourth level heading\")}</h4>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 5\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"##### Fifth level heading\")}\n            result={<h5>{pgettext(\"markup help\", \"Fifth level heading\")}</h5>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Unordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"- Lorem ipsum\\n- Dolor met\\n- Vulputate lectus\"}\n            result={\n              <ul>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ul>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Ordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"1. Lorem ipsum\\n2. Dolor met\\n3. Vulputate lectus\"}\n            result={\n              <ol>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ol>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text\")}</h4>\n          <ExampleFormatting\n            markup={\"> \" + pgettext(\"markup help\", \"Quoted text\")}\n            result={\n              <blockquote>\n                <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n              </blockquote>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[quote]\\n\" +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {gettext(\"Quoted message:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text with author (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              '[quote=\"' +\n              pgettext(\"markup help\", \"Quote author\") +\n              '\"]\\n' +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {pgettext(\"markup help\", \"Quote author has written:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Spoiler\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[spoiler]\\n\" +\n              pgettext(\"markup help\", \"Secret text\") +\n              \"\\n[/spoiler]\"\n            }\n            result={\n              <ExampleFormattingSpoiler>\n                {pgettext(\"markup help\", \"Secret text\")}\n              </ExampleFormattingSpoiler>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Inline code\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"`Inline code`\")}\n            result={\n              <p>\n                <code>{pgettext(\"markup help\", \"Inline code\")}</code>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block\")}</h4>\n          <ExampleFormatting\n            markup={\"```\\nalert\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\"markup help\", \"Code block with syntax highlighting\")}\n          </h4>\n          <ExampleFormatting\n            markup={\"```python\\nprint\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"[code]\\nalert\" + '(\"Hello world!\");' + \"\\n[/code]\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\n              \"markup help\",\n              \"Code block with syntax highlighting (BBCode)\"\n            )}\n          </h4>\n          <ExampleFormatting\n            markup={\n              '[code=\"python\"]\\nprint' + '(\"Hello world!\");' + \"\\n[/code]\"\n            }\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n- - -\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n[hr]\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction ExampleFormatting({ markup, result }) {\n  return (\n    <div className=\"formatting-help-item\">\n      <div className=\"formatting-help-item-markup\">\n        <pre>\n          <code>{markup}</code>\n        </pre>\n      </div>\n      <div className=\"formatting-help-item-preview\">\n        <article className=\"misago-markup\">{result}</article>\n      </div>\n    </div>\n  )\n}\n\nclass ExampleFormattingSpoiler extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      reveal: false,\n    }\n  }\n\n  render() {\n    return (\n      <aside\n        className={\n          this.state.reveal ? \"spoiler-block revealed\" : \"spoiler-block\"\n        }\n      >\n        <blockquote className=\"spoiler-body\">\n          <p>{this.props.children}</p>\n        </blockquote>\n        {!this.state.reveal && (\n          <div className=\"spoiler-overlay\">\n            <button\n              className=\"spoiler-reveal\"\n              type=\"button\"\n              onClick={() => {\n                this.setState({ reveal: true })\n              }}\n            >\n              {gettext(\"Reveal spoiler\")}\n            </button>\n          </div>\n        )}\n      </aside>\n    )\n  }\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport isUrl from \"./isUrl\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupImageModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"![\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"!(\" + url + \")\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Image\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_image_text\"\n                label={pgettext(\"markup editor\", \"Image description\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional but recommended . Will be displayed instead of image when it fails to load.\"\n                )}\n              >\n                <input\n                  id=\"markup_image_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_image_url\"\n                label={pgettext(\"markup editor\", \"Image URL\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_image_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  placeholder=\"http://domain.com/image.png\"\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert image\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupImageModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport isUrl from \"./isUrl\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupLinkModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"[\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"<\" + url + \">\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Link\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link text\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional. Will be displayed instead of link's address.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert link\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupLinkModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupQuoteModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      author: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const author = this.state.author.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    if (author) {\n      replaceSelection(\n        selection,\n        update,\n        prefix + '[quote=\"' + author + '\"]\\n' + text + \"\\n[/quote]\\n\\n\"\n      )\n    } else {\n      replaceSelection(\n        selection,\n        update,\n        prefix + \"[quote]\\n\" + text + \"\\n[/quote]\\n\\n\"\n      )\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Quote\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_quote_author\"\n                label={pgettext(\"markup editor\", \"Quote's author or source\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  'Optional. If it\\'s username, put \"@\" before it (\"@JohnDoe\").'\n                )}\n              >\n                <input\n                  id=\"markup_quote_author\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.author}\n                  onChange={(event) =>\n                    this.setState({ author: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_quote_text\"\n                label={pgettext(\"markup editor\", \"Quoted text\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_quote_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert quote\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupQuoteModal\n","import MarkupEditor from \"./MarkupEditor\"\n\nexport default MarkupEditor\n","const URL_PATTERN = new RegExp(\"^(((ftps?)|(https?))://)\", \"i\")\n\nexport default function isUrl(str) {\n  return URL_PATTERN.test(str.trim())\n}\n","const wrapSelection = (selection, update, prefix, suffix, def) => {\n  const text = selection.text || def || \"\"\n  let newValue = selection.prefix\n  newValue += prefix + text + suffix\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.start + prefix.length\n    selection.textarea.setSelectionRange(caret, caret + text.length)\n  }, 250)\n}\n\nconst replaceSelection = (selection, update, text) => {\n  let newValue = selection.prefix\n  newValue += text\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.end + text.length\n    selection.textarea.setSelectionRange(caret, caret)\n  }, 250)\n}\n\nconst getSelection = (textarea) => {\n  if (document.selection) {\n    textarea.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -textarea.value.length)\n    return createRange(textarea, range.text.length - length, range.text.length)\n  }\n\n  if (textarea.selectionStart || textarea.selectionStart == \"0\") {\n    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd)\n  }\n}\n\nconst createRange = (textarea, start, end) => {\n  return {\n    textarea: textarea,\n    start: start,\n    end: end,\n    text: textarea.value.substring(start, end),\n    prefix: textarea.value.substring(0, start),\n    suffix: textarea.value.substring(end),\n  }\n}\n\nexport function focus(textarea) {\n  const scroll = textarea.scrollTop\n  textarea.focus()\n  textarea.scrollTop = scroll\n}\n\nexport { getSelection, replaceSelection, wrapSelection }\n","import moment from \"moment\"\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\nimport getRandomString from \"../../utils/getRandomString\"\n\nconst ID_LEN = 32\n\nconst uploadFile = (file, setState) => {\n  const maxSize = misago.get(\"user\").acl.max_attachment_size * 1024\n\n  if (file.size > maxSize) {\n    snackbar.error(\n      interpolate(\n        pgettext(\n          \"markup editor\",\n          \"File %(filename)s is bigger than %(limit)s.\"\n        ),\n        { filename: file.name, limit: formatFilesize(maxSize) },\n        true\n      )\n    )\n\n    return\n  }\n\n  let upload = {\n    id: null,\n    key: getRandomString(ID_LEN),\n    error: null,\n    uploaded_on: null,\n    progress: 0,\n    filename: file.name,\n    filetype: null,\n    is_image: false,\n    size: file.size,\n    url: null,\n    uploader_name: null,\n  }\n\n  setState(({ attachments }) => {\n    return { attachments: [upload].concat(attachments) }\n  })\n\n  const refreshState = () => {\n    setState(({ attachments }) => {\n      return { attachments: attachments.concat() }\n    })\n  }\n\n  const data = new FormData()\n  data.append(\"upload\", file)\n\n  ajax\n    .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n      upload.progress = progress\n      refreshState()\n    })\n    .then(\n      (data) => {\n        Object.assign(upload, data, { uploaded_on: moment(data.uploaded_on) })\n        refreshState()\n      },\n      (rejection) => {\n        if (rejection.status === 400 || rejection.status === 413) {\n          upload.error = rejection.detail\n          snackbar.error(rejection.detail)\n          refreshState()\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n}\n\nexport default uploadFile\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport * as overlay from \"../../reducers/overlay\"\nimport RegisterButton from \"../RegisterButton\"\nimport SignInButton from \"../SignInButton\"\nimport SignInModalAutoOpen from \"../SignInModalAutoOpen\"\nimport NavbarBranding from \"./NavbarBranding\"\nimport NavbarExtraMenu from \"./NavbarExtraMenu\"\nimport NavbarNotificationsDropdown from \"./NavbarNotificationsDropdown\"\nimport NavbarNotificationsToggle from \"./NavbarNotificationsToggle\"\nimport NavbarPrivateThreads from \"./NavbarPrivateThreads\"\nimport NavbarSearchDropdown from \"./NavbarSearchDropdown\"\nimport NavbarSearchToggle from \"./NavbarSearchToggle\"\nimport NavbarSiteNavDropdown from \"./NavbarSiteNavDropdown\"\nimport NavbarSiteNavToggle from \"./NavbarSiteNavToggle\"\nimport NavbarUserNavDropdown from \"./NavbarUserNavDropdown\"\nimport NavbarUserNavToggle from \"./NavbarUserNavToggle\"\n\nexport function Navbar({\n  dispatch,\n  branding,\n  extraMenuItems,\n  authDelegated,\n  user,\n  searchUrl,\n  notificationsUrl,\n  privateThreadsUrl,\n  showSearch,\n  showPrivateThreads,\n}) {\n  return (\n    <div className=\"container navbar-container\">\n      <NavbarBranding {...branding} />\n      <div className=\"navbar-right\">\n        {extraMenuItems.length > 0 && (\n          <NavbarExtraMenu items={extraMenuItems} />\n        )}\n        {!!showSearch && (\n          <NavbarSearchDropdown id=\"navbar-search-dropdown\" url={searchUrl} />\n        )}\n        {!!showSearch && (\n          <NavbarSearchToggle\n            id=\"navbar-search-overlay\"\n            url={searchUrl}\n            onClick={(event) => {\n              dispatch(overlay.openSearch())\n              event.preventDefault()\n            }}\n          />\n        )}\n        <NavbarSiteNavDropdown id=\"navbar-site-nav-dropdown\" />\n        <NavbarSiteNavToggle\n          id=\"navbar-site-nav-overlay\"\n          onClick={() => {\n            dispatch(overlay.openSiteNav())\n          }}\n        />\n        {!!showPrivateThreads && (\n          <NavbarPrivateThreads\n            id=\"navbar-private-threads\"\n            badge={user.unreadPrivateThreads}\n            url={privateThreadsUrl}\n          />\n        )}\n        {!!user && (\n          <NavbarNotificationsDropdown\n            id=\"navbar-notifications-dropdown\"\n            badge={user.unreadNotifications}\n            url={notificationsUrl}\n          />\n        )}\n        {!!user && (\n          <NavbarNotificationsToggle\n            id=\"navbar-notifications-overlay\"\n            badge={user.unreadNotifications}\n            url={notificationsUrl}\n            onClick={(event) => {\n              dispatch(overlay.openNotifications())\n              event.preventDefault()\n            }}\n          />\n        )}\n        {!!user && (\n          <NavbarUserNavDropdown id=\"navbar-user-nav-dropdown\" user={user} />\n        )}\n        {!!user && (\n          <NavbarUserNavToggle\n            id=\"navbar-user-nav-overlay\"\n            user={user}\n            onClick={(event) => {\n              dispatch(overlay.openUserNav())\n              event.preventDefault()\n            }}\n          />\n        )}\n        {!user && <SignInButton className=\"btn-navbar-sign-in\" />}\n        {!user && !authDelegated && (\n          <RegisterButton className=\"btn-navbar-register\" />\n        )}\n        {!user && !authDelegated && <SignInModalAutoOpen />}\n      </div>\n    </div>\n  )\n}\n\nfunction select(state) {\n  const settings = misago.get(\"SETTINGS\")\n  const user = state.auth.user\n\n  return {\n    branding: {\n      logo: settings.logo,\n      logoXs: settings.logo_small,\n      text: settings.logo_text,\n      url: misago.get(\"MISAGO_PATH\"),\n    },\n    extraMenuItems: misago.get(\"extraMenuItems\"),\n\n    user: !user.id\n      ? null\n      : {\n          id: user.id,\n          username: user.username,\n          email: user.email,\n          avatars: user.avatars,\n          unreadNotifications: user.unreadNotifications,\n          unreadPrivateThreads: user.unread_private_threads,\n          url: user.url,\n        },\n\n    searchUrl: misago.get(\"SEARCH_URL\"),\n    notificationsUrl: misago.get(\"NOTIFICATIONS_URL\"),\n    privateThreadsUrl: misago.get(\"PRIVATE_THREADS_URL\"),\n\n    authDelegated: settings.enable_oauth2_client,\n    showSearch: !!user.acl.can_search,\n    showPrivateThreads: !!user && !!user.acl.can_use_private_threads,\n  }\n}\n\nconst NavbarConnected = connect(select)(Navbar)\n\nexport default NavbarConnected\n","import React from \"react\"\n\nexport default function NavbarBranding({ logo, logoXs, text, url }) {\n  if (logo) {\n    return (\n      <div className=\"navbar-branding\">\n        <a href={url} className=\"navbar-branding-logo\">\n          <img src={logo} alt={text} />\n        </a>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"navbar-branding\">\n      {!!logoXs && (\n        <a href={url} className=\"navbar-branding-logo-xs\">\n          <img src={logoXs} alt={text} />\n        </a>\n      )}\n      {!!text && (\n        <a href={url} className=\"navbar-branding-text\">\n          {text}\n        </a>\n      )}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function NavbarExtraMenu({ items }) {\n  return (\n    <ul className=\"navbar-extra-menu\" role=\"nav\">\n      {items.map((item, index) => (\n        <li key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </li>\n      ))}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NotificationsDropdown from \"../NotificationsDropdown\"\nimport NavbarNotificationsToggle from \"./NavbarNotificationsToggle\"\n\nexport default function NavbarNotificationsDropdown({\n  id,\n  className,\n  badge,\n  url,\n}) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarNotificationsToggle\n          className={className}\n          active={isOpen}\n          badge={badge}\n          url={url}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n          }}\n        />\n      )}\n      menuClassName=\"notifications-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen }) => <NotificationsDropdown active={isOpen} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarNotificationsToggle({\n  id,\n  className,\n  badge,\n  url,\n  active,\n  onClick,\n}) {\n  const title = !!badge\n    ? pgettext(\"navbar\", \"You have unread notifications!\")\n    : pgettext(\"navbar\", \"Open notifications\")\n\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={title}\n      onClick={onClick}\n    >\n      {!!badge && <span className=\"navbar-item-badge\">{badge}</span>}\n      <span className=\"material-icon\">\n        {!!badge ? \"notifications_active\" : \"notifications_none\"}\n      </span>\n    </a>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarPrivateThreads({\n  id,\n  className,\n  badge,\n  url,\n  active,\n  onClick,\n}) {\n  const title = !!badge\n    ? pgettext(\"navbar\", \"You have unread private threads!\")\n    : pgettext(\"navbar\", \"Open private threads\")\n\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={title}\n      onClick={onClick}\n    >\n      {!!badge && <span className=\"navbar-item-badge\">{badge}</span>}\n      <span className=\"material-icon\">inbox</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport { SearchDropdown } from \"../search\"\nimport NavbarSearchToggle from \"./NavbarSearchToggle\"\n\nexport default function NavbarSearchDropdown({ id, className, url }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarSearchToggle\n          className={className}\n          active={isOpen}\n          url={url}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n\n            window.setTimeout(() => {\n              document\n                .querySelector(\".search-dropdown .form-control-search\")\n                .focus()\n            }, 0)\n          }}\n        />\n      )}\n      menuClassName=\"search-dropdown\"\n      menuAlignRight\n    >\n      {() => <SearchDropdown />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarSearchToggle({\n  id,\n  className,\n  url,\n  active,\n  onClick,\n}) {\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={pgettext(\"navbar\", \"Open search\")}\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">search</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NavbarSiteNavToggle from \"./NavbarSiteNavToggle\"\nimport { SiteNavDropdown } from \"../SiteNav\"\n\nexport default function NavbarSiteNavDropdown({ id, className }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarSiteNavToggle\n          className={className}\n          active={isOpen}\n          onClick={toggle}\n        />\n      )}\n      menuClassName=\"site-nav-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen, close }) => <SiteNavDropdown close={close} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarSiteNavToggle({\n  id,\n  className,\n  active,\n  onClick,\n}) {\n  return (\n    <button\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      title={pgettext(\"navbar\", \"Open menu\")}\n      type=\"button\"\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">menu</span>\n    </button>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NavbarUserNavToggle from \"./NavbarUserNavToggle\"\nimport { UserNavDropdown } from \"../UserNav\"\n\nexport default function NavbarUserNavDropdown({ id, className, user }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarUserNavToggle\n          className={className}\n          active={isOpen}\n          user={user}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n          }}\n        />\n      )}\n      menuClassName=\"user-nav-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen, close }) => <UserNavDropdown close={close} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport Avatar from \"../avatar\"\n\nexport default function NavbarUserNavToggle({\n  id,\n  className,\n  user,\n  active,\n  onClick,\n}) {\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn-navbar-image\", className, { active })}\n      href={user.url}\n      title={pgettext(\"navbar\", \"Open your options\")}\n      onClick={onClick}\n    >\n      <Avatar user={user} size={34} />\n    </a>\n  )\n}\n","import Navbar from \"./Navbar\"\n\nexport default Navbar\n","import React from \"react\"\nimport { Router, browserHistory } from \"react-router\"\nimport NotificationsHeader from \"./NotificationsHeader\"\nimport NotificationsRoute from \"./NotificationsRoute\"\n\nexport default function Notifications() {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n\n  return (\n    <div className=\"page page-notifications\">\n      <NotificationsHeader />\n      <Router\n        history={browserHistory}\n        routes={[\n          {\n            path: basename,\n            component: NotificationsRoute,\n            props: {\n              filter: \"all\",\n            },\n          },\n          {\n            path: basename + \"unread/\",\n            component: NotificationsRoute,\n            props: {\n              filter: \"unread\",\n            },\n          },\n          {\n            path: basename + \"read/\",\n            component: NotificationsRoute,\n            props: {\n              filter: \"read\",\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { PageHeaderPlain } from \"../PageHeader\"\n\nexport default function NotificationsHeader() {\n  return (\n    <PageHeaderPlain\n      header={pgettext(\"notifications title\", \"Notifications\")}\n      styleName=\"notifications\"\n    />\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function NotificationsPagination({ baseUrl, data, disabled }) {\n  return (\n    <div className=\"misago-pagination\">\n      <NotificationsPaginationLink\n        url={baseUrl}\n        disabled={disabled || !data || !data.hasPrevious}\n      >\n        {pgettext(\"notifications pagination\", \"Latest\")}\n      </NotificationsPaginationLink>\n      <NotificationsPaginationLink\n        url={baseUrl + \"?before=\" + (data ? data.firstCursor : \"\")}\n        disabled={disabled || !data || !data.hasPrevious}\n      >\n        {pgettext(\"notifications pagination\", \"Newer\")}\n      </NotificationsPaginationLink>\n      <NotificationsPaginationLink\n        url={baseUrl + \"?after=\" + (data ? data.lastCursor : \"\")}\n        disabled={disabled || !data || !data.hasNext}\n      >\n        {pgettext(\"notifications pagination\", \"Older\")}\n      </NotificationsPaginationLink>\n    </div>\n  )\n}\n\nfunction NotificationsPaginationLink({ disabled, children, url }) {\n  if (disabled) {\n    return (\n      <button className=\"btn btn-default\" type=\"disabled\" disabled>\n        {children}\n      </button>\n    )\n  }\n\n  return (\n    <Link to={url} className=\"btn btn-default\" activeClassName=\"\">\n      {children}\n    </Link>\n  )\n}\n","import React from \"react\"\nimport { PillsNav, PillsNavLink } from \"../PillsNav\"\nimport { Toolbar, ToolbarSection, ToolbarItem } from \"../Toolbar\"\n\nexport default function NotificationsPills({ filter }) {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n\n  return (\n    <Toolbar>\n      <ToolbarSection auto>\n        <ToolbarItem>\n          <PillsNav>\n            <PillsNavLink active={filter === \"all\"} link={basename}>\n              {pgettext(\"notifications nav\", \"All\")}\n            </PillsNavLink>\n            <PillsNavLink\n              active={filter === \"unread\"}\n              link={basename + \"unread/\"}\n            >\n              {pgettext(\"notifications nav\", \"Unread\")}\n            </PillsNavLink>\n            <PillsNavLink active={filter === \"read\"} link={basename + \"read/\"}>\n              {pgettext(\"notifications nav\", \"Read\")}\n            </PillsNavLink>\n          </PillsNav>\n        </ToolbarItem>\n      </ToolbarSection>\n    </Toolbar>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { updateAuthenticatedUser } from \"../../reducers/auth\"\nimport snackbar from \"../../services/snackbar\"\nimport { ApiMutation } from \"../Api\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport PageTitle from \"../PageTitle\"\nimport PageContainer from \"../PageContainer\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsPills from \"./NotificationsPills\"\nimport NotificationsToolbar from \"./NotificationsToolbar\"\n\nfunction NotificationsRoute({ dispatch, location, route }) {\n  const { query } = location\n  const { filter } = route.props\n\n  const baseUrl = getBaseUrl(filter)\n\n  return (\n    <PageContainer>\n      <PageTitle\n        title={pgettext(\"notifications title\", \"Notifications\")}\n        subtitle={getSubtitle(filter)}\n      />\n\n      <NotificationsPills filter={filter} />\n\n      <NotificationsFetch filter={filter} query={query}>\n        {({ data, loading, error, refetch }) => (\n          <ApiMutation url={misago.get(\"NOTIFICATIONS_API\") + \"read-all/\"}>\n            {(readAll, { loading: mutating }) => {\n              const toolbarProps = {\n                baseUrl,\n                data,\n                disabled:\n                  loading || mutating || !data || data.results.length === 0,\n                markAllAsRead: async () => {\n                  const confirmed = window.confirm(\n                    pgettext(\"notifications\", \"Mark all notifications as read?\")\n                  )\n\n                  if (confirmed) {\n                    readAll({\n                      onSuccess: async () => {\n                        refetch()\n                        dispatch(\n                          updateAuthenticatedUser({ unreadNotifications: null })\n                        )\n                        snackbar.success(\n                          pgettext(\n                            \"notifications\",\n                            \"All notifications have been marked as read.\"\n                          )\n                        )\n                      },\n                      onError: snackbar.apiError,\n                    })\n                  }\n                },\n              }\n\n              if (loading || mutating) {\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsListLoading />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              if (error) {\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsListError error={error} />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              if (data) {\n                if (!data.hasPrevious && query) {\n                  window.history.replaceState({}, \"\", baseUrl)\n                }\n\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsList\n                      filter={filter}\n                      items={data.results}\n                      hasNext={data.hasNext}\n                      hasPrevious={data.hasPrevious}\n                    />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              return null\n            }}\n          </ApiMutation>\n        )}\n      </NotificationsFetch>\n    </PageContainer>\n  )\n}\n\nfunction getSubtitle(filter) {\n  if (filter === \"unread\") {\n    return pgettext(\"notifications title\", \"Unread notifications\")\n  } else if (filter === \"read\") {\n    return pgettext(\"notifications title\", \"Read notifications\")\n  } else {\n    return null\n  }\n}\n\nfunction getBaseUrl(filter) {\n  let url = misago.get(\"NOTIFICATIONS_URL\")\n  if (filter !== \"all\") {\n    url += filter + \"/\"\n  }\n  return url\n}\n\nconst NotificationsRouteConnected = connect()(NotificationsRoute)\n\nexport default NotificationsRouteConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport Button from \"../button\"\nimport { Toolbar, ToolbarSection, ToolbarItem, ToolbarSpacer } from \"../Toolbar\"\nimport NotificationsPagination from \"./NotificationsPagination\"\n\nexport default function NotificationsToolbar({\n  baseUrl,\n  data,\n  disabled,\n  bottom,\n  markAllAsRead,\n}) {\n  return (\n    <Toolbar>\n      <ToolbarSection>\n        <ToolbarItem>\n          <NotificationsPagination\n            baseUrl={baseUrl}\n            data={data}\n            disabled={disabled}\n          />\n        </ToolbarItem>\n      </ToolbarSection>\n      <ToolbarSpacer />\n      <ToolbarSection className={classnames({ \"hidden-xs\": !bottom })}>\n        <ToolbarItem>\n          <Button\n            className=\"btn-default btn-block\"\n            type=\"button\"\n            disabled={disabled || !data || !data.unreadNotifications}\n            onClick={markAllAsRead}\n          >\n            <span className=\"material-icon\">done_all</span>\n            {pgettext(\"notifications\", \"Mark all as read\")}\n          </Button>\n        </ToolbarItem>\n      </ToolbarSection>\n    </Toolbar>\n  )\n}\n","import Notifications from \"./Notifications\"\nimport NotificationsFetch from \"../NotificationsFetch/NotificationsFetch\"\n\nexport default Notifications\n\nexport { NotificationsFetch }\n","import React from \"react\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsDropdownBody from \"./NotificationsDropdownBody\"\n\nexport default class NotificationsDropdown extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      unread: false,\n      url: \"\",\n    }\n  }\n\n  getApiUrl() {\n    let url = misago.get(\"NOTIFICATIONS_API\") + \"?limit=20\"\n    url += this.state.unread ? \"&filter=unread\" : \"\"\n    return url\n  }\n\n  render = () => (\n    <NotificationsDropdownBody\n      unread={this.state.unread}\n      showAll={() => this.setState({ unread: false })}\n      showUnread={() => this.setState({ unread: true })}\n    >\n      <NotificationsFetch\n        filter={this.state.unread ? \"unread\" : \"all\"}\n        disabled={!this.props.active}\n      >\n        {({ data, loading, error }) => {\n          if (loading) {\n            return <NotificationsListLoading />\n          }\n\n          if (error) {\n            return <NotificationsListError error={error} />\n          }\n\n          return (\n            <NotificationsList\n              filter={this.state.unread ? \"unread\" : \"all\"}\n              items={data ? data.results : []}\n            />\n          )\n        }}\n      </NotificationsFetch>\n    </NotificationsDropdownBody>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { DropdownFooter, DropdownHeader, DropdownPills } from \"../Dropdown\"\n\nexport default function NotificationsDropdownBody({\n  children,\n  showAll,\n  showUnread,\n  unread,\n}) {\n  return (\n    <div className=\"notifications-dropdown-body\">\n      <DropdownHeader>\n        {pgettext(\"notifications title\", \"Notifications\")}\n      </DropdownHeader>\n      <DropdownPills>\n        <NotificationsDropdownBodyPill active={!unread} onClick={showAll}>\n          {pgettext(\"notifications dropdown\", \"All\")}\n        </NotificationsDropdownBodyPill>\n        <NotificationsDropdownBodyPill active={unread} onClick={showUnread}>\n          {pgettext(\"notifications dropdown\", \"Unread\")}\n        </NotificationsDropdownBodyPill>\n      </DropdownPills>\n      {children}\n      <DropdownFooter>\n        <a\n          className=\"btn btn-default btn-block\"\n          href={misago.get(\"NOTIFICATIONS_URL\")}\n        >\n          {pgettext(\"notifications\", \"See all notifications\")}\n        </a>\n      </DropdownFooter>\n    </div>\n  )\n}\n\nfunction NotificationsDropdownBodyPill({ active, children, onClick }) {\n  return (\n    <button\n      className={classnames(\"btn\", {\n        \"btn-primary\": active,\n        \"btn-default\": !active,\n      })}\n      type=\"button\"\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  )\n}\n","import NotificationsDropdown from \"./NotificationsDropdown\"\n\nexport default NotificationsDropdown\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { updateAuthenticatedUser } from \"../../reducers/auth\"\nimport { ApiFetch } from \"../Api\"\n\nfunction NotificationsFetch({\n  children,\n  filter,\n  query,\n  dispatch,\n  unreadNotifications,\n  disabled,\n}) {\n  return (\n    <ApiFetch\n      url={getApiUrl(filter, query)}\n      disabled={disabled}\n      onData={(data) => {\n        if (data.unreadNotifications != unreadNotifications) {\n          dispatch(\n            updateAuthenticatedUser({\n              unreadNotifications: data.unreadNotifications,\n            })\n          )\n        }\n      }}\n    >\n      {({ data, loading, error, refetch }) => {\n        return children({ data, loading, error, refetch })\n      }}\n    </ApiFetch>\n  )\n}\n\nfunction getApiUrl(filter, query) {\n  let api = misago.get(\"NOTIFICATIONS_API\") + \"?limit=30\"\n  api += \"&filter=\" + filter\n\n  if (query) {\n    if (query.after) {\n      api += \"&after=\" + query.after\n    }\n    if (query.before) {\n      api += \"&before=\" + query.before\n    }\n  }\n\n  return api\n}\n\nfunction selectState({ auth }) {\n  if (!auth.user) {\n    return { unreadNotifications: null }\n  }\n\n  return {\n    unreadNotifications: auth.user.unreadNotifications,\n  }\n}\n\nconst NotificationsFetchConnected = connect(selectState)(NotificationsFetch)\n\nexport default NotificationsFetchConnected\n","import NotificationsFetch from \"./NotificationsFetch\"\n\nexport default NotificationsFetch\n","import React from \"react\"\nimport NotificationsListEmpty from \"./NotificationsListEmpty\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\nimport NotificationsListItem from \"./NotificationsListItem\"\n\nexport default function NotificationsList({ filter, items }) {\n  return (\n    <NotificationsListGroup\n      className={\n        items.length > 0\n          ? \"notifications-list-ready\"\n          : \"notifications-list-pending\"\n      }\n    >\n      {items.length === 0 && <NotificationsListEmpty filter={filter} />}\n      {items.map((notification) => (\n        <NotificationsListItem\n          key={notification.id}\n          notification={notification}\n        />\n      ))}\n    </NotificationsListGroup>\n  )\n}\n","import React from \"react\"\nimport { ListGroupEmpty } from \"../ListGroup\"\n\nexport default function NotificationsListEmpty({ filter }) {\n  return (\n    <ListGroupEmpty\n      icon={\n        filter === \"unread\" ? \"sentiment_very_satisfied\" : \"notifications_none\"\n      }\n      message={emptyMessage(filter)}\n    />\n  )\n}\n\nfunction emptyMessage(filter) {\n  if (filter === \"read\") {\n    return pgettext(\n      \"notifications list\",\n      \"You don't have any read notifications.\"\n    )\n  } else if (filter === \"unread\") {\n    return pgettext(\n      \"notifications list\",\n      \"You don't have any unread notifications.\"\n    )\n  }\n\n  return pgettext(\"notifications list\", \"You don't have any notifications.\")\n}\n","import React from \"react\"\nimport { ListGroupError } from \"../ListGroup\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\n\nexport default function NotificationsListError({ error }) {\n  const detail = errorDetail(error)\n\n  return (\n    <NotificationsListGroup className=\"notifications-list-pending\">\n      <ListGroupError\n        icon=\"notifications_off\"\n        message={pgettext(\n          \"notifications list\",\n          \"Notifications could not be loaded.\"\n        )}\n        detail={detail}\n      />\n    </NotificationsListGroup>\n  )\n}\n\nfunction errorDetail(error) {\n  if (error.status === 0) {\n    return gettext(\n      \"Check your internet connection and try refreshing the site.\"\n    )\n  }\n\n  if (error.data && error.data.detail) {\n    return error.data.detail\n  }\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { ListGroup } from \"../ListGroup\"\n\nexport default function NotificationsListGroup({ className, children }) {\n  return (\n    <div className={classnames(\"notifications-list\", className)}>\n      <ListGroup>{children}</ListGroup>\n    </div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport NotificationsListItemActor from \"./NotificationsListItemActor\"\nimport NotificationsListItemMessage from \"./NotificationsListItemMessage\"\nimport NotificationsListItemReadStatus from \"./NotificationsListItemReadStatus\"\nimport NotificationsListItemTimestamp from \"./NotificationsListItemTimestamp\"\n\nexport default function NotificationsListItem({ notification }) {\n  return (\n    <ListGroupItem\n      key={notification.id}\n      className={classnames(\"notifications-list-item\", {\n        \"notifications-list-item-read\": notification.isRead,\n        \"notifications-list-item-unread\": !notification.isRead,\n      })}\n    >\n      <div className=\"notifications-list-item-left-col\">\n        <div className=\"notifications-list-item-col-actor\">\n          <NotificationsListItemActor notification={notification} />\n        </div>\n        <div className=\"notifications-list-item-col-read-icon\">\n          <NotificationsListItemReadStatus notification={notification} />\n        </div>\n      </div>\n      <div className=\"notifications-list-item-right-col\">\n        <div className=\"notifications-list-item-col-message\">\n          <NotificationsListItemMessage notification={notification} />\n        </div>\n        <div className=\"notifications-list-item-col-timestamp\">\n          <NotificationsListItemTimestamp notification={notification} />\n        </div>\n      </div>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"../avatar\"\n\nexport default function NotificationsListItemActor({ notification }) {\n  if (!!notification.actor) {\n    return (\n      <a\n        href={notification.actor.url}\n        className=\"notifications-list-item-actor\"\n        title={notification.actor.username}\n      >\n        <Avatar size={30} user={notification.actor} />\n      </a>\n    )\n  }\n\n  return (\n    <span\n      className=\"threads-list-item-last-poster\"\n      title={notification.actor_name || null}\n    >\n      <Avatar size={30} />\n    </span>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NotificationsListItemMessage({ notification }) {\n  return (\n    <a\n      href={notification.url}\n      className={classnames(\"notification-message\", {\n        \"notification-message-read\": notification.isRead,\n        \"notification-message-unread\": !notification.isRead,\n      })}\n      dangerouslySetInnerHTML={{ __html: notification.message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function NotificationsListItemReadStatus({ notification }) {\n  if (notification.isRead) {\n    return (\n      <div\n        className=\"notifications-list-item-read-status\"\n        title={pgettext(\"notification status\", \"Read notification\")}\n      >\n        <span className=\"notification-read-icon\"></span>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className=\"notifications-list-item-read-status\"\n      title={pgettext(\"notification status\", \"Unread notification\")}\n    >\n      <span className=\"notification-unread-icon\"></span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function NotificationsListItemTimestamp({ notification }) {\n  return (\n    <div className=\"notifications-list-item-timestamp\">\n      <Timestamp datetime={notification.createdAt} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { ListGroupLoading } from \"../ListGroup\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\n\nexport default function NotificationsListLoading() {\n  return (\n    <NotificationsListGroup className=\"notifications-list-pending\">\n      <ListGroupLoading\n        message={pgettext(\"notifications list\", \"Loading notifications...\")}\n      />\n    </NotificationsListGroup>\n  )\n}\n","import NotificationsList from \"./NotificationsList\"\nimport NotificationsListError from \"./NotificationsListError\"\nimport NotificationsListLoading from \"./NotificationsListLoading\"\n\nexport { NotificationsList, NotificationsListError, NotificationsListLoading }\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsOverlayBody from \"./NotificationsOverlayBody\"\n\nclass NotificationsOverlay extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.body = document.body\n\n    this.state = {\n      unread: false,\n      url: \"\",\n    }\n  }\n\n  getApiUrl() {\n    let url = misago.get(\"NOTIFICATIONS_API\") + \"?limit=20\"\n    url += this.state.unread ? \"&filter=unread\" : \"\"\n    return url\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.open !== this.props.open) {\n      if (this.props.open) {\n        this.body.classList.add(\"notifications-fullscreen\")\n      } else {\n        this.body.classList.remove(\"notifications-fullscreen\")\n      }\n    }\n  }\n\n  render = () => (\n    <NotificationsOverlayBody\n      open={this.props.open}\n      unread={this.state.unread}\n      showAll={() => this.setState({ unread: false })}\n      showUnread={() => this.setState({ unread: true })}\n    >\n      <NotificationsFetch\n        filter={this.state.unread ? \"unread\" : \"all\"}\n        disabled={!this.props.open}\n      >\n        {({ data, loading, error }) => {\n          if (loading) {\n            return <NotificationsListLoading />\n          }\n\n          if (error) {\n            return <NotificationsListError error={error} />\n          }\n\n          return (\n            <NotificationsList\n              filter={this.state.unread ? \"unread\" : \"all\"}\n              items={data ? data.results : []}\n            />\n          )\n        }}\n      </NotificationsFetch>\n    </NotificationsOverlayBody>\n  )\n}\n\nfunction select(state) {\n  return { open: state.overlay.notifications }\n}\n\nconst NotificationsOverlayConnected = connect(select)(NotificationsOverlay)\n\nexport default NotificationsOverlayConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { DropdownFooter, DropdownPills } from \"../Dropdown\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\n\nexport default function NotificationsOverlayBody({\n  children,\n  open,\n  showAll,\n  showUnread,\n  unread,\n}) {\n  return (\n    <Overlay open={open}>\n      <OverlayHeader>\n        {pgettext(\"notifications title\", \"Notifications\")}\n      </OverlayHeader>\n      <DropdownPills>\n        <NotificationsOverlayBodyPill active={!unread} onClick={showAll}>\n          {pgettext(\"notifications dropdown\", \"All\")}\n        </NotificationsOverlayBodyPill>\n        <NotificationsOverlayBodyPill active={unread} onClick={showUnread}>\n          {pgettext(\"notifications dropdown\", \"Unread\")}\n        </NotificationsOverlayBodyPill>\n      </DropdownPills>\n      {children}\n      <DropdownFooter>\n        <a\n          className=\"btn btn-default btn-block\"\n          href={misago.get(\"NOTIFICATIONS_URL\")}\n        >\n          {pgettext(\"notifications\", \"See all notifications\")}\n        </a>\n      </DropdownFooter>\n    </Overlay>\n  )\n}\n\nfunction NotificationsOverlayBodyPill({ active, children, onClick }) {\n  return (\n    <button\n      className={classnames(\"btn\", {\n        \"btn-primary\": active,\n        \"btn-default\": !active,\n      })}\n      type=\"button\"\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  )\n}\n","import NotificationsOverlay from \"./NotificationsOverlay\"\n\nexport default NotificationsOverlay\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\n\nconst BODY_CLASS = \"has-overlay\"\n\nclass Overlay extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.scrollOrigin = null\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.open !== this.props.open) {\n      if (this.props.open) {\n        this.scrollOrigin = window.pageYOffset\n        document.body.classList.add(BODY_CLASS)\n        if (this.props.onOpen) {\n          this.props.onOpen()\n        }\n      } else {\n        document.body.classList.remove(BODY_CLASS)\n        window.scrollTo(0, this.scrollOrigin)\n        this.scrollOrigin = null\n      }\n    }\n  }\n\n  closeOnNavigation = (event) => {\n    if (event.target.closest(\"a\")) {\n      this.props.dispatch(close())\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className={classnames(\"overlay\", this.props.className, {\n          \"overlay-open\": this.props.open,\n        })}\n        onClick={this.closeOnNavigation}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nconst OverlayConnected = connect()(Overlay)\n\nexport default OverlayConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\n\nexport function OverlayHeader({ children, dispatch }) {\n  return (\n    <div className=\"overlay-header\">\n      <div className=\"overlay-header-caption\">{children}</div>\n      <button\n        className=\"btn btn-overlay-close\"\n        title={pgettext(\"modal\", \"Close\")}\n        type=\"button\"\n        onClick={() => dispatch(close())}\n      >\n        <span className=\"material-icon\">close</span>\n      </button>\n    </div>\n  )\n}\n\nconst OverlayHeaderConnected = connect()(OverlayHeader)\n\nexport default OverlayHeaderConnected\n","import Overlay from \"./Overlay\"\nimport OverlayHeader from \"./OverlayHeader\"\n\nexport { Overlay, OverlayHeader }\n","import React from \"react\"\n\nconst PageContainer = ({ children }) => (\n  <div className=\"container page-container\">{children}</div>\n)\n\nexport default PageContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeader = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header\",\n      className,\n      styleName && \"page-header-\" + styleName\n    )}\n  >\n    <div className=\"page-header-bg-image\">\n      <div className=\"page-header-bg-overlay\">\n        <div className=\"page-header-image\" />\n        {children}\n      </div>\n    </div>\n  </div>\n)\n\nexport default PageHeader\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderBanner = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header-banner\",\n      className,\n      styleName && \"page-header-banner-\" + styleName\n    )}\n  >\n    <div className=\"page-header-banner-bg-image\">\n      <div className=\"page-header-banner-bg-overlay\">{children}</div>\n    </div>\n  </div>\n)\n\nexport default PageHeaderBanner\n","import React from \"react\"\n\nconst PageHeaderContainer = ({ children }) => (\n  <div className=\"container page-header-container\">{children}</div>\n)\n\nexport default PageHeaderContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderDetails = ({ children, className }) => (\n  <div className={classnames(\"page-header-details\", className)}>{children}</div>\n)\n\nexport default PageHeaderDetails\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderHTMLMessage = ({ className, message }) => (\n  <div\n    className={classnames(\"page-header-message\", className)}\n    dangerouslySetInnerHTML={{ __html: message }}\n  />\n)\n\nexport default PageHeaderHTMLMessage\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderMessage = ({ children, className }) => (\n  <div className={classnames(\"page-header-message\", className)}>{children}</div>\n)\n\nexport default PageHeaderMessage\n","import React from \"react\"\nimport PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\n\nconst PageHeaderPlain = ({ styleName, header, message }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <h1>{header}</h1>\n      </PageHeaderBanner>\n      {message && (\n        <PageHeaderDetails styleName={styleName}>{message}</PageHeaderDetails>\n      )}\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nexport default PageHeaderPlain\n","import PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\nimport PageHeaderHTMLMessage from \"./PageHeaderHTMLMessage\"\nimport PageHeaderMessage from \"./PageHeaderMessage\"\nimport PageHeaderPlain from \"./PageHeaderPlain\"\n\nexport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n}\n","export default function PageTitle({ title, subtitle }) {\n  const parts = []\n  if (subtitle) {\n    parts.push(subtitle)\n  }\n  if (title) {\n    parts.push(title)\n  }\n  parts.push(misago.get(\"SETTINGS\").forum_name)\n\n  document.title = parts.join(\" | \")\n  return null\n}\n","import PageTitle from \"./PageTitle\"\n\nexport default PageTitle\n","import React from \"react\"\n\nexport default function PillsNav({ children }) {\n  return <ul className=\"nav nav-pills\">{children}</ul>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function PillsNavLink({ active, link, icon, children }) {\n  return (\n    <li className={classnames({ active })}>\n      <Link to={link} activeClassName=\"\">\n        {!!icon && <span className=\"material-icon\">{icon}</span>}\n        {children}\n      </Link>\n    </li>\n  )\n}\n","import PillsNav from \"./PillsNav\"\nimport PillsNavLink from \"./PillsNavLink\"\n\nexport { PillsNav, PillsNavLink }\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ajax from \"../../services/ajax\"\nimport captcha from \"../../services/captcha\"\nimport modal from \"../../services/modal\"\nimport snackbar from \"../../services/snackbar\"\nimport Loader from \"../loader\"\nimport RegisterForm from \"../register.js\"\n\nexport default class RegisterButton extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null,\n    }\n  }\n\n  showRegisterForm = () => {\n    if (this.props.onClick) {\n      this.props.onClick()\n    }\n\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(\n        pgettext(\n          \"register form\",\n          \"Registration form is currently disabled by the site administrator.\"\n        )\n      )\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\")),\n      ]).then(\n        (result) => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1],\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            pgettext(\n              \"register form\",\n              \"Registration form is currently unavailable due to an error.\"\n            )\n          )\n        }\n      )\n    }\n  }\n\n  render() {\n    return (\n      <button\n        className={classnames(\"btn btn-register\", this.props.className, {\n          \"btn-block\": this.props.block,\n          \"btn-loading\": this.state.isLoading,\n        })}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {pgettext(\"cta\", \"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import RegisterButton from \"./RegisterButton\"\n\nexport default RegisterButton\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = (props) => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange,\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={pgettext(\n          \"register form agreement prompt\",\n          \"the terms of service\"\n        )}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={pgettext(\n          \"register form agreement prompt\",\n          \"the privacy policy\"\n        )}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = (props) => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    pgettext(\n      \"register form agreement prompt\",\n      \"I have read and accept %(agreement)s.\"\n    ),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport modal from \"../../services/modal\"\nimport SignInModal from \"../sign-in\"\n\nexport default function SignInButton({ block, className, onClick }) {\n  const settings = misago.get(\"SETTINGS\")\n\n  if (settings.DELEGATE_AUTH) {\n    return (\n      <a\n        className={classnames(\"btn btn-sign-in\", className, {\n          \"btn-block\": block,\n        })}\n        href={settings.LOGIN_URL}\n        onClick={() => {\n          if (onClick) {\n            onClick()\n          }\n        }}\n      >\n        {pgettext(\"cta\", \"Sign in\")}\n      </a>\n    )\n  }\n\n  return (\n    <a\n      className={classnames(\"btn btn-sign-in\", className, {\n        \"btn-block\": block,\n      })}\n      href={settings.LOGIN_URL}\n      onClick={(event) => {\n        event.preventDefault()\n\n        if (onClick) {\n          onClick()\n        }\n\n        modal.show(<SignInModal />)\n      }}\n    >\n      {pgettext(\"cta\", \"Sign in\")}\n    </a>\n  )\n}\n","import SignInButton from \"./SignInButton\"\n\nexport default SignInButton\n","import React from \"react\"\nimport modal from \"../services/modal\"\nimport SignInModal from \"./sign-in\"\n\nclass SignInModalAutoOpen extends React.Component {\n  componentDidMount() {\n    const query = window.document.location.search\n    if (query === \"?modal=login\") {\n      window.setTimeout(() => modal.show(<SignInModal />), 300)\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default SignInModalAutoOpen\n","import React from \"react\"\nimport SiteNavMenu from \"./SiteNavMenu\"\n\nexport default function SiteNavDropdown({ close }) {\n  return <SiteNavMenu close={close} dropdown />\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport {\n  DropdownDivider,\n  DropdownHeader,\n  DropdownMenuItem,\n  DropdownPills,\n  DropdownSubheader,\n} from \"../Dropdown\"\nimport RegisterButton from \"../RegisterButton\"\nimport SignInButton from \"../SignInButton\"\n\nfunction SiteNavMenu({ isAnonymous, close, dropdown, overlay }) {\n  const baseUrl = misago.get(\"MISAGO_PATH\")\n  const settings = misago.get(\"SETTINGS\")\n  const mainItems = misago.get(\"main_menu\")\n  const extraItems = misago.get(\"extraMenuItems\")\n  const extraFooterItems = misago.get(\"extraFooterItems\")\n  const categories = misago.get(\"categories_menu\")\n  const users = misago.get(\"usersLists\")\n  const authDelegated = settings.enable_oauth2_client\n\n  const topNav = []\n  mainItems.forEach((item) => {\n    topNav.push({ title: item.label, url: item.url })\n  })\n\n  topNav.push({\n    title: pgettext(\"site nav\", \"Search\"),\n    url: baseUrl + \"search/\",\n  })\n\n  const footerNav = []\n\n  const tosTitle = misago.get(\"TERMS_OF_SERVICE_TITLE\")\n  const tosUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n  if (tosTitle && tosUrl) {\n    footerNav.push({\n      title: tosTitle,\n      url: tosUrl,\n    })\n  }\n\n  const privacyTitle = misago.get(\"PRIVACY_POLICY_TITLE\")\n  const privacyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n  if (privacyTitle && privacyUrl) {\n    footerNav.push({\n      title: privacyTitle,\n      url: privacyUrl,\n    })\n  }\n\n  return (\n    <ul\n      className={classnames(\"site-nav-menu\", {\n        \"dropdown-menu-list\": dropdown,\n        \"overlay-menu-list\": overlay,\n      })}\n    >\n      {isAnonymous && (\n        <DropdownHeader className=\"site-nav-sign-in-message\">\n          {pgettext(\"cta\", \"You are not signed in\")}\n        </DropdownHeader>\n      )}\n      {isAnonymous && (\n        <DropdownPills className=\"site-nav-sign-in-options\">\n          <SignInButton onClick={close} />\n          {!authDelegated && <RegisterButton onClick={close} />}\n        </DropdownPills>\n      )}\n      <DropdownSubheader>{settings.forum_name}</DropdownSubheader>\n      {topNav.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.title}</a>\n        </DropdownMenuItem>\n      ))}\n      {extraItems.map((item, index) => (\n        <DropdownMenuItem key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </DropdownMenuItem>\n      ))}\n      {!!users.length && <DropdownDivider className=\"site-nav-users-divider\" />}\n      {!!users.length && (\n        <DropdownSubheader className=\"site-nav-users\">\n          {pgettext(\"site nav section\", \"Users\")}\n        </DropdownSubheader>\n      )}\n      {users.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.name}</a>\n        </DropdownMenuItem>\n      ))}\n      <DropdownDivider className=\"site-nav-categories-divider\" />\n      <DropdownSubheader className=\"site-nav-categories\">\n        {pgettext(\"site nav section\", \"Categories\")}\n      </DropdownSubheader>\n      {categories.map((category) =>\n        category.is_vanilla ? (\n          <DropdownMenuItem\n            className=\"site-nav-category-header\"\n            key={category.id}\n          >\n            <a href={category.url}>{category.name}</a>\n          </DropdownMenuItem>\n        ) : (\n          <DropdownMenuItem\n            className={classnames(\"site-nav-category\", {\n              \"site-nav-category-last\": category.last,\n            })}\n            key={category.id}\n          >\n            <a href={category.url}>\n              <span>{category.name}</span>\n              <span\n                className={classnames(\n                  \"threads-list-item-category threads-list-category-label\",\n                  { \"threads-list-category-label-color\": !!category.color }\n                )}\n                style={{ \"--label-color\": category.color }}\n              >\n                {category.short_name || category.name}\n              </span>\n            </a>\n          </DropdownMenuItem>\n        )\n      )}\n      {(!!footerNav.length || !!extraFooterItems.length) && (\n        <DropdownDivider className=\"site-nav-footer-divider\" />\n      )}\n      {(!!footerNav.length || !!extraFooterItems.length) && (\n        <DropdownSubheader className=\"site-nav-footer\">\n          {pgettext(\"site nav section\", \"Footer\")}\n        </DropdownSubheader>\n      )}\n      {extraFooterItems.map((item, index) => (\n        <DropdownMenuItem key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </DropdownMenuItem>\n      ))}\n      {footerNav.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.title}</a>\n        </DropdownMenuItem>\n      ))}\n    </ul>\n  )\n}\n\nfunction select(state) {\n  return {\n    isAnonymous: !state.auth.user.id,\n  }\n}\n\nconst SiteNavMenuConnected = connect(select)(SiteNavMenu)\n\nexport default SiteNavMenuConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport SiteNavMenu from \"./SiteNavMenu\"\n\nexport function SiteNavOverlay({ dispatch, isOpen }) {\n  return (\n    <Overlay open={isOpen}>\n      <OverlayHeader>{pgettext(\"site nav title\", \"Menu\")}</OverlayHeader>\n      <SiteNavMenu close={() => dispatch(close())} overlay />\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return {\n    isOpen: state.overlay.siteNav,\n  }\n}\n\nconst SiteNavOverlayConnected = connect(select)(SiteNavOverlay)\n\nexport default SiteNavOverlayConnected\n","import SiteNavMenu from \"./SiteNavMenu\"\nimport SiteNavDropdown from \"./SiteNavDropdown\"\nimport SiteNavOverlay from \"./SiteNavOverlay\"\n\nexport { SiteNavMenu, SiteNavDropdown, SiteNavOverlay }\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = (props) => {\n  const { buttonClassName, buttonLabel, formLabel, header, labelClassName } =\n    props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ pk, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + pk\n          const style = button_color ? { color: button_color } : null\n          const finalButtonLabel =\n            button_text || interpolate(buttonLabel, { site: name }, true)\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={pk}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\n\nconst ThreadFlags = ({ thread }) => (\n  <ul className=\"thread-flags\">\n    {thread.weight == 2 && (\n      <li\n        className=\"thread-flag-pinned-globally\"\n        title={pgettext(\"thread flag\", \"Pinned globally\")}\n      >\n        <span className=\"material-icon\">bookmark</span>\n      </li>\n    )}\n    {thread.weight == 1 && (\n      <li\n        className=\"thread-flag-pinned-locally\"\n        title={pgettext(\"thread flag\", \"Pinned in category\")}\n      >\n        <span className=\"material-icon\">bookmark_outline</span>\n      </li>\n    )}\n    {thread.best_answer && (\n      <li\n        className=\"thread-flag-answered\"\n        title={pgettext(\"thread flag\", \"Answered\")}\n      >\n        <span className=\"material-icon\">check_circle</span>\n      </li>\n    )}\n    {thread.has_poll && (\n      <li className=\"thread-flag-poll\" title={pgettext(\"thread flag\", \"Poll\")}>\n        <span className=\"material-icon\">poll</span>\n      </li>\n    )}\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\n      <li\n        className=\"thread-flag-unapproved\"\n        title={\n          thread.is_unapproved\n            ? pgettext(\"thread flag\", \"Awaiting approval\")\n            : pgettext(\"thread flag\", \"Has unapproved posts\")\n        }\n      >\n        <span className=\"material-icon\">visibility</span>\n      </li>\n    )}\n    {thread.is_closed && (\n      <li\n        className=\"thread-flag-closed\"\n        title={pgettext(\"thread flag\", \"Closed\")}\n      >\n        <span className=\"material-icon\">lock</span>\n      </li>\n    )}\n    {thread.is_hidden && (\n      <li\n        className=\"thread-flag-hidden\"\n        title={pgettext(\"thread flag\", \"Hidden\")}\n      >\n        <span className=\"material-icon\">visibility_off</span>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ThreadFlags\n","import React from \"react\"\n\nconst ThreadReplies = ({ thread }) => (\n  <span\n    className=\"threads-replies\"\n    title={interpolate(\n      npgettext(\n        \"thread replies stat\",\n        \"%(replies)s reply\",\n        \"%(replies)s replies\",\n        thread.replies\n      ),\n      { replies: thread.replies },\n      true\n    )}\n  >\n    <span className=\"material-icon\">chat_bubble_outline</span>\n    {thread.replies > 980\n      ? Math.round(thread.replies / 1000) + \"K\"\n      : thread.replies}\n  </span>\n)\n\nexport default ThreadReplies\n","import React from \"react\"\nimport Avatar from \"./avatar\"\n\nconst ThreadStarterCard = ({ thread }) => (\n  <div className=\"thread-user-card\">\n    <div className=\"thread-user-card-media\">\n      {thread.starter ? (\n        <a href={thread.url.starter}>\n          <Avatar size={40} user={thread.starter} />\n        </a>\n      ) : (\n        <Avatar size={40} />\n      )}\n    </div>\n    <div className=\"thread-user-card-body\">\n      <div className=\"thread-user-card-header\">\n        {thread.starter ? (\n          <a\n            className=\"item-title\"\n            href={thread.url.starter}\n            title={pgettext(\"thread starter info\", \"Thread author\")}\n          >\n            {thread.starter.username}\n          </a>\n        ) : (\n          <span\n            className=\"item-title\"\n            title={pgettext(\"thread starter info\", \"Thread author\")}\n          >\n            {thread.starter_name}\n          </span>\n        )}\n      </div>\n      <div>\n        <span\n          className=\"text-muted\"\n          title={interpolate(\n            pgettext(\"thread starter info\", \"Started on: %(timestamp)s\"),\n            {\n              timestamp: thread.started_on.format(\"LLL\"),\n            },\n            true\n          )}\n        >\n          {thread.started_on.fromNow()}\n        </span>\n      </div>\n    </div>\n  </div>\n)\n\nexport default ThreadStarterCard\n","import React from \"react\"\nimport { dateRelative, dateRelativeShort, fullDateTime } from \"../../formats\"\n\nclass Timestamp extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { tick: 0 }\n    this.date = new Date(props.datetime)\n    this.timeout = null\n  }\n\n  componentDidMount() {\n    this.scheduleNextUpdate()\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      window.clearTimeout(this.timeout)\n    }\n  }\n\n  scheduleNextUpdate = () => {\n    const now = new Date()\n    const diff = Math.ceil(Math.abs(Math.round((this.date - now) / 1000)))\n\n    if (diff < 3600) {\n      this.timeout = window.setTimeout(\n        () => {\n          this.setState(tick)\n          this.scheduleNextUpdate()\n        },\n        50 * 1000 // Update every 50 seconds\n      )\n    } else if (diff < 3600 * 24) {\n      this.timeout = window.setTimeout(\n        () => {\n          this.setState(tick)\n        },\n        40 * 60 * 1000 // Update every 40 minutes\n      )\n    }\n  }\n\n  render() {\n    const displayed = this.props.narrow\n      ? dateRelativeShort(this.date)\n      : dateRelative(this.date)\n\n    return (\n      <attr\n        title={\n          this.props.title\n            ? this.props.title.replace(\n                \"%(timestamp)s\",\n                fullDateTime.format(this.date)\n              )\n            : fullDateTime.format(this.date)\n        }\n      >\n        {displayed}\n      </attr>\n    )\n  }\n}\n\nfunction tick(state) {\n  return { tick: state.tick + 1 }\n}\n\nexport default Timestamp\n","import Timestamp from \"./Timestamp\"\n\nexport default Timestamp\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Toolbar = ({ children, className }) => (\n  <nav className={classnames(\"toolbar\", className)}>{children}</nav>\n)\n\nexport default Toolbar\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarItem = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"toolbar-item\", className, {\n      \"toolbar-item-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarItem\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"toolbar-section\",\n      { \"toolbar-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarSection\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSpacer = ({ className }) => (\n  <div className={classnames(\"toolbar-spacer\", className)} />\n)\n\nexport default ToolbarSpacer\n","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer }\n","import React from \"react\"\nimport UserNavMenu from \"./UserNavMenu\"\n\nexport default function UserNavDropdown({ close }) {\n  return <UserNavMenu close={close} dropdown />\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport modal from \"../../services/modal\"\nimport ChangeAvatarModal, {\n  select as selectAvatar,\n} from \"../change-avatar/root\"\nimport {\n  DropdownDivider,\n  DropdownFooter,\n  DropdownMenuItem,\n  DropdownSubheader,\n} from \"../Dropdown\"\nimport logout from \"./logout\"\n\nclass UserNavMenu extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (props.dropdown) {\n      // Collapse options on dropdown\n      this.state = {\n        options: props.options.slice(0, 2),\n        optionsMore: props.options.length > 2,\n      }\n    } else {\n      // Reveal all options on mobile overlay\n      this.state = {\n        options: props.options,\n        optionsMore: false,\n      }\n    }\n  }\n\n  changeAvatar = () => {\n    this.props.close()\n    modal.show(connect(selectAvatar)(ChangeAvatarModal))\n  }\n\n  revealOptions = () => {\n    this.setState({\n      options: this.props.options,\n      optionsMore: false,\n    })\n  }\n\n  render() {\n    const { user, close, dropdown, overlay } = this.props\n\n    if (!user) {\n      return null\n    }\n\n    const adminUrl = misago.get(\"ADMIN_URL\")\n\n    return (\n      <ul\n        className={classnames(\"user-nav-menu\", {\n          \"dropdown-menu-list\": dropdown,\n          \"overlay-menu-list\": overlay,\n        })}\n      >\n        <li className=\"dropdown-menu-item\">\n          <a href={user.url} className=\"user-nav-profile\">\n            <strong>{user.username}</strong>\n            <small>{pgettext(\"user nav\", \"Go to your profile\")}</small>\n          </a>\n        </li>\n        <DropdownDivider />\n        <DropdownMenuItem>\n          <a href={misago.get(\"NOTIFICATIONS_URL\")}>\n            <span className=\"material-icon\">\n              {user.unreadNotifications\n                ? \"notifications_active\"\n                : \"notifications_none\"}\n            </span>\n            {pgettext(\"user nav\", \"Notifications\")}\n            {!!user.unreadNotifications && (\n              <span className=\"badge\">{user.unreadNotifications}</span>\n            )}\n          </a>\n        </DropdownMenuItem>\n        {!!user.showPrivateThreads && (\n          <DropdownMenuItem>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">inbox</span>\n              {pgettext(\"user nav\", \"Private threads\")}\n              {!!user.unreadPrivateThreads && (\n                <span className=\"badge\">{user.unreadPrivateThreads}</span>\n              )}\n            </a>\n          </DropdownMenuItem>\n        )}\n        {!!adminUrl && (\n          <DropdownMenuItem>\n            <a href={adminUrl} target=\"_blank\">\n              <span className=\"material-icon\">security</span>\n              {pgettext(\"user nav\", \"Admin control panel\")}\n            </a>\n          </DropdownMenuItem>\n        )}\n        <DropdownDivider />\n        <DropdownSubheader className=\"user-nav-options\">\n          {pgettext(\"user nav section\", \"Account settings\")}\n        </DropdownSubheader>\n        <DropdownMenuItem>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {pgettext(\"user nav\", \"Change avatar\")}\n          </button>\n        </DropdownMenuItem>\n        {this.state.options.map((item) => (\n          <DropdownMenuItem key={item.icon}>\n            <a href={item.url}>\n              <span className=\"material-icon\">{item.icon}</span>\n              {item.name}\n            </a>\n          </DropdownMenuItem>\n        ))}\n        <DropdownMenuItem>\n          <button\n            className={classnames(\"btn-link\", {\n              \"d-none\": !this.state.optionsMore,\n            })}\n            onClick={this.revealOptions}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">more_vertical</span>\n            {pgettext(\"user nav\", \"See more\")}\n          </button>\n        </DropdownMenuItem>\n        {!!dropdown && (\n          <DropdownFooter listItem>\n            <button\n              className=\"btn btn-default btn-block\"\n              onClick={() => {\n                logout()\n                close()\n              }}\n              type=\"button\"\n            >\n              {pgettext(\"user nav\", \"Log out\")}\n            </button>\n          </DropdownFooter>\n        )}\n      </ul>\n    )\n  }\n}\n\nfunction select(state) {\n  const user = state.auth.user\n  if (!user.id) {\n    return { user: null }\n  }\n\n  return {\n    user: {\n      username: user.username,\n      unreadNotifications: user.unreadNotifications,\n      unreadPrivateThreads: user.unread_private_threads,\n      showPrivateThreads: user.acl.can_use_private_threads,\n      url: user.url,\n    },\n    options: [...misago.get(\"userOptions\")],\n  }\n}\n\nconst UserNavMenuConnected = connect(select)(UserNavMenu)\n\nexport default UserNavMenuConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\nimport { DropdownFooter } from \"../Dropdown\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport UserNavMenu from \"./UserNavMenu\"\nimport logout from \"./logout\"\n\nexport function UserNavOverlay({ dispatch, isOpen }) {\n  return (\n    <Overlay open={isOpen}>\n      <OverlayHeader>\n        {pgettext(\"user nav title\", \"Your options\")}\n      </OverlayHeader>\n      <UserNavMenu close={() => dispatch(close())} overlay />\n      <DropdownFooter>\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={() => {\n            logout()\n            dispatch(close())\n          }}\n          type=\"button\"\n        >\n          {pgettext(\"user nav\", \"Log out\")}\n        </button>\n      </DropdownFooter>\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return {\n    isOpen: state.overlay.userNav,\n  }\n}\n\nconst UserNavOverlayConnected = connect(select)(UserNavOverlay)\n\nexport default UserNavOverlayConnected\n","import UserNavMenu from \"./UserNavMenu\"\nimport UserNavDropdown from \"./UserNavDropdown\"\nimport UserNavOverlay from \"./UserNavOverlay\"\n\nexport { UserNavMenu, UserNavDropdown, UserNavOverlay }\n","export default function logout() {\n  document.getElementById(\"hidden-logout-form\").submit()\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      pgettext(\n        \"accept agreement prompt\",\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {pgettext(\"accept agreement choice\", \"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {pgettext(\"accept agreement choice\", \"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n    }\n  }\n\n  onUsernameChange = (event) => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"add private thread participant\",\n          \"You have to enter user name.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(\n      pgettext(\n        \"add private thread participant\",\n        \"New participant has been added to thread.\"\n      )\n    )\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_username\"\n                label={pgettext(\n                  \"add private thread participant field\",\n                  \"User to add\"\n                )}\n              >\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\n                  \"add private thread participant btn\",\n                  \"Add participant\"\n                )}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"add private thread participant btn\", \"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\n          \"add private thread participant modal title\",\n          \"Add participant\"\n        )}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        pgettext(\n          \"auth message\",\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        pgettext(\n          \"auth message\",\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {pgettext(\"auth message\", \"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + pgettext(\"auth message\", \"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut,\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size * 2\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={props.height || size}\n      height={props.height || size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach((av) => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html,\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          pgettext(\"banned page\", \"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          pgettext(\"banned page\", \"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return pgettext(\"banned page\", \"This ban has expired.\")\n      }\n    } else {\n      return pgettext(\"banned page\", \"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null,\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map((item) => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1,\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath(),\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0,\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY,\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0,\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y,\n            })\n          }\n        }\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio,\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio,\n        },\n      })\n      .then(\n        (data) => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? pgettext(\"avatar crop modal btn\", \"Set avatar\")\n                : pgettext(\"avatar crop modal btn\", \"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {pgettext(\"avatar crop modal btn\", \"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false,\n    }\n  }\n\n  select = (image) => {\n    this.setState({\n      selection: image,\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? pgettext(\"avatar gallery modal btn\", \"Save choice\")\n                  : pgettext(\"avatar gallery modal btn\", \"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {pgettext(\"avatar gallery modal btn\", \"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {pgettext(\"avatar modal btn\", \"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {pgettext(\"avatar modal btn\", \"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {pgettext(\"avatar modal btn\", \"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {pgettext(\"avatar modal btn\", \"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars,\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {pgettext(\"avatar modal btn\", \"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"avatar modal dismiss\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      (options) => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null,\n        })\n      },\n      (rejection) => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = (error) => {\n    this.setState({\n      error,\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex,\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload,\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop,\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery,\n    })\n  }\n\n  completeFlow = (options) => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options,\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"avatar modal title\", \"Change your avatar\")}\n            </h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null,\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        pgettext(\n          \"avatar upload modal\",\n          \"Selected file is too big. (%(filesize)s)\"\n        ),\n        {\n          filesize: fileSize(image.size),\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = pgettext(\n      \"avatar upload modal\",\n      \"Selected file type is not supported.\"\n    )\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function (extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0,\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, (progress) => {\n        this.setState({\n          progress,\n        })\n      })\n      .then(\n        (data) => {\n          this.setState({\n            options: data,\n            uploaded: data.detail,\n          })\n\n          snackbar.info(\n            pgettext(\n              \"avatar upload modal\",\n              \"Your image has been uploaded and you may now crop it.\"\n            )\n          )\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function (extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      pgettext(\"avatar upload modal\", \"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit),\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {pgettext(\"avatar upload modal field\", \"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      pgettext(\"avatar upload modal field\", \"%(progress)s % complete\"),\n      {\n        progress: this.state.progress,\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {pgettext(\"avatar upload modal btn\", \"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={pgettext(\n        \"user profile details\",\n        \"No profile details are editable at this time.\"\n      )}\n      message={pgettext(\n        \"user profile details\",\n        \"This option is currently unavailable.\"\n      )}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = (ev) => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function ({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map((field) => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {},\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"user profile details form btn\", \"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {pgettext(\"user profile details form btn\", \"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      (groups) => {\n        this.setState({\n          loading: false,\n\n          groups,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">\n            {pgettext(\"user profile details form title\", \"Edit details\")}\n          </h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation\n            ? pgettext(\"field validation status\", \"(error)\")\n            : pgettext(\"field validation status\", \"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"../utils/validators\"\nimport snackbar from \"../services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {},\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name],\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = (name) => {\n    return (event) => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value,\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          (success) => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          (rejection) => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\",\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        pgettext(\n          \"merge threads conflict form\",\n          \"Are you sure you want to delete all polls?\"\n        )\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = (success) => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = (event) => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = (event) => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"merge threads conflict modal title\", \"Merge threads\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"merge threads conflict btn\", \"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {pgettext(\"merge threads conflict btn\", \"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={pgettext(\"merge threads conflict best answer\", \"Best answer\")}\n      helpText={pgettext(\n        \"merge threads conflict best answer\",\n        \"Select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={pgettext(\"merge threads conflict poll\", \"Poll\")}\n      helpText={pgettext(\n        \"merge threads conflict poll\",\n        \"Select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className={classnames(\"misago-markup\", this.props.className)}\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        data-author={this.props.author || undefined}\n        ref={(node) => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal message dismiss btn\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy,\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {pgettext(\"add participant btn\", \"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n    ])\n    .then(\n      () => {\n        snackbar.success(\n          pgettext(\"thread participants actions\", \"You have left this thread.\")\n        )\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = pgettext(\n          \"thread participants actions\",\n          \"%(user)s has been removed from this thread.\"\n        )\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = pgettext(\n          \"thread participants actions\",\n          \"%(user)s has been made new thread owner.\"\n        )\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function (props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>\n              {pgettext(\"thread participants profile link\", \"See profile\")}\n            </a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">\n        {pgettext(\"thread participants owner status\", \"Thread owner\")}\n      </span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map((participant) => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        pgettext(\n          \"private thread owner change\",\n          \"Are you sure you want to take over this thread?\"\n        )\n      )\n    } else {\n      const message = pgettext(\n        \"private thread owner change\",\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {pgettext(\"private thread owner change btn\", \"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        pgettext(\n          \"private thread leave\",\n          \"Are you sure you want to leave this thread?\"\n        )\n      )\n    } else {\n      const message = pgettext(\n        \"private thread leave\",\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser\n            ? pgettext(\"private thread leave btn\", \"Leave thread\")\n            : pgettext(\"private thread leave btn\", \"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function (props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = npgettext(\n    \"thread participants stat\",\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count,\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\",\n]\n\nexport const LABELS = [\n  pgettext(\"password strength indicator\", \"Entered password is very weak.\"),\n  pgettext(\"password strength indicator\", \"Entered password is weak.\"),\n  pgettext(\"password strength indicator\", \"Entered password is average.\"),\n  pgettext(\"password strength indicator\", \"Entered password is strong.\"),\n  pgettext(\"password strength indicator\", \"Entered password is very strong.\"),\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false,\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function (value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport getRandomString from \"../../../utils/getRandomString\"\n\nconst HASH_LENGTH = 12\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: getRandomString(HASH_LENGTH),\n      label: \"\",\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map((choice) => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = (hash) => {\n    const choices = this.props.choices.filter((choice) => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map((choice) => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = (event) => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem =\n      this.props.choice.label.length === 0\n        ? true\n        : window.confirm(\n            pgettext(\n              \"thread poll\",\n              \"Are you sure you want to remove this choice?\"\n            )\n          )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={pgettext(\"thread poll\", \"Remove this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={pgettext(\"thread poll\", \"Poll choice\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll.id\n      ? props.poll\n      : {\n          question: \"\",\n          choices: [\n            {\n              hash: \"choice-10000\",\n              label: \"\",\n            },\n            {\n              hash: \"choice-20000\",\n              label: \"\",\n            },\n          ],\n          length: 0,\n          allowed_choices: 1,\n          allow_revotes: 0,\n          is_public: 0,\n        }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.id,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: [],\n      },\n\n      errors: {},\n    }\n  }\n\n  setChoices = (choices) => {\n    this.setState((state) => {\n      return {\n        choices,\n        errors: Object.assign({}, state.errors, { choices: null }),\n      }\n    })\n  }\n\n  onCancel = () => {\n    let cancel = false\n\n    // Nothing added to the poll so no changes to discard\n    const formEmpty = !!(\n      this.state.question === \"\" &&\n      this.state.choices &&\n      this.state.choices.every((choice) => choice.label === \"\") &&\n      this.state.length === 0 &&\n      this.state.allowed_choices === 1\n    )\n\n    if (formEmpty) {\n      return this.props.close()\n    }\n\n    if (!!this.props.poll) {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard changes?\")\n      )\n    } else {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard new poll?\")\n      )\n    }\n\n    if (cancel) {\n      this.props.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public,\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    }\n\n    return ajax.post(this.props.thread.api.poll, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been edited.\"))\n    } else {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been posted.\"))\n    }\n\n    this.props.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection),\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel panel-default panel-form\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Edit poll\")\n                  : pgettext(\"thread poll\", \"Add poll\")}\n              </h3>\n            </div>\n            <div className=\"panel-body\">\n              <fieldset>\n                <legend>\n                  {pgettext(\"thread poll\", \"Question and choices\")}\n                </legend>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Poll question\")}\n                  for=\"id_questions\"\n                  validation={this.state.errors.question}\n                >\n                  <input\n                    className=\"form-control\"\n                    disabled={this.state.isLoading}\n                    id=\"id_questions\"\n                    onChange={this.bindInput(\"question\")}\n                    type=\"text\"\n                    maxLength=\"255\"\n                    value={this.state.question}\n                  />\n                </FormGroup>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Available choices\")}\n                  validation={this.state.errors.choices}\n                >\n                  <ChoicesControl\n                    choices={this.state.choices}\n                    disabled={this.state.isLoading}\n                    setChoices={this.setChoices}\n                  />\n                </FormGroup>\n              </fieldset>\n\n              <fieldset>\n                <legend>{pgettext(\"thread poll\", \"Voting\")}</legend>\n\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Poll length\")}\n                      helpText={pgettext(\n                        \"thread poll\",\n                        \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                      )}\n                      for=\"id_length\"\n                      validation={this.state.errors.length}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_length\"\n                        onChange={this.bindInput(\"length\")}\n                        type=\"text\"\n                        value={this.state.length}\n                      />\n                    </FormGroup>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allowed choices\")}\n                      for=\"id_allowed_choices\"\n                      validation={this.state.errors.allowed_choices}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_allowed_choices\"\n                        onChange={this.bindInput(\"allowed_choices\")}\n                        type=\"text\"\n                        maxLength=\"255\"\n                        value={this.state.allowed_choices}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <PollPublicSwitch\n                    bindInput={this.bindInput}\n                    disabled={this.state.isLoading}\n                    isEdit={this.state.isEdit}\n                    value={this.state.is_public}\n                  />\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allow vote changes\")}\n                      for=\"id_allow_revotes\"\n                    >\n                      <YesNoSwitch\n                        id=\"id_allow_revotes\"\n                        disabled={this.state.isLoading}\n                        iconOn=\"check\"\n                        iconOff=\"close\"\n                        labelOn={pgettext(\n                          \"thread poll\",\n                          \"Allow participants to change their vote\"\n                        )}\n                        labelOff={pgettext(\n                          \"thread poll\",\n                          \"Don't allow participants to change their vote\"\n                        )}\n                        onChange={this.bindInput(\"allow_revotes\")}\n                        value={this.state.allow_revotes}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n            <div className=\"panel-footer text-right\">\n              <button\n                className=\"btn btn-default\"\n                disabled={this.state.isLoading}\n                onClick={this.onCancel}\n                type=\"button\"\n              >\n                {pgettext(\"thread poll\", \"Cancel\")}\n              </button>{\" \"}\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Save changes\")\n                  : pgettext(\"thread poll\", \"Post poll\")}\n              </Button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={pgettext(\"thread poll\", \"Make voting public\")}\n        helpText={pgettext(\n          \"thread poll\",\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={pgettext(\"thread poll\", \"Votes are public\")}\n          labelOff={pgettext(\"thread poll\", \"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll, PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Started by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name),\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name),\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote.\",\n    \"%(votes)s votes.\",\n    props.votes\n  )\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return (\n    <li className=\"poll-info-public\">\n      {pgettext(\"thread poll\", \"Voting is public.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults,\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true,\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false,\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map((choice) => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc,\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {pgettext(\"thread poll\", \"You've voted on this choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function (props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          edit={props.edit}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      (data) => {\n        const hydratedData = data.map((choice) => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map((voter) => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on),\n              })\n            }),\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"thread poll\", \"Poll votes\")}\n            </h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map((choice) => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map((user) => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit\n        controls={controls}\n        poll={poll}\n        thread={thread}\n        onClick={props.edit}\n      />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function Edit(props) {\n  if (!props.poll.acl.can_edit) return null\n\n  return (\n    <div className={getClassName(props.controls, 2)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.onClick}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Edit\")}\n      </button>\n    </div>\n  )\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      pgettext(\n        \"thread poll\",\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = (newThreadAcl) => {\n    snackbar.success(pgettext(\"thread poll\", \"Poll has been deleted\"))\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = (rejection) => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {pgettext(\"thread poll\", \"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = npgettext(\n    \"thread poll\",\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft,\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {pgettext(\"thread poll\", \"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"poll-help-no-revotes\">\n      {pgettext(\"thread poll\", \"Votes are final.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices),\n    }\n  }\n\n  toggleChoice = (hash) => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices),\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected,\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected,\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(\n        pgettext(\"thread poll vote\", \"You need to select at least one choice.\")\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(pgettext(\"thread poll vote\", \"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {pgettext(\"thread poll vote btn\", \"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {pgettext(\"thread poll vote btn\", \"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n                onClick={this.props.edit}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map((choice) => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={pgettext(\n            \"post revert btn\",\n            \"Revert post to state from before this edit.\"\n          )}\n        >\n          {pgettext(\"post revert btn\", \"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null,\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true,\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  revertEdit = (edit) => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      pgettext(\n        \"post revert\",\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true,\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      (data) => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(\n          pgettext(\"post revert\", \"Post has been reverted to previous state.\")\n        )\n        modal.hide()\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"post history modal title\", \"Post edits history\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={pgettext(\n          \"post revert btn\",\n          \"Revert post to state from before this edit.\"\n        )}\n      >\n        {pgettext(\"post revert btn\", \"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\"post history modal\", \"By %(edited_by)s %(edited_on)s.\")\n    ),\n    {\n      edited_by: user,\n      edited_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on),\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function ({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map((post) => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.headline || props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {pgettext(\n          \"post body invalid\",\n          \"This post's contents cannot be displayed.\"\n        )}\n      </p>\n      <p className=\"text-muted\">\n        {pgettext(\n          \"post body invalid\",\n          \"This error is caused by invalid post content manipulation.\"\n        )}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    pgettext(\"posts feed item header\", \"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function ({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"panel-content\">\n            <PostSide post={post} poster={user} />\n            <Header post={post} />\n            <Body post={post} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function ({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {pgettext(\"post removed poster username\", \"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">\n        {pgettext(\"go to post link\", \"See post\")}\n      </span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function ({ post, poster }) {\n  if (poster && poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function () {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"panel-content\">\n              <div className=\"post-side post-side-anonymous\">\n                <div className=\"media\">\n                  <div className=\"media-left\">\n                    <span>\n                      <Avatar className=\"poster-avatar\" size={50} />\n                    </span>\n                  </div>\n                  <div className=\"media-body\">\n                    <div className=\"media-heading\">\n                      <span className=\"item-title\">\n                        <span\n                          className=\"ui-preview-text\"\n                          style={{ width: random.int(30, 200) + \"px\" }}\n                        >\n                          &nbsp;\n                        </span>\n                      </span>\n                    </div>\n                    <span className=\"user-title user-title-anonymous\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"post-heading\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(30, 200) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"post-body\">\n                <article className=\"misago-markup\">\n                  <p>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </p>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message\n            message={pgettext(\n              \"post likes modal\",\n              \"No users have liked this post.\"\n            )}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on),\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = pgettext(\"post likes modal title\", \"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = npgettext(\n      \"post likes modal\",\n      \"%(likes)s like\",\n      \"%(likes)s likes\",\n      likesCount\n    )\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map((like) => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars,\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nconst CLASS_ACTIVE = \"posting-active\"\nconst CLASS_DEFAULT = \"posting-default\"\nconst CLASS_MINIMIZED = \"posting-minimized\"\nconst CLASS_FULLSCREEN = \"posting-fullscreen\"\n\nclass PostingDialog extends React.Component {\n  componentDidMount() {\n    document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT)\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\n      CLASS_ACTIVE,\n      CLASS_DEFAULT,\n      CLASS_MINIMIZED,\n      CLASS_FULLSCREEN\n    )\n  }\n\n  componentWillReceiveProps({ fullscreen, minimized }) {\n    if (minimized) {\n      document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN)\n      document.body.classList.add(CLASS_MINIMIZED)\n    } else {\n      if (fullscreen) {\n        document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_FULLSCREEN)\n      } else {\n        document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_DEFAULT)\n      }\n    }\n  }\n\n  render() {\n    const { children, fullscreen, minimized } = this.props\n\n    return (\n      <div\n        className={classnames(\"posting-dialog\", {\n          \"posting-dialog-minimized\": minimized,\n          \"posting-dialog-fullscreen\": fullscreen && !minimized,\n        })}\n      >\n        <div className=\"posting-dialog-container\">{children}</div>\n      </div>\n    )\n  }\n}\n\nexport default PostingDialog\n","import React from \"react\"\n\nconst PostingDialogBody = ({ children }) => (\n  <div className=\"posting-dialog-body\">{children}</div>\n)\n\nexport default PostingDialogBody\n","import React from \"react\"\n\nconst PostingDialogError = ({ close, message }) => (\n  <div className=\"posting-dialog-error\">\n    <div className=\"posting-dialog-error-icon\">\n      <span className=\"material-icon\">error_outlined</span>\n    </div>\n    <div className=\"posting-dialog-error-detail\">\n      <p>{message}</p>\n      <button type=\"button\" className=\"btn btn-default\" onClick={close}>\n        {pgettext(\"modal\", \"Close\")}\n      </button>\n    </div>\n  </div>\n)\n\nexport default PostingDialogError\n","import React from \"react\"\n\nconst PostingDialogHeader = ({\n  children,\n  close,\n  fullscreen,\n  minimize,\n  minimized,\n  fullscreenEnter,\n  fullscreenExit,\n  open,\n}) => (\n  <div className=\"posting-dialog-header\">\n    <div className=\"posting-dialog-caption\">{children}</div>\n    {minimized ? (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Open\")}\n        type=\"button\"\n        onClick={open}\n      >\n        <span className=\"material-icon\">expand_less</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Minimize\")}\n        type=\"button\"\n        onClick={minimize}\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n    )}\n    {fullscreen ? (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Exit the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenExit}\n      >\n        <span className=\"material-icon\">fullscreen_exit</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Enter the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenEnter}\n      >\n        <span className=\"material-icon\">fullscreen</span>\n      </button>\n    )}\n    <button\n      className=\"btn btn-posting-dialog\"\n      title={pgettext(\"dialog\", \"Cancel\")}\n      type=\"button\"\n      onClick={close}\n    >\n      <span className=\"material-icon\">close</span>\n    </button>\n  </div>\n)\n\nexport default PostingDialogHeader\n","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport { getGlobalState, getQuoteMarkup } from \"../posting\"\n\nexport default class PostingQuoteSelection extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      range: null,\n      rect: null,\n    }\n\n    this.element = null\n  }\n\n  selected = () => {\n    if (this.element) {\n      const range = getQuoteSelection(this.element) || null\n      const rect = range ? range.getBoundingClientRect() : null\n\n      this.setState({ range, rect })\n    }\n  }\n\n  reply = () => {\n    if (!posting.isOpen()) {\n      const content = getQuoteMarkup(this.state.range)\n      posting.open(Object.assign({}, this.props.posting, { default: content }))\n\n      this.setState({ range: null, rect: null })\n\n      window.setTimeout(focusEditor, 1000)\n    } else {\n      const globalState = getGlobalState()\n      if (globalState && !globalState.disabled) {\n        globalState.quote(getQuoteMarkup(this.state.range))\n        this.setState({ range: null, rect: null })\n        focusEditor()\n      }\n    }\n  }\n\n  render = () => (\n    <div>\n      <div\n        ref={(element) => {\n          if (element) {\n            this.element = element\n          }\n        }}\n        onMouseUp={this.selected}\n        onTouchEnd={this.selected}\n      >\n        {this.props.children}\n      </div>\n      {!!this.state.rect && (\n        <div\n          className=\"quote-control\"\n          style={{\n            position: \"absolute\",\n            left: this.state.rect.left + window.scrollX,\n            top: this.state.rect.bottom + window.scrollY,\n          }}\n        >\n          <div className=\"quote-control-arrow\" />\n          <div className=\"quote-control-inner\">\n            <button\n              className=\"btn quote-control-btn\"\n              type=\"button\"\n              onClick={this.reply}\n            >\n              {pgettext(\"post reply\", \"Quote\")}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction focusEditor() {\n  const textarea = document.querySelector(\"#posting-mount textarea\")\n  textarea.focus()\n  textarea.selectionStart = textarea.selectionEnd = textarea.value.length\n}\n\nconst getQuoteSelection = (container) => {\n  if (typeof window.getSelection === \"undefined\") return\n\n  // Validate that selection is of valid type and has one range\n  const selection = window.getSelection()\n  if (!selection) return\n  if (selection.type !== \"Range\") return\n  if (selection.rangeCount !== 1) return\n\n  // Validate that selection is within the container and post's article\n  const range = selection.getRangeAt(0)\n  if (!isRangeContained(range, container)) return\n  if (!isPostContained(range)) return\n  if (!isAnyTextSelected(range.cloneContents())) return\n\n  return range\n}\n\nconst isRangeContained = (range, container) => {\n  const node = range.commonAncestorContainer\n  if (node === container) return true\n\n  let p = node.parentNode\n  while (p) {\n    if (p === container) return true\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst isPostContained = (range) => {\n  const element = range.commonAncestorContainer\n  if (element.nodeName === \"ARTICLE\") return true\n  if (element.dataset && element.dataset.noquote === \"1\") return false\n  let p = element.parentNode\n  while (p) {\n    if (p.dataset && p.dataset.noquote === \"1\") return false\n    if (p.nodeName === \"ARTICLE\") return true\n    p = p.parentNode\n  }\n  return false\n}\n\nconst isAnyTextSelected = (node) => {\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i]\n    if (child.nodeType === Node.TEXT_NODE) {\n      if (child.textContent && child.textContent.trim().length > 0) return true\n    }\n    if (child.nodeName === \"IMG\") return true\n    if (isAnyTextSelected(child)) return true\n  }\n\n  return false\n}\n","import React from \"react\"\n\nexport default function PostingThreadOptions({\n  isClosed,\n  isHidden,\n  isPinned,\n  disabled,\n  options,\n  close,\n  open,\n  hide,\n  unhide,\n  pinGlobally,\n  pinLocally,\n  unpin,\n}) {\n  const icons = getIcons(isClosed, isHidden, isPinned)\n\n  return (\n    <div className=\"dropdown\">\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"post thread\", \"Options\")}\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n        disabled={disabled}\n      >\n        {icons.length > 0 ? (\n          <span className=\"btn-icons-family\">\n            {icons.map((icon) => (\n              <span key={icon} className=\"material-icon\">\n                {icon}\n              </span>\n            ))}\n          </span>\n        ) : (\n          <span className=\"material-icon\">more_horiz</span>\n        )}\n      </button>\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {options.pin === 2 && isPinned !== 2 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinGlobally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {pgettext(\"post thread\", \"Pinned globally\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 1 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinLocally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark_outline</span>\n              {pgettext(\"post thread\", \"Pinned in category\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 0 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unpin}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">radio_button_unchecked</span>\n              {pgettext(\"post thread\", \"Not pinned\")}\n            </button>\n          </li>\n        )}\n        {options.close && !!isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={open}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {pgettext(\"post thread\", \"Open\")}\n            </button>\n          </li>\n        )}\n        {options.close && !isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={close}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock</span>\n              {pgettext(\"post thread\", \"Closed\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !!isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unhide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {pgettext(\"post thread\", \"Visible\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={hide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {pgettext(\"post thread\", \"Hidden\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nfunction getIcons(closed, hidden, pinned) {\n  const icons = []\n  if (pinned === 2) icons.push(\"bookmark\")\n  if (pinned === 1) icons.push(\"bookmark_outline\")\n  if (closed) icons.push(\"lock\")\n  if (hidden) icons.push(\"visibility_off\")\n  return icons\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: false,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n\n    this.originalPost = \"\"\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.originalPost = data.post\n\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post.trim() + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    const originalPostSameAsCurrentPost =\n      this.state.originalPost === this.state.post\n    const noAttachementsAdded = this.state.attachments.length === 0\n\n    if (originalPostSameAsCurrentPost && noAttachementsAdded) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"edit reply\", \"Are you sure you want to discard changes?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true,\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    setGlobalState(false, this.onQuote)\n\n    snackbar.success(pgettext(\"edit reply\", \"Reply has been edited.\"))\n    window.location = success.url.index\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      post: this.props.post,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogEditReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogEditReply>\n      )\n    }\n\n    return (\n      <PostingDialogEditReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            canProtect={this.state.canProtect}\n            isProtected={this.state.protect}\n            enableProtection={() => this.setState({ protect: true })}\n            disableProtection={() => this.setState({ protect: false })}\n            value={this.state.post}\n            submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogEditReply>\n    )\n  }\n}\n\nconst PostingDialogEditReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  post,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"edit reply\", \"Edit reply by %(poster)s from %(date)s\"),\n        {\n          poster: post.poster ? post.poster.username : post.poster_name,\n          date: post.posted_on.fromNow(),\n        },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","const getQuoteMarkup = (range) => {\n  const metadata = getQuoteMetadata(range)\n  let markup = convertNodesToMarkup(range.cloneContents().childNodes, [])\n  let prefix = metadata ? `[quote=\"${metadata}\"]\\n` : \"[quote]\\n\"\n  let suffix = \"\\n[/quote]\\n\\n\"\n\n  const codeBlock = getQuoteCodeBlock(range)\n  if (codeBlock) {\n    prefix += codeBlock.syntax ? `[code=${codeBlock.syntax}]\\n` : \"[code]\\n\"\n    suffix = \"\\n[/code]\" + suffix\n  } else if (isNodeInlineCodeBlock(range)) {\n    markup = markup.trim()\n    prefix += \"`\"\n    suffix = \"`\" + suffix\n  } else {\n    markup = markup.trim()\n  }\n\n  return prefix + markup + suffix\n}\n\nexport default getQuoteMarkup\n\nconst getQuoteMetadata = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeElementWithQuoteMetadata(node)) {\n    return getQuoteMetadataFromNode(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return getQuoteMetadataFromNode(p)\n    }\n    p = p.parentNode\n  }\n\n  return \"\"\n}\n\nconst isNodeElementWithQuoteMetadata = (node) => {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false\n  if (node.nodeName === \"ARTICLE\") return true\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    return node.dataset && node.dataset.block === \"quote\"\n  }\n\n  return false\n}\n\nconst getQuoteMetadataFromNode = (element) => {\n  if (element.dataset) {\n    return element.dataset.author || null\n  }\n  return null\n}\n\nconst getQuoteCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeCodeBlock(node)) {\n    return getNodeCodeBlockMeta(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeCodeBlock(p)) {\n      return getNodeCodeBlockMeta(p)\n    }\n    p = p.parentNode\n  }\n\n  return null\n}\n\nconst isNodeCodeBlock = (node) => {\n  return node.nodeName === \"PRE\"\n}\n\nconst isNodeInlineCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (node.nodeName === \"CODE\") {\n    return true\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return false\n    }\n\n    if (p.nodeName === \"CODE\") {\n      return true\n    }\n\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst getNodeCodeBlockMeta = (node) => {\n  if (!node.dataset) {\n    return { syntax: null }\n  }\n\n  return { syntax: node.dataset.syntax || null }\n}\n\nconst convertNodesToMarkup = (nodes, stack) => {\n  let markup = \"\"\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i]\n    markup += convertNodeToMarkup(node, stack)\n  }\n  return markup\n}\n\nconst SIMPLE_NODE_MAPPINGS = {\n  H1: [\"\\n\\n# \", \"\"],\n  H2: [\"\\n\\n## \", \"\"],\n  H3: [\"\\n\\n### \", \"\"],\n  H4: [\"\\n\\n#### \", \"\"],\n  H5: [\"\\n\\n##### \", \"\"],\n  H6: [\"\\n\\n###### \", \"\"],\n  STRONG: [\"**\", \"**\"],\n  EM: [\"*\", \"*\"],\n  DEL: [\"~~\", \"~~\"],\n  B: [\"[b]\", \"[/b]\"],\n  U: [\"[u]\", \"[/u]\"],\n  I: [\"[i]\", \"[/i]\"],\n  SUB: [\"[sub]\", \"[/sub]\"],\n  SUP: [\"[sup]\", \"[/sup]\"],\n}\n\nconst convertNodeToMarkup = (node, stack) => {\n  const dataset = node.dataset || {}\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    return node.textContent || \"\"\n  }\n\n  if (node.nodeType === Node.ELEMENT_NODE) {\n    if (dataset.quote) {\n      return dataset.quote || \"\"\n    }\n    if (dataset.noquote === \"1\") return \"\"\n  }\n\n  if (\n    node.nodeType === Node.ELEMENT_NODE &&\n    dataset.quote &&\n    dataset.quote.trim()\n  ) {\n    return \"\"\n  }\n\n  if (node.nodeName === \"HR\") {\n    return \"\\n\\n- - -\"\n  }\n\n  if (SIMPLE_NODE_MAPPINGS[node.nodeName]) {\n    const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[node.nodeName]\n    return (\n      prefix +\n      convertNodesToMarkup(node.childNodes, [...stack, node.nodeName]) +\n      suffix\n    )\n  }\n\n  if (node.nodeName === \"A\") {\n    const href = node.href\n    const text = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (text) {\n      return `[${text}](${href})`\n    } else {\n      return `!(${href})`\n    }\n  }\n\n  if (node.nodeName === \"IMG\") {\n    const src = node.src\n    const alt = node.alt\n    if (alt) {\n      return `![${alt}](${src})`\n    } else {\n      return `!(${src})`\n    }\n  }\n\n  if (node.nodeName === \"DIV\" || node.nodeName === \"ASIDE\") {\n    const block = dataset.block && dataset.block.toUpperCase()\n    if (block && SIMPLE_NODE_MAPPINGS[block]) {\n      const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[block]\n      return (\n        prefix +\n        convertNodesToMarkup(node.childNodes, [...stack, block]) +\n        suffix\n      )\n    } else {\n      return convertNodesToMarkup(node.childNodes, stack)\n    }\n  }\n\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    if (dataset.block === \"spoiler\") {\n      const content = convertNodesToMarkup(node.childNodes, [\n        ...stack,\n        \"SPOILER\",\n      ]).trim()\n\n      if (!content) return \"\"\n\n      let markup = \"\\n[spoiler]\\n\"\n      markup += content\n      markup += \"\\n[/spoiler]\"\n      return markup\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      \"QUOTE\",\n    ]).trim()\n\n    if (!content) return \"\"\n\n    const metadata = getQuoteMetadataFromNode(node)\n    let markup = metadata ? `\\n[quote=${metadata}]\\n` : \"\\n\\n[quote]\\n\"\n    markup += content\n    markup += \"\\n[/quote]\"\n    return markup\n  }\n\n  if (node.nodeName === \"PRE\") {\n    const syntax = dataset.syntax || null\n    const code = node.querySelector(\"code\")\n    const content = code ? code.innerText || \"\" : \"\"\n\n    if (!content.trim()) return \"\"\n\n    return \"\\n[code\" + (syntax ? \"=\" + syntax : \"\") + \"]\" + content + \"[/code]\"\n  }\n\n  if (node.nodeName === \"CODE\") {\n    return \"`\" + node.innerText + \"`\"\n  }\n\n  if (node.nodeName === \"P\") {\n    return (\n      \"\\n\" + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"UL\" || node.nodeName === \"OL\") {\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    const prefix = level === 0 ? \"\\n\" : \"\"\n    return (\n      prefix + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"LI\") {\n    let prefix = \"\"\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    for (let i = 1; i < level; i++) {\n      prefix += \"    \"\n    }\n\n    const ordered = stack[stack.length - 1] === \"OL\"\n    if (ordered) {\n      prefix += dataset.index ? dataset.index + \". \" : \"1. \"\n    } else {\n      prefix += \"- \"\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (!content.trim()) return \"\"\n\n    return \"\\n\" + prefix + content\n  }\n\n  if (node.nodeName === \"SPAN\") {\n    return convertNodesToMarkup(node.childNodes, stack)\n  }\n\n  return \"\"\n}\n","export function getGlobalState() {\n  return window.misagoReply\n}\n\nexport function setGlobalState(disabled, quote) {\n  window.misagoReply = { disabled, quote }\n}\n\nexport function clearGlobalState() {\n  window.misagoReply = null\n}\n","import React from \"react\"\nimport PostingQuoteSelection from \"./PostingQuoteSelection\"\nimport getQuoteMarkup from \"./getQuoteMarkup\"\nimport { clearGlobalState, getGlobalState, setGlobalState } from \"./globalState\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function (props) {\n  switch (props.mode) {\n    case \"START\":\n      return <Start {...props} />\n\n    case \"START_PRIVATE\":\n      return <StartPrivate {...props} />\n\n    case \"REPLY\":\n      return <Reply {...props} />\n\n    case \"EDIT\":\n      return <Edit {...props} />\n\n    default:\n      return null\n  }\n}\n\nexport {\n  PostingQuoteSelection,\n  clearGlobalState,\n  getGlobalState,\n  getQuoteMarkup,\n  setGlobalState,\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: this.props.default || \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n\n    this.quoteText = \"\"\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    // User clicked \"reply\" instead of \"quote\"\n    if (context && newContext && !newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : this.state.post,\n    })\n\n    this.quoteText = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n      : this.state.post\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post.trim() + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    // If only the quote text is on editor user didn't add anything\n    // so no changes to discard\n    const onlyQuoteTextInEditor = this.state.post === this.quoteText\n\n    if (onlyQuoteTextInEditor && this.state.attachments.length === 0) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"post reply\", \"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    setGlobalState(false, this.onQuote)\n\n    snackbar.success(pgettext(\"post reply\", \"Your reply has been posted.\"))\n    window.location = success.url.index\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      thread: this.props.thread,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post reply submit\", \"Post reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogReply>\n      )\n    }\n\n    return (\n      <PostingDialogReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post reply submit\", \"Post reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogReply>\n    )\n  }\n}\n\nconst PostingDialogReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  thread,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"post reply\", \"Reply to: %(thread)s\"),\n        { thread: thread.title },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map((user) => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  onCancel = () => {\n    const formEmpty = !!(\n      this.state.post.length === 0 &&\n      this.state.title.length === 0 &&\n      this.state.to.length === 0 &&\n      this.state.attachments.length === 0\n    )\n\n    if (formEmpty) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\n        \"post thread\",\n        \"Are you sure you want to discard private thread?\"\n      )\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onToChange = (event) => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter at least one recipient.\")\n      )\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    return (\n      <PostingDialogStartPrivate {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-recipients\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onToChange}\n                  placeholder={pgettext(\n                    \"post thread\",\n                    \"Recipients, eg.: Danny, Lisa, Alice\"\n                  )}\n                  type=\"text\"\n                  value={this.state.to}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStartPrivate>\n    )\n  }\n}\n\nconst PostingDialogStartPrivate = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start private thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport PostingThreadOptions from \"./PostingThreadOptions\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      options: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    let category = null\n    let options = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map((item) => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        options = item.post\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id,\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      options,\n\n      categories,\n      category,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const formEmpty = !!(\n      this.state.post.length === 0 &&\n      this.state.title.length === 0 &&\n      this.state.attachments.length === 0\n    )\n\n    if (formEmpty) {\n      this.minimize()\n      return posting.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"post thread\", \"Are you sure you want to discard thread?\")\n    )\n    if (cancel) {\n      this.minimize()\n      posting.close()\n    }\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = (event) => {\n    const category = this.state.categories.find((item) => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogStart>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <Toolbar className=\"posting-dialog-toolbar\">\n              <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n                <ToolbarItem auto>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n              <ToolbarSection className=\"posting-dialog-category-select\" auto>\n                <ToolbarItem>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n            </Toolbar>\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post thread submit\", \"Start thread\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogStart>\n      )\n    }\n\n    const showOptions = !!(\n      this.state.options.close ||\n      this.state.options.hide ||\n      this.state.options.pin\n    )\n\n    return (\n      <PostingDialogStart {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-category-select\" auto>\n              <ToolbarItem>\n                <CategorySelect\n                  choices={this.state.categories}\n                  disabled={this.state.isLoading}\n                  onChange={this.onCategoryChange}\n                  value={this.state.category}\n                />\n              </ToolbarItem>\n              {showOptions && (\n                <ToolbarItem shrink>\n                  <PostingThreadOptions\n                    isClosed={this.state.close}\n                    isHidden={this.state.hide}\n                    isPinned={this.state.pin}\n                    disabled={this.state.isLoading}\n                    options={this.state.options}\n                    close={this.onClose}\n                    open={this.onOpen}\n                    hide={this.onHide}\n                    unhide={this.onUnhide}\n                    pinGlobally={this.onPinGlobally}\n                    pinLocally={this.onPinLocally}\n                    unpin={this.onUnpin}\n                  />\n                </ToolbarItem>\n              )}\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStart>\n    )\n  }\n}\n\nconst PostingDialogStart = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start new thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  return attachments\n    .filter((attachment) => {\n      return attachment.id && !attachment.isRemoved\n    })\n    .map((a) => {\n      return a.id\n    })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map((attachment) => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on),\n    })\n  })\n}\n","export default function (usernames) {\n  const normalisedNames = usernames\n    .split(\",\")\n    .map((i) => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter((i) => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"thread title length validator\",\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"thread title length validator\",\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"post length validator\",\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"post length validator\",\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url,\n        }),\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {pgettext(\"event hide btn\", \"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false,\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {pgettext(\"event reveal btn\", \"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      pgettext(\n        \"event delete\",\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(pgettext(\"event delete\", \"Event has been deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {pgettext(\"event delete btn\", \"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\",\n}\n\nconst EventIcon = (props) => (\n  <span className=\"event-icon-bg\">\n    <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n  </span>\n)\n\nexport default EventIcon\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function (props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"event-body\">\n        <div className=\"event-icon\">\n          <Icon {...props} />\n        </div>\n        <Waypoint className=\"event-content\" post={props.post}>\n          <Message {...props} />\n          <Info {...props} />\n        </Waypoint>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow()),\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(\n        pgettext(\"event info\", \"Hidden by %(event_by)s %(event_on)s.\")\n      ),\n      {\n        event_by: user,\n        event_on: date,\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(pgettext(\"event info\", \"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date,\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: pgettext(\n    \"event message\",\n    \"Thread has been pinned globally.\"\n  ),\n  pinned_locally: pgettext(\n    \"event message\",\n    \"Thread has been pinned in category.\"\n  ),\n  unpinned: pgettext(\"event message\", \"Thread has been unpinned.\"),\n\n  approved: pgettext(\"event message\", \"Thread has been approved.\"),\n\n  opened: pgettext(\"event message\", \"Thread has been opened.\"),\n  closed: pgettext(\"event message\", \"Thread has been closed.\"),\n\n  unhid: pgettext(\"event message\", \"Thread has been revealed.\"),\n  hid: pgettext(\"event message\", \"Thread has been made hidden.\"),\n\n  tookover: pgettext(\"event message\", \"Took thread over.\"),\n\n  owner_left: pgettext(\n    \"event message\",\n    \"Owner has left thread. This thread is now closed.\"\n  ),\n  participant_left: pgettext(\"event message\", \"Participant has left thread.\"),\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    pgettext(\n      \"event message\",\n      \"Thread title has been changed from %(old_title)s.\"\n    )\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title),\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    pgettext(\n      \"event message\",\n      \"The %(merged_thread)s thread has been merged into this thread.\"\n    )\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Changed thread owner to %(user)s.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Added %(user)s to thread.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Removed %(user)s from thread.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"event-label\">\n      <span className=\"label label-unread\">\n        {pgettext(\"event unread label\", \"New event\")}\n      </span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function (props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map((post) => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n          target=\"_blank\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      target=\"_blank\"\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\n        \"post attachment\",\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map((row) => {\n        const key = row\n          .map((a) => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map((attachment) => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default({ post }) {\n  const poster = \"@\" + (post.poster ? post.poster.username : post.poster_name)\n\n  return (\n    <Waypoint className=\"post-body\" post={post}>\n      <MisagoMarkup author={poster} markup={post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\"post body hidden\", \"Hidden by %(hidden_by)s %(hidden_on)s.\")\n    ),\n    {\n      hidden_by: user,\n      hidden_on: date,\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {pgettext(\n          \"post body hidden\",\n          \"This post is hidden. You cannot see its contents.\"\n        )}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {pgettext(\n          \"post body invalid\",\n          \"This post's contents cannot be displayed.\"\n        )}\n      </p>\n      <p className=\"text-muted\">\n        {pgettext(\n          \"post body invalid\",\n          \"This error is caused by invalid post content manipulation.\"\n        )}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url,\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter((user) => {\n        return !user.id || user.id !== props.user.id\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    (newState) => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"post delete\",\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true,\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(pgettext(\"post delete\", \"Post has been deleted.\"))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false,\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug,\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null,\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    (newState) => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(pgettext(\"post permalink\", \"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {pgettext(\"post options permalink btn\", \"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {pgettext(\"post options edit btn\", \"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {pgettext(\"post options best answer btn\", \"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {pgettext(\"post options best answer btn\", \"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = npgettext(\n      \"post edits\",\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {pgettext(\"post options edit btn\", \"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {pgettext(\"post options approve btn\", \"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {pgettext(\"post options move btn\", \"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {pgettext(\"post options split btn\", \"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {pgettext(\"post options protect btn\", \"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {pgettext(\"post options protect btn\", \"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {pgettext(\"post options hide btn\", \"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {pgettext(\"post options hide btn\", \"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {pgettext(\"post options delete btn\", \"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function (props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"post move modal\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"post move modal\",\n        \"Selected post was moved to the other thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"post move modal field\",\n                  \"Link to thread you want to move post to\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\"post move modal btn\", \"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"post move modal title\", \"Move post\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: pgettext(\"thread hidden switch choice\", \"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: pgettext(\"thread hidden switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: pgettext(\"thread closed switch choice\", \"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: pgettext(\"thread closed switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\"post split modal\", \"Selected post was split into new thread.\")\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: pgettext(\"thread weight choice\", \"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: pgettext(\"thread weight choice\", \"Pinned in category\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: pgettext(\"thread weight choice\", \"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={pgettext(\"posts split modal field\", \"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={pgettext(\"posts split modal field\", \"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {pgettext(\"posts split modal btn\", \"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {pgettext(\n            \"post split modal\",\n            \"You can't move this post at the moment.\"\n          )}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"posts split modal title\", \"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      pgettext(\n        \"post best answer flag\",\n        \"Marked as best answer by you %(marked_on)s.\"\n      ),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      pgettext(\n        \"post best answer flag\",\n        \"Marked as best answer by %(marked_by)s %(marked_on)s.\"\n      ),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {pgettext(\n          \"post hidden flag\",\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {pgettext(\n          \"post unapproved flag\",\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>\n        {pgettext(\n          \"post protected flag\",\n          \"This post is protected. Only moderators may change it.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Quote {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {pgettext(\"post footer btn\", \"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked\n          ? pgettext(\"post footer btn\", \"Liked\")\n          : pgettext(\"post footer btn\", \"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map((u) => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      pgettext(\"post likes\", \"%(user)s likes this.\"),\n      {\n        user: usernames[0],\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    pgettext(\"post likes\", \"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser,\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      pgettext(\"post likes\", \"%(users)s like this.\"),\n      {\n        users: usernamesList,\n      },\n      true\n    )\n  }\n\n  const message = npgettext(\n    \"post likes\",\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes,\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Quote extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"QUOTE\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id,\n      },\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Quote\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription,\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport Timestamp from \"misago/components/Timestamp\"\nimport modal from \"misago/services/modal\"\n\nexport default function (props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">\n      {pgettext(\"post unread label\", \"New post\")}\n    </span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {pgettext(\"post unread label\", \"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  return (\n    <a href={props.post.url.index} className=\"btn btn-link posted-on hidden-xs\">\n      <Timestamp datetime={props.post.posted_on.toISOString()} />\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = npgettext(\n      \"post edits stat\",\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    const label = npgettext(\n      \"post edits stat\",\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = npgettext(\n      \"post edits stat\",\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={pgettext(\n        \"post protected label\",\n        \"This post is protected and may not be edited.\"\n      )}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {pgettext(\"post protected label\", \"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected,\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function (props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide {...props} />\n          <div className=\"panel-content\">\n            <Header {...props} />\n            <FlagBestAnswer {...props} />\n            <FlagUnapproved {...props} />\n            <FlagProtected {...props} />\n            <FlagHidden {...props} />\n            <Body {...props} />\n            <Attachments {...props} />\n            <Footer {...props} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\n\nexport default function ({ post, thread }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {pgettext(\"post removed poster username\", \"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function (props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  const message = npgettext(\n    \"poster stats\",\n    \"%(posts)s post\",\n    \"%(posts)s posts\",\n    poster.posts\n  )\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts,\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nconst PostPreview = () => (\n  <li className=\"post\">\n    <div className=\"panel panel-default panel-post\">\n      <div className=\"panel-body\">\n        <div className=\"post-side post-side-registered\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <span>\n                <Avatar className=\"poster-avatar\" size=\"100\" />\n              </span>\n            </div>\n            <div className=\"media-body\">\n              <span className=\"media-heading item-title\">\n                <span className=\"ui-preview-text\" style={{ width: \"80px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n              <span className=\"user-title user-title-anonymous\">\n                <span className=\"ui-preview-text\" style={{ width: \"60px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"panel-content\">\n          <div className=\"post-body\">\n            <article className=\"misago-markup\">\n              <p className=\"ui-preview-text\" style={{ width: \"100%\" }}>\n                &nbsp;\n              </p>\n              <p className=\"ui-preview-text\" style={{ width: \"70%\" }}>\n                &nbsp;\n              </p>\n              <p\n                className=\"ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: \"85%\" }}\n              >\n                &nbsp;\n              </p>\n            </article>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n)\n\nexport default PostPreview\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.initialized = false\n    this.primed = false\n    this.observer = null\n  }\n\n  initialize = (element) => {\n    this.initialized = true\n\n    this.observer = new IntersectionObserver((entries) =>\n      entries.forEach(this.callback)\n    )\n    this.observer.observe(element)\n  }\n\n  callback = (entry) => {\n    if (!entry.isIntersecting || this.props.post.is_read || this.primed) {\n      return\n    }\n\n    window.setTimeout(() => {\n      ajax.post(this.props.post.api.read)\n    }, 0)\n\n    this.primed = true\n    this.destroy()\n  }\n\n  destroy() {\n    if (this.observer) {\n      this.observer.disconnect()\n      this.observer = null\n    }\n  }\n\n  componentWillUnmount() {\n    this.destroy()\n  }\n\n  render() {\n    const ready = !this.initialized && !this.primed && !this.props.post.is_read\n\n    return (\n      <div\n        className={this.props.className}\n        ref={(node) => {\n          if (node && ready) {\n            this.initialize(node)\n          }\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Status, { StatusIcon, StatusLabel } from \"../user-status\"\n\nconst ProfileDataList = ({ profile }) => (\n  <ul className=\"profile-data-list\">\n    {profile.is_active === false && (\n      <li className=\"user-account-disabled\">\n        <abbr\n          title={pgettext(\n            \"profile data list\",\n            \"This user's account has been disabled by administrator.\"\n          )}\n        >\n          {pgettext(\"profile data list\", \"Account disabled\")}\n        </abbr>\n      </li>\n    )}\n    <li className=\"user-status-display\">\n      <Status user={profile} status={profile.status}>\n        <StatusIcon user={profile} status={profile.status} />\n        <StatusLabel\n          user={profile}\n          status={profile.status}\n          className=\"status-label\"\n        />\n      </Status>\n    </li>\n    {profile.rank.is_tab ? (\n      <li className=\"user-rank\">\n        <a href={profile.rank.url} className=\"item-title\">\n          {profile.rank.name}\n        </a>\n      </li>\n    ) : (\n      <li className=\"user-rank\">\n        <span className=\"item-title\">{profile.rank.name}</span>\n      </li>\n    )}\n    {(profile.title || profile.rank.title) && (\n      <li className=\"user-title\">{profile.title || profile.rank.title}</li>\n    )}\n    <li className=\"user-joined-on\">\n      <abbr\n        title={interpolate(\n          pgettext(\"profile data list\", \"Joined on %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.format(\"LL, LT\"),\n          },\n          true\n        )}\n      >\n        {interpolate(\n          pgettext(\"profile data list\", \"Joined %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.fromNow(),\n          },\n          true\n        )}\n      </abbr>\n    </li>\n    {profile.email && (\n      <li className=\"user-email\">\n        <a href={\"mailto:\" + profile.email} className=\"item-title\">\n          {profile.email}\n        </a>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ProfileDataList\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../PageHeader\"\nimport FollowButton from \"./follow-button\"\nimport MessageButton from \"./message-button\"\nimport ModerationOptions from \"./moderation/nav\"\nimport ProfileDataList from \"./ProfileDataList\"\n\nconst ProfileHeader = ({ profile, user, moderation, message, follow }) => (\n  <PageHeaderContainer>\n    <PageHeader\n      styleName={\n        profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n      }\n    >\n      <PageHeaderBanner\n        styleName={\n          profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n        }\n      >\n        <div className=\"profile-page-header\">\n          <div className=\"profile-page-header-avatar\">\n            <Avatar\n              className=\"user-avatar hidden-sm hidden-md hidden-lg\"\n              user={profile}\n              size={200}\n              size2x={400}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-md hidden-lg\"\n              user={profile}\n              size={64}\n              size2x={128}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-sm\"\n              user={profile}\n              size={128}\n              size2x={256}\n            />\n          </div>\n          <h1>{profile.username}</h1>\n        </div>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"profile-page-header-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol>\n              <ProfileDataList profile={profile} />\n            </FlexRowCol>\n          </FlexRowSection>\n          {message && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <MessageButton\n                  className=\"btn btn-default btn-block btn-outline\"\n                  profile={profile}\n                  user={user}\n                />\n              </FlexRowCol>\n              {moderation.available && !follow && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {follow && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <FollowButton\n                  className=\"btn btn-block btn-outline\"\n                  profile={profile}\n                />\n              </FlexRowCol>\n              {moderation.available && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {moderation.available && !follow && !message && (\n            <FlexRowSection>\n              <FlexRowCol className=\"hidden-xs\" shrink>\n                <div className=\"dropdown\">\n                  <ProfileModerationButton />\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n              <FlexRowCol className=\"hidden-sm hidden-md hidden-lg\">\n                <div className=\"dropdown\">\n                  <button\n                    className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n                    type=\"button\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <span className=\"material-icon\">settings</span>\n                    {pgettext(\"profile options btn\", \"Options\")}\n                  </button>\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst ProfileModerationButton = () => (\n  <button\n    className=\"btn btn-default btn-icon btn-outline dropdown-toggle\"\n    type=\"button\"\n    title={pgettext(\"profile options btn\", \"Options\")}\n    data-toggle=\"dropdown\"\n    aria-haspopup=\"true\"\n    aria-expanded=\"false\"\n  >\n    <span className=\"material-icon\">settings</span>\n  </button>\n)\n\nexport default ProfileHeader\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst ProfileNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">{page.icon}</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => (\n          <li key={page.component}>\n            <Link to={baseUrl + page.component + \"/\"}>\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => (\n        <Li path={baseUrl + page.component + \"/\"} key={page.component}>\n          <Link to={baseUrl + page.component + \"/\"}>\n            <span className=\"material-icon\">{page.icon}</span>\n            {page.name}\n          </Link>\n        </Li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ProfileNav\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban,\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error,\n    })\n  }\n\n  update = (ban) => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban,\n    })\n  }\n\n  error = (error) => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile ban details title\", \"Ban details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{pgettext(\"profile ban details\", \"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{pgettext(\"profile ban details\", \"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          pgettext(\n            \"profile ban details\",\n            \"This ban expires on %(expires_on)s.\"\n          ),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          pgettext(\"profile ban details\", \"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return pgettext(\"profile ban details\", \"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        pgettext(\"profile ban details\", \"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{pgettext(\"profile ban details\", \"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={pgettext(\n                \"profile ban details\",\n                \"No ban is active at the moment.\"\n              )}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">\n              {pgettext(\"profile ban details title\", \"Ban details\")}\n            </h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = pgettext(\n      \"profile details empty\",\n      \"You are not sharing any details with others.\"\n    )\n  } else {\n    message = interpolate(\n      pgettext(\n        \"profile details empty\",\n        \"%(username)s is not sharing any details with others.\"\n      ),\n      {\n        username: profile.username,\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function (props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function ({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function ({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile,\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nconst ProfileDetailsHeader = ({ onEdit, showEditButton }) => (\n  <Toolbar>\n    <ToolbarSection auto>\n      <ToolbarItem auto>\n        <h3>{pgettext(\"profile details title\", \"Details\")}</h3>\n      </ToolbarItem>\n    </ToolbarSection>\n    {showEditButton && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            onClick={onEdit}\n            type=\"button\"\n          >\n            {pgettext(\"profile details edit btn\", \"Edit\")}\n          </button>\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ProfileDetailsHeader\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile details title\", \"Details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = (newDetails) => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = pgettext(\n        \"profile details form\",\n        \"Your details have been changed.\"\n      )\n    } else {\n      message = interpolate(\n        pgettext(\n          \"profile details form\",\n          \"%(username)s's details have been changed.\"\n        ),\n        {\n          username: profile.username,\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = pgettext(\n      \"profile threads\",\n      \"You haven't started any threads.\"\n    )\n  } else {\n    emptyMessage = interpolate(\n      pgettext(\"profile threads\", \"%(username)s hasn't started any threads\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = pgettext(\"profile threads\", \"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = npgettext(\n      \"profile threads\",\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads,\n      },\n      true\n    )\n  } else {\n    const message = npgettext(\n      \"profile threads\",\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={pgettext(\"profile threads title\", \"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = pgettext(\"profile posts\", \"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      pgettext(\"profile posts\", \"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = pgettext(\"profile posts\", \"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = npgettext(\n      \"profile posts\",\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts,\n      },\n      true\n    )\n  } else {\n    const message = npgettext(\n      \"profile posts\",\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={pgettext(\"profile posts title\", \"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0,\n      })\n      .then(\n        (data) => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false,\n          })\n        },\n        (rejection) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username,\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.props.header}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (props.posts.isLoaded && !props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {pgettext(\"profile load more btn\", \"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return pgettext(\"user profile follow btn\", \"Following\")\n    } else {\n      return pgettext(\"user profile follow btn\", \"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1,\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1,\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n        })\n\n        store.dispatch(patch(data))\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = pgettext(\"profile followers title\", \"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1,\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile followers\",\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile followers\",\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile followers\",\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile followers\",\n        \"Search returned no users matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\"profile followers\", \"You have no followers.\")\n    } else {\n      return interpolate(\n        pgettext(\"profile followers\", \"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            pgettext(\"profile followers\", \"Show more (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={pgettext(\n                  \"profile followers search\",\n                  \"Search users...\"\n                )}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = pgettext(\"profile follows title\", \"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"profile follows\", \"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile follows\",\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile follows\",\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile follows\",\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile follows\",\n        \"Search returned no users matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\"profile follows\", \"You are not following any users.\")\n    } else {\n      return interpolate(\n        pgettext(\"profile follows\", \"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile],\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {pgettext(\"profile message btn\", \"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\",\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      (options) => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\",\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(\n      pgettext(\n        \"profile avatar moderation\",\n        \"Avatar controls have been changed.\"\n      )\n    )\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"Lock avatar\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={pgettext(\n                \"profile avatar moderation field\",\n                \"Disallow user from changing avatar\"\n              )}\n              labelOff={pgettext(\n                \"profile avatar moderation field\",\n                \"Allow user to change avatar\"\n              )}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"User message\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Optional message for user explaining why they are prohibited from changing their avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"Staff message\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Optional message for forum team members explaining why the user is prohibited form changing their avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {pgettext(\"profile avatar moderation btn\", \"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"profile avatar moderation btn\", \"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile avatar moderation title\", \"Avatar controls\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()],\n      },\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\",\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(\n      pgettext(\"profile username moderation\", \"Username has been changed.\")\n    )\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\n              \"profile username moderation field\",\n              \"New username\"\n            )}\n            for=\"id_username\"\n          >\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {pgettext(\"profile username moderation btn\", \"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"profile username moderation btn\", \"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile username moderation title\", \"Change username\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n\n        this.countdown()\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1,\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true,\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content,\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          pgettext(\n            \"profile delete\",\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          pgettext(\n            \"profile delete\",\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        pgettext(\"profile delete btn\", \"Delete %(username)s\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        pgettext(\"profile delete btn\", \"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown,\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\"profile delete\", \"User content\")}\n            for=\"id_with_content\"\n          >\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={pgettext(\n                \"profile delete content\",\n                \"Delete together with user's account\"\n              )}\n              labelOff={pgettext(\n                \"profile delete content\",\n                \"Hide after deleting user's account\"\n              )}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {pgettext(\"profile delete btn\", \"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {pgettext(\"profile delete link\", \"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile delete title\", \"Delete user account\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function (store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile,\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n        {!!moderation.avatar && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showAvatarDialog}\n            >\n              <span className=\"material-icon\">portrait</span>\n              {pgettext(\"profile moderation menu\", \"Avatar controls\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.rename && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showRenameDialog}\n            >\n              <span className=\"material-icon\">credit_card</span>\n              {pgettext(\"profile moderation menu\", \"Change username\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showDeleteDialog}\n            >\n              <span className=\"material-icon\">clear</span>\n              {pgettext(\"profile moderation menu\", \"Delete account\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport PageContainer from \"../PageContainer\"\nimport ProfileHeader from \"./ProfileHeader\"\nimport ProfileNav from \"./ProfileNav\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n    const page = pages.filter((page) => {\n      const url = baseUrl + page.component + \"/\"\n      return this.props.location.pathname === url\n    })[0]\n    const { profile, user } = this.props\n    const moderation = getModeration(profile, user)\n    const message =\n      !!user.acl.can_start_private_threads && profile.id !== user.id\n    const follow = !!profile.acl.can_follow && profile.id !== user.id\n\n    return (\n      <div className=\"page page-user-profile\">\n        <ProfileHeader\n          profile={this.props.profile}\n          user={this.props.user}\n          moderation={moderation}\n          message={message}\n          follow={follow}\n        />\n        <PageContainer>\n          <ProfileNav baseUrl={baseUrl} page={page} pages={pages} />\n\n          {this.props.children}\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getModeration = (profile, user) => {\n  const moderation = {\n    available: false,\n    rename: false,\n    avatar: false,\n    delete: false,\n  }\n\n  if (user.is_anonymous) return moderation\n\n  moderation.rename = profile.acl.can_rename\n  moderation.avatar = profile.acl.can_moderate_avatar\n  moderation.delete = profile.acl.can_delete\n  moderation.available = !!(\n    moderation.rename ||\n    moderation.avatar ||\n    moderation.delete\n  )\n\n  return moderation\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails,\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function (item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component]),\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1,\n        },\n        \"search-username-history\"\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile username history title\", \"Username history\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"profile username history\", \"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile username history\",\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile username history\",\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile username history\",\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile username history\",\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\n        \"username history empty\",\n        \"Your account has no history of name changes.\"\n      )\n    } else {\n      return interpolate(\n        pgettext(\n          \"profile username history\",\n          \"%(username)s's username was never changed.\"\n        ),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            pgettext(\"profile username history\", \"Show older (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={pgettext(\n                  \"profile username history search input\",\n                  \"Search history...\"\n                )}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={\n            this.props.placeholder ||\n            pgettext(\"quick search placeholder\", \"Search...\")\n          }\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach((item) => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length),\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator(),\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"register modal title\", \"Register\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={pgettext(\n                  \"register modal field\",\n                  \"Join with %(site)s\"\n                )}\n                formLabel={pgettext(\n                  \"register modal field\",\n                  \"Or create forum account:\"\n                )}\n              />\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this,\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"register modal btn\", \"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {pgettext(\"register modal btn\", \"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return pgettext(\n        \"account activation required\",\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return pgettext(\n        \"account activation required\",\n        \"%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return pgettext(\n        \"account activation required\",\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return pgettext(\n        \"account activation required\",\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"register modal title\", \"Registration complete\")}\n            </h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"register modal dismiss\", \"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  completeRegistration = (apiResponse) => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(\n        pgettext(\n          \"request activation link form\",\n          \"Enter a valid e-mail address.\"\n        )\n      )\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"request activation link form field\",\n                  \"Your e-mail address\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"request activation link form btn\", \"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"request activation link form\",\n        \"Activation link was sent to %(email)s\"\n      ),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {pgettext(\n              \"request activation link form btn\",\n              \"Request another link\"\n            )}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(\n        pgettext(\"request password reset form\", \"Enter a valid e-mail address.\")\n      )\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"request password reset form field\",\n                  \"Your e-mail address\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"request password reset form btn\", \"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"request password reset form\",\n        \"Reset password link was sent to %(email)s\"\n      ),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {pgettext(\n              \"request password reset form btn\",\n              \"Request another link\"\n            )}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {pgettext(\n              \"request password reset form error\",\n              \"Activate your account.\"\n            )}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {pgettext(\n                  \"request password reset form error\",\n                  \"Your account is inactive.\"\n                )}\n              </p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\",\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(pgettext(\"password reset form\", \"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"password reset form field\",\n                  \"Enter new password\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"password reset form btn\", \"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"password reset form\",\n        \"%(username)s, your password has been changed.\"\n      ),\n      {\n        username: this.props.user.username,\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {pgettext(\n                  \"password reset form\",\n                  \"Sign in using new password to continue.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {pgettext(\"password reset form btn\", \"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = (apiResponse) => {\n    auth.softSignOut()\n\n    // nuke \"next\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"next\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderContainer,\n  PageHeaderBanner,\n  PageHeaderDetails,\n} from \"../PageHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      query: props.search.query,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = (event) => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(pgettext(\"search form\", \"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true,\n      })\n    )\n\n    const query = this.state.query.trim()\n\n    let url = window.location.href\n    const urlQuery = url.indexOf(\"?q=\")\n    if (urlQuery > 0) {\n      url = url.substring(0, urlQuery + 3)\n    }\n    window.history.pushState({}, \"\", url + encodeURIComponent(query))\n\n    return ajax.get(misago.get(\"SEARCH_API\"), { q: query })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers,\n      })\n    )\n\n    providers.forEach((provider) => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false,\n      })\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <PageHeaderContainer>\n          <PageHeader styleName=\"site-search\">\n            <PageHeaderBanner styleName=\"site-search\">\n              <h1>{pgettext(\"search form title\", \"Search\")}</h1>\n            </PageHeaderBanner>\n            <PageHeaderDetails className=\"page-header-search-form\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol>\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      type=\"text\"\n                      value={this.state.query}\n                      placeholder={pgettext(\"search form input\", \"Search\")}\n                      onChange={this.onQueryChange}\n                    />\n                  </FlexRowCol>\n                  <FlexRowCol shrink>\n                    <button\n                      className=\"btn btn-secondary btn-icon btn-outline\"\n                      title={pgettext(\"search form btn\", \"Search\")}\n                      disabled={this.state.isLoading}\n                    >\n                      <span className=\"material-icon\">search</span>\n                    </button>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderDetails>\n          </PageHeader>\n        </PageHeaderContainer>\n      </form>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers,\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport default function (providers) {\n  return providers.map((provider) => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider,\n    }\n  })\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function (props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach((p) => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = pgettext(\"search time\", \"Search took %(time)s s\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function (props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map((provider) => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        posts={props.posts}\n      >\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, posts, query }) {\n  if (posts && posts.count) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? pgettext(\"search threads\", \"Loading results...\")\n          : pgettext(\n              \"search threads\",\n              \"No threads matching search query have been found.\"\n            )}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {pgettext(\n        \"search threads\",\n        \"Enter at least two characters to search threads.\"\n      )}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts,\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true,\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next,\n      })\n      .then(\n        (providers) => {\n          providers.forEach((provider) => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {pgettext(\"search threads btn\", \"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        users={props.users}\n      >\n        <UsersList\n          cols={3}\n          isReady={!props.search.isLoading}\n          users={props.users}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, query, users }) {\n  if (users.length) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? pgettext(\"search users\", \"Loading results...\")\n          : pgettext(\n              \"search users\",\n              \"No users matching search query have been found.\"\n            )}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {pgettext(\n        \"search users\",\n        \"Enter at least two characters to search users.\"\n      )}\n    </p>\n  )\n}\n","import React from \"react\"\nimport SearchFetch from \"./SearchFetch\"\nimport SearchInput from \"./SearchInput\"\nimport SearchQuery from \"./SearchQuery\"\n\nexport default function SearchDropdown() {\n  return (\n    <SearchQuery>\n      {({ query, setQuery }) => {\n        return (\n          <div className=\"search-dropdown-body\">\n            <SearchInput query={query} setQuery={setQuery} />\n            <SearchFetch query={query} />\n          </div>\n        )\n      }}\n    </SearchQuery>\n  )\n}\n","import React from \"react\"\nimport { ApiFetch } from \"../Api\"\nimport SearchMessage from \"./SearchMessage\"\nimport SearchResults from \"./SearchResults\"\nimport SearchResultsEmpty from \"./SearchResultsEmpty\"\nimport SearchResultsError from \"./SearchResultsError\"\nimport SearchResultsLoading from \"./SearchResultsLoading\"\n\nconst DEBOUNCE = 750\nconst CACHE = {}\n\nexport default class SearchFetch extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      query: this.props.query.trim(),\n    }\n\n    this.debounce = null\n  }\n\n  componentDidUpdate() {\n    const query = this.props.query.trim()\n\n    if (this.state.query != query) {\n      if (this.debounce) {\n        window.clearTimeout(this.debounce)\n      }\n\n      this.debounce = window.setTimeout(() => {\n        this.setState({ query })\n      }, DEBOUNCE)\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.debounce) {\n      window.clearTimeout(this.debounce)\n    }\n  }\n\n  render() {\n    return (\n      <ApiFetch\n        url={getSearchUrl(this.state.query)}\n        cache={CACHE}\n        disabled={this.state.query.length < 3}\n      >\n        {({ data, loading, error }) => {\n          if (this.state.query.length < 3) {\n            return <SearchMessage />\n          }\n\n          if (loading) {\n            return <SearchResultsLoading />\n          }\n\n          if (error) {\n            return <SearchResultsError error={error} />\n          }\n\n          if (isResultEmpty(data)) {\n            return <SearchResultsEmpty />\n          }\n\n          if (data !== null) {\n            return <SearchResults query={this.state.query} results={data} />\n          }\n\n          return null\n        }}\n      </ApiFetch>\n    )\n  }\n}\n\nfunction getSearchUrl(query) {\n  return misago.get(\"SEARCH_API\") + \"?q=\" + encodeURIComponent(query)\n}\n\nfunction isResultEmpty(results) {\n  if (results === null) {\n    return true\n  }\n\n  let resultsCount = 0\n  results.forEach((result) => {\n    resultsCount += result.results.count\n  })\n  return resultsCount === 0\n}\n","import React from \"react\"\n\nexport default function SearchInput({ query, setQuery }) {\n  return (\n    <div className=\"search-input\">\n      <input\n        className=\"form-control form-control-search\"\n        type=\"text\"\n        placeholder={pgettext(\"cta\", \"Search\")}\n        value={query}\n        onChange={(event) => setQuery(event.target.value)}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { ListGroupMessage } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchMessage() {\n  return (\n    <SearchResultsList>\n      <ListGroupMessage\n        message={pgettext(\n          \"search cta\",\n          \"Enter search query (at least 3 characters).\"\n        )}\n      />\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport SearchFetch from \"./SearchFetch\"\nimport SearchInput from \"./SearchInput\"\nimport SearchQuery from \"./SearchQuery\"\n\nfunction SearchOverlay({ open }) {\n  return (\n    <Overlay\n      open={open}\n      onOpen={() => {\n        window.setTimeout(() => {\n          document.querySelector(\"#search-mount .form-control-search\").focus()\n        }, 0)\n      }}\n    >\n      <OverlayHeader>{pgettext(\"cta\", \"Search\")}</OverlayHeader>\n      <SearchQuery>\n        {({ query, setQuery }) => {\n          return (\n            <div className=\"search-overlay-body\">\n              <SearchInput query={query} setQuery={setQuery} />\n              <div className=\"search-results-container\">\n                <SearchFetch query={query} />\n              </div>\n            </div>\n          )\n        }}\n      </SearchQuery>\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return { open: state.overlay.search }\n}\n\nconst SearchOverlayConnected = connect(select)(SearchOverlay)\n\nexport default SearchOverlayConnected\n","import React from \"react\"\n\nexport default class SearchQuery extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      query: \"\",\n    }\n  }\n\n  setQuery = (query) => {\n    this.setState({ query })\n  }\n\n  render() {\n    return this.props.children({\n      query: this.state.query,\n      setQuery: this.setQuery,\n    })\n  }\n}\n","import React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function SearchResultPost({ post }) {\n  return (\n    <ListGroupItem className=\"search-result\">\n      <a href={post.url.index}>\n        <div className=\"search-result-card\">\n          <div className=\"search-result-name\">{post.thread.title}</div>\n          <div\n            className=\"search-result-summary\"\n            dangerouslySetInnerHTML={{ __html: post.headline || post.content }}\n          />\n          <ul className=\"search-result-details\">\n            <li>\n              <b>{post.category.name}</b>\n            </li>\n            <li>{post.poster ? post.poster.username : post.poster_name}</li>\n            <li>\n              <Timestamp datetime={post.posted_on} />\n            </li>\n          </ul>\n        </div>\n      </a>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function SearchResultUser({ user }) {\n  const title = user.title || user.rank.title\n\n  return (\n    <ListGroupItem className=\"search-result\">\n      <a href={user.url}>\n        <Avatar user={user} size={32} />\n        <div className=\"search-result-card\">\n          <div className=\"search-result-name\">{user.username}</div>\n          <ul className=\"search-result-details\">\n            {!!title && (\n              <li>\n                <b>{title}</b>\n              </li>\n            )}\n            <li>{user.rank.name}</li>\n            <li>\n              <Timestamp datetime={user.joined_on} />\n            </li>\n          </ul>\n        </div>\n      </a>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\nimport SearchResultPost from \"./SearchResultPost\"\nimport SearchResultUser from \"./SearchResultUser\"\n\nexport default function SearchResults({ query, results }) {\n  const threads = results[0]\n  const users = results[1]\n\n  const { count } = threads.results\n\n  return (\n    <SearchResultsList>\n      {users.results.results.map((user) => (\n        <SearchResultUser key={user.id} user={user} />\n      ))}\n      {threads.results.results.map((post) => (\n        <SearchResultPost key={post.id} post={post} />\n      ))}\n      {count > 0 && (\n        <ListGroupItem>\n          <a\n            href={threads.url + \"?q=\" + encodeURIComponent(query)}\n            className=\"btn btn-default btn-block\"\n          >\n            {npgettext(\n              \"search results list\",\n              \"See all %(count)s result.\",\n              \"See all %(count)s results.\",\n              threads.results.count\n            ).replace(\"%(count)s\", threads.results.count)}\n          </a>\n        </ListGroupItem>\n      )}\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { ListGroupEmpty } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsEmpty() {\n  return (\n    <SearchResultsList>\n      <ListGroupEmpty\n        message={pgettext(\"search results\", \"The search returned no results.\")}\n      />\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { ListGroupError } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsError({ error }) {\n  return (\n    <SearchResultsList>\n      <ListGroupError\n        message={pgettext(\n          \"search results\",\n          \"The search could not be completed.\"\n        )}\n        detail={errorDetail(error)}\n      />\n    </SearchResultsList>\n  )\n}\n\nfunction errorDetail(error) {\n  if (error.status === 0) {\n    return gettext(\n      \"Check your internet connection and try refreshing the site.\"\n    )\n  }\n\n  if (error.data && error.data.detail) {\n    return error.data.detail\n  }\n}\n","import React from \"react\"\nimport { ListGroup } from \"../ListGroup\"\n\nexport default function SearchResultsList({ children }) {\n  return <ListGroup className=\"search-results-list\">{children}</ListGroup>\n}\n","import React from \"react\"\nimport { ListGroupLoading } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsLoading() {\n  return (\n    <SearchResultsList>\n      <ListGroupLoading message={pgettext(\"search results\", \"Searching...\")} />\n    </SearchResultsList>\n  )\n}\n","import SearchDropdown from \"./SearchDropdown\"\nimport SearchOverlay from \"./SearchOverlay\"\n\nexport { SearchDropdown, SearchOverlay }\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map((item) => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = (value) => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value,\n        },\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: [],\n      },\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(pgettext(\"sign in modal\", \"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"next\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true,\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {pgettext(\"sign in modal btn\", \"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"sign in modal title\", \"Sign in\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={pgettext(\"sign in modal\", \"Sign in with %(site)s\")}\n                formLabel={pgettext(\n                  \"sign in modal\",\n                  \"Or use your forum account:\"\n                )}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={pgettext(\n                      \"sign in modal field\",\n                      \"Username or e-mail\"\n                    )}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={pgettext(\"sign in modal field\", \"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {pgettext(\"sign in modal btn\", \"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {pgettext(\"sign in modal btn\", \"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\",\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = pgettext(\n      \"account activation required\",\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = pgettext(\n      \"account activation required\",\n      \"%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = pgettext(\n      \"social auth complete\",\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-auth-register\">\n      <Header backendName={backend_name} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {pgettext(\n                    \"social auth complete title\",\n                    \"Registration completed!\"\n                  )}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {pgettext(\n                        \"social auth complete link\",\n                        \"Return to forum index\"\n                      )}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = pgettext(\"social auth title\", \"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <PageHeaderContainer>\n      <PageHeader styleName=\"social-auth\">\n        <PageHeaderBanner styleName=\"social-auth\">\n          <h1>{pageTitle}</h1>\n        </PageHeaderBanner>\n      </PageHeader>\n    </PageHeaderContainer>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\",\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()],\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(pgettext(\"social auth form\", \"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = pgettext(\n        \"social auth form\",\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-auth-register\">\n        <Header backendName={backend_name} />\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {pgettext(\n                        \"social auth form title\",\n                        \"Complete your account\"\n                      )}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={pgettext(\"social auth form field\", \"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={pgettext(\n                        \"social auth form field\",\n                        \"E-mail address\"\n                      )}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {pgettext(\"social auth form btn\", \"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../../FlexRow\"\nimport ThreadFlags from \"../../ThreadFlags\"\nimport ThreadReplies from \"../../ThreadReplies\"\nimport ThreadStarterCard from \"../../ThreadStarterCard\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../../PageHeader\"\nimport ThreadModeration from \"../ThreadModeration\"\nimport ThreadWatchButton from \"../ThreadWatchButton\"\nimport ThreadHeaderBreadcrumbs from \"./ThreadHeaderBreadcrumbs\"\n\nconst ThreadHeader = ({ styleName, thread, posts, user, moderation }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <ThreadHeaderBreadcrumbs breadcrumbs={thread.path} />\n        <h1>{thread.title}</h1>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"page-header-thread-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol shrink>\n              <ThreadStarterCard thread={thread} />\n            </FlexRowCol>\n            <FlexRowCol auto />\n            {thread.replies > 0 && (\n              <FlexRowCol shrink>\n                <ThreadReplies thread={thread} />\n              </FlexRowCol>\n            )}\n            {hasFlags(thread) && (\n              <FlexRowCol shrink>\n                <ThreadFlags thread={thread} />\n              </FlexRowCol>\n            )}\n          </FlexRowSection>\n          {user.is_authenticated && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <ThreadWatchButton thread={thread} />\n              </FlexRowCol>\n              {moderation.enabled && (\n                <FlexRowCol shrink>\n                  <ThreadModeration\n                    thread={thread}\n                    posts={posts}\n                    moderation={moderation}\n                  />\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst hasFlags = (thread) => {\n  return (\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n  )\n}\n\nexport default ThreadHeader\n","import React from \"react\"\nimport {\n  Breadcrumbs,\n  BreadcrumbsCategory,\n  BreadcrumbsRootCategory,\n} from \"../../Breadcrumbs\"\n\nconst ThreadHeaderBreadcrumbs = ({ breadcrumbs }) => (\n  <Breadcrumbs>\n    {breadcrumbs.map((category) =>\n      category.special_role ? (\n        <BreadcrumbsRootCategory key={category.id} category={category} />\n      ) : (\n        <BreadcrumbsCategory key={category.id} category={category} />\n      )\n    )}\n  </Breadcrumbs>\n)\n\nexport default ThreadHeaderBreadcrumbs\n","import ThreadHeader from \"./ThreadHeader\"\n\nexport default ThreadHeader\n","import React from \"react\"\nimport ThreadModerationOptions from \"./moderation/thread\"\n\nconst ThreadModeration = ({ thread, posts, moderation }) => (\n  <div className=\"dropdown\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={pgettext(\"thread options btn\", \"Thread options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={thread.isBusy}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadModerationOptions\n      thread={thread}\n      posts={posts}\n      moderation={moderation}\n    />\n  </div>\n)\n\nexport default ThreadModeration\n","import React from \"react\"\nimport { Link, withRouter } from \"react-router\"\nimport { Dropdown } from \"../Dropdown\"\n\nconst ThreadPaginator = ({ router, baseUrl, posts, scrollToTop }) => (\n  <div className=\"thread-paginator\">\n    {posts.isLoaded && posts.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={pgettext(\"paginator\", \"Go to first page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (posts.previous > 1 ? posts.previous + \"/\" : \"\")}\n        title={pgettext(\"paginator\", \"Go to previous page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    <Dropdown\n      toggle={({ aria, toggle }) => (\n        <button\n          {...aria}\n          className=\"btn btn-default btn-block btn-outline\"\n          type=\"button\"\n          disabled={!posts.isLoaded}\n          onClick={toggle}\n        >\n          {getLabel(posts.page, posts.pages)}\n        </button>\n      )}\n      onOpen={(dropdown) => {\n        dropdown.querySelector(\"input\").focus()\n      }}\n    >\n      {({ close }) => (\n        <form\n          className=\"thread-paginator-form\"\n          onSubmit={(event) => {\n            if (posts.isLoaded) {\n              const formData = new FormData(event.target)\n              const page = parseInt(formData.get(\"page\"))\n\n              if (\n                page &&\n                page != posts.page &&\n                page >= 1 &&\n                page <= posts.pages\n              ) {\n                const url = page > 1 ? baseUrl + page + \"/\" : baseUrl\n                router.push({ pathname: url })\n              }\n            }\n\n            event.preventDefault()\n            close()\n\n            if (scrollToTop) {\n              resetScroll()\n            }\n          }}\n        >\n          <input\n            className=\"form-control\"\n            name=\"page\"\n            type=\"number\"\n            min={1}\n            max={posts.pages}\n            placeholder={pgettext(\"paginator input\", \"Page\")}\n            disabled={!posts.isLoaded}\n          />\n          <button\n            className=\"btn btn-primary\"\n            type=\"submit\"\n            disabled={!posts.isLoaded}\n          >\n            {pgettext(\"paginator\", \"Go\")}\n          </button>\n        </form>\n      )}\n    </Dropdown>\n    {posts.isLoaded && posts.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.next + \"/\"}\n        title={pgettext(\"paginator\", \"Go to next page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.last + \"/\"}\n        title={pgettext(\"paginator\", \"Go to last page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nfunction getLabel(page, pages) {\n  return pgettext(\"paginator\", \"Page %(page)s of %(pages)s\")\n    .replace(\"%(page)s\", page)\n    .replace(\"%(pages)s\", pages)\n}\n\nfunction resetScroll() {\n  window.scrollTo(0, 0)\n}\n\nconst ThreadPaginatorConnected = withRouter(ThreadPaginator)\n\nexport default ThreadPaginatorConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ThreadPollButton = ({ compact, disabled, onClick }) => (\n  <button\n    className={classnames(\"btn btn-default btn-outline\", {\n      \"btn-block\": !compact,\n      \"btn-icon\": compact,\n    })}\n    type=\"button\"\n    title={compact ? pgettext(\"thread poll btn\", \"Add poll\") : null}\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">poll</span>\n    {!compact && pgettext(\"thread poll btn\", \"Add poll\")}\n  </button>\n)\n\nexport default ThreadPollButton\n","import React from \"react\"\nimport { ThreadPostsModerationOptions } from \"./moderation/posts\"\n\nconst ThreadPostsModeration = ({ thread, user, selection, dropup }) => (\n  <div className={dropup ? \"dropup\" : \"dropdown\"}>\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={pgettext(\"post options btn\", \"Posts options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={selection.length === 0}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadPostsModerationOptions\n      thread={thread}\n      user={user}\n      selection={selection}\n    />\n  </div>\n)\n\nexport default ThreadPostsModeration\n","import React from \"react\"\n\nconst ThreadReplyButton = ({ onClick }) => (\n  <button\n    className=\"btn btn-primary btn-outline btn-block\"\n    type=\"button\"\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">chat</span>\n    {pgettext(\"thread reply btn\", \"Reply\")}\n  </button>\n)\n\nexport default ThreadReplyButton\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadShortcutsButton = ({ user, thread, posts }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-icon\"\n      title={pgettext(\"thread shortcuts btn\", \"Shortcuts\")}\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">bookmark</span>\n    </button>\n    <ul className=\"dropdown-menu\">\n      {!!posts.first && (\n        <li>\n          <Link className=\"btn btn-link\" href={thread.url.index}>\n            <span className=\"material-icon\">place</span>\n            {pgettext(\"thread shortcut btn\", \"Go to first post\")}\n          </Link>\n        </li>\n      )}\n      {user.is_authenticated && thread.is_new && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\n            <span className=\"material-icon\">comment</span>\n            {pgettext(\"thread shortcut btn\", \"Go to new post\")}\n          </a>\n        </li>\n      )}\n      {thread.best_answer && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\n            <span className=\"material-icon\">check_circle</span>\n            {pgettext(\"thread shortcut btn\", \"Go to best answer\")}\n          </a>\n        </li>\n      )}\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\n            <span className=\"material-icon\">visibility</span>\n            {pgettext(\"thread shortcut btn\", \"Go to unapproved post\")}\n          </a>\n        </li>\n      )}\n      <li>\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\n          <span className=\"material-icon\">reply</span>\n          {pgettext(\"thread shortcut btn\", \"Go to last post\")}\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadShortcutsButton\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPaginator from \"./ThreadPaginator\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadWatchButton from \"./ThreadWatchButton\"\n\nconst ThreadToolbarBottom = ({\n  thread,\n  posts,\n  user,\n  selection,\n  moderation,\n  onReply,\n}) => (\n  <Toolbar>\n    {posts.pages > 1 && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadPaginator\n            baseUrl={thread.url.index}\n            posts={posts}\n            scrollToTop\n          />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    <ToolbarSpacer />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-xs\">\n          <ThreadWatchButton thread={thread} dropup />\n        </ToolbarItem>\n        {thread.acl.can_reply && (\n          <ToolbarItem>\n            <ThreadReplyButton onClick={onReply} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n              dropup\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {user.is_authenticated && (\n      <ToolbarSection className=\"hidden-sm hidden-md hidden-lg\">\n        <ToolbarItem>\n          <ThreadWatchButton thread={thread} dropup />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarBottom\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\n\nconst ThreadToolbarThird = () => (\n  <Toolbar className=\"thread-toolbar-third\">\n    <ToolbarSpacer />\n    <ToolbarSection>\n      <ToolbarItem>\n        <button\n          className=\"btn btn-muted btn-block\"\n          type=\"button\"\n          onClick={() => window.scrollTo(0, 0)}\n        >\n          <span className=\"material-icon\">arrow_upward</span>\n          {pgettext(\"go up\", \"Go to top\")}\n        </button>\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default ThreadToolbarThird\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPaginator from \"./ThreadPaginator\"\nimport ThreadPollButton from \"./ThreadPollButton\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\n\nconst ThreadToolbarTop = ({\n  thread,\n  posts,\n  user,\n  pollDisabled,\n  selection,\n  moderation,\n  onPoll,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection className=\"hidden-xs\">\n      <ToolbarItem>\n        <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n      </ToolbarItem>\n      {posts.pages > 1 && (\n        <ToolbarItem>\n          <ThreadPaginator baseUrl={thread.url.index} posts={posts} />\n        </ToolbarItem>\n      )}\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {thread.acl.can_start_poll && !thread.poll && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_reply ? (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n        </ToolbarItem>\n        <ToolbarItem>\n          <ThreadReplyButton onClick={onReply} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n            <ThreadPollButton\n              disabled={pollDisabled}\n              onClick={onPoll}\n              compact\n            />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    ) : (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem>\n            <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {posts.pages > 1 && (\n      <ToolbarSection className=\"hidden-sm hidden-md hidden-lg\">\n        <ToolbarItem>\n          <ThreadPaginator baseUrl={thread.url.index} posts={posts} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarTop\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport { update } from \"../../reducers/thread\"\nimport snackbar from \"../../services/snackbar\"\nimport { ApiMutation } from \"../Api\"\nimport { DropdownSubheader } from \"../Dropdown\"\n\nconst ThreadWatchButton = ({ dispatch, dropup, stickToBottom, thread }) => (\n  <ApiMutation url={thread.api.watch}>\n    {(mutate, { loading }) => {\n      function setNotifications(notifications) {\n        if (thread.notifications !== notifications) {\n          dispatch(update({ notifications }))\n          mutate({\n            json: { notifications },\n            onError: (error) => {\n              snackbar.apiError(error)\n              dispatch(update({ notifications: thread.notifications }))\n            },\n          })\n        }\n      }\n\n      return (\n        <div className={dropup ? \"dropup\" : \"dropdown\"}>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            aria-expanded=\"true\"\n            aria-haspopup=\"true\"\n            data-toggle=\"dropdown\"\n            type=\"button\"\n          >\n            <span className=\"material-icon\">\n              {getIcon(thread.notifications)}\n            </span>\n            {getLabel(thread.notifications)}\n          </button>\n          <ul\n            className={classnames(\"dropdown-menu dropdown-menu-right\", {\n              \"stick-to-bottom\": stickToBottom,\n            })}\n          >\n            <DropdownSubheader>\n              {pgettext(\"watch thread\", \"Notify about new replies\")}\n            </DropdownSubheader>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(2)}\n              >\n                <span className=\"material-icon\">mail</span>\n                {pgettext(\"watch thread\", \"On site and with e-mail\")}\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(1)}\n              >\n                <span className=\"material-icon\">notifications_active</span>\n                {pgettext(\"watch thread\", \"On site only\")}\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(0)}\n              >\n                <span className=\"material-icon\">notifications_none</span>\n                {pgettext(\"watch thread\", \"Don't notify\")}\n              </button>\n            </li>\n          </ul>\n        </div>\n      )\n    }}\n  </ApiMutation>\n)\n\nfunction getIcon(notifications) {\n  if (notifications === 2) return \"mail\"\n  if (notifications === 1) return \"notifications_active\"\n\n  return \"notifications_none\"\n}\n\nfunction getLabel(notifications) {\n  if (notifications) {\n    return pgettext(\"watch thread\", \"Watching\")\n  }\n\n  return pgettext(\"watch thread\", \"Watch\")\n}\n\nconst ThreadWatchButtonConnected = connect()(ThreadWatchButton)\n\nexport default ThreadWatchButtonConnected\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: true,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach((item) => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map((post) => {\n      return post.id\n    }),\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    (data) => {\n      data.forEach((item) => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    (rejection) => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach((item) => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach((item) => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach((item) => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach((item) => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"merge posts\",\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map((post) => post.id),\n    })\n    .then(\n      (data) => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map((selection) => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false,\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"delete posts\",\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  const ids = props.selection.map((post) => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map((selection) => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false,\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {pgettext(\"thread posts moderation\", \"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find((post) => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {pgettext(\"thread posts moderation\", \"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {pgettext(\"thread posts moderation\", \"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {pgettext(\"thread posts moderation\", \"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {pgettext(\"thread posts moderation\", \"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {pgettext(\"thread posts moderation\", \"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {pgettext(\"thread posts moderation\", \"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {pgettext(\"thread posts moderation\", \"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {pgettext(\"thread posts moderation\", \"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"thread posts moderation modal title\", \"Moderation\")}\n          </h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {pgettext(\n              \"thread posts moderation modal\",\n              \"One or more posts could not be changed:\"\n            )}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map((post) => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    pgettext(\"thread posts moderation modal\", \"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name,\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import ThreadPostsModerationOptions from \"./dropdown\"\n\nexport { ThreadPostsModerationOptions }\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"thread posts moderation move\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"thread posts moderation move\",\n        \"Selected posts were moved to the other thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"thread posts moderation move\",\n                  \"Link to thread you want to move posts to\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread posts moderation move btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\"thread posts moderation move btn\", \"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread posts moderation move title\", \"Move posts\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: pgettext(\"thread hidden switch choice\", \"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: pgettext(\"thread hidden switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: pgettext(\"thread closed switch choice\", \"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: pgettext(\"thread closed switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"posts moderation split\",\n        \"Selected posts were split into new thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: pgettext(\"thread weight choice\", \"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: pgettext(\"thread weight choice\", \"Pinned in category\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: pgettext(\"thread weight choice\", \"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={pgettext(\"posts moderation split field\", \"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={pgettext(\"posts moderation split field\", \"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {pgettext(\"posts moderation split btn\", \"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {pgettext(\"posts moderation split btn\", \"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {pgettext(\n            \"posts moderation split\",\n            \"You can't move selected posts at the moment.\"\n          )}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {pgettext(\"posts moderation split dismiss btn\", \"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\n              \"posts moderation split title\",\n              \"Split posts into new thread\"\n            )}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: getTitleValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"thread title form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"title\", value: this.state.title },\n    ])\n  }\n\n  handleSuccess = (data) => {\n    this.handleSuccessUnmounted(data)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    modal.hide()\n  }\n\n  handleSuccessUnmounted = (data) => {\n    store.dispatch(thread.release())\n    store.dispatch(thread.update(data))\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_modal_title\"\n                label={pgettext(\"thread title form field\", \"Thread title\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_modal_title\"\n                  onChange={this.onChange}\n                  value={this.state.title}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread title form btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {pgettext(\"thread title form btn\", \"Change title\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread title form title\", \"Change title\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ThreadChangeTitleModal from \"./ThreadChangeTitleModal\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      (data) => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  changeTitle = () => {\n    modal.show(<ThreadChangeTitleModal thread={this.props.thread} />)\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been pinned in category.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(\n        pgettext(\n          \"thread moderation\",\n          \"Are you sure you want to delete this thread?\"\n        )\n      )\n    ) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      (data) => {\n        snackbar.success(\n          pgettext(\"thread moderation\", \"Thread has been deleted.\")\n        )\n        window.location = this.props.thread.category.url.index\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {!!moderation.edit && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.changeTitle}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">edit</span>\n              {pgettext(\"thread moderation btn\", \"Change title\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinGlobally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinGlobally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {pgettext(\"thread moderation btn\", \"Pin globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinLocally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinLocally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {pgettext(\"thread moderation btn\", \"Pin in category\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unpin && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {pgettext(\"thread moderation btn\", \"Unpin\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.move && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n              <span className=\"material-icon\">arrow_forward</span>\n              {pgettext(\"thread moderation btn\", \"Move\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.merge && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n              <span className=\"material-icon\">call_merge</span>\n              {pgettext(\"thread moderation btn\", \"Merge\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.approve}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">done</span>\n              {pgettext(\"thread moderation btn\", \"Approve\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.open && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n              <span className=\"material-icon\">lock_open</span>\n              {pgettext(\"thread moderation btn\", \"Open\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.close && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n              <span className=\"material-icon\">lock_outline</span>\n              {pgettext(\"thread moderation btn\", \"Close\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.unhide}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">visibility</span>\n              {pgettext(\"thread moderation btn\", \"Unhide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.hide && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n              <span className=\"material-icon\">visibility_off</span>\n              {pgettext(\"thread moderation btn\", \"Hide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.delete}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">clear</span>\n              {pgettext(\"thread moderation btn\", \"Delete\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import ThreadModerationOptions from \"./controls\"\n\nexport default ThreadModerationOptions\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"thread merge form\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url,\n    })\n  }\n\n  handleSuccess = (success) => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleSuccessUnmounted = (success) => {\n    snackbar.success(\n      pgettext(\"thread merge form\", \"Thread has been merged with other one.\")\n    )\n    window.location = success.url\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"thread merge form field\",\n                  \"Link to thread you want to merge with\"\n                )}\n                help_text={pgettext(\n                  \"thread merge form field\",\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread merge form btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {pgettext(\"thread merge form btn\", \"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread merge form title\", \"Merge thread\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category },\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        (data) => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(\n            pgettext(\"thread move form\", \"Thread has been moved.\")\n          )\n          modal.hide()\n        },\n        (rejection) => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (event) => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup\n                  for=\"id_category\"\n                  label={pgettext(\"thread move form field\", \"New category\")}\n                >\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {pgettext(\"thread move form btn\", \"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {pgettext(\"thread move form btn\", \"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread move form title\", \"Move thread\")}\n      </h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {pgettext(\n              \"thread move form\",\n              \"You can't move this thread at the moment.\"\n            )}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"thread move form dismiss btn\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user,\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route),\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route),\n    },\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll, PollForm } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { PostingQuoteSelection } from \"../posting\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadHeader from \"./ThreadHeader\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarThird from \"./ThreadToolbarThird\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editPoll: false,\n    }\n  }\n\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1,\n        },\n        \"posts\"\n      )\n      .then(\n        (data) => {\n          this.update(data)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1,\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true,\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    this.setState({ editPoll: true })\n  }\n\n  closePollForm = () => {\n    this.setState({ editPoll: false })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    const category = this.props.thread.category\n\n    let className = \"page page-thread\"\n    if (category.css_class) {\n      className += \" page-thread-\" + category.css_class\n    }\n\n    const styleName =\n      category.special_role === \"private_threads\"\n        ? \"private-threads\"\n        : category.css_class || \"category-threads\"\n\n    const threadModeration = getThreadModeration(\n      this.props.thread,\n      this.props.user\n    )\n\n    const postsModeration = getPostsModeration(\n      this.props.posts.results,\n      this.props.user\n    )\n    const selection = this.props.posts.results.filter((post) => post.isSelected)\n\n    return (\n      <div className={className}>\n        <ThreadHeader\n          styleName={styleName}\n          thread={this.props.thread}\n          posts={this.props.posts}\n          user={this.props.user}\n          moderation={threadModeration}\n        />\n        <PageContainer>\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            pollDisabled={this.state.editPoll}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          {this.state.editPoll ? (\n            <PollForm\n              poll={this.props.poll}\n              thread={this.props.thread}\n              close={this.closePollForm}\n            />\n          ) : (\n            <Poll\n              poll={this.props.poll}\n              thread={this.props.thread}\n              user={this.props.user}\n              edit={this.openPollForm}\n            />\n          )}\n          {this.props.thread.acl.can_reply ? (\n            <PostingQuoteSelection\n              posting={{\n                mode: \"REPLY\",\n\n                thread: this.props.thread,\n                config: this.props.thread.api.editor,\n                submit: this.props.thread.api.posts.index,\n              }}\n            >\n              <PostsList {...this.props} />\n            </PostingQuoteSelection>\n          ) : (\n            <PostsList {...this.props} />\n          )}\n          <ThreadToolbarBottom\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n          <ThreadToolbarThird />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getThreadModeration = (thread, user) => {\n  const moderation = {\n    enabled: false,\n    edit: false,\n    approve: false,\n    close: false,\n    open: false,\n    hide: false,\n    unhide: false,\n    move: false,\n    merge: false,\n    pinGlobally: false,\n    pinLocally: false,\n    unpin: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  moderation.edit = thread.acl.can_edit\n  moderation.approve = thread.acl.can_approve && thread.is_unapproved\n  moderation.close = thread.acl.can_close && !thread.is_closed\n  moderation.open = thread.acl.can_close && thread.is_closed\n  moderation.hide = thread.acl.can_hide && !thread.is_hidden\n  moderation.unhide = thread.acl.can_unhide && thread.is_hidden\n  moderation.move = thread.acl.can_move\n  moderation.merge = thread.acl.can_merge\n  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2\n  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1\n  moderation.unpin =\n    (thread.acl.can_pin && thread.weight === 1) ||\n    (thread.acl.can_pin_globally && thread.weight === 2)\n  moderation.delete = thread.acl.can_delete\n\n  moderation.enabled =\n    moderation.edit ||\n    moderation.approve ||\n    moderation.close ||\n    moderation.open ||\n    moderation.hide ||\n    moderation.unhide ||\n    moderation.move ||\n    moderation.merge ||\n    moderation.pinGlobally ||\n    moderation.pinLocally ||\n    moderation.unpin ||\n    moderation.delete\n\n  return moderation\n}\n\nconst getPostsModeration = (posts, user) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach((post) => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (\n        moderation.approve ||\n        moderation.move ||\n        moderation.merge ||\n        moderation.protect ||\n        moderation.hide ||\n        moderation.delete\n      ) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return pgettext(\"user status\", \"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return pgettext(\"user status\", \"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return pgettext(\"user status\", \"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return pgettext(\"user status\", \"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return pgettext(\"user status\", \"Online\")\n    } else if (this.props.status.is_offline) {\n      return pgettext(\"user status\", \"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        pgettext(\"user status\", \"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\"),\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        pgettext(\"user status\", \"%(username)s is banned\"),\n        {\n          username: user.username,\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is hiding presence\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is online (hidden)\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      pgettext(\n        \"user status\",\n        \"%(username)s was last seen %(last_click)s (hidden)\"\n      ),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is online\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return pgettext(\n        \"username history empty\",\n        \"Your account has no history of name changes.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map((i) => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map((change) => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function ({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    pgettext(\"users list item\", \"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  let message = interpolate(\n    pgettext(\"users list item\", \"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow(),\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = npgettext(\n    \"users list item\",\n    \"%(posts)s post\",\n    \"%(posts)s posts\",\n    user.posts\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = npgettext(\n    \"users list item\",\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = npgettext(\n    \"users list item\",\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function ({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map((user) => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map((i) => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst UsersNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">menu</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => {\n          const url = getPageUrl(baseUrl, page)\n          return (\n            <li key={url}>\n              <Link to={url}>{page.name}</Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => {\n        const url = getPageUrl(baseUrl, page)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{page.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  </div>\n)\n\nconst getPageUrl = (baseUrl, page) => {\n  let url = baseUrl\n  if (page.component === \"rank\") {\n    url += page.slug\n  } else {\n    url += page.component\n  }\n  return url + \"/\"\n}\n\nexport default UsersNav\n","import React from \"react\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      npgettext(\n        \"top posters empty\",\n        \"No users have posted any new messages during last %(days)s day.\",\n        \"No users have posted any new messages during last %(days)s days.\",\n        this.props.trackedPeriod\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{pgettext(\"top posters list item\", \"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map((i) => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = npgettext(\n      \"top posters list\",\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\",\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: pgettext(\"users page title\", \"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    const page = { name: this.props.route.extra.name }\n\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            page={page}\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return (\n          <ListEmpty page={page} trackedPeriod={this.state.trackedPeriod} />\n        )\n      }\n    } else {\n      return <ListPreview page={page} />\n    }\n  }\n}\n","import React from \"react\"\n\nconst RankUsersLeft = ({ users }) => {\n  if (users.more) {\n    return (\n      <p>\n        {interpolate(\n          npgettext(\n            \"rank users list\",\n            \"There is %(more)s more user with this rank.\",\n            \"There are %(more)s more users with this rank.\",\n            users.more\n          ),\n          { more: users.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return (\n    <p>\n      {pgettext(\n        \"rank users list empty\",\n        \"There are no more users with this rank.\"\n      )}\n    </p>\n  )\n}\n\nexport default RankUsersLeft\n","import React from \"react\"\nimport UsersList from \"../../users-list\"\n\nconst RankUsersList = ({ users }) => (\n  <UsersList cols={4} isReady={true} showStatus={true} users={users} />\n)\n\nexport default RankUsersList\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nclass RankUsersListLoader extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render = () => <UsersList cols={4} isReady={false} />\n}\n\nexport default RankUsersListLoader\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst RankUsersPagination = ({ baseUrl, users }) => (\n  <div className=\"misago-pagination\">\n    {users.isLoaded && users.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={pgettext(\"rank users list paginator\", \"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {users.isLoaded && users.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (users.previous > 1 ? users.previous + \"/\" : \"\")}\n        title={pgettext(\"rank users list paginator\", \"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {users.isLoaded && users.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.next + \"/\"}\n        title={pgettext(\"rank users list paginator\", \"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {users.isLoaded && users.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.last + \"/\"}\n        title={pgettext(\"rank users list paginator\", \"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default RankUsersPagination\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\nimport RankUsersLeft from \"./RankUsersLeft\"\nimport RankUsersPagination from \"./RankUsersPagination\"\n\nconst RankUsersToolbar = ({ baseUrl, users }) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <RankUsersPagination baseUrl={baseUrl} users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSection auto>\n      <ToolbarItem>\n        <RankUsersLeft users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default RankUsersToolbar\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../../PageContainer\"\nimport RankUsersList from \"./RankUsersList\"\nimport RankUsersListLoader from \"./RankUsersListLoader\"\nimport RankUsersToolbar from \"./RankUsersToolbar\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true,\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page,\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: pgettext(\"users page title\", \"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: pgettext(\"users page title\", \"Users\"),\n      })\n\n      this.setState({\n        isLoaded: false,\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return <RankUsersList users={this.props.users} />\n      } else {\n        return (\n          <p className=\"lead\">\n            {pgettext(\n              \"rank users list\",\n              \"There are no users with this rank at the moment.\"\n            )}\n          </p>\n        )\n      }\n    } else {\n      return <RankUsersListLoader />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={{ name: this.props.route.rank.name }}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          {this.getRankDescription()}\n          {this.getComponent()}\n          <RankUsersToolbar\n            baseUrl={\n              misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n            }\n            users={this.state}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"users-lists\">\n            <PageHeaderBanner styleName=\"users-lists\">\n              <h1>{pgettext(\"users page title\", \"Users\")}</h1>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function (item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name,\n        },\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false,\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown,\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false,\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || pgettext(\"yesno switch choice\", \"yes\")\n    } else {\n      return this.props.labelOff || pgettext(\"yesno switch choice\", \"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value,\n      },\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","export const CSRF_FIELD_NAME = \"csrfmiddlewaretoken\"\n\nexport function getCSRFToken() {\n  const element = document.querySelector(\n    'input[name=\"' + CSRF_FIELD_NAME + '\"]'\n  )\n\n  if (element) {\n    return element.value\n  }\n\n  return null\n}\n\nexport function appendCSRFTokenToForm(form) {\n  form.append(CSRF_FIELD_NAME, getCSRFToken())\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      (data) => {\n        dispatch(load(data))\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import htmx from \"htmx.org\"\nimport Mention from \"../Mention\"\nimport * as animations from \"../animations\"\nimport MarkupEditorUploader from \"./uploader\"\nimport {\n  MarkupEditorCodeModal,\n  MarkupEditorImageModal,\n  MarkupEditorLinkModal,\n  MarkupEditorQuoteModal,\n} from \"./modals\"\n\nclass MarkupEditor {\n  constructor() {\n    this.actions = {}\n\n    this.codeModal = new MarkupEditorCodeModal()\n    this.linkModal = new MarkupEditorLinkModal()\n    this.imageModal = new MarkupEditorImageModal()\n    this.quoteModal = new MarkupEditorQuoteModal()\n\n    this.mentions = {}\n\n    this.resizeDebounce = null\n\n    window.addEventListener(\"resize\", (event) => {\n      if (this.resizeDebounce) {\n        window.clearTimeout(this.resizeDebounce)\n      }\n\n      this.resizeDebounce = window.setTimeout(this._onWindowResize, 200)\n    })\n  }\n\n  _onWindowResize = () => {\n    document\n      .querySelectorAll(\"[misago-editor-active]\")\n      .forEach(this._resizeEditor)\n  }\n\n  _resizeEditor = (element) => {\n    const constraints = this._getResizeConstraints(element)\n    const firstToolbar = element.querySelector(\".markup-editor-toolbar-left\")\n    const secondToolbar = element.querySelector(\n      \".markup-editor-toolbar-secondary\"\n    )\n    const moreBtn = element.querySelector(\"[misago-editor-more]\")\n\n    let takenSpace = 0\n    const items = []\n    for (let i = 0; i < firstToolbar.children.length; i++) {\n      const child = firstToolbar.children[i]\n      if (child.getAttribute(\"misago-editor-more\") !== \"true\") {\n        items.push({\n          index: i,\n          priority: parseInt(child.getAttribute(\"misago-editor-priority\") || 0),\n          display: true,\n        })\n\n        if (child.clientWidth) {\n          takenSpace += constraints.btn\n        }\n      }\n    }\n\n    if (takenSpace > constraints.toolbar) {\n      const limit = constraints.toolbar - constraints.btn\n      items.sort((a, b) => {\n        if (a.priority > b.priority) {\n          return 1\n        } else if (a.priority < b.priority) {\n          return -1\n        }\n        return 0\n      })\n\n      items.forEach((item) => {\n        if (takenSpace > limit) {\n          firstToolbar.children[item.index].classList.add(\"d-none\")\n          secondToolbar.children[item.index].classList.remove(\"d-none\")\n          item.display = false\n          takenSpace -= constraints.btn\n        } else {\n          firstToolbar.children[item.index].classList.remove(\"d-none\")\n          secondToolbar.children[item.index].classList.add(\"d-none\")\n          item.display = true\n        }\n      })\n    } else if (takenSpace + constraints.btn < constraints.toolbar) {\n      takenSpace = 0\n      const limit = constraints.toolbar\n      items.sort((a, b) => {\n        if (a.priority > b.priority) {\n          return -1\n        } else if (a.priority < b.priority) {\n          return 1\n        }\n        return 0\n      })\n\n      items.forEach((item) => {\n        if (takenSpace + constraints.btn < limit) {\n          firstToolbar.children[item.index].classList.remove(\"d-none\")\n          secondToolbar.children[item.index].classList.add(\"d-none\")\n          item.display = true\n          takenSpace += constraints.btn\n        } else {\n          firstToolbar.children[item.index].classList.add(\"d-none\")\n          secondToolbar.children[item.index].classList.remove(\"d-none\")\n          item.display = false\n        }\n      })\n    }\n\n    if (items.filter((item) => !item.display).length === 0) {\n      moreBtn.classList.add(\"d-none\")\n      secondToolbar.classList.remove(\"show\")\n    } else {\n      moreBtn.classList.remove(\"d-none\")\n    }\n  }\n\n  _getResizeConstraints = (element) => {\n    const toolbar = element.querySelector(\".markup-editor-toolbar-left\")\n\n    let btnWidth = 0\n    toolbar.querySelectorAll(\"button\").forEach((child) => {\n      let childWidth = child.clientWidth\n      const childStyle = window.getComputedStyle(child)\n      childWidth += parseInt(parseFloat(childStyle.borderLeftWidth))\n      childWidth += parseInt(parseFloat(childStyle.borderRightWidth))\n      childWidth += parseInt(parseFloat(childStyle.marginLeft))\n      childWidth += parseInt(parseFloat(childStyle.marginRight))\n\n      if (childWidth > btnWidth) {\n        btnWidth = childWidth\n      }\n    })\n\n    const toolbarWidth = toolbar.parentElement.clientWidth - btnWidth\n\n    return {\n      btn: btnWidth,\n      toolbar: toolbarWidth,\n    }\n  }\n\n  setAction = (name, init) => {\n    this.actions[name] = init\n  }\n\n  activate = (element) => {\n    if (element.getAttribute(\"misago-editor-active\") !== \"true\") {\n      this._setEditorActive(element)\n      this._setEditorFocus(element)\n      this._setEditorActions(element)\n      this._setEditorPasteUpload(element)\n      this._setEditorDropUpload(element)\n      this._resizeEditor(element)\n\n      const textarea = this.getTextarea(element)\n      this.mentions[textarea.id] = new Mention(textarea)\n    }\n  }\n\n  _setEditorActive(element) {\n    element.setAttribute(\"misago-editor-active\", \"true\")\n  }\n\n  _setEditorFocus(element) {\n    const focusEvents = [\"focusin\", \"click\"]\n    const className = \"markup-editor-focused\"\n\n    focusEvents.forEach((event) => {\n      element.addEventListener(event, () => {\n        element.classList.add(className)\n      })\n    })\n\n    focusEvents.forEach((event) => {\n      document.addEventListener(event, (event) => {\n        if (!element.contains(event.target)) {\n          element.classList.remove(className)\n        }\n      })\n    })\n  }\n\n  _setEditorActions(element) {\n    const textarea = this.getTextarea(element)\n\n    element.addEventListener(\"click\", (event) => {\n      const target = event.target.closest(\"[misago-editor-action]\")\n      if (!target) {\n        return null\n      }\n\n      const actionName = target.getAttribute(\"misago-editor-action\")\n      if (!actionName) {\n        return null\n      }\n\n      event.preventDefault()\n\n      const action = this.actions[actionName]\n      if (action) {\n        action({\n          textarea,\n          target,\n          editor: this,\n          selection: new MarkupEditorSelection(textarea),\n        })\n      } else {\n        console.warn(\"Undefined editor action: \" + actionName)\n      }\n    })\n\n    element\n      .querySelector(\"[misago-editor-more]\")\n      .addEventListener(\"click\", () => {\n        const secondToolbar = element.querySelector(\n          \".markup-editor-toolbar-secondary\"\n        )\n        if (secondToolbar.classList.contains(\"show\")) {\n          secondToolbar.classList.remove(\"show\")\n        } else {\n          secondToolbar.classList.add(\"show\")\n        }\n      })\n  }\n\n  _setEditorPasteUpload = (element) => {\n    element.addEventListener(\"paste\", (event) => {\n      if (event.clipboardData.files.length) {\n        const uploader = new MarkupEditorUploader(this, element)\n        if (!uploader.canUpload) {\n          uploader.showPermissionDeniedError()\n        } else {\n          event.preventDefault()\n          const textarea = event.target.closest(\"textarea\")\n          uploader.uploadFiles(event.clipboardData.files, textarea)\n        }\n      }\n    })\n  }\n\n  _setEditorDropUpload = (element) => {\n    const className = \"markup-editor-drag-drop\"\n    const elements = [element.querySelector(\"textarea\")]\n\n    const attachments = element.querySelector(\"[misago-editor-attachments]\")\n    if (attachments) {\n      elements.push(attachments)\n    }\n\n    elements.forEach((child) => {\n      child.addEventListener(\"drop\", (event) => {\n        const uploader = new MarkupEditorUploader(this, element)\n        if (event.dataTransfer.files.length) {\n          event.preventDefault()\n          if (!uploader.canUpload) {\n            uploader.showPermissionDeniedError()\n          } else if (event.dataTransfer.files) {\n            const textarea = event.target.closest(\"textarea\")\n            uploader.uploadFiles(event.dataTransfer.files, textarea)\n          }\n        }\n\n        child.classList.remove(className)\n      })\n\n      child.addEventListener(\"dragenter\", (event) => {\n        event.preventDefault()\n      })\n\n      child.addEventListener(\"dragleave\", () => {\n        child.classList.remove(className)\n      })\n\n      child.addEventListener(\"dragover\", (event) => {\n        child.classList.add(className)\n        event.preventDefault()\n      })\n    })\n  }\n\n  getTextarea(element) {\n    return element.querySelector(\"textarea\")\n  }\n\n  getSelection(textarea) {\n    return new MarkupEditorSelection(textarea)\n  }\n\n  showFilePrompt(element, options) {\n    const uploader = new MarkupEditorUploader(\n      this,\n      element.closest(\"[misago-editor-active]\")\n    )\n\n    if (!uploader.canUpload) {\n      uploader.showPermissionDeniedError()\n    } else {\n      uploader.prompt(options)\n    }\n  }\n\n  showCodeModal(selection) {\n    this.codeModal.show(selection)\n  }\n\n  showLinkModal(selection) {\n    this.linkModal.show(selection)\n  }\n\n  showImageModal(selection) {\n    this.imageModal.show(selection)\n  }\n\n  showQuoteModal(selection) {\n    this.quoteModal.show(selection)\n  }\n\n  getAttachmentByKey(key) {\n    return document.querySelector('[misago-editor-upload-key=\"' + key + '\"]')\n  }\n\n  removeAttachmentElement(element) {\n    const list = element.closest(\"ul\")\n\n    animations.deleteElement(element, function () {\n      if (!list.querySelector(\"li\")) {\n        const container = list.closest(\".markup-editor-attachments-list\")\n        container.classList.add(\"d-none\")\n      }\n    })\n  }\n}\n\nclass MarkupEditorSelection {\n  constructor(textarea) {\n    this.textarea = textarea\n    this._range = this._getRange()\n  }\n\n  get() {\n    return this._range\n  }\n\n  prefix() {\n    return this._range.prefix\n  }\n\n  suffix() {\n    return this._range.suffix\n  }\n\n  zero() {\n    return this._range.length === 0\n  }\n\n  empty() {\n    return this._range.text.trim().length === 0\n  }\n\n  text() {\n    return this._range.text\n  }\n\n  wrap(prefix, suffix) {\n    let value = this._range.prefix\n    value += prefix + this._range.text + suffix\n    value += this._range.suffix\n\n    this.textarea.value = value\n\n    this._range.start += prefix.length\n    this._range.end += prefix.length\n    this._range.length = this._range.end - this._range.start\n\n    this.refocus()\n  }\n\n  replace(text, options) {\n    const value = this._range.prefix + text + this._range.suffix\n    this.textarea.value = value\n\n    if (options && options.start) {\n      this._range.start += options.start\n    }\n\n    this._range.end = this._range.start + text.length\n\n    if (options) {\n      if (options.start) {\n        this._range.end -= options.start\n      }\n      if (options.end) {\n        this._range.end -= options.end\n      }\n    }\n\n    this._range.length = this._range.end - this._range.start\n\n    this.refocus()\n  }\n\n  insert(text, options) {\n    const whitespace = (options && options.whitespace) || \"\"\n\n    const prefix = whitespace\n      ? this._range.prefix.trimEnd()\n      : this._range.prefix\n    const suffix = whitespace ? this._range.suffix.trim() : this._range.suffix\n\n    let whitespaces = 1\n    let value = prefix\n\n    if (prefix.length && whitespace) {\n      value += whitespace\n      whitespaces += 1\n    }\n\n    value += text + whitespace + suffix\n    this.textarea.value = value\n\n    const caret = prefix.length + text.length + whitespace.length * whitespaces\n    this._range.end = this._range.start = caret\n    this._range.length = 0\n\n    this.refocus()\n  }\n\n  replaceAttachments(callback) {\n    this.textarea.value = this.textarea.value.replace(\n      /<attachment=(.+?)>/gi,\n      function (match, p1) {\n        if (p1.match(/:/g).length !== 1) {\n          return match\n        }\n\n        let value = p1.trim()\n        while (value.substring(0, 1) === '\"') {\n          value = value.substring(1)\n        }\n        while (value.substring(value.length - 1) === '\"') {\n          value = value.substring(0, value.length - 1)\n        }\n\n        const name = value.substring(0, value.indexOf(\":\")).trim()\n        const id = value.substring(value.indexOf(\":\") + 1).trim()\n\n        if ((name, id)) {\n          const result = callback({ match, name, id })\n          if (typeof result === \"string\" || result instanceof String) {\n            return result\n          }\n        }\n\n        return match\n      }\n    )\n  }\n\n  refocus() {\n    window.setTimeout(() => {\n      const scroll = this.textarea.scrollTop\n      this.textarea.focus()\n      this.textarea.scrollTop = scroll\n\n      const caret = this._range.start\n      this.textarea.setSelectionRange(caret, caret + this._range.length)\n    }, 250)\n  }\n\n  _getRange() {\n    if (document.selection) {\n      this.textarea.focus()\n      const range = document.selection.createRange()\n      const length = range.text.length\n      range.moveStart(\"character\", -this.textarea.value.length)\n      return this._createRange(\n        this.textarea,\n        range.text.length - length,\n        range.text.length\n      )\n    }\n\n    if (this.textarea.selectionStart || this.textarea.selectionStart == \"0\") {\n      return this._createRange(\n        this.textarea,\n        this.textarea.selectionStart,\n        this.textarea.selectionEnd\n      )\n    }\n  }\n\n  _createRange(textarea, start, end) {\n    return {\n      start: start,\n      end: end,\n      length: end - start,\n      text: textarea.value.substring(start, end),\n      prefix: textarea.value.substring(0, start),\n      suffix: textarea.value.substring(end),\n    }\n  }\n}\n\nconst editor = new MarkupEditor()\n\nexport default editor\n\neditor.setAction(\"strong\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\"**\" + pgettext(\"example markup\", \"Strong text\") + \"**\", {\n      start: 2,\n      end: 2,\n    })\n  } else {\n    selection.wrap(\"**\", \"**\")\n  }\n})\n\neditor.setAction(\"emphasis\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\n      \"_\" + pgettext(\"example markup\", \"Text with emphasis\") + \"_\",\n      { start: 1, end: 1 }\n    )\n  } else {\n    selection.wrap(\"_\", \"_\")\n  }\n})\n\neditor.setAction(\"strikethrough\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\n      \"~~\" + pgettext(\"example markup\", \"Text with strikethrough\") + \"~~\",\n      { start: 2, end: 2 }\n    )\n  } else {\n    selection.wrap(\"~~\", \"~~\")\n  }\n})\n\neditor.setAction(\"horizontal-ruler\", function ({ selection }) {\n  selection.insert(\"- - -\", { whitespace: \"\\n\\n\" })\n})\n\neditor.setAction(\"link\", function ({ editor, selection }) {\n  editor.showLinkModal(selection)\n})\n\neditor.setAction(\"image\", function ({ editor, selection }) {\n  editor.showImageModal(selection)\n})\n\neditor.setAction(\"quote\", function ({ editor, selection }) {\n  editor.showQuoteModal(selection)\n})\n\neditor.setAction(\"spoiler\", function ({ selection }) {\n  const prefix = selection.prefix().trim().length\n    ? \"\\n\\n[spoiler]\\n\"\n    : \"[spoiler]\\n\"\n  const suffix = \"\\n[/spoiler]\\n\\n\"\n\n  if (selection.empty()) {\n    selection.replace(\n      prefix + pgettext(\"example markup\", \"Spoiler text\") + suffix,\n      { start: prefix.length, end: suffix.length }\n    )\n  } else {\n    selection.wrap(prefix, suffix)\n  }\n})\n\neditor.setAction(\"code\", function ({ editor, selection }) {\n  editor.showCodeModal(selection)\n})\n\neditor.setAction(\"attachment\", function ({ target, selection }) {\n  const attachment = target.getAttribute(\"misago-editor-attachment\")\n  if (attachment) {\n    selection.insert(\"<attachment=\" + attachment + \">\", { whitespace: \"\\n\\n\" })\n  }\n})\n\neditor.setAction(\"image-upload\", function ({ editor, target }) {\n  editor.showFilePrompt(target, { accept: \"image\", insert: true })\n})\n\neditor.setAction(\"attachment-upload\", function ({ editor, target }) {\n  editor.showFilePrompt(target)\n})\n\neditor.setAction(\"attachment-delete\", function ({ editor, target, selection }) {\n  const attachment = target.getAttribute(\"misago-editor-attachment\")\n  const name = target\n    .closest(\"[misago-editor-deleted-attachments-name]\")\n    .getAttribute(\"misago-editor-deleted-attachments-name\")\n\n  selection.replaceAttachments(function ({ id }) {\n    if (id === attachment) {\n      return \"\"\n    }\n\n    return false\n  })\n\n  const element = target.closest(\"li\")\n  editor.removeAttachmentElement(element)\n\n  const input = document.createElement(\"input\")\n  input.setAttribute(\"type\", \"hidden\")\n  input.setAttribute(\"name\", name)\n  input.setAttribute(\"value\", attachment)\n\n  const attachments = target.closest(\"[misago-editor-attachments]\")\n  attachments.appendChild(input)\n})\n\neditor.setAction(\n  \"attachment-error-dismiss\",\n  function ({ editor, target, selection }) {\n    const key = target.getAttribute(\"misago-editor-attachment-key\")\n\n    selection.replaceAttachments(function (attachment) {\n      if (attachment.id === key) {\n        return \"\"\n      }\n\n      return false\n    })\n\n    const message = document.querySelector(\n      '[misago-editor-attachment-error=\"' + key + '\"]'\n    )\n    if (message) {\n      animations.deleteElement(message)\n    }\n\n    const attachment = editor.getAttachmentByKey(key)\n    if (attachment) {\n      editor.removeAttachmentElement(attachment)\n    }\n  }\n)\n\neditor.setAction(\"formatting-help\", function ({ target }) {\n  const modal = document.getElementById(\"markup-editor-formatting-help\")\n  const element = target.closest(\"a\")\n\n  htmx\n    .ajax(\"GET\", element.href, {\n      target: modal,\n      swap: \"innerHTML\",\n    })\n    .then(() => {\n      $(modal).modal(\"show\")\n    })\n})\n","import editor from \"./editor\"\n\nexport default editor\n\nexport function activateEditors() {\n  document\n    .querySelectorAll(\"[misago-editor-active='false']\")\n    .forEach(editor.activate)\n}\n","class MarkupEditorModal {\n  constructor() {\n    this.selection = null\n    this.element = null\n    this.form = null\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.element = this.getElement()\n      if (this.element) {\n        this.form = this.element.querySelector(\"form\")\n        this.initForm(this.form)\n      }\n    })\n  }\n\n  getElement() {\n    throw \"Subclasses of 'MarkupEditorModal' must implement 'getElement' method\"\n  }\n\n  initForm(form) {\n    form.addEventListener(\"submit\", (event) => {\n      event.preventDefault()\n      const data = new FormData(event.target)\n      this.submit(data, this.selection)\n      return false\n    })\n  }\n\n  reset() {\n    this.element.querySelectorAll(\"input\").forEach((input) => {\n      input.value = \"\"\n    })\n  }\n\n  setData(form, selection) {}\n\n  submit(data, selection) {}\n\n  show(selection) {\n    this.reset()\n    this.selection = selection\n    this.setData(this.form, selection)\n    $(this.element).modal(\"show\")\n  }\n\n  hide() {\n    $(this.element).modal(\"hide\")\n  }\n}\n\nexport class MarkupEditorLinkModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-link-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"text\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const url = cleanUrl(data.get(\"url\").trim())\n    const text = data.get(\"text\").trim()\n\n    if (url) {\n      if (text) {\n        if (isUnsafeForMarkdown(url, text)) {\n          selection.replace(\"[url=\" + url + \"]\" + text + \"[/url]\")\n        } else {\n          selection.replace(\"[\" + text + \"](\" + url + \")\")\n        }\n      } else {\n        selection.replace(\"<\" + url + \">\")\n      }\n\n      this.hide()\n    }\n  }\n}\n\nexport class MarkupEditorImageModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-image-modal\")\n  }\n\n  submit(data, selection) {\n    const url = cleanUrl(data.get(\"url\").trim())\n    const text = data.get(\"text\").trim()\n\n    if (url) {\n      if (text) {\n        if (isUnsafeForMarkdown(url, text)) {\n          selection.replace(\"[img=\" + url + \"]\" + text + \"[/img]\")\n        } else {\n          selection.replace(\"![\" + text + \"](\" + url + \")\")\n        }\n      } else if (isUnsafeForMarkdown(url, text)) {\n        selection.replace(\"[img]\" + url + \"[/img]\")\n      } else {\n        selection.replace(\"!(\" + url + \")\")\n      }\n\n      this.hide()\n    }\n  }\n}\n\nfunction isUnsafeForMarkdown(url, text) {\n  if (url.indexOf(\"(\") >= 0) return true\n  if (url.indexOf(\")\") >= 0) return true\n  if (text.indexOf(\"[\") >= 0) return true\n  if (text.indexOf(\"]\") >= 0) return true\n\n  return false\n}\n\nfunction cleanUrl(url) {\n  if (startsWith(url, \"http://\") || startsWith(url, \"https://\")) {\n    return url\n  }\n\n  return \"http://\" + url\n}\n\nfunction startsWith(text, prefix) {\n  return text.toLowerCase().substring(0, prefix.length) === prefix\n}\n\nexport class MarkupEditorQuoteModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-quote-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"text\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const author = data.get(\"author\").trim()\n    const text = data.get(\"text\").trim()\n\n    if (text) {\n      const prefix = this.getQuotePrefix(selection, author)\n      const suffix = \"\\n[/quote]\\n\\n\"\n\n      selection.replace(prefix + text + suffix, {\n        start: prefix.length,\n        end: suffix.length,\n      })\n\n      this.hide()\n    }\n  }\n\n  getQuotePrefix(selection, author) {\n    const prefix = selection.prefix().trim().length ? \"\\n\\n\" : \"\"\n    if (author) {\n      return prefix + \"[quote=\" + author + \"]\\n\"\n    }\n    return prefix + \"[quote]\\n\"\n  }\n}\n\nexport class MarkupEditorCodeModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-code-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"code\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const info = data.get(\"info\")\n    const syntax = data.get(\"syntax\")\n    const code = data.get(\"code\")\n\n    if (code) {\n      const prefix = this.getCodePrefix(selection)\n      const args = this.getCodeArguments(info, syntax)\n      const delimiter = this.getCodeDelimiter(args, code)\n\n      const markup =\n        prefix + delimiter + args + \"\\n\" + code + \"\\n\" + delimiter + \"\\n\\n\"\n\n      selection.replace(markup, { start: markup.length })\n\n      this.hide()\n    }\n  }\n\n  getCodeArguments(info, syntax) {\n    const cleanInfo = (info || \"\").trim()\n    const cleanSyntax = (syntax || \"\").trim()\n\n    if (cleanInfo && cleanSyntax) {\n      return cleanInfo + \", syntax: \" + cleanSyntax\n    }\n\n    return cleanInfo || cleanSyntax || \"\"\n  }\n\n  getCodeDelimiter(args, code) {\n    let delimiter = args.startsWith(\"`\") ? \"~\" : \"`\"\n    while (delimiter.length < 3 || code.indexOf(delimiter) !== -1) {\n      delimiter += delimiter[0]\n    }\n    return delimiter\n  }\n\n  getCodePrefix(selection) {\n    return selection.prefix().trim().length ? \"\\n\\n\" : \"\"\n  }\n}\n","import { appendCSRFTokenToForm } from \"../csrf\"\nimport getRandomString from \"../getRandomString\"\nimport renderTemplate from \"../renderTemplate\"\nimport * as snackbar from \"../snackbars\"\n\nexport default class MarkupEditorUploader {\n  constructor(editor, element) {\n    this.editor = editor\n\n    this.element = element\n    this.textarea = editor.getTextarea(element)\n\n    this.lists = {\n      media: element.querySelector('[misago-editor-attachments=\"media\"]'),\n      other: element.querySelector('[misago-editor-attachments=\"other\"]'),\n    }\n\n    this.templates = {\n      error: document.getElementById(\"attachment-upload-error-template\"),\n      media: document.getElementById(\"attachment-media-template\"),\n      mediaFooter: document.getElementById(\"attachment-media-footer-template\"),\n      mediaFailedFooter: document.getElementById(\n        \"attachment-media-failed-footer-template\"\n      ),\n      other: document.getElementById(\"attachment-other-template\"),\n      otherFailed: document.getElementById(\"attachment-other-failed-template\"),\n      otherUploaded: document.getElementById(\n        \"attachment-other-uploaded-template\"\n      ),\n    }\n\n    const attachmentsElement = element.querySelector(\n      \"[misago-editor-attachments]\"\n    )\n    this.field = {\n      name: element.getAttribute(\"misago-editor-attachments-name\"),\n      element: attachmentsElement,\n    }\n\n    this.accept = {\n      all: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-attachments\")\n      ),\n      image: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-image\")\n      ),\n      video: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-video\")\n      ),\n    }\n\n    this.uploadUrl = this._getUploadUrl(element)\n    this.canUpload = !!this.uploadUrl && !!this.accept.all\n  }\n\n  _getUploadUrl(element) {\n    return element.getAttribute(\"misago-editor-attachments-url\") || null\n  }\n\n  _getAcceptedExtensions(extensions) {\n    return extensions.split(\",\").map((item) => item.trim())\n  }\n\n  showPermissionDeniedError() {\n    snackbar.error(\n      pgettext(\"markup editor upload\", \"You can't upload attachments\")\n    )\n  }\n\n  prompt(options) {\n    const accept = options ? options.accept : \"all\"\n    const insert = options ? options.insert : false\n\n    const input = document.createElement(\"input\")\n    input.setAttribute(\"type\", \"file\")\n    input.setAttribute(\n      \"accept\",\n      (this.accept[accept] || this.accept.all).join(\",\")\n    )\n    input.setAttribute(\"multiple\", true)\n    input.classList.add(\"d-none\")\n\n    input.addEventListener(\"change\", (event) => {\n      const files = event.target.files\n      if (files.length) {\n        this.uploadFiles(files, insert)\n      }\n      input.remove()\n    })\n\n    this.element.appendChild(input)\n    input.click()\n  }\n\n  _getAcceptAttributeStr(accept) {\n    return (this.accept[accept] || this.accept.all).join(\",\")\n  }\n\n  uploadFiles(files, insert) {\n    const allowedFiles = []\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i]\n      if (this._isFileTypeAccepted(file)) {\n        allowedFiles.push(file)\n      } else {\n        snackbar.error(\n          pgettext(\n            \"markup editor upload\",\n            \"%(name)s: uploaded file type is not allowed.\"\n          ).replace(\"%(name)s\", file.name)\n        )\n      }\n    }\n\n    if (!allowedFiles) {\n      return { keys: [], files: [] }\n    }\n\n    const keys = []\n    const elements = {}\n\n    const data = new FormData()\n    appendCSRFTokenToForm(data)\n\n    allowedFiles.forEach((file) => {\n      const key = getRandomString(16)\n      keys.push(key)\n      data.append(\"keys\", key)\n      data.append(\"upload\", file)\n\n      elements[key] = this._createUploadUI(file, key)\n    })\n\n    if (insert) {\n      this._insertAttachmentsInTextarea(keys, allowedFiles)\n    }\n\n    const request = new XMLHttpRequest()\n\n    this._addOnLoadedEventListener(request, keys, elements)\n    this._addOnProgressEventListener(request, keys, elements)\n\n    request.open(\"POST\", this.uploadUrl)\n    request.send(data)\n\n    return { keys, files: allowedFiles }\n  }\n\n  _isFileTypeAccepted(file) {\n    return this._isFileTypeInList(file, this.accept.all)\n  }\n\n  _isFileTypeImage(file) {\n    return this._isFileTypeInList(file, this.accept.image)\n  }\n\n  _isFileTypeVideo(file) {\n    return this._isFileTypeInList(file, this.accept.video)\n  }\n\n  _isFileTypeInList(file, list) {\n    const name = file.name.toLowerCase()\n    for (const extension of list) {\n      if (name.substring(name.length - extension.length) === extension) {\n        return true\n      }\n    }\n    return false\n  }\n\n  _insertAttachmentsInTextarea(keys, files) {\n    const markup = []\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const file = files[i]\n      markup.push(\"<attachment=\" + file.name + \":\" + key + \">\")\n    }\n\n    if (markup) {\n      const selection = this.editor.getSelection(this.textarea)\n      selection.insert(markup.join(\"\\n\"), { whitespace: \"\\n\\n\" })\n    }\n  }\n\n  _addOnLoadedEventListener(request, keys, elements) {\n    request.addEventListener(\"loadend\", () => {\n      if (request.readyState === XMLHttpRequest.DONE) {\n        if (request.status === 200) {\n          this._handleUploadSuccess(request, keys, elements)\n        } else {\n          this._handleUploadError(request, keys)\n        }\n\n        keys.forEach((key) => (elements[key] = null))\n      }\n    })\n  }\n\n  _handleUploadSuccess(request, keys, elements) {\n    try {\n      const { attachments, errors } = JSON.parse(request.response)\n\n      this._replaceTextareaPlaceholders(this.textarea, keys, attachments)\n\n      if (errors) {\n        const helpText = this.element.querySelector(\n          \"[misago-editor-attachments-help]\"\n        )\n        keys.forEach((key) => {\n          const error = errors[key]\n          if (error) {\n            this._updateUploadUIWithError(key, helpText, error)\n          }\n        })\n      }\n\n      if (attachments) {\n        attachments.forEach((attachment) => {\n          try {\n            this._updateUploadUI(attachment, elements[attachment.key])\n            this._createAttachmentIDField(attachment)\n          } catch (error) {\n            console.error(error)\n          }\n        })\n      }\n    } catch (error) {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Unexpected upload API response\")\n      )\n      console.error(error)\n    }\n  }\n\n  _handleUploadError(request, keys) {\n    if (request.status === 0) {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Site could not be reached\")\n      )\n    } else if (request.status >= 400 && request.status < 500) {\n      try {\n        snackbar.error(JSON.parse(request.response).error)\n      } catch (error) {\n        snackbar.error(\n          pgettext(\n            \"markup editor upload\",\n            \"Unexpected upload API error response\"\n          )\n        )\n        console.error(error)\n      }\n    } else {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Unexpected error during upload\")\n      )\n    }\n\n    keys.forEach((key) => {\n      this._updateUploadUIWithError(key)\n    })\n  }\n\n  _addOnProgressEventListener(request, keys, elements) {\n    request.upload.addEventListener(\"progress\", (event) => {\n      if (event.lengthComputable) {\n        const progress = Math.ceil((event.loaded * 100) / event.total)\n        for (const key of keys) {\n          const progressBar = elements[key].querySelector(\".progress-bar\")\n          progressBar.setAttribute(\"aria-valuenow\", progress)\n          progressBar.style.width = progress + \"%\"\n        }\n      }\n    })\n  }\n\n  _replaceTextareaPlaceholders(textarea, keys, attachments) {\n    const results = {}\n    keys.forEach((key) => (results[key] = null))\n    if (attachments) {\n      attachments.forEach(\n        (attachment) => (results[attachment.key] = attachment)\n      )\n    }\n\n    const selection = this.editor.getSelection(textarea)\n    selection.replaceAttachments(function ({ id: key }) {\n      const attachment = results[key]\n      if (attachment) {\n        return \"<attachment=\" + attachment.name + \":\" + attachment.id + \">\"\n      } else if (attachment === null) {\n        return \"\"\n      }\n    })\n  }\n\n  _createUploadUI(file, key) {\n    const data = {\n      key,\n      file,\n      name: file.name,\n      isImage: false,\n      isVideo: false,\n    }\n\n    if (this._isFileTypeImage(file)) {\n      data.isImage = true\n      this._createMediaUploadUI(data)\n    } else if (this._isFileTypeVideo(file)) {\n      data.isVideo = true\n      this._createMediaUploadUI(data)\n    } else {\n      this._createOtherUploadUI(data)\n    }\n\n    return this.editor.getAttachmentByKey(key)\n  }\n\n  _createMediaUploadUI(data) {\n    const element = renderTemplate(this.templates.media, data)\n\n    if (data.isImage) {\n      const image = element.querySelector(\"[misago-tpl-image]\")\n      const buffer = new FileReader()\n      buffer.onload = () => {\n        image.style.backgroundImage = \"url('\" + buffer.result + \"')\"\n      }\n      buffer.readAsDataURL(data.file)\n    } else if (data.isVideo) {\n      const video = element.querySelector(\"video\")\n      const buffer = new FileReader()\n      buffer.onload = () => {\n        const source = document.createElement(\"source\")\n        source.setAttribute(\"src\", buffer.result)\n        source.setAttribute(\"type\", data.file.type)\n        video.append(source)\n      }\n      buffer.readAsDataURL(data.file)\n    }\n\n    this._addUIToAttachmentsList(this.lists.media, element)\n  }\n\n  _createOtherUploadUI(data) {\n    const element = renderTemplate(this.templates.other, data)\n    this._addUIToAttachmentsList(this.lists.other, element)\n  }\n\n  _addUIToAttachmentsList(list, element) {\n    list.querySelector(\"ul\").prepend(element)\n    list.classList.remove(\"d-none\")\n  }\n\n  _createAttachmentIDField(attachment) {\n    const input = document.createElement(\"input\")\n    input.setAttribute(\"type\", \"hidden\")\n    input.setAttribute(\"name\", this.field.name)\n    input.setAttribute(\"value\", attachment.id)\n    this.field.element.appendChild(input)\n  }\n\n  _updateUploadUI(attachment, element) {\n    if (attachment.filetype[\"is_media\"]) {\n      this._updateMediaUploadUI(attachment, element)\n    } else {\n      this._updateOtherUploadUI(attachment, element)\n    }\n  }\n\n  _updateMediaUploadUI(attachment, element) {\n    const footer = renderTemplate(this.templates.mediaFooter, attachment)\n\n    footer\n      .querySelector(\"[misago-editor-attachment]\")\n      .setAttribute(\n        \"misago-editor-attachment\",\n        attachment.name + \":\" + attachment.id\n      )\n\n    element.querySelector(\"[misago-tpl-footer]\").replaceWith(footer)\n  }\n\n  _updateOtherUploadUI(attachment, element) {\n    const item = renderTemplate(this.templates.otherUploaded, attachment)\n\n    item\n      .querySelector(\"[misago-editor-attachment]\")\n      .setAttribute(\n        \"misago-editor-attachment\",\n        attachment.name + \":\" + attachment.id\n      )\n\n    element.replaceWith(item)\n  }\n\n  _updateUploadUIWithError(key, helpText, error) {\n    if (error) {\n      this._createErrorMessage(key, error, helpText)\n    }\n\n    const attachment = this.editor.getAttachmentByKey(key)\n    const footer = attachment.querySelector(\"[misago-tpl-footer]\")\n    if (footer) {\n      // Media attachment\n      const template = renderTemplate(this.templates.mediaFailedFooter, { key })\n      footer.replaceWith(template)\n    } else {\n      // Other attachment\n      const upload = attachment.querySelector(\"[misago-tpl-upload]\")\n      const button = upload.closest(\"li\").querySelector(\"button\")\n\n      button.setAttribute(\"misago-editor-action\", \"attachment-error-dismiss\")\n      button.setAttribute(\"misago-editor-attachment-key\", key)\n      button.removeAttribute(\"disabled\")\n\n      upload.replaceWith(renderTemplate(this.templates.otherFailed))\n    }\n  }\n\n  _createErrorMessage(key, error, insertAfter) {\n    const errorTemplate = renderTemplate(this.templates.error, { key, error })\n    insertAfter.after(errorTemplate)\n  }\n}\n","document.body.addEventListener(\"click\", (event) => {\n  const selector = event.target.getAttribute(\"misago-focus-on\")\n  if (!!selector) {\n    event.preventDefault()\n    const element = document.querySelector(selector)\n    if (element) {\n      element.focus()\n    }\n  }\n})\n","import htmx from \"htmx.org\"\n\nconst DEBOUNCE = 1000\n\nconst cache = {}\n\nexport function registerElementValidator(element) {\n  const active = element.getAttribute(\"misago-validate-active\")\n  if (active) {\n    return\n  }\n\n  const url = element.getAttribute(\"misago-validate\")\n  const user = element.getAttribute(\"misago-validate-user\")\n  const strip =\n    element.getAttribute(\"misago-validate-strip\") == \"false\" ? false : true\n  const input = element.querySelector(\"input\")\n  const csrf = input.closest(\"form\").querySelector(\"input[type=hidden]\")\n\n  if (!url || !input) {\n    return\n  }\n\n  if (!cache[url]) {\n    cache[url] = {}\n  }\n\n  element.setAttribute(\"misago-validate-active\", \"true\")\n\n  let timeout = null\n\n  input.addEventListener(\"keyup\", (event) => {\n    let value = event.target.value\n    if (strip) {\n      value = value.trim()\n    }\n\n    if (value.trim().length === 0) {\n      clearFormControlValidationState(element)\n      return\n    }\n\n    if (cache[url][value]) {\n      setFormControlValidationState(element, input, cache[url][value])\n    } else {\n      if (timeout) {\n        window.clearTimeout(timeout)\n      }\n\n      timeout = window.setTimeout(async () => {\n        const { errors } = await callValidationUrl(url, csrf, value, user)\n        cache[url][value] = errors\n        setFormControlValidationState(element, input, errors)\n      }, DEBOUNCE)\n    }\n  })\n}\n\nfunction setFormControlValidationState(element, input, errors) {\n  if (errors.length) {\n    setFormControlErrorValidationState(element, input, errors)\n  } else {\n    setFormControlSuccessValidationState(element)\n  }\n}\n\nfunction setFormControlErrorValidationState(element, input, errors) {\n  element.classList.remove(\"has-success\")\n  element.classList.add(\"has-error\")\n\n  clearFormControlValidationMessages(element)\n\n  errors.forEach((error) => {\n    const message = document.createElement(\"p\")\n    message.className = \"help-block\"\n    message.setAttribute(\"misago-dynamic-message\", \"true\")\n    message.innerText = error\n    input.after(message)\n  })\n}\n\nfunction setFormControlSuccessValidationState(element) {\n  element.classList.remove(\"has-error\")\n  element.classList.add(\"has-success\")\n\n  clearFormControlValidationMessages(element)\n}\n\nfunction clearFormControlValidationState(element) {\n  element.classList.remove(\"has-error\")\n  element.classList.remove(\"has-success\")\n\n  clearFormControlValidationMessages(element)\n}\n\nfunction clearFormControlValidationMessages(element) {\n  element\n    .querySelectorAll(\"[misago-dynamic-message]\")\n    .forEach((i) => i.remove())\n}\n\nasync function callValidationUrl(url, csrf, value, user) {\n  const data = new FormData()\n  data.set(csrf.name, csrf.value)\n  data.set(\"value\", value)\n  if (user) {\n    data.set(\"user\", user)\n  }\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"same-origin\",\n    body: data,\n  })\n  return await response.json()\n}\n\nexport function registerValidators(element) {\n  const target = element || document\n  target.querySelectorAll(\"[misago-validate]\").forEach(registerElementValidator)\n}\n\nhtmx.onLoad(registerValidators)\n","export const locale = window.misago_locale || \"en-us\"\n\nexport const momentAgo = pgettext(\"time ago\", \"moment ago\")\nexport const soonAt = pgettext(\"day at time\", \"at %(time)s\")\nexport const dayAt = pgettext(\"day at time\", \"%(day)s at %(time)s\")\nexport const tomorrowAt = pgettext(\"day at time\", \"Tomorrow at %(time)s\")\nexport const yesterdayAt = pgettext(\"day at time\", \"Yesterday at %(time)s\")\n\nexport const momentAgoInSentence = pgettext(\"time ago\", \"a moment ago\")\nexport const timeInSentence = pgettext(\"time ago\", \"at %(time)s\")\nexport const soonAtInSentence = pgettext(\"day at time\", \"at %(time)s\")\nexport const dayAtInSentence = pgettext(\"day at time\", \"%(day)s at %(time)s\")\nexport const tomorrowAtInSentence = pgettext(\n  \"day at time\",\n  \"tomorrow at %(time)s\"\n)\nexport const yesterdayAtInSentence = pgettext(\n  \"day at time\",\n  \"yesterday at %(time)s\"\n)\n\nexport const momentAgoShort = pgettext(\"time ago\", \"now\")\nexport const minutesShort = pgettext(\"short minutes\", \"%(time)sm\")\nexport const hoursShort = pgettext(\"short hours\", \"%(time)sh\")\nexport const daysShort = pgettext(\"short days\", \"%(time)sd\")\n\nexport const relativeNumeric = new Intl.RelativeTimeFormat(locale, {\n  numeric: \"always\",\n  style: \"long\",\n})\n\nexport const fullDateTime = new Intl.DateTimeFormat(locale, {\n  dateStyle: \"full\",\n  timeStyle: \"medium\",\n})\n\nexport const thisYearDate = new Intl.DateTimeFormat(locale, {\n  month: \"long\",\n  day: \"numeric\",\n})\n\nexport const otherYearDate = new Intl.DateTimeFormat(locale, {\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n})\n\nexport const short = new Intl.DateTimeFormat(locale, {\n  year: \"2-digit\",\n  month: \"short\",\n  day: \"numeric\",\n})\n\nexport const weekday = new Intl.DateTimeFormat(locale, {\n  weekday: \"long\",\n})\n\nexport const shortTime = new Intl.DateTimeFormat(locale, { timeStyle: \"short\" })\n\nexport const thisYearShort = new Intl.DateTimeFormat(locale, {\n  month: \"short\",\n  day: \"numeric\",\n})\n\nexport const otherYearShort = new Intl.DateTimeFormat(locale, {\n  month: \"short\",\n  year: \"numeric\",\n})\n\nexport function dateRelative(date) {\n  const now = new Date()\n  const diff = Math.round((date - now) / 1000)\n  const absDiff = Math.abs(diff)\n  const sign = diff < 1 ? -1 : 1\n\n  if (absDiff < 90) {\n    return momentAgo\n  }\n\n  if (absDiff < 60 * 47) {\n    const minutes = Math.round(absDiff / 60) * sign\n    return relativeNumeric.format(minutes, \"minute\")\n  }\n\n  if (absDiff < 3600 * 3) {\n    const hours = Math.round(absDiff / 3600) * sign\n    return relativeNumeric.format(hours, \"hour\")\n  }\n\n  if (isSameDay(now, date)) {\n    if (diff > 0) {\n      return soonAt.replace(\"%(time)s\", shortTime.format(date))\n    }\n\n    return shortTime.format(date)\n  }\n\n  if (isYesterday(date)) {\n    return yesterdayAt.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (isTomorrow(date)) {\n    return tomorrowAt.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (diff < 0 && absDiff < 3600 * 24 * 6) {\n    const day = weekday.format(date)\n    return formatDayAtTime(day, date)\n  }\n\n  if (now.getFullYear() == date.getFullYear()) {\n    return thisYearDate.format(date)\n  }\n\n  return otherYearDate.format(date)\n}\n\nexport function dateRelativeInSentence(date) {\n  const now = new Date()\n  const diff = Math.round((date - now) / 1000)\n  const absDiff = Math.abs(diff)\n  const sign = diff < 1 ? -1 : 1\n\n  if (absDiff < 90) {\n    return momentAgoInSentence\n  }\n\n  if (absDiff < 60 * 47) {\n    const minutes = Math.round(absDiff / 60) * sign\n    return relativeNumeric.format(minutes, \"minute\")\n  }\n\n  if (absDiff < 3600 * 3) {\n    const hours = Math.round(absDiff / 3600) * sign\n    return relativeNumeric.format(hours, \"hour\")\n  }\n\n  if (isSameDay(now, date)) {\n    if (diff > 0) {\n      return soonAtInSentence.replace(\"%(time)s\", shortTime.format(date))\n    }\n\n    return timeInSentence.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (isYesterday(date)) {\n    return yesterdayAtInSentence.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (isTomorrow(date)) {\n    return tomorrowAtInSentence.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (diff < 0 && absDiff < 3600 * 24 * 6) {\n    const day = weekday.format(date)\n    return formatDayAtTime(day, date)\n  }\n\n  if (now.getFullYear() == date.getFullYear()) {\n    return thisYearDate.format(date)\n  }\n\n  return otherYearDate.format(date)\n}\n\nexport function isSameDay(now, date) {\n  return (\n    now.getFullYear() == date.getFullYear() &&\n    now.getMonth() == date.getMonth() &&\n    now.getDate() == date.getDate()\n  )\n}\n\nexport function isYesterday(date) {\n  const yesterday = new Date()\n  yesterday.setDate(yesterday.getDate() - 1)\n  return isSameDay(yesterday, date)\n}\n\nexport function isTomorrow(date) {\n  const yesterday = new Date()\n  yesterday.setDate(yesterday.getDate() + 1)\n  return isSameDay(yesterday, date)\n}\n\nexport function formatDayAtTime(day, date) {\n  return dayAt\n    .replace(\"%(day)s\", day)\n    .replace(\"%(time)s\", shortTime.format(date))\n}\n\nexport function dateRelativeShort(date) {\n  const now = new Date()\n  const absDiff = Math.abs(Math.round((date - now) / 1000))\n\n  if (absDiff < 60) {\n    return momentAgoShort\n  }\n\n  if (absDiff < 60 * 55) {\n    const minutes = Math.round(absDiff / 60)\n    return minutesShort.replace(\"%(time)s\", minutes)\n  }\n\n  if (absDiff < 3600 * 24) {\n    const hours = Math.round(absDiff / 3600)\n    return hoursShort.replace(\"%(time)s\", hours)\n  }\n\n  if (absDiff < 86400 * 7) {\n    const days = Math.round(absDiff / 86400)\n    return daysShort.replace(\"%(time)s\", days)\n  }\n\n  if (date.getFullYear() === now.getFullYear()) {\n    return thisYearShort.format(date)\n  }\n\n  return otherYearShort.format(date)\n}\n","const ALPHABET =\n  \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\nconst ALPHABET_LENGTH = ALPHABET.length\n\nexport default function getRandomString(length) {\n  let string = \"\"\n  for (let i = 0; i < length; i++) {\n    string += ALPHABET[Math.floor(Math.random() * ALPHABET_LENGTH)]\n  }\n  return string\n}\n","import { getClosestAttribute } from \"./closest-attribute\"\nimport { mountTemplate } from \"./template\"\nimport * as toast from \"./snackbars\"\n\nfunction createErrorHandler(getErrorMessage) {\n  async function handler(event) {\n    const error = await getErrorMessage(event)\n    const config = getClosestAttribute(event.target, \"mg-error\")\n\n    if (!config || config === \"true\") {\n      toast.error(error.error)\n    } else if (config !== \"false\" && event.detail && event.detail.target) {\n      const template = document.querySelector(config)\n      if (!template) {\n        console.error(\n          \"Could not resolve the '\" +\n            config +\n            \"' element specified in the 'mg-error' attribute.\"\n        )\n        return\n      }\n\n      if (template) {\n        mountTemplate(event.detail.target, template, error)\n      }\n    }\n  }\n\n  return handler\n}\n\nasync function getResponseError(event) {\n  const response = event.detail.xhr\n\n  let status = response.status\n\n  if (\n    typeof response.getResponseHeader !== \"undefined\" &&\n    response.getResponseHeader(\"content-type\") === \"application/json\"\n  ) {\n    const data = JSON.parse(response.response)\n    if (data.error) {\n      return { status, error: data.error }\n    }\n  } else if (\n    typeof response.headers !== \"undefined\" &&\n    response.headers.get(\"content-type\") === \"application/json\"\n  ) {\n    const data = await response.json()\n    if (data.error) {\n      return { status, error: data.error }\n    }\n  }\n\n  return {\n    status,\n    error: getDefaultErrorForStatus(status),\n  }\n}\n\nfunction getDefaultErrorForStatus(status) {\n  if (status === 404) {\n    return pgettext(\"htmx response error\", \"Page not found\")\n  }\n\n  if (status === 403) {\n    return pgettext(\"htmx response error\", \"Permission denied\")\n  }\n\n  if (status === 0) {\n    return pgettext(\"htmx response error\", \"Site could not be reached\")\n  }\n\n  return pgettext(\"htmx response error\", \"Unexpected error\")\n}\n\nfunction getSendError() {\n  return {\n    status: 0,\n    error: pgettext(\"htmx response error\", \"Site could not be reached\"),\n  }\n}\n\nfunction getTimeoutError() {\n  return {\n    status: 408,\n    error: pgettext(\"htmx response error\", \"Site took too long to respond\"),\n  }\n}\n\nexport { createErrorHandler, getResponseError, getSendError, getTimeoutError }\n\ndocument.addEventListener(\n  \"htmx:responseError\",\n  createErrorHandler(getResponseError)\n)\ndocument.addEventListener(\"htmx:sendError\", createErrorHandler(getSendError))\ndocument.addEventListener(\"htmx:timeout\", createErrorHandler(getTimeoutError))\n","import {\n  getClosestAttribute,\n  getClosestBoolAttribute,\n} from \"./closest-attribute\"\nimport loader from \"./loader\"\nimport { mountTemplate } from \"./template\"\n\nfunction beforeRequest(event) {\n  const config = getClosestAttribute(event.target, \"mg-loader\")\n  if (!config || config === \"true\") {\n    loader.show()\n  } else if (config !== \"false\" && event.detail && event.detail.target) {\n    const template = document.querySelector(config)\n    if (!template) {\n      console.error(\n        \"Could not resolve the '\" +\n          config +\n          \"' element specified in the 'mg-loader' attribute.\"\n      )\n      return\n    }\n\n    if (template) {\n      mountTemplate(event.detail.target, template)\n    }\n  }\n}\n\nfunction afterRequest({ target }) {\n  if (getClosestBoolAttribute(target, \"mg-loader\", true)) {\n    loader.hide()\n  }\n}\n\ndocument.addEventListener(\"htmx:beforeRequest\", beforeRequest)\ndocument.addEventListener(\"htmx:afterRequest\", afterRequest)\n","import htmx from \"htmx.org\"\nimport { getClosestAttribute } from \"./closest-attribute\"\n\nfunction onEvent(name, event) {\n  if (name === \"htmx:beforeSend\") {\n    const options = getModalOptions(event)\n    if (options) {\n      onModalBeforeSend(event, options)\n    }\n  }\n}\n\nfunction getModalOptions(event) {\n  if (!event.target) {\n    return null\n  }\n\n  const swap = getClosestAttribute(event.target, \"hx-swap\")\n  if (!!swap && swap !== \"innerHTML\") {\n    console.warn(\n      \"'hx-swap' attribute for modal target must be 'innerHTML' or not set.\"\n    )\n    return null\n  }\n\n  const modalSelector = getClosestAttribute(event.target, \"mg-modal\")\n  if (!modalSelector) {\n    console.warn(\"Could not resolve the 'mg-modal' attribute.\")\n    return null\n  }\n\n  const modal = document.querySelector(modalSelector)\n  if (!modal) {\n    console.warn(\n      \"Could not resolve the '\" +\n        modalSelector +\n        \"' element specified in the 'mg-modal' attribute.\"\n    )\n    return null\n  }\n\n  const modalTitle = getClosestAttribute(event.target, \"mg-modal-title\")\n  let modalTitleElement = null\n  if (modalTitle) {\n    modalTitleElement = modal.querySelector(\"[mg-modal-title]\")\n    if (!modalTitleElement) {\n      console.warn(\n        \"Could not resolve the 'mg-modal-title' child element for modal.\"\n      )\n      return null\n    }\n  }\n\n  return {\n    modal,\n    selector: modalSelector,\n    title: modalTitle ? { text: modalTitle, element: modalTitleElement } : null,\n  }\n}\n\nfunction onModalBeforeSend(event, options) {\n  if (options.title) {\n    options.title.element.textContent = options.title.text\n  }\n\n  $(options.selector).modal(\"show\")\n}\n\nhtmx.defineExtension(\"mg-modal\", { onEvent })\n\nfunction preventDefault(event) {\n  event.preventDefault()\n}\n\nhtmx.onLoad(function () {\n  document.querySelectorAll(\"[mg-modal]\").forEach(function (element) {\n    element.addEventListener(\"click\", preventDefault)\n  })\n})\n","import \"bootstrap/js/transition\"\nimport \"bootstrap/js/affix\"\nimport \"bootstrap/js/modal\"\nimport \"bootstrap/js/dropdown\"\nimport \"at-js\"\nimport \"cropit\"\nimport \"jquery-caret\"\nimport htmx from \"htmx.org\"\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\nimport BulkModeration from \"./BulkModeration\"\nimport { Mention } from \"./Autocomplete\"\nimport { deleteElement, slideUpElement } from \"./animations\"\nimport \"./focusOn\"\nimport \"./formValidators\"\nimport \"./htmx-error-handler\"\nimport \"./htmx-loader\"\nimport \"./htmx-modal\"\nimport Lightbox from \"./lightbox\"\nimport loader from \"./loader\"\nimport editor, { activateEditors } from \"./editor\"\nimport \"./pagination\"\nimport activatePollChoicesControl from \"./PollChoicesControl\"\nimport quote from \"./Quote\"\nimport \"./richtext\"\nimport * as snackbars from \"./snackbars\"\nimport { updateTabGroups } from \"./TabGroups\"\nimport userMultipleChoice from \"./UserMultipleChoice\"\nimport \"./scrollTo\"\nimport \"./timestamps\"\n\nconst lightbox = new Lightbox()\n\nhtmx.config.historyCacheSize = 0\nhtmx.config.refreshOnHistoryMiss = true\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n\n    this.htmx = htmx\n\n    this.loader = loader\n    this.editor = editor\n    this.lightbox = lightbox\n    this.quote = quote\n\n    this.deleteElement = deleteElement\n    this.slideUpElement = slideUpElement\n\n    this.activatePollChoicesControl = activatePollChoicesControl\n    this.tabGroups = updateTabGroups\n    this.userMultipleChoice = userMultipleChoice\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before,\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach((initializer) => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n\n  snackbar(type, message) {\n    snackbars.snackbar(type, message)\n  }\n\n  snackbarInfo(message) {\n    snackbars.info(message)\n  }\n\n  snackbarSuccess(message) {\n    snackbars.success(message)\n  }\n\n  snackbarWarning(message) {\n    snackbars.warning(message)\n  }\n\n  snackbarError(message) {\n    snackbars.error(message)\n  }\n\n  snackbarHttpResponseError(response) {\n    snackbars.httpResponseError(response)\n  }\n\n  bulkModeration(options) {\n    return new BulkModeration(options)\n  }\n\n  hideMarkAsReadModal = () => {\n    $(\"#mark-as-read\").modal(\"hide\")\n  }\n\n  mention = (control) => {\n    return new Mention(control)\n  }\n}\n\n// create the singleton\nconst misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n\n// Register editor events\ndocument.addEventListener(\"htmx:load\", activateEditors)\n\n// Hide moderation modal\ndocument.addEventListener(\"misago:afterModeration\", () => {\n  $(\"#threads-moderation-modal\").modal(\"hide\")\n})\n\ndocument.addEventListener(\"misago:afterUpdateMembers\", () => {\n  $(\"#add-members-modal\").modal(\"hide\")\n})\n\n// Custom mg-confirm attribute\ndocument.addEventListener(\"submit\", function (event) {\n  const element = event.target.closest(\"form[mg-confirm]\")\n  if (!!element && !window.confirm(element.getAttribute(\"mg-confirm\"))) {\n    event.preventDefault()\n  }\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function () {\n      ajax.get(context.get(\"AUTH_API\")).then(function (data) {\n        store.dispatch(patch(data))\n      })\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\",\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer,\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport Navbar from \"../../components/Navbar\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"misago-navbar\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Navbar />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:navbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport NotificationsOverlay from \"../../components/NotificationsOverlay\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    const root = document.getElementById(\"notifications-mount\")\n    ReactDOM.render(\n      <Provider store={store.getStore()}>\n        <NotificationsOverlay />\n      </Provider>,\n      root\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:notifications-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport Notifications from \"../../components/Notifications\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n  if (\n    document.location.pathname.startsWith(basename) &&\n    !document.location.pathname.startsWith(basename + \"disable-email/\") &&\n    context.get(\"isAuthenticated\")\n  ) {\n    const root = document.getElementById(\"page-mount\")\n    ReactDOM.render(\n      <Provider store={store.getStore()}>\n        <Notifications />\n      </Provider>,\n      root\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:notifications\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\",\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { SearchOverlay } from \"../../components/search\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"search-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <SearchOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:search-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import paths from \"misago/components/search-route\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\")),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { SiteNavOverlay } from \"../../components/SiteNav\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"site-nav-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <SiteNavOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:site-nav-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\",\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { UserNavOverlay } from \"../../components/UserNav\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"user-nav-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <UserNavOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:user-nav-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-mount\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\"),\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"../../reducers/overlay\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\"overlay\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:overlay\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {}\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\",\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\",\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function () {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer,\n})\n","import { updateTimestamps } from \"./timestamps\"\n\nexport default class Lightbox {\n  constructor() {\n    this.modal = null\n    this.pager = null\n    this.details = null\n    this.zoom = null\n    this.download = null\n    this.link = null\n    this.container = null\n    this.caption = null\n\n    this.state = null\n    this.template = null\n\n    document.addEventListener(\"DOMContentLoaded\", this._onDOMContentLoaded)\n  }\n\n  _onDOMContentLoaded = () => {\n    this.modal = document.getElementById(\"misago-lightbox-modal\")\n    if (this.modal) {\n      this.pager = this.modal.querySelector(\"[misago-lightbox-pager]\")\n      this.details = this.modal.querySelector(\"[misago-lightbox-details]\")\n      this.zoom = this.modal.querySelector(\"[misago-lightbox-zoom]\")\n      this.download = this.modal.querySelector(\"[misago-lightbox-download]\")\n      this.link = this.modal.querySelector(\"[misago-lightbox-link]\")\n      this.container = this.modal.querySelector(\"[misago-lightbox-container]\")\n      this.caption = this.modal.querySelector(\"[misago-lightbox-caption]\")\n\n      this.template = document.getElementById(\"lightbox-image-caption\")\n\n      this._registerEvents()\n    }\n  }\n\n  _registerEvents() {\n    document.addEventListener(\"click\", (event) => {\n      const image = event.target.closest(\"img[misago-lightbox-media]\")\n      if (!!image) {\n        this.onImageClick(event, image)\n      } else {\n        const button = event.target.closest(\"[misago-lightbox-button]\")\n        if (!!button) {\n          this.onMediaButtonClick(event, button)\n        }\n      }\n    })\n\n    this.modal.querySelector(\"[data-dismiss]\").addEventListener(\"click\", () => {\n      this.onHideLightbox()\n    })\n\n    this.modal\n      .querySelector(\"[misago-lightbox-previous]\")\n      .addEventListener(\"click\", () => {\n        this.state.index = (this.state.index || this.state.total) - 1\n        this.state.media = this.state.items[this.state.index]\n        this.updateLightbox()\n      })\n\n    this.modal\n      .querySelector(\"[misago-lightbox-next]\")\n      .addEventListener(\"click\", () => {\n        this.state.index += 1\n        if (this.state.index === this.state.total) {\n          this.state.index = 0\n        }\n\n        this.state.media = this.state.items[this.state.index]\n        this.updateLightbox()\n      })\n  }\n\n  onImageClick(event, image) {\n    event.preventDefault()\n\n    const root = image.closest(\"[misago-lightbox-root]\")\n    this.state = this.getInitialState(root, image)\n\n    this.updateLightbox()\n    this.showLightbox()\n  }\n\n  onMediaButtonClick(event, button) {\n    event.preventDefault()\n\n    const root = button.closest(\"[misago-lightbox-root]\")\n    const media = button\n      .closest(\"[misago-lightbox-context]\")\n      .querySelector(\"[misago-lightbox-media]\")\n    this.state = this.getInitialState(root, media)\n\n    this.updateLightbox()\n    this.showLightbox()\n  }\n\n  getInitialState(root, media) {\n    const items = this.getRootMedia(root, media)\n    const index = items.map(({ active }) => active).indexOf(true)\n\n    return {\n      items,\n      media: items[index],\n      index: index,\n      total: items.length,\n    }\n  }\n\n  getRootMedia(root, media) {\n    const items = []\n    root.querySelectorAll(\"[misago-lightbox-media]\").forEach((element) => {\n      const context = element.closest(\"[misago-lightbox-context]\")\n      const link = element.closest(\"a\")\n\n      items.push({\n        element,\n        active: element === media,\n        video: element.tagName === \"VIDEO\",\n        image: element.tagName === \"IMG\",\n        caption: !!context ? context.querySelector(\"template\") : null,\n        details: !!context\n          ? context.getAttribute(\"misago-lightbox-details\")\n          : null,\n        download: !!context\n          ? context.getAttribute(\"misago-lightbox-download\")\n          : null,\n        link: !context && link,\n        url: !!context\n          ? context.getAttribute(\"misago-lightbox-url\")\n          : element.getAttribute(\"src\"),\n      })\n    })\n\n    return items\n  }\n\n  updateLightbox() {\n    this.updateLightboxPager()\n    this.updateLightboxOptions()\n    this.updateLightboxNav()\n    this.updateLightboxContainer()\n    this.updateLightboxCaption()\n  }\n\n  updateLightboxPager() {\n    const { state, pager } = this\n    if (state.total > 1) {\n      pager.textContent = pager\n        .getAttribute(\"misago-lightbox-pager\")\n        .replace(\"%(total)s\", state.total)\n        .replace(\"%(index)s\", state.index + 1)\n      pager.classList.remove(\"d-none\")\n    } else {\n      pager.textContent = \"\"\n      pager.classList.add(\"d-none\")\n    }\n  }\n\n  updateLightboxOptions() {\n    const { media } = this.state\n\n    this.updateLightboxOption(this.details, media.details)\n    this.updateLightboxOption(this.download, media.download && media.url)\n    this.updateLightboxOption(this.link, media.link && media.link.href)\n    this.updateLightboxOption(this.zoom, media.url)\n  }\n\n  updateLightboxOption(element, value) {\n    if (value) {\n      element.setAttribute(\"href\", value)\n      element.classList.remove(\"d-none\")\n    } else {\n      element.classList.add(\"d-none\")\n    }\n  }\n\n  updateLightboxNav() {\n    const { state } = this\n    this.modal\n      .querySelectorAll(\"[misago-lightbox-previous], [misago-lightbox-next]\")\n      .forEach(function (button) {\n        if (state.total > 1) {\n          button.classList.remove(\"d-none\")\n        } else {\n          button.classList.add(\"d-none\")\n        }\n      })\n  }\n\n  updateLightboxContainer() {\n    const { state, container } = this\n    const { media } = state\n\n    if (media.image) {\n      this.updateLightboxContainerWithImage(container, media)\n    } else if (media.video) {\n      this.updateLightboxContainerWithVideo(container, media)\n    }\n  }\n\n  updateLightboxContainerWithImage(container, media) {\n    const img = document.createElement(\"img\")\n    img.setAttribute(\"src\", media.url)\n    img.setAttribute(\"alt\", \"\")\n\n    const a = document.createElement(\"a\")\n    a.setAttribute(\"href\", media.url)\n    a.setAttribute(\"target\", \"_blank\")\n    a.appendChild(img)\n\n    container.replaceChildren(a)\n  }\n\n  updateLightboxContainerWithVideo(container, media) {\n    const video = document.createElement(\"video\")\n    video.innerHTML = media.element.innerHTML\n    video.setAttribute(\"controls\", \"true\")\n    video.setAttribute(\"preload\", \"metadata\")\n    container.replaceChildren(video)\n  }\n\n  updateLightboxCaption() {\n    const { state, caption } = this\n    const { media } = state\n\n    if (media.caption) {\n      const template = media.caption.content.cloneNode(true)\n      updateTimestamps(template)\n      caption.replaceChildren(template)\n    } else {\n      const template = this.template.content.cloneNode(true)\n      const name = template.querySelector(\"[lightbox-image-caption-name]\")\n      const description = template.querySelector(\n        \"[lightbox-image-caption-description]\"\n      )\n\n      name.removeAttribute(\"lightbox-image-caption-name\")\n      description.removeAttribute(\"lightbox-image-caption-description\")\n\n      const alt = (media.element.getAttribute(\"alt\") || \"\").trim()\n      const title = (media.element.getAttribute(\"title\") || \"\").trim()\n      const src = media.element.getAttribute(\"src\")\n\n      const nameText =\n        title && alt\n          ? title + \"  \" + alt\n          : title || alt || this.cleanDisplayFilename(src)\n\n      name.textContent = this.shortenLongString(nameText)\n      if (name.textContent !== nameText) {\n        name.setAttribute(\"title\", nameText)\n      }\n\n      if (media.link) {\n        const a = document.createElement(\"a\")\n        const href = media.link.getAttribute(\"href\")\n        a.setAttribute(\"href\", href)\n        a.setAttribute(\"target\", \"_blank\")\n        a.textContent = this.cleanDisplayUrl(href)\n        description.appendChild(a)\n      } else if (title || alt) {\n        description.textContent = this.cleanDisplayUrl(src)\n      } else {\n        description.remove()\n      }\n\n      caption.replaceChildren(template)\n    }\n  }\n\n  cleanDisplayFilename(href) {\n    const slash = href.lastIndexOf(\"/\")\n    if (slash === -1) {\n      return this.cleanDisplayUrl(href)\n    }\n\n    const filename = href.substring(slash + 1).trim()\n    if (filename) {\n      return this.shortenLongString(filename)\n    }\n\n    return this.cleanDisplayUrl(href)\n  }\n\n  cleanDisplayUrl(href) {\n    let clean = href\n    if (clean.startsWith(\"https://\")) {\n      clean = clean.substring(8)\n    } else if (clean.startsWith(\"http://\")) {\n      clean = clean.substring(7)\n    }\n    return this.shortenLongString(clean)\n  }\n\n  shortenLongString(value) {\n    if (value.length <= 80) {\n      return value\n    }\n\n    const prefix = value.substring(0, 35)\n    const suffix = value.substring(value.length - 40)\n    return prefix + \"...\" + suffix\n  }\n\n  showLightbox() {\n    document.querySelectorAll(\"video\").forEach((video) => video.pause())\n    $(this.modal).modal(\"show\")\n  }\n\n  onHideLightbox() {\n    this.modal.querySelectorAll(\"video\").forEach((video) => video.pause())\n  }\n}\n","class AjaxLoader {\n  constructor() {\n    this.element = document.getElementById(\"misago-ajax-loader\")\n    this.requests = 0\n    this.timeout = null\n  }\n\n  show = () => {\n    this.requests += 1\n    this.update()\n  }\n\n  hide = () => {\n    if (this.requests) {\n      this.requests -= 1\n      this.update()\n    }\n  }\n\n  update = () => {\n    if (this.timeout) {\n      window.clearTimeout(this.timeout)\n    }\n\n    if (this.requests) {\n      this.element.classList.add(\"busy\")\n      this.element.classList.remove(\"complete\")\n    } else {\n      this.element.classList.remove(\"busy\")\n      this.element.classList.add(\"complete\")\n\n      this.timeout = setTimeout(() => {\n        this.element.classList.remove(\"complete\")\n      }, 1500)\n    }\n  }\n}\n\nconst loader = new AjaxLoader()\n\nexport default loader\n","import htmx from \"htmx.org\"\n\nexport function activatePageSelectForms() {\n  document.querySelectorAll(\"[misago-page-form]\").forEach((element) => {\n    if (element.getAttribute(\"misago-page-form\") === \"\") {\n      activatePageSelectForm(element)\n    }\n  })\n}\n\nexport function activatePageSelectForm(form) {\n  form.setAttribute(\"misago-page-form\", \"true\")\n  form.addEventListener(\"submit\", (event) => {\n    const page = form.getAttribute(\"misago-page\")\n    const input = event.target.querySelector(\"input\")\n    const value = input.value\n    if (value >= input.min && value <= input.max && value != page) {\n      let url = form.getAttribute(\"misago-page-url\")\n      if (value > 1) {\n        url += value + \"/\"\n      }\n\n      window.history.pushState({}, \"\", url)\n      document.getElementById(\"misago-page-scroll-target\").scrollIntoView()\n\n      htmx.ajax(\"GET\", url, {\n        target: \"#misago-htmx-root\",\n        swap: \"outerHTML\",\n      })\n    }\n\n    const toggle = form.closest(\".dropdown\").querySelector(\"[data-toggle]\")\n    if (toggle) {\n      $().dropdown(\"toggle\")\n    }\n\n    event.preventDefault()\n    return false\n  })\n}\n\nhtmx.onLoad(activatePageSelectForms)\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false,\n}\n\nexport const UPDATE_AUTHENTICATED_USER = \"UPDATE_AUTHENTICATED_USER\"\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function updateAuthenticatedUser(data) {\n  return {\n    type: UPDATE_AUTHENTICATED_USER,\n    data,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch,\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user,\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft,\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case UPDATE_AUTHENTICATED_USER:\n      let updatedState = Object.assign({}, state)\n      updatedState.user = Object.assign({}, state.user, action.data)\n      return updatedState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user,\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft,\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars,\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug,\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const OPEN_SITE_NAV = \"OPEN_SITE_NAV\"\nexport const OPEN_SEARCH = \"OPEN_SEARCH\"\nexport const OPEN_NOTIFICATIONS = \"OPEN_NOTIFICATIONS\"\nexport const OPEN_PRIVATE_THREADS = \"OPEN_PRIVATE_THREADS\"\nexport const OPEN_USER_NAV = \"OPEN_USER_NAV\"\nexport const CLOSE = \"CLOSE_OVERLAYS\"\n\nexport function openSiteNav() {\n  return { type: OPEN_SITE_NAV }\n}\n\nexport function openSearch() {\n  return { type: OPEN_SEARCH }\n}\n\nexport function openNotifications() {\n  return { type: OPEN_NOTIFICATIONS }\n}\n\nexport function openPrivateThreads() {\n  return { type: OPEN_PRIVATE_THREADS }\n}\n\nexport function openUserNav() {\n  return { type: OPEN_USER_NAV }\n}\n\nexport function close() {\n  return { type: CLOSE }\n}\n\nexport const initialState = {\n  siteNav: false,\n  search: false,\n  notifications: false,\n  privateThreads: false,\n  userNav: false,\n}\n\nexport default function notifications(state = initialState, action = null) {\n  switch (action.type) {\n    case OPEN_SITE_NAV:\n      return Object.assign({}, state, initialState, { siteNav: true })\n\n    case OPEN_SEARCH:\n      return Object.assign({}, state, initialState, { search: true })\n\n    case OPEN_NOTIFICATIONS:\n      return Object.assign({}, state, initialState, { notifications: true })\n\n    case OPEN_PRIVATE_THREADS:\n      return Object.assign({}, state, initialState, { privateThreads: true })\n\n    case OPEN_USER_NAV:\n      return Object.assign({}, state, initialState, { userNav: true })\n\n    case CLOSE:\n      return Object.assign({}, state, initialState)\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState,\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data,\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL,\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false,\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false,\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on),\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch,\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost,\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post,\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post,\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS,\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false,\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS,\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState,\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts,\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts,\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map((post) => {\n        return Object.assign({}, post, {\n          isSelected: false,\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts,\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map((post) => {\n        return post.id\n      })\n\n      action.state.results.map((post) => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results,\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false,\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map((post) => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts,\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState,\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus,\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch,\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status),\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars,\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug,\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: [],\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState,\n    },\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState,\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider,\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map((provider) => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        }),\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds,\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE,\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId,\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false,\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type,\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR,\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true,\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data,\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data,\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\",\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting,\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread,\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items,\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting,\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting,\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    moderation: getThreadModerationOptions(thread.acl),\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0,\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK,\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy,\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on),\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username,\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars,\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug,\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items,\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null,\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status),\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars,\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug,\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export default function renderTemplate(template, data) {\n  const node = template.content.cloneNode(true)\n\n  node.querySelectorAll(\"[misago-tpl-if]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-if\")\n    if (getVariableValue(data, variable)) {\n      element.removeAttribute(\"misago-tpl-if\")\n    } else {\n      element.remove()\n    }\n  })\n\n  node.querySelectorAll(\"[misago-tpl-ifnot]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-ifnot\")\n    if (getVariableValue(data, variable)) {\n      element.remove()\n    } else {\n      element.removeAttribute(\"misago-tpl-ifnot\")\n    }\n  })\n\n  node.querySelectorAll(\"[misago-tpl-var]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-var\")\n    element.innerText = getVariableValue(data, variable) || \"\"\n    element.removeAttribute(\"misago-tpl-var\")\n  })\n\n  node.querySelectorAll(\"[misago-tpl-attr]\").forEach((element) => {\n    const attr = element.getAttribute(\"misago-tpl-attr\")\n    if (attr.indexOf(\":\") !== \":\") {\n      const name = attr.substring(0, attr.indexOf(\":\")).trim()\n      const variable = attr.substring(attr.indexOf(\":\") + 1).trim()\n      const value = variable ? getVariableValue(data, variable) : undefined\n\n      if (name && value) {\n        element.setAttribute(name, value)\n      }\n    }\n    element.removeAttribute(\"misago-tpl-attr\")\n  })\n\n  return node\n}\n\nfunction getVariableValue(data, variable) {\n  if (variable.indexOf(\".\") === -1) {\n    return data[variable]\n  } else {\n    let value = data\n    for (const part of variable.split(\".\")) {\n      if (part && typeof value[part] !== \"undefined\") {\n        value = value[part]\n      } else {\n        return undefined\n      }\n    }\n    return value\n  }\n}\n","import htmx from \"htmx.org\"\nimport * as snackbars from \"./snackbars\"\n\nexport function activateRichText() {\n  document\n    .querySelectorAll(\"[misago-rich-text-code] button\")\n    .forEach((element) => {\n      element.addEventListener(\"click\", copyCode)\n    })\n}\n\nasync function copyCode(event) {\n  const element = event.target.closest(\"[misago-rich-text-code]\")\n  if (!!element) {\n    event.preventDefault()\n    const code = element.querySelector(\"code\").textContent\n    if (code.trim()) {\n      await navigator.clipboard.writeText(code)\n      snackbars.info(pgettext(\"code copied\", \"Code copied\"))\n    }\n  }\n}\n\nhtmx.onLoad(activateRichText)\n","document.body.addEventListener(\"click\", (event) => {\n  const target = event.target.closest(\"[misago-scroll-to]\")\n  if (!!target) {\n    const selector = target.getAttribute(\"misago-scroll-to\")\n    const element = document.querySelector(selector)\n    if (element) {\n      event.preventDefault()\n      element.scrollIntoView({ behavior: \"instant\" })\n    }\n  }\n})\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function (data) {\n          resolve(data)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = pgettext(\n              \"ajax client error\",\n              \"Could not connect to the site.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = pgettext(\n                \"ajax client error\",\n                \"Action link is invalid.\"\n              )\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"ajax client error\",\n              \"Unknown error has occurred.\"\n            )\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function () {\n            return\n          },\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function (resolve, reject) {\n          let wait = function (url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function () {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function () {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false,\n        }\n\n        return new Promise(function (resolve, reject) {\n          self.request(\"GET\", url).then(\n            function (data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function (rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function () {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function (response) {\n          resolve(response)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Could not connect to the site.\"\n            )\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Upload was rejected by the site as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = pgettext(\n                \"api error\",\n                \"Action link is invalid.\"\n              )\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Unknown error has occurred.\"\n            )\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username,\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false,\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", (newState) => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username,\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username,\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function (resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function (data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function () {\n          self._snackbar.error(\n            pgettext(\"captcha field\", \"Failed to load CAPTCHA.\")\n          )\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: (response) => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response,\n          },\n        })\n      },\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function (resolve) {\n      var wait = function () {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function () {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={pgettext(\"captcha field\", \"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={pgettext(\n          \"captcha field\",\n          \"This test helps us prevent automated spam registrations on the site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\",\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", (e) => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function (watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback,\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = (element) => {\n    if (!element) return\n    this.highlightCode(element)\n    this.embedYoutubePlayers(element)\n  }\n\n  highlightCode(element) {\n    import(\"highlight\").then(({ default: hljs }) => {\n      const codeblocks = element.querySelectorAll(\"pre>code\")\n      for (let i = 0; i < codeblocks.length; i++) {\n        hljs.highlightElement(codeblocks[i])\n      }\n    })\n  }\n\n  embedYoutubePlayers(element) {\n    const anchors = element.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?feature=oembed\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" frameborder=\"0\" ' +\n        'src=\"' +\n        url +\n        '\" ' +\n        'allow=\"encrypted-media; gyroscope; picture-in-picture\" ' +\n        \"allowfullscreen></iframe>\"\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter((i) => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video,\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        pgettext(\"page title pagination\", \"page: %(page)s\"),\n        {\n          page: title.page,\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        (data) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        (rejection) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency),\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, mount) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._mount = mount\n\n    this._mode = null\n    this._spacer = document.getElementById(\"posting-spacer\")\n    this._observer = new ResizeObserver((entries) => {\n      this._spacer.style.height = entries[0].contentRect.height + \"px\"\n    })\n\n    this._isOpen = false\n    this._isClosing = false\n\n    this._beforeunloadSet = false\n    this._props = null\n  }\n\n  isOpen() {\n    return this._isOpen\n  }\n\n  setBeforeUnload() {\n    if (!this._beforeunloadSet) {\n      window.addEventListener(\"beforeunload\", this.beforeUnload, {\n        capture: true,\n      })\n      this._beforeunloadSet = true\n    }\n  }\n\n  unsetBeforeUnload() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload, {\n      capture: true,\n    })\n    this._beforeunloadSet = false\n  }\n\n  beforeUnload(event) {\n    event.returnValue = \"true\"\n    return \"true\"\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      if (props.mode === \"QUOTE\") {\n        this._mode = \"REPLY\"\n      } else {\n        this._mode = props.mode\n      }\n\n      this._isOpen = props.submit\n      this._realOpen(Object.assign({}, props, { mode: this._mode }))\n    } else if (props.mode === \"QUOTE\") {\n      this._realOpen(\n        Object.assign({}, this._props, {\n          config: props.config,\n          context: props.context,\n        })\n      )\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    mount(<PostingComponent {...props} />, this._mount.id)\n\n    this._props = props\n    this._mount.classList.add(\"show\")\n    this._observer.observe(this._mount)\n    this.setBeforeUnload()\n  }\n\n  close = () => {\n    this.unsetBeforeUnload()\n    this._props = null\n\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._mount.classList.remove(\"show\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(this._mount)\n        this._observer.unobserve(this._mount)\n        this._spacer.style.height = \"0px;\"\n        this._isClosing = false\n        this._isOpen = false\n        this._mode = null\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert = (message, type) => {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info = (message) => {\n    this.alert(message, \"info\")\n  }\n\n  success = (message) => {\n    this.alert(message, \"success\")\n  }\n\n  warning = (message) => {\n    this.alert(message, \"warning\")\n  }\n\n  error = (message) => {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError = (rejection) => {\n    let message = rejection.data ? rejection.data.detail : rejection.detail\n\n    if (!message) {\n      if (rejection.status === 0) {\n        message = pgettext(\"api error\", \"Could not connect to the site.\")\n      } else if (rejection.status === 404) {\n        message = pgettext(\"api error\", \"Action link is invalid.\")\n      } else {\n        message = pgettext(\"api error\", \"Unknown error has occurred.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = pgettext(\n        \"api error\",\n        \"You don't have permission to perform this action.\"\n      )\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function (resolve, reject) {\n      var wait = function (tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function () {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function (resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import htmx from \"htmx.org\"\n\nconst SNACKBAR_TTL = 6\n\nconst container = document.getElementById(\"misago-snackbars\")\nlet timeout = null\n\nexport function removeSnackbars() {\n  container.replaceChildren()\n}\n\nfunction renderSnackbars() {\n  if (timeout) {\n    window.clearTimeout(timeout)\n  }\n\n  container.querySelectorAll(\".snackbar\").forEach((element) => {\n    element.classList.add(\"in\")\n  })\n\n  timeout = window.setTimeout(() => {\n    container.querySelectorAll(\".snackbar\").forEach((element) => {\n      element.classList.add(\"out\")\n      timeout = window.setTimeout(removeSnackbars, 1000)\n    })\n  }, SNACKBAR_TTL * 1000)\n}\n\nexport function snackbar(type, message) {\n  removeSnackbars()\n\n  if (timeout) {\n    window.clearTimeout(timeout)\n  }\n\n  const element = document.createElement(\"div\")\n  element.classList.add(\"snackbar\")\n  element.classList.add(\"snackbar-\" + type)\n  element.innerText = message\n  element.role = \"alert\"\n  container.appendChild(element)\n\n  timeout = window.setTimeout(renderSnackbars, 100)\n}\n\nexport function info(message) {\n  snackbar(\"info\", message)\n}\n\nexport function success(message) {\n  snackbar(\"success\", message)\n}\n\nexport function warning(message) {\n  snackbar(\"warning\", message)\n}\n\nexport function error(message) {\n  snackbar(\"danger\", message)\n}\n\nhtmx.onLoad(renderSnackbars)\n","const COMPARISON = {\n  EQUAL: 0,\n  STRICT_EQUAL: 1,\n  NOT_EQUAL: 2,\n  STRICT_NOT_EQUAL: 3,\n  GREATER_THAN: 4,\n  GREATER_THAN_EQUAL: 5,\n  LESS_THAN: 6,\n  LESS_THAN_EQUAL: 7,\n}\n\nexport default COMPARISON\n","import COMPARISON from \"./comparisons\"\nimport EXPRESSION from \"./expressions\"\nimport parseTemplateCondition from \"./parser\"\n\nfunction evaluateTemplateCondition(condition, context) {\n  const expression = parseTemplateCondition(condition)\n  return !!evaluateExpression(expression, context)\n}\n\nfunction evaluateExpression(expression, context) {\n  if (expression.expression === EXPRESSION.VALUE) {\n    return expression.value\n  } else if (expression.expression === EXPRESSION.VARIABLE) {\n    return context[expression.name]\n  } else if (expression.expression === EXPRESSION.DEEP_VARIABLE) {\n    return evaluateDeepContextVariable(expression.path, context)\n  } else if (expression.expression === EXPRESSION.CONDITION) {\n    return evaluateConditionExpression(expression, context)\n  } else if (expression.expression === EXPRESSION.NOT) {\n    return !evaluateExpression(expression.value, context)\n  } else if (expression.expression === EXPRESSION.AND) {\n    return evaluateAndExpression(expression, context)\n  } else if (expression.expression === EXPRESSION.OR) {\n    return evaluateOrExpression(expression, context)\n  } else {\n    console.error(\"unknown expression\", expression)\n    return false\n  }\n}\n\nfunction evaluateDeepContextVariable(path, context) {\n  let result = context\n  for (let i = 0; i < path.length; i++) {\n    result = result[path[i]]\n    if (typeof result === \"undefined\") {\n      return undefined\n    }\n  }\n  return result\n}\n\nfunction evaluateConditionExpression(expression, context) {\n  const left = evaluateExpression(expression.left, context)\n  const right = evaluateExpression(expression.right, context)\n\n  if (expression.condition === COMPARISON.EQUAL) {\n    return left == right\n  } else if (expression.condition === COMPARISON.STRICT_EQUAL) {\n    return left === right\n  } else if (expression.condition === COMPARISON.NOT_EQUAL) {\n    return left != right\n  } else if (expression.condition === COMPARISON.STRICT_NOT_EQUAL) {\n    return left !== right\n  } else if (expression.condition === COMPARISON.GREATER_THAN) {\n    return left > right\n  } else if (expression.condition === COMPARISON.GREATER_THAN_EQUAL) {\n    return left >= right\n  } else if (expression.condition === COMPARISON.LESS_THAN) {\n    return left < right\n  } else if (expression.condition === COMPARISON.LESS_THAN_EQUAL) {\n    return left <= right\n  }\n}\n\nfunction evaluateAndExpression(expression, context) {\n  const left = evaluateExpression(expression.left, context)\n  const right = evaluateExpression(expression.right, context)\n  return left && right\n}\n\nfunction evaluateOrExpression(expression, context) {\n  const left = evaluateExpression(expression.left, context)\n  const right = evaluateExpression(expression.right, context)\n  return left || right\n}\n\nexport default evaluateTemplateCondition\n","const EXPRESSION = {\n  VALUE: 0,\n  VARIABLE: 1,\n  DEEP_VARIABLE: 2,\n  CONDITION: 3,\n  NOT: 4,\n  AND: 5,\n  OR: 6,\n}\n\nexport default EXPRESSION\n","import evaluateTemplateCondition from \"./eval\"\n\nexport { evaluateTemplateCondition }\n","import EXPRESSION from \"./expressions\"\nimport tokenizeTemplateCondition from \"./tokenizer\"\nimport TOKEN from \"./tokens\"\nimport validateTokens from \"./validator\"\n\nconst CACHE = {}\n\nfunction parseTemplateCondition(condition) {\n  if (CACHE[condition]) {\n    return CACHE[condition]\n  }\n\n  let tokens = tokenizeTemplateCondition(condition)\n  if (!tokens) {\n    CACHE[condition] = null\n    return\n  }\n\n  tokens = validateTokens(tokens, condition)\n  if (!tokens) {\n    CACHE[condition] = null\n    return\n  }\n\n  let expressions = insertLeafExpressions(tokens)\n  expressions = insertNotExpressions(expressions)\n  expressions = insertBranchingExpression(expressions)\n  expressions = insertConditionalExpression(expressions)\n\n  CACHE[condition] = expressions[0]\n  return expressions[0]\n}\n\nfunction insertLeafExpressions(tokens) {\n  return tokens.map(insertLeafExpression)\n}\n\nfunction insertLeafExpression(token) {\n  if (token.token === TOKEN.NAME) {\n    if (token.name.indexOf(\".\") > 0) {\n      return {\n        expression: EXPRESSION.DEEP_VARIABLE,\n        path: token.name.split(\".\"),\n      }\n    } else {\n      return {\n        expression: EXPRESSION.VARIABLE,\n        name: token.name,\n      }\n    }\n  } else if (token.token === TOKEN.NUMBER) {\n    return {\n      expression: EXPRESSION.VALUE,\n      value: token.number,\n    }\n  } else if (token.token === TOKEN.BOOL) {\n    return {\n      expression: EXPRESSION.VALUE,\n      value: token.value,\n    }\n  } else if (token.token === TOKEN.NULL) {\n    return {\n      expression: EXPRESSION.VALUE,\n      value: null,\n    }\n  }\n\n  return token\n}\n\nfunction insertNotExpressions(expressions) {\n  let result = expressions\n  while (hasNotTokens(result)) {\n    result = replaceNotToken(result)\n  }\n  return result\n}\n\nfunction hasNotTokens(expressions) {\n  return expressions.filter(function (token) {\n    return token.token === TOKEN.NOT\n  }).length\n}\n\nfunction replaceNotToken(expressions) {\n  let start = 0\n  const end = expressions.length\n  const result = []\n\n  while (start < end) {\n    const token = expressions[start]\n    if (\n      token.token === TOKEN.NOT &&\n      expressions[start + 1].token !== TOKEN.NOT\n    ) {\n      result.push({\n        expression: EXPRESSION.NOT,\n        value: expressions[start + 1],\n      })\n      start += 2\n    } else {\n      result.push(token)\n      start += 1\n    }\n  }\n\n  return result\n}\n\nfunction parseNestedTemplateCondition(expressions) {\n  let expression = insertBranchingExpression(expressions)\n  expression = insertConditionalExpression(expression)\n  return expression[0]\n}\n\nfunction insertBranchingExpression(expressions) {\n  const index = expressions.findIndex(function (item) {\n    return item.token === TOKEN.AND || item.token === TOKEN.OR\n  })\n\n  if (index === -1) {\n    return expressions\n  }\n\n  return [\n    {\n      expression:\n        expressions[index].token === TOKEN.AND ? EXPRESSION.AND : EXPRESSION.OR,\n      left: parseNestedTemplateCondition(expressions.slice(0, index)),\n      right: parseNestedTemplateCondition(expressions.slice(index + 1)),\n    },\n  ]\n}\n\nfunction insertConditionalExpression(expressions) {\n  const index = expressions.findIndex(function (item) {\n    return item.token === TOKEN.COMPARISON\n  })\n\n  if (index === -1) {\n    return expressions\n  }\n\n  return [\n    {\n      expression: EXPRESSION.CONDITION,\n      condition: expressions[index].comparison,\n      left: parseNestedTemplateCondition(expressions.slice(0, index)),\n      right: parseNestedTemplateCondition(expressions.slice(index + 1)),\n    },\n  ]\n}\n\nexport default parseTemplateCondition\n","import COMPARISON from \"./comparisons\"\nimport TOKEN from \"./tokens\"\n\nfunction tokenizeTemplateCondition(condition) {\n  const rules = RULES.length\n  const state = {\n    tokens: [],\n    condition: condition,\n    start: 0,\n    end: condition.length,\n  }\n\n  while (state.start < state.end) {\n    let match = false\n\n    for (let i = 0; i < rules; i++) {\n      const rule = RULES[i]\n      if (rule(state)) {\n        match = true\n        break\n      }\n    }\n\n    if (!match) {\n      return console.error(\n        \"error parsing '\" +\n          condition +\n          \"' at \" +\n          state.start +\n          \": unexpected '\" +\n          state.condition[state.start] +\n          \"'\"\n      )\n    }\n  }\n\n  return state.tokens.filter(function removeSpaces(item) {\n    return item.token !== TOKEN.SPACE\n  })\n}\n\nfunction nameRule(state) {\n  if (!state.condition[state.start].match(/[_a-z]/i)) {\n    return false\n  }\n\n  const match = state.condition\n    .substring(state.start, state.end)\n    .match(/^[_a-z0-9]+(\\.[_a-z][_a-z0-9]*)*/i)\n\n  if (!match) {\n    return false\n  }\n\n  const name = match[0]\n\n  if (name === \"true\" || name === \"false\") {\n    state.tokens.push({\n      token: TOKEN.BOOL,\n      start: state.start,\n      end: state.start + name.length,\n      value: name === \"true\",\n    })\n  } else if (name === \"null\") {\n    state.tokens.push({\n      token: TOKEN.NULL,\n      start: state.start,\n      end: state.start + name.length,\n    })\n  } else {\n    state.tokens.push({\n      token: TOKEN.NAME,\n      start: state.start,\n      end: state.start + name.length,\n      name,\n    })\n  }\n  state.start += name.length\n\n  return true\n}\n\nfunction integerRule(state) {\n  const match = state.condition\n    .substring(state.start, state.end)\n    .match(/^(0|([1-9][0-9]*))/)\n\n  if (!match) {\n    return false\n  }\n\n  const number = match[0]\n\n  state.tokens.push({\n    token: TOKEN.NUMBER,\n    start: state.start,\n    end: state.start + number.length,\n    number: parseInt(number),\n  })\n  state.start += number.length\n\n  return true\n}\n\nfunction floatRule(state) {\n  const match = state.condition\n    .substring(state.start, state.end)\n    .match(/^(0|([1-9][0-9]*)).[0-9]*/i)\n\n  if (!match) {\n    return false\n  }\n\n  const number = match[0]\n\n  state.tokens.push({\n    token: TOKEN.NUMBER,\n    start: state.start,\n    end: state.start + number.length,\n    number: parseFloat(number),\n  })\n  state.start += number.length\n\n  return true\n}\n\nfunction strictEqualRule(state) {\n  if (state.start + 2 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 3) !== \"===\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 3,\n    comparison: COMPARISON.STRICT_EQUAL,\n  })\n  state.start += 3\n\n  return true\n}\n\nfunction equalRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \"==\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 2,\n    comparison: COMPARISON.EQUAL,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction strictNotEqualRule(state) {\n  if (state.start + 2 >= state.end) {\n    return false\n  }\n  if (state.condition.substring(state.start, state.start + 3) !== \"!==\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 3,\n    comparison: COMPARISON.STRICT_NOT_EQUAL,\n  })\n  state.start += 3\n\n  return true\n}\n\nfunction notEqualRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \"!=\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 2,\n    comparison: COMPARISON.NOT_EQUAL,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction greaterThanEqualRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \">=\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 2,\n    comparison: COMPARISON.GREATER_THAN_EQUAL,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction greaterThanRule(state) {\n  if (state.condition[state.start] !== \">\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 1,\n    comparison: COMPARISON.GREATER_THAN,\n  })\n  state.start += 1\n\n  return true\n}\n\nfunction lessThanEqualRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \"<=\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 2,\n    comparison: COMPARISON.LESS_THAN_EQUAL,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction lessThanRule(state) {\n  if (state.condition[state.start] !== \"<\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.COMPARISON,\n    start: state.start,\n    end: state.start + 1,\n    comparison: COMPARISON.LESS_THAN,\n  })\n  state.start += 1\n\n  return true\n}\n\nfunction notRule(state) {\n  if (state.condition[state.start] !== \"!\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.NOT,\n    start: state.start,\n    end: state.start + 1,\n  })\n  state.start += 1\n\n  return true\n}\n\nfunction andRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \"&&\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.AND,\n    start: state.start,\n    end: state.start + 2,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction orRule(state) {\n  if (state.start + 1 >= state.end) {\n    return false\n  }\n\n  if (state.condition.substring(state.start, state.start + 2) !== \"||\") {\n    return false\n  }\n\n  state.tokens.push({\n    token: TOKEN.OR,\n    start: state.start,\n    end: state.start + 2,\n  })\n  state.start += 2\n\n  return true\n}\n\nfunction spaceRule(state) {\n  if (state.condition[state.start] !== \" \") {\n    return false\n  }\n\n  const lastToken = state.tokens ? state.tokens[state.tokens.length - 1] : null\n  if (lastToken && lastToken.token === TOKEN.SPACE) {\n    lastToken.end += 1\n  } else {\n    state.tokens.push({\n      token: TOKEN.SPACE,\n      start: state.start,\n      end: state.start + 1,\n    })\n  }\n\n  state.start += 1\n\n  return true\n}\n\nconst RULES = [\n  nameRule,\n  floatRule,\n  integerRule,\n  strictEqualRule,\n  equalRule,\n  strictNotEqualRule,\n  notEqualRule,\n  notRule,\n  greaterThanEqualRule,\n  greaterThanRule,\n  lessThanEqualRule,\n  lessThanRule,\n  andRule,\n  orRule,\n  spaceRule,\n]\n\nexport default tokenizeTemplateCondition\n","const TOKEN = {\n  SPACE: 0,\n  NAME: 1,\n  NUMBER: 2,\n  BOOL: 3,\n  NULL: 4,\n  COMPARISON: 5,\n  NOT: 6,\n  AND: 7,\n  OR: 8,\n}\n\nexport default TOKEN\n","import TOKEN from \"./tokens\"\n\nfunction validateTokens(tokens, condition) {\n  const rules = RULES.length\n  const state = {\n    condition,\n    tokens,\n    start: 0,\n    end: tokens.length,\n  }\n\n  while (state.start < state.end) {\n    for (let i = 0; i < rules; i++) {\n      const rule = RULES[i]\n      if (!rule(state)) {\n        return logValidationError(state)\n      }\n    }\n    state.start += 1\n  }\n\n  return state.tokens\n}\n\nfunction logValidationError(state) {\n  const position = state.tokens[state.start].start\n  const character = state.condition[position]\n\n  console.error(\n    `error parsing '${state.condition}' at ${position}: unexpected '${character}'`\n  )\n  return false\n}\n\nfunction repeatsRule(state) {\n  if (state.start === 0 || state.tokens[state.start].token === TOKEN.NOT) {\n    return true\n  }\n\n  if (state.tokens[state.start].token !== state.tokens[state.start - 1].token) {\n    return true\n  }\n\n  return false\n}\n\nconst VALUE_TOKEN = {\n  [TOKEN.NAME]: true,\n  [TOKEN.NUMBER]: true,\n  [TOKEN.BOOL]: true,\n  [TOKEN.NULL]: true,\n  [TOKEN.NOT]: true,\n}\n\nfunction repeatValueRule(state) {\n  if (state.start === 0 || !VALUE_TOKEN[state.tokens[state.start].token]) {\n    return true\n  }\n\n  const previousToken = state.tokens[state.start - 1].token\n  return previousToken === TOKEN.NOT || !VALUE_TOKEN[previousToken]\n}\n\nfunction comparisonRule(state) {\n  if (state.tokens[state.start].token != TOKEN.COMPARISON) {\n    return true\n  }\n\n  if (state.start === 0 || state.start + 1 === state.end) {\n    return false\n  }\n\n  const previousToken = state.tokens[state.start - 1].token\n  const nextToken = state.tokens[state.start + 1].token\n\n  if (!VALUE_TOKEN[previousToken] || !VALUE_TOKEN[nextToken]) {\n    return false\n  }\n\n  return true\n}\n\nfunction notRule(state) {\n  if (state.tokens[state.start].token !== TOKEN.NOT) {\n    return true\n  }\n\n  if (state.start + 1 === state.end) {\n    return false\n  }\n\n  const nextToken = state.tokens[state.start + 1].token\n  if (!VALUE_TOKEN[nextToken]) {\n    return false\n  }\n\n  return true\n}\n\nfunction andOrRule(state) {\n  if (\n    state.tokens[state.start].token !== TOKEN.AND &&\n    state.tokens[state.start].token !== TOKEN.OR\n  ) {\n    return true\n  }\n\n  if (state.start === 0 || state.start + 1 === state.end) {\n    return false\n  }\n\n  const previousToken = state.tokens[state.start - 1].token\n  const nextToken = state.tokens[state.start + 1].token\n\n  if (!VALUE_TOKEN[previousToken] || !VALUE_TOKEN[nextToken]) {\n    return false\n  }\n\n  return true\n}\n\nconst RULES = [repeatsRule, repeatValueRule, comparisonRule, notRule, andOrRule]\n\nexport default validateTokens\n","import { mountTemplate, renderTemplate } from \"./render\"\nimport { evaluateTemplateCondition } from \"./condition\"\n\nexport { evaluateTemplateCondition, mountTemplate, renderTemplate }\n","import { evaluateTemplateCondition } from \"./condition\"\n\nfunction mountTemplate(root, template, context) {\n  const rendered = renderTemplate(template, context)\n  root.replaceChildren(rendered)\n}\n\nfunction renderTemplate(template, context) {\n  const src = template.content.cloneNode(true)\n  const children = Array.from(src.childNodes)\n  for (let i = 0; i < children.length; i++) {\n    if (children[i].tagName) {\n      renderTemplateNode(children[i], context)\n    }\n  }\n\n  return src\n}\n\nfunction renderTemplateNode(node, context) {\n  if (node.hasAttribute(\"mg-if\")) {\n    const condition = node.getAttribute(\"mg-if\").trim()\n    if (evaluateTemplateCondition(condition, context)) {\n      node.removeAttribute(\"mg-if\")\n    } else {\n      node.remove()\n    }\n  }\n\n  if (node.hasAttribute(\"mg-text\")) {\n    const name = node.getAttribute(\"mg-text\").trim()\n    node.removeAttribute(\"mg-text\")\n    if (name) {\n      node.textContent = context[name] || \"\"\n    }\n  }\n\n  if (node.childNodes.length) {\n    const children = Array.from(node.childNodes)\n    for (let i = 0; i < children.length; i++) {\n      if (children[i].tagName) {\n        renderTemplateNode(children[i], context)\n      }\n    }\n  }\n}\n\nexport { mountTemplate, renderTemplate }\n","import htmx from \"htmx.org\"\n\nimport {\n  dateRelative,\n  dateRelativeInSentence,\n  dateRelativeShort,\n  fullDateTime,\n} from \"./formats\"\n\nconst cache = {}\n\nexport function updateTimestamp(element) {\n  const timestamp =\n    element.getAttribute(\"mg-timestamp\") ||\n    element.getAttribute(\"misago-timestamp\")\n  const format =\n    element.getAttribute(\"mg-timestamp-format\") ||\n    element.getAttribute(\"misago-timestamp-format\")\n\n  if (!cache[timestamp]) {\n    cache[timestamp] = new Date(timestamp)\n  }\n\n  if (format !== \"full\" && !element.hasAttribute(\"mg-timestamp-title\")) {\n    element.setAttribute(\"mg-timestamp-title\", \"true\")\n    element.setAttribute(\"title\", fullDateTime.format(cache[timestamp]))\n  }\n\n  if (format === \"short\") {\n    element.textContent = dateRelativeShort(cache[timestamp])\n  } else if (format === \"full\") {\n    element.textContent = fullDateTime.format(cache[timestamp])\n  } else if (format === \"sentence\") {\n    element.textContent = dateRelativeInSentence(cache[timestamp])\n  } else {\n    element.textContent = dateRelative(cache[timestamp])\n  }\n}\n\nexport function startTimestampsUpdates() {\n  document\n    .querySelectorAll(\"[mg-timestamp],[misago-timestamp]\")\n    .forEach(updateTimestamp)\n\n  updateTimestamps()\n  window.setInterval(updateTimestamps, 1000 * 55)\n}\n\nexport function updateTimestamps(element) {\n  const target = element || document\n  target\n    .querySelectorAll(\"[mg-timestamp],[misago-timestamp]\")\n    .forEach(updateTimestamp)\n}\n\nstartTimestampsUpdates()\nhtmx.onLoad(updateTimestamps)\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function (state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function (ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title =\n      pgettext(\"banned error title\", \"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function (list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function (element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function (a, b) {\n  let ids = []\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\",\n}\n\nexport default function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m]\n  })\n}\n","export default function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","export const ALPHA = \"12345678990abcdefghijklmnopqrstuvwxyz\"\nexport const ALPHA_LEN = ALPHA.length\n\nexport default function getRandomString(len) {\n  const chars = []\n  for (let i = 0; i < len; i++) {\n    const index = Math.floor(Math.random() * ALPHA_LEN)\n    chars.push(ALPHA[index])\n  }\n  return chars.join(\"\")\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function (Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null,\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function (item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function (item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function (item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function (options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: [],\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function (nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        },\n      },\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  }\n}\n","export default function (string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z_]+$\", \"i\")\nconst USERNAME_ALPHANUMERIC = new RegExp(\"[0-9a-z]\", \"i\")\n\nexport function required(message) {\n  return function (value) {\n    if (\n      value === false ||\n      value === null ||\n      String(value).trim().length === 0\n    ) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = pgettext(\n    \"agreement validator\",\n    \"You have to accept the terms of service.\"\n  )\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = pgettext(\n    \"agreement validator\",\n    \"You have to accept the privacy policy.\"\n  )\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return (\n        message || pgettext(\"email validator\", \"Enter a valid e-mail address.\")\n      )\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = value.trim().length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = npgettext(\n          \"value length validator\",\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = value.trim().length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = npgettext(\n          \"value length validator\",\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function (lengthMin) {\n    return npgettext(\n      \"username length validator\",\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function (lengthMax) {\n    return npgettext(\n      \"username length validator\",\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function (value) {\n    const valueTrimmed = value.trim()\n    if (!USERNAME.test(valueTrimmed)) {\n      return pgettext(\n        \"username validator\",\n        \"Username can only contain Latin alphabet letters, digits, and an underscore sign.\"\n      )\n    }\n    if (!USERNAME_ALPHANUMERIC.test(valueTrimmed)) {\n      return pgettext(\n        \"username validator\",\n        \"Username must contain Latin alphabet letters or digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function (value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = npgettext(\n        \"password length validator\",\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"misago:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/ajax.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/auth-sync.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/captcha.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/accept-agreement.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/auth-message.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/banned-page.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/navbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/notifications-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/notifications.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/profile.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/request-activation-link.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/request-password-reset.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/reset-password-form.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/search-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/search.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/site-nav-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/social-auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/thread.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/user-nav-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/users.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/include.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/local-storage.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/modal.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/moment-locale.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/page-title.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/polls.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/posting.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/participants.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/poll.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/posts.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile-details.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/search.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/selection.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/thread.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/threads.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/tick.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/username-history.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/users.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/store.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/tick-start.js\")))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/zxcvbn.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["AnchorElement","element","_query","getBoundingClientRect","shadow","AnchorInput","query","rect","getQueryBoundingClientRect","DELAY_DEBOUNCED","DELAY_INITIAL","KEY_CANCEL","Delete","Space","MetaLeft","MetaRight","End","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","KEY_SELECT","Escape","Autocomplete","config","event","code","select","visible","preventDefault","keyCancel","handleKey","hide","getQuery","target","showSuggestions","value","trim","_debounce","window","clearTimeout","setTimeout","source","errors","then","data","onSelect","show","console","warn","delay","debounced","initial","isEventTarget","control","anchor","keyOverride","Object","assign","addEventListener","onKeyDown","onKeyUp","ControlShadow","_shadow","_getShadowElement","rectControl","style","width","height","setAttribute","getAttribute","innerHTML","prefix","marker","document","createElement","appendChild","rectShadow","rectMarker","bottom","scrollTop","left","right","top","x","y","_createShadowElement","body","ariaHidden","position","opacity","zIndex","computePosition","flip","offset","shift","SelectUser","keyCode","callback","choices","choice","maxChoice","updateActiveChoice","relatedTarget","contains","length","updateChoices","classList","add","getTarget","placement","middleware","remove","padding","children","map","index","avatars","avatar","filter","size","avatarsHd","img","url","span","innerText","username","replaceChildren","sources","httpResponseError","SourceUsers","showErrors","exclude","encodeURIComponent","Array","isArray","forEach","item","cache","Promise","resolve","fetch","response","ok","error","json","results","misago_suggest_users","_users","users","get","htmx","BulkModeration","options","actions","onRemoveSelection","onAction","form","querySelector","FormData","key","push","moderation","ajax","location","href","modal","swap","values","$","querySelectorAll","selection","checked","update","tagName","type","onLoad","text","replace","disabled","menu","button","selector","registerEvents","registerActions","RE_LOOKBACK","RE_LOOKAHEAD","Mention","getSelection","start","end","closed","suffix","prefixMatch","match","suffixMatch","prefixMatchClean","suffixMatchClean","substring","scroll","focus","caret","setSelectionRange","autocomplete","selectionStart","selectionEnd","activatePollChoicesControl","maxChoices","Number","input","closest","newChoices","listItem","nextElementSibling","newListItem","cloneNode","newInput","name","after","snackbar","QuoteCursorPosition","QuoteSelection","Ruleset","extractorRules","postprocessRules","rendererRules","tetherRules","Quote","reply","quote","onSelectStart","onSelectEnd","onSelectChange","toolbar","createToolbar","cursor","tether","selecting","updateSelection","debounce","updateState","showToolbar","hideToolbar","getElementById","textarea","trimStart","info","pgettext","clearState","navigator","clipboard","writeText","message","extractor","postprocess","renderer","range","root","isCollapsed","rangeCount","getRange","getRangeRoot","getSelectionQuote","getRangeAt","Range","setStart","startContainer","startOffset","setEnd","endContainer","endOffset","ancestor","getCommonAncestor","childNodes","cloneContents","commonAncestorContainer","nodeType","Node","TEXT_NODE","parentNode","getQuote","className","createToolbarButton","copyQuote","icon","btn","btnIcon","btnText","getPosition","createShadow","rangeClone","cloneRange","rangeRect","getComputedStyle","getPropertyValue","parseFloat","findTether","shadowRect","tetherRect","tetherOffset","nodes","result","rules","i","node","func","extractNodes","postprocessNodes","renderNodes","stack","state","pos","posMax","r","rule","beforeName","afterName","escapeBBCodeArg","arg","escapeQuotes","escapeBrackets","escapeBackslash","escapeBBCodeContents","escapeMarkdownLink","escapeParentheses","escapeMarkdownLinkText","escapeMarkdownLinkTitle","escapeMarkdownImageTitle","escaped","replaceAll","escapeAutolink","escapeInlineCode","escapeTableCell","getQuotedCode","attachment","nodeName","args","youtube","HEADER_NODES","H1","H2","H3","H4","H5","H6","header","concat","level","parseInt","blockquote","spoiler","content","paragraph","table","tables","from","table_head","table_body","table_row","id","table_th","getTableCellMeta","alignment","table_td","meta","split","list","ordered","list_item","hr","image","alt","title","mention","textContent","link","auto","strong_text","emphasis_text","bold_text","italic_text","underline_text","strikethrough_text","inline_code","softbreak","getCodeTextContent","dedentTrimCode","child","lines","splitLines","trimCodeBlankLines","dedent","line","lineDedent","join","cleanLines","trimEnd","container","fixTable","fixTableHeader","fixTableColumns","thead","head","cols","row","cell","_","rowset","tbody","table_content","td","blocks","parent","hasAttribute","quote_wrapper","wrapNodesInQuote","repeat","lengths","rows","getTableCellText","Math","max","col","items","lineIndex","delimiter","indexOf","TABLE_NODES","TABLE","THEAD","TBODY","TR","TH","TD","LIST_NODES","OL","UL","LI","createRange","selectNode","updateTabGroups","hash","updateTabGroup","oldNav","newNav","nav","oldTab","newTab","findTab","CustomEvent","bubbles","dispatchEvent","tabs","tab","DATA_ATTRIBUTE_ELEMENT","DATA_ATTRIBUTE_INPUT","SELECTOR_ELEMENT","SELECTOR_INPUT","TEMPLATE_ID","CLASS_NAME_FOCUS","EVENT_FOCUS","KEY_OVERRIDE","UserMultipleChoice","template","updateInputDisabled","slug","replaceWith","reverse","parentElement","before","eventName","blur","deleteItem","backspacePressed","lastItem","previousElementSibling","singleton","activate","deleteElement","animationName","slideUpElement","duration","clientHeight","overflow","onFrame","timestamp","undefined","progress","min","animation","sin","PI","floor","requestAnimationFrame","getClosestAttribute","default_","getClosestBoolAttribute","attribute","React","ApiFetch","props","setState","loading","onData","method","credentials","signal","status","setCache","headers","rejection","request","mutation","controller","AbortController","prevProps","urlChanged","disabledChanged","hasCache","getCache","abort","refetch","Component","ApiMutation","onSuccess","onError","mutate","csrfToken","JSON","stringify","cookieName","misago_csrf","cookie","cookieRegex","RegExp","classnames","Breadcrumbs","BreadcrumbsCategory","category","color","short_name","BreadcrumbsRootCategory","special_role","Dropdown","isOpen","prevState","dropdown","handleClick","removeEventListener","didUpdate","onOpen","onClose","open","toggle","aria","ariaProps","menuAlignRight","menuClassName","close","DropdownDivider","DropdownFooter","DropdownHeader","DropdownMenuItem","DropdownPills","DropdownSubheader","FlexRow","FlexRowCol","shrink","FlexRowSection","ListGroup","ListGroupItem","ListGroupEmpty","ListGroupError","detail","ListGroupLoading","ListGroupMessage","formatFilesize","MarkupAttachmentModal","is_image","filename","filetype","uploaded_on","format","fromNow","uploader","uploader_name","FormGroup","replaceSelection","MarkupCodeModal","ev","syntax","gettext","handleSubmit","LANGUAGES","misago","MisagoMarkup","MarkupEditorAttachments","MarkupEditorFooter","MarkupEditorToolbar","uploadFile","MarkupEditor","preview","post","parsed","apiError","stopPropagation","dataTransfer","files","onAttachmentsChange","acl","max_attachment_size","file","clipboardData","kind","getAsFile","focused","onChange","placeholder","setMentions","onDrop","onPaste","attachments","canProtect","isProtected","post_length_min","enableProtection","disableProtection","showPreview","closePreview","submitText","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","getJSON","q","on","_storage","substr","headPos","endPos","MarkupEditorAttachment","markup","getAttachmentMarkup","confirm","interpolate","thumb","MarkupEditorButton","onClick","Button","empty","MarkupFormattingHelpModal","MarkupImageModal","MarkupLinkModal","MarkupQuoteModal","wrapSelection","updateAttachments","insertSpoiler","uploadFiles","multiple","click","ExampleFormatting","ExampleFormattingSpoiler","reveal","isUrl","textUrl","author","URL_PATTERN","str","test","def","newValue","moveStart","moment","getRandomString","ID_LEN","maxSize","limit","upload","refreshState","append","connect","overlay","RegisterButton","SignInButton","SignInModalAutoOpen","NavbarBranding","NavbarExtraMenu","NavbarNotificationsDropdown","NavbarNotificationsToggle","NavbarPrivateThreads","NavbarSearchDropdown","NavbarSearchToggle","NavbarSiteNavDropdown","NavbarSiteNavToggle","NavbarUserNavDropdown","NavbarUserNavToggle","Navbar","dispatch","branding","extraMenuItems","authDelegated","user","searchUrl","notificationsUrl","privateThreadsUrl","showSearch","showPrivateThreads","openSearch","openSiteNav","unreadPrivateThreads","unreadNotifications","openNotifications","openUserNav","settings","auth","logo","logoXs","logo_small","logo_text","email","unread_private_threads","enable_oauth2_client","can_search","can_use_private_threads","NavbarConnected","targetBlank","rel","NotificationsDropdown","badge","active","SearchDropdown","SiteNavDropdown","UserNavDropdown","Avatar","Router","browserHistory","NotificationsHeader","NotificationsRoute","Notifications","basename","path","component","PageHeaderPlain","Link","NotificationsPagination","baseUrl","hasPrevious","firstCursor","lastCursor","hasNext","NotificationsPaginationLink","PillsNav","PillsNavLink","Toolbar","ToolbarSection","ToolbarItem","NotificationsPills","updateAuthenticatedUser","NotificationsFetch","PageTitle","PageContainer","NotificationsList","NotificationsListError","NotificationsListLoading","NotificationsToolbar","route","getBaseUrl","getSubtitle","readAll","mutating","toolbarProps","markAllAsRead","confirmed","success","history","replaceState","NotificationsRouteConnected","ToolbarSpacer","NotificationsDropdownBody","unread","showAll","showUnread","NotificationsDropdownBodyPill","getApiUrl","api","selectState","NotificationsFetchConnected","NotificationsListEmpty","NotificationsListGroup","NotificationsListItem","notification","emptyMessage","errorDetail","NotificationsListItemActor","NotificationsListItemMessage","NotificationsListItemReadStatus","NotificationsListItemTimestamp","isRead","actor","actor_name","__html","Timestamp","createdAt","NotificationsOverlayBody","NotificationsOverlay","notifications","NotificationsOverlayConnected","Overlay","OverlayHeader","NotificationsOverlayBodyPill","BODY_CLASS","scrollOrigin","pageYOffset","scrollTo","closeOnNavigation","OverlayConnected","OverlayHeaderConnected","PageHeader","styleName","PageHeaderBanner","PageHeaderContainer","PageHeaderDetails","PageHeaderHTMLMessage","PageHeaderMessage","subtitle","parts","forum_name","captcha","Loader","RegisterForm","account_activation","isLoaded","criteria","isLoading","all","load","block","showRegisterForm","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","LegalAgreement","agreement","agreementHtml","label","SignInModal","DELEGATE_AUTH","LOGIN_URL","search","SiteNavMenu","isAnonymous","mainItems","extraItems","extraFooterItems","categories","topNav","footerNav","tosTitle","tosUrl","privacyTitle","privacyUrl","is_vanilla","last","SiteNavMenuConnected","SiteNavOverlay","siteNav","SiteNavOverlayConnected","StartSocialAuth","buttonClassName","buttonLabel","formLabel","labelClassName","socialAuth","pk","button_text","button_color","finalButtonLabel","site","FormHeader","ThreadFlags","thread","weight","best_answer","has_poll","is_unapproved","has_unapproved_posts","is_closed","is_hidden","ThreadReplies","npgettext","replies","round","ThreadStarterCard","starter","starter_name","started_on","dateRelative","dateRelativeShort","fullDateTime","now","Date","diff","ceil","abs","date","timeout","tick","scheduleNextUpdate","datetime","displayed","narrow","UserNavMenu","ChangeAvatarModal","selectAvatar","logout","optionsMore","slice","adminUrl","changeAvatar","revealOptions","UserNavMenuConnected","UserNavOverlay","userNav","UserNavOverlayConnected","submit","AcceptAgreement","submiting","confirmation","accept","reload","handleDecline","handleAccept","Form","participants","updateAcl","store","changeValue","patch","op","onUsernameChange","ModalHeader","signedIn","signedOut","getMessage","refresh","size2x","getSrc","resolveAvatarForSize","av","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","defaultProps","avatarType","cropit","deviceRatio","cropitOffset","crop","zoom","onComplete","showError","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","getClassName","Gallery","images","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","completeFlow","getBody","fileSize","validationError","validateFile","URL","createObjectURL","uploaded","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","getUploadProgress","renderCrop","renderUpload","PanelMessage","display","Select","field","fieldname","FieldInput","fields","help_text","Fieldset","groups","group","f","onCancel","CancelButton","Blankslate","cancel","FormDisplay","validation","isValidated","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","newState","formErrors","validateField","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","hasOwnProperty","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","bestAnswer","poll","polls","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","PollSelect","onebox","render","documentNode","find","revealSpoiler","nextProps","nextState","addClass","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","changeOwner","MakeOwner","Remove","is_owner","UserStatus","isOwner","Card","userIsOwner","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","count","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","password","inputs","cacheStale","scorePassword","score","getScore","HASH_LENGTH","setChoices","onDelete","onAdd","PollChoice","canDelete","ChoicesControl","YesNoSwitch","formEmpty","question","every","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","bindInput","PollPublicSwitch","Poll","PollForm","DATE_ABBR","USER_SPAN","USER_URL","votes","PollCreation","poster","getPoster","posted_on","getPostedOn","poster_name","absolute","relative","PollLength","ends_on","getEndsOn","endsOn","PollVotes","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","edit","Message","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","posting","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","can_delete","ChangeVote","isBusy","SeeVotes","seeVotes","Edit","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","DiffItem","getItemClassName","cleanItem","revertEdit","canRevert","Diff","Footer","hydrateEdit","edits","isReady","hydratedPost","hydrate","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","Post","Preview","posts","Default","headline","Invalid","tooltip","Body","Header","PostSide","rank","css_class","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","random","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","CLASS_ACTIVE","CLASS_DEFAULT","CLASS_MINIMIZED","CLASS_FULLSCREEN","PostingDialog","fullscreen","minimized","PostingDialogBody","PostingDialogError","PostingDialogHeader","minimize","fullscreenEnter","fullscreenExit","getGlobalState","getQuoteMarkup","PostingQuoteSelection","getQuoteSelection","focusEditor","globalState","scrollX","scrollY","isRangeContained","isPostContained","isAnyTextSelected","p","dataset","noquote","PostingThreadOptions","isClosed","isHidden","isPinned","unhide","pinGlobally","pinLocally","unpin","icons","getIcons","pin","hidden","pinned","getPostValidators","clearGlobalState","setGlobalState","originalPost","protect","is_protected","can_protect","newPost","originalPostSameAsCurrentPost","noAttachementsAdded","loadSuccess","loadError","onQuote","context","newContext","appendData","dialogProps","onPostChange","PostingDialogEditReply","metadata","getQuoteMetadata","convertNodesToMarkup","codeBlock","getQuoteCodeBlock","isNodeInlineCodeBlock","isNodeElementWithQuoteMetadata","getQuoteMetadataFromNode","ELEMENT_NODE","isNodeCodeBlock","getNodeCodeBlockMeta","convertNodeToMarkup","SIMPLE_NODE_MAPPINGS","STRONG","EM","DEL","B","U","I","SUB","SUP","toUpperCase","misagoReply","Start","StartPrivate","Reply","mode","quoteText","onlyQuoteTextInEditor","PostingDialogReply","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","PostingDialogStartPrivate","CategorySelect","categoryOptions","showOptions","onCategoryChange","onHide","onUnhide","onPinGlobally","onPinLocally","onUnpin","PostingDialogStart","isRemoved","a","usernames","normalisedNames","removedBlanks","removedDuplicates","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","EventIcon","event_type","Icon","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","is_read","Event","PostPreview","ListItem","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","backgroundImage","AttachmentDetails","Attachment","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","prompt","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isUnedited","Approve","can_approve","Move","can_move","Split","Protect","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","Error","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","u","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","toISOString","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","UserPostcount","UserStatusLabel","hasVisibleTitle","StatusLabel","isSelected","deselect","can_merge_posts","initialized","observer","IntersectionObserver","entries","observe","entry","isIntersecting","primed","read","destroy","disconnect","ready","initialize","Status","ProfileDataList","profile","is_active","joined_on","FollowButton","MessageButton","ModerationOptions","ProfileHeader","follow","available","ProfileModerationButton","Li","ProfileNav","page","pages","PanelLoader","ban","has","initWithPreloadedData","pop","initWithoutPreloadedData","startPolling","frequency","set","stop","user_message","staff_message","keys","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","ProfileDetailsHeader","onEdit","showEditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","edit_details","Route","Threads","threads","Posts","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","action","getIcon","getLabel","Search","UsersList","loadUsers","more","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","canMessage","can_start_private_threads","isProfileOwner","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","addNameChange","updateUsername","usernameContent","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","ChangeUsername","DeleteAccount","showAvatarDialog","rename","showRenameDialog","showDeleteDialog","BanDetails","Details","Follows","UsernameHistory","WithDropdown","getModeration","can_follow","is_anonymous","can_rename","can_moderate_avatar","COMPONENTS","follows","details","paths","loadChanges","changes","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","usernameMinLength","usernameMaxLength","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","complete","completeRegistration","RequestLinkForm","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","urlQuery","pushState","providers","provider","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SideNav","SearchTime","time","Badge","SearchPage","appendPosts","updateProvider","LoadMore","SearchFetch","SearchInput","SearchQuery","setQuery","SearchMessage","SearchResults","SearchResultsEmpty","SearchResultsError","SearchResultsLoading","DEBOUNCE","CACHE","getSearchUrl","isResultEmpty","resultsCount","SearchResultsList","SearchOverlay","SearchOverlayConnected","SearchResultPost","SearchResultUser","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadModeration","ThreadWatchButton","ThreadHeaderBreadcrumbs","ThreadHeader","hasFlags","is_authenticated","enabled","breadcrumbs","ThreadModerationOptions","withRouter","ThreadPaginator","router","scrollToTop","first","resetScroll","formData","ThreadPaginatorConnected","ThreadPollButton","compact","ThreadPostsModerationOptions","ThreadPostsModeration","dropup","ThreadReplyButton","ThreadShortcutsButton","is_new","new_post","unapproved_post","last_post","ThreadToolbarBottom","onReply","ThreadToolbarThird","ThreadToolbarTop","pollDisabled","onPoll","can_start_poll","stickToBottom","watch","setNotifications","ThreadWatchButtonConnected","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","ErrorsModal","handleSuccessUnmounted","ThreadChangeTitleModal","MergeModal","successMessage","changeTitle","MergeConflict","best_answers","other_thread","post_set","ModalLoading","basePath","Participants","PostsList","setPageTitle","editPoll","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","threadModeration","getThreadModeration","postsModeration","getPostsModeration","openPollForm","openReplyForm","closePollForm","can_close","can_pin_globally","can_pin","can_unprotect","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","Stats","showStatus","JoinDate","getStatClassName","stat","colClassName","apply","call","UsersNav","getPageUrl","trackedPeriod","days","rankUrl","getUserStatus","getRankName","getUserTitle","counter","ItemPreview","posters","getLeadMessage","tracked_period","RankUsersLeft","RankUsersList","RankUsersListLoader","RankUsersPagination","RankUsersToolbar","PageLead","description","getRankDescription","getComponent","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","CSRF_FIELD_NAME","getCSRFToken","appendCSRFTokenToForm","animations","MarkupEditorUploader","MarkupEditorCodeModal","MarkupEditorImageModal","MarkupEditorLinkModal","MarkupEditorQuoteModal","_resizeEditor","constraints","_getResizeConstraints","firstToolbar","secondToolbar","moreBtn","takenSpace","priority","clientWidth","sort","b","btnWidth","childWidth","childStyle","borderLeftWidth","borderRightWidth","marginLeft","marginRight","toolbarWidth","init","_setEditorActive","_setEditorFocus","_setEditorActions","_setEditorPasteUpload","_setEditorDropUpload","getTextarea","mentions","canUpload","showPermissionDeniedError","elements","codeModal","linkModal","imageModal","quoteModal","resizeDebounce","_onWindowResize","focusEvents","actionName","MarkupEditorSelection","_range","_getRange","refocus","whitespace","whitespaces","p1","String","_createRange","setAction","wrap","insert","showLinkModal","showImageModal","showQuoteModal","showCodeModal","showFilePrompt","replaceAttachments","removeAttachmentElement","getAttachmentByKey","activateEditors","MarkupEditorModal","getElement","initForm","setData","cleanUrl","isUnsafeForMarkdown","startsWith","getQuotePrefix","getCodePrefix","getCodeArguments","getCodeDelimiter","cleanInfo","cleanSyntax","renderTemplate","lists","media","other","templates","mediaFooter","mediaFailedFooter","otherFailed","otherUploaded","attachmentsElement","_getAcceptedExtensions","video","uploadUrl","_getUploadUrl","allowedFiles","_isFileTypeAccepted","_createUploadUI","_insertAttachmentsInTextarea","XMLHttpRequest","_addOnLoadedEventListener","_addOnProgressEventListener","_isFileTypeInList","readyState","DONE","_handleUploadSuccess","_handleUploadError","parse","_replaceTextareaPlaceholders","_updateUploadUIWithError","_updateUploadUI","_createAttachmentIDField","lengthComputable","total","progressBar","isImage","isVideo","_isFileTypeImage","_createMediaUploadUI","_isFileTypeVideo","_createOtherUploadUI","buffer","FileReader","onload","readAsDataURL","_addUIToAttachmentsList","prepend","_updateMediaUploadUI","_updateOtherUploadUI","footer","_createErrorMessage","removeAttribute","insertAfter","errorTemplate","registerElementValidator","strip","csrf","clearFormControlValidationState","setFormControlValidationState","callValidationUrl","setFormControlErrorValidationState","setFormControlSuccessValidationState","clearFormControlValidationMessages","registerValidators","locale","misago_locale","momentAgo","soonAt","dayAt","tomorrowAt","yesterdayAt","momentAgoInSentence","timeInSentence","soonAtInSentence","dayAtInSentence","tomorrowAtInSentence","yesterdayAtInSentence","momentAgoShort","minutesShort","hoursShort","daysShort","relativeNumeric","Intl","RelativeTimeFormat","numeric","DateTimeFormat","dateStyle","timeStyle","thisYearDate","month","day","otherYearDate","year","short","weekday","shortTime","thisYearShort","otherYearShort","absDiff","sign","minutes","hours","isSameDay","isYesterday","isTomorrow","formatDayAtTime","getFullYear","dateRelativeInSentence","getMonth","getDate","yesterday","setDate","ALPHABET","ALPHABET_LENGTH","string","mountTemplate","toast","createErrorHandler","getErrorMessage","handler","getResponseError","xhr","getResponseHeader","getDefaultErrorForStatus","getSendError","getTimeoutError","loader","beforeRequest","afterRequest","onEvent","getModalOptions","onModalBeforeSend","modalSelector","modalTitle","modalTitleElement","defineExtension","OrderedList","Lightbox","snackbars","userMultipleChoice","lightbox","historyCacheSize","refreshOnHistoryMiss","Misago","_initializers","_context","tabGroups","initializer","initOrder","orderedValues","fallback","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Provider","getStore","Profile","RequestActivationLink","RequestPasswordReset","Users","attr","forum_index_title","reducer","initialState","addReducer","doTick","TICK_PERIOD","updateTimestamps","pager","download","caption","_registerEvents","_onDOMContentLoaded","onImageClick","onMediaButtonClick","onHideLightbox","updateLightbox","getInitialState","showLightbox","getRootMedia","updateLightboxPager","updateLightboxOptions","updateLightboxNav","updateLightboxContainer","updateLightboxCaption","updateLightboxOption","updateLightboxContainerWithImage","updateLightboxContainerWithVideo","nameText","cleanDisplayFilename","shortenLongString","cleanDisplayUrl","slash","lastIndexOf","pause","AjaxLoader","requests","activatePageSelectForms","activatePageSelectForm","scrollIntoView","UPDATE_AVATAR","UPDATE_USERNAME","UPDATE_AUTHENTICATED_USER","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","updatedState","userId","OPEN_SITE_NAV","OPEN_SEARCH","OPEN_NOTIFICATIONS","OPEN_PRIVATE_THREADS","OPEN_USER_NAV","CLOSE","openPrivateThreads","privateThreads","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","none","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","last_post_on","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","deleteThread","filterThreads","categoriesMap","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","APPEND_USERS","HYDRATE_USERS","variable","getVariableValue","part","activateRichText","copyCode","behavior","Ajax","_cookieName","_csrfToken","_locks","self","reject","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","processData","evt","Auth","local","_store","_local","_modal","syncSession","watchState","getState","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","localStorage","LocalStorage","_prefix","_watchers","e","newValueJson","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","highlightCode","embedYoutubePlayers","_youtube","hljs","codeblocks","highlightElement","anchors","onlyChild","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","player","cleanedUrl","getVideoIdFromUrl","timebit","bits","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","pollId","PostingComponent","Posting","unsetBeforeUnload","_props","_isOpen","_isClosing","_mount","_observer","unobserve","_spacer","_mode","ResizeObserver","contentRect","_beforeunloadSet","beforeUnload","capture","returnValue","_realOpen","changeForm","setBeforeUnload","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","alert","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","SNACKBAR_TTL","removeSnackbars","renderSnackbars","role","COMPARISON","EQUAL","STRICT_EQUAL","NOT_EQUAL","STRICT_NOT_EQUAL","GREATER_THAN","GREATER_THAN_EQUAL","LESS_THAN","LESS_THAN_EQUAL","EXPRESSION","parseTemplateCondition","evaluateTemplateCondition","condition","expression","evaluateExpression","VALUE","VARIABLE","DEEP_VARIABLE","evaluateDeepContextVariable","CONDITION","evaluateConditionExpression","NOT","AND","evaluateAndExpression","OR","evaluateOrExpression","tokenizeTemplateCondition","TOKEN","validateTokens","tokens","expressions","insertLeafExpressions","insertNotExpressions","insertBranchingExpression","insertConditionalExpression","insertLeafExpression","token","NAME","NUMBER","number","BOOL","NULL","hasNotTokens","replaceNotToken","parseNestedTemplateCondition","findIndex","comparison","RULES","removeSpaces","SPACE","nameRule","integerRule","floatRule","strictEqualRule","equalRule","strictNotEqualRule","notEqualRule","greaterThanEqualRule","greaterThanRule","lessThanEqualRule","lessThanRule","notRule","andRule","orRule","spaceRule","lastToken","logValidationError","character","repeatsRule","VALUE_TOKEN","repeatValueRule","previousToken","comparisonRule","nextToken","andOrRule","rendered","renderTemplateNode","updateTimestamp","startTimestampsUpdates","BannedPage","RedrawedBannedPage","changeState","rowWidth","m","bytes","roundSize","toFixed","ALPHA","ALPHA_LEN","len","chars","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values_only","_order","unordered","ordering","insertItem","insertAt","splice","iterations","int","array","routes","childRoutes","onEnter","subString","n","EMAIL","USERNAME","USERNAME_ALPHANUMERIC","returnMessage","lengthMin","lengthMax","valueTrimmed"],"sourceRoot":""}