{"version":3,"sources":["misago.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","_react","_react2","BASE_URL","$","attr","_class","_React$Component","this","getPrototypeOf","apply","arguments","size","url","user","id","avatar_hash","createElement","src","getSrc","className","title","gettext","Component","react",2,"_moment","_moment2","message","html","dangerouslySetInnerHTML","__html","plain","expires","isAfter","interpolate","expires_on","fromNow","getReasonMessage","getExpirationMessage","moment",3,"_loader","_loader2","Button","content","disabled","loading","children","type","onClick","defaultProps","./loader",4,"_validators","validateRequired","required","_Object$getPrototypeO","_temp","_this","_ret","_len","args","Array","_key","concat","bindInput","name","event","newState","formErrors","state","errors","validateField","setState","handleSubmit","preventDefault","isLoading","clean","promise","send","then","success","handleSuccess","rejection","handleError","validators","optional","validatedFields","hasOwnProperty","push","fieldErrors","validate","field","requiredError","validationError","../utils/validators",5,6,"data-dismiss","aria-label","aria-hidden",7,"_index","_index2","_button","_button2","_form","_form2","_ajax","_ajax2","_modal","_modal2","_snackbar","_snackbar2","_bannedPage","_bannedPage2","_Form","showActivation","username","password","isValid","error","post","get","form","append","find","val","getCsrfToken","window","location","pathname","submit","status","info","detail","hide","ban","apiError","href","onSubmit","placeholder","onChange","getActivationButton","../index","../services/ajax","../services/modal","../services/snackbar","../utils/banned-page","./button","./form",8,"select","snackbar","Snackbar","undefined","TYPES_CLASSES","warning","snackbarClass","isVisible","getSnackbarClass",9,"CompactGuestNav","GuestNav","GuestMenu","_avatar","_avatar2","_signIn","_signIn2","_root","_root2","_mobileNavbarDropdown","_mobileNavbarDropdown2","show","role","showSignInModal","_GuestMenu","showRegisterModal","_React$Component2","showGuestMenu","../../services/mobile-navbar-dropdown","../../services/modal","../avatar","../button","../register/root.js","../sign-in.js",10,"auth","CompactUserMenu","UserMenu","_guestNav","_userNav","isAuthenticated","UserNav","CompactUserNav","./guest-nav","./user-nav",11,"selectUserMenu","store","_reactRedux","decision","confirm","absolute_url","logout","data-toggle","aria-haspopup","aria-expanded","_React$Component3","showConnected","connect","showUserMenu","../../index","react-redux",12,"global","Misago","_orderedList","_orderedList2","_initializers","_context","initializer","item","after","before","context","initOrder","orderedValues","forEach","fallback","has","misago","./utils/ordered-list",13,"init","addInitializer",14,"_store2","addReducer","_auth2","isAnonymous","_auth","_store","../reducers/auth","../services/store",15,"element","document","getElementById","../services/mobile-navbar-dropdown",16,17,"locale",18,"_mountComponent2","_mountComponent","../components/snackbar","../utils/mount-component",19,"initialState","../reducers/snackbar",20,21,22,"_tick2","_tick","../reducers/tick",23,"setInterval","dispatch","doTick","TICK_PERIOD",24,"../components/user-menu/root",25,"action",26,"showSnackbar","SHOW_SNACKBAR","messageType","hideSnackbar","HIDE_SNACKBAR","assign",27,"TICK","tick",28,"Ajax","_cookieName","_csrfToken","cookieName","cookie","indexOf","cookieRegex","RegExp","match","split","method","data","Promise","resolve","reject","xhr","headers","X-CSRFToken","dataType","jqXHR","responseJSON","statusText","ajax","request",29,"MobileNavbarDropdown","_element","_component","component","addClass","removeClass",30,"Modal","_reactDom","_reactDom2","modal","on","unmountComponentAtNode","react-dom",31,"HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","clearTimeout","setTimeout","alert",32,"StoreWrapper","_redux","_reducers","_initialState","reducer","createStore","combineReducers","getState","redux",33,"changeState","render","Provider","getStore","RedrawedBannedPage","forumName","forum_name","history","pushState","../components/banned-page",34,"mount","rootElementId","connected","rootElement",35,"OrderedList","items","isOrdered","_items","order","values","values_only","_order","unordered","insertItem","insertAt","ordering","ordered","splice","index","iterations",36,"trim","email","EMAIL","test","minLength","limitValue","returnMessage","ngettext","limit_value","show_value","maxLength","usernameMinLength","settings","username_length_min","usernameMaxLength","username_length_max","usernameContent","USERNAME","passwordMinLength","password_length_min"],"mappings":"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","file":"misago.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BASE_URL = $('base').attr('href') + 'user-avatar/';\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getSrc',\n    value: function getSrc() {\n      var size = this.props.size || 100; // jshint ignore:line\n      var url = BASE_URL;\n\n      if (this.props.user && this.props.user.id) {\n        // just avatar hash, size and user id\n        url += this.props.user.avatar_hash + '/' + size + '/' + this.props.user.id + '.png';\n      } else {\n        // just append avatar size to file to produce no-avatar placeholder\n        url += size + '.png';\n      }\n\n      return url;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('img', { src: this.getSrc(),\n        className: this.props.className || 'user-avatar',\n        title: gettext(\"User avatar\") });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getReasonMessage',\n    value: function getReasonMessage() {\n      /* jshint ignore:start */\n      if (this.props.message.html) {\n        return _react2.default.createElement('div', { className: 'lead',\n          dangerouslySetInnerHTML: { __html: this.props.message.html } });\n      } else {\n        return _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          this.props.message.plain\n        );\n      }\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getExpirationMessage',\n    value: function getExpirationMessage() {\n      if (this.props.expires) {\n        if (this.props.expires.isAfter((0, _moment2.default)())) {\n          return interpolate(gettext(\"This ban expires %(expires_on)s.\"), { 'expires_on': this.props.expires.fromNow() }, true);\n        } else {\n          return gettext(\"This ban has expired.\");\n        }\n      } else {\n        return gettext(\"This ban is permanent.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-error page-error-banned' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'highlight_off'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              this.getReasonMessage(),\n              _react2.default.createElement(\n                'p',\n                { className: 'message-footnote' },\n                this.getExpirationMessage()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"moment\":\"moment\",\"react\":\"react\"}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar Button = (function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function render() {\n      var content = null;\n      var className = 'btn ' + this.props.className;\n      var disabled = this.props.disabled;\n\n      if (this.props.loading) {\n        /* jshint ignore:start */\n        content = _react2.default.createElement(_loader2.default, null);\n        /* jshint ignore:end */\n        className += ' btn-loading';\n        disabled = true;\n      } else {\n        content = this.props.children;\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: this.props.onClick ? 'button' : 'submit',\n          className: className,\n          disabled: disabled,\n          onClick: this.props.onClick },\n        content\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Button;\n})(_react2.default.Component);\n\nexports.default = Button;\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null\n};\n\n},{\"./loader\":5,\"react\":\"react\"}],4:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _validators = require('../utils/validators');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar validateRequired = (0, _validators.required)();\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.bindInput = function (name) {\n      return function (event) {\n        var newState = {};\n        newState[name] = event.target.value;\n\n        var formErrors = _this.state.errors || {};\n        formErrors[name] = _this.validateField(name, newState[name]);\n        newState.errors = formErrors;\n\n        _this.setState(newState);\n      };\n    }, _this.handleSubmit = function (event) {\n      // we don't reload page on submissions\n      event.preventDefault();\n      if (_this.state.isLoading) {\n        return;\n      }\n\n      if (_this.clean()) {\n        _this.setState({ 'isLoading': true });\n        var promise = _this.send();\n\n        if (promise) {\n          promise.then(function (success) {\n            _this.setState({ 'isLoading': false });\n            _this.handleSuccess(success);\n          }, function (rejection) {\n            _this.setState({ 'isLoading': false });\n            _this.handleError(rejection);\n          });\n        } else {\n          _this.setState({ 'isLoading': false });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'validate',\n    value: function validate() {\n      var errors = {};\n\n      var validators = {\n        required: this.state.validators.required || this.state.validators,\n        optional: this.state.validators.optional || {}\n      };\n\n      var validatedFields = [];\n\n      // add required fields to validation\n      for (var name in validators.required) {\n        if (validators.required.hasOwnProperty(name)) {\n          validatedFields.push(name);\n        }\n      }\n\n      // add optional fields to validation\n      for (var name in validators.optional) {\n        if (validators.optional.hasOwnProperty(name)) {\n          validatedFields.push(name);\n        }\n      }\n\n      // validate fields values\n      for (var i in validatedFields) {\n        var name = validatedFields[i];\n        var fieldErrors = this.validateField(name, this.state[name]);\n\n        if (fieldErrors === null) {\n          errors[name] = null;\n        } else if (fieldErrors) {\n          errors[name] = fieldErrors;\n        }\n      }\n\n      return errors;\n    }\n  }, {\n    key: 'isValid',\n    value: function isValid() {\n      var errors = this.validate();\n      for (var field in errors) {\n        if (errors.hasOwnProperty(field)) {\n          if (errors[field] !== null) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: 'validateField',\n    value: function validateField(name, value) {\n      var errors = [];\n\n      var validators = {\n        required: (this.state.validators.required || this.state.validators)[name],\n        optional: (this.state.validators.optional || {})[name]\n      };\n\n      var requiredError = validateRequired(value) || false;\n\n      if (validators.required) {\n        if (requiredError) {\n          errors = [requiredError];\n        } else {\n          for (var i in validators.required) {\n            var validationError = validators.required[i](value);\n            if (validationError) {\n              errors.push(validationError);\n            }\n          }\n        }\n\n        return errors.length ? errors : null;\n      } else if (requiredError === false && validators.optional) {\n        for (var i in validators.optional) {\n          var validationError = validators.optional[i](value);\n          if (validationError) {\n            errors.push(validationError);\n          }\n        }\n\n        return errors.length ? errors : null;\n      }\n\n      return false; // false === field wasn't validated\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n    value: function clean() {\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return null;\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      return;\n    }\n  }, {\n    key: 'handleError',\n\n    /* jshint ignore:end */\n    value: function handleError(rejection) {\n      return;\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../utils/validators\":36,\"react\":\"react\"}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"loader-compact\" },\n        _react2.default.createElement(\"div\", { className: \"loader-spinning-wheel\" })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],6:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"modal-dialog modal-register\" },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"modal-content\" },\n          _react2.default.createElement(\n            \"div\",\n            { className: \"modal-header\" },\n            _react2.default.createElement(\n              \"button\",\n              { type: \"button\", className: \"close\", \"data-dismiss\": \"modal\", \"aria-label\": \"Close\" },\n              _react2.default.createElement(\n                \"span\",\n                { \"aria-hidden\": \"true\" },\n                \"\"\n              )\n            ),\n            _react2.default.createElement(\n              \"h4\",\n              { className: \"modal-title\" },\n              gettext(\"Register\")\n            )\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"modal-body\" },\n            _react2.default.createElement(\n              \"p\",\n              null,\n              \"This will be registration form!\"\n            )\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"modal-footer\" },\n            _react2.default.createElement(\n              \"button\",\n              { type: \"button\", className: \"btn btn-default\", \"data-dismiss\": \"modal\" },\n              \"Close\"\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],7:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar _class = (function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n      'showActivation': false,\n\n      'username': '',\n      'password': '',\n\n      validators: {\n        'username': [],\n        'password': []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.isValid()) {\n        _snackbar2.default.error(gettext(\"Fill out both fields.\"));\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('AUTH_API'), {\n        'username': this.state.username,\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      var form = $('#hidden-login-form');\n\n      form.append('<input type=\"text\" name=\"username\" />');\n      form.append('<input type=\"password\" name=\"password\" />');\n\n      // fill out form with user credentials and submit it, this will tell\n      // Misago to redirect user back to right page, and will trigger browser's\n      // key ring feature\n      form.find('input[type=\"hidden\"]').val(_ajax2.default.getCsrfToken());\n      form.find('input[name=\"redirect_to\"]').val(window.location.pathname);\n      form.find('input[name=\"username\"]').val(this.state.username);\n      form.find('input[name=\"password\"]').val(this.state.password);\n      form.submit();\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.code === 'inactive_admin') {\n          _snackbar2.default.info(rejection.detail);\n        } else if (rejection.code === 'inactive_user') {\n          _snackbar2.default.info(rejection.detail);\n          this.setState({\n            'showActivation': true\n          });\n        } else if (rejection.code === 'banned') {\n          (0, _bannedPage2.default)(rejection.detail);\n          _modal2.default.hide();\n        } else {\n          _snackbar2.default.error(rejection.detail);\n        }\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getActivationButton',\n    value: function getActivationButton() {\n      if (this.state.showActivation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),\n            className: 'btn btn-success btn-block' },\n          gettext(\"Activate account\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-sm modal-sign-in' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                ''\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Sign in\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Username or e-mail\"),\n                    onChange: this.bindInput('username'),\n                    value: this.state.username })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Password\"),\n                    onChange: this.bindInput('password'),\n                    value: this.state.password })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getActivationButton(),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary btn-block',\n                  loading: this.state.isLoading },\n                gettext(\"Sign in\")\n              ),\n              _react2.default.createElement(\n                'a',\n                { href: _index2.default.get('FORGOTTEN_PASSWORD_URL'),\n                  className: 'btn btn-default btn-block' },\n                gettext(\"Forgot password?\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_form2.default);\n\nexports.default = _class;\n\n},{\"../index\":12,\"../services/ajax\":28,\"../services/modal\":30,\"../services/snackbar\":31,\"../utils/banned-page\":33,\"./button\":3,\"./form\":4,\"react\":\"react\"}],8:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* jshint ignore:start */\nvar TYPES_CLASSES = {\n  'info': 'alert-info',\n  'success': 'alert-success',\n  'warning': 'alert-warning',\n  'error': 'alert-danger'\n};\n/* jshint ignore:end */\n\nvar Snackbar = exports.Snackbar = (function (_React$Component) {\n  _inherits(Snackbar, _React$Component);\n\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Snackbar).apply(this, arguments));\n  }\n\n  _createClass(Snackbar, [{\n    key: 'getSnackbarClass',\n    value: function getSnackbarClass() {\n      var snackbarClass = 'alerts-snackbar';\n      if (this.props.isVisible) {\n        snackbarClass += ' in';\n      } else {\n        snackbarClass += ' out';\n      }\n      return snackbarClass;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getSnackbarClass() },\n        _react2.default.createElement(\n          'p',\n          { className: 'alert ' + TYPES_CLASSES[this.props.type] },\n          this.props.message\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Snackbar;\n})(_react2.default.Component);\n\nfunction select(state) {\n  return state.snackbar;\n}\n\n},{\"react\":\"react\"}],9:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _signIn = require('../sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _root = require('../register/root.js');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar GuestMenu = exports.GuestMenu = (function (_React$Component) {\n  _inherits(GuestMenu, _React$Component);\n\n  function GuestMenu() {\n    _classCallCheck(this, GuestMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestMenu).apply(this, arguments));\n  }\n\n  _createClass(GuestMenu, [{\n    key: 'showSignInModal',\n    value: function showSignInModal() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'showRegisterModal',\n    value: function showRegisterModal() {\n      _modal2.default.show(_root2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'guest-preview' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"You are browsing as guest.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext('Sign in or register to start and participate in discussions.')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                'button',\n                { type: 'button', className: 'btn btn-default btn-block',\n                  onClick: this.showSignInModal },\n                'Sign in'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                'button',\n                { type: 'button', className: 'btn btn-primary btn-block' },\n                'Thy Registry'\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestMenu;\n})(_react2.default.Component);\n\nvar GuestNav = exports.GuestNav = (function (_GuestMenu) {\n  _inherits(GuestNav, _GuestMenu);\n\n  function GuestNav() {\n    _classCallCheck(this, GuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestNav).apply(this, arguments));\n  }\n\n  _createClass(GuestNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'nav nav-guest' },\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn navbar-btn btn-default',\n            onClick: this.showSignInModal },\n          'Sign in'\n        ),\n        _react2.default.createElement(\n          _button2.default,\n          { type: 'button', className: 'navbar-btn btn-primary',\n            onClick: this.showRegisterModal },\n          'Register'\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestNav;\n})(GuestMenu);\n\nvar CompactGuestNav = exports.CompactGuestNav = (function (_React$Component2) {\n  _inherits(CompactGuestNav, _React$Component2);\n\n  function CompactGuestNav() {\n    _classCallCheck(this, CompactGuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactGuestNav).apply(this, arguments));\n  }\n\n  _createClass(CompactGuestNav, [{\n    key: 'showGuestMenu',\n    value: function showGuestMenu() {\n      _mobileNavbarDropdown2.default.show(GuestMenu);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showGuestMenu },\n        _react2.default.createElement(_avatar2.default, { size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactGuestNav;\n})(_react2.default.Component);\n\n},{\"../../services/mobile-navbar-dropdown\":29,\"../../services/modal\":30,\"../avatar\":1,\"../button\":3,\"../register/root.js\":6,\"../sign-in.js\":7,\"react\":\"react\"}],10:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserMenu = exports.UserMenu = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _guestNav = require('./guest-nav');\n\nvar _userNav = require('./user-nav');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = (function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.GuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n})(_react2.default.Component);\n\nvar CompactUserMenu = exports.CompactUserMenu = (function (_React$Component2) {\n  _inherits(CompactUserMenu, _React$Component2);\n\n  function CompactUserMenu() {\n    _classCallCheck(this, CompactUserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserMenu).apply(this, arguments));\n  }\n\n  _createClass(CompactUserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.CompactGuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserMenu;\n})(_react2.default.Component);\n\nfunction select(state) {\n  return state.auth;\n}\n\n},{\"./guest-nav\":9,\"./user-nav\":11,\"react\":\"react\"}],11:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserNav = exports.UserNav = exports.UserMenu = undefined;\nexports.selectUserMenu = selectUserMenu;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = (function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'logout',\n    value: function logout() {\n      var decision = confirm(gettext(\"Are you sure you want to sign out?\"));\n      if (decision) {\n        $('#hidden-logout-form').submit();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-header' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            this.props.user.username\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'account_circle'\n            ),\n            gettext(\"See your profile\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('USERCP_URL') },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'done_all'\n            ),\n            gettext(\"Change options\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn-link' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'face'\n            ),\n            gettext(\"Change avatar\")\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-footer' },\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-default btn-block',\n              onClick: this.logout },\n            gettext(\"Log out\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n})(_react2.default.Component);\n\nvar UserNav = exports.UserNav = (function (_React$Component2) {\n  _inherits(UserNav, _React$Component2);\n\n  function UserNav() {\n    _classCallCheck(this, UserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserNav).apply(this, arguments));\n  }\n\n  _createClass(UserNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'ul nav navbar-nav nav-user' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown' },\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url, className: 'dropdown-toggle',\n              'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false',\n              role: 'button' },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n          ),\n          _react2.default.createElement(UserMenu, { user: this.props.user })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserNav;\n})(_react2.default.Component);\n\nfunction selectUserMenu(store) {\n  return { user: store.auth.user };\n}\n\nvar CompactUserNav = exports.CompactUserNav = (function (_React$Component3) {\n  _inherits(CompactUserNav, _React$Component3);\n\n  function CompactUserNav() {\n    _classCallCheck(this, CompactUserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserNav).apply(this, arguments));\n  }\n\n  _createClass(CompactUserNav, [{\n    key: 'showUserMenu',\n    value: function showUserMenu() {\n      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showUserMenu },\n        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserNav;\n})(_react2.default.Component);\n\n},{\"../../index\":12,\"../../services/mobile-navbar-dropdown\":29,\"../avatar\":1,\"react\":\"react\",\"react-redux\":\"react-redux\"}],12:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Misago = undefined;\n\nvar _orderedList = require('./utils/ordered-list');\n\nvar _orderedList2 = _interopRequireDefault(_orderedList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Misago = exports.Misago = (function () {\n  function Misago() {\n    _classCallCheck(this, Misago);\n\n    this._initializers = [];\n    this._context = {};\n  }\n\n  _createClass(Misago, [{\n    key: 'addInitializer',\n    value: function addInitializer(initializer) {\n      this._initializers.push({\n        key: initializer.name,\n\n        item: initializer.initializer,\n\n        after: initializer.after,\n        before: initializer.before\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init(context) {\n      var _this = this;\n\n      this._context = context;\n\n      var initOrder = new _orderedList2.default(this._initializers).orderedValues();\n      initOrder.forEach(function (initializer) {\n        initializer(_this);\n      });\n    }\n\n    // context accessors\n\n  }, {\n    key: 'has',\n    value: function has(key) {\n      return this._context.hasOwnProperty(key);\n    }\n  }, {\n    key: 'get',\n    value: function get(key, fallback) {\n      if (this.has(key)) {\n        return this._context[key];\n      } else {\n        return fallback || undefined;\n      }\n    }\n  }]);\n\n  return Misago;\n})();\n\n// create  singleton\n\nvar misago = new Misago();\n\n// expose it globally\nglobal.misago = misago;\n\n// and export it for tests and stuff\nexports.default = misago;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils/ordered-list\":35}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));\n}\n\n_index2.default.addInitializer({\n  name: 'ajax',\n  initializer: initializer\n});\n\n},{\"../index\":12,\"../services/ajax\":28}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../reducers/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _store2.default.addReducer('auth', _auth2.default, {\n    'isAuthenticated': context.get('isAuthenticated'),\n    'isAnonymous': !context.get('isAuthenticated'),\n\n    'user': context.get('user')\n  });\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:auth',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":12,\"../reducers/auth\":25,\"../services/store\":32}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('mobile-navbar-dropdown-mount');\n  if (element) {\n    _mobileNavbarDropdown2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'dropdown',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":12,\"../services/mobile-navbar-dropdown\":29}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('modal-mount');\n  if (element) {\n    _modal2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'modal',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":12,\"../services/modal\":30}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _moment2.default.locale($('html').attr('lang'));\n}\n\n_index2.default.addInitializer({\n  name: 'moment',\n  initializer: initializer\n});\n\n},{\"../index\":12,\"moment\":\"moment\"}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../components/snackbar');\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:snackbar',\n  initializer: initializer,\n  after: 'snackbar'\n});\n\n},{\"../components/snackbar\":8,\"../index\":12,\"../utils/mount-component\":34,\"react-redux\":\"react-redux\"}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../reducers/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:snackbar',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":12,\"../reducers/snackbar\":26,\"../services/store\":32}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _snackbar2.default.init(_store2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'snackbar',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":12,\"../services/snackbar\":31,\"../services/store\":32}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.init();\n}\n\n_index2.default.addInitializer({\n  name: 'store',\n  initializer: initializer,\n  before: '_end'\n});\n\n},{\"../index\":12,\"../services/store\":32}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../reducers/tick');\n\nvar _tick2 = _interopRequireDefault(_tick);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:tick',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":12,\"../reducers/tick\":27,\"../services/store\":32}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../reducers/tick');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TICK_PERIOD = 50 * 1000; //do the tick every 50s\n\nfunction initializer() {\n  window.setInterval(function () {\n    _store2.default.dispatch((0, _tick.doTick)());\n  }, TICK_PERIOD);\n}\n\n_index2.default.addInitializer({\n  name: 'tick-start',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":12,\"../reducers/tick\":27,\"../services/store\":32}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _root = require('../components/user-menu/root');\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:user-menu',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/user-menu/root\":10,\"../index\":12,\"../utils/mount-component\":34,\"react-redux\":\"react-redux\"}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = auth;\nfunction auth() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type == 'NOT_YET') {\n    return {};\n  } else {\n    return state;\n  }\n}\n\n},{}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showSnackbar = showSnackbar;\nexports.hideSnackbar = hideSnackbar;\nexports.default = snackbar;\nvar initialState = exports.initialState = {\n  type: 'info',\n  message: '',\n  isVisible: false\n};\n\nvar SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';\nvar HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';\n\nfunction showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message: message,\n    messageType: type\n  };\n}\n\nfunction hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR\n  };\n}\n\nfunction snackbar() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true\n    };\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.doTick = doTick;\nexports.default = tick;\nvar initialState = exports.initialState = {\n  tick: 0\n};\n\nvar TICK = exports.TICK = 'TICK';\n\nfunction doTick() {\n  return {\n    type: TICK\n  };\n}\n\nfunction tick() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = exports.Ajax = (function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n\n    this._cookieName = null;\n    this._csrfToken = null;\n  }\n\n  _createClass(Ajax, [{\n    key: 'init',\n    value: function init(cookieName) {\n      this._cookieName = cookieName;\n      this._csrfToken = this.getCsrfToken();\n    }\n  }, {\n    key: 'getCsrfToken',\n    value: function getCsrfToken() {\n      if (document.cookie.indexOf(this._cookieName) !== -1) {\n        var cookieRegex = new RegExp(this._cookieName + '\\=([^;]*)');\n        var cookie = document.cookie.match(cookieRegex)[0];\n        return cookie ? cookie.split('=')[1] : null;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(method, url, data) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: method,\n          headers: {\n            'X-CSRFToken': self._csrfToken\n          },\n\n          data: data || {},\n          dataType: 'json',\n\n          success: function success(data) {\n            resolve(data);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get(url) {\n      return this.request('GET', url);\n    }\n  }, {\n    key: 'post',\n    value: function post(url, data) {\n      return this.request('POST', url, data);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(url, data) {\n      return this.request('PATCH', url, data);\n    }\n  }, {\n    key: 'put',\n    value: function put(url, data) {\n      return this.request('PUT', url, data);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(url) {\n      return this.request('DELETE', url);\n    }\n  }]);\n\n  return Ajax;\n})();\n\nexports.default = new Ajax();\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileNavbarDropdown = undefined;\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MobileNavbarDropdown = exports.MobileNavbarDropdown = (function () {\n  function MobileNavbarDropdown() {\n    _classCallCheck(this, MobileNavbarDropdown);\n  }\n\n  _createClass(MobileNavbarDropdown, [{\n    key: 'init',\n    value: function init(element) {\n      this._element = element;\n      this._component = null;\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      if (this._component === component) {\n        this.hide();\n      } else {\n        this._component = component;\n        (0, _mountComponent2.default)(component, this._element.id);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'showConnected',\n    value: function showConnected(name, component) {\n      if (this._component === name) {\n        this.hide();\n      } else {\n        this._component = name;\n        (0, _mountComponent2.default)(component, this._element.id, true);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      $(this._element).removeClass('open');\n      this._component = null;\n    }\n  }]);\n\n  return MobileNavbarDropdown;\n})();\n\nexports.default = new MobileNavbarDropdown();\n\n},{\"../utils/mount-component\":34}],30:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = undefined;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Modal = exports.Modal = (function () {\n  function Modal() {\n    _classCallCheck(this, Modal);\n  }\n\n  _createClass(Modal, [{\n    key: 'init',\n    value: function init(element) {\n      var _this = this;\n\n      this._element = element;\n\n      this._modal = $(element).modal({ show: false });\n\n      this._modal.on('hidden.bs.modal', function () {\n        _reactDom2.default.unmountComponentAtNode(_this._element);\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      (0, _mountComponent2.default)(component, this._element.id);\n      this._modal.modal('show');\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this._modal.modal('hide');\n    }\n  }]);\n\n  return Modal;\n})();\n\nexports.default = new Modal();\n\n},{\"../utils/mount-component\":34,\"react-dom\":\"react-dom\"}],31:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\n\nvar _snackbar = require('../reducers/snackbar');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HIDE_ANIMATION_LENGTH = 300;\nvar MESSAGE_SHOW_LENGTH = 5000;\n\nvar Snackbar = exports.Snackbar = (function () {\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n  }\n\n  _createClass(Snackbar, [{\n    key: 'init',\n    value: function init(store) {\n      this._store = store;\n      this._timeout = null;\n    }\n  }, {\n    key: 'alert',\n    value: function alert(message, type) {\n      var _this = this;\n\n      if (this._timeout) {\n        window.clearTimeout(this._timeout);\n        this._store.dispatch((0, _snackbar.hideSnackbar)());\n\n        this._timeout = window.setTimeout(function () {\n          _this._timeout = null;\n          _this.alert(message, type);\n        }, HIDE_ANIMATION_LENGTH);\n      } else {\n        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));\n        this._timeout = window.setTimeout(function () {\n          _this._store.dispatch((0, _snackbar.hideSnackbar)());\n          _this._timeout = null;\n        }, MESSAGE_SHOW_LENGTH);\n      }\n    }\n\n    // shorthands for message types\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.alert(message, 'info');\n    }\n  }, {\n    key: 'success',\n    value: function success(message) {\n      this.alert(message, 'success');\n    }\n  }, {\n    key: 'warning',\n    value: function warning(message) {\n      this.alert(message, 'warning');\n    }\n  }, {\n    key: 'error',\n    value: function error(message) {\n      this.alert(message, 'error');\n    }\n\n    // shorthand for api errors\n\n  }, {\n    key: 'apiError',\n    value: function apiError(rejection) {\n      var message = gettext(\"Unknown error has occured.\");\n\n      if (rejection.status === 0) {\n        message = gettext(\"Lost connection with application.\");\n      }\n\n      if (rejection.status === 400 && rejection.detail) {\n        message = rejection.detail;\n      }\n\n      if (rejection.status === 403) {\n        message = rejection.detail;\n        if (message === \"Permission denied\") {\n          message = gettext(\"You don't have permission to perform this action.\");\n        }\n      }\n\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\");\n      }\n\n      this.error(message);\n    }\n  }]);\n\n  return Snackbar;\n})();\n\nexports.default = new Snackbar();\n\n},{\"../reducers/snackbar\":26}],32:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StoreWrapper = undefined;\n\nvar _redux = require('redux');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StoreWrapper = exports.StoreWrapper = (function () {\n  function StoreWrapper() {\n    _classCallCheck(this, StoreWrapper);\n\n    this._store = null;\n    this._reducers = {};\n    this._initialState = {};\n  }\n\n  _createClass(StoreWrapper, [{\n    key: 'addReducer',\n    value: function addReducer(name, reducer, initialState) {\n      this._reducers[name] = reducer;\n      this._initialState[name] = initialState;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);\n    }\n  }, {\n    key: 'getStore',\n    value: function getStore() {\n      return this._store;\n    }\n\n    // Store API\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this._store.getState();\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(action) {\n      return this._store.dispatch(action);\n    }\n  }]);\n\n  return StoreWrapper;\n})();\n\nexports.default = new StoreWrapper();\n\n},{\"redux\":\"redux\"}],33:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (ban, changeState) {\n  _reactDom2.default.unmountComponentAtNode(document.getElementById('page-mount'));\n\n  _reactDom2.default.render(\n  /* jshint ignore:start */\n  _react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _store2.default.getStore() },\n    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,\n      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })\n  ),\n  /* jshint ignore:end */\n  document.getElementById('page-mount'));\n\n  if (typeof changeState === 'undefined' || !changeState) {\n    var forumName = _index2.default.get('SETTINGS').forum_name;\n    document.title = gettext(\"You are banned\") + ' | ' + forumName;\n    window.history.pushState({}, \"\", _index2.default.get('BANNED_URL'));\n  }\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _bannedPage = require('../components/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\n/* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\nvar select = function select(state) {\n  return state.tick;\n}; // jshint ignore:line\n// jshint ignore:line\n\nvar RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);\n/* jshint ignore:end */\n\n},{\"../components/banned-page\":2,\"../index\":12,\"../services/store\":32,\"moment\":\"moment\",\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],34:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mount;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\nfunction mount(Component, rootElementId) {\n  var connected = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\n  var rootElement = document.getElementById(rootElementId);\n\n  if (rootElement) {\n    if (connected) {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(\n        _reactRedux.Provider,\n        { store: _store2.default.getStore() },\n        _react2.default.createElement(Component, null)\n      ),\n      /* jshint ignore:end */\n      rootElement);\n    } else {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(Component, null),\n      /* jshint ignore:end */\n      rootElement);\n    }\n  }\n} // jshint ignore:line\n// jshint ignore:line\n\n},{\"../services/store\":32,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],35:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrderedList = (function () {\n  function OrderedList(items) {\n    _classCallCheck(this, OrderedList);\n\n    this.isOrdered = false;\n    this._items = items || [];\n  }\n\n  _createClass(OrderedList, [{\n    key: \"add\",\n    value: function add(key, item, order) {\n      this._items.push({\n        key: key,\n        item: item,\n\n        after: order ? order.after || null : null,\n        before: order ? order.before || null : null\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, value) {\n      for (var i = 0; i < this._items.length; i++) {\n        if (this._items[i].key === key) {\n          return this._items[i].item;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.get(key) !== undefined;\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      var values = [];\n      for (var i = 0; i < this._items.length; i++) {\n        values.push(this._items[i].item);\n      }\n      return values;\n    }\n  }, {\n    key: \"order\",\n    value: function order(values_only) {\n      if (!this.isOrdered) {\n        this._items = this._order(this._items);\n        this.isOrdered = true;\n      }\n\n      if (values_only || typeof values_only === 'undefined') {\n        return this.values();\n      } else {\n        return this._items;\n      }\n    }\n  }, {\n    key: \"orderedValues\",\n    value: function orderedValues() {\n      return this.order(true);\n    }\n  }, {\n    key: \"_order\",\n    value: function _order(unordered) {\n      // Index of unordered items\n      var index = [];\n      unordered.forEach(function (item) {\n        index.push(item.key);\n      });\n\n      // Ordered items\n      var ordered = [];\n      var ordering = [];\n\n      // First pass: register items that\n      // don't specify their order\n      unordered.forEach(function (item) {\n        if (!item.after && !item.before) {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Second pass: register items that\n      // specify their before to \"_end\"\n      unordered.forEach(function (item) {\n        if (item.before === \"_end\") {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Third pass: keep iterating items\n      // until we hit iterations limit or finish\n      // ordering list\n      function insertItem(item) {\n        var insertAt = -1;\n        if (ordering.indexOf(item.key) === -1) {\n          if (item.after) {\n            insertAt = ordering.indexOf(item.after);\n            if (insertAt !== -1) {\n              insertAt += 1;\n            }\n          } else if (item.before) {\n            insertAt = ordering.indexOf(item.before);\n          }\n\n          if (insertAt !== -1) {\n            ordered.splice(insertAt, 0, item);\n            ordering.splice(insertAt, 0, item.key);\n          }\n        }\n      }\n\n      var iterations = 200;\n      while (iterations > 0 && index.length !== ordering.length) {\n        iterations -= 1;\n        unordered.forEach(insertItem);\n      }\n\n      return ordered;\n    }\n  }]);\n\n  return OrderedList;\n})();\n\nexports.default = OrderedList;\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.required = required;\nexports.email = email;\nexports.minLength = minLength;\nexports.maxLength = maxLength;\nexports.usernameMinLength = usernameMinLength;\nexports.usernameMaxLength = usernameMaxLength;\nexports.usernameContent = usernameContent;\nexports.passwordMinLength = passwordMinLength;\nvar EMAIL = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar USERNAME = new RegExp('^[0-9a-z]+$', 'i');\n\nfunction required() {\n  return function (value) {\n    if ($.trim(value).length === 0) {\n      return gettext(\"This field is required.\");\n    }\n  };\n}\n\nfunction email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\");\n    }\n  };\n}\n\nfunction minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction usernameMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username must be at least %(limit_value)s character long.\", \"Username must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.username_length_min, message);\n}\n\nfunction usernameMaxLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username cannot be longer than %(limit_value)s character.\", \"Username cannot be longer than %(limit_value)s characters.\", limitValue);\n  };\n  return this.maxLength(settings.username_length_max, message);\n}\n\nfunction usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\"Username can only contain latin alphabet letters and digits.\");\n    }\n  };\n}\n\nfunction passwordMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Valid password must be at least %(limit_value)s character long.\", \"Valid password must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.password_length_min, message);\n}\n\n},{}]},{},[12,13,14,15,16,17,18,19,20,21,22,23,24]);\n"],"sourceRoot":"/source/"}