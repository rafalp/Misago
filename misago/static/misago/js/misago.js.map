{"version":3,"sources":["misago.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","select","state","user","auth","signedIn","signedOut","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","_react","_react2","_class","_React$Component","this","getPrototypeOf","apply","arguments","window","location","reload","interpolate","gettext","username","createElement","className","getClassName","getMessage","type","onClick","refresh","Component","react",2,"BASE_URL","$","attr","size","url","id","avatar_hash","src","getSrc","title",3,"_moment","_moment2","message","html","dangerouslySetInnerHTML","__html","plain","expires","isAfter","expires_on","fromNow","getReasonMessage","getExpirationMessage","moment",4,"_loader","_loader2","Button","disabled","loading","children","defaultProps","./loader",5,"_avatar","_avatar2","_button","_button2","_ajax","_ajax2","_snackbar","_snackbar2","_this","setGravatar","callApi","setGenerated","isLoading","avatarType","_this2","setState","post","avatar_api_url","avatar","then","response","success","detail","updateAvatar","options","rejection","status","error","showError","gravatar","getAvatarPreview","getGravatarButton","../../services/ajax","../../services/snackbar","../avatar","../button","../loader",6,"ChangeAvatarError","undefined","_index","_index2","_modalLoader","_modalLoader2","_index3","_index4","_users","_store","_store2","reason","getErrorReason","_React$Component2","_Object$getPrototypeO","_temp","_ret","_len","args","Array","_key","concat","avatarHash","dispatch","component","showIndex","_this3","Promise","all","get","resolutions","role","data-dismiss","aria-label","aria-hidden","getBody","../../index","../../reducers/users","../../services/store","../modal-loader","./index",7,"validation","isValidated","map","helpText","labelClass","htmlFor","label","controlClass","getFeedbackIcon","getFeedbackDescription","getFeedback","getHelpText","extra",8,"_validators","validateRequired","required","bindInput","name","event","newState","formErrors","errors","validateField","handleSubmit","preventDefault","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","hasOwnProperty","push","fieldErrors","validate","field","requiredError","validationError","../utils/validators",9,10,11,"LABELS","STYLES","_zxcvbn","_zxcvbn2","_score","_password","_inputs","password","inputs","cacheStale","trim","scorePassword","score","getScore","style","width","aria-valuenow","aria-valuemin","aria-valuemax","../services/zxcvbn",12,"_register","_register2","_captcha","_captcha2","_modal","_modal2","showRegisterModal","misago","account_activation","info","isLoaded","show","load","../services/captcha","../services/modal","../services/snackbar","./register.js",13,"_interopRequireWildcard","newObj","RegisterComplete","RegisterForm","_form","_form2","_formGroup","_formGroup2","_passwordStrength","_passwordStrength2","_auth","_auth2","_bannedPage","_bannedPage2","_Form","email","captcha","usernameContent","usernameMinLength","usernameMaxLength","passwordMinLength","validator","isValid","apiResponse","callback","assign","ban","hide","apiError","href","onSubmit","display","for","aria-describedby","onChange","form","getLegalFootNote","activation","getLead","getSubscript","completeRegistration","signIn","complete","../index","../services/ajax","../services/auth","../utils/banned-page","./button","./form","./form-group","./password-strength",14,"LinkSent","RequestLinkForm","indexOf","placeholder","reset",15,"AccountInactivePage","RequestResetForm","_reactDom","_reactDom2","showInactivePage","getActivateButton","_React$Component3","_this4","render","document","getElementById","react-dom",16,"PasswordChangedPage","ResetPasswordForm","_signIn","_signIn2","showSignIn","softSignOut","remove","./sign-in.js",17,"showActivation","append","find","val","getCsrfToken","pathname","submit","getActivationButton",18,"snackbar","Snackbar","TYPES_CLASSES","warning","snackbarClass","isVisible","getSnackbarClass",19,"CompactGuestNav","GuestNav","GuestMenu","_registerButton","_registerButton2","_mobileNavbarDropdown","_mobileNavbarDropdown2","showSignInModal","_GuestMenu","showGuestMenu","../../services/mobile-navbar-dropdown","../../services/modal","../register-button","../sign-in.js",20,"CompactUserMenu","UserMenu","_guestNav","_userNav","isAuthenticated","UserNav","CompactUserNav","./guest-nav","./user-nav",21,"selectUserMenu","store","_reactRedux","_root","_root2","decision","confirm","connect","absolute_url","changeAvatar","logout","data-toggle","aria-haspopup","aria-expanded","showConnected","showUserMenu","../change-avatar/root","react-redux",22,"global","Misago","_orderedList","_orderedList2","_initializers","_context","initializer","item","after","before","context","initOrder","orderedValues","forEach","fallback","has","./utils/ordered-list",23,"init","addInitializer",24,"_mountComponent2","_authMessage","_authMessage2","_mountComponent","../components/auth-message","../utils/mount-component",25,"addReducer","isAnonymous","initialState","../reducers/auth","../services/store",26,"_localStorage2","_localStorage","../services/local-storage",27,28,"_include2","_include","../services/include",29,30,31,"element","../services/mobile-navbar-dropdown",32,33,"locale",34,"_requestActivationLink2","_requestActivationLink","../components/request-activation-link",35,"_requestPasswordReset2","_requestPasswordReset","../components/request-password-reset",36,"_resetPasswordForm2","_resetPasswordForm","../components/reset-password-form",37,"../components/snackbar",38,"../reducers/snackbar",39,40,41,"_tick2","_tick","../reducers/tick",42,"setInterval","doTick","TICK_PERIOD",43,"../components/user-menu/root",44,45,"SIGN_IN","signOut","soft","SIGN_OUT","action","UPDATE_AVATAR","userId","./users",46,"showSnackbar","SHOW_SNACKBAR","messageType","hideSnackbar","HIDE_SNACKBAR",47,"TICK","tick",48,49,"Ajax","_cookieName","_csrfToken","cookieName","cookie","cookieRegex","RegExp","match","split","method","data","resolve","reject","xhr","headers","X-CSRFToken","dataType","jqXHR","responseJSON","statusText","ajax","request",50,"Auth","local","_local","syncSession","watchState","getState","set","watch",51,"Captcha","ReCaptcha","ReCaptchaComponent","QACaptcha","NoCaptcha","BaseCaptcha","include","_BaseCaptcha","_BaseCaptcha2","question","help_text","kwargs","grecaptcha","sitekey","siteKey","binding","_BaseCaptcha3","wait","setTimeout","recaptcha_site_key","captcha_type","../components/form-group",52,"Include","staticUrl","_staticUrl","_included","script","remote","cache",53,"storage","localStorage","LocalStorage","prefix","_prefix","_watchers","addEventListener","newValueJson","JSON","parse","newValue","watcher","oldValue","setItem","stringify","itemString","getItem",54,"MobileNavbarDropdown","_element","_component","addClass","removeClass",55,"Modal","modal","on","unmountComponentAtNode",56,"HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","clearTimeout","alert",57,"StoreWrapper","_redux","_reducers","_initialState","reducer","createStore","combineReducers","redux",58,"Zxcvbn","zxcvbn","_loadingPromise","_loadedPromise",59,"changeState","Provider","getStore","RedrawedBannedPage","forumName","forum_name","history","pushState","../components/banned-page",60,"mount","rootElementId","connected","rootElement",61,"OrderedList","items","isOrdered","_items","order","values","values_only","_order","unordered","insertItem","insertAt","ordering","ordered","splice","index","iterations",62,"EMAIL","test","minLength","limitValue","returnMessage","ngettext","limit_value","show_value","maxLength","settings","username_length_min","username_length_max","USERNAME","password_length_min"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAaA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA2Eje,QAASW,GAAOC,GACd,OACEC,KAAMD,EAAME,KAAKD,KACjBE,SAAUH,EAAME,KAAKC,SACrBC,UAAWJ,EAAME,KAAKE,WAhG1B,GAAIC,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ6B,OAASA,CAEjB,IAAIe,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAUjCE,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YA+DpF,MApEAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,UACLlB,MAAO,WACL6B,OAAOC,SAASC,YAGlBb,IAAK,aACLlB,MAAO,WACL,MAAIyB,MAAKV,MAAML,SACNsB,YAAYC,QAAQ,mFAAqFC,SAAUT,KAAKV,MAAML,SAASwB,WAAY,GACjJT,KAAKV,MAAMJ,UACbqB,YAAYC,QAAQ,uFAAyFC,SAAUT,KAAKV,MAAMP,KAAK0B,WAAY,GADrJ,UAKThB,IAAK,eACLlB,MAAO,WACL,MAAIyB,MAAKV,MAAML,UAAYe,KAAKV,MAAMJ,UAC7B,oBAEA,kBAIXO,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAWX,KAAKY,gBAClBf,EAAAA,WAAgBa,cACd,OACEC,UAAW,aACbd,EAAAA,WAAgBa,cACd,KACEC,UAAW,QACbX,KAAKa,cAEPhB,EAAAA,WAAgBa,cACd,IACA,KACAb,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,kBAC3BI,QAASf,KAAKgB,SAChBR,QAAQ,gBAEV,IACAX,EAAAA,WAAgBa,cACd,QACEC,UAAW,kCACbH,QAAQ,4BASbV,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IASfoB,MAAQ,UAAUC,GAAG,SAASzE,EAAQU,EAAOJ,GAChD,YAYA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAhBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAUjCwB,EAAWC,EAAE,QAAQC,KAAK,QAAU,eAEpCxB,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YA8BpF,MAnCAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,SACLlB,MAAO,WACL,GAAIgD,GAAOvB,KAAKV,MAAMiC,MAAQ,IAC1BC,EAAMJ,CAUV,OANEI,IAFExB,KAAKV,MAAMP,MAAQiB,KAAKV,MAAMP,KAAK0C,GAE9BzB,KAAKV,MAAMP,KAAK2C,YAAc,IAAMH,EAAO,IAAMvB,KAAKV,MAAMP,KAAK0C,GAAK,OAGtEF,EAAO,UAMlB9B,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cAAc,OAASiB,IAAK3B,KAAK4B,SACtDjB,UAAWX,KAAKV,MAAMqB,WAAa,cACnCkB,MAAOrB,QAAQ,qBAKdV,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfoB,MAAQ,UAAUY,GAAG,SAASpF,EAAQU,EAAOJ,GAChD,YAgBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GApBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIwD,GAAUrF,EAAQ,UAElBsF,EAAW3E,EAAuB0E,GAElCnC,EAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAUjCE,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YAuEpF,MA5EAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,mBACLlB,MAAO,WAEL,MAAIyB,MAAKV,MAAM2C,QAAQC,KACdrC,EAAAA,WAAgBa,cAAc,OAASC,UAAW,OACvDwB,yBAA2BC,OAAQpC,KAAKV,MAAM2C,QAAQC,QAEjDrC,EAAAA,WAAgBa,cACrB,KACEC,UAAW,QACbX,KAAKV,MAAM2C,QAAQI,UAMzB5C,IAAK,uBACLlB,MAAO,WACL,MAAIyB,MAAKV,MAAMgD,QACTtC,KAAKV,MAAMgD,QAAQC,SAAS,EAAGP,EAAAA,eAC1BzB,YAAYC,QAAQ,qCAAuCgC,WAAcxC,KAAKV,MAAMgD,QAAQG,YAAa,GAEzGjC,QAAQ,yBAGVA,QAAQ,6BAInBf,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,qCACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,aACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,kBAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbX,KAAK0C,mBACL7C,EAAAA,WAAgBa,cACd,KACEC,UAAW,oBACbX,KAAK2C,gCAUZ7C,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEf8C,OAAS,SAAS1B,MAAQ,UAAU2B,GAAG,SAASnG,EAAQU,EAAOJ,GAClE,YAgBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GApBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCkD,EAAUpG,EAAQ,YAElBqG,EAAW1F,EAAuByF,GAYlCE,EAAS,SAAWjD,GAGtB,QAASiD,KAGP,MAFAvF,GAAgBuC,KAAMgD,GAEfnF,EAA2BmC,KAAM5B,OAAO6B,eAAe+C,GAAQ9C,MAAMF,KAAMG,YA4BpF,MAjCAnC,GAAUgF,EAAQjD,GAQlBZ,EAAa6D,IACXvD,IAAK,SACLlB,MAAO,WACL,GAAIoC,GAAY,OAASX,KAAKV,MAAMqB,UAChCsC,EAAWjD,KAAKV,MAAM2D,QAQ1B,OANIjD,MAAKV,MAAM4D,UACbvC,GAAa,eACbsC,GAAW,GAINpD,EAAAA,WAAgBa,cACrB,UACEI,KAAMd,KAAKV,MAAMyB,QAAU,SAAW,SACtCJ,UAAWA,EACXsC,SAAUA,EACVlC,QAASf,KAAKV,MAAMyB,SACtBf,KAAKV,MAAM6D,SACXnD,KAAKV,MAAM4D,QAAUrD,EAAAA,WAAgBa,cAAcqC,EAAAA,WAAkB,MAAQ,UAM5EC,GACNnD,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkBgG,EAElBA,EAAOI,cACLzC,UAAW,cAEXG,KAAM,SAENoC,SAAS,EACTD,UAAU,EAEVlC,QAAS,QAGRsC,WAAW,EAAEnC,MAAQ,UAAUoC,GAAG,SAAS5G,EAAQU,EAAOJ,GAC7D,YAgCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GApCje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2D,EAAU7G,EAAQ,aAElB8G,EAAWnG,EAAuBkG,GAElCE,EAAU/G,EAAQ,aAElBgH,EAAWrG,EAAuBoG,GAElCX,EAAUpG,EAAQ,aAElBqG,EAAW1F,EAAuByF,GAElCa,EAAQjH,EAAQ,uBAEhBkH,EAASvG,EAAuBsG,GAEhCE,EAAYnH,EAAQ,2BAEpBoH,EAAazG,EAAuBwG,GAYpC/D,EAAS,SAAWC,GAGtB,QAASD,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIiE,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GAatF,OAXAyE,GAAMC,YAAc,WAClBD,EAAME,QAAQ,aAGhBF,EAAMG,aAAe,WACnBH,EAAME,QAAQ,cAGhBF,EAAMjF,OACJqF,WAAa,GAERJ,EAmHT,MArIA/F,GAAU8B,EAAQC,GAqBlBZ,EAAaW,IACXL,IAAK,UACLlB,MAAO,SAAiB6F,GACtB,GAAIC,GAASrE,IAEb,OAAIA,MAAKlB,MAAMqF,WACN,GAGTnE,KAAKsE,UACHH,WAAa,QAGfP,GAAAA,WAAeW,KAAKvE,KAAKV,MAAMP,KAAKyF,gBAClCC,OAAQL,IACPM,KAAK,SAAUC,GAChBb,EAAAA,WAAmBc,QAAQD,EAASE,QACpCR,EAAO/E,MAAMwF,aAAaH,EAASjD,YAAaiD,EAASI,SAEzDV,EAAOC,UACLH,WAAa,KAEd,SAAUa,GACc,MAArBA,EAAUC,OACZnB,EAAAA,WAAmBoB,MAAMF,EAAUH,QAEnCf,EAAAA,WAAmBqB,UAAUH,GAG/BX,EAAOC,UACLH,WAAa,UAQnB1E,IAAK,oBAILlB,MAAO,WACL,MAAIyB,MAAKV,MAAMyF,QAAQK,SAEdvF,EAAAA,WAAgBa,cACrBgD,EAAAA,YACE3C,QAASf,KAAKgE,YACdf,SAAUjD,KAAKlB,MAAMqF,UACrBxD,UAAW,yBACbH,QAAQ,yBAID,QAIbf,IAAK,mBACLlB,MAAO,WACL,MAAIyB,MAAKlB,MAAMqF,UAENtE,EAAAA,WAAgBa,cACrB,OACEC,UAAW,kCACbd,EAAAA,WAAgBa,cAAc8C,EAAAA,YAAoBzE,KAAMiB,KAAKV,MAAMP,KAAMwC,KAAM,QAC/E1B,EAAAA,WAAgBa,cAAcqC,EAAAA,WAAkB,OAKzClD,EAAAA,WAAgBa,cACrB,OACEC,UAAW,kBACbd,EAAAA,WAAgBa,cAAc8C,EAAAA,YAAoBzE,KAAMiB,KAAKV,MAAMP,KAAMwC,KAAM,YAMvF9B,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,iCACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,OACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,YACbX,KAAKqF,oBAEPxF,EAAAA,WAAgBa,cACd,OACEC,UAAW,YACbX,KAAKsF,oBACLzF,EAAAA,WAAgBa,cACdgD,EAAAA,YACE3C,QAASf,KAAKkE,aACdjB,SAAUjD,KAAKlB,MAAMqF,UACrBxD,UAAW,yBACbH,QAAQ,yCASbV,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfyF,sBAAsB,GAAGC,0BAA0B,GAAGC,YAAY,EAAEC,YAAY,EAAEC,YAAY,EAAEzE,MAAQ,UAAU0E,GAAG,SAASlJ,EAAQU,EAAOJ,GAChJ,YAoCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAyLje,QAASW,GAAOC,GACd,OACEC,KAAQD,EAAME,KAAKD,MAnOvB,GAAII,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ6I,kBAAoBC,OAC5B9I,EAAQ6B,OAASA,CAEjB,IAAIe,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCmG,EAASrJ,EAAQ,WAEjBsJ,EAAU3I,EAAuB0I,GAEjCE,EAAevJ,EAAQ,mBAEvBwJ,EAAgB7I,EAAuB4I,GAEvCE,EAAUzJ,EAAQ,eAElB0J,EAAU/I,EAAuB8I,GAEjCE,EAAS3J,EAAQ,wBAEjBiH,EAAQjH,EAAQ,uBAEhBkH,EAASvG,EAAuBsG,GAEhC2C,EAAS5J,EAAQ,wBAEjB6J,EAAUlJ,EAAuBiJ,GAcjCT,EAAoB7I,EAAQ6I,kBAAoB,SAAW9F,GAG7D,QAAS8F,KAGP,MAFApI,GAAgBuC,KAAM6F,GAEfhI,EAA2BmC,KAAM5B,OAAO6B,eAAe4F,GAAmB3F,MAAMF,KAAMG,YA6C/F,MAlDAnC,GAAU6H,EAAmB9F,GAQ7BZ,EAAa0G,IACXpG,IAAK,iBACLlB,MAAO,WACL,MAAIyB,MAAKV,MAAMkH,OAEN3G,EAAAA,WAAgBa,cAAc,KAAOyB,yBAA2BC,OAAQpC,KAAKV,MAAMkH,UAGjF,QAIb/G,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,0BAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,KACEC,UAAW,QACbX,KAAKV,MAAM2C,SAEbjC,KAAKyG,uBAONZ,GACNhG,EAAAA,WAAgBoB,WAEfnB,EAAS,SAAW4G,GAGtB,QAAS5G,KACP,GAAI6G,GAEAC,EAAOvC,EAAQwC,CAEnBpJ,GAAgBuC,KAAMF,EAEtB,KAAK,GAAIgH,GAAO3G,UAAUjD,OAAQ6J,EAAOC,MAAMF,GAAOG,EAAO,EAAUH,EAAPG,EAAaA,IAC3EF,EAAKE,GAAQ9G,UAAU8G,EAGzB,OAAeL,GAASvC,EAASxG,EAA2BmC,MAAO2G,EAAwBvI,OAAO6B,eAAeH,IAAS7C,KAAKiD,MAAMyG,GAAwB3G,MAAMkH,OAAOH,KAAkB1C,EAAOc,UAAY,SAAUD,GACvNb,EAAOC,UACLY,MAAOA,KAERb,EAAOS,aAAe,SAAUqC,EAAYpC,GAC7CwB,EAAAA,WAAgBa,UAAU,EAAGf,EAAOvB,cAAcT,EAAO/E,MAAMP,KAAMoI,IAErE9C,EAAOC,UACL+C,UAAarB,EAAAA,WACbjB,QAASA,KAEVV,EAAOiD,UAAY,WACpBjD,EAAOC,UACL+C,UAAarB,EAAAA,cAbVa,EAeJD,EAAQ/I,EAA2BwG,EAAQwC,GA4FhD,MAxHA7I,GAAU8B,EAAQ4G,GA+BlBvH,EAAaW,IACXL,IAAK,oBACLlB,MAAO,WACL,GAAIgJ,GAASvH,IAEbwH,SAAQC,KAAK7D,EAAAA,WAAe8D,IAAItB,EAAAA,WAAgBsB,IAAI,QAAQlD,kBAAkBE,KAAK,SAAUiD,GAC3FJ,EAAOjD,UACL+C,UAAarB,EAAAA,WACbjB,QAAW4C,EAAY,MAExB,SAAU3C,GACXuC,EAAOpC,UAAUH,QAOrBvF,IAAK,UAILlB,MAAO,WACL,MAAIyB,MAAKlB,MACHkB,KAAKlB,MAAMoG,MAENrF,EAAAA,WAAgBa,cAAcmF,GAAqB5D,QAASjC,KAAKlB,MAAMoG,MAAML,OAClF2B,OAAQxG,KAAKlB,MAAMoG,MAAMsB,SAIlB3G,EAAAA,WAAgBa,cAAcV,KAAKlB,MAAMuI,WAAatC,QAAS/E,KAAKlB,MAAMiG,QAC/EhG,KAAMiB,KAAKV,MAAMP,KACjB+F,aAAc9E,KAAK8E,aACnBwC,UAAWtH,KAAKsH,YAKbzH,EAAAA,WAAgBa,cAAcwF,EAAAA,WAAuB,SAKlEzG,IAAK,eACLlB,MAAO,WACL,MAAIyB,MAAKlB,OAASkB,KAAKlB,MAAMoG,MACpB,iDAEA,sCAIXzF,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAWX,KAAKY,eAChBgH,KAAM,YACR/H,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,QAASkH,eAAgB,QACpDC,aAActH,QAAQ,UACxBX,EAAAA,WAAgBa,cACd,QACEqH,cAAe,QACjB,MAGJlI,EAAAA,WAAgBa,cACd,MACEC,UAAW,eACbH,QAAQ,wBAGZR,KAAKgI,gBAONlI,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAOfmI,cAAc,GAAGC,uBAAuB,GAAG3C,sBAAsB,GAAG4C,uBAAuB,GAAGC,kBAAkB,GAAGC,UAAU,EAAEnH,MAAQ,UAAUoH,GAAG,SAAS5L,EAAQU,EAAOJ,GAC/K,YAYA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAhBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAUjCE,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YAwHpF,MA7HAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,cACLlB,MAAO,WACL,MAAwC,mBAA1ByB,MAAKV,MAAMiJ,cAG3B9I,IAAK,eACLlB,MAAO,WACL,GAAIoC,GAAY,YAShB,OARIX,MAAKwI,gBACP7H,GAAa,gBAEXA,GAD4B,OAA1BX,KAAKV,MAAMiJ,WACA,eAEA,cAGV5H,KAGTlB,IAAK,cACLlB,MAAO,WACL,GAAI8F,GAASrE,IAEb,OAAIA,MAAKV,MAAMiJ,WAEN1I,EAAAA,WAAgBa,cACrB,OACEC,UAAW,qBACbX,KAAKV,MAAMiJ,WAAWE,IAAI,SAAUvD,EAAOvI,GACzC,MAAOkD,GAAAA,WAAgBa,cACrB,KACEjB,IAAK4E,EAAO/E,MAAP+E,OAAmB,eAAiB1H,GAC3CuI,MAMG,QAIbzF,IAAK,kBACLlB,MAAO,WACL,MAAIyB,MAAKwI,cAEA3I,EAAAA,WAAgBa,cACrB,QACEC,UAAW,sCACXoH,cAAe,OAAQtI,IAAKO,KAAKV,MAALU,OAAiB,gBAC/CA,KAAKV,MAAMiJ,WAAa,QAAU,SAI3B,QAIb9I,IAAK,yBACLlB,MAAO,WACL,MAAIyB,MAAKwI,cAEA3I,EAAAA,WAAgBa,cACrB,QACEe,GAAIzB,KAAKV,MAALU,OAAiB,UAAWW,UAAW,WAC7CX,KAAKV,MAAMiJ,WAAa/H,QAAQ,WAAaA,QAAQ,cAI9C,QAIbf,IAAK,cACLlB,MAAO,WACL,MAAIyB,MAAKV,MAAMoJ,SAEN7I,EAAAA,WAAgBa,cACrB,KACEC,UAAW,cACbX,KAAKV,MAAMoJ,UAIJ,QAIbjJ,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAWX,KAAKY,gBAClBf,EAAAA,WAAgBa,cACd,SACEC,UAAW,kBAAoBX,KAAKV,MAAMqJ,YAAc,IACxDC,QAAS5I,KAAKV,MAALU,QAAkB,IAC7BA,KAAKV,MAAMuJ,MACX,KAEFhJ,EAAAA,WAAgBa,cACd,OACEC,UAAWX,KAAKV,MAAMwJ,cAAgB,IACxC9I,KAAKV,MAAM6D,SACXnD,KAAK+I,kBACL/I,KAAKgJ,yBACLhJ,KAAKiJ,cACLjJ,KAAKkJ,cACLlJ,KAAKV,MAAM6J,OAAS,WAOrBrJ,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfoB,MAAQ,UAAUkI,GAAG,SAAS1M,EAAQU,EAAOJ,GAChD,YAcA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAlBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCyJ,EAAc3M,EAAQ,uBAUtB4M,GAAoB,EAAGD,EAAYE,YAEnCzJ,EAAS,SAAWC,GAGtB,QAASD,KACP,GAAI6G,GAEAC,EAAO7C,EAAO8C,CAElBpJ,GAAgBuC,KAAMF,EAEtB,KAAK,GAAIgH,GAAO3G,UAAUjD,OAAQ6J,EAAOC,MAAMF,GAAOG,EAAO,EAAUH,EAAPG,EAAaA,IAC3EF,EAAKE,GAAQ9G,UAAU8G,EAGzB,OAAeL,GAAS7C,EAAQlG,EAA2BmC,MAAO2G,EAAwBvI,OAAO6B,eAAeH,IAAS7C,KAAKiD,MAAMyG,GAAwB3G,MAAMkH,OAAOH,KAAiBhD,EAAMyF,UAAY,SAAUC,GACpN,MAAO,UAAUC,GACf,GAAIC,KACJA,GAASF,GAAQC,EAAMrK,OAAOd,KAE9B,IAAIqL,GAAa7F,EAAMjF,MAAM+K,UAC7BD,GAAWH,GAAQ1F,EAAM+F,cAAcL,EAAME,EAASF,IACtDE,EAASE,OAASD,EAElB7F,EAAMO,SAASqF,KAEhB5F,EAAMgG,aAAe,SAAUL,GAGhC,GADAA,EAAMM,kBACFjG,EAAMjF,MAAMqF,WAIZJ,EAAMkG,QAAS,CACjBlG,EAAMO,UAAWH,WAAa,GAC9B,IAAI+F,GAAUnG,EAAMoG,MAEhBD,GACFA,EAAQxF,KAAK,SAAUE,GACrBb,EAAMO,UAAWH,WAAa,IAC9BJ,EAAMqG,cAAcxF,IACnB,SAAUI,GACXjB,EAAMO,UAAWH,WAAa,IAC9BJ,EAAMsG,YAAYrF,KAGpBjB,EAAMO,UAAWH,WAAa,MA/B7B0C,EAkCJD,EAAQ/I,EAA2BkG,EAAO8C,GA0H/C,MAzKA7I,GAAU8B,EAAQC,GAkDlBZ,EAAaW,IACXL,IAAK,WACLlB,MAAO,WACL,GAAIsL,MAEAS,GACFf,SAAUvJ,KAAKlB,MAAMwL,WAAWf,UAAYvJ,KAAKlB,MAAMwL,WACvDC,SAAUvK,KAAKlB,MAAMwL,WAAWC,cAG9BC,IAGJ,KAAK,GAAIf,KAAQa,GAAWf,SACtBe,EAAWf,SAASkB,eAAehB,IAASa,EAAWf,SAASE,IAClEe,EAAgBE,KAAKjB,EAKzB,KAAK,GAAIA,KAAQa,GAAWC,SACtBD,EAAWC,SAASE,eAAehB,IAASa,EAAWC,SAASd,IAClEe,EAAgBE,KAAKjB,EAKzB,KAAK,GAAI9M,KAAK6N,GAAiB,CAC7B,GAAIf,GAAOe,EAAgB7N,GACvBgO,EAAc3K,KAAK8J,cAAcL,EAAMzJ,KAAKlB,MAAM2K,GAElC,QAAhBkB,EACFd,EAAOJ,GAAQ,KACNkB,IACTd,EAAOJ,GAAQkB,GAInB,MAAOd,MAGTpK,IAAK,UACLlB,MAAO,WACL,GAAIsL,GAAS7J,KAAK4K,UAClB,KAAK,GAAIC,KAAShB,GAChB,GAAIA,EAAOY,eAAeI,IACF,OAAlBhB,EAAOgB,GACT,OAAO,CAKb,QAAO,KAGTpL,IAAK,gBACLlB,MAAO,SAAuBkL,EAAMlL,GAClC,GAAIsL,MAEAS,GACFf,UAAWvJ,KAAKlB,MAAMwL,WAAWf,UAAYvJ,KAAKlB,MAAMwL,YAAYb,GACpEc,UAAWvK,KAAKlB,MAAMwL,WAAWC,cAAgBd,IAG/CqB,EAAgBxB,EAAiB/K,KAAU,CAE/C,IAAI+L,EAAWf,SAAU,CACvB,GAAIuB,EACFjB,GAAUiB,OAEV,KAAK,GAAInO,KAAK2N,GAAWf,SAAU,CACjC,GAAIwB,GAAkBT,EAAWf,SAAS5M,GAAG4B,EACzCwM,IACFlB,EAAOa,KAAKK,GAKlB,MAAOlB,GAAO3M,OAAS2M,EAAS,KAC3B,GAAIiB,KAAkB,GAASR,EAAWC,SAAU,CACzD,IAAK,GAAI5N,KAAK2N,GAAWC,SAAU,CACjC,GAAIQ,GAAkBT,EAAWC,SAAS5N,GAAG4B,EACzCwM,IACFlB,EAAOa,KAAKK,GAIhB,MAAOlB,GAAO3M,OAAS2M,EAAS,KAGlC,OAAO,KAMTpK,IAAK,QACLlB,MAAO,WACL,OAAO,KAGTkB,IAAK,OACLlB,MAAO,WACL,MAAO,SAGTkB,IAAK,gBACLlB,MAAO,SAAuBqG,OAI9BnF,IAAK,cAGLlB,MAAO,SAAqByG,QAKvBlF,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfkL,sBAAsB,GAAG9J,MAAQ,UAAU+J,GAAG,SAASvO,EAAQU,EAAOJ,GACzE,YAYA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAhBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAUjCE,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YAgBpF,MArBAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,UACbd,EAAAA,WAAgBa,cAAc,OAASC,UAAW,+BAMjDb,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfoB,MAAQ,UAAUgK,IAAI,SAASxO,EAAQU,EAAOJ,GACjD,YAgBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GApBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCkD,EAAUpG,EAAQ,YAElBqG,EAAW1F,EAAuByF,GAYlChD,EAAS,SAAWC,GAGtB,QAASD,KAGP,MAFArC,GAAgBuC,KAAMF,GAEfjC,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQI,MAAMF,KAAMG,YAgBpF,MArBAnC,GAAU8B,EAAQC,GAQlBZ,EAAaW,IACXL,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,2BACbd,EAAAA,WAAgBa,cAAcqC,EAAAA,WAAkB,WAM/CjD,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfuD,WAAW,EAAEnC,MAAQ,UAAUiK,IAAI,SAASzO,EAAQU,EAAOJ,GAC9D,YAiBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GArBje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQoO,OAASpO,EAAQqO,OAASvF,MAElC,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC0L,EAAU5O,EAAQ,sBAElB6O,EAAWlO,EAAuBiO,GAUlCD,EAASrO,EAAQqO,QAAU,sBAAuB,uBAAwB,uBAAwB,uBAAwB,wBAE1HD,EAASpO,EAAQoO,QAAU5K,QAAQ,kCAAmCA,QAAQ,6BAA8BA,QAAQ,gCAAiCA,QAAQ,+BAAgCA,QAAQ,qCAErMV,EAAS,SAAWC,GAGtB,QAASD,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIiE,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GAKtF,OAHAyE,GAAMyH,OAAS,EACfzH,EAAM0H,UAAY,KAClB1H,EAAM2H,WACC3H,EAuET,MAjFA/F,GAAU8B,EAAQC,GAalBZ,EAAaW,IACXL,IAAK,WACLlB,MAAO,SAAkBoN,EAAUC,GACjC,GAAIvH,GAASrE,KAET6L,GAAa,CAwBjB,OAtBIF,GAASG,SAAW9L,KAAKyL,YAC3BI,GAAa,GAGXD,EAAO1O,SAAW8C,KAAK0L,QAAQxO,OACjC2O,GAAa,EAEbD,EAAOnD,IAAI,SAAUlK,EAAO5B,GACtB4B,EAAMuN,SAAWzH,EAAOqH,QAAQ/O,KAClCkP,GAAa,KAKfA,IACF7L,KAAKwL,OAASD,EAAAA,WAAiBQ,cAAcJ,EAAUC,GACvD5L,KAAKyL,UAAYE,EAASG,OAC1B9L,KAAK0L,QAAUE,EAAOnD,IAAI,SAAUlK,GAClC,MAAOA,GAAMuN,UAIV9L,KAAKwL,UAGd/L,IAAK,SACLlB,MAAO,WAEL,GAAIyN,GAAQhM,KAAKiM,SAASjM,KAAKV,MAAMqM,SAAU3L,KAAKV,MAAMsM,OAE1D,OAAO/L,GAAAA,WAAgBa,cACrB,OACEC,UAAW,gCACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,YACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBAAkB0K,EAAOW,GACpCE,OAASC,MAAO,GAAK,GAAKH,EAAQ,KAClCpE,KAAM,eACNwE,gBAAiBJ,EACjBK,gBAAiB,IACjBC,gBAAiB,KACnBzM,EAAAA,WAAgBa,cACd,QACEC,UAAW,WACbyK,EAAOY,MAIbnM,EAAAA,WAAgBa,cACd,KACEC,UAAW,cACbyK,EAAOY,SAORlM,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfyM,qBAAqB,GAAGrL,MAAQ,UAAUsL,IAAI,SAAS9P,EAAQU,EAAOJ,GACzE,YAoCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAxCje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCkD,EAAUpG,EAAQ,YAElBqG,EAAW1F,EAAuByF,GAElC2J,EAAY/P,EAAQ,iBAEpBgQ,EAAarP,EAAuBoP,GAEpCE,EAAWjQ,EAAQ,uBAEnBkQ,EAAYvP,EAAuBsP,GAEnCE,EAASnQ,EAAQ,qBAEjBoQ,EAAUzP,EAAuBwP,GAEjChJ,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCyH,EAAU5O,EAAQ,sBAElB6O,EAAWlO,EAAuBiO,GAgBlCxL,EAAS,SAAWC,GAGtB,QAASD,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIiE,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GA6BtF,OA3BAyE,GAAMgJ,kBAAoB,WAC0B,WAA9CC,OAAOtF,IAAI,YAAYuF,mBACzBnJ,EAAAA,WAAmBoJ,KAAK1M,QAAQ,8CACvBuD,EAAMjF,MAAMqO,SACrBL,EAAAA,WAAgBM,KAAKV,EAAAA,aAErB3I,EAAMO,UACJH,WAAa,IAGfqD,QAAQC,KAAKmF,EAAAA,WAAkBS,OAAQ9B,EAAAA,WAAiB8B,SAAS3I,KAAK,WAC/DX,EAAMjF,MAAMqO,UACfpJ,EAAMO,UACJH,WAAa,EACbgJ,UAAY,IAIhBL,EAAAA,WAAgBM,KAAKV,EAAAA,gBAK3B3I,EAAMjF,OACJqF,WAAa,EACbgJ,UAAY,GAEPpJ,EA6BT,MA/DA/F,GAAU8B,EAAQC,GAuClBZ,EAAaW,IACXL,IAAK,eAILlB,MAAO,WACL,MAAOyB,MAAKV,MAAMqB,WAAaX,KAAKlB,MAAMqF,UAAY,eAAiB,OAGzE1E,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,UACEI,KAAM,SAAUC,QAASf,KAAK+M,kBAC9BpM,UAAW,OAASX,KAAKY,eACzBqC,SAAUjD,KAAKlB,MAAMqO,UACvB3M,QAAQ,YACRR,KAAKlB,MAAMqF,UAAYtE,EAAAA,WAAgBa,cAAcqC,EAAAA,WAAkB,MAAQ,UAM9EjD,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfwN,sBAAsB,GAAGC,oBAAoB,GAAGC,uBAAuB,GAAGjB,qBAAqB,GAAGlJ,WAAW,EAAEoK,gBAAgB,GAAGvM,MAAQ,UAAUwM,IAAI,SAAShR,EAAQU,EAAOJ,GACnL,YA6DA,SAAS2Q,GAAwBrQ,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIsQ,KAAa,IAAW,MAAPtQ,EAAe,IAAK,GAAImC,KAAOnC,GAAWc,OAAOD,UAAUsM,eAAexN,KAAKK,EAAKmC,KAAMmO,EAAOnO,GAAOnC,EAAImC,GAAgC,OAAtBmO,GAAAA,WAAiBtQ,EAAYsQ,EAElQ,QAASvQ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAnEje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ6Q,iBAAmB7Q,EAAQ8Q,aAAehI,MAElD,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC6D,EAAU/G,EAAQ,YAElBgH,EAAWrG,EAAuBoG,GAElCsK,EAAQrR,EAAQ,UAEhBsR,EAAS3Q,EAAuB0Q,GAEhCE,EAAavR,EAAQ,gBAErBwR,EAAc7Q,EAAuB4Q,GAErCE,EAAoBzR,EAAQ,uBAE5B0R,EAAqB/Q,EAAuB8Q,GAE5CpI,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCpC,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhC0K,EAAQ3R,EAAQ,oBAEhB4R,EAASjR,EAAuBgR,GAEhC1B,EAAWjQ,EAAQ,uBAEnBkQ,EAAYvP,EAAuBsP,GAEnCE,EAASnQ,EAAQ,qBAEjBoQ,EAAUzP,EAAuBwP,GAEjChJ,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpC0K,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,GAEtClF,EAAc3M,EAAQ,uBAEtB4N,EAAaqD,EAAwBtE,GAerCyE,EAAe9Q,EAAQ8Q,aAAe,SAAWW,GAGnD,QAASX,GAAaxO,GACpB7B,EAAgBuC,KAAM8N,EAEtB,IAAI/J,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAe6N,GAAc7Q,KAAK+C,KAAMV,GAmB5F,OAjBAyE,GAAMjF,OACJqF,WAAa,EAEb1D,SAAY,GACZiO,MAAS,GACT/C,SAAY,GACZgD,QAAW,GAEXrE,YACE7J,UAAa6J,EAAWsE,kBAAmBtE,EAAWuE,kBAAkB7I,EAAAA,WAAgB0B,IAAI,aAAc4C,EAAWwE,kBAAkB9I,EAAAA,WAAgB0B,IAAI,cAC3JgH,OAAUpE,EAAWoE,SACrB/C,UAAarB,EAAWyE,kBAAkB/I,EAAAA,WAAgB0B,IAAI,cAC9DiH,QAAW/B,EAAAA,WAAkBoC,aAG/BnF,WAEK9F,EA6JT,MArLA/F,GAAU8P,EAAcW,GA2BxBtP,EAAa2O,IACXrO,IAAK,QACLlB,MAAO,WACL,MAAIyB,MAAKiP,WACA,GAEPnL,EAAAA,WAAmBoB,MAAM1E,QAAQ,0BACjCR,KAAKsE,UACHuF,OAAU7J,KAAK4K,cAEV,MAIXnL,IAAK,OACLlB,MAAO,WACL,MAAOqF,GAAAA,WAAeW,KAAKyB,EAAAA,WAAgB0B,IAAI,cAC7CjH,SAAYT,KAAKlB,MAAM2B,SACvBiO,MAAS1O,KAAKlB,MAAM4P,MACpB/C,SAAY3L,KAAKlB,MAAM6M,SACvBgD,QAAW3O,KAAKlB,MAAM6P,aAI1BlP,IAAK,gBACLlB,MAAO,SAAuB2Q,GAC5BlP,KAAKV,MAAM6P,SAASD,MAGtBzP,IAAK,cACLlB,MAAO,SAAqByG,GACD,MAArBA,EAAUC,QACZjF,KAAKsE,UACHuF,OAAUzL,OAAOgR,UAAWpP,KAAKlB,MAAM+K,OAAQ7E,KAEjDlB,EAAAA,WAAmBoB,MAAM1E,QAAQ,2BACH,MAArBwE,EAAUC,QAAkBD,EAAUqK,MAC9C,EAAGb,EAAAA,YAAsBxJ,EAAUqK,KACpCvC,EAAAA,WAAgBwC,QAEhBxL,EAAAA,WAAmByL,SAASvK,MAIhCvF,IAAK,mBACLlB,MAAO,WACL,MAAIyH,GAAAA,WAAgB0B,IAAI,wBAEf7H,EAAAA,WAAgBa,cACrB,KACE8O,KAAMxJ,EAAAA,WAAgB0B,IAAI,wBAC1BrI,OAAQ,UACVmB,QAAQ,6DAID,QAIbf,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,8BAA+BiH,KAAM,YAClD/H,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,QAASkH,eAAgB,QACpDC,aAActH,QAAQ,UACxBX,EAAAA,WAAgBa,cACd,QACEqH,cAAe,QACjB,MAGJlI,EAAAA,WAAgBa,cACd,MACEC,UAAW,eACbH,QAAQ,cAGZX,EAAAA,WAAgBa,cACd,QACE+O,SAAUzP,KAAK+J,aAAcpJ,UAAW,mBAC1Cd,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQoL,OAASwD,QAAS,UACzE7P,EAAAA,WAAgBa,cAAc;AAAWI,KAAM,WAAYoL,OAASwD,QAAS,UAC7E7P,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACdwN,EAAAA,YACErF,MAAOrI,QAAQ,YAAamP,MAAO,cACnChH,WAAY,WAAYG,aAAc,WACtCP,WAAYvI,KAAKlB,MAAM+K,OAAOpJ,UAChCZ,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQW,GAAI,cAAed,UAAW,eACnFiP,mBAAoB,qBACpB3M,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,YACzBjL,MAAOyB,KAAKlB,MAAM2B,YAEtBZ,EAAAA,WAAgBa,cACdwN,EAAAA,YACErF,MAAOrI,QAAQ,UAAWmP,MAAO,WACjChH,WAAY,WAAYG,aAAc,WACtCP,WAAYvI,KAAKlB,MAAM+K,OAAO6E,OAChC7O,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQW,GAAI,WAAYd,UAAW,eAChFiP,mBAAoB,kBACpB3M,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,SACzBjL,MAAOyB,KAAKlB,MAAM4P,SAEtB7O,EAAAA,WAAgBa,cACdwN,EAAAA,YACErF,MAAOrI,QAAQ,YAAamP,MAAO,cACnChH,WAAY,WAAYG,aAAc,WACtCP,WAAYvI,KAAKlB,MAAM+K,OAAO8B,SAC9BxC,MAAOtJ,EAAAA,WAAgBa,cAAc0N,EAAAA,YAA8BzC,SAAU3L,KAAKlB,MAAM6M,SACtFC,QAAS5L,KAAKlB,MAAM2B,SAAUT,KAAKlB,MAAM4P,UAC7C7O,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,WAAYW,GAAI,cAAed,UAAW,eACvFiP,mBAAoB,qBACpB3M,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,YACzBjL,MAAOyB,KAAKlB,MAAM6M,YAEtBiB,EAAAA,WAAkBvF,WAChByI,KAAM9P,KACN2I,WAAY,WACZG,aAAc,cAGlBjJ,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbX,KAAK+P,mBACLlQ,EAAAA,WAAgBa,cACdgD,EAAAA,YACE/C,UAAW,cAAeuC,QAASlD,KAAKlB,MAAMqF,WAChD3D,QAAQ,6BAUfsN,GACNE,EAAAA,YAECH,EAAmB7Q,EAAQ6Q,iBAAmB,SAAW9N,GAG3D,QAAS8N,KAGP,MAFApQ,GAAgBuC,KAAM6N,GAEfhQ,EAA2BmC,KAAM5B,OAAO6B,eAAe4N,GAAkB3N,MAAMF,KAAMG,YAoF9F,MAzFAnC,GAAU6P,EAAkB9N,GAQ5BZ,EAAa0O,IACXpO,IAAK,UACLlB,MAAO,WACL,MAA8B,SAA1ByB,KAAKV,MAAM0Q,WACNxP,QAAQ,+GACoB,UAA1BR,KAAKV,MAAM0Q,WACbxP,QAAQ,oIADV,UAKTf,IAAK,eACLlB,MAAO,WACL,MAA8B,SAA1ByB,KAAKV,MAAM0Q,WACNxP,QAAQ,kGACoB,UAA1BR,KAAKV,MAAM0Q,WACbxP,QAAQ,8DADV,UAKTf,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,4CACXiH,KAAM,YACR/H,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,QAASkH,eAAgB,QACpDC,aAActH,QAAQ,UACxBX,EAAAA,WAAgBa,cACd,QACEqH,cAAe,QACjB,MAGJlI,EAAAA,WAAgBa,cACd,MACEC,UAAW,eACbH,QAAQ,2BAGZX,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,iBAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,KACEC,UAAW,QACbJ,YAAYP,KAAKiQ,WAAaxP,SAAYT,KAAKV,MAAMmB,WAAY,IAEnEZ,EAAAA,WAAgBa,cACd,IACA,KACAH,YAAYP,KAAKkQ,gBAAkBxB,MAAS1O,KAAKV,MAAMoP,QAAS,YAUvEb,GACNhO,EAAAA,WAAgBoB,WAEfnB,EAAS,SAAW4G,GAGtB,QAAS5G,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIyH,GAAS1J,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GAgBvF,OAdAiI,GAAO4I,qBAAuB,SAAUjB,GACP,WAA3BA,EAAYc,YACdlD,EAAAA,WAAgBwC,OAChBhB,EAAAA,WAAe8B,OAAOlB,IAEtB3H,EAAOjD,UACL+L,SAAYnB,KAKlB3H,EAAOzI,OACLuR,UAAY,GAEP9I,EAuBT,MA5CAvJ,GAAU8B,EAAQ4G,GA0BlBvH,EAAaW,IACXL,IAAK,SAILlB,MAAO,WAEL,MAAIyB,MAAKlB,MAAMuR,SACNxQ,EAAAA,WAAgBa,cAAcmN,GAAoBmC,WAAYhQ,KAAKlB,MAAMuR,SAASL,WACvFvP,SAAUT,KAAKlB,MAAMuR,SAAS5P,SAC9BiO,MAAO1O,KAAKlB,MAAMuR,SAAS3B,QAEtB7O,EAAAA,WAAgBa,cAAcoN,GAAgBqB,SAAUnP,KAAKmQ,2BAMnErQ,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfwQ,WAAW,GAAGC,mBAAmB,GAAGC,mBAAmB,GAAGlD,sBAAsB,GAAGC,oBAAoB,GAAGC,uBAAuB,GAAGiD,uBAAuB,GAAGzF,sBAAsB,GAAG0F,WAAW,EAAEC,SAAS,EAAEC,eAAe,EAAEC,sBAAsB,GAAG3P,MAAQ,UAAU4P,IAAI,SAASpU,EAAQU,EAAOJ,GAC1S,YAyCA,SAAS2Q,GAAwBrQ,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIsQ,KAAa,IAAW,MAAPtQ,EAAe,IAAK,GAAImC,KAAOnC,GAAWc,OAAOD,UAAUsM,eAAexN,KAAKK,EAAKmC,KAAMmO,EAAOnO,GAAOnC,EAAImC,GAAgC,OAAtBmO,GAAAA,WAAiBtQ,EAAYsQ,EAElQ,QAASvQ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA/Cje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ+T,SAAW/T,EAAQgU,gBAAkBlL,MAE7C,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCmG,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCtC,EAAU/G,EAAQ,YAElBgH,EAAWrG,EAAuBoG,GAElCsK,EAAQrR,EAAQ,UAEhBsR,EAAS3Q,EAAuB0Q,GAEhCpK,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhCE,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCwF,EAAc3M,EAAQ,uBAEtB4N,EAAaqD,EAAwBtE,GAErCkF,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,GAatCyC,EAAkBhU,EAAQgU,gBAAkB,SAAWvC,GAGzD,QAASuC,GAAgB1R,GACvB7B,EAAgBuC,KAAMgR,EAEtB,IAAIjN,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAe+Q,GAAiB/T,KAAK+C,KAAMV,GAW/F,OATAyE,GAAMjF,OACJqF,WAAa,EAEbuK,MAAS,GAETpE,YACEoE,OAAUpE,EAAWoE,WAGlB3K,EAuET,MAvFA/F,GAAUgT,EAAiBvC,GAmB3BtP,EAAa6R,IACXvR,IAAK,QACLlB,MAAO,WACL,MAAIyB,MAAKiP,WACA,GAEPnL,EAAAA,WAAmBoB,MAAM1E,QAAQ,kCAC1B,MAIXf,IAAK,OACLlB,MAAO,WACL,MAAOqF,GAAAA,WAAeW,KAAKyB,EAAAA,WAAgB0B,IAAI,wBAC7CgH,MAAS1O,KAAKlB,MAAM4P,WAIxBjP,IAAK,gBACLlB,MAAO,SAAuB2Q,GAC5BlP,KAAKV,MAAM6P,SAASD,MAGtBzP,IAAK,cACLlB,MAAO,SAAqByG,IACrB,iBAAkB,kBAAkBiM,QAAQjM,EAAUlI,MAAQ,GACjEgH,EAAAA,WAAmBoJ,KAAKlI,EAAUH,QACJ,MAArBG,EAAUC,QAAkBD,EAAUqK,KAC9C,EAAGb,EAAAA,YAAsBxJ,EAAUqK,KAEpCvL,EAAAA,WAAmByL,SAASvK,MAIhCvF,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,oDACbd,EAAAA,WAAgBa,cACd,QACE+O,SAAUzP,KAAK+J,cACjBlK,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQH,UAAW,eAChEuQ,YAAa1Q,QAAQ,uBACrByC,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,SACzBjL,MAAOyB,KAAKlB,MAAM4P,UAGxB7O,EAAAA,WAAgBa,cACdgD,EAAAA,YACE/C,UAAW,wBACXuC,QAASlD,KAAKlB,MAAMqF,WACtB3D,QAAQ,oBAQXwQ,GACNhD,EAAAA,YAEC+C,EAAW/T,EAAQ+T,SAAW,SAAWhR,GAG3C,QAASgR,KAGP,MAFAtT,GAAgBuC,KAAM+Q,GAEflT,EAA2BmC,KAAM5B,OAAO6B,eAAe8Q,GAAU7Q,MAAMF,KAAMG,YAkDtF,MAvDAnC,GAAU+S,EAAUhR,GAQpBZ,EAAa4R,IACXtR,IAAK,aACLlB,MAAO,WACL,MAAOgC,aAAYC,QAAQ,0CACzBkO,MAAO1O,KAAKV,MAAMP,KAAK2P,QACtB,MAGLjP,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,8DACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,UAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,IACA,KACAV,KAAKa,eAGThB,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,4BAC3BI,QAASf,KAAKV,MAAM6P,UACtB3O,QAAQ,+BAQXuQ,GACNlR,EAAAA,WAAgBoB,WAEfnB,EAAS,SAAW4G,GAGtB,QAAS5G,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIyH,GAAS1J,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GAiBvF,OAfAiI,GAAO8I,SAAW,SAAUnB,GAC1B3H,EAAOjD,UACL+L,SAAUnB,KAId3H,EAAO4J,MAAQ,WACb5J,EAAOjD,UACL+L,UAAU,KAId9I,EAAOzI,OACLuR,UAAU,GAEL9I,EAqBT,MA3CAvJ,GAAU8B,EAAQ4G,GA2BlBvH,EAAaW,IACXL,IAAK,SAILlB,MAAO,WAEL,MAAIyB,MAAKlB,MAAMuR,SACNxQ,EAAAA,WAAgBa,cAAcqQ,GAAYhS,KAAMiB,KAAKlB,MAAMuR,SAAUlB,SAAUnP,KAAKmR,QAEpFtR,EAAAA,WAAgBa,cAAcsQ,GAAmB7B,SAAUnP,KAAKqQ,eAMtEvQ,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfwQ,WAAW,GAAGC,mBAAmB,GAAG/C,uBAAuB,GAAGiD,uBAAuB,GAAGzF,sBAAsB,GAAG0F,WAAW,EAAEC,SAAS,EAAEzP,MAAQ,UAAUkQ,IAAI,SAAS1U,EAAQU,EAAOJ,GAC1L,YA6CA,SAAS2Q,GAAwBrQ,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIsQ,KAAa,IAAW,MAAPtQ,EAAe,IAAK,GAAImC,KAAOnC,GAAWc,OAAOD,UAAUsM,eAAexN,KAAKK,EAAKmC,KAAMmO,EAAOnO,GAAOnC,EAAImC,GAAgC,OAAtBmO,GAAAA,WAAiBtQ,EAAYsQ,EAElQ,QAASvQ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAnDje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQqU,oBAAsBrU,EAAQ+T,SAAW/T,EAAQsU,iBAAmBxL,MAE5E,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2R,EAAY7U,EAAQ,aAEpB8U,EAAanU,EAAuBkU,GAEpCxL,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCtC,EAAU/G,EAAQ,YAElBgH,EAAWrG,EAAuBoG,GAElCsK,EAAQrR,EAAQ,UAEhBsR,EAAS3Q,EAAuB0Q,GAEhCpK,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhCE,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCwF,EAAc3M,EAAQ,uBAEtB4N,EAAaqD,EAAwBtE,GAErCkF,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,GActC+C,EAAmBtU,EAAQsU,iBAAmB,SAAW7C,GAG3D,QAAS6C,GAAiBhS,GACxB7B,EAAgBuC,KAAMsR,EAEtB,IAAIvN,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAeqR,GAAkBrU,KAAK+C,KAAMV,GAWhG,OATAyE,GAAMjF,OACJqF,WAAa,EAEbuK,MAAS,GAETpE,YACEoE,OAAUpE,EAAWoE,WAGlB3K,EAuET,MAvFA/F,GAAUsT,EAAkB7C,GAmB5BtP,EAAamS,IACX7R,IAAK,QACLlB,MAAO,WACL,MAAIyB,MAAKiP,WACA,GAEPnL,EAAAA,WAAmBoB,MAAM1E,QAAQ,kCAC1B,MAIXf,IAAK,OACLlB,MAAO,WACL,MAAOqF,GAAAA,WAAeW,KAAKyB,EAAAA,WAAgB0B,IAAI,4BAC7CgH,MAAS1O,KAAKlB,MAAM4P,WAIxBjP,IAAK,gBACLlB,MAAO,SAAuB2Q,GAC5BlP,KAAKV,MAAM6P,SAASD,MAGtBzP,IAAK,cACLlB,MAAO,SAAqByG,IACrB,gBAAiB,kBAAkBiM,QAAQjM,EAAUlI,MAAQ,GAChEkD,KAAKV,MAAMmS,iBAAiBzM,GACE,MAArBA,EAAUC,QAAkBD,EAAUqK,KAC9C,EAAGb,EAAAA,YAAsBxJ,EAAUqK,KAEpCvL,EAAAA,WAAmByL,SAASvK,MAIhCvF,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,mDACbd,EAAAA,WAAgBa,cACd,QACE+O,SAAUzP,KAAK+J,cACjBlK,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQH,UAAW,eAChEuQ,YAAa1Q,QAAQ,uBACrByC,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,SACzBjL,MAAOyB,KAAKlB,MAAM4P,UAGxB7O,EAAAA,WAAgBa,cACdgD,EAAAA,YACE/C,UAAW,wBACXuC,QAASlD,KAAKlB,MAAMqF,WACtB3D,QAAQ,oBAQX8Q,GACNtD,EAAAA,YAEC+C,EAAW/T,EAAQ+T,SAAW,SAAWhR,GAG3C,QAASgR,KAGP,MAFAtT,GAAgBuC,KAAM+Q,GAEflT,EAA2BmC,KAAM5B,OAAO6B,eAAe8Q,GAAU7Q,MAAMF,KAAMG,YAkDtF,MAvDAnC,GAAU+S,EAAUhR,GAQpBZ,EAAa4R,IACXtR,IAAK,aACLlB,MAAO,WACL,MAAOgC,aAAYC,QAAQ,8CACzBkO,MAAO1O,KAAKV,MAAMP,KAAK2P,QACtB,MAGLjP,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,6DACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,UAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,IACA,KACAV,KAAKa,eAGThB,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,4BAC3BI,QAASf,KAAKV,MAAM6P,UACtB3O,QAAQ,+BAQXuQ,GACNlR,EAAAA,WAAgBoB,WAEfoQ,EAAsBrU,EAAQqU,oBAAsB,SAAW3K,GAGjE,QAAS2K,KAGP,MAFA5T,GAAgBuC,KAAMqR,GAEfxT,EAA2BmC,KAAM5B,OAAO6B,eAAeoR,GAAqBnR,MAAMF,KAAMG,YAkEjG,MAvEAnC,GAAUqT,EAAqB3K,GAQ/BvH,EAAakS,IACX5R,IAAK,oBACLlB,MAAO,WACL,MAA8B,kBAA1ByB,KAAKV,MAAM0Q,WAENnQ,EAAAA,WAAgBa,cACrB,IACA,KACAb,EAAAA,WAAgBa,cACd,KACE8O,KAAMxJ,EAAAA,WAAgB0B,IAAI,2BAC5BlH,QAAQ,4BAKH,QAIbf,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,wEACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,aACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,iBAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,KACEC,UAAW,QACbH,QAAQ,8BAEVX,EAAAA,WAAgBa,cACd,IACA,KACAV,KAAKV,MAAM2C,SAEbjC,KAAK0R,4BASVL,GACNxR,EAAAA,WAAgBoB,WAEfnB,EAAS,SAAW6R,GAGtB,QAAS7R,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAI8R,GAAS/T,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GAiBvF,OAfAsS,GAAOvB,SAAW,SAAUnB,GAC1B0C,EAAOtN,UACL+L,SAAUnB,KAId0C,EAAOT,MAAQ,WACbS,EAAOtN,UACL+L,UAAU,KAIduB,EAAO9S,OACLuR,UAAU,GAELuB,EA2BT,MAjDA5T,GAAU8B,EAAQ6R,GA2BlBxS,EAAaW,IACXL,IAAK,mBACLlB,MAAO,SAA0B2Q,GAC/BsC,EAAAA,WAAmBK,OAAOhS,EAAAA,WAAgBa,cAAc2Q,GAAuBrB,WAAYd,EAAYpS,KACrGmF,QAASiN,EAAYrK,SAAWiN,SAASC,eAAe,kBAK5DtS,IAAK,SACLlB,MAAO,WAEL,MAAIyB,MAAKlB,MAAMuR,SACNxQ,EAAAA,WAAgBa,cAAcqQ,GAAYhS,KAAMiB,KAAKlB,MAAMuR,SAAUlB,SAAUnP,KAAKmR,QAEpFtR,EAAAA,WAAgBa,cAAc4Q,GAAoBnC,SAAUnP,KAAKqQ,SACtEoB,iBAAkBzR,KAAKyR,uBAMxB3R,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfwQ,WAAW,GAAGC,mBAAmB,GAAG/C,uBAAuB,GAAGiD,uBAAuB,GAAGzF,sBAAsB,GAAG0F,WAAW,EAAEC,SAAS,EAAEzP,MAAQ,QAAQ8Q,YAAY,cAAcC,IAAI,SAASvV,EAAQU,EAAOJ,GAClN,YAyDA,SAAS2Q,GAAwBrQ,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIsQ,KAAa,IAAW,MAAPtQ,EAAe,IAAK,GAAImC,KAAOnC,GAAWc,OAAOD,UAAUsM,eAAexN,KAAKK,EAAKmC,KAAMmO,EAAOnO,GAAOnC,EAAImC,GAAgC,OAAtBmO,GAAAA,WAAiBtQ,EAAYsQ,EAElQ,QAASvQ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA/Dje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQkV,oBAAsBlV,EAAQmV,kBAAoBrM,MAE1D,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2R,EAAY7U,EAAQ,aAEpB8U,EAAanU,EAAuBkU,GAEpCxL,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCtC,EAAU/G,EAAQ,YAElBgH,EAAWrG,EAAuBoG,GAElCsK,EAAQrR,EAAQ,UAEhBsR,EAAS3Q,EAAuB0Q,GAEhCqE,EAAU1V,EAAQ,gBAElB2V,EAAWhV,EAAuB+U,GAElCzO,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhC0K,EAAQ3R,EAAQ,oBAEhB4R,EAASjR,EAAuBgR,GAEhCxB,EAASnQ,EAAQ,qBAEjBoQ,EAAUzP,EAAuBwP,GAEjChJ,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCwF,EAAc3M,EAAQ,uBAEtB4N,EAAaqD,EAAwBtE,GAErCkF,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,GAetC4D,EAAoBnV,EAAQmV,kBAAoB,SAAW1D,GAG7D,QAAS0D,GAAkB7S,GACzB7B,EAAgBuC,KAAMmS,EAEtB,IAAIpO,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAekS,GAAmBlV,KAAK+C,KAAMV,GAWjG,OATAyE,GAAMjF,OACJqF,WAAa,EAEbwH,SAAY,GAEZrB,YACEqB,UAAarB,EAAWyE,kBAAkB/I,EAAAA,WAAgB0B,IAAI,gBAG3D3D,EAyET,MAzFA/F,GAAUmU,EAAmB1D,GAmB7BtP,EAAagT,IACX1S,IAAK,QACLlB,MAAO,WACL,MAAIyB,MAAKiP,WACA,GAEHjP,KAAKlB,MAAM6M,SAASG,OAAO5O,OAC7B4G,EAAAA,WAAmBoB,MAAMlF,KAAKlB,MAAM+K,OAAO8B,SAAS,IAEpD7H,EAAAA,WAAmBoB,MAAM1E,QAAQ,yBAE5B,MAIXf,IAAK,OACLlB,MAAO,WACL,MAAOqF,GAAAA,WAAeW,KAAKyB,EAAAA,WAAgB0B,IAAI,wBAC7CiE,SAAY3L,KAAKlB,MAAM6M,cAI3BlM,IAAK,gBACLlB,MAAO,SAAuB2Q,GAC5BlP,KAAKV,MAAM6P,SAASD,MAGtBzP,IAAK,cACLlB,MAAO,SAAqByG,GACD,MAArBA,EAAUC,QAAkBD,EAAUqK,KACvC,EAAGb,EAAAA,YAAsBxJ,EAAUqK,KAEpCvL,EAAAA,WAAmByL,SAASvK,MAIhCvF,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,2CACbd,EAAAA,WAAgBa,cACd,QACE+O,SAAUzP,KAAK+J,cACjBlK,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,WAAYH,UAAW,eACpEuQ,YAAa1Q,QAAQ,sBACrByC,SAAUjD,KAAKlB,MAAMqF,UACrB0L,SAAU7P,KAAKwJ,UAAU,YACzBjL,MAAOyB,KAAKlB,MAAM6M,aAGxB9L,EAAAA,WAAgBa,cACdgD,EAAAA,YACE/C,UAAW,wBACXuC,QAASlD,KAAKlB,MAAMqF,WACtB3D,QAAQ,0BAQX2R,GACNnE,EAAAA,YAECkE,EAAsBlV,EAAQkV,oBAAsB,SAAWnS,GAGjE,QAASmS,KAGP,MAFAzU,GAAgBuC,KAAMkS,GAEfrU,EAA2BmC,KAAM5B,OAAO6B,eAAeiS,GAAqBhS,MAAMF,KAAMG,YAmEjG,MAxEAnC,GAAUkU,EAAqBnS,GAQ/BZ,EAAa+S,IACXzS,IAAK,aACLlB,MAAO,WACL,MAAOgC,aAAYC,QAAQ,+DACzBC,SAAUT,KAAKV,MAAMP,KAAK0B,WACzB,MAGLhB,IAAK,aACLlB,MAAO,WACLuO,EAAAA,WAAgBM,KAAKiF,EAAAA,eAGvB5S,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,0EACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,aACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,UAGJd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,KACEC,UAAW,QACbX,KAAKa,cAEPhB,EAAAA,WAAgBa,cACd,IACA,KACAF,QAAQ,mEAEVX,EAAAA,WAAgBa,cACd,IACA,KACAb,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,kBAAmBI,QAASf,KAAKsS,YAC9D9R,QAAQ,qBAWjB0R,GACNrS,EAAAA,WAAgBoB,WAEfnB,EAAS,SAAW4G,GAGtB,QAAS5G,KACP,GAAI6G,GAEAC,EAAOW,EAAQV,CAEnBpJ,GAAgBuC,KAAMF,EAEtB,KAAK,GAAIgH,GAAO3G,UAAUjD,OAAQ6J,EAAOC,MAAMF,GAAOG,EAAO,EAAUH,EAAPG,EAAaA,IAC3EF,EAAKE,GAAQ9G,UAAU8G,EAGzB,OAAeL,GAASW,EAAS1J,EAA2BmC,MAAO2G,EAAwBvI,OAAO6B,eAAeH,IAAS7C,KAAKiD,MAAMyG,GAAwB3G,MAAMkH,OAAOH,KAAkBQ,EAAO8I,SAAW,SAAUnB,GACtNZ,EAAAA,WAAeiE,cAIflR,EAAE,gDAAgDmR,SAElDhB,EAAAA,WAAmBK,OAAOhS,EAAAA,WAAgBa,cAAcwR,GAAuBnT,KAAMmQ,IAAgB4C,SAASC,eAAe,gBAPxHlL,EAQJD,EAAQ/I,EAA2B0J,EAAQV,GAgBhD,MArCA7I,GAAU8B,EAAQ4G,GAyBlBvH,EAAaW,IACXL,IAAK,SAILlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cAAcyR,GAAqBhD,SAAUnP,KAAKqQ,eAKtEvQ,GACND,EAAAA,WAAgBoB,UAEnBjE,GAAAA,WAAkB8C,IAEfwQ,WAAW,GAAGC,mBAAmB,GAAGC,mBAAmB,GAAGjD,oBAAoB,GAAGC,uBAAuB,GAAGiD,uBAAuB,GAAGzF,sBAAsB,GAAG0F,WAAW,EAAEC,SAAS,EAAE8B,eAAe,GAAGvR,MAAQ,QAAQ8Q,YAAY,cAAcU,IAAI,SAAShW,EAAQU,EAAOJ,GACjR,YAwCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA5Cje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAGT,IAAIqB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCmG,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCtC,EAAU/G,EAAQ,YAElBgH,EAAWrG,EAAuBoG,GAElCsK,EAAQrR,EAAQ,UAEhBsR,EAAS3Q,EAAuB0Q,GAEhCpK,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhCkJ,EAASnQ,EAAQ,qBAEjBoQ,EAAUzP,EAAuBwP,GAEjChJ,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpC0K,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,GAWtCzO,EAAS,SAAW2O,GAGtB,QAAS3O,GAAOR,GACd7B,EAAgBuC,KAAMF,EAEtB,IAAIiE,GAAQlG,EAA2BmC,KAAM5B,OAAO6B,eAAeH,GAAQ7C,KAAK+C,KAAMV,GActF,OAZAyE,GAAMjF,OACJqF,WAAa,EACbwO,gBAAkB,EAElBlS,SAAY,GACZkL,SAAY,GAEZrB,YACE7J,YACAkL,cAGG5H,EA0KT,MA7LA/F,GAAU8B,EAAQ2O,GAsBlBtP,EAAaW,IACXL,IAAK,QACLlB,MAAO,WACL,MAAKyB,MAAKiP,WAID,GAHPnL,EAAAA,WAAmBoB,MAAM1E,QAAQ,2BAC1B,MAMXf,IAAK,OACLlB,MAAO,WACL,MAAOqF,GAAAA,WAAeW,KAAKyB,EAAAA,WAAgB0B,IAAI,aAC7CjH,SAAYT,KAAKlB,MAAM2B,SACvBkL,SAAY3L,KAAKlB,MAAM6M,cAI3BlM,IAAK,gBACLlB,MAAO,WACL,GAAIuR,GAAOzO,EAAE,qBAEbyO,GAAK8C,OAAO,yCACZ9C,EAAK8C,OAAO,6CAKZ9C,EAAK+C,KAAK,wBAAwBC,IAAIlP,EAAAA,WAAemP,gBACrDjD,EAAK+C,KAAK,6BAA6BC,IAAI1S,OAAOC,SAAS2S,UAC3DlD,EAAK+C,KAAK,0BAA0BC,IAAI9S,KAAKlB,MAAM2B,UACnDqP,EAAK+C,KAAK,0BAA0BC,IAAI9S,KAAKlB,MAAM6M,UACnDmE,EAAKmD,SAGLjT,KAAKsE,UACHH,WAAa,OAIjB1E,IAAK,cACLlB,MAAO,SAAqByG,GACD,MAArBA,EAAUC,OACW,mBAAnBD,EAAUlI,KACZgH,EAAAA,WAAmBoJ,KAAKlI,EAAUH,QACN,kBAAnBG,EAAUlI,MACnBgH,EAAAA,WAAmBoJ,KAAKlI,EAAUH,QAClC7E,KAAKsE,UACHqO,gBAAkB,KAEQ,WAAnB3N,EAAUlI,OAClB,EAAG0R,EAAAA,YAAsBxJ,EAAUH,QACpCiI,EAAAA,WAAgBwC,QAEhBxL,EAAAA,WAAmBoB,MAAMF,EAAUH,QAEP,MAArBG,EAAUC,QAAkBD,EAAUqK,MAC9C,EAAGb,EAAAA,YAAsBxJ,EAAUqK,KACpCvC,EAAAA,WAAgBwC,QAEhBxL,EAAAA,WAAmByL,SAASvK,MAIhCvF,IAAK,sBACLlB,MAAO,WACL,MAAIyB,MAAKlB,MAAM6T,eAEN9S,EAAAA,WAAgBa,cACrB,KACE8O,KAAMxJ,EAAAA,WAAgB0B,IAAI,0BAC1B/G,UAAW,6BACbH,QAAQ,qBAID,QAIbf,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,sCACXiH,KAAM,YACR/H,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,QAASkH,eAAgB,QACpDC,aAActH,QAAQ,UACxBX,EAAAA,WAAgBa,cACd,QACEqH,cAAe,QACjB,MAGJlI,EAAAA,WAAgBa,cACd,MACEC,UAAW,eACbH,QAAQ,aAGZX,EAAAA,WAAgBa,cACd,QACE+O,SAAUzP,KAAK+J,cACjBlK,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cAAc,SAAWe,GAAI,cAAed,UAAW,eAAgBG,KAAM,OAC3FmC,SAAUjD,KAAKlB,MAAMqF,UACrB+M,YAAa1Q,QAAQ,sBACrBqP,SAAU7P,KAAKwJ,UAAU,YACzBjL,MAAOyB,KAAKlB,MAAM2B,aAGxBZ,EAAAA,WAAgBa,cACd,OACEC,UAAW,cACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cAAc,SAAWe,GAAI,cAAed,UAAW,eAAgBG,KAAM,WAC3FmC,SAAUjD,KAAKlB,MAAMqF,UACrB+M,YAAa1Q,QAAQ,YACrBqP,SAAU7P,KAAKwJ,UAAU,YACzBjL,MAAOyB,KAAKlB,MAAM6M,cAI1B9L,EAAAA,WAAgBa,cACd,OACEC,UAAW,gBACbX,KAAKkT,sBACLrT,EAAAA,WAAgBa,cACdgD,EAAAA,YACE/C,UAAW,wBACXuC,QAASlD,KAAKlB,MAAMqF,WACtB3D,QAAQ,YAEVX,EAAAA,WAAgBa,cACd,KACE8O,KAAMxJ,EAAAA,WAAgB0B,IAAI,0BAC1B/G,UAAW,6BACbH,QAAQ,6BAUfV,GACNkO,EAAAA,WAEHhR,GAAAA,WAAkB8C,IAEfwQ,WAAW,GAAGC,mBAAmB,GAAGhD,oBAAoB,GAAGC,uBAAuB,GAAGiD,uBAAuB,GAAGC,WAAW,EAAEC,SAAS,EAAEzP,MAAQ,UAAUiS,IAAI,SAASzW,EAAQU,EAAOJ,GACxL,YAcA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAmDje,QAASW,GAAOC,GACd,MAAOA,GAAMsU,SAtEf,GAAIjU,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQqW,SAAWvN,OACnB9I,EAAQ6B,OAASA,CAEjB,IAAIe,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAWjC0T,GACFpG,KAAQ,aACRtI,QAAW,gBACX2O,QAAW,gBACXrO,MAAS,eAIIlI,GAAQqW,SAAW,SAAWtT,GAG3C,QAASsT,KAGP,MAFA5V,GAAgBuC,KAAMqT,GAEfxV,EAA2BmC,KAAM5B,OAAO6B,eAAeoT,GAAUnT,MAAMF,KAAMG,YA+BtF,MApCAnC,GAAUqV,EAAUtT,GAQpBZ,EAAakU,IACX5T,IAAK,mBACLlB,MAAO,WACL,GAAIiV,GAAgB,iBAMpB,OAJEA,IADExT,KAAKV,MAAMmU,UACI,MAEA,UAKrBhU,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAWX,KAAK0T,oBAClB7T,EAAAA,WAAgBa,cACd,KACEC,UAAW,SAAW2S,EAActT,KAAKV,MAAMwB,OACjDd,KAAKV,MAAM2C,cAOZoR,GACNxT,EAAAA,WAAgBoB,aAMhBC,MAAQ,UAAUyS,IAAI,SAASjX,EAAQU,EAAOJ,GACjD,YAiCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GArCje,GAAIiB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ4W,gBAAkB5W,EAAQ6W,SAAW7W,EAAQ8W,UAAYhO,MAEjE,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2D,EAAU7G,EAAQ,aAElB8G,EAAWnG,EAAuBkG,GAElCwQ,EAAkBrX,EAAQ,sBAE1BsX,EAAmB3W,EAAuB0W,GAE1C3B,EAAU1V,EAAQ,iBAElB2V,EAAWhV,EAAuB+U,GAElC6B,EAAwBvX,EAAQ,yCAEhCwX,EAAyB7W,EAAuB4W,GAEhDpH,EAASnQ,EAAQ,wBAEjBoQ,EAAUzP,EAAuBwP,GAWjCiH,EAAY9W,EAAQ8W,UAAY,SAAW/T,GAG7C,QAAS+T,KAGP,MAFArW,GAAgBuC,KAAM8T,GAEfjW,EAA2BmC,KAAM5B,OAAO6B,eAAe6T,GAAW5T,MAAMF,KAAMG,YA0DvF,MA/DAnC,GAAU8V,EAAW/T,GAQrBZ,EAAa2U,IACXrU,IAAK,kBACLlB,MAAO,WACLuO,EAAAA,WAAgBM,KAAKiF,EAAAA,eAGvB5S,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,MACEC,UAAW,kDACXiH,KAAM,QACR/H,EAAAA,WAAgBa,cACd,MACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,KACA,KACAF,QAAQ,+BAEVX,EAAAA,WAAgBa,cACd,IACA,KACAF,QAAQ,iEAEVX,EAAAA,WAAgBa,cACd,OACEC,UAAW,OACbd,EAAAA,WAAgBa,cACd,OACEC,UAAW,YACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,4BAC3BI,QAASf,KAAKmU,iBAChB3T,QAAQ,aAGZX,EAAAA,WAAgBa,cACd,OACEC,UAAW,YACbd,EAAAA,WAAgBa,cACdsT,EAAAA,YACErT,UAAW,yBACbH,QAAQ,qBAUfsT,GACNjU,EAAAA,WAAgBoB,UAEJjE,GAAQ6W,SAAW,SAAWO,GAG3C,QAASP,KAGP,MAFApW,GAAgBuC,KAAM6T,GAEfhW,EAA2BmC,KAAM5B,OAAO6B,eAAe4T,GAAU3T,MAAMF,KAAMG,YA0BtF,MA/BAnC,GAAU6V,EAAUO,GAQpBjV,EAAa0U,IACXpU,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,OACEC,UAAW,iBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,6BAC3BI,QAASf,KAAKmU,iBAChB3T,QAAQ,YAEVX,EAAAA,WAAgBa,cACdsT,EAAAA,YACErT,UAAW,0BACbH,QAAQ,kBAOTqT,GACNC,GAEmB9W,EAAQ4W,gBAAkB,SAAWlN,GAGzD,QAASkN,KAGP,MAFAnW,GAAgBuC,KAAM4T,GAEf/V,EAA2BmC,KAAM5B,OAAO6B,eAAe2T,GAAiB1T,MAAMF,KAAMG,YAqB7F,MA1BAnC,GAAU4V,EAAiBlN,GAQ3BvH,EAAayU,IACXnU,IAAK,gBACLlB,MAAO,WACL2V,EAAAA,WAA+B9G,KAAK0G,MAGtCrU,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,UACEI,KAAM,SAAUC,QAASf,KAAKqU,eAChCxU,EAAAA,WAAgBa,cAAc8C,EAAAA,YAAoBjC,KAAM,YAMvDqS,GACN/T,EAAAA,WAAgBoB,aAEhBqT,wCAAwC,GAAGC,uBAAuB,GAAG9O,YAAY,EAAE+O,qBAAqB,GAAGC,gBAAgB,GAAGvT,MAAQ,UAAUwT,IAAI,SAAShY,EAAQU,EAAOJ,GAC/K,YAkBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAsDje,QAASW,GAAOC,GACd,MAAOA,GAAME,KA7Ef,GAAIG,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ2X,gBAAkB3X,EAAQ4X,SAAW9O,OAC7C9I,EAAQ6B,OAASA,CAEjB,IAAIe,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCiV,EAAYnY,EAAQ,eAEpBoY,EAAWpY,EAAQ,aAYRM,GAAQ4X,SAAW,SAAW7U,GAG3C,QAAS6U,KAGP,MAFAnX,GAAgBuC,KAAM4U,GAEf/W,EAA2BmC,KAAM5B,OAAO6B,eAAe2U,GAAU1U,MAAMF,KAAMG,YAgBtF,MArBAnC,GAAU4W,EAAU7U,GAQpBZ,EAAayV,IACXnV,IAAK,SACLlB,MAAO,WAEL,MAAIyB,MAAKV,MAAMyV,gBACNlV,EAAAA,WAAgBa,cAAcoU,EAASE,SAAWjW,KAAMiB,KAAKV,MAAMP,OAEnEc,EAAAA,WAAgBa,cAAcmU,EAAUhB,SAAU,UAMxDe,GACN/U,EAAAA,WAAgBoB,WAEGjE,EAAQ2X,gBAAkB,SAAWjO,GAGzD,QAASiO,KAGP,MAFAlX,GAAgBuC,KAAM2U,GAEf9W,EAA2BmC,KAAM5B,OAAO6B,eAAe0U,GAAiBzU,MAAMF,KAAMG,YAgB7F,MArBAnC,GAAU2W,EAAiBjO,GAQ3BvH,EAAawV,IACXlV,IAAK,SACLlB,MAAO,WAEL,MAAIyB,MAAKV,MAAMyV,gBACNlV,EAAAA,WAAgBa,cAAcoU,EAASG,gBAAkBlW,KAAMiB,KAAKV,MAAMP,OAE1Ec,EAAAA,WAAgBa,cAAcmU,EAAUjB,gBAAiB,UAM/De,GACN9U,EAAAA,WAAgBoB,aAMhBiU,cAAc,GAAGC,aAAa,GAAGjU,MAAQ,UAAUkU,IAAI,SAAS1Y,EAAQU,EAAOJ,GAClF,YAoCA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GA6Ije,QAASmX,GAAeC,GACtB,OAASvW,KAAMuW,EAAMtW,KAAKD,MAtL5B,GAAII,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQiY,eAAiBjY,EAAQgY,QAAUhY,EAAQ4X,SAAW9O,OAC9D9I,EAAQqY,eAAiBA,CAEzB,IAAIzV,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2V,EAAc7Y,EAAQ,eAEtB6G,EAAU7G,EAAQ,aAElB8G,EAAWnG,EAAuBkG,GAElCiS,EAAQ9Y,EAAQ,yBAEhB+Y,EAASpY,EAAuBmY,GAEhCzP,EAASrJ,EAAQ,eAEjBsJ,EAAU3I,EAAuB0I,GAEjCkO,EAAwBvX,EAAQ,yCAEhCwX,EAAyB7W,EAAuB4W,GAEhDpH,EAASnQ,EAAQ,wBAEjBoQ,EAAUzP,EAAuBwP,GAYjC+H,EAAW5X,EAAQ4X,SAAW,SAAW7U,GAG3C,QAAS6U,KAGP,MAFAnX,GAAgBuC,KAAM4U,GAEf/W,EAA2BmC,KAAM5B,OAAO6B,eAAe2U,GAAU1U,MAAMF,KAAMG,YA4FtF,MAjGAnC,GAAU4W,EAAU7U,GAQpBZ,EAAayV,IACXnV,IAAK,SACLlB,MAAO;AACL,GAAImX,GAAWC,QAAQnV,QAAQ,sCAC3BkV,IACFrU,EAAE,uBAAuB4R,YAI7BxT,IAAK,eACLlB,MAAO,WACLuO,EAAAA,WAAgBM,MAAM,EAAGmI,EAAYK,SAASJ,EAAM3W,QAAQ4W,EAAAA,gBAG9DhW,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,MACEC,UAAW,kDACXiH,KAAM,QACR/H,EAAAA,WAAgBa,cACd,MACEC,UAAW,mBACbd,EAAAA,WAAgBa,cACd,SACA,KACAV,KAAKV,MAAMP,KAAK0B,WAGpBZ,EAAAA,WAAgBa,cAAc,MAAQC,UAAW,YACjDd,EAAAA,WAAgBa,cACd,KACA,KACAb,EAAAA,WAAgBa,cACd,KACE8O,KAAMxP,KAAKV,MAAMP,KAAK8W,cACxBhW,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,kBAEFH,QAAQ,sBAGZX,EAAAA,WAAgBa,cACd,KACA,KACAb,EAAAA,WAAgBa,cACd,KACE8O,KAAMxJ,EAAAA,WAAgB0B,IAAI,eAC5B7H,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,YAEFH,QAAQ,oBAGZX,EAAAA,WAAgBa,cACd,KACA,KACAb,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,WAAYI,QAASf,KAAK8V,cACvDjW,EAAAA,WAAgBa,cACd,QACEC,UAAW,iBACb,QAEFH,QAAQ,mBAGZX,EAAAA,WAAgBa,cAAc,MAAQC,UAAW,YACjDd,EAAAA,WAAgBa,cACd,MACEC,UAAW,mBACbd,EAAAA,WAAgBa,cACd,UACEI,KAAM,SAAUH,UAAW,4BAC3BI,QAASf,KAAK+V,QAChBvV,QAAQ,kBAQXoU,GACN/U,EAAAA,WAAgBoB,UAELjE,GAAQgY,QAAU,SAAWtO,GAGzC,QAASsO,KAGP,MAFAvX,GAAgBuC,KAAMgV,GAEfnX,EAA2BmC,KAAM5B,OAAO6B,eAAe+U,GAAS9U,MAAMF,KAAMG,YA2BrF,MAhCAnC,GAAUgX,EAAStO,GAQnBvH,EAAa6V,IACXvV,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,MACEC,UAAW,8BACbd,EAAAA,WAAgBa,cACd,MACEC,UAAW,YACbd,EAAAA,WAAgBa,cACd,KACE8O,KAAMxP,KAAKV,MAAMP,KAAK8W,aAAclV,UAAW,kBAC/CqV,cAAe,WAAYC,gBAAiB,OAAQC,gBAAiB,QACrEtO,KAAM,UACR/H,EAAAA,WAAgBa,cAAc8C,EAAAA,YAAoBzE,KAAMiB,KAAKV,MAAMP,KAAMwC,KAAM,QAEjF1B,EAAAA,WAAgBa,cAAckU,GAAY7V,KAAMiB,KAAKV,MAAMP,aAO5DiW,GACNnV,EAAAA,WAAgBoB,WAMEjE,EAAQiY,eAAiB,SAAWtD,GAGvD,QAASsD,KAGP,MAFAxX,GAAgBuC,KAAMiV,GAEfpX,EAA2BmC,KAAM5B,OAAO6B,eAAegV,GAAgB/U,MAAMF,KAAMG,YAqB5F,MA1BAnC,GAAUiX,EAAgBtD,GAQ1BxS,EAAa8V,IACXxV,IAAK,eACLlB,MAAO,WACL2V,EAAAA,WAA+BiC,cAAc,aAAc,EAAGZ,EAAYK,SAASP,GAAgBT,OAGrGnV,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cACrB,UACEI,KAAM,SAAUC,QAASf,KAAKoW,cAChCvW,EAAAA,WAAgBa,cAAc8C,EAAAA,YAAoBzE,KAAMiB,KAAKV,MAAMP,KAAMwC,KAAM,YAM9E0T,GACNpV,EAAAA,WAAgBoB,aAEhBgH,cAAc,GAAGqM,wCAAwC,GAAGC,uBAAuB,GAAG9O,YAAY,EAAE4Q,wBAAwB,EAAEnV,MAAQ,QAAQoV,cAAc,gBAAgBC,IAAI,SAAS7Z,EAAQU,EAAOJ,IAC3M,SAAWwZ,GACX,YAaA,SAASnZ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAbhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQyZ,OAAS3Q,MAEjB,IAAI4Q,GAAeha,EAAQ,wBAEvBia,EAAgBtZ,EAAuBqZ,GAMvCD,EAASzZ,EAAQyZ,OAAS,WAC5B,QAASA,KACPhZ,EAAgBuC,KAAMyW,GAEtBzW,KAAK4W,iBACL5W,KAAK6W,YA8CP,MA3CA1X,GAAasX,IACXhX,IAAK,iBACLlB,MAAO,SAAwBuY,GAC7B9W,KAAK4W,cAAclM,MACjBjL,IAAKqX,EAAYrN,KAEjBsN,KAAMD,EAAYA,YAElBE,MAAOF,EAAYE,MACnBC,OAAQH,EAAYG,YAIxBxX,IAAK,OACLlB,MAAO,SAAc2Y,GACnB,GAAInT,GAAQ/D,IAEZA,MAAK6W,SAAWK,CAEhB,IAAIC,GAAY,GAAIR,GAAAA,WAAsB3W,KAAK4W,eAAeQ,eAC9DD,GAAUE,QAAQ,SAAUP,GAC1BA,EAAY/S,QAOhBtE,IAAK,MACLlB,MAAO,SAAakB,GAClB,MAAOO,MAAK6W,SAASpM,eAAehL,MAGtCA,IAAK,MACLlB,MAAO,SAAakB,EAAK6X,GACvB,MAAItX,MAAKuX,IAAI9X,GACJO,KAAK6W,SAASpX,GAEd6X,GAAYxR,WAKlB2Q,KAKLzJ,EAAS,GAAIyJ,EAGjBD,GAAOxJ,OAASA,EAGhBhQ,EAAAA,WAAkBgQ,IAEf/P,KAAK+C,KAAuB,mBAAXwW,QAAyBA,OAAyB,mBAAT1Y,MAAuBA,KAAyB,mBAAXsC,QAAyBA,aACxHoX,uBAAuB,KAAKC,IAAI,SAAS/a,EAAQU,EAAOJ,GAC3D,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPlT,EAAAA,WAAe8T,KAAK1R,EAAAA,WAAgB0B,IAAI,qBAhB1CtJ,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCpC,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,EAQpCqC,GAAAA,WAAgB2R,gBACdlO,KAAM,OACNqN,YAAaA,MAGZxG,WAAW,GAAGC,mBAAmB,KAAKqH,IAAI,SAASlb,EAAQU,EAAOJ,GACrE,YAqBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,MACN,EAAGe,EAAAA,aAA2B,EAAGtC,EAAYK,SAASkC,EAAajZ,QAAQkZ,EAAAA,YAAwB,sBAtBtG3Z,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAIvB,GAAc7Y,EAAQ,eAEtBqJ,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC+R,EAAepb,EAAQ,8BAEvBqb,EAAgB1a,EAAuBya,GAEvCE,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAQ9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,yBACNqN,YAAaA,EACbE,MAAO,YAGNiB,6BAA6B,EAAE3H,WAAW,GAAG4H,2BAA2B,GAAG5B,cAAc,gBAAgB6B,IAAI,SAASzb,EAAQU,EAAOJ,GACxI,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,GAAYI,GACnB3Q,EAAAA,WAAgB6R,WAAW,OAAQ9J,EAAAA,WAAgBlQ,OAAOgR,QACxD2F,gBAAmBmC,EAAQxP,IAAI,mBAC/B2Q,aAAgBnB,EAAQxP,IAAI,mBAE5B3I,KAAQmY,EAAQxP,IAAI,SACnB2G,EAAMiK,eAzBXla,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCsI,EAAQ3R,EAAQ,oBAEhB4R,EAASjR,EAAuBgR,GAEhC/H,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,EAarCN,GAAAA,WAAgB2R,gBACdlO,KAAM,eACNqN,YAAaA,EACbG,OAAQ,YAGP3G,WAAW,GAAGiI,mBAAmB,GAAGC,oBAAoB,KAAKC,IAAI,SAAS/b,EAAQU,EAAOJ,GAC5F,YAuBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPxI,EAAAA,WAAeoJ,KAAKnR,EAAAA,WAAiBmS,EAAAA,YAxBvCta,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCsI,EAAQ3R,EAAQ,oBAEhB4R,EAASjR,EAAuBgR,GAEhC/H,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,GAEjCqS,EAAgBjc,EAAQ,6BAExBgc,EAAiBrb,EAAuBsb,EAQ5C3S,GAAAA,WAAgB2R,gBACdlO,KAAM,OACNqN,YAAaA,EACbE,MAAO,YAGN1G,WAAW,GAAGE,mBAAmB,GAAGoI,4BAA4B,GAAGJ,oBAAoB,KAAKK,IAAI,SAASnc,EAAQU,EAAOJ,GAC3H,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,GAAYI,GACfA,EAAQxP,IAAI,iBACb,EAAG8G,EAAAA,YAAsB0I,EAAQxP,IAAI,gBAAgB,GAjB1DtJ,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCwI,EAAc7R,EAAQ,wBAEtB8R,EAAenR,EAAuBkR,EAU1CvI,GAAAA,WAAgB2R,gBACdlO,KAAM,uBACNqN,YAAaA,EACbE,MAAO,YAGN1G,WAAW,GAAGG,uBAAuB,KAAKqI,IAAI,SAASpc,EAAQU,EAAOJ,GACzE,YA2BA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,GAAYI,GACnBtK,EAAAA,WAAkB8K,KAAKR,EAAStT,EAAAA,WAAgBmV,EAAAA,WAAmBjV,EAAAA,YA5BrE1F,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCpC,EAAQjH,EAAQ,oBAEhBkH,EAASvG,EAAuBsG,GAEhCgJ,EAAWjQ,EAAQ,uBAEnBkQ,EAAYvP,EAAuBsP,GAEnCqM,EAAWtc,EAAQ,uBAEnBqc,EAAY1b,EAAuB2b,GAEnCnV,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,EAQxCmC,GAAAA,WAAgB2R,gBACdlO,KAAM,UACNqN,YAAaA,MAGZxG,WAAW,GAAGC,mBAAmB,GAAGjD,sBAAsB,GAAG2L,sBAAsB,GAAGzL,uBAAuB,KAAK0L,IAAI,SAASxc,EAAQU,EAAOJ,GACjJ,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,GAAYI,GACnB6B,EAAAA,WAAkBrB,KAAKR,EAAQxP,IAAI,eAhBrCtJ,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCiT,EAAWtc,EAAQ,uBAEnBqc,EAAY1b,EAAuB2b,EAQvChT,GAAAA,WAAgB2R,gBACdlO,KAAM,UACNqN,YAAaA,MAGZxG,WAAW,GAAG2I,sBAAsB,KAAKE,IAAI,SAASzc,EAAQU,EAAOJ,GACxE,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACP4B,EAAAA,WAAuBhB,KAAK,WAhB9BtZ,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC4S,EAAgBjc,EAAQ,6BAExBgc,EAAiBrb,EAAuBsb,EAQ5C3S,GAAAA,WAAgB2R,gBACdlO,KAAM,gBACNqN,YAAaA,MAGZxG,WAAW,GAAGsI,4BAA4B,KAAKQ,IAAI,SAAS1c,EAAQU,EAAOJ,GAC9E,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACP,GAAIuC,GAAUvH,SAASC,eAAe,+BAClCsH,IACFnF,EAAAA,WAA+BwD,KAAK2B,GAlBxCjb,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCkO,EAAwBvX,EAAQ,sCAEhCwX,EAAyB7W,EAAuB4W,EAWpDjO,GAAAA,WAAgB2R,gBACdlO,KAAM,WACNqN,YAAaA,EACbG,OAAQ,YAGP3G,WAAW,GAAGgJ,qCAAqC,KAAKC,IAAI,SAAS7c,EAAQU,EAAOJ,GACvF,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACP,GAAIuC,GAAUvH,SAASC,eAAe,cAClCsH,IACFvM,EAAAA,WAAgB4K,KAAK2B,GAlBzBjb,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC8G,EAASnQ,EAAQ,qBAEjBoQ,EAAUzP,EAAuBwP,EAWrC7G,GAAAA,WAAgB2R,gBACdlO,KAAM,QACNqN,YAAaA,EACbG,OAAQ,YAGP3G,WAAW,GAAG/C,oBAAoB,KAAKiM,IAAI,SAAS9c,EAAQU,EAAOJ,GACtE,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACP9U,EAAAA,WAAiByX,OAAOpY,EAAE,QAAQC,KAAK,SAhBzClD,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/U,GAAUrF,EAAQ,UAElBsF,EAAW3E,EAAuB0E,GAElCgE,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,EAQrCC,GAAAA,WAAgB2R,gBACdlO,KAAM,SACNqN,YAAaA,MAGZxG,WAAW,GAAG1N,OAAS,WAAW8W,IAAI,SAAShd,EAAQU,EAAOJ,GACjE,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACHhF,SAASC,eAAe,mCACzB,EAAG8F,EAAAA,YAA0B8B,EAAAA,WAAiC,iCAAiC,GArBpGvb,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC6T,EAAyBld,EAAQ,yCAEjCid,EAA0Btc,EAAuBuc,GAEjD5B,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAU9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,oCACNqN,YAAaA,EACbE,MAAO,YAGN6C,wCAAwC,GAAGvJ,WAAW,GAAG4H,2BAA2B,KAAK4B,IAAI,SAASpd,EAAQU,EAAOJ,GACxH,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACHhF,SAASC,eAAe,kCACzB,EAAG8F,EAAAA,YAA0BkC,EAAAA,WAAgC,gCAAgC,GArBlG3b,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCiU,EAAwBtd,EAAQ,wCAEhCqd,EAAyB1c,EAAuB2c,GAEhDhC,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAU9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,mCACNqN,YAAaA,EACbE,MAAO,YAGNiD,uCAAuC,GAAG3J,WAAW,GAAG4H,2BAA2B,KAAKgC,IAAI,SAASxd,EAAQU,EAAOJ,GACvH,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACHhF,SAASC,eAAe,+BACzB,EAAG8F,EAAAA,YAA0BsC,EAAAA,WAA6B,6BAA6B,GArB5F/b,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCqU,EAAqB1d,EAAQ,qCAE7Byd,EAAsB9c,EAAuB+c,GAE7CpC,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAU9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,gCACNqN,YAAaA,EACbE,MAAO,YAGNqD,oCAAoC,GAAG/J,WAAW,GAAG4H,2BAA2B,KAAKoC,IAAI,SAAS5d,EAAQU,EAAOJ,GACpH,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,MACN,EAAGe,EAAAA,aAA2B,EAAGtC,EAAYK,SAAS/R,EAAUhF,QAAQgF,EAAUwP,UAAW,kBApBhGjV,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAIvB,GAAc7Y,EAAQ,eAEtBqJ,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjClC,EAAYnH,EAAQ,0BAEpBsb,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAQ9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,qBACNqN,YAAaA,EACbE,MAAO,eAGNuD,yBAAyB,GAAGjK,WAAW,GAAG4H,2BAA2B,GAAG5B,cAAc,gBAAgBkE,IAAI,SAAS9d,EAAQU,EAAOJ,GACrI,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPvQ,EAAAA,WAAgB6R,WAAW,WAAYtU,EAAAA,WAAoBD,EAAUyU,cApBvEla,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjClC,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCyC,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,EAQrCN,GAAAA,WAAgB2R,gBACdlO,KAAM,mBACNqN,YAAaA,EACbG,OAAQ,YAGP3G,WAAW,GAAGmK,uBAAuB,GAAGjC,oBAAoB,KAAKkC,IAAI,SAAShe,EAAQU,EAAOJ,GAChG,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPhT,EAAAA,WAAmB4T,KAAKnR,EAAAA,YApB1BnI,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjClC,EAAYnH,EAAQ,wBAEpBoH,EAAazG,EAAuBwG,GAEpCyC,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,EAQrCN,GAAAA,WAAgB2R,gBACdlO,KAAM,WACNqN,YAAaA,EACbE,MAAO,YAGN1G,WAAW,GAAG9C,uBAAuB,GAAGgL,oBAAoB,KAAKmC,IAAI,SAASje,EAAQU,EAAOJ,GAChG,YAeA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPvQ,EAAAA,WAAgBmR,OAhBlBtZ,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCO,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,EAQrCN,GAAAA,WAAgB2R,gBACdlO,KAAM,QACNqN,YAAaA,EACbG,OAAQ,WAGP3G,WAAW,GAAGkI,oBAAoB,KAAKoC,IAAI,SAASle,EAAQU,EAAOJ,GACtE,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPvQ,EAAAA,WAAgB6R,WAAW,OAAQyC,EAAAA,WAAgBC,EAAMxC,cApB3Dla,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC+U,EAAQpe,EAAQ,oBAEhBme,EAASxd,EAAuByd,GAEhCxU,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,EAQrCN,GAAAA,WAAgB2R,gBACdlO,KAAM,eACNqN,YAAaA,EACbG,OAAQ,YAGP3G,WAAW,GAAGyK,mBAAmB,GAAGvC,oBAAoB,KAAKwC,IAAI,SAASte,EAAQU,EAAOJ,GAC5F,YAiBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAIvF,QAASwZ,KACP1W,OAAO6a,YAAY,WACjB1U,EAAAA,WAAgBa,UAAU,EAAG0T,EAAMI,YAClCC,GAtBL/c,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjC+U,EAAQpe,EAAQ,oBAEhB4J,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,GAIjC6U,EAAc,GAQlBnV,GAAAA,WAAgB2R,gBACdlO,KAAM,aACNqN,YAAaA,EACbE,MAAO,YAGN1G,WAAW,GAAGyK,mBAAmB,GAAGvC,oBAAoB,KAAK4C,IAAI,SAAS1e,EAAQU,EAAOJ,GAC5F,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,MACN,EAAGe,EAAAA,aAA2B,EAAGtC,EAAYK,SAASJ,EAAM3W,QAAQ2W,EAAMZ,UAAW,oBACrF,EAAGiD,EAAAA,aAA2B,EAAGtC,EAAYK,SAASJ,EAAM3W,QAAQ2W,EAAMb,iBAAkB,2BArB/FvW,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAIvB,GAAc7Y,EAAQ,eAEtBqJ,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCyP,EAAQ9Y,EAAQ,gCAEhBsb,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,EAS9ChS,GAAAA,WAAgB2R,gBACdlO,KAAM,sBACNqN,YAAaA,EACbE,MAAO,YAGNqE,+BAA+B,GAAG/K,WAAW,GAAG4H,2BAA2B,GAAG5B,cAAc,gBAAgBgF,IAAI,SAAS5e,EAAQU,EAAOJ,GAC3I,YAmBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASwZ,KACPvL,EAAAA,WAAiBmM,KAAKqB,EAAAA,YApBxB3a,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkB8Z,CAElB,IAAI/Q,GAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCiT,EAAWtc,EAAQ,uBAEnBqc,EAAY1b,EAAuB2b,GAEnC1N,EAAU5O,EAAQ,sBAElB6O,EAAWlO,EAAuBiO,EAQtCtF,GAAAA,WAAgB2R,gBACdlO,KAAM,SACNqN,YAAaA,MAGZxG,WAAW,GAAG2I,sBAAsB,GAAG1M,qBAAqB,KAAKgP,IAAI,SAAS7e,EAAQU,EAAOJ,GAChG,YAoBA,SAASoT,GAAOrR,GACd,OACE+B,KAAM0a,EACNzc,KAAMA,GAIV,QAAS0c,KACP,GAAIC,GAAOvb,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,IAAmB,EAAQA,UAAU,EAEnF,QACEW,KAAM6a,EACND,KAAMA,GAIV,QAAS1c,KACP,GAAIF,GAAQqB,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmBmY,EAAenY,UAAU,GACvFyb,EAASzb,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmB,KAAOA,UAAU,EAEpF,QAAQyb,EAAO9a,MACb,IAAK0a,GACH,MAAOpd,QAAOgR,UAAWtQ,GACvBG,SAAU2c,EAAO7c,MAGrB,KAAK4c,GACH,MAAOvd,QAAOgR,UAAWtQ,GACvBiW,iBAAiB,EACjBsD,aAAa,EACbnZ,WAAY0c,EAAOF,MAGvB,KAAKrV,GAAOwV,cACV,GAAI/c,EAAMiW,iBAAmBjW,EAAMC,KAAK0C,KAAOma,EAAOE,OAAQ,CAC5D,GAAInS,GAAWvL,OAAOgR,UAAWtQ,EAIjC,OAHA6K,GAAS5K,KAAOX,OAAOgR,UAAWtQ,EAAMC,MACtC2C,YAAeka,EAAOzU,aAEjBwC,EAET,MAAO7K,EAET,SACE,MAAOA,IA9DbV,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ2e,SAAW3e,EAAQwe,QAAUxe,EAAQsb,aAAexS,OAC5D9I,EAAQoT,OAASA,EACjBpT,EAAQye,QAAUA,EAClBze,EAAAA,WAAkBgC,CAElB,IAAIqH,GAAS3J,EAAQ,WAEjB4b,EAAetb,EAAQsb,cACzBrZ,UAAU,EACVC,WAAW,GAGTsc,EAAUxe,EAAQwe,QAAU,UAC5BG,EAAW3e,EAAQ2e,SAAW,aAkD/BI,UAAU,KAAKC,IAAI,SAAStf,EAAQU,EAAOJ,GAC9C,YAiBA,SAASif,GAAaha,EAASnB,GAC7B,OACEA,KAAMob,EACNja,QAASA,EACTka,YAAarb,GAIjB,QAASsb,KACP,OACEtb,KAAMub,GAIV,QAASjJ,KACP,GAAItU,GAAQqB,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmBmY,EAAenY,UAAU,GACvFyb,EAASzb,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmB,KAAOA,UAAU,EAEpF,OAAIyb,GAAO9a,OAASob,GAEhBpb,KAAM8a,EAAOO,YACbla,QAAS2Z,EAAO3Z,QAChBwR,WAAW,GAEJmI,EAAO9a,OAASub,EAClBje,OAAOgR,UAAWtQ,GACvB2U,WAAW,IAGN3U,EA5CXV,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQif,aAAeA,EACvBjf,EAAQof,aAAeA,EACvBpf,EAAAA,WAAkBoW,CAClB,IAAIkF,GAAetb,EAAQsb,cACzBxX,KAAM,OACNmB,QAAS,GACTwR,WAAW,GAGTyI,EAAgBlf,EAAQkf,cAAgB,gBACxCG,EAAgBrf,EAAQqf,cAAgB,qBAmCtCC,IAAI,SAAS5f,EAAQU,EAAOJ,GAClC,YAaA,SAASke,KACP,OACEpa,KAAMyb,GAIV,QAASC,KACP,GAAI1d,GAAQqB,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmBmY,EAAenY,UAAU,GACvFyb,EAASzb,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,GAAmB,KAAOA,UAAU,EAEpF,OAAIyb,GAAO9a,OAASyb,EACXne,OAAOgR,UAAWtQ,GACvB0d,KAAM1d,EAAM0d,KAAO,IAGd1d,EA1BXV,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQke,OAASA,EACjBle,EAAAA,WAAkBwf,CAClB,IAAIlE,GAAetb,EAAQsb,cACzBkE,KAAM,GAGJD,EAAOvf,EAAQuf,KAAO,YAqBpBE,IAAI,SAAS/f,EAAQU,EAAOJ,GAClC,YAQA,SAAS8H,GAAa/F,EAAMoI,GAC1B,OACErG,KAAM+a,EACNC,OAAQ/c,EAAK0C,GACb0F,WAAYA,GAVhB/I,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ8H,aAAeA,CACvB,IAAI+W,GAAgB7e,EAAQ6e,cAAgB,qBAUtCa,IAAI,SAAShgB,EAAQU,EAAOJ,GAClC,YAQA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAKT,IAAIoe,GAAO3f,EAAQ2f,KAAO,WACxB,QAASA,KACPlf,EAAgBuC,KAAM2c,GAEtB3c,KAAK4c,YAAc,KACnB5c,KAAK6c,WAAa,KA+EpB,MA5EA1d,GAAawd,IACXld,IAAK,OACLlB,MAAO,SAAcue,GACnB9c,KAAK4c,YAAcE,EACnB9c,KAAK6c,WAAa7c,KAAK+S,kBAGzBtT,IAAK,eACLlB,MAAO,WACL,GAAkD,KAA9CuT,SAASiL,OAAO9L,QAAQjR,KAAK4c,aAAqB,CACpD,GAAII,GAAc,GAAIC,QAAOjd,KAAK4c,YAAc,YAC5CG,EAASjL,SAASiL,OAAOG,MAAMF,GAAa,EAChD,OAAOD,GAASA,EAAOI,MAAM,KAAK,GAAK,KAEvC,MAAO,SAIX1d,IAAK,UACLlB,MAAO,SAAiB6e,EAAQ5b,EAAK6b,GACnC,GAAIvf,GAAOkC,IACX,OAAO,IAAIwH,SAAQ,SAAU8V,EAASC,GACpC,GAAIC,IACFhc,IAAKA,EACL4b,OAAQA,EACRK,SACEC,cAAe5f,EAAK+e,YAGtBQ,KAAMA,MACNM,SAAU,OAEV/Y,QAAS,SAAiByY,GACxBC,EAAQD,IAGVnY,MAAO,SAAe0Y,GACpB,GAAI5Y,GAAY4Y,EAAMC,gBAEtB7Y,GAAUC,OAAS2Y,EAAM3Y,OACzBD,EAAU8Y,WAAaF,EAAME,WAE7BP,EAAOvY,IAIX3D,GAAE0c,KAAKP,QAIX/d,IAAK,MACLlB,MAAO,SAAaiD,GAClB,MAAOxB,MAAKge,QAAQ,MAAOxc,MAG7B/B,IAAK,OACLlB,MAAO,SAAciD,EAAK6b,GACxB,MAAOrd,MAAKge,QAAQ,OAAQxc,EAAK6b,MAGnC5d,IAAK,QACLlB,MAAO,SAAeiD,EAAK6b,GACzB,MAAOrd,MAAKge,QAAQ,QAASxc,EAAK6b,MAGpC5d,IAAK,MACLlB,MAAO,SAAaiD,EAAK6b,GACvB,MAAOrd,MAAKge,QAAQ,MAAOxc,EAAK6b,MAGlC5d,IAAK,SACLlB,MAAO,SAAiBiD,GACtB,MAAOxB,MAAKge,QAAQ,SAAUxc,OAI3Bmb,IAGT3f,GAAAA,WAAkB,GAAI2f,QAEhBsB,IAAI,SAASvhB,EAAQU,EAAOJ,GAClC,YAWA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAThH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQkhB,KAAOpY,MAEf,IAAIuI,GAAQ3R,EAAQ,oBAMhBwhB,EAAOlhB,EAAQkhB,KAAO,WACxB,QAASA,KACPzgB,EAAgBuC,KAAMke,GAwExB,MArEA/e,GAAa+e,IACXze,IAAK,OACLlB,MAAO,SAAc+W,EAAO6I,GAC1Bne,KAAKsG,OAASgP,EACdtV,KAAKoe,OAASD,EAGdne,KAAKqe,cAGLre,KAAKse,gBAGP7e,IAAK,cACLlB,MAAO,WACL,GAAIO,GAAQkB,KAAKsG,OAAOiY,WAAWvf,IAC/BF,GAAMiW,gBACR/U,KAAKoe,OAAOI,IAAI,QACdzJ,iBAAiB,EACjBtU,SAAU3B,EAAMC,KAAK0B,WAGvBT,KAAKoe,OAAOI,IAAI,QACdzJ,iBAAiB,OAKvBtV,IAAK,aACLlB,MAAO,WACL,GAAIwF,GAAQ/D,IAEZA,MAAKoe,OAAOK,MAAM,OAAQ,SAAU9U,GAC9BA,EAASoL,gBACXhR,EAAMuC,OAAOc,UAAU,EAAGiH,EAAM+B,SAC9B3P,SAAUkJ,EAASlJ,YAGrBsD,EAAMuC,OAAOc,UAAU,EAAGiH,EAAMoN,iBAKtChc,IAAK,SACLlB,MAAO,SAAgBQ,GACrBiB,KAAKsG,OAAOc,UAAU,EAAGiH,EAAM+B,QAAQrR,IACvCiB,KAAKoe,OAAOI,IAAI,QACdzJ,iBAAiB,EACjBtU,SAAU1B,EAAK0B,cAInBhB,IAAK,UACLlB,MAAO,WACLyB,KAAKsG,OAAOc,UAAU,EAAGiH,EAAMoN,YAC/Bzb,KAAKoe,OAAOI,IAAI,QACdzJ,iBAAiB,OAIrBtV,IAAK,cACLlB,MAAO,WACLyB,KAAKsG,OAAOc,UAAU,EAAGiH,EAAMoN,UAAS,IACxCzb,KAAKoe,OAAOI,IAAI,QACdzJ,iBAAiB,QAKhBmJ,IAGTlhB,GAAAA,WAAkB,GAAIkhB,KAEnB3F,mBAAmB,KAAKmG,IAAI,SAAShiB,EAAQU,EAAOJ,GACvD,YAkBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASO,GAA2BC,EAAMb,GAAQ,IAAKa,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOd,GAAyB,gBAATA,IAAqC,kBAATA,GAA8Ba,EAAPb,EAElO,QAASe,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAEje,QAAST,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAtBhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAGjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ2hB,QAAU3hB,EAAQ4hB,UAAY5hB,EAAQ6hB,mBAAqB7hB,EAAQ8hB,UAAY9hB,EAAQ+hB,UAAY/hB,EAAQgiB,YAAclZ,MAEjI,IAAIlG,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjCqO,EAAavR,EAAQ,4BAErBwR,EAAc7Q,EAAuB4Q,GAYrC+Q,EAAchiB,EAAQgiB,YAAc,WACtC,QAASA,KACPvhB,EAAgBuC,KAAMgf,GAaxB,MAVA7f,GAAa6f,IACXvf,IAAK,OACLlB,MAAO,SAAc2Y,EAAS6G,EAAMkB,EAAS7L,GAC3CpT,KAAK6W,SAAWK,EAChBlX,KAAK2D,MAAQoa,EACb/d,KAAKgZ,SAAWiG,EAChBjf,KAAK6D,UAAYuP,MAId4L,KAGLD,EAAY/hB,EAAQ+hB,UAAY,SAAWG,GAG7C,QAASH,KAGP,MAFAthB,GAAgBuC,KAAM+e,GAEflhB,EAA2BmC,KAAM5B,OAAO6B,eAAe8e,GAAW7e,MAAMF,KAAMG,YAuBvF,MA5BAnC,GAAU+gB,EAAWG,GAQrB/f,EAAa4f,IACXtf,IAAK,OACLlB,MAAO,WACL,MAAO,IAAIiJ,SAAQ,SAAU8V,GAE3BA,SAIJ7d,IAAK,YACLlB,MAAO,WACL,MAAO,SAGTkB,IAAK,YACLlB,MAAO,WACL,MAAO,UAIJwgB,GACNC,GAECF,EAAY9hB,EAAQ8hB,UAAY,SAAWK,GAG7C,QAASL,KAGP,MAFArhB,GAAgBuC,KAAM8e,GAEfjhB,EAA2BmC,KAAM5B,OAAO6B,eAAe6e,GAAW5e,MAAMF,KAAMG,YA+CvF,MApDAnC,GAAU8gB,EAAWK,GAQrBhgB,EAAa2f,IACXrf,IAAK,OACLlB,MAAO,WACL,GAAIT,GAAOkC,IACX,OAAO,IAAIwH,SAAQ,SAAU8V,EAASC,GACpCzf,EAAK6F,MAAM+D,IAAI5J,EAAK+Y,SAASnP,IAAI,oBAAoBhD,KAAK,SAAU2Y,GAClEvf,EAAKshB,SAAW/B,EAAK+B,SACrBthB,EAAK4K,SAAW2U,EAAKgC,UACrB/B,KACC,WACDxf,EAAK+F,UAAUqB,MAAM1E,QAAQ,4BAC7B+c,WAKN9d,IAAK,YACLlB,MAAO,WACL,YAMFkB,IAAK,YACLlB,MAAO,SAAmB+gB,GACxB,MAAOzf,GAAAA,WAAgBa,cACrBwN,EAAAA,YACErF,MAAO7I,KAAKof,SAAUzP,MAAO,aAC7BhH,WAAY2W,EAAO3W,YAAc,WACjCG,aAAcwW,EAAOxW,cAAgB,WACrCP,WAAY+W,EAAOxP,KAAKhR,MAAM+K,OAAO8E,QACrCjG,SAAU1I,KAAK0I,UAAY,MAC7B7I,EAAAA,WAAgBa,cAAc,SAAWI,KAAM,OAAQW,GAAI,aAAcd,UAAW,eAClFiP,mBAAoB,oBACpB3M,SAAUqc,EAAOxP,KAAKhR,MAAMqF,UAC5B0L,SAAUyP,EAAOxP,KAAKtG,UAAU,WAChCjL,MAAO+gB,EAAOxP,KAAKhR,MAAM6P,eAO1BmQ,GACNE,GAECH,EAAqB7hB,EAAQ6hB,mBAAqB,SAAW9e,GAG/D,QAAS8e,KAGP,MAFAphB,GAAgBuC,KAAM6e,GAEfhhB,EAA2BmC,KAAM5B,OAAO6B,eAAe4e,GAAoB3e,MAAMF,KAAMG,YA6BhG,MAlCAnC,GAAU6gB,EAAoB9e,GAQ9BZ,EAAa0f,IACXpf,IAAK,oBACLlB,MAAO,WACL,GAAIqT,GAAS5R,IAEbuf,YAAW1N,OAAO,aAChB2N,QAAWxf,KAAKV,MAAMmgB,QACtBtQ,SAAY,SAAkBxK,GAE5BiN,EAAOtS,MAAMogB,SACXrgB,QACEd,MAAOoG,WAOjBlF,IAAK,SACLlB,MAAO,WAEL,MAAOsB,GAAAA,WAAgBa,cAAc,OAASe,GAAI,kBAK/Cod,GACNhf,EAAAA,WAAgBoB,WAEf2d,EAAY5hB,EAAQ4hB,UAAY,SAAWe,GAG7C,QAASf,KAGP,MAFAnhB,GAAgBuC,KAAM4e,GAEf/gB,EAA2BmC,KAAM5B,OAAO6B,eAAe2e,GAAW1e,MAAMF,KAAMG,YA+CvF,MApDAnC,GAAU4gB,EAAWe,GAQrBxgB,EAAayf,IACXnf,IAAK,OACLlB,MAAO,WAGL,MAFAyB,MAAKgZ,SAASiG,QAAQ,2CAA2C,GAE1D,GAAIzX,SAAQ,SAAU8V,GAC3B,GAAIsC,GAAO,QAASA,KACQ,mBAAfL,YACTnf,OAAOyf,WAAW,WAChBD,KACC,KAEHtC,IAGJsC,UAIJngB,IAAK,YACLlB,MAAO,WACL,YAMFkB,IAAK,YACLlB,MAAO,SAAmB+gB,GACxB,MAAOzf,GAAAA,WAAgBa,cACrBwN,EAAAA,YACErF,MAAOrI,QAAQ,WAAYmP,MAAO,aAClChH,WAAY2W,EAAO3W,YAAc,WACjCG,aAAcwW,EAAOxW,cAAgB,WACrCP,WAAY+W,EAAOxP,KAAKhR,MAAM+K,OAAO8E,QACrCjG,SAAUlI,QAAQ,iCACpBX,EAAAA,WAAgBa,cAAcme,GAAsBY,QAASzf,KAAK6W,SAASnP,IAAI,YAAYoY,mBACzFJ,QAASJ,EAAOxP,KAAKtG,UAAU,kBAOhCoV,GACNI,GAECL,EAAU3hB,EAAQ2hB,QAAU,WAC9B,QAASA,KACPlhB,EAAgBuC,KAAM2e,GA0CxB,MAvCAxf,GAAawf,IACXlf,IAAK,OACLlB,MAAO,SAAc2Y,EAAS6G,EAAMkB,EAAS7L,GAC3C,OAAQ8D,EAAQxP,IAAI,YAAYqY,cAC9B,IAAK,KACH/f,KAAK2M,SAAW,GAAIoS,EACpB,MAEF,KAAK,KACH/e,KAAK2M,SAAW,GAAImS,EACpB,MAEF,KAAK,KACH9e,KAAK2M,SAAW,GAAIiS,GAIxB5e,KAAK2M,SAAS+K,KAAKR,EAAS6G,EAAMkB,EAAS7L,MAM7C3T,IAAK,OACLlB,MAAO,WACL,MAAOyB,MAAK2M,SAASU,UAGvB5N,IAAK,YACLlB,MAAO,WACL,MAAOyB,MAAK2M,SAASqC,eAGvBvP,IAAK,YACLlB,MAAO,SAAmB+gB,GACxB,MAAOtf,MAAK2M,SAAStF,UAAUiY,OAI5BX,IAGT3hB,GAAAA,WAAkB,GAAI2hB,KAEnBqB,2BAA2B,EAAE9e,MAAQ,UAAU+e,IAAI,SAASvjB,EAAQU,EAAOJ,GAC9E,YAQA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAKT,IAAI2hB,GAAUljB,EAAQkjB,QAAU,WAC9B,QAASA,KACPziB,EAAgBuC,KAAMkgB,GA8BxB,MA3BA/gB,GAAa+gB,IACXzgB,IAAK,OACLlB,MAAO,SAAc4hB,GACnBngB,KAAKogB,WAAaD,EAClBngB,KAAKqgB,gBAGP5gB,IAAK,UACLlB,MAAO,SAAiB+hB,GACtB,GAAIC,GAASpgB,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,IAAmB,EAAQA,UAAU,EAE9C,MAAnCH,KAAKqgB,UAAUpP,QAAQqP,KACzBtgB,KAAKqgB,UAAU3V,KAAK4V,GACpBtgB,KAAKgZ,SAASsH,EAAQC,OAI1B9gB,IAAK,WACLlB,MAAO,SAAkB+hB,EAAQC,GAC/Blf,EAAE0c,MACAvc,KAAO+e,EAA2B,GAAlBvgB,KAAKogB,YAAmBE,EACxCE,OAAO,EACP7C,SAAU,eAKTuC,IAGTljB,GAAAA,WAAkB,GAAIkjB,QAEhBO,IAAI,SAAS/jB,EAAQU,EAAOJ,GAClC,YAQA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAKT,IAAImiB,GAAUtgB,OAAOugB,aAEjBC,EAAe5jB,EAAQ4jB,aAAe,WACxC,QAASA,KACPnjB,EAAgBuC,KAAM4gB,GA6CxB,MA1CAzhB,GAAayhB,IACXnhB,IAAK,OACLlB,MAAO,SAAcsiB,GACnB,GAAI9c,GAAQ/D,IAEZA,MAAK8gB,QAAUD,EACf7gB,KAAK+gB,aAEL3gB,OAAO4gB,iBAAiB,UAAW,SAAU9kB,GAC3C,GAAI+kB,GAAeC,KAAKC,MAAMjlB,EAAEklB,SAChCrd,GAAMgd,UAAU1J,QAAQ,SAAUgK,GAC5BA,EAAQ5hB,MAAQvD,EAAEuD,KAAOvD,EAAEolB,WAAaplB,EAAEklB,UAC5CC,EAAQlS,SAAS8R,UAMzBxhB,IAAK,MACLlB,MAAO,SAAakB,EAAKlB,GACvBmiB,EAAQa,QAAQvhB,KAAK8gB,QAAUrhB,EAAKyhB,KAAKM,UAAUjjB,OAGrDkB,IAAK,MACLlB,MAAO,SAAakB,GAClB,GAAIgiB,GAAaf,EAAQgB,QAAQ1hB,KAAK8gB,QAAUrhB,EAChD,OAAIgiB,GACKP,KAAKC,MAAMM,GAEX,QAIXhiB,IAAK,QACLlB,MAAO,SAAekB,EAAK0P,GACzBnP,KAAK+gB,UAAUrW,MACbjL,IAAKO,KAAK8gB,QAAUrhB,EACpB0P,SAAUA,QAKTyR,IAGT5jB,GAAAA,WAAkB,GAAI4jB,QAEhBe,IAAI,SAASjlB,EAAQU,EAAOJ,GAClC,YAaA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAbhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ4kB,qBAAuB9b,MAE/B,IAAIkS,GAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,GAM1C4J,EAAuB5kB,EAAQ4kB,qBAAuB,WACxD,QAASA,KACPnkB,EAAgBuC,KAAM4hB,GAuCxB,MApCAziB,GAAayiB,IACXniB,IAAK,OACLlB,MAAO,SAAc8a,GACnBrZ,KAAK6hB,SAAWxI,EAChBrZ,KAAK8hB,WAAa,QAGpBriB,IAAK,OACLlB,MAAO,SAAc8I,GACfrH,KAAK8hB,aAAeza,EACtBrH,KAAKsP,QAELtP,KAAK8hB,WAAaza,GACjB,EAAGwQ,EAAAA,YAA0BxQ,EAAWrH,KAAK6hB,SAASpgB,IACvDJ,EAAErB,KAAK6hB,UAAUE,SAAS,YAI9BtiB,IAAK,gBACLlB,MAAO,SAAuBkL,EAAMpC,GAC9BrH,KAAK8hB,aAAerY,EACtBzJ,KAAKsP,QAELtP,KAAK8hB,WAAarY,GACjB,EAAGoO,EAAAA,YAA0BxQ,EAAWrH,KAAK6hB,SAASpgB,IAAI,GAC3DJ,EAAErB,KAAK6hB,UAAUE,SAAS,YAI9BtiB,IAAK,OACLlB,MAAO,WACL8C,EAAErB,KAAK6hB,UAAUG,YAAY,QAC7BhiB,KAAK8hB,WAAa,SAIfF,IAGT5kB,GAAAA,WAAkB,GAAI4kB,KAEnB1J,2BAA2B,KAAK+J,IAAI,SAASvlB,EAAQU,EAAOJ,GAC/D,YAiBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAjBhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQklB,MAAQpc,MAEhB,IAAIyL,GAAY7U,EAAQ,aAEpB8U,EAAanU,EAAuBkU,GAEpCyG,EAAkBtb,EAAQ,4BAE1Bmb,EAAmBxa,EAAuB2a,GAM1CkK,EAAQllB,EAAQklB,MAAQ,WAC1B,QAASA,KACPzkB,EAAgBuC,KAAMkiB,GA6BxB,MA1BA/iB,GAAa+iB,IACXziB,IAAK,OACLlB,MAAO,SAAc8a,GACnB,GAAItV,GAAQ/D,IAEZA,MAAK6hB,SAAWxI,EAEhBrZ,KAAK6M,OAASxL,EAAEgY,GAAS8I,OAAQ/U,MAAM,IAEvCpN,KAAK6M,OAAOuV,GAAG,kBAAmB,WAChC5Q,EAAAA,WAAmB6Q,uBAAuBte,EAAM8d,eAIpDpiB,IAAK,OACLlB,MAAO,SAAc8I,IAClB,EAAGwQ,EAAAA,YAA0BxQ,EAAWrH,KAAK6hB,SAASpgB,IACvDzB,KAAK6M,OAAOsV,MAAM,WAGpB1iB,IAAK,OACLlB,MAAO,WACLyB,KAAK6M,OAAOsV,MAAM,YAIfD,IAGTllB,GAAAA,WAAkB,GAAIklB,KAEnBhK,2BAA2B,GAAGlG,YAAY,cAAcsQ,IAAI,SAAS5lB,EAAQU,EAAOJ,GACvF,YAWA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAThH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQqW,SAAWvN,MAEnB,IAAIjC,GAAYnH,EAAQ,wBAIpB6lB,EAAwB,IACxBC,EAAsB,IAEtBnP,EAAWrW,EAAQqW,SAAW,WAChC,QAASA,KACP5V,EAAgBuC,KAAMqT,GAoFxB,MAjFAlU,GAAakU,IACX5T,IAAK,OACLlB,MAAO,SAAc+W,GACnBtV,KAAKsG,OAASgP,EACdtV,KAAKyiB,SAAW,QAGlBhjB,IAAK,QACLlB,MAAO,SAAe0D,EAASnB,GAC7B,GAAIiD,GAAQ/D,IAERA,MAAKyiB,UACPriB,OAAOsiB,aAAa1iB,KAAKyiB,UACzBziB,KAAKsG,OAAOc,UAAU,EAAGvD,EAAUuY,iBAEnCpc,KAAKyiB,SAAWriB,OAAOyf,WAAW,WAChC9b,EAAM0e,SAAW,KACjB1e,EAAM4e,MAAM1gB,EAASnB,IACpByhB,KAEHviB,KAAKsG,OAAOc,UAAU,EAAGvD,EAAUoY,cAAcha,EAASnB,IAC1Dd,KAAKyiB,SAAWriB,OAAOyf,WAAW,WAChC9b,EAAMuC,OAAOc,UAAU,EAAGvD,EAAUuY,iBACpCrY,EAAM0e,SAAW,MAChBD,OAOP/iB,IAAK,OACLlB,MAAO,SAAc0D,GACnBjC,KAAK2iB,MAAM1gB,EAAS,WAGtBxC,IAAK,UACLlB,MAAO,SAAiB0D,GACtBjC,KAAK2iB,MAAM1gB,EAAS,cAGtBxC,IAAK,UACLlB,MAAO,SAAiB0D,GACtBjC,KAAK2iB,MAAM1gB,EAAS,cAGtBxC,IAAK,QACLlB,MAAO,SAAe0D,GACpBjC,KAAK2iB,MAAM1gB,EAAS,YAMtBxC,IAAK,WACLlB,MAAO,SAAkByG,GACvB,GAAI/C,GAAUzB,QAAQ,6BAEG,KAArBwE,EAAUC,SACZhD,EAAUzB,QAAQ,sCAGK,MAArBwE,EAAUC,QAAkBD,EAAUH,SACxC5C,EAAU+C,EAAUH,QAGG,MAArBG,EAAUC,SACZhD,EAAU+C,EAAUH,OACJ,sBAAZ5C,IACFA,EAAUzB,QAAQ,uDAIG,MAArBwE,EAAUC,SACZhD,EAAUzB,QAAQ,4BAGpBR,KAAKkF,MAAMjD,OAIRoR,IAGTrW,GAAAA,WAAkB,GAAIqW,KAEnBoH,uBAAuB,KAAKmI,IAAI,SAASlmB,EAAQU,EAAOJ,GAC3D,YAWA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAThH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQ6lB,aAAe/c,MAEvB,IAAIgd,GAASpmB,EAAQ,SAIjBmmB,EAAe7lB,EAAQ6lB,aAAe,WACxC,QAASA,KACPplB,EAAgBuC,KAAM6iB,GAEtB7iB,KAAKsG,OAAS,KACdtG,KAAK+iB,aACL/iB,KAAKgjB,iBAkCP,MA/BA7jB,GAAa0jB,IACXpjB,IAAK,aACLlB,MAAO,SAAoBkL,EAAMwZ,EAAS3K,GACxCtY,KAAK+iB,UAAUtZ,GAAQwZ,EACvBjjB,KAAKgjB,cAAcvZ,GAAQ6O,KAG7B7Y,IAAK,OACLlB,MAAO,WACLyB,KAAKsG,QAAU,EAAGwc,EAAOI,cAAc,EAAGJ,EAAOK,iBAAiBnjB,KAAK+iB,WAAY/iB,KAAKgjB,kBAG1FvjB,IAAK,WACLlB,MAAO,WACL,MAAOyB,MAAKsG,UAMd7G,IAAK,WACLlB,MAAO,WACL,MAAOyB,MAAKsG,OAAOiY,cAGrB9e,IAAK,WACLlB,MAAO,SAAkBqd,GACvB,MAAO5b,MAAKsG,OAAOc,SAASwU,OAIzBiH,IAGT7lB,GAAAA,WAAkB,GAAI6lB,KAEnBO,MAAQ,UAAUC,IAAI,SAAS3mB,EAAQU,EAAOJ,GACjD,YAQA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAOT,IAAI+kB,GAAStmB,EAAQsmB,OAAS,WAC5B,QAASA,KACP7lB,EAAgBuC,KAAMsjB,GAkDxB,MA/CAnkB,GAAamkB,IACX7jB,IAAK,OACLlB,MAAO,SAAc0gB,GACnBjf,KAAKgZ,SAAWiG,KAGlBxf,IAAK,gBACLlB,MAAO,SAAuBoN,EAAUC,GAEtC,MAAO2X,QAAO5X,EAAUC,GAAQI,SAGlCvM,IAAK,OACLlB,MAAO,WACL,MAAsB,mBAAXglB,SACTvjB,KAAKgZ,SAASiG,QAAQ,uBACfjf,KAAKwjB,mBAELxjB,KAAKyjB,oBAIhBhkB,IAAK,kBACLlB,MAAO,WACL,MAAO,IAAIiJ,SAAQ,SAAU8V,GAC3B,GAAIsC,GAAO,QAASA,KACI,mBAAX2D,QACTnjB,OAAOyf,WAAW,WAChBD,KACC,KAEHtC,IAGJsC,UAIJngB,IAAK,iBACLlB,MAAO,WAEL,MAAO,IAAIiJ,SAAQ,SAAU8V,GAC3BA,UAKCgG,IAGTtmB,GAAAA,WAAkB,GAAIsmB,QAEhBI,IAAI,SAAShnB,EAAQU,EAAOJ,GAClC,YAmDA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAjDvFc,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAGTvB,EAAAA,WAAkB,SAAUqS,EAAKsU,GAY/B,GAXAnS,EAAAA,WAAmBK,OAEnBhS,EAAAA,WAAgBa,cACd6U,EAAYqO,UACVtO,MAAO/O,EAAAA,WAAgBsd,YACzBhkB,EAAAA,WAAgBa,cAAcojB,GAAsB7hB,QAASoN,EAAIpN,QAC/DK,QAAS+M,EAAI7M,YAAc,EAAGR,EAAAA,YAAkBqN,EAAI7M,YAAc,QAGtEsP,SAASC,eAAe,eAEG,mBAAhB4R,IAA+BA,EAAa;AACrD,GAAII,GAAY/d,EAAAA,WAAgB0B,IAAI,YAAYsc,UAChDlS,UAASjQ,MAAQrB,QAAQ,kBAAoB,MAAQujB,EACrD3jB,OAAO6jB,QAAQC,aAAc,GAAIle,EAAAA,WAAgB0B,IAAI,gBAIzD,IAAI3F,GAAUrF,EAAQ,UAElBsF,EAAW3E,EAAuB0E,GAElCnC,EAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2R,EAAY7U,EAAQ,aAEpB8U,EAAanU,EAAuBkU,GAEpCgE,EAAc7Y,EAAQ,eAEtB6R,EAAc7R,EAAQ,6BAEtB8R,EAAenR,EAAuBkR,GAEtCxI,EAASrJ,EAAQ,YAEjBsJ,EAAU3I,EAAuB0I,GAEjCO,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,GASjCzH,EAAS,SAAgBC,GAC3B,MAAOA,GAAM0d,MAIXsH,GAAsB,EAAGvO,EAAYK,SAAS/W,GAAQ2P,EAAAA,cAGvD2V,4BAA4B,EAAE7T,WAAW,GAAGkI,oBAAoB,GAAG5V,OAAS,SAAS1B,MAAQ,QAAQ8Q,YAAY,YAAYsE,cAAc,gBAAgB8N,IAAI,SAAS1nB,EAAQU,EAAOJ,GAC1L,YAqBA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAIvF,QAAS+mB,GAAMpjB,EAAWqjB,GACxB,GAAIC,GAAYpkB,UAAUjD,QAAU,GAAsB4I,SAAjB3F,UAAU,IAAmB,EAAOA,UAAU,GAEnFqkB,EAAc1S,SAASC,eAAeuS,EAEtCE,KACED,EACF/S,EAAAA,WAAmBK,OAEnBhS,EAAAA,WAAgBa,cACd6U,EAAYqO,UACVtO,MAAO/O,EAAAA,WAAgBsd,YACzBhkB,EAAAA,WAAgBa,cAAcO,EAAW,OAG3CujB,GAEAhT,EAAAA,WAAmBK,OAEnBhS,EAAAA,WAAgBa,cAAcO,EAAW,MAEzCujB,IA5CNpmB,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAAA,WAAkBqnB,CAElB,IAAIzkB,GAASlD,EAAQ,SAEjBmD,EAAUxC,EAAuBuC,GAEjC2R,EAAY7U,EAAQ,aAEpB8U,EAAanU,EAAuBkU,GAEpCgE,EAAc7Y,EAAQ,eAEtB4J,EAAS5J,EAAQ,qBAEjB6J,EAAUlJ,EAAuBiJ,KAiClCkS,oBAAoB,GAAGtX,MAAQ,QAAQ8Q,YAAY,YAAYsE,cAAc,gBAAgBmO,IAAI,SAAS/nB,EAAQU,EAAOJ,GAC5H,YAQA,SAASS,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH,GAAIuB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMpC,OAAQP,IAAK,CAAE,GAAI4C,GAAaD,EAAM3C,EAAI4C,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBzB,EAAYQ,UAAWuB,GAAiBC,GAAaP,EAAiBzB,EAAagC,GAAqBhC,KAEjiBS,QAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,GAKT,IAAImmB,GAAc,WAChB,QAASA,GAAYC,GACnBlnB,EAAgBuC,KAAM0kB,GAEtB1kB,KAAK4kB,WAAY,EACjB5kB,KAAK6kB,OAASF,MAyHhB,MAtHAxlB,GAAaulB,IACXjlB,IAAK,MACLlB,MAAO,SAAakB,EAAKsX,EAAM+N,GAC7B9kB,KAAK6kB,OAAOna,MACVjL,IAAKA,EACLsX,KAAMA,EAENC,MAAO8N,EAAQA,EAAM9N,OAAS,KAAO,KACrCC,OAAQ6N,EAAQA,EAAM7N,QAAU,KAAO,UAI3CxX,IAAK,MACLlB,MAAO,SAAakB,EAAKlB,GACvB,IAAK,GAAI5B,GAAI,EAAGA,EAAIqD,KAAK6kB,OAAO3nB,OAAQP,IACtC,GAAIqD,KAAK6kB,OAAOloB,GAAG8C,MAAQA,EACzB,MAAOO,MAAK6kB,OAAOloB,GAAGoa,IAI1B,OAAOxY,MAGTkB,IAAK,MACLlB,MAAO,SAAakB,GAClB,MAAyBqG,UAAlB9F,KAAK0H,IAAIjI,MAGlBA,IAAK,SACLlB,MAAO,QAASwmB,KAEd,IAAK,GADDA,MACKpoB,EAAI,EAAGA,EAAIqD,KAAK6kB,OAAO3nB,OAAQP,IACtCooB,EAAOra,KAAK1K,KAAK6kB,OAAOloB,GAAGoa,KAE7B,OAAOgO,MAGTtlB,IAAK,QACLlB,MAAO,SAAeymB,GAMpB,MALKhlB,MAAK4kB,YACR5kB,KAAK6kB,OAAS7kB,KAAKilB,OAAOjlB,KAAK6kB,QAC/B7kB,KAAK4kB,WAAY,GAGfI,GAAsC,mBAAhBA,GACjBhlB,KAAK+kB,SAEL/kB,KAAK6kB,UAIhBplB,IAAK,gBACLlB,MAAO,WACL,MAAOyB,MAAK8kB,OAAM,MAGpBrlB,IAAK,SACLlB,MAAO,SAAgB2mB,GAgCrB,QAASC,GAAWpO,GAClB,GAAIqO,GAAW,EACoB,MAA/BC,EAASpU,QAAQ8F,EAAKtX,OACpBsX,EAAKC,OACPoO,EAAWC,EAASpU,QAAQ8F,EAAKC,OAChB,KAAboO,IACFA,GAAY,IAELrO,EAAKE,SACdmO,EAAWC,EAASpU,QAAQ8F,EAAKE,SAGlB,KAAbmO,IACFE,EAAQC,OAAOH,EAAU,EAAGrO,GAC5BsO,EAASE,OAAOH,EAAU,EAAGrO,EAAKtX,OA5CxC,GAAI+lB,KACJN,GAAU7N,QAAQ,SAAUN,GAC1ByO,EAAM9a,KAAKqM,EAAKtX,MAIlB,IAAI6lB,MACAD,IAIJH,GAAU7N,QAAQ,SAAUN,GACrBA,EAAKC,OAAUD,EAAKE,SACvBqO,EAAQ5a,KAAKqM,GACbsO,EAAS3a,KAAKqM,EAAKtX,QAMvBylB,EAAU7N,QAAQ,SAAUN,GACN,SAAhBA,EAAKE,SACPqO,EAAQ5a,KAAKqM,GACbsO,EAAS3a,KAAKqM,EAAKtX,OA2BvB,KADA,GAAIgmB,GAAa,IACVA,EAAa,GAAKD,EAAMtoB,SAAWmoB,EAASnoB,QACjDuoB,GAAc,EACdP,EAAU7N,QAAQ8N,EAGpB,OAAOG,OAIJZ,IAGT1nB,GAAAA,WAAkB0nB,OAEZgB,IAAI,SAAShpB,EAAQU,EAAOJ,GAClC,YAgBA,SAASuM,KACP,MAAO,UAAUhL,GACf,MAA6B,KAAzB8C,EAAEyK,KAAKvN,GAAOrB,OACTsD,QAAQ,2BADjB,QAMJ,QAASkO,GAAMzM,GACb,MAAO,UAAU1D,GACf,MAAKonB,GAAMC,KAAKrnB,GAAhB,OACS0D,GAAWzB,QAAQ,iCAKhC,QAASqlB,GAAUC,EAAY7jB,GAC7B,MAAO,UAAU1D,GACf,GAAIwnB,GAAgB,GAChB7oB,EAASmE,EAAEyK,KAAKvN,GAAOrB,MAE3B,OAAa4oB,GAAT5oB,GAEA6oB,EADE9jB,EACcA,EAAQ6jB,EAAY5oB,GAEpB8oB,SAAS,oFAAqF,qFAAsFF,GAE/LvlB,YAAYwlB,GACjBE,YAAaH,EACbI,WAAYhpB,IACX,IATL,QAcJ,QAASipB,GAAUL,EAAY7jB,GAC7B,MAAO,UAAU1D,GACf,GAAIwnB,GAAgB,GAChB7oB,EAASmE,EAAEyK,KAAKvN,GAAOrB,MAE3B,OAAIA,GAAS4oB,GAETC,EADE9jB,EACcA,EAAQ6jB,EAAY5oB,GAEpB8oB,SAAS,mFAAoF,oFAAqFF,GAE7LvlB,YAAYwlB,GACjBE,YAAaH,EACbI,WAAYhpB,IACX,IATL,QAcJ,QAAS2R,GAAkBuX,GACzB,GAAInkB,GAAU,SAAiB6jB,GAC7B,MAAOE,UAAS,4DAA6D,6DAA8DF,GAE7I,OAAO9lB,MAAK6lB,UAAUO,EAASC,oBAAqBpkB,GAGtD,QAAS6M,GAAkBsX,GACzB,GAAInkB,GAAU,SAAiB6jB,GAC7B,MAAOE,UAAS,4DAA6D,6DAA8DF,GAE7I,OAAO9lB,MAAKmmB,UAAUC,EAASE,oBAAqBrkB,GAGtD,QAAS2M,KACP,MAAO,UAAUrQ,GACf,MAAKgoB,GAASX,KAAKvkB,EAAEyK,KAAKvN,IAA1B,OACSiC,QAAQ,iEAKrB,QAASuO,GAAkBqX,GACzB,GAAInkB,GAAU,SAAiB6jB,GAC7B,MAAOE,UAAS,kEAAmE,mEAAoEF,GAEzJ,OAAO9lB,MAAK6lB,UAAUO,EAASI,oBAAqBvkB,GA9FtD7D,OAAOoB,eAAexC,EAAS,cAC7BuB,OAAO,IAETvB,EAAQuM,SAAWA,EACnBvM,EAAQ0R,MAAQA,EAChB1R,EAAQ6oB,UAAYA,EACpB7oB,EAAQmpB,UAAYA,EACpBnpB,EAAQ6R,kBAAoBA,EAC5B7R,EAAQ8R,kBAAoBA,EAC5B9R,EAAQ4R,gBAAkBA,EAC1B5R,EAAQ+R,kBAAoBA,CAC5B,IAAI4W,GAAQ,uHACRY,EAAW,GAAItJ,QAAO,cAAe,eAqF9B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG","file":"misago.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.select = select;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"refresh\",\n    value: function refresh() {\n      window.location.reload();\n    }\n  }, {\n    key: \"getMessage\",\n    value: function getMessage() {\n      if (this.props.signedIn) {\n        return interpolate(gettext(\"You have signed in as %(username)s. Please refresh the page before continuing.\"), { username: this.props.signedIn.username }, true);\n      } else if (this.props.signedOut) {\n        return interpolate(gettext(\"%(username)s, you have been signed out. Please refresh the page before continuing.\"), { username: this.props.user.username }, true);\n      }\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      if (this.props.signedIn || this.props.signedOut) {\n        return \"auth-message show\";\n      } else {\n        return \"auth-message\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"container\" },\n          _react2.default.createElement(\n            \"p\",\n            { className: \"lead\" },\n            this.getMessage()\n          ),\n          _react2.default.createElement(\n            \"p\",\n            null,\n            _react2.default.createElement(\n              \"button\",\n              { type: \"button\", className: \"btn btn-default\",\n                onClick: this.refresh },\n              gettext(\"Reload page\")\n            ),\n            \" \",\n            _react2.default.createElement(\n              \"span\",\n              { className: \"hidden-xs hidden-sm text-muted\" },\n              gettext(\"or press F5 key.\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut\n  };\n}\n\n},{\"react\":\"react\"}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BASE_URL = $('base').attr('href') + 'user-avatar/';\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getSrc',\n    value: function getSrc() {\n      var size = this.props.size || 100; // jshint ignore:line\n      var url = BASE_URL;\n\n      if (this.props.user && this.props.user.id) {\n        // just avatar hash, size and user id\n        url += this.props.user.avatar_hash + '/' + size + '/' + this.props.user.id + '.png';\n      } else {\n        // just append avatar size to file to produce no-avatar placeholder\n        url += size + '.png';\n      }\n\n      return url;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('img', { src: this.getSrc(),\n        className: this.props.className || 'user-avatar',\n        title: gettext(\"User avatar\") });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getReasonMessage',\n    value: function getReasonMessage() {\n      /* jshint ignore:start */\n      if (this.props.message.html) {\n        return _react2.default.createElement('div', { className: 'lead',\n          dangerouslySetInnerHTML: { __html: this.props.message.html } });\n      } else {\n        return _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          this.props.message.plain\n        );\n      }\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getExpirationMessage',\n    value: function getExpirationMessage() {\n      if (this.props.expires) {\n        if (this.props.expires.isAfter((0, _moment2.default)())) {\n          return interpolate(gettext(\"This ban expires %(expires_on)s.\"), { 'expires_on': this.props.expires.fromNow() }, true);\n        } else {\n          return gettext(\"This ban has expired.\");\n        }\n      } else {\n        return gettext(\"This ban is permanent.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-error page-error-banned' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'highlight_off'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              this.getReasonMessage(),\n              _react2.default.createElement(\n                'p',\n                { className: 'message-footnote' },\n                this.getExpirationMessage()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"moment\":\"moment\",\"react\":\"react\"}],4:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar Button = (function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Button).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function render() {\n      var className = 'btn ' + this.props.className;\n      var disabled = this.props.disabled;\n\n      if (this.props.loading) {\n        className += ' btn-loading';\n        disabled = true;\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: this.props.onClick ? 'button' : 'submit',\n          className: className,\n          disabled: disabled,\n          onClick: this.props.onClick },\n        this.props.children,\n        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Button;\n})(_react2.default.Component);\n\nexports.default = Button;\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null\n};\n\n},{\"./loader\":9,\"react\":\"react\"}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _loader = require('../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.setGravatar = function () {\n      _this.callApi('gravatar');\n    };\n\n    _this.setGenerated = function () {\n      _this.callApi('generated');\n    };\n\n    _this.state = {\n      'isLoading': false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'callApi',\n    value: function callApi(avatarType) {\n      var _this2 = this;\n\n      if (this.state.isLoading) {\n        return false;\n      }\n\n      this.setState({\n        'isLoading': true\n      });\n\n      _ajax2.default.post(this.props.user.avatar_api_url, {\n        avatar: avatarType\n      }).then(function (response) {\n        _snackbar2.default.success(response.detail);\n        _this2.props.updateAvatar(response.avatar_hash, response.options);\n\n        _this2.setState({\n          'isLoading': false\n        });\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n        } else {\n          _snackbar2.default.showError(rejection);\n        }\n\n        _this2.setState({\n          'isLoading': false\n        });\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getGravatarButton',\n\n    /* jshint ignore:end */\n\n    value: function getGravatarButton() {\n      if (this.props.options.gravatar) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.setGravatar,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block' },\n          gettext(\"Download my Gravatar\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getAvatarPreview',\n    value: function getAvatarPreview() {\n      if (this.state.isLoading) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'avatar-preview preview-loading' },\n          _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '200' }),\n          _react2.default.createElement(_loader2.default, null)\n        );\n        /* jshint ignore:end */\n      } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'div',\n            { className: 'avatar-preview' },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '200' })\n          );\n          /* jshint ignore:end */\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-index' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-5' },\n            this.getAvatarPreview()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-7' },\n            this.getGravatarButton(),\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.setGenerated,\n                disabled: this.state.isLoading,\n                className: 'btn-default btn-block' },\n              gettext(\"Generate my individual avatar\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":49,\"../../services/snackbar\":56,\"../avatar\":2,\"../button\":4,\"../loader\":9,\"react\":\"react\"}],6:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChangeAvatarError = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('./index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _modalLoader = require('../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _index3 = require('../../index');\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _users = require('../../reducers/users');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar ChangeAvatarError = exports.ChangeAvatarError = (function (_React$Component) {\n  _inherits(ChangeAvatarError, _React$Component);\n\n  function ChangeAvatarError() {\n    _classCallCheck(this, ChangeAvatarError);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ChangeAvatarError).apply(this, arguments));\n  }\n\n  _createClass(ChangeAvatarError, [{\n    key: 'getErrorReason',\n    value: function getErrorReason() {\n      if (this.props.reason) {\n        /* jshint ignore:start */\n        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'remove_circle_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.props.message\n          ),\n          this.getErrorReason()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ChangeAvatarError;\n})(_react2.default.Component);\n\nvar _class = (function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this2), _this2.showError = function (error) {\n      _this2.setState({\n        error: error\n      });\n    }, _this2.updateAvatar = function (avatarHash, options) {\n      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, avatarHash));\n\n      _this2.setState({\n        'component': _index2.default,\n        options: options\n      });\n    }, _this2.showIndex = function () {\n      _this2.setState({\n        'component': _index2.default\n      });\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      Promise.all([_ajax2.default.get(_index4.default.get('user').avatar_api_url)]).then(function (resolutions) {\n        _this3.setState({\n          'component': _index2.default,\n          'options': resolutions[0]\n        });\n      }, function (rejection) {\n        _this3.showError(rejection);\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getBody',\n\n    /* jshint ignore:end */\n\n    value: function getBody() {\n      if (this.state) {\n        if (this.state.error) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,\n            reason: this.state.error.reason });\n          /* jshint ignore:end */\n        } else {\n            /* jshint ignore:start */\n            return _react2.default.createElement(this.state.component, { options: this.state.options,\n              user: this.props.user,\n              updateAvatar: this.updateAvatar,\n              showIndex: this.showIndex });\n            /* jshint ignore:end */\n          }\n      } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_modalLoader2.default, null);\n          /* jshint ignore:end */\n        }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state && this.state.error) {\n        return \"modal-dialog modal-message modal-change-avatar\";\n      } else {\n        return \"modal-dialog modal-change-avatar\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                ''\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Change your avatar\")\n            )\n          ),\n          this.getBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    'user': state.auth.user\n  };\n}\n\n},{\"../../index\":22,\"../../reducers/users\":48,\"../../services/ajax\":49,\"../../services/store\":57,\"../modal-loader\":10,\"./index\":5,\"react\":\"react\"}],7:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'isValidated',\n    value: function isValidated() {\n      return typeof this.props.validation !== \"undefined\";\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      var className = 'form-group';\n      if (this.isValidated()) {\n        className += ' has-feedback';\n        if (this.props.validation === null) {\n          className += ' has-success';\n        } else {\n          className += ' has-error';\n        }\n      }\n      return className;\n    }\n  }, {\n    key: 'getFeedback',\n    value: function getFeedback() {\n      var _this2 = this;\n\n      if (this.props.validation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'help-block errors' },\n          this.props.validation.map(function (error, i) {\n            return _react2.default.createElement(\n              'p',\n              { key: _this2.props.for + 'FeedbackItem' + i },\n              error\n            );\n          })\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getFeedbackIcon',\n    value: function getFeedbackIcon() {\n      if (this.isValidated()) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { className: 'material-icon form-control-feedback',\n            'aria-hidden': 'true', key: this.props.for + 'FeedbackIcon' },\n          this.props.validation ? 'clear' : 'check'\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getFeedbackDescription',\n    value: function getFeedbackDescription() {\n      if (this.isValidated()) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { id: this.props.for + '_status', className: 'sr-only' },\n          this.props.validation ? gettext('(error)') : gettext('(success)')\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'getHelpText',\n    value: function getHelpText() {\n      if (this.props.helpText) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          this.props.helpText\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'label',\n          { className: 'control-label ' + (this.props.labelClass || ''),\n            htmlFor: this.props.for || '' },\n          this.props.label,\n          ':'\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: this.props.controlClass || '' },\n          this.props.children,\n          this.getFeedbackIcon(),\n          this.getFeedbackDescription(),\n          this.getFeedback(),\n          this.getHelpText(),\n          this.props.extra || null\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],8:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _validators = require('../utils/validators');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar validateRequired = (0, _validators.required)();\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.bindInput = function (name) {\n      return function (event) {\n        var newState = {};\n        newState[name] = event.target.value;\n\n        var formErrors = _this.state.errors || {};\n        formErrors[name] = _this.validateField(name, newState[name]);\n        newState.errors = formErrors;\n\n        _this.setState(newState);\n      };\n    }, _this.handleSubmit = function (event) {\n      // we don't reload page on submissions\n      event.preventDefault();\n      if (_this.state.isLoading) {\n        return;\n      }\n\n      if (_this.clean()) {\n        _this.setState({ 'isLoading': true });\n        var promise = _this.send();\n\n        if (promise) {\n          promise.then(function (success) {\n            _this.setState({ 'isLoading': false });\n            _this.handleSuccess(success);\n          }, function (rejection) {\n            _this.setState({ 'isLoading': false });\n            _this.handleError(rejection);\n          });\n        } else {\n          _this.setState({ 'isLoading': false });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'validate',\n    value: function validate() {\n      var errors = {};\n\n      var validators = {\n        required: this.state.validators.required || this.state.validators,\n        optional: this.state.validators.optional || {}\n      };\n\n      var validatedFields = [];\n\n      // add required fields to validation\n      for (var name in validators.required) {\n        if (validators.required.hasOwnProperty(name) && validators.required[name]) {\n          validatedFields.push(name);\n        }\n      }\n\n      // add optional fields to validation\n      for (var name in validators.optional) {\n        if (validators.optional.hasOwnProperty(name) && validators.optional[name]) {\n          validatedFields.push(name);\n        }\n      }\n\n      // validate fields values\n      for (var i in validatedFields) {\n        var name = validatedFields[i];\n        var fieldErrors = this.validateField(name, this.state[name]);\n\n        if (fieldErrors === null) {\n          errors[name] = null;\n        } else if (fieldErrors) {\n          errors[name] = fieldErrors;\n        }\n      }\n\n      return errors;\n    }\n  }, {\n    key: 'isValid',\n    value: function isValid() {\n      var errors = this.validate();\n      for (var field in errors) {\n        if (errors.hasOwnProperty(field)) {\n          if (errors[field] !== null) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: 'validateField',\n    value: function validateField(name, value) {\n      var errors = [];\n\n      var validators = {\n        required: (this.state.validators.required || this.state.validators)[name],\n        optional: (this.state.validators.optional || {})[name]\n      };\n\n      var requiredError = validateRequired(value) || false;\n\n      if (validators.required) {\n        if (requiredError) {\n          errors = [requiredError];\n        } else {\n          for (var i in validators.required) {\n            var validationError = validators.required[i](value);\n            if (validationError) {\n              errors.push(validationError);\n            }\n          }\n        }\n\n        return errors.length ? errors : null;\n      } else if (requiredError === false && validators.optional) {\n        for (var i in validators.optional) {\n          var validationError = validators.optional[i](value);\n          if (validationError) {\n            errors.push(validationError);\n          }\n        }\n\n        return errors.length ? errors : null;\n      }\n\n      return false; // false === field wasn't validated\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n    value: function clean() {\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return null;\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      return;\n    }\n  }, {\n    key: 'handleError',\n\n    /* jshint ignore:end */\n    value: function handleError(rejection) {\n      return;\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../utils/validators\":62,\"react\":\"react\"}],9:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"loader\" },\n        _react2.default.createElement(\"div\", { className: \"loader-spinning-wheel\" })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],10:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-loader' },\n        _react2.default.createElement(_loader2.default, null)\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./loader\":9,\"react\":\"react\"}],11:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LABELS = exports.STYLES = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];\n\nvar LABELS = exports.LABELS = [gettext(\"Entered password is very weak.\"), gettext(\"Entered password is weak.\"), gettext(\"Entered password is average.\"), gettext(\"Entered password is strong.\"), gettext(\"Entered password is very strong.\")];\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this._score = 0;\n    _this._password = null;\n    _this._inputs = [];\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getScore',\n    value: function getScore(password, inputs) {\n      var _this2 = this;\n\n      var cacheStale = false;\n\n      if (password.trim() !== this._password) {\n        cacheStale = true;\n      }\n\n      if (inputs.length !== this._inputs.length) {\n        cacheStale = true;\n      } else {\n        inputs.map(function (value, i) {\n          if (value.trim() !== _this2._inputs[i]) {\n            cacheStale = true;\n          }\n        });\n      }\n\n      if (cacheStale) {\n        this._score = _zxcvbn2.default.scorePassword(password, inputs);\n        this._password = password.trim();\n        this._inputs = inputs.map(function (value) {\n          return value.trim();\n        });\n      }\n\n      return this._score;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      var score = this.getScore(this.props.password, this.props.inputs);\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'help-block password-strength' },\n        _react2.default.createElement(\n          'div',\n          { className: 'progress' },\n          _react2.default.createElement(\n            'div',\n            { className: \"progress-bar \" + STYLES[score],\n              style: { width: 20 + 20 * score + '%' },\n              role: 'progress-bar',\n              'aria-valuenow': score,\n              'aria-valuemin': '0',\n              'aria-valuemax': '4' },\n            _react2.default.createElement(\n              'span',\n              { className: 'sr-only' },\n              LABELS[score]\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'text-small' },\n          LABELS[score]\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/zxcvbn\":58,\"react\":\"react\"}],12:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _register = require('./register.js');\n\nvar _register2 = _interopRequireDefault(_register);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n// jshint ignore:line\n\nvar _class = (function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.showRegisterModal = function () {\n      if (misago.get('SETTINGS').account_activation === 'closed') {\n        _snackbar2.default.info(gettext(\"New registrations are currently disabled.\"));\n      } else if (_this.state.isLoaded) {\n        _modal2.default.show(_register2.default);\n      } else {\n        _this.setState({\n          'isLoading': true\n        });\n\n        Promise.all([_captcha2.default.load(), _zxcvbn2.default.load()]).then(function () {\n          if (!_this.state.isLoaded) {\n            _this.setState({\n              'isLoading': false,\n              'isLoaded': false\n            });\n          }\n\n          _modal2.default.show(_register2.default);\n        });\n      }\n    };\n\n    _this.state = {\n      'isLoading': false,\n      'isLoaded': false\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showRegisterModal,\n          className: 'btn ' + this.getClassName(),\n          disabled: this.state.isLoaded },\n        gettext(\"Register\"),\n        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/captcha\":51,\"../services/modal\":55,\"../services/snackbar\":56,\"../services/zxcvbn\":58,\"./loader\":9,\"./register.js\":13,\"react\":\"react\"}],13:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegisterComplete = exports.RegisterForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('./form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _passwordStrength = require('./password-strength');\n\nvar _passwordStrength2 = _interopRequireDefault(_passwordStrength);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar RegisterForm = exports.RegisterForm = (function (_Form) {\n  _inherits(RegisterForm, _Form);\n\n  function RegisterForm(props) {\n    _classCallCheck(this, RegisterForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'username': '',\n      'email': '',\n      'password': '',\n      'captcha': '',\n\n      'validators': {\n        'username': [validators.usernameContent(), validators.usernameMinLength(_index2.default.get('SETTINGS')), validators.usernameMaxLength(_index2.default.get('SETTINGS'))],\n        'email': [validators.email()],\n        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))],\n        'captcha': _captcha2.default.validator()\n      },\n\n      'errors': {}\n    };\n    return _this;\n  }\n\n  _createClass(RegisterForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          'errors': this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('USERS_API'), {\n        'username': this.state.username,\n        'email': this.state.email,\n        'password': this.state.password,\n        'captcha': this.state.captcha\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        this.setState({\n          'errors': Object.assign({}, this.state.errors, rejection)\n        });\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getLegalFootNote',\n    value: function getLegalFootNote() {\n      if (_index2.default.get('TERMS_OF_SERVICE_URL')) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: _index2.default.get('TERMS_OF_SERVICE_URL'),\n            target: '_blank' },\n          gettext(\"By registering you agree to site's terms and conditions.\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-register', role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                ''\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Register\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit, className: 'form-horizontal' },\n            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),\n            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Username\"), 'for': 'id_username',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.username },\n                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',\n                  'aria-describedby': 'id_username_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('username'),\n                  value: this.state.username })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"E-mail\"), 'for': 'id_email',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.email },\n                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',\n                  'aria-describedby': 'id_email_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('email'),\n                  value: this.state.email })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Password\"), 'for': 'id_password',\n                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                  validation: this.state.errors.password,\n                  extra: _react2.default.createElement(_passwordStrength2.default, { password: this.state.password,\n                    inputs: [this.state.username, this.state.email] }) },\n                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',\n                  'aria-describedby': 'id_password_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('password'),\n                  value: this.state.password })\n              ),\n              _captcha2.default.component({\n                form: this,\n                labelClass: \"col-sm-4\",\n                controlClass: \"col-sm-8\"\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getLegalFootNote(),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary', loading: this.state.isLoading },\n                gettext(\"Register account\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterForm;\n})(_form2.default);\n\nvar RegisterComplete = exports.RegisterComplete = (function (_React$Component) {\n  _inherits(RegisterComplete, _React$Component);\n\n  function RegisterComplete() {\n    _classCallCheck(this, RegisterComplete);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(RegisterComplete).apply(this, arguments));\n  }\n\n  _createClass(RegisterComplete, [{\n    key: 'getLead',\n    value: function getLead() {\n      if (this.props.activation === 'user') {\n        return gettext(\"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\");\n      }\n    }\n  }, {\n    key: 'getSubscript',\n    value: function getSubscript() {\n      if (this.props.activation === 'user') {\n        return gettext(\"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"We will send an e-mail to %(email)s when this takes place.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-message modal-register',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                ''\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Registration complete\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-body' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                interpolate(this.getLead(), { 'username': this.props.username }, true)\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                interpolate(this.getSubscript(), { 'email': this.props.email }, true)\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterComplete;\n})(_react2.default.Component);\n\nvar _class = (function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this3.completeRegistration = function (apiResponse) {\n      if (apiResponse.activation === 'active') {\n        _modal2.default.hide();\n        _auth2.default.signIn(apiResponse);\n      } else {\n        _this3.setState({\n          'complete': apiResponse\n        });\n      }\n    };\n\n    _this3.state = {\n      'complete': false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(RegisterComplete, { activation: this.state.complete.activation,\n          username: this.state.complete.username,\n          email: this.state.complete.email });\n      } else {\n        return _react2.default.createElement(RegisterForm, { callback: this.completeRegistration });\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/auth\":50,\"../services/captcha\":51,\"../services/modal\":55,\"../services/snackbar\":56,\"../utils/banned-page\":59,\"../utils/validators\":62,\"./button\":4,\"./form\":8,\"./form-group\":7,\"./password-strength\":11,\"react\":\"react\"}],14:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkSent = exports.RequestLinkForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar RequestLinkForm = exports.RequestLinkForm = (function (_Form) {\n  _inherits(RequestLinkForm, _Form);\n\n  function RequestLinkForm(props) {\n    _classCallCheck(this, RequestLinkForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestLinkForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestLinkForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        _snackbar2.default.info(rejection.detail);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestLinkForm;\n})(_form2.default);\n\nvar LinkSent = exports.LinkSent = (function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Activation link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-primary btn-block',\n              onClick: this.props.callback },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n})(_react2.default.Component);\n\nvar _class = (function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this3.complete = function (apiResponse) {\n      _this3.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this3.reset = function () {\n      _this3.setState({\n        complete: false\n      });\n    };\n\n    _this3.state = {\n      complete: false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });\n      } else {\n        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });\n      };\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/snackbar\":56,\"../utils/banned-page\":59,\"../utils/validators\":62,\"./button\":4,\"./form\":8,\"react\":\"react\"}],15:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar RequestResetForm = exports.RequestResetForm = (function (_Form) {\n  _inherits(RequestResetForm, _Form);\n\n  function RequestResetForm(props) {\n    _classCallCheck(this, RequestResetForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RequestResetForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestResetForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        this.props.showInactivePage(rejection);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestResetForm;\n})(_form2.default);\n\nvar LinkSent = exports.LinkSent = (function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(LinkSent).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Reset password link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-primary btn-block',\n              onClick: this.props.callback },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n})(_react2.default.Component);\n\nvar AccountInactivePage = exports.AccountInactivePage = (function (_React$Component2) {\n  _inherits(AccountInactivePage, _React$Component2);\n\n  function AccountInactivePage() {\n    _classCallCheck(this, AccountInactivePage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(AccountInactivePage).apply(this, arguments));\n  }\n\n  _createClass(AccountInactivePage, [{\n    key: 'getActivateButton',\n    value: function getActivateButton() {\n      if (this.props.activation === 'inactive_user') {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },\n            gettext(\"Activate your account.\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-info page-forgotten-password-inactive' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                gettext(\"Your account is inactive.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                this.props.message\n              ),\n              this.getActivateButton()\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return AccountInactivePage;\n})(_react2.default.Component);\n\nvar _class = (function (_React$Component3) {\n  _inherits(_class, _React$Component3);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this4.complete = function (apiResponse) {\n      _this4.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this4.reset = function () {\n      _this4.setState({\n        complete: false\n      });\n    };\n\n    _this4.state = {\n      complete: false\n    };\n    return _this4;\n  }\n\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'showInactivePage',\n    value: function showInactivePage(apiResponse) {\n      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, { activation: apiResponse.code,\n        message: apiResponse.detail }), document.getElementById('page-mount'));\n    }\n    /* jshint ignore:end */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });\n      } else {\n        return _react2.default.createElement(RequestResetForm, { callback: this.complete,\n          showInactivePage: this.showInactivePage });\n      };\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/snackbar\":56,\"../utils/banned-page\":59,\"../utils/validators\":62,\"./button\":4,\"./form\":8,\"react\":\"react\",\"react-dom\":\"react-dom\"}],16:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PasswordChangedPage = exports.ResetPasswordForm = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _signIn = require('./sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar ResetPasswordForm = exports.ResetPasswordForm = (function (_Form) {\n  _inherits(ResetPasswordForm, _Form);\n\n  function ResetPasswordForm(props) {\n    _classCallCheck(this, ResetPasswordForm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ResetPasswordForm).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'password': '',\n\n      'validators': {\n        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ResetPasswordForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        if (this.state.password.trim().length) {\n          _snackbar2.default.error(this.state.errors.password[0]);\n        } else {\n          _snackbar2.default.error(gettext(\"Enter new password.\"));\n        }\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-reset-password' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'password', className: 'form-control',\n                placeholder: gettext(\"Enter new password\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('password'),\n                value: this.state.password })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Change password\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ResetPasswordForm;\n})(_form2.default);\n\nvar PasswordChangedPage = exports.PasswordChangedPage = (function (_React$Component) {\n  _inherits(PasswordChangedPage, _React$Component);\n\n  function PasswordChangedPage() {\n    _classCallCheck(this, PasswordChangedPage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(PasswordChangedPage).apply(this, arguments));\n  }\n\n  _createClass(PasswordChangedPage, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"%(username)s, your password has been changed successfully.\"), {\n        username: this.props.user.username\n      }, true);\n    }\n  }, {\n    key: 'showSignIn',\n    value: function showSignIn() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-success page-forgotten-password-changed' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'check'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                this.getMessage()\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                gettext(\"You will have to sign in using new password before continuing.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'button',\n                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },\n                  gettext(\"Sign in\")\n                )\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return PasswordChangedPage;\n})(_react2.default.Component);\n\nvar _class = (function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this3, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(_class)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {\n      _auth2.default.softSignOut();\n\n      // nuke \"redirect_to\" field so we don't end\n      // coming back to error page after sign in\n      $('#hidden-login-form input[name=\"redirect_to\"]').remove();\n\n      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));\n    }, _temp), _possibleConstructorReturn(_this3, _ret);\n  }\n  /* jshint ignore:start */\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/auth\":50,\"../services/modal\":55,\"../services/snackbar\":56,\"../utils/banned-page\":59,\"../utils/validators\":62,\"./button\":4,\"./form\":8,\"./sign-in.js\":17,\"react\":\"react\",\"react-dom\":\"react-dom\"}],17:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar _class = (function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(_class).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n      'showActivation': false,\n\n      'username': '',\n      'password': '',\n\n      'validators': {\n        'username': [],\n        'password': []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.isValid()) {\n        _snackbar2.default.error(gettext(\"Fill out both fields.\"));\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('AUTH_API'), {\n        'username': this.state.username,\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      var form = $('#hidden-login-form');\n\n      form.append('<input type=\"text\" name=\"username\" />');\n      form.append('<input type=\"password\" name=\"password\" />');\n\n      // fill out form with user credentials and submit it, this will tell\n      // Misago to redirect user back to right page, and will trigger browser's\n      // key ring feature\n      form.find('input[type=\"hidden\"]').val(_ajax2.default.getCsrfToken());\n      form.find('input[name=\"redirect_to\"]').val(window.location.pathname);\n      form.find('input[name=\"username\"]').val(this.state.username);\n      form.find('input[name=\"password\"]').val(this.state.password);\n      form.submit();\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.code === 'inactive_admin') {\n          _snackbar2.default.info(rejection.detail);\n        } else if (rejection.code === 'inactive_user') {\n          _snackbar2.default.info(rejection.detail);\n          this.setState({\n            'showActivation': true\n          });\n        } else if (rejection.code === 'banned') {\n          (0, _bannedPage2.default)(rejection.detail);\n          _modal2.default.hide();\n        } else {\n          _snackbar2.default.error(rejection.detail);\n        }\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getActivationButton',\n    value: function getActivationButton() {\n      if (this.state.showActivation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),\n            className: 'btn btn-success btn-block' },\n          gettext(\"Activate account\")\n        );\n        /* jshint ignore:end */\n      } else {\n          return null;\n        }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-sm modal-sign-in',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                ''\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Sign in\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Username or e-mail\"),\n                    onChange: this.bindInput('username'),\n                    value: this.state.username })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',\n                    disabled: this.state.isLoading,\n                    placeholder: gettext(\"Password\"),\n                    onChange: this.bindInput('password'),\n                    value: this.state.password })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getActivationButton(),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary btn-block',\n                  loading: this.state.isLoading },\n                gettext(\"Sign in\")\n              ),\n              _react2.default.createElement(\n                'a',\n                { href: _index2.default.get('FORGOTTEN_PASSWORD_URL'),\n                  className: 'btn btn-default btn-block' },\n                gettext(\"Forgot password?\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n})(_form2.default);\n\nexports.default = _class;\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/modal\":55,\"../services/snackbar\":56,\"../utils/banned-page\":59,\"./button\":4,\"./form\":8,\"react\":\"react\"}],18:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* jshint ignore:start */\nvar TYPES_CLASSES = {\n  'info': 'alert-info',\n  'success': 'alert-success',\n  'warning': 'alert-warning',\n  'error': 'alert-danger'\n};\n/* jshint ignore:end */\n\nvar Snackbar = exports.Snackbar = (function (_React$Component) {\n  _inherits(Snackbar, _React$Component);\n\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Snackbar).apply(this, arguments));\n  }\n\n  _createClass(Snackbar, [{\n    key: 'getSnackbarClass',\n    value: function getSnackbarClass() {\n      var snackbarClass = 'alerts-snackbar';\n      if (this.props.isVisible) {\n        snackbarClass += ' in';\n      } else {\n        snackbarClass += ' out';\n      }\n      return snackbarClass;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getSnackbarClass() },\n        _react2.default.createElement(\n          'p',\n          { className: 'alert ' + TYPES_CLASSES[this.props.type] },\n          this.props.message\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Snackbar;\n})(_react2.default.Component);\n\nfunction select(state) {\n  return state.snackbar;\n}\n\n},{\"react\":\"react\"}],19:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _registerButton = require('../register-button');\n\nvar _registerButton2 = _interopRequireDefault(_registerButton);\n\nvar _signIn = require('../sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\nvar GuestMenu = exports.GuestMenu = (function (_React$Component) {\n  _inherits(GuestMenu, _React$Component);\n\n  function GuestMenu() {\n    _classCallCheck(this, GuestMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestMenu).apply(this, arguments));\n  }\n\n  _createClass(GuestMenu, [{\n    key: 'showSignInModal',\n    value: function showSignInModal() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'guest-preview' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"You are browsing as guest.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext('Sign in or register to start and participate in discussions.')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                'button',\n                { type: 'button', className: 'btn btn-default btn-block',\n                  onClick: this.showSignInModal },\n                gettext(\"Sign in\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                _registerButton2.default,\n                { className: 'btn-primary btn-block' },\n                gettext(\"Register\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestMenu;\n})(_react2.default.Component);\n\nvar GuestNav = exports.GuestNav = (function (_GuestMenu) {\n  _inherits(GuestNav, _GuestMenu);\n\n  function GuestNav() {\n    _classCallCheck(this, GuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(GuestNav).apply(this, arguments));\n  }\n\n  _createClass(GuestNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'nav nav-guest' },\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn navbar-btn btn-default',\n            onClick: this.showSignInModal },\n          gettext(\"Sign in\")\n        ),\n        _react2.default.createElement(\n          _registerButton2.default,\n          { className: 'navbar-btn btn-primary' },\n          gettext(\"Register\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestNav;\n})(GuestMenu);\n\nvar CompactGuestNav = exports.CompactGuestNav = (function (_React$Component2) {\n  _inherits(CompactGuestNav, _React$Component2);\n\n  function CompactGuestNav() {\n    _classCallCheck(this, CompactGuestNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactGuestNav).apply(this, arguments));\n  }\n\n  _createClass(CompactGuestNav, [{\n    key: 'showGuestMenu',\n    value: function showGuestMenu() {\n      _mobileNavbarDropdown2.default.show(GuestMenu);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showGuestMenu },\n        _react2.default.createElement(_avatar2.default, { size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactGuestNav;\n})(_react2.default.Component);\n\n},{\"../../services/mobile-navbar-dropdown\":54,\"../../services/modal\":55,\"../avatar\":2,\"../register-button\":12,\"../sign-in.js\":17,\"react\":\"react\"}],20:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserMenu = exports.UserMenu = undefined;\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _guestNav = require('./guest-nav');\n\nvar _userNav = require('./user-nav');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = (function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.GuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n})(_react2.default.Component);\n\nvar CompactUserMenu = exports.CompactUserMenu = (function (_React$Component2) {\n  _inherits(CompactUserMenu, _React$Component2);\n\n  function CompactUserMenu() {\n    _classCallCheck(this, CompactUserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserMenu).apply(this, arguments));\n  }\n\n  _createClass(CompactUserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.CompactGuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserMenu;\n})(_react2.default.Component);\n\nfunction select(state) {\n  return state.auth;\n}\n\n},{\"./guest-nav\":19,\"./user-nav\":21,\"react\":\"react\"}],21:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserNav = exports.UserNav = exports.UserMenu = undefined;\nexports.selectUserMenu = selectUserMenu;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _root = require('../change-avatar/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = (function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserMenu).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'logout',\n    value: function logout() {\n      var decision = confirm(gettext(\"Are you sure you want to sign out?\"));\n      if (decision) {\n        $('#hidden-logout-form').submit();\n      }\n    }\n  }, {\n    key: 'changeAvatar',\n    value: function changeAvatar() {\n      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-header' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            this.props.user.username\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'account_circle'\n            ),\n            gettext(\"See your profile\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('USERCP_URL') },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'done_all'\n            ),\n            gettext(\"Change options\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn-link', onClick: this.changeAvatar },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'face'\n            ),\n            gettext(\"Change avatar\")\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-footer' },\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-default btn-block',\n              onClick: this.logout },\n            gettext(\"Log out\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n})(_react2.default.Component);\n\nvar UserNav = exports.UserNav = (function (_React$Component2) {\n  _inherits(UserNav, _React$Component2);\n\n  function UserNav() {\n    _classCallCheck(this, UserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserNav).apply(this, arguments));\n  }\n\n  _createClass(UserNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: 'ul nav navbar-nav nav-user' },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown' },\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.absolute_url, className: 'dropdown-toggle',\n              'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false',\n              role: 'button' },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n          ),\n          _react2.default.createElement(UserMenu, { user: this.props.user })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserNav;\n})(_react2.default.Component);\n\nfunction selectUserMenu(store) {\n  return { user: store.auth.user };\n}\n\nvar CompactUserNav = exports.CompactUserNav = (function (_React$Component3) {\n  _inherits(CompactUserNav, _React$Component3);\n\n  function CompactUserNav() {\n    _classCallCheck(this, CompactUserNav);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CompactUserNav).apply(this, arguments));\n  }\n\n  _createClass(CompactUserNav, [{\n    key: 'showUserMenu',\n    value: function showUserMenu() {\n      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showUserMenu },\n        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserNav;\n})(_react2.default.Component);\n\n},{\"../../index\":22,\"../../services/mobile-navbar-dropdown\":54,\"../../services/modal\":55,\"../avatar\":2,\"../change-avatar/root\":6,\"react\":\"react\",\"react-redux\":\"react-redux\"}],22:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Misago = undefined;\n\nvar _orderedList = require('./utils/ordered-list');\n\nvar _orderedList2 = _interopRequireDefault(_orderedList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Misago = exports.Misago = (function () {\n  function Misago() {\n    _classCallCheck(this, Misago);\n\n    this._initializers = [];\n    this._context = {};\n  }\n\n  _createClass(Misago, [{\n    key: 'addInitializer',\n    value: function addInitializer(initializer) {\n      this._initializers.push({\n        key: initializer.name,\n\n        item: initializer.initializer,\n\n        after: initializer.after,\n        before: initializer.before\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init(context) {\n      var _this = this;\n\n      this._context = context;\n\n      var initOrder = new _orderedList2.default(this._initializers).orderedValues();\n      initOrder.forEach(function (initializer) {\n        initializer(_this);\n      });\n    }\n\n    // context accessors\n\n  }, {\n    key: 'has',\n    value: function has(key) {\n      return this._context.hasOwnProperty(key);\n    }\n  }, {\n    key: 'get',\n    value: function get(key, fallback) {\n      if (this.has(key)) {\n        return this._context[key];\n      } else {\n        return fallback || undefined;\n      }\n    }\n  }]);\n\n  return Misago;\n})();\n\n// create  singleton\n\nvar misago = new Misago();\n\n// expose it globally\nglobal.misago = misago;\n\n// and export it for tests and stuff\nexports.default = misago;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils/ordered-list\":61}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));\n}\n\n_index2.default.addInitializer({\n  name: 'ajax',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"../services/ajax\":49}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _authMessage = require('../components/auth-message');\n\nvar _authMessage2 = _interopRequireDefault(_authMessage);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:auth-message',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/auth-message\":1,\"../index\":22,\"../utils/mount-component\":60,\"react-redux\":\"react-redux\"}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../reducers/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _store2.default.addReducer('auth', _auth2.default, Object.assign({\n    'isAuthenticated': context.get('isAuthenticated'),\n    'isAnonymous': !context.get('isAuthenticated'),\n\n    'user': context.get('user')\n  }, _auth.initialState));\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:auth',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":22,\"../reducers/auth\":45,\"../services/store\":57}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _localStorage = require('../services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _auth2.default.init(_store2.default, _localStorage2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'auth',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":22,\"../services/auth\":50,\"../services/local-storage\":53,\"../services/store\":57}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.get('BAN_MESSAGE')) {\n    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:baned-page',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":22,\"../utils/banned-page\":59}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'captcha',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"../services/ajax\":49,\"../services/captcha\":51,\"../services/include\":52,\"../services/snackbar\":56}],29:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _include2.default.init(context.get('STATIC_URL'));\n}\n\n_index2.default.addInitializer({\n  name: 'include',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"../services/include\":52}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _localStorage = require('../services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _localStorage2.default.init('misago_');\n}\n\n_index2.default.addInitializer({\n  name: 'local-storage',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"../services/local-storage\":53}],31:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('mobile-navbar-dropdown-mount');\n  if (element) {\n    _mobileNavbarDropdown2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'dropdown',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":22,\"../services/mobile-navbar-dropdown\":54}],32:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('modal-mount');\n  if (element) {\n    _modal2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'modal',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":22,\"../services/modal\":55}],33:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _moment2.default.locale($('html').attr('lang'));\n}\n\n_index2.default.addInitializer({\n  name: 'moment',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"moment\":\"moment\"}],34:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestActivationLink = require('../components/request-activation-link');\n\nvar _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-activation-link-mount')) {\n    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-activation-link',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/request-activation-link\":14,\"../index\":22,\"../utils/mount-component\":60}],35:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestPasswordReset = require('../components/request-password-reset');\n\nvar _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-password-reset-mount')) {\n    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-password-reset',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/request-password-reset\":15,\"../index\":22,\"../utils/mount-component\":60}],36:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _resetPasswordForm = require('../components/reset-password-form');\n\nvar _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('reset-password-form-mount')) {\n    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:reset-password-form',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/reset-password-form\":16,\"../index\":22,\"../utils/mount-component\":60}],37:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../components/snackbar');\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:snackbar',\n  initializer: initializer,\n  after: 'snackbar'\n});\n\n},{\"../components/snackbar\":18,\"../index\":22,\"../utils/mount-component\":60,\"react-redux\":\"react-redux\"}],38:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../reducers/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:snackbar',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":22,\"../reducers/snackbar\":46,\"../services/store\":57}],39:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _snackbar2.default.init(_store2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'snackbar',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":22,\"../services/snackbar\":56,\"../services/store\":57}],40:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.init();\n}\n\n_index2.default.addInitializer({\n  name: 'store',\n  initializer: initializer,\n  before: '_end'\n});\n\n},{\"../index\":22,\"../services/store\":57}],41:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../reducers/tick');\n\nvar _tick2 = _interopRequireDefault(_tick);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:tick',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":22,\"../reducers/tick\":47,\"../services/store\":57}],42:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../reducers/tick');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TICK_PERIOD = 50 * 1000; //do the tick every 50s\n\nfunction initializer() {\n  window.setInterval(function () {\n    _store2.default.dispatch((0, _tick.doTick)());\n  }, TICK_PERIOD);\n}\n\n_index2.default.addInitializer({\n  name: 'tick-start',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":22,\"../reducers/tick\":47,\"../services/store\":57}],43:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _root = require('../components/user-menu/root');\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:user-menu',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../components/user-menu/root\":20,\"../index\":22,\"../utils/mount-component\":60,\"react-redux\":\"react-redux\"}],44:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _zxcvbn2.default.init(_include2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'zxcvbn',\n  initializer: initializer\n});\n\n},{\"../index\":22,\"../services/include\":52,\"../services/zxcvbn\":58}],45:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SIGN_OUT = exports.SIGN_IN = exports.initialState = undefined;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.default = auth;\n\nvar _users = require('./users');\n\nvar initialState = exports.initialState = {\n  signedIn: false,\n  signedOut: false\n};\n\nvar SIGN_IN = exports.SIGN_IN = 'SIGN_IN';\nvar SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';\n\nfunction signIn(user) {\n  return {\n    type: SIGN_IN,\n    user: user\n  };\n}\n\nfunction signOut() {\n  var soft = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\n  return {\n    type: SIGN_OUT,\n    soft: soft\n  };\n}\n\nfunction auth() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  switch (action.type) {\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user\n      });\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft\n      });\n\n    case _users.UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        var newState = Object.assign({}, state);\n        newState.user = Object.assign({}, state.user, {\n          'avatar_hash': action.avatarHash\n        });\n        return newState;\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n},{\"./users\":48}],46:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showSnackbar = showSnackbar;\nexports.hideSnackbar = hideSnackbar;\nexports.default = snackbar;\nvar initialState = exports.initialState = {\n  type: 'info',\n  message: '',\n  isVisible: false\n};\n\nvar SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';\nvar HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';\n\nfunction showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message: message,\n    messageType: type\n  };\n}\n\nfunction hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR\n  };\n}\n\nfunction snackbar() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true\n    };\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],47:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.doTick = doTick;\nexports.default = tick;\nvar initialState = exports.initialState = {\n  tick: 0\n};\n\nvar TICK = exports.TICK = 'TICK';\n\nfunction doTick() {\n  return {\n    type: TICK\n  };\n}\n\nfunction tick() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],48:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateAvatar = updateAvatar;\nvar UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';\n\nfunction updateAvatar(user, avatarHash) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatarHash: avatarHash\n  };\n}\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = exports.Ajax = (function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n\n    this._cookieName = null;\n    this._csrfToken = null;\n  }\n\n  _createClass(Ajax, [{\n    key: 'init',\n    value: function init(cookieName) {\n      this._cookieName = cookieName;\n      this._csrfToken = this.getCsrfToken();\n    }\n  }, {\n    key: 'getCsrfToken',\n    value: function getCsrfToken() {\n      if (document.cookie.indexOf(this._cookieName) !== -1) {\n        var cookieRegex = new RegExp(this._cookieName + '\\=([^;]*)');\n        var cookie = document.cookie.match(cookieRegex)[0];\n        return cookie ? cookie.split('=')[1] : null;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(method, url, data) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: method,\n          headers: {\n            'X-CSRFToken': self._csrfToken\n          },\n\n          data: data || {},\n          dataType: 'json',\n\n          success: function success(data) {\n            resolve(data);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get(url) {\n      return this.request('GET', url);\n    }\n  }, {\n    key: 'post',\n    value: function post(url, data) {\n      return this.request('POST', url, data);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(url, data) {\n      return this.request('PATCH', url, data);\n    }\n  }, {\n    key: 'put',\n    value: function put(url, data) {\n      return this.request('PUT', url, data);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(url) {\n      return this.request('DELETE', url);\n    }\n  }]);\n\n  return Ajax;\n})();\n\nexports.default = new Ajax();\n\n},{}],50:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Auth = undefined;\n\nvar _auth = require('../reducers/auth');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar Auth = exports.Auth = (function () {\n  function Auth() {\n    _classCallCheck(this, Auth);\n  }\n\n  _createClass(Auth, [{\n    key: 'init',\n    value: function init(store, local) {\n      this._store = store;\n      this._local = local;\n\n      // tell other tabs what auth state is because we are most current with it\n      this.syncSession();\n\n      // listen for other tabs to tell us that state changed\n      this.watchState();\n    }\n  }, {\n    key: 'syncSession',\n    value: function syncSession() {\n      var state = this._store.getState().auth;\n      if (state.isAuthenticated) {\n        this._local.set('auth', {\n          isAuthenticated: true,\n          username: state.user.username\n        });\n      } else {\n        this._local.set('auth', {\n          isAuthenticated: false\n        });\n      }\n    }\n  }, {\n    key: 'watchState',\n    value: function watchState() {\n      var _this = this;\n\n      this._local.watch('auth', function (newState) {\n        if (newState.isAuthenticated) {\n          _this._store.dispatch((0, _auth.signIn)({\n            username: newState.username\n          }));\n        } else {\n          _this._store.dispatch((0, _auth.signOut)());\n        }\n      });\n    }\n  }, {\n    key: 'signIn',\n    value: function signIn(user) {\n      this._store.dispatch((0, _auth.signIn)(user));\n      this._local.set('auth', {\n        isAuthenticated: true,\n        username: user.username\n      });\n    }\n  }, {\n    key: 'signOut',\n    value: function signOut() {\n      this._store.dispatch((0, _auth.signOut)());\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n    }\n  }, {\n    key: 'softSignOut',\n    value: function softSignOut() {\n      this._store.dispatch((0, _auth.signOut)(true));\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n    }\n  }]);\n\n  return Auth;\n})();\n\nexports.default = new Auth();\n\n},{\"../reducers/auth\":45}],51:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })(); /* global grecaptcha */\n// jshint ignore:line\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _formGroup = require('../components/form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar BaseCaptcha = exports.BaseCaptcha = (function () {\n  function BaseCaptcha() {\n    _classCallCheck(this, BaseCaptcha);\n  }\n\n  _createClass(BaseCaptcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      this._context = context;\n      this._ajax = ajax;\n      this._include = include;\n      this._snackbar = snackbar;\n    }\n  }]);\n\n  return BaseCaptcha;\n})();\n\nvar NoCaptcha = exports.NoCaptcha = (function (_BaseCaptcha) {\n  _inherits(NoCaptcha, _BaseCaptcha);\n\n  function NoCaptcha() {\n    _classCallCheck(this, NoCaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(NoCaptcha).apply(this, arguments));\n  }\n\n  _createClass(NoCaptcha, [{\n    key: 'load',\n    value: function load() {\n      return new Promise(function (resolve) {\n        // immediately resolve as we don't have anything to validate\n        resolve();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return null;\n    }\n  }, {\n    key: 'component',\n    value: function component() {\n      return null;\n    }\n  }]);\n\n  return NoCaptcha;\n})(BaseCaptcha);\n\nvar QACaptcha = exports.QACaptcha = (function (_BaseCaptcha2) {\n  _inherits(QACaptcha, _BaseCaptcha2);\n\n  function QACaptcha() {\n    _classCallCheck(this, QACaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(QACaptcha).apply(this, arguments));\n  }\n\n  _createClass(QACaptcha, [{\n    key: 'load',\n    value: function load() {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        self._ajax.get(self._context.get('CAPTCHA_API_URL')).then(function (data) {\n          self.question = data.question;\n          self.helpText = data.help_text;\n          resolve();\n        }, function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"));\n          reject();\n        });\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        { label: this.question, 'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"col-sm-4\",\n          controlClass: kwargs.controlClass || \"col-sm-8\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: this.helpText || null },\n        _react2.default.createElement('input', { type: 'text', id: 'id_captcha', className: 'form-control',\n          'aria-describedby': 'id_captcha_status',\n          disabled: kwargs.form.state.isLoading,\n          onChange: kwargs.form.bindInput('captcha'),\n          value: kwargs.form.state.captcha })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return QACaptcha;\n})(BaseCaptcha);\n\nvar ReCaptchaComponent = exports.ReCaptchaComponent = (function (_React$Component) {\n  _inherits(ReCaptchaComponent, _React$Component);\n\n  function ReCaptchaComponent() {\n    _classCallCheck(this, ReCaptchaComponent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptchaComponent).apply(this, arguments));\n  }\n\n  _createClass(ReCaptchaComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      grecaptcha.render('recaptcha', {\n        'sitekey': this.props.siteKey,\n        'callback': function callback(response) {\n          // fire fakey event to binding\n          _this4.props.binding({\n            target: {\n              value: response\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('div', { id: 'recaptcha' });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ReCaptchaComponent;\n})(_react2.default.Component);\n\nvar ReCaptcha = exports.ReCaptcha = (function (_BaseCaptcha3) {\n  _inherits(ReCaptcha, _BaseCaptcha3);\n\n  function ReCaptcha() {\n    _classCallCheck(this, ReCaptcha);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ReCaptcha).apply(this, arguments));\n  }\n\n  _createClass(ReCaptcha, [{\n    key: 'load',\n    value: function load() {\n      this._include.include('https://www.google.com/recaptcha/api.js', true);\n\n      return new Promise(function (resolve) {\n        var wait = function wait() {\n          if (typeof grecaptcha === \"undefined\") {\n            window.setTimeout(function () {\n              wait();\n            }, 200);\n          } else {\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        { label: gettext(\"Captcha\"), 'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"col-sm-4\",\n          controlClass: kwargs.controlClass || \"col-sm-8\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: gettext(\"Please solve the quick test.\") },\n        _react2.default.createElement(ReCaptchaComponent, { siteKey: this._context.get('SETTINGS').recaptcha_site_key,\n          binding: kwargs.form.bindInput('captcha') })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return ReCaptcha;\n})(BaseCaptcha);\n\nvar Captcha = exports.Captcha = (function () {\n  function Captcha() {\n    _classCallCheck(this, Captcha);\n  }\n\n  _createClass(Captcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      switch (context.get('SETTINGS').captcha_type) {\n        case 'no':\n          this._captcha = new NoCaptcha();\n          break;\n\n        case 'qa':\n          this._captcha = new QACaptcha();\n          break;\n\n        case 're':\n          this._captcha = new ReCaptcha();\n          break;\n      }\n\n      this._captcha.init(context, ajax, include, snackbar);\n    }\n\n    // accessors for underlying strategy\n\n  }, {\n    key: 'load',\n    value: function load() {\n      return this._captcha.load();\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return this._captcha.validator();\n    }\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return this._captcha.component(kwargs);\n    }\n  }]);\n\n  return Captcha;\n})();\n\nexports.default = new Captcha();\n\n},{\"../components/form-group\":7,\"react\":\"react\"}],52:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Include = exports.Include = (function () {\n  function Include() {\n    _classCallCheck(this, Include);\n  }\n\n  _createClass(Include, [{\n    key: 'init',\n    value: function init(staticUrl) {\n      this._staticUrl = staticUrl;\n      this._included = [];\n    }\n  }, {\n    key: 'include',\n    value: function include(script) {\n      var remote = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      if (this._included.indexOf(script) === -1) {\n        this._included.push(script);\n        this._include(script, remote);\n      }\n    }\n  }, {\n    key: '_include',\n    value: function _include(script, remote) {\n      $.ajax({\n        url: (!remote ? this._staticUrl : '') + script,\n        cache: true,\n        dataType: 'script'\n      });\n    }\n  }]);\n\n  return Include;\n})();\n\nexports.default = new Include();\n\n},{}],53:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar storage = window.localStorage;\n\nvar LocalStorage = exports.LocalStorage = (function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: 'init',\n    value: function init(prefix) {\n      var _this = this;\n\n      this._prefix = prefix;\n      this._watchers = [];\n\n      window.addEventListener('storage', function (e) {\n        var newValueJson = JSON.parse(e.newValue);\n        _this._watchers.forEach(function (watcher) {\n          if (watcher.key === e.key && e.oldValue !== e.newValue) {\n            watcher.callback(newValueJson);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      storage.setItem(this._prefix + key, JSON.stringify(value));\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var itemString = storage.getItem(this._prefix + key);\n      if (itemString) {\n        return JSON.parse(itemString);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'watch',\n    value: function watch(key, callback) {\n      this._watchers.push({\n        key: this._prefix + key,\n        callback: callback\n      });\n    }\n  }]);\n\n  return LocalStorage;\n})();\n\nexports.default = new LocalStorage();\n\n},{}],54:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileNavbarDropdown = undefined;\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MobileNavbarDropdown = exports.MobileNavbarDropdown = (function () {\n  function MobileNavbarDropdown() {\n    _classCallCheck(this, MobileNavbarDropdown);\n  }\n\n  _createClass(MobileNavbarDropdown, [{\n    key: 'init',\n    value: function init(element) {\n      this._element = element;\n      this._component = null;\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      if (this._component === component) {\n        this.hide();\n      } else {\n        this._component = component;\n        (0, _mountComponent2.default)(component, this._element.id);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'showConnected',\n    value: function showConnected(name, component) {\n      if (this._component === name) {\n        this.hide();\n      } else {\n        this._component = name;\n        (0, _mountComponent2.default)(component, this._element.id, true);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      $(this._element).removeClass('open');\n      this._component = null;\n    }\n  }]);\n\n  return MobileNavbarDropdown;\n})();\n\nexports.default = new MobileNavbarDropdown();\n\n},{\"../utils/mount-component\":60}],55:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = undefined;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Modal = exports.Modal = (function () {\n  function Modal() {\n    _classCallCheck(this, Modal);\n  }\n\n  _createClass(Modal, [{\n    key: 'init',\n    value: function init(element) {\n      var _this = this;\n\n      this._element = element;\n\n      this._modal = $(element).modal({ show: false });\n\n      this._modal.on('hidden.bs.modal', function () {\n        _reactDom2.default.unmountComponentAtNode(_this._element);\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      (0, _mountComponent2.default)(component, this._element.id);\n      this._modal.modal('show');\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this._modal.modal('hide');\n    }\n  }]);\n\n  return Modal;\n})();\n\nexports.default = new Modal();\n\n},{\"../utils/mount-component\":60,\"react-dom\":\"react-dom\"}],56:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\n\nvar _snackbar = require('../reducers/snackbar');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HIDE_ANIMATION_LENGTH = 300;\nvar MESSAGE_SHOW_LENGTH = 5000;\n\nvar Snackbar = exports.Snackbar = (function () {\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n  }\n\n  _createClass(Snackbar, [{\n    key: 'init',\n    value: function init(store) {\n      this._store = store;\n      this._timeout = null;\n    }\n  }, {\n    key: 'alert',\n    value: function alert(message, type) {\n      var _this = this;\n\n      if (this._timeout) {\n        window.clearTimeout(this._timeout);\n        this._store.dispatch((0, _snackbar.hideSnackbar)());\n\n        this._timeout = window.setTimeout(function () {\n          _this._timeout = null;\n          _this.alert(message, type);\n        }, HIDE_ANIMATION_LENGTH);\n      } else {\n        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));\n        this._timeout = window.setTimeout(function () {\n          _this._store.dispatch((0, _snackbar.hideSnackbar)());\n          _this._timeout = null;\n        }, MESSAGE_SHOW_LENGTH);\n      }\n    }\n\n    // shorthands for message types\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.alert(message, 'info');\n    }\n  }, {\n    key: 'success',\n    value: function success(message) {\n      this.alert(message, 'success');\n    }\n  }, {\n    key: 'warning',\n    value: function warning(message) {\n      this.alert(message, 'warning');\n    }\n  }, {\n    key: 'error',\n    value: function error(message) {\n      this.alert(message, 'error');\n    }\n\n    // shorthand for api errors\n\n  }, {\n    key: 'apiError',\n    value: function apiError(rejection) {\n      var message = gettext(\"Unknown error has occured.\");\n\n      if (rejection.status === 0) {\n        message = gettext(\"Lost connection with application.\");\n      }\n\n      if (rejection.status === 400 && rejection.detail) {\n        message = rejection.detail;\n      }\n\n      if (rejection.status === 403) {\n        message = rejection.detail;\n        if (message === \"Permission denied\") {\n          message = gettext(\"You don't have permission to perform this action.\");\n        }\n      }\n\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\");\n      }\n\n      this.error(message);\n    }\n  }]);\n\n  return Snackbar;\n})();\n\nexports.default = new Snackbar();\n\n},{\"../reducers/snackbar\":46}],57:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StoreWrapper = undefined;\n\nvar _redux = require('redux');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StoreWrapper = exports.StoreWrapper = (function () {\n  function StoreWrapper() {\n    _classCallCheck(this, StoreWrapper);\n\n    this._store = null;\n    this._reducers = {};\n    this._initialState = {};\n  }\n\n  _createClass(StoreWrapper, [{\n    key: 'addReducer',\n    value: function addReducer(name, reducer, initialState) {\n      this._reducers[name] = reducer;\n      this._initialState[name] = initialState;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);\n    }\n  }, {\n    key: 'getStore',\n    value: function getStore() {\n      return this._store;\n    }\n\n    // Store API\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this._store.getState();\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(action) {\n      return this._store.dispatch(action);\n    }\n  }]);\n\n  return StoreWrapper;\n})();\n\nexports.default = new StoreWrapper();\n\n},{\"redux\":\"redux\"}],58:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global zxcvbn */\n\nvar Zxcvbn = exports.Zxcvbn = (function () {\n  function Zxcvbn() {\n    _classCallCheck(this, Zxcvbn);\n  }\n\n  _createClass(Zxcvbn, [{\n    key: \"init\",\n    value: function init(include) {\n      this._include = include;\n    }\n  }, {\n    key: \"scorePassword\",\n    value: function scorePassword(password, inputs) {\n      // 0-4 score, the more the stronger password\n      return zxcvbn(password, inputs).score;\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      if (typeof zxcvbn === \"undefined\") {\n        this._include.include('misago/js/zxcvbn.js');\n        return this._loadingPromise();\n      } else {\n        return this._loadedPromise();\n      }\n    }\n  }, {\n    key: \"_loadingPromise\",\n    value: function _loadingPromise() {\n      return new Promise(function (resolve) {\n        var wait = function wait() {\n          if (typeof zxcvbn === \"undefined\") {\n            window.setTimeout(function () {\n              wait();\n            }, 200);\n          } else {\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: \"_loadedPromise\",\n    value: function _loadedPromise() {\n      // we have already loaded zxcvbn.js, resolve away!\n      return new Promise(function (resolve) {\n        resolve();\n      });\n    }\n  }]);\n\n  return Zxcvbn;\n})();\n\nexports.default = new Zxcvbn();\n\n},{}],59:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (ban, changeState) {\n  _reactDom2.default.render(\n  /* jshint ignore:start */\n  _react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _store2.default.getStore() },\n    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,\n      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })\n  ),\n  /* jshint ignore:end */\n  document.getElementById('page-mount'));\n\n  if (typeof changeState === 'undefined' || changeState) {\n    var forumName = _index2.default.get('SETTINGS').forum_name;\n    document.title = gettext(\"You are banned\") + ' | ' + forumName;\n    window.history.pushState({}, \"\", _index2.default.get('BANNED_URL'));\n  }\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _bannedPage = require('../components/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\n/* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\nvar select = function select(state) {\n  return state.tick;\n}; // jshint ignore:line\n// jshint ignore:line\n\nvar RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);\n/* jshint ignore:end */\n\n},{\"../components/banned-page\":3,\"../index\":22,\"../services/store\":57,\"moment\":\"moment\",\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],60:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mount;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\nfunction mount(Component, rootElementId) {\n  var connected = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\n  var rootElement = document.getElementById(rootElementId);\n\n  if (rootElement) {\n    if (connected) {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(\n        _reactRedux.Provider,\n        { store: _store2.default.getStore() },\n        _react2.default.createElement(Component, null)\n      ),\n      /* jshint ignore:end */\n      rootElement);\n    } else {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(Component, null),\n      /* jshint ignore:end */\n      rootElement);\n    }\n  }\n} // jshint ignore:line\n// jshint ignore:line\n\n},{\"../services/store\":57,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],61:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrderedList = (function () {\n  function OrderedList(items) {\n    _classCallCheck(this, OrderedList);\n\n    this.isOrdered = false;\n    this._items = items || [];\n  }\n\n  _createClass(OrderedList, [{\n    key: \"add\",\n    value: function add(key, item, order) {\n      this._items.push({\n        key: key,\n        item: item,\n\n        after: order ? order.after || null : null,\n        before: order ? order.before || null : null\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, value) {\n      for (var i = 0; i < this._items.length; i++) {\n        if (this._items[i].key === key) {\n          return this._items[i].item;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.get(key) !== undefined;\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      var values = [];\n      for (var i = 0; i < this._items.length; i++) {\n        values.push(this._items[i].item);\n      }\n      return values;\n    }\n  }, {\n    key: \"order\",\n    value: function order(values_only) {\n      if (!this.isOrdered) {\n        this._items = this._order(this._items);\n        this.isOrdered = true;\n      }\n\n      if (values_only || typeof values_only === 'undefined') {\n        return this.values();\n      } else {\n        return this._items;\n      }\n    }\n  }, {\n    key: \"orderedValues\",\n    value: function orderedValues() {\n      return this.order(true);\n    }\n  }, {\n    key: \"_order\",\n    value: function _order(unordered) {\n      // Index of unordered items\n      var index = [];\n      unordered.forEach(function (item) {\n        index.push(item.key);\n      });\n\n      // Ordered items\n      var ordered = [];\n      var ordering = [];\n\n      // First pass: register items that\n      // don't specify their order\n      unordered.forEach(function (item) {\n        if (!item.after && !item.before) {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Second pass: register items that\n      // specify their before to \"_end\"\n      unordered.forEach(function (item) {\n        if (item.before === \"_end\") {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Third pass: keep iterating items\n      // until we hit iterations limit or finish\n      // ordering list\n      function insertItem(item) {\n        var insertAt = -1;\n        if (ordering.indexOf(item.key) === -1) {\n          if (item.after) {\n            insertAt = ordering.indexOf(item.after);\n            if (insertAt !== -1) {\n              insertAt += 1;\n            }\n          } else if (item.before) {\n            insertAt = ordering.indexOf(item.before);\n          }\n\n          if (insertAt !== -1) {\n            ordered.splice(insertAt, 0, item);\n            ordering.splice(insertAt, 0, item.key);\n          }\n        }\n      }\n\n      var iterations = 200;\n      while (iterations > 0 && index.length !== ordering.length) {\n        iterations -= 1;\n        unordered.forEach(insertItem);\n      }\n\n      return ordered;\n    }\n  }]);\n\n  return OrderedList;\n})();\n\nexports.default = OrderedList;\n\n},{}],62:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.required = required;\nexports.email = email;\nexports.minLength = minLength;\nexports.maxLength = maxLength;\nexports.usernameMinLength = usernameMinLength;\nexports.usernameMaxLength = usernameMaxLength;\nexports.usernameContent = usernameContent;\nexports.passwordMinLength = passwordMinLength;\nvar EMAIL = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar USERNAME = new RegExp('^[0-9a-z]+$', 'i');\n\nfunction required() {\n  return function (value) {\n    if ($.trim(value).length === 0) {\n      return gettext(\"This field is required.\");\n    }\n  };\n}\n\nfunction email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\");\n    }\n  };\n}\n\nfunction minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction usernameMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username must be at least %(limit_value)s character long.\", \"Username must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.username_length_min, message);\n}\n\nfunction usernameMaxLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Username cannot be longer than %(limit_value)s character.\", \"Username cannot be longer than %(limit_value)s characters.\", limitValue);\n  };\n  return this.maxLength(settings.username_length_max, message);\n}\n\nfunction usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\"Username can only contain latin alphabet letters and digits.\");\n    }\n  };\n}\n\nfunction passwordMinLength(settings) {\n  var message = function message(limitValue) {\n    return ngettext(\"Valid password must be at least %(limit_value)s character long.\", \"Valid password must be at least %(limit_value)s characters long.\", limitValue);\n  };\n  return this.minLength(settings.password_length_min, message);\n}\n\n},{}]},{},[22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]);\n"],"sourceRoot":"/source/"}