{"version":3,"file":"misago.js","mappings":"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B,mFAAmF,CACpF;IACH;IACA,IAAI,CAACssE,qBAAqB,CAACtzD,IAAI,CAAC0zD,YAAY,CAAC,EAAE;MAC7C,OAAO1sE,QAAQ,CACb,oBAAoB,EACpB,yDAAyD,CAC1D;IACH;EACF,CAAC;AACH;AAEO,SAASy7C,iBAAiB,CAAC1T,UAAU,EAAE;EAC5C,OAAO,UAAUryC,KAAK,EAAE;IACtB,IAAMe,MAAM,GAAGf,KAAK,CAACe,MAAM;IAE3B,IAAIA,MAAM,GAAGsxC,UAAU,EAAE;MACvB,IAAMwkC,aAAa,GAAGhlD,SAAS,CAC7B,2BAA2B,EAC3B,iEAAiE,EACjE,kEAAkE,EAClEwgB,UAAU,CACX;MAED,OAAOvwB,WAAW,CAChB+0D,aAAa,EACb;QACEvkC,WAAW,EAAED,UAAU;QACvBE,UAAU,EAAExxC;MACd,CAAC,EACD,IAAI,CACL;IACH;EACF,CAAC;AACH;;;;;;;;;;;;ACnKA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UErFA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA","sources":["webpack://misago/./src/AjaxLoader.js","webpack://misago/./src/Autocomplete/Mention.js","webpack://misago/./src/Autocomplete/Select.js","webpack://misago/./src/Autocomplete/Suggestions.js","webpack://misago/./src/Autocomplete/index.js","webpack://misago/./src/BulkModeration.js","webpack://misago/./src/PollChoicesControl.js","webpack://misago/./src/Quote/Quote.js","webpack://misago/./src/Quote/QuoteCursorPosition.js","webpack://misago/./src/Quote/QuoteSelection.js","webpack://misago/./src/Quote/Ruleset.js","webpack://misago/./src/Quote/escape.js","webpack://misago/./src/Quote/extractor.js","webpack://misago/./src/Quote/getQuotedCode.js","webpack://misago/./src/Quote/index.js","webpack://misago/./src/Quote/postprocess.js","webpack://misago/./src/Quote/renderer.js","webpack://misago/./src/Quote/tether.js","webpack://misago/./src/TabGroups.js","webpack://misago/./src/animations.js","webpack://misago/./src/components/Api/ApiFetch.jsx","webpack://misago/./src/components/Api/ApiMutation.jsx","webpack://misago/./src/components/Api/index.js","webpack://misago/./src/components/Breadcrumbs/Breadcrumbs.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsCategory.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx","webpack://misago/./src/components/Breadcrumbs/index.js","webpack://misago/./src/components/Dropdown/Dropdown.jsx","webpack://misago/./src/components/Dropdown/DropdownDivider.jsx","webpack://misago/./src/components/Dropdown/DropdownFooter.jsx","webpack://misago/./src/components/Dropdown/DropdownHeader.jsx","webpack://misago/./src/components/Dropdown/DropdownMenuItem.jsx","webpack://misago/./src/components/Dropdown/DropdownPills.jsx","webpack://misago/./src/components/Dropdown/DropdownSubheader.jsx","webpack://misago/./src/components/Dropdown/index.js","webpack://misago/./src/components/FlexRow/FlexRow.jsx","webpack://misago/./src/components/FlexRow/FlexRowCol.jsx","webpack://misago/./src/components/FlexRow/FlexRowSection.jsx","webpack://misago/./src/components/FlexRow/index.js","webpack://misago/./src/components/ListGroup/ListGroup.jsx","webpack://misago/./src/components/ListGroup/ListGroupEmpty.jsx","webpack://misago/./src/components/ListGroup/ListGroupError.jsx","webpack://misago/./src/components/ListGroup/ListGroupItem.jsx","webpack://misago/./src/components/ListGroup/ListGroupLoading.jsx","webpack://misago/./src/components/ListGroup/ListGroupMessage.jsx","webpack://misago/./src/components/ListGroup/index.js","webpack://misago/./src/components/MarkupEditor/MarkupAttachmentModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupCodeModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditor.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachment.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachments.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorButton.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorFooter.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorToolbar.jsx","webpack://misago/./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupImageModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupLinkModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupQuoteModal.jsx","webpack://misago/./src/components/MarkupEditor/index.js","webpack://misago/./src/components/MarkupEditor/isUrl.js","webpack://misago/./src/components/MarkupEditor/operations.js","webpack://misago/./src/components/MarkupEditor/uploadFile.js","webpack://misago/./src/components/Navbar/Navbar.jsx","webpack://misago/./src/components/Navbar/NavbarBranding.jsx","webpack://misago/./src/components/Navbar/NavbarExtraMenu.jsx","webpack://misago/./src/components/Navbar/NavbarNotificationsDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarNotificationsToggle.jsx","webpack://misago/./src/components/Navbar/NavbarPrivateThreads.jsx","webpack://misago/./src/components/Navbar/NavbarSearchDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarSearchToggle.jsx","webpack://misago/./src/components/Navbar/NavbarSiteNavDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarSiteNavToggle.jsx","webpack://misago/./src/components/Navbar/NavbarUserNavDropdown.jsx","webpack://misago/./src/components/Navbar/NavbarUserNavToggle.jsx","webpack://misago/./src/components/Navbar/index.js","webpack://misago/./src/components/Notifications/Notifications.jsx","webpack://misago/./src/components/Notifications/NotificationsHeader.jsx","webpack://misago/./src/components/Notifications/NotificationsPagination.jsx","webpack://misago/./src/components/Notifications/NotificationsPills.jsx","webpack://misago/./src/components/Notifications/NotificationsRoute.jsx","webpack://misago/./src/components/Notifications/NotificationsToolbar.jsx","webpack://misago/./src/components/Notifications/index.js","webpack://misago/./src/components/NotificationsDropdown/NotificationsDropdown.jsx","webpack://misago/./src/components/NotificationsDropdown/NotificationsDropdownBody.jsx","webpack://misago/./src/components/NotificationsDropdown/index.js","webpack://misago/./src/components/NotificationsFetch/NotificationsFetch.jsx","webpack://misago/./src/components/NotificationsFetch/index.js","webpack://misago/./src/components/NotificationsList/NotificationsList.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListEmpty.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListError.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListGroup.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItem.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemActor.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemMessage.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemReadStatus.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListItemTimestamp.jsx","webpack://misago/./src/components/NotificationsList/NotificationsListLoading.jsx","webpack://misago/./src/components/NotificationsList/index.js","webpack://misago/./src/components/NotificationsOverlay/NotificationsOverlay.jsx","webpack://misago/./src/components/NotificationsOverlay/NotificationsOverlayBody.jsx","webpack://misago/./src/components/NotificationsOverlay/index.js","webpack://misago/./src/components/Overlay/Overlay.jsx","webpack://misago/./src/components/Overlay/OverlayHeader.jsx","webpack://misago/./src/components/Overlay/index.js","webpack://misago/./src/components/PageContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeader.jsx","webpack://misago/./src/components/PageHeader/PageHeaderBanner.jsx","webpack://misago/./src/components/PageHeader/PageHeaderContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeaderDetails.jsx","webpack://misago/./src/components/PageHeader/PageHeaderHTMLMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderPlain.jsx","webpack://misago/./src/components/PageHeader/index.js","webpack://misago/./src/components/PageTitle/PageTitle.jsx","webpack://misago/./src/components/PageTitle/index.js","webpack://misago/./src/components/PillsNav/PillsNav.jsx","webpack://misago/./src/components/PillsNav/PillsNavLink.jsx","webpack://misago/./src/components/PillsNav/index.js","webpack://misago/./src/components/RegisterButton/RegisterButton.jsx","webpack://misago/./src/components/RegisterButton/index.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/SignInButton/SignInButton.jsx","webpack://misago/./src/components/SignInButton/index.js","webpack://misago/./src/components/SignInModalAutoOpen.js","webpack://misago/./src/components/SiteNav/SiteNavDropdown.jsx","webpack://misago/./src/components/SiteNav/SiteNavMenu.jsx","webpack://misago/./src/components/SiteNav/SiteNavOverlay.jsx","webpack://misago/./src/components/SiteNav/index.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadFlags.jsx","webpack://misago/./src/components/ThreadReplies.jsx","webpack://misago/./src/components/ThreadStarterCard.jsx","webpack://misago/./src/components/Timestamp/Timestamp.jsx","webpack://misago/./src/components/Timestamp/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UserNav/UserNavDropdown.jsx","webpack://misago/./src/components/UserNav/UserNavMenu.jsx","webpack://misago/./src/components/UserNav/UserNavOverlay.jsx","webpack://misago/./src/components/UserNav/index.js","webpack://misago/./src/components/UserNav/logout.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/PostingDialog.jsx","webpack://misago/./src/components/posting/PostingDialogBody.jsx","webpack://misago/./src/components/posting/PostingDialogError.jsx","webpack://misago/./src/components/posting/PostingDialogHeader.jsx","webpack://misago/./src/components/posting/PostingQuoteSelection.jsx","webpack://misago/./src/components/posting/PostingThreadOptions.jsx","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/getQuoteMarkup.js","webpack://misago/./src/components/posting/globalState.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ProfileDataList.jsx","webpack://misago/./src/components/profile/ProfileHeader.jsx","webpack://misago/./src/components/profile/ProfileNav.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search-route/form.js","webpack://misago/./src/components/search-route/index.js","webpack://misago/./src/components/search-route/page.js","webpack://misago/./src/components/search-route/sidenav.js","webpack://misago/./src/components/search-route/threads/index.js","webpack://misago/./src/components/search-route/threads/results.js","webpack://misago/./src/components/search-route/users/index.js","webpack://misago/./src/components/search/SearchDropdown.jsx","webpack://misago/./src/components/search/SearchFetch.jsx","webpack://misago/./src/components/search/SearchInput.jsx","webpack://misago/./src/components/search/SearchMessage.jsx","webpack://misago/./src/components/search/SearchOverlay.jsx","webpack://misago/./src/components/search/SearchQuery.jsx","webpack://misago/./src/components/search/SearchResultPost.jsx","webpack://misago/./src/components/search/SearchResultUser.jsx","webpack://misago/./src/components/search/SearchResults.jsx","webpack://misago/./src/components/search/SearchResultsEmpty.jsx","webpack://misago/./src/components/search/SearchResultsError.jsx","webpack://misago/./src/components/search/SearchResultsList.jsx","webpack://misago/./src/components/search/SearchResultsLoading.jsx","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeader.jsx","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx","webpack://misago/./src/components/thread/ThreadHeader/index.js","webpack://misago/./src/components/thread/ThreadModeration.jsx","webpack://misago/./src/components/thread/ThreadPaginator.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadPostsModeration.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarThird.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/ThreadWatchButton.jsx","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/UsersNav.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/rank/RankUsersLeft.jsx","webpack://misago/./src/components/users/rank/RankUsersList.js","webpack://misago/./src/components/users/rank/RankUsersListLoader.js","webpack://misago/./src/components/users/rank/RankUsersPagination.jsx","webpack://misago/./src/components/users/rank/RankUsersToolbar.jsx","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/csrf.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/editor/editor.js","webpack://misago/./src/editor/index.js","webpack://misago/./src/editor/modals.js","webpack://misago/./src/editor/uploader.js","webpack://misago/./src/focusOn.js","webpack://misago/./src/formValidators.js","webpack://misago/./src/formats.js","webpack://misago/./src/getRandomString.js","webpack://misago/./src/htmxErrors.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/navbar.js","webpack://misago/./src/initializers/components/notifications-overlay.js","webpack://misago/./src/initializers/components/notifications.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search-overlay.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/site-nav-overlay.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/user-nav-overlay.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/overlay.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/lightbox.js","webpack://misago/./src/pagination.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/overlay.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/renderTemplate.js","webpack://misago/./src/richtext.js","webpack://misago/./src/scrollTo.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/snackbars.js","webpack://misago/./src/timestamps.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/getRandomString.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/ensure chunk","webpack://misago/webpack/runtime/get javascript chunk filename","webpack://misago/webpack/runtime/get mini-css chunk filename","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/load script","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/publicPath","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["class AjaxLoader {\n  constructor() {\n    this.element = document.getElementById(\"misago-ajax-loader\")\n    this.requests = 0\n    this.timeout = null\n  }\n\n  show = () => {\n    this.requests += 1\n    this.update()\n  }\n\n  hide = () => {\n    if (this.requests) {\n      this.requests -= 1\n      this.update()\n    }\n  }\n\n  update = () => {\n    if (this.timeout) {\n      window.clearTimeout(this.timeout)\n    }\n\n    if (this.requests) {\n      this.element.classList.add(\"busy\")\n      this.element.classList.remove(\"complete\")\n    } else {\n      this.element.classList.remove(\"busy\")\n      this.element.classList.add(\"complete\")\n\n      this.timeout = setTimeout(() => {\n        this.element.classList.remove(\"complete\")\n      }, 1500)\n    }\n  }\n}\n\nexport function useLoader(target) {\n  const silent = target.closest(\"[hx-silent]\")\n  if (silent) {\n    return silent.getAttribute(\"hx-silent\") !== \"true\"\n  }\n\n  return true\n}\n\nexport default AjaxLoader\n","import select from \"./Select\"\nimport suggestions from \"./Suggestions\"\n\nconst BEFORE_RE = /(^|[^\\p{L}\\p{N}])@[a-z0-9_\\-]*$/giu\nconst AHEAD_RE = /^[\\p{L}\\p{N}]/giu\n\nconst INVALID_KEYS = {\n  Delete: true,\n  Space: true,\n  MetaLeft: true,\n  End: true,\n  Enter: true,\n  ArrowUp: true,\n  ArrowDown: true,\n  ArrowLeft: true,\n  ArrowRight: true,\n}\n\nconst SELECT_KEYS = {\n  Escape: true,\n  Enter: true,\n  ArrowUp: true,\n  ArrowDown: true,\n}\n\nconst DEBOUNCE = 800\n\nclass Mention {\n  constructor(control) {\n    this.control = control\n    this.debounce = null\n\n    control.addEventListener(\"keydown\", this.onKeyDown)\n    control.addEventListener(\"keyup\", this.onKeyUp)\n    control.addEventListener(\"blur\", select.hide)\n  }\n\n  onKeyDown = (event) => {\n    if (SELECT_KEYS[event.code] && select.visible) {\n      event.preventDefault()\n    }\n  }\n\n  onKeyUp = (event) => {\n    if (SELECT_KEYS[event.code] && select.visible) {\n      select.handleKey(event.code)\n      event.preventDefault()\n    } else if (INVALID_KEYS[event.code]) {\n      select.hide()\n    } else {\n      const selection = this.getSelection(event.target)\n      const query = this.getSelectionQuery(selection)\n\n      if (query) {\n        this.getSuggestions(query)\n      } else {\n        select.hide()\n      }\n    }\n  }\n\n  getSelection(control) {\n    const text = control.value\n    const selectionStart = control.selectionStart\n    const selectionEnd = control.selectionEnd\n\n    const before = text.substring(0, selectionStart)\n    const ahead = text.substring(selectionEnd)\n    const value =\n      selectionStart < selectionEnd\n        ? text.substring(selectionStart, selectionEnd)\n        : \"\"\n\n    return {\n      text,\n      start: selectionStart,\n      end: selectionEnd,\n      closed: selectionStart === selectionEnd,\n      value,\n      before,\n      ahead,\n    }\n  }\n\n  getSelectionQuery(selection) {\n    const { start, end, closed, before, ahead } = selection\n\n    if (!closed) {\n      return null\n    }\n\n    const beforeMatch = before.match(BEFORE_RE)\n    const aheadMatch = ahead.match(AHEAD_RE)\n\n    const prefix = beforeMatch ? beforeMatch[0].trim() : \"\"\n    const suffix = aheadMatch ? aheadMatch[0].trim() : \"\"\n\n    if (prefix.length < 3 || suffix) {\n      return null\n    }\n\n    return {\n      start: start - prefix.length,\n      end: end,\n      text: prefix.substring(1),\n    }\n  }\n\n  getSuggestions(query) {\n    if (!!this.debounce) {\n      window.clearTimeout(this.debounce)\n    }\n\n    this.debounce = window.setTimeout(() => {\n      suggestions.get(query.text).then((results) => {\n        select.show(this.control, query, results, (choice) => {\n          const value = this.control.value\n          const prefix = value.substring(0, query.start)\n          const suffix = value.substring(query.end)\n          this.control.value = prefix + \"@\" + choice + \" \" + suffix\n\n          window.setTimeout(() => {\n            const scroll = this.control.scrollTop\n            this.control.focus()\n            this.control.scrollTop = scroll\n\n            const caret = query.start + choice.length + 2\n            this.control.setSelectionRange(caret, caret)\n          }, 100)\n        })\n      })\n    }, DEBOUNCE)\n  }\n}\n\nexport default Mention\n","import { computePosition, flip, offset, shift } from \"@floating-ui/dom\"\n\nclass Select {\n  constructor() {\n    this.element = document.createElement(\"div\")\n    this.element.classList.add(\"autocomplete-user-popup\")\n    document.body.appendChild(this.element)\n\n    this.shadow = document.createElement(\"pre\")\n    this.shadow.ariaHidden = true\n    this.shadow.style.position = \"absolute\"\n    this.shadow.style.top = 0\n    this.shadow.style.left = \"-9999px\"\n    this.shadow.style.opacity = 0\n    this.shadow.style.zIndex = -999\n    document.body.appendChild(this.shadow)\n\n    this.choice = 0\n    this.choices = []\n    this.maxChoice = 0\n    this.callback = null\n\n    this.visible = false\n\n    document.body.addEventListener(\"click\", (event) => {\n      if (this.visible && !this.element.contains(event.target)) {\n        this.hide()\n      }\n    })\n  }\n\n  updateChoices(target, query, choices, callback) {\n    const children = choices.map((choice, index) => {\n      const element = document.createElement(\"button\")\n      element.setAttribute(\"type\", \"button\")\n      element.classList.add(\"autocomplete-user-popup-choice\")\n\n      if (index === 0) {\n        element.classList.add(\"active\")\n      }\n\n      const avatars = choice.avatar.filter(({ size }) => size >= 24)\n      const avatarsHd = choice.avatar.filter(({ size }) => size >= 48)\n\n      const img = document.createElement(\"img\")\n      img.classList.add(\"autocomplete-user-popup-choice-avatar\")\n      img.setAttribute(\"src\", avatars[avatars.length - 1].url)\n      img.setAttribute(\"srcset\", avatarsHd[avatarsHd.length - 1].url)\n      img.setAttribute(\"alt\", \"\")\n      element.appendChild(img)\n\n      const span = document.createElement(\"span\")\n      span.classList.add(\"autocomplete-user-popup-choice-username\")\n      span.innerText = choice.username\n      element.appendChild(span)\n\n      // element.innerHTML = choice.username\n      element.addEventListener(\"click\", () => {\n        callback(choice.username)\n        this.hide()\n      })\n      return element\n    })\n\n    this.element.replaceChildren(...children)\n  }\n\n  updateActiveChoice() {\n    for (let index = 0; index < this.element.children.length; index++) {\n      const choice = this.element.children[index]\n      if (index === this.choice) {\n        choice.classList.add(\"active\")\n      } else {\n        choice.classList.remove(\"active\")\n      }\n    }\n  }\n\n  getTextPosition = (target, query) => {\n    this.shadow.innerHTML = target.value.substring(0, query.end - 1)\n    this.shadow.setAttribute(\"class\", target.getAttribute(\"class\"))\n\n    const targetRect = target.getBoundingClientRect()\n    this.shadow.style.width = `${targetRect.width}px`\n    this.shadow.style.height = `${targetRect.height}px`\n\n    const marker = document.createElement(\"span\")\n    marker.innerHTML = query.text.substring(query.text.length - 1)\n    this.shadow.appendChild(marker)\n\n    const shadowRect = this.shadow.getBoundingClientRect()\n    const markerRect = marker.getBoundingClientRect()\n\n    const rect = {\n      bottom:\n        targetRect.bottom -\n        markerRect.bottom -\n        shadowRect.bottom +\n        target.scrollTop,\n      height: markerRect.height,\n      left: targetRect.left + markerRect.left - shadowRect.left,\n      right: targetRect.right - markerRect.right - shadowRect.right,\n      top: targetRect.top + markerRect.top - shadowRect.top - target.scrollTop,\n      width: markerRect.width,\n      x: targetRect.x + markerRect.x - shadowRect.x,\n      y: targetRect.y + markerRect.y - shadowRect.y,\n    }\n\n    return {\n      getBoundingClientRect() {\n        return rect\n      },\n    }\n  }\n\n  handleKey = (keyCode) => {\n    if (keyCode === \"Enter\") {\n      this.callback(this.choices[this.choice])\n      this.hide()\n    } else if (keyCode === \"ArrowUp\") {\n      if (this.choice > 0) {\n        this.choice--\n      } else {\n        this.choice = this.maxChoice\n      }\n      this.updateActiveChoice()\n    } else if (keyCode === \"ArrowDown\") {\n      if (this.choice < this.maxChoice) {\n        this.choice++\n      } else {\n        this.choice = 0\n      }\n      this.updateActiveChoice()\n    } else if (keyCode === \"Escape\") {\n      this.hide()\n    }\n  }\n\n  show = (target, query, choices, callback) => {\n    if (choices.length === 0) {\n      this.hide()\n    } else {\n      this.updateChoices(target, query, choices, callback)\n      this.element.classList.add(\"show\")\n\n      const textPosition = this.getTextPosition(target, query)\n\n      computePosition(textPosition, this.element, {\n        placement: \"top\",\n        middleware: [offset(6), flip(), shift({ padding: 8 })],\n      }).then(({ x, y }) => {\n        Object.assign(this.element.style, {\n          left: `${x}px`,\n          top: `${y}px`,\n        })\n      })\n\n      this.choices = choices.map(({ username }) => username)\n      this.choice = 0\n      this.maxChoice = choices.length - 1\n      this.callback = callback\n\n      this.visible = true\n    }\n  }\n\n  hide = () => {\n    this.element.classList.remove(\"show\")\n    this.visible = false\n  }\n}\n\nconst select = new Select()\n\nexport default select\n","class Suggestions {\n  constructor() {\n    this.cache = {}\n    this.url = window.misago_suggest_users\n  }\n\n  get = (query) => {\n    if (this.cache[query]) {\n      return Promise.resolve(this.cache[query])\n    }\n\n    return fetch(this.url + \"?query=\" + encodeURIComponent(query)).then(\n      async (response) => {\n        if (!response.ok) {\n          return []\n        }\n\n        const { results } = await response.json()\n        this.cache[query] = results\n        return results\n      },\n      () => {\n        return []\n      }\n    )\n  }\n}\n\nconst suggestions = new Suggestions()\n\nexport default suggestions\n","import Mention from \"./Mention\"\nimport select from \"./Select\"\nimport suggestions from \"./Suggestions\"\n\nexport { Mention, select }\n","import htmx from \"htmx.org\"\n\nclass BulkModeration {\n  constructor(options) {\n    this.menu = options.menu ? document.querySelector(options.menu) : null\n    this.form = options.form\n    this.modal = options.modal\n    this.actions = document.querySelectorAll(options.actions)\n    this.selection = options.selection\n    this.control = document.querySelector(options.button.selector)\n    this.text = options.button.text\n\n    this.update()\n    this.registerEvents()\n    this.registerActions()\n  }\n\n  registerActions = () => {\n    this.actions.forEach((element) => {\n      if (element.getAttribute(\"moderation-action\") === \"remove-selection\") {\n        element.addEventListener(\"click\", this.onRemoveSelection)\n      } else {\n        element.addEventListener(\"click\", this.onAction)\n      }\n    })\n  }\n\n  onAction = (event) => {\n    const form = document.querySelector(this.form)\n    const data = {}\n\n    new FormData(form).forEach((value, key) => {\n      if (typeof data[key] === \"undefined\") {\n        data[key] = []\n      }\n      data[key].push(value)\n    })\n\n    const target = event.target\n    data.moderation = target.getAttribute(\"moderation-action\")\n\n    if (target.getAttribute(\"moderation-multistage\") === \"true\") {\n      htmx\n        .ajax(\"POST\", document.location.href, {\n          target: this.modal,\n          swap: \"innerHTML\",\n          values: data,\n        })\n        .then(() => {\n          $(this.modal).modal(\"show\")\n        })\n    } else {\n      htmx.ajax(\"POST\", document.location.href, {\n        target: \"#misago-htmx-root\",\n        swap: \"outerHTML\",\n        values: data,\n      })\n    }\n  }\n\n  onRemoveSelection = (event) => {\n    document.querySelectorAll(this.selection).forEach((element) => {\n      element.checked = false\n    })\n    this.update()\n  }\n\n  registerEvents = () => {\n    document.body.addEventListener(\"click\", ({ target }) => {\n      if (target.tagName === \"INPUT\" && target.type === \"checkbox\") {\n        this.update()\n      }\n    })\n\n    htmx.onLoad(() => this.update())\n  }\n\n  update = () => {\n    const selection = document.querySelectorAll(this.selection).length\n\n    this.control.innerText = this.text.replace(\"%(number)s\", selection)\n    this.control.disabled = !selection\n\n    if (this.menu) {\n      if (selection) {\n        this.menu.classList.add(\"visible\")\n      } else {\n        this.menu.classList.remove(\"visible\")\n      }\n    }\n  }\n}\n\nexport default BulkModeration\n","import htmx from \"htmx.org\"\n\nfunction activatePollChoicesControl(element) {\n  element.setAttribute(\"misago-poll-choices-control\", \"true\")\n\n  const maxChoices = Number(element.getAttribute(\"max-choices\") || 0)\n\n  element.addEventListener(\"keyup\", function (event) {\n    const input = event.target.closest(\"input\")\n    const choices = element.querySelectorAll(\"li\").length\n\n    if (input && input.value.trim() && (!maxChoices || choices < maxChoices)) {\n      const listItem = event.target.closest(\"li\")\n      if (!listItem.nextElementSibling) {\n        const newListItem = listItem.cloneNode(true)\n        const newInput = newListItem.querySelector(\"input\")\n\n        newInput.value = \"\"\n        newInput.name = cleanInputName(input.name)\n\n        listItem.after(newListItem)\n      }\n    }\n  })\n}\n\nfunction cleanInputName(name) {\n  return name.substring(0, name.indexOf(\"[\")) + \"[]\"\n}\n\nexport default activatePollChoicesControl\n\nhtmx.onLoad(function () {\n  document\n    .querySelectorAll(\"[misago-poll-choices-control]\")\n    .forEach(function (element) {\n      if (!element.getAttribute(\"misago-poll-choices-control\")) {\n        activatePollChoicesControl(element)\n      }\n    })\n})\n","import { computePosition, flip, offset, shift } from \"@floating-ui/dom\"\nimport * as snackbar from \"../snackbars\"\nimport QuoteCursorPosition from \"./QuoteCursorPosition\"\nimport QuoteSelection from \"./QuoteSelection\"\nimport Ruleset from \"./Ruleset\"\nimport extractorRules from \"./extractor\"\nimport postprocessRules from \"./postprocess\"\nimport rendererRules from \"./renderer\"\nimport tetherRules from \"./tether\"\n\nclass Quote {\n  constructor() {\n    this.extractor = new Ruleset(extractorRules)\n    this.postprocess = new Ruleset(postprocessRules)\n    this.renderer = new Ruleset(rendererRules)\n    this.tether = new Ruleset(tetherRules)\n\n    this.selecting = false\n    this.debounce = null\n\n    this.options = null\n    this.toolbar = null\n    this.cursor = null\n\n    this.range = null\n    this.root = null\n    this.quote = null\n  }\n\n  activate = (options) => {\n    if (\n      (options.reply || options.quote) &&\n      typeof window.getSelection !== \"undefined\"\n    ) {\n      document.addEventListener(\"mousedown\", this.onSelectStart)\n      document.addEventListener(\"mouseup\", this.onSelectEnd)\n      document.addEventListener(\"selectionchange\", this.onSelectChange)\n\n      this.options = options\n      this.toolbar = this.createToolbar()\n      this.cursor = new QuoteCursorPosition(this.tether)\n    }\n  }\n\n  onSelectStart = () => {\n    this.selecting = true\n  }\n\n  onSelectEnd = () => {\n    this.selecting = false\n    this.updateSelection()\n  }\n\n  onSelectChange = () => {\n    if (this.selecting) {\n      return\n    }\n\n    if (this.debounce) {\n      window.clearTimeout(this.debounce)\n    }\n\n    this.debounce = window.setTimeout(this.updateSelection, 300)\n  }\n\n  updateSelection = () => {\n    if (this.selecting) {\n      return\n    }\n\n    if (this.updateState()) {\n      this.showToolbar()\n    } else {\n      this.hideToolbar()\n    }\n  }\n\n  updateState() {\n    this.range = null\n    this.root = null\n\n    const selection = window.getSelection()\n    if (\n      !selection ||\n      selection.isCollapsed ||\n      selection.type !== \"Range\" ||\n      selection.rangeCount === 0\n    ) {\n      return false\n    }\n\n    const range = this.getRange(selection)\n    const root = this.getRangeRoot(range)\n\n    if (!root) {\n      return false\n    }\n\n    this.range = range\n    this.root = root\n    this.quote = this.getSelectionQuote(root)\n\n    return this.range && this.root && this.quote\n  }\n\n  clearState() {\n    this.selecting = true\n\n    this.range = null\n    this.root = null\n    this.quote = null\n\n    this.hideToolbar()\n\n    window.setTimeout(() => {\n      this.selecting = false\n    }, 300)\n  }\n\n  getRange(selection) {\n    if (selection.rangeCount === 1) {\n      return selection.getRangeAt(0)\n    }\n\n    // Separate logic for FireFox\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=753718\n    const start = selection.getRangeAt(0)\n    const end = selection.getRangeAt(selection.rangeCount - 1)\n\n    const range = new Range()\n    range.setStart(start.startContainer, start.startOffset)\n    range.setEnd(end.endContainer, end.endOffset)\n\n    return range\n  }\n\n  getRangeRoot(range) {\n    const ancestor = this.getCommonAncestor(range)\n    if (!ancestor) {\n      return null\n    }\n\n    const root = ancestor.closest(\"[misago-quote-root]\")\n    if (root) {\n      return {\n        element: root,\n        info: root.getAttribute(\"misago-quote-root\"),\n        ancestor,\n        childNodes: range.cloneContents().childNodes,\n      }\n    }\n    return null\n  }\n\n  getCommonAncestor(range) {\n    const ancestor = range.commonAncestorContainer\n    if (!ancestor) {\n      return null\n    } else if (ancestor.nodeType === Node.TEXT_NODE) {\n      return ancestor.parentNode\n    }\n    return ancestor\n  }\n\n  getSelectionQuote(root) {\n    const selection = new QuoteSelection(\n      this.extractor,\n      this.renderer,\n      this.postprocess\n    )\n    const quote = selection.getQuote(root)\n\n    if (quote) {\n      return \"\\n\\n\" + selection.getQuote(root) + \"\\n\\n\"\n    }\n\n    return \"\"\n  }\n\n  createToolbar() {\n    const toolbar = document.createElement(\"div\")\n    toolbar.className = \"quote-toolbar\"\n\n    if (this.options.reply) {\n      const reply = this.createToolbarButton(\n        pgettext(\"quote toolbar\", \"Reply\"),\n        \"reply\",\n        this.reply\n      )\n      toolbar.appendChild(reply)\n    }\n\n    if (this.options.quote) {\n      const quote = this.createToolbarButton(\n        pgettext(\"quote toolbar\", \"Copy quote\"),\n        \"content_copy\",\n        this.copyQuote\n      )\n      toolbar.appendChild(quote)\n    }\n\n    document.body.appendChild(toolbar)\n\n    return toolbar\n  }\n\n  createToolbarButton(text, icon, callback) {\n    const btn = document.createElement(\"button\")\n    btn.className = \"quote-toolbar-btn\"\n\n    const btnIcon = document.createElement(\"span\")\n    btnIcon.className = \"material-icon\"\n    btnIcon.innerText = icon\n    btn.appendChild(btnIcon)\n\n    const btnText = document.createElement(\"span\")\n    btnText.className = \"quote-toolbar-btn-text\"\n    btnText.innerText = text\n    btn.appendChild(btnText)\n\n    btn.addEventListener(\"click\", callback)\n    return btn\n  }\n\n  showToolbar() {\n    const position = this.cursor.getPosition(this.root, this.range)\n    if (!position) {\n      return\n    }\n\n    this.toolbar.classList.add(\"show\")\n\n    computePosition(position, this.toolbar, {\n      placement: \"bottom\",\n      middleware: [offset(4), flip(), shift({ padding: 8 })],\n    }).then(({ x, y }) => {\n      Object.assign(this.toolbar.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      })\n    })\n  }\n\n  hideToolbar() {\n    this.toolbar.classList.remove(\"show\")\n  }\n\n  reply = () => {\n    const form = document.getElementById(\"misago-htmx-quick-reply\")\n\n    if (form && this.quote) {\n      const textarea = form.querySelector(\".markup-editor-textarea\")\n      if (textarea) {\n        if (textarea.value.trim()) {\n          textarea.value += this.quote\n        } else {\n          textarea.value = this.quote.trimStart()\n        }\n        snackbar.info(pgettext(\"quote toolbar\", \"Quote added to reply\"))\n      }\n    }\n\n    this.clearState()\n  }\n\n  copyQuote = async () => {\n    if (this.quote) {\n      try {\n        await navigator.clipboard.writeText(this.quote)\n        snackbar.info(pgettext(\"quote toolbar\", \"Quote copied to clipboard\"))\n      } catch (error) {\n        console.error(error.message)\n      }\n    }\n\n    this.clearState()\n  }\n}\n\nconst quote = new Quote()\n\nexport default quote\n","class QuoteCursorPosition {\n  constructor(tether) {\n    this.tether = tether\n\n    this.shadow = this.createShadow()\n    this.padding = null\n  }\n\n  createShadow() {\n    const shadow = document.createElement(\"div\")\n    shadow.ariaHidden = true\n    shadow.style.position = \"absolute\"\n    shadow.style.top = 0\n    shadow.style.left = \"-9999px\"\n    shadow.style.opacity = 0\n    shadow.style.zIndex = -999\n\n    document.body.appendChild(shadow)\n\n    return shadow\n  }\n\n  getPosition(root, range) {\n    const { element } = root\n\n    this.shadow.setAttribute(\"class\", element.getAttribute(\"class\"))\n\n    const rangeClone = range.cloneRange()\n    rangeClone.setStart(element.childNodes[0], 0)\n\n    const rangeRect = rangeClone.getBoundingClientRect()\n    this.shadow.style.width = `${rangeRect.width}px`\n\n    if (this.padding === null) {\n      const padding = window\n        .getComputedStyle(element)\n        .getPropertyValue(\"padding-top\")\n      this.padding = parseFloat(padding.substring(0, padding.length - 2))\n    }\n\n    this.shadow.replaceChildren(...rangeClone.cloneContents().childNodes)\n\n    const tether = this.findTether(this.shadow.childNodes)\n    if (!tether) {\n      this.shadow.replaceChildren()\n      return null\n    }\n\n    const shadowRect = this.shadow.getBoundingClientRect()\n    const tetherRect = tether.getBoundingClientRect()\n    const tetherOffset = tetherRect.x - shadowRect.x + tetherRect.width\n\n    const rect = {\n      top: rangeRect.bottom,\n      bottom: rangeRect.bottom + 1,\n      left: rangeRect.x + tetherOffset,\n      right: rangeRect.x + tetherOffset + 1,\n      height: 1,\n      width: 1,\n      x: rangeRect.x + tetherOffset.x,\n      y: rangeRect.bottom,\n    }\n\n    this.shadow.replaceChildren()\n\n    return {\n      getBoundingClientRect() {\n        return rect\n      },\n    }\n  }\n\n  findTether(nodes) {\n    let result = null\n\n    const { rules } = this.tether\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i]\n\n      for (let i = 0; i < rules.length; i++) {\n        const { func } = rules[i]\n        result = func(this, node) || result\n      }\n    }\n\n    return result\n  }\n}\n\nexport default QuoteCursorPosition\n","class QuoteSelection {\n  constructor(extractor, renderer, postprocess) {\n    this.extractor = extractor\n    this.renderer = renderer\n    this.postprocess = postprocess\n  }\n\n  getQuote(root) {\n    let result = this.extractNodes(root.childNodes)\n    result = this.postprocessNodes(root, result)\n    if (result.length === 0) {\n      return \"\"\n    }\n    return this.renderNodes(result).trim()\n  }\n\n  extractNodes(nodes, stack) {\n    const state = {\n      nodes,\n      node: null,\n      result: [],\n      stack: stack || [],\n      pos: 0,\n      posMax: nodes.length - 1,\n    }\n\n    const { rules } = this.extractor\n    while (state.pos <= state.posMax) {\n      let match = false\n\n      const node = nodes[state.pos]\n      state.node = node\n\n      for (let r = 0; r < rules.length; r++) {\n        const rule = rules[r].func\n        if (rule(this, state)) {\n          match = true\n          break\n        }\n      }\n\n      state.pos += match ? 0 : 1\n    }\n\n    return state.result\n  }\n\n  postprocessNodes(root, nodes) {\n    let result = nodes\n\n    const { rules } = this.postprocess\n    for (let i = 0; i < rules.length; i++) {\n      result = rules[i].func(this, root, result)\n    }\n\n    return result\n  }\n\n  renderNodes(nodes) {\n    const state = {\n      nodes,\n      node: null,\n      text: \"\",\n      pos: 0,\n      posMax: nodes.length - 1,\n    }\n\n    const { rules } = this.renderer\n    while (state.pos <= state.posMax) {\n      let match = false\n\n      const node = nodes[state.pos]\n      state.node = node\n\n      for (let r = 0; r < rules.length; r++) {\n        const rule = rules[r].func\n        if (rule(this, state)) {\n          match = true\n          break\n        }\n      }\n\n      state.pos += match ? 0 : 1\n    }\n\n    return state.text\n  }\n}\n\nexport default QuoteSelection\n","class Ruleset {\n  constructor(rules) {\n    this.rules = rules || []\n  }\n\n  push(name, func) {\n    this.rules.push({ name, func })\n  }\n\n  replace(name, func) {\n    this.rules = this.rules.map((rule) => {\n      if (rule.name === name) {\n        return { name, func }\n      } else {\n        return rule\n      }\n    })\n  }\n\n  before(beforeName, name, func) {\n    const rules = []\n    this.rules.forEach((rule) => {\n      rules.push({ name, func })\n      if (rule.name === beforeName) {\n        rules.push(rule)\n      }\n    })\n    this.rules = rules\n  }\n\n  after(afterName, name, func) {\n    const rules = []\n    this.rules.forEach((rule) => {\n      if (rule.name === afterName) {\n        rules.push(rule)\n      }\n      rules.push({ name, func })\n    })\n    this.rules = rules\n  }\n}\n\nexport default Ruleset\n","export function escapeBBCodeArg(arg) {\n  return escapeQuotes(escapeBrackets(escapeBackslash(arg)))\n}\n\nexport function escapeBBCodeContents(arg) {\n  return escapeBrackets(escapeBackslash(arg))\n}\n\nexport function escapeMarkdownLink(arg) {\n  return escapeQuotes(escapeParentheses(escapeBackslash(arg)))\n}\n\nexport function escapeMarkdownLinkText(arg) {\n  return escapeQuotes(escapeBrackets(escapeBackslash(arg)))\n}\n\nexport function escapeMarkdownLinkTitle(arg) {\n  return escapeMarkdownLink(arg)\n}\n\nexport function escapeMarkdownImageTitle(arg) {\n  let escaped = escapeBackslash(arg)\n  escaped = escaped.replaceAll(\"(\", \"\\\\(\")\n  escaped = escaped.replaceAll(\")\", \"\\\\)\")\n  return escaped.replaceAll('\"', '\\\\\"')\n}\n\nexport function escapeAutolink(arg) {\n  return escapeBackslash(arg).replaceAll(\"<\", \"\\\\<\").replaceAll(\">\", \"\\\\>\")\n}\n\nexport function escapeInlineCode(arg) {\n  return escapeBackslash(arg).replaceAll(\"`\", \"\\\\`\").replaceAll(\"`\", \"\\\\`\")\n}\n\nexport function escapeTableCell(arg) {\n  return escapeBackslash(arg).replaceAll(\"|\", \"\\\\|\")\n}\n\nexport function escapeBackslash(text) {\n  return text.replaceAll(\"\\\\\", \"\\\\\\\\\")\n}\n\nexport function escapeBrackets(text) {\n  return text.replaceAll(\"[\", \"\\\\[\").replaceAll(\"]\", \"\\\\]\")\n}\n\nexport function escapeParentheses(text) {\n  return text.replaceAll(\"(\", \"\\\\(\").replaceAll(\")\", \"\\\\)\")\n}\n\nexport function escapeQuotes(text) {\n  return text.replaceAll('\"', '\\\\\"').replaceAll(\"'\", \"\\\\'\")\n}\n","import getQuotedCode from \"./getQuotedCode\"\n\nfunction attachment(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"DIV\" && node.nodeName !== \"SPAN\") {\n    return false\n  }\n\n  const attachment = node.getAttribute(\"misago-rich-text-attachment\")\n  if (!attachment) {\n    return false\n  }\n\n  if (!node.childNodes.length) {\n    return false\n  }\n\n  result.push({\n    type: \"attachment\",\n    args: attachment,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction youtube(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"DIV\") {\n    return false\n  }\n\n  const url = node.getAttribute(\"misago-rich-text-youtube\")\n  if (!url) {\n    return false\n  }\n\n  result.push({\n    type: \"youtube\",\n    url,\n  })\n\n  state.pos += 1\n  return true\n}\n\nconst HEADER_NODES = {\n  H1: true,\n  H2: true,\n  H3: true,\n  H4: true,\n  H5: true,\n  H6: true,\n}\n\nfunction header(selection, state) {\n  const { result, node, stack } = state\n\n  if (!HEADER_NODES[node.nodeName]) {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"header\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const level = parseInt(node.nodeName.substring(1))\n\n  result.push({\n    type: \"header\",\n    level,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction quote(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"ASIDE\") {\n    return false\n  }\n\n  const blockquote = node.querySelector(\"blockquote[misago-rich-text-quote]\")\n  if (!blockquote) {\n    return false\n  }\n\n  const info = blockquote.getAttribute(\"misago-rich-text-quote\")\n\n  const children = selection.extractNodes(\n    blockquote.childNodes,\n    stack.concat([\"quote\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"quote\",\n    info,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction spoiler(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"DETAILS\") {\n    return false\n  }\n\n  const body = node.querySelector(\"div[misago-rich-text-spoiler]\")\n  if (!body) {\n    return false\n  }\n\n  const info = body.getAttribute(\"misago-rich-text-spoiler\")\n\n  const children = selection.extractNodes(\n    body.childNodes,\n    stack.concat([\"quote\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"spoiler\",\n    info,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction code(selection, state) {\n  const { result, node, stack } = state\n\n  if (!(node.nodeName === \"DIV\" || node.nodeName === \"PRE\")) {\n    return false\n  }\n\n  const code = node.querySelector(\"code[misago-rich-text-code]\")\n  if (!code) {\n    return false\n  }\n\n  const info = code.getAttribute(\"misago-rich-text-code\")\n  const content = getQuotedCode(code)\n\n  result.push({\n    type: \"code\",\n    info,\n    content,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction paragraph(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"P\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"paragraph\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"paragraph\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table(selection, state) {\n  const { result, node, stack } = state\n\n  if (\n    node.nodeName !== \"DIV\" ||\n    node.getAttribute(\"misago-rich-text\") !== \"table-container\"\n  ) {\n    return false\n  }\n\n  const tables = Array.from(node.childNodes).filter(function (node) {\n    return node.nodeName === \"TABLE\"\n  })\n\n  if (tables.length !== 1) {\n    return false\n  }\n\n  const table = tables[0]\n\n  const children = selection.extractNodes(\n    table.childNodes,\n    stack.concat([\"table\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_head(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"THEAD\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_head\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_head\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_body(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TBODY\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_body\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_body\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_row(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TR\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_row\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"table_row\",\n    id: node.id,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_th(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TH\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_th\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const { index, alignment } = getTableCellMeta(node)\n\n  result.push({\n    type: \"table_th\",\n    index,\n    alignment,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction table_td(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"TD\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"table_td\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  const { index, alignment } = getTableCellMeta(node)\n\n  result.push({\n    type: \"table_td\",\n    index,\n    alignment,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction getTableCellMeta(node) {\n  const meta = node.getAttribute(\"misago-rich-text-col\")\n  if (!meta) {\n    return { index: null, alignment: \"c\" }\n  }\n\n  const values = meta.split(\":\")\n  return { index: parseInt(values[0] || \"0\"), alignment: values[1] || \"c\" }\n}\n\nfunction list(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"OL\" && node.nodeName !== \"UL\") {\n    return false\n  }\n\n  const ordered = node.nodeName === \"OL\"\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"list\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"list\",\n    ordered,\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction list_item(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"LI\") {\n    return false\n  }\n\n  const children = selection.extractNodes(\n    node.childNodes,\n    stack.concat([\"list_item\"])\n  )\n\n  if (!children.length) {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"list_item\",\n    children,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction hr(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"HR\") {\n    return false\n  }\n\n  result.push({\n    type: \"hr\",\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction image(selection, state) {\n  const { result, node } = state\n\n  if (node.nodeName !== \"IMG\") {\n    return false\n  }\n\n  const url = (node.getAttribute(\"src\") || \"\").trim()\n  const alt = (node.getAttribute(\"alt\") || \"\").trim() || null\n  const title = (node.getAttribute(\"title\") || \"\").trim() || null\n\n  if (!url) {\n    return false\n  }\n\n  result.push({\n    type: \"image\",\n    url,\n    alt,\n    title,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction mention(selection, state) {\n  const { result, node } = state\n\n  if (!(node.nodeName === \"A\" || node.nodeName === \"SPAN\")) {\n    return false\n  }\n\n  if (!node.getAttribute(\"misago-rich-text-mention\")) {\n    return false\n  }\n\n  result.push({\n    type: \"text\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction link(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"A\") {\n    return false\n  }\n\n  result.push({\n    type: \"link\",\n    href: node.getAttribute(\"href\"),\n    auto: node.getAttribute(\"misago-rich-text\") === \"autolink\",\n    children: selection.extractNodes(node.childNodes, stack.concat([\"link\"])),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction strong_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"STRONG\") {\n    return false\n  }\n\n  result.push({\n    type: \"strong\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"strong_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction emphasis_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"EM\") {\n    return false\n  }\n\n  result.push({\n    type: \"emphasis\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"emphasis_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction bold_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"B\") {\n    return false\n  }\n\n  result.push({\n    type: \"bold\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"bold_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction italic_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"I\") {\n    return false\n  }\n\n  result.push({\n    type: \"italic\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"italic_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction underline_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"U\") {\n    return false\n  }\n\n  result.push({\n    type: \"underline\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"underline_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction strikethrough_text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"DEL\") {\n    return false\n  }\n\n  result.push({\n    type: \"strikethrough\",\n    children: selection.extractNodes(\n      node.childNodes,\n      stack.concat([\"strikethrough_text\"])\n    ),\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction inline_code(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"CODE\") {\n    return false\n  }\n\n  result.push({\n    type: \"inline_code\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction softbreak(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeName !== \"BR\") {\n    return false\n  }\n\n  result.push({\n    type: \"softbreak\",\n  })\n\n  state.pos += 1\n  return true\n}\n\nfunction text(selection, state) {\n  const { result, node, stack } = state\n\n  if (node.nodeType !== Node.TEXT_NODE) {\n    return false\n  }\n\n  if (node.textContent === \"\\n\") {\n    state.pos += 1\n    return true\n  }\n\n  result.push({\n    type: \"text\",\n    content: node.textContent,\n  })\n\n  state.pos += 1\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"code\", func: code },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"table_head\", func: table_head },\n  { name: \"table_body\", func: table_body },\n  { name: \"table_row\", func: table_row },\n  { name: \"table_th\", func: table_th },\n  { name: \"table_td\", func: table_td },\n  { name: \"list\", func: list },\n  { name: \"list_item\", func: list_item },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"mention\", func: mention },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"softbreak\", func: softbreak },\n  { name: \"text\", func: text },\n]\n","export default function getQuotedCode(node) {\n  const code = getCodeTextContent(node)\n  return dedentTrimCode(code)\n}\n\nfunction getCodeTextContent(node) {\n  let text = \"\"\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i]\n    if (child.nodeType === Node.TEXT_NODE) {\n      text += child.textContent\n    } else if (child.nodeName === \"SPAN\") {\n      text += getCodeTextContent(child)\n    }\n  }\n  return text\n}\n\nfunction dedentTrimCode(code) {\n  const lines = splitLines(trimCodeBlankLines(code))\n\n  let dedent = -1\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i]\n    if (line.trim()) {\n      const lineDedent = lines[i].length - lines[i].trimStart().length\n      if (dedent === -1 || lineDedent < dedent) {\n        dedent = lineDedent\n      }\n    }\n  }\n\n  if (dedent) {\n    for (let i = 0; i < lines.length; i++) {\n      lines[i] = lines[i].substring(dedent)\n    }\n  }\n\n  return lines.join(\"\\n\")\n}\n\nfunction trimCodeBlankLines(code) {\n  const cleanLines = []\n  const lines = splitLines(code)\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i]\n    if (cleanLines.length || line.trim()) {\n      cleanLines.push(line.trimEnd())\n    }\n  }\n  return cleanLines.join(\"\\n\").trimEnd()\n}\n\nfunction splitLines(text) {\n  return text.split(/\\r?\\n/)\n}\n","import quote from \"./Quote\"\nimport QuoteSelection from \"./QuoteSelection\"\nimport Ruleset from \"./Ruleset\"\n\nexport default quote\n\nexport { QuoteSelection, Ruleset }\n","import getQuotedCode from \"./getQuotedCode\"\n\nfunction attachment(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-attachment]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const args = container.getAttribute(\"misago-rich-text-attachment\")\n\n  return [\n    {\n      type: \"attachment\",\n      args,\n    },\n  ]\n}\n\nfunction youtube(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-youtube]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const url = container.getAttribute(\"misago-rich-text-youtube\")\n  if (!url) {\n    return nodes\n  }\n\n  return [\n    {\n      type: \"youtube\",\n      url,\n    },\n  ]\n}\n\nfunction code(selection, root, nodes) {\n  const { ancestor } = root\n  const container = ancestor.closest(\"[misago-rich-text-code]\")\n\n  if (!container) {\n    return nodes\n  }\n\n  const info = container.getAttribute(\"misago-rich-text-code\")\n  const content = getQuotedCode(root)\n\n  return [\n    {\n      type: \"code\",\n      info,\n      content,\n    },\n  ]\n}\n\nfunction table(selection, root, nodes) {\n  return nodes.map((node) => {\n    if (node.type === \"table\") {\n      return fixTable(selection, node)\n    } else {\n      return node\n    }\n  })\n}\n\nfunction fixTable(selection, table) {\n  let result = fixTableHeader(selection, table)\n  return fixTableColumns(selection, result)\n}\n\nfunction fixTableHeader(selection, table) {\n  if (table.children[0].type === \"table_head\") {\n    return table\n  }\n\n  const thead = {\n    type: \"table_head\",\n    children: [{ type: \"table_row\", children: [] }],\n  }\n\n  table.children = [thead, table.children[0]]\n\n  return table\n}\n\nfunction fixTableColumns(selection, table) {\n  const element = document\n    .getElementById(table.children[1].children[0].id)\n    .closest(\"table\")\n\n  const head = table.children[0]\n  const body = table.children[1]\n\n  const cols = {}\n  head.children.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  body.children.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  head.children[0].children = selection.extractNodes(\n    Array.from(element.querySelector(\"thead tr\").childNodes)\n      .filter((node) => node.nodeName === \"TH\")\n      .filter((_, index) => cols[index])\n  )\n\n  body.children.forEach((row) => {\n    row.children = selection.extractNodes(\n      Array.from(document.getElementById(row.id).childNodes)\n        .filter((node) => node.nodeName === \"TD\")\n        .filter((_, index) => cols[index])\n    )\n  })\n\n  return table\n}\n\nfunction table_head(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_head\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n\n  const cols = {}\n  nodes.forEach(function (rowset) {\n    rowset.children.forEach(function (row) {\n      row.children.forEach(function (cell) {\n        cols[cell.index] = true\n      })\n    })\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(table.querySelector(\"thead tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  const tbody = {\n    type: \"table_body\",\n    children: nodes[1].children.map((row) => {\n      row.children = selection.extractNodes(\n        Array.from(document.getElementById(row.id).childNodes)\n          .filter((node) => node.nodeName === \"TD\")\n          .filter((_, index) => cols[index])\n      )\n      return row\n    }),\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_row(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_row\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n\n  const cols = {}\n  nodes.forEach(function (row) {\n    row.children.forEach(function (cell) {\n      cols[cell.index] = true\n    })\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(table.querySelector(\"thead tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  const tbody = {\n    type: \"table_body\",\n    children: nodes.map((row) => {\n      row.children = selection.extractNodes(\n        Array.from(document.getElementById(row.id).childNodes)\n          .filter((node) => node.nodeName === \"TD\")\n          .filter((_, index) => cols[index])\n      )\n      return row\n    }),\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_th(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_th\") {\n    return nodes\n  }\n\n  const cols = {}\n  nodes.forEach(function (cell) {\n    cols[cell.index] = true\n  })\n\n  const thead = {\n    type: \"table_head\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(root.ancestor.closest(\"tr\").childNodes)\n            .filter((node) => node.nodeName === \"TH\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead],\n    },\n  ]\n}\n\nfunction table_td(selection, root, nodes) {\n  if (!nodes || nodes[0].type !== \"table_td\") {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n  const header = Array.from(table.querySelector(\"thead tr\").childNodes).filter(\n    (node) => node.nodeName === \"TH\"\n  )\n\n  const thead = {\n    type: \"table_head\",\n    children: [{ type: \"table_row\", children: [] }],\n  }\n\n  nodes.forEach(function (node) {\n    thead.children[0].children.push(\n      selection.extractNodes([header[node.index]])[0]\n    )\n  })\n\n  const cols = {}\n  nodes.forEach(function (cell) {\n    cols[cell.index] = true\n  })\n\n  const tbody = {\n    type: \"table_body\",\n    children: [\n      {\n        type: \"table_row\",\n        children: selection.extractNodes(\n          Array.from(root.ancestor.closest(\"tr\").childNodes)\n            .filter((node) => node.nodeName === \"TD\")\n            .filter((_, index) => cols[index])\n        ),\n      },\n    ],\n  }\n\n  return [\n    {\n      type: \"table\",\n      children: [thead, tbody],\n    },\n  ]\n}\n\nfunction table_content(selection, root, nodes) {\n  const td = root.ancestor.closest(\"td\")\n\n  if (!td) {\n    return nodes\n  }\n\n  const table = root.ancestor.closest(\"table\")\n  const header = Array.from(table.querySelector(\"thead tr\").childNodes).filter(\n    (node) => node.nodeName === \"TH\"\n  )\n\n  const node = Object.assign(selection.extractNodes([td])[0], {\n    children: nodes,\n  })\n\n  return [\n    {\n      type: \"table\",\n      children: [\n        {\n          type: \"table_head\",\n          children: [\n            {\n              type: \"table_row\",\n              children: selection.extractNodes([header[node.index]]),\n            },\n          ],\n        },\n        {\n          type: \"table_body\",\n          children: [\n            {\n              type: \"table_row\",\n              children: [node],\n            },\n          ],\n        },\n      ],\n    },\n  ]\n}\n\nfunction list(selection, root, nodes) {\n  if (root.ancestor.nodeName === \"OL\" || root.ancestor.nodeName === \"UL\") {\n    return [\n      {\n        type: \"list\",\n        ordered: root.ancestor.nodeName === \"OL\",\n        children: nodes,\n      },\n    ]\n  }\n\n  return nodes\n}\n\nfunction blocks(selection, root, nodes) {\n  let spoiler = false\n  let quote = false\n\n  let result = nodes\n\n  let parent = root.ancestor\n  while (!parent.hasAttribute(\"misago-quote-root\")) {\n    if (parent.hasAttribute(\"misago-rich-text-spoiler\")) {\n      spoiler = true\n      result = [\n        {\n          type: \"spoiler\",\n          info: parent.getAttribute(\"misago-rich-text-spoiler\"),\n          children: result,\n        },\n      ]\n    } else if (parent.hasAttribute(\"misago-rich-text-quote\")) {\n      quote = true\n      result = [\n        {\n          type: \"quote\",\n          info: parent.getAttribute(\"misago-rich-text-quote\"),\n          children: result,\n        },\n      ]\n    }\n\n    if (spoiler && quote) {\n      return result\n    }\n\n    parent = parent.parentNode\n  }\n\n  return result\n}\n\nfunction quote_wrapper(selection, root, nodes) {\n  if (!nodes) {\n    return false\n  }\n\n  if (!wrapNodesInQuote(nodes)) {\n    return nodes\n  }\n\n  return [\n    {\n      type: \"quote\",\n      info: root.info,\n      children: nodes,\n    },\n  ]\n}\n\nfunction wrapNodesInQuote(nodes) {\n  if (nodes.length !== 1) {\n    return true\n  }\n\n  if (nodes[0].type === \"quote\" && nodes[0].info) {\n    return false\n  }\n\n  if (nodes[0].type === \"spoiler\") {\n    return wrapNodesInQuote(nodes[0].children)\n  }\n\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"code\", func: code },\n  { name: \"table\", func: table },\n  { name: \"table_head\", func: table_head },\n  { name: \"table_row\", func: table_row },\n  { name: \"table_th\", func: table_th },\n  { name: \"table_td\", func: table_td },\n  { name: \"table_content\", func: table_content },\n  { name: \"list\", func: list },\n  { name: \"blocks\", func: blocks },\n  { name: \"quote_wrapper\", func: quote_wrapper },\n]\n","import {\n  escapeAutolink,\n  escapeBBCodeArg,\n  escapeBBCodeContents,\n  escapeInlineCode,\n  escapeMarkdownLink,\n  escapeMarkdownLinkText,\n  escapeMarkdownLinkTitle,\n  escapeTableCell,\n} from \"./escape\"\n\nfunction attachment(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"attachment\") {\n    return false\n  }\n\n  if (state.text) {\n    if (state.nodes[state.pos - 1].type === \"attachment\") {\n      state.text += \"\\n\"\n    } else {\n      state.text += \"\\n\\n\"\n    }\n  }\n\n  state.text += \"<attachment=\" + node.args + \">\"\n  state.pos += 1\n\n  return true\n}\n\nfunction youtube(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"youtube\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += node.url\n  state.pos += 1\n\n  return true\n}\n\nfunction header(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"header\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const prefix = \"#\".repeat(node.level)\n  state.text += prefix + \" \" + text\n  state.pos += 1\n\n  return true\n}\n\nfunction quote(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"quote\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const { info } = node\n\n  state.text += \"[quote\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += text\n  state.text += \"\\n[/quote]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction code(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"code\") {\n    return false\n  }\n\n  const { info, content } = node\n\n  if (!node.content) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += \"[code\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += content\n  state.text += \"\\n[/code]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction spoiler(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"spoiler\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const { info } = node\n\n  state.text += \"[spoiler\" + (info ? \"=\" + escapeBBCodeArg(info) : \"\") + \"]\\n\"\n  state.text += text\n  state.text += \"\\n[/spoiler]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction paragraph(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"paragraph\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children).trim()\n  if (!text) {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += text\n  state.pos += 1\n\n  return true\n}\n\nfunction table(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"table\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const alignment = []\n  const lengths = []\n  const rows = []\n\n  // thead.tr.th\n  node.children.forEach(function (tbody) {\n    if (tbody.type === \"table_head\") {\n      const row = tbody.children[0].children.map(function (cell) {\n        const text = getTableCellText(selection, cell)\n        alignment.push(cell.alignment)\n        lengths.push(Math.max(text.length, 3))\n        return text\n      })\n      rows.push(row)\n    } else if (tbody.type === \"table_body\") {\n      tbody.children.forEach(function (table_row) {\n        const row = table_row.children.map(function (cell, index) {\n          const text = getTableCellText(selection, cell)\n          lengths[index] = Math.max(text.length, lengths[index] || 0, 3)\n          return text\n        })\n        rows.push(row)\n      })\n    }\n  })\n\n  const table = []\n  rows.forEach(function (cols, index) {\n    const row = cols.map(function (text, col) {\n      return text + \" \".repeat(lengths[col] - text.length)\n    })\n\n    table.push(\"| \" + row.join(\" | \") + \" | \")\n\n    if (index === 0) {\n      const header = cols.map(function (_, col) {\n        if (alignment[col] === \"l\") {\n          return \"-\".repeat(lengths[col])\n        } else if (alignment[col] === \"r\") {\n          return \"-\".repeat(lengths[col] - 1) + \":\"\n        } else if (alignment[col] === \"c\") {\n          return \":\" + \"-\".repeat(lengths[col] - 2) + \":\"\n        }\n      })\n      table.push(\"| \" + header.join(\" | \") + \" | \")\n    }\n  })\n\n  state.text += table.join(\"\\n\")\n  state.pos += 1\n\n  return true\n}\n\nfunction getTableCellText(selection, node) {\n  return escapeTableCell(selection.renderNodes(node.children).trim())\n}\n\nfunction list(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"list\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  const items = node.children.map((item, index) => {\n    const prefix = node.ordered ? index + 1 + \". \" : \"* \"\n    const text = selection.renderNodes(item.children).trim()\n    const lines = text.split(/\\r?\\n|\\r|\\n/g).map((line, lineIndex) => {\n      if (lineIndex === 0) {\n        return prefix + line.trim()\n      } else {\n        return \" \".repeat(prefix.length) + line.trim()\n      }\n    })\n    return lines.join(\"\\n\")\n  })\n\n  state.text += items.join(\"\\n\")\n  state.pos += 1\n\n  return true\n}\n\nfunction hr(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"hr\") {\n    return false\n  }\n\n  if (state.text) {\n    state.text += \"\\n\\n\"\n  }\n\n  state.text += \"- - -\"\n  state.pos += 1\n\n  return true\n}\n\nfunction image(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"image\") {\n    return false\n  }\n\n  const { url, alt, title } = node\n\n  if (alt || title) {\n    state.text += \"!\"\n    if (alt) {\n      state.text += \"[\" + escapeMarkdownLinkText(alt) + \"]\"\n    }\n    state.text += \"(\" + escapeMarkdownLink(url)\n    if (title) {\n      state.text += ' \"' + escapeMarkdownLinkTitle(title) + '\"'\n    }\n    state.text += \")\"\n  } else {\n    state.text += \"[img]\" + escapeBBCodeContents(url) + \"[/img]\"\n  }\n\n  state.pos += 1\n\n  return true\n}\n\nfunction link(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"link\") {\n    return false\n  }\n\n  const { auto, children, href } = node\n  const text = selection.renderNodes(children)\n\n  if (auto) {\n    state.text += \"<\" + escapeAutolink(href) + \">\"\n  } else {\n    state.text += \"[url=\" + escapeBBCodeArg(href) + \"]\" + text + \"[/url]\"\n  }\n\n  state.pos += 1\n\n  return true\n}\n\nfunction strong_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"strong\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  const delimiter = text.indexOf(\"_\") === -1 ? \"__\" : \"**\"\n  state.text += delimiter + text + delimiter\n  state.pos += 1\n\n  return true\n}\n\nfunction emphasis_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"emphasis\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  const delimiter = text.indexOf(\"_\") === -1 ? \"_\" : \"**\"\n  state.text += delimiter + text + delimiter\n  state.pos += 1\n\n  return true\n}\n\nfunction bold_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"bold\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[b]\" + text + \"[/b]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction italic_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"italic\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[i]\" + text + \"[/i]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction underline_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"underline\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[u]\" + text + \"[/u]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction strikethrough_text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"strikethrough\") {\n    return false\n  }\n\n  const text = selection.renderNodes(node.children)\n  if (!text) {\n    return false\n  }\n\n  state.text += \"[s]\" + text + \"[/s]\"\n  state.pos += 1\n\n  return true\n}\n\nfunction inline_code(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"inline_code\") {\n    return false\n  }\n\n  const { content } = node\n  if (!content) {\n    return false\n  }\n\n  state.text += \"`\" + escapeInlineCode(content) + \"`\"\n  state.pos += 1\n\n  return true\n}\n\nfunction softbreak(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"softbreak\") {\n    return false\n  }\n\n  state.text += \"\\n\"\n\n  state.pos += 1\n  return true\n}\n\nfunction text(selection, state) {\n  const { node } = state\n\n  if (node.type !== \"text\") {\n    return false\n  }\n\n  // We rely on 'softbreak' rule for explicit line breaks\n  state.text += node.content.replaceAll(\"\\n\", \"\")\n  state.pos += 1\n\n  return true\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"code\", func: code },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"list\", func: list },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"softbreak\", func: softbreak },\n  { name: \"text\", func: text },\n]\n","function attachment(cursor, node) {\n  if (node.nodeName !== \"DIV\" && node.nodeName !== \"SPAN\") {\n    return null\n  }\n\n  if (!node.hasAttribute(\"misago-rich-text-attachment\")) {\n    return null\n  }\n\n  return node\n}\n\nfunction youtube(cursor, node) {\n  if (node.nodeName !== \"DIV\") {\n    return null\n  }\n\n  if (!node.hasAttribute(\"misago-rich-text-youtube\")) {\n    return null\n  }\n\n  return node\n}\n\nconst HEADER_NODES = {\n  H1: true,\n  H2: true,\n  H3: true,\n  H4: true,\n  H5: true,\n  H6: true,\n}\n\nfunction header(cursor, node) {\n  if (!HEADER_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction quote(cursor, node) {\n  if (node.nodeName !== \"ASIDE\") {\n    return null\n  }\n\n  const blockquote = node.querySelector(\"blockquote[misago-rich-text-quote]\")\n  if (!blockquote) {\n    return null\n  }\n\n  return cursor.findTether(blockquote.childNodes)\n}\n\nfunction spoiler(cursor, node) {\n  if (node.nodeName !== \"DETAILS\") {\n    return null\n  }\n\n  const body = node.querySelector(\"div[misago-rich-text-spoiler]\")\n  if (!body) {\n    return null\n  }\n\n  return cursor.findTether(body.childNodes)\n}\n\nfunction code(cursor, node) {\n  if (!(node.nodeName === \"DIV\" || node.nodeName === \"PRE\")) {\n    return null\n  }\n\n  const code = node.querySelector(\"code[misago-rich-text-code]\")\n  if (!code) {\n    return null\n  }\n\n  const result = code.childNodes[code.childNodes.length - 1]\n  if (result.nodeName === \"SPAN\") {\n    return cursor.findTether(result.childNodes)\n  }\n\n  return cursor.findTether(code.childNodes)\n}\n\nfunction paragraph(cursor, node) {\n  if (node.nodeName !== \"P\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nconst TABLE_NODES = {\n  TABLE: true,\n  THEAD: true,\n  TBODY: true,\n  TR: true,\n  TH: true,\n  TD: true,\n}\n\nfunction table(cursor, node) {\n  if (\n    node.nodeName === \"DIV\" &&\n    node.getAttribute(\"misago-rich-text\") === \"table-container\"\n  ) {\n    return cursor.findTether(node.childNodes)\n  }\n\n  if (!node.nodeName || !TABLE_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nconst LIST_NODES = {\n  OL: true,\n  UL: true,\n  LI: true,\n}\n\nfunction list(cursor, node) {\n  if (!node.nodeName || !LIST_NODES[node.nodeName]) {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction hr(cursor, node) {\n  if (node.nodeName !== \"HR\") {\n    return null\n  }\n\n  return node\n}\n\nfunction image(cursor, node) {\n  if (node.nodeName !== \"IMG\") {\n    return null\n  }\n\n  return node\n}\n\nfunction link(cursor, node) {\n  if (node.nodeName !== \"A\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction strong_text(cursor, node) {\n  if (node.nodeName !== \"STRONG\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction emphasis_text(cursor, node) {\n  if (node.nodeName !== \"EM\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction bold_text(cursor, node) {\n  if (node.nodeName !== \"B\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction italic_text(cursor, node) {\n  if (node.nodeName !== \"I\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction underline_text(cursor, node) {\n  if (node.nodeName !== \"U\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction strikethrough_text(cursor, node) {\n  if (node.nodeName !== \"DEL\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction inline_code(cursor, node) {\n  if (node.nodeName !== \"CODE\") {\n    return null\n  }\n\n  return cursor.findTether(node.childNodes)\n}\n\nfunction text(cursor, node) {\n  if (node.nodeType !== Node.TEXT_NODE) {\n    return null\n  }\n\n  const text = node.textContent.trimEnd()\n  if (!text) {\n    return null\n  }\n\n  const range = document.createRange()\n  range.selectNode(node)\n  range.setStart(node, text.length)\n  range.setEnd(node, text.length)\n\n  return range\n}\n\nexport default [\n  { name: \"attachment\", func: attachment },\n  { name: \"youtube\", func: youtube },\n  { name: \"header\", func: header },\n  { name: \"quote\", func: quote },\n  { name: \"spoiler\", func: spoiler },\n  { name: \"code\", func: code },\n  { name: \"paragraph\", func: paragraph },\n  { name: \"table\", func: table },\n  { name: \"list\", func: list },\n  { name: \"hr\", func: hr },\n  { name: \"image\", func: image },\n  { name: \"link\", func: link },\n  { name: \"strong_text\", func: strong_text },\n  { name: \"emphasis_text\", func: emphasis_text },\n  { name: \"bold_text\", func: bold_text },\n  { name: \"italic_text\", func: italic_text },\n  { name: \"underline_text\", func: underline_text },\n  { name: \"strikethrough_text\", func: strikethrough_text },\n  { name: \"inline_code\", func: inline_code },\n  { name: \"text\", func: text },\n]\n","import htmx from \"htmx.org\"\n\nfunction updateTabGroups(hash) {\n  if (!hash) {\n    return\n  }\n\n  document.querySelectorAll(\".tab-group\").forEach(function (element) {\n    updateTabGroup(hash, element)\n  })\n}\n\nfunction updateTabGroup(hash, element) {\n  let oldNav = null\n  let newNav = null\n\n  element.querySelectorAll(\".tab-group-nav a\").forEach(function (nav) {\n    if (nav.getAttribute(\"href\") === hash) {\n      newNav = nav\n    }\n    if (nav.classList.contains(\"active\")) {\n      oldNav = nav\n    }\n  })\n\n  const oldTab = element.querySelector(\".tab-group-tab.visible\")\n  const newTab = findTab(hash.substring(1), element)\n\n  if (newNav && newTab && newNav != oldNav && newTab !== oldTab) {\n    newNav.classList.add(\"active\")\n    newTab.classList.add(\"visible\")\n\n    if (oldNav) {\n      oldNav.classList.remove(\"active\")\n    }\n\n    if (oldTab) {\n      oldTab.classList.remove(\"visible\")\n    }\n\n    const event = new CustomEvent(\"misago:updated-tab\", {\n      bubbles: true,\n      target: element,\n      oldTab,\n      newTab,\n    })\n    element.dispatchEvent(event)\n  }\n}\n\nfunction findTab(hash, element) {\n  const tabs = element.querySelectorAll(\"[misago-tab-group-tab]\")\n  for (let i = 0; i < tabs.length; i++) {\n    const tab = tabs[i]\n    if (tab.getAttribute(\"misago-tab-group-tab\") === hash) {\n      return tab\n    }\n  }\n  return null\n}\n\nwindow.addEventListener(\"hashchange\", function () {\n  updateTabGroups(window.location.hash)\n})\n\nhtmx.onLoad(function () {\n  updateTabGroups(window.location.hash)\n})\n\nexport { updateTabGroups }\n","export function deleteElement(element, callback) {\n  element.classList.remove(\"animation-fade-in\")\n\n  element\n    .querySelectorAll(\"button, input, select, textarea\")\n    .forEach((child) => {\n      child.setAttribute(\"disabled\", \"\")\n    })\n\n  element.addEventListener(\"animationend\", ({ animationName }) => {\n    if (animationName === \"deleteElementAnimation\") {\n      element.remove()\n\n      if (callback) {\n        callback()\n      }\n    }\n  })\n\n  element.classList.add(\"animation-delete\")\n}\n\nexport function slideUpElement(element, options) {\n  element\n    .querySelectorAll(\"button, input, select, textarea\")\n    .forEach((child) => {\n      child.setAttribute(\"disabled\", \"\")\n    })\n\n  element.classList.add(\"animation-slide-up\")\n\n  const duration = (options && options.duration) || 350\n  const height = element.clientHeight\n  const opacity = element.style.opacity || 1\n\n  let start\n  element.style.overflow = \"hidden\"\n\n  function onFrame(timestamp) {\n    if (start === undefined) {\n      start = timestamp\n    }\n\n    const progress = Math.min((timestamp - start) / duration, 1)\n    const animation = Math.sin(((1 - progress) * Math.PI) / 2)\n\n    element.style.height = Math.floor(height * animation) + \"px\"\n    element.style.opacity = opacity * animation\n\n    if (progress < 1) {\n      requestAnimationFrame(onFrame)\n    } else {\n      element.remove()\n\n      if (options && options.callback) {\n        options.callback()\n      }\n    }\n  }\n\n  requestAnimationFrame(onFrame)\n}\n","import React from \"react\"\n\nexport default class ApiFetch extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: null,\n      loading: false,\n      error: null,\n    }\n\n    this.controller = new AbortController()\n    this.signal = this.controller.signal\n  }\n\n  componentDidMount() {\n    if (this.props.url && !this.props.disabled) {\n      this.request(this.props.url)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const url = this.props.url\n    const urlChanged = url && url !== prevProps.url\n    const disabledChanged = this.props.disabled != prevProps.disabled\n\n    if (urlChanged || disabledChanged) {\n      if (!this.props.disabled) {\n        if (this.hasCache(url)) {\n          this.getCache(url)\n        } else {\n          this.controller.abort()\n\n          this.controller = new AbortController()\n          this.signal = this.controller.signal\n          this.request(url)\n        }\n      } else {\n        this.controller.abort()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.controller.abort()\n  }\n\n  hasCache = (url) => {\n    return this.props.cache && this.props.cache[url]\n  }\n\n  getCache = async (url) => {\n    const data = this.props.cache[url]\n    this.setState({ loading: false, error: null, data })\n    if (this.props.onData) {\n      await this.props.onData(data)\n    }\n  }\n\n  setCache = (url, data) => {\n    if (this.props.cache) {\n      this.props.cache[url] = data\n    }\n  }\n\n  request = (url) => {\n    this.setState({ loading: true })\n\n    fetch(url, {\n      method: \"GET\",\n      credentials: \"include\",\n      signal: this.signal,\n    }).then(\n      async (response) => {\n        if (url === this.props.url) {\n          if (response.status == 200) {\n            const data = await response.json()\n            this.setState({ loading: false, error: null, data })\n            this.setCache(url, data)\n            if (this.props.onData) {\n              await this.props.onData(data)\n            }\n          } else {\n            const error = { status: response.status }\n            if (response.headers.get(\"Content-Type\") === \"application/json\") {\n              error.data = await response.json()\n            }\n            this.setState({ loading: false, error })\n          }\n        }\n      },\n      (rejection) => {\n        if (url === this.props.url) {\n          this.setState({ loading: false, error: { status: 0, rejection } })\n        }\n      }\n    )\n  }\n\n  refetch = () => {\n    this.request(this.props.url)\n  }\n\n  update = (mutation) => {\n    this.setState((state) => {\n      return { data: mutation(state.data) }\n    })\n  }\n\n  render() {\n    return this.props.children(\n      Object.assign({ refetch: this.refetch, update: this.update }, this.state)\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class ApiMutation extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: null,\n      loading: false,\n      error: null,\n    }\n  }\n\n  mutate = (options) => {\n    this.setState({ loading: true })\n\n    fetch(this.props.url, {\n      method: this.props.method || \"POST\",\n      credentials: \"include\",\n      headers: headers(options),\n      body: body(options),\n    }).then(\n      async (response) => {\n        if (response.status == 200) {\n          const data = await response.json()\n          this.setState({ loading: false, data })\n          if (options.onSuccess) {\n            await options.onSuccess(data)\n          }\n        } else if (response.status == 204) {\n          this.setState({ loading: false })\n          if (options.onSuccess) {\n            await options.onSuccess()\n          }\n        } else {\n          const error = { status: response.status }\n          if (response.headers.get(\"Content-Type\") === \"application/json\") {\n            error.data = await response.json()\n          }\n          this.setState({ loading: false, error })\n          if (options.onError) {\n            await options.onError(error)\n          }\n        }\n      },\n      async (rejection) => {\n        const error = { status: 0, rejection }\n        this.setState({ loading: false, error })\n        if (options.onError) {\n          await options.onError(error)\n        }\n      }\n    )\n  }\n\n  render() {\n    return this.props.children(this.mutate, this.state)\n  }\n}\n\nfunction headers(options) {\n  if (!!options.json) {\n    return {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n      \"X-CSRFToken\": csrfToken(),\n    }\n  }\n\n  return {\n    \"X-CSRFToken\": csrfToken(),\n  }\n}\n\nfunction body(options) {\n  if (!!options.json) {\n    return JSON.stringify(options.json)\n  }\n\n  return undefined\n}\n\nfunction csrfToken() {\n  const cookieName = window.misago_csrf\n\n  if (document.cookie.indexOf(cookieName) !== -1) {\n    const cookieRegex = new RegExp(cookieName + \"=([^;]*)\")\n    const cookie = document.cookie.match(cookieRegex)[0]\n    return cookie ? cookie.split(\"=\")[1] : null\n  } else {\n    return null\n  }\n}\n","import ApiFetch from \"./ApiFetch\"\nimport ApiMutation from \"./ApiMutation\"\n\nexport { ApiFetch, ApiMutation }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Breadcrumbs = ({ children, className }) => (\n  <ul className={classnames(\"breadcrumbs\", className)}>{children}</ul>\n)\n\nexport default Breadcrumbs\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span\n        className=\"material-icon\"\n        style={{ color: category.color || \"inherit\" }}\n      >\n        label\n      </span>\n      {!!category.short_name && (\n        <span\n          className=\"breadcrumbs-item-name hidden-sm hidden-md hidden-lg\"\n          title={category.name}\n        >\n          {category.short_name}\n        </span>\n      )}\n      {!!category.short_name && (\n        <span className=\"breadcrumbs-item-name hidden-xs\">{category.name}</span>\n      )}\n      {!category.short_name && (\n        <span className=\"breadcrumbs-item-name\">{category.name}</span>\n      )}\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsCategory\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsRootCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span className=\"material-icon\">chevron_right</span>\n      <span className=\"breadcrumbs-item-name\">\n        {category.special_role === \"root_category\"\n          ? pgettext(\"breadcrumb\", \"Threads\")\n          : pgettext(\"breadcrumb\", \"Private threads\")}\n      </span>\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsRootCategory\n","import Breadcrumbs from \"./Breadcrumbs\"\nimport BreadcrumbsCategory from \"./BreadcrumbsCategory\"\nimport BreadcrumbsRootCategory from \"./BreadcrumbsRootCategory\"\n\nexport { Breadcrumbs, BreadcrumbsCategory, BreadcrumbsRootCategory }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default class Dropdown extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isOpen: false,\n    }\n\n    this.root = null\n    this.dropdown = null\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"click\", this.handleClick)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"click\", this.handleClick)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const didUpdate = prevState.isOpen !== this.state.isOpen\n    if (didUpdate) {\n      if (this.state.isOpen && this.props.onOpen) {\n        this.props.onOpen(this.root)\n      }\n\n      if (!this.state.isOpen && this.props.onClose) {\n        this.props.onClose(this.root)\n      }\n    }\n  }\n\n  handleClick = (event) => {\n    if (\n      this.state.isOpen &&\n      (!this.root.contains(event.target) ||\n        (this.menu.contains(event.target) && event.target.closest(\"a\")))\n    ) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  toggle = () => {\n    this.setState((prevState) => {\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  close = () => {\n    this.setState({ isOpen: false })\n  }\n\n  render() {\n    const { isOpen } = this.state\n\n    return (\n      <div\n        id={this.props.id}\n        className={classnames(\n          \"dropdown\",\n          { open: isOpen },\n          this.props.className\n        )}\n        ref={(element) => {\n          if (element && !this.element) {\n            this.root = element\n          }\n        }}\n      >\n        {this.props.toggle({\n          isOpen,\n          toggle: this.toggle,\n          aria: ariaProps(isOpen),\n        })}\n        <div\n          className={classnames(\n            \"dropdown-menu\",\n            { \"dropdown-menu-right\": this.props.menuAlignRight },\n            this.props.menuClassName\n          )}\n          ref={(element) => {\n            if (element && !this.menu) {\n              this.menu = element\n            }\n          }}\n          role=\"menu\"\n        >\n          {this.props.children({ isOpen, close: this.close })}\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction ariaProps(isOpen) {\n  return {\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen ? \"true\" : \"false\",\n  }\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownDivider({ className }) {\n  return <li className={classnames(\"divider\", className)}></li>\n}\n","import React from \"react\"\n\nexport default function DropdownFooter({ children, listItem }) {\n  if (listItem) {\n    return <li className=\"dropdown-footer\">{children}</li>\n  }\n\n  return <div className=\"dropdown-footer\">{children}</div>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownHeader({ className, children }) {\n  return (\n    <div className={classnames(\"dropdown-header\", className)}>{children}</div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownMenuItem({ className, children }) {\n  return (\n    <li className={classnames(\"dropdown-menu-item\", className)}>{children}</li>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownPills({ className, children }) {\n  return (\n    <div className={classnames(\"dropdown-pills\", className)}>{children}</div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function DropdownSubheader({ className, children }) {\n  return (\n    <li className={classnames(\"dropdown-subheader\", className)}>{children}</li>\n  )\n}\n","import Dropdown from \"./Dropdown\"\nimport DropdownDivider from \"./DropdownDivider\"\nimport DropdownFooter from \"./DropdownFooter\"\nimport DropdownHeader from \"./DropdownHeader\"\nimport DropdownMenuItem from \"./DropdownMenuItem\"\nimport DropdownPills from \"./DropdownPills\"\nimport DropdownSubheader from \"./DropdownSubheader\"\n\nexport {\n  Dropdown,\n  DropdownDivider,\n  DropdownFooter,\n  DropdownHeader,\n  DropdownMenuItem,\n  DropdownPills,\n  DropdownSubheader,\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRow = ({ children, className }) => (\n  <div className={classnames(\"flex-row\", className)}>{children}</div>\n)\n\nexport default FlexRow\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowCol = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"flex-row-col\", className, {\n      \"flex-row-col-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowCol\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"flex-row-section\",\n      { \"flex-row-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowSection\n","import FlexRow from \"./FlexRow\"\nimport FlexRowCol from \"./FlexRowCol\"\nimport FlexRowSection from \"./FlexRowSection\"\n\nexport { FlexRow, FlexRowCol, FlexRowSection }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function ListGroup({ className, children }) {\n  return <ul className={classnames(\"list-group\", className)}>{children}</ul>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupEmpty({ className, icon, message }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-empty\", className)}>\n      {!!icon && (\n        <div className=\"list-group-empty-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-empty-message\">{message}</p>\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupError({ className, icon, message, detail }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-error\", className)}>\n      {!!icon && (\n        <div className=\"list-group-error-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-error-message\">{message}</p>\n      {!!detail && <p className=\"list-group-error-detail\">{detail}</p>}\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function ListGroupItem({ className, children }) {\n  return (\n    <li className={classnames(\"list-group-item\", className)}>{children}</li>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupLoading({ className, message }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-loading\", className)}>\n      <p className=\"list-group-loading-message\">{message}</p>\n      <div className=\"list-group-loading-progress\">\n        <div className=\"list-group-loading-progress-bar\"></div>\n      </div>\n    </ListGroupItem>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ListGroupItem from \"./ListGroupItem\"\n\nexport default function ListGroupMessage({ className, icon, message, detail }) {\n  return (\n    <ListGroupItem className={classnames(\"list-group-message\", className)}>\n      {!!icon && (\n        <div className=\"list-group-message-icon\">\n          <span className=\"material-icon\">{icon}</span>\n        </div>\n      )}\n      <p className=\"list-group-message-message\">{message}</p>\n      {!!detail && <p className=\"list-group-message-detail\">{detail}</p>}\n    </ListGroupItem>\n  )\n}\n","import ListGroup from \"./ListGroup\"\nimport ListGroupEmpty from \"./ListGroupEmpty\"\nimport ListGroupError from \"./ListGroupError\"\nimport ListGroupItem from \"./ListGroupItem\"\nimport ListGroupLoading from \"./ListGroupLoading\"\nimport ListGroupMessage from \"./ListGroupMessage\"\n\nexport {\n  ListGroup,\n  ListGroupEmpty,\n  ListGroupError,\n  ListGroupItem,\n  ListGroupLoading,\n  ListGroupMessage,\n}\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupAttachmentModal({ attachment }) {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup editor\", \"Attachment details\")}\n          </h4>\n        </div>\n        <div className=\"modal-body\">\n          {!!attachment.is_image && (\n            <div className=\"markup-editor-attachment-modal-preview\">\n              <a href={attachment.url.index + \"?shva=1\"} target=\"_blank\">\n                <img src={attachment.url.index + \"?shva=1\"} alt=\"\" />\n              </a>\n            </div>\n          )}\n          <div className=\"markup-editor-attachment-modal-filename\">\n            {attachment.filename}\n          </div>\n          <div className=\"row markup-editor-attachment-modal-details\">\n            <div className=\"col-xs-12 col-md-3\">\n              <strong>\n                {attachment.filetype + \", \" + formatFilesize(attachment.size)}\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Type and size\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-4\">\n              <strong>\n                <abbr title={attachment.uploaded_on.format(\"LLL\")}>\n                  {attachment.uploaded_on.fromNow()}\n                </abbr>\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploaded at\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-3\">\n              {attachment.url.uploader ? (\n                <a\n                  href={attachment.url.uploader}\n                  target=\"_blank\"\n                  className=\"item-title\"\n                >\n                  {attachment.uploader_name}\n                </a>\n              ) : (\n                <span className=\"item-title\">{attachment.uploader_name}</span>\n              )}\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploader\")}</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupCodeModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      syntax: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const syntax = this.state.syntax.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    replaceSelection(\n      Object.assign({}, selection, { text }),\n      update,\n      prefix + \"```\" + syntax + \"\\n\" + text + \"\\n```\\n\\n\"\n    )\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Code\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_code_syntax\"\n                label={pgettext(\"markup editor\", \"Syntax highlighting\")}\n              >\n                <select\n                  id=\"markup_code_syntax\"\n                  className=\"form-control\"\n                  value={this.state.syntax}\n                  onChange={(event) =>\n                    this.setState({ syntax: event.target.value })\n                  }\n                >\n                  <option value=\"\">\n                    {pgettext(\"markup editor\", \"No syntax highlighting\")}\n                  </option>\n                  {LANGUAGES.map(({ value, name }) => (\n                    <option key={value} value={value}>\n                      {name}\n                    </option>\n                  ))}\n                </select>\n              </FormGroup>\n              <FormGroup\n                for=\"markup_code_text\"\n                label={pgettext(\"markup editor\", \"Code to insert\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_code_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert code\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst LANGUAGES = [\n  { value: \"bash\", name: \"Bash\" },\n  { value: \"c\", name: \"C\" },\n  { value: \"c#\", name: \"C#\" },\n  { value: \"c++\", name: \"C++\" },\n  { value: \"css\", name: \"CSS\" },\n  { value: \"diff\", name: \"Diff\" },\n  { value: \"go\", name: \"Go\" },\n  { value: \"graphql\", name: \"GraphQL\" },\n  { value: \"html,\", name: \"HTML\" },\n  { value: \"xml\", name: \"XML\" },\n  { value: \"json\", name: \"JSON\" },\n  { value: \"java\", name: \"Java\" },\n  { value: \"javascript\", name: \"JavaScript\" },\n  { value: \"kotlin\", name: \"Kotlin\" },\n  { value: \"less\", name: \"Less\" },\n  { value: \"lua\", name: \"Lua\" },\n  { value: \"makefile\", name: \"Makefile\" },\n  { value: \"markdown\", name: \"Markdown\" },\n  { value: \"objective-C\", name: \"Objective-C\" },\n  { value: \"php\", name: \"PHP\" },\n  { value: \"perl\", name: \"Perl\" },\n  { value: \"plain\", name: \"Plain\" },\n  { value: \"text\", name: \"text\" },\n  { value: \"python\", name: \"Python\" },\n  { value: \"repl\", name: \"REPL\" },\n  { value: \"r\", name: \"R\" },\n  { value: \"ruby\", name: \"Ruby\" },\n  { value: \"rust\", name: \"Rust\" },\n  { value: \"scss\", name: \"SCSS\" },\n  { value: \"sql\", name: \"SQL\" },\n  { value: \"shell\", name: \"Shell Session\" },\n  { value: \"swift\", name: \"Swift\" },\n  { value: \"toml\", name: \"TOML\" },\n  { value: \"ini\", name: \"INI\" },\n  { value: \"typescript\", name: \"TypeScript\" },\n  { value: \"visualbasic\", name: \"Visual Basic .NET\" },\n  { value: \"webassembly\", name: \"WebAssembly\" },\n  { value: \"yaml\", name: \"YAML\" },\n]\n\nexport default MarkupCodeModal\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport MisagoMarkup from \"../misago-markup\"\nimport MarkupEditorAttachments from \"./MarkupEditorAttachments\"\nimport MarkupEditorFooter from \"./MarkupEditorFooter\"\nimport MarkupEditorToolbar from \"./MarkupEditorToolbar\"\nimport uploadFile from \"./uploadFile\"\n\nclass MarkupEditor extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      element: null,\n      focused: false,\n      loading: false,\n      preview: false,\n      parsed: null,\n    }\n  }\n\n  showPreview = () => {\n    if (this.state.loading) return\n\n    this.setState({ loading: true, preview: true, element: null })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        this.setState({ loading: false, parsed: data.parsed })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({ loading: false, preview: false })\n      }\n    )\n  }\n\n  closePreview = () => {\n    this.setState({ loading: false, preview: false })\n  }\n\n  onDrop = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (!event.dataTransfer.files) return\n\n    const { onAttachmentsChange: setState } = this.props\n\n    if (misago.get(\"user\").acl.max_attachment_size) {\n      for (let i = 0; i < event.dataTransfer.files.length; i++) {\n        const file = event.dataTransfer.files[i]\n        uploadFile(file, setState)\n      }\n    }\n  }\n\n  onPaste = (event) => {\n    const { onAttachmentsChange: setState } = this.props\n\n    const files = []\n    for (let i = 0; i < event.clipboardData.items.length; i++) {\n      const item = event.clipboardData.items[i]\n      if (item.kind === \"file\") {\n        files.push(item.getAsFile())\n      }\n    }\n\n    if (files.length) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (misago.get(\"user\").acl.max_attachment_size) {\n        for (let i = 0; i < files.length; i++) {\n          uploadFile(files[i], setState)\n        }\n      }\n    }\n  }\n\n  render = () => (\n    <div\n      className={classnames(\"markup-editor\", {\n        \"markup-editor-focused\": this.state.focused && !this.state.preview,\n      })}\n    >\n      <MarkupEditorToolbar\n        disabled={this.props.disabled || this.state.preview}\n        element={this.state.element}\n        update={(value) => this.props.onChange({ target: { value } })}\n        updateAttachments={this.props.onAttachmentsChange}\n      />\n      {this.state.preview ? (\n        <div className=\"markup-editor-preview\">\n          {this.state.loading ? (\n            <div className=\"markup-editor-preview-loading\">\n              <div className=\"ui-preview\">\n                <span className=\"ui-preview-text\" style={{ width: \"240px\" }} />\n              </div>\n            </div>\n          ) : (\n            <MisagoMarkup\n              className=\"markup-editor-preview-contents\"\n              markup={this.state.parsed}\n            />\n          )}\n        </div>\n      ) : (\n        <textarea\n          className=\"markup-editor-textarea form-control\"\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          disabled={this.props.disabled || this.state.loading}\n          rows={6}\n          ref={(element) => {\n            if (element && this.state.element !== element) {\n              this.setState({ element })\n              setMentions(this.props, element)\n            }\n          }}\n          onChange={this.props.onChange}\n          onDrop={this.onDrop}\n          onFocus={() => this.setState({ focused: true })}\n          onPaste={this.onPaste}\n          onBlur={() => this.setState({ focused: false })}\n        />\n      )}\n      {this.props.attachments.length > 0 && (\n        <MarkupEditorAttachments\n          attachments={this.props.attachments}\n          disabled={this.props.disabled || this.state.preview}\n          element={this.state.element}\n          setState={this.props.onAttachmentsChange}\n          update={(value) => this.props.onChange({ target: { value } })}\n        />\n      )}\n      <MarkupEditorFooter\n        preview={this.state.preview}\n        canProtect={this.props.canProtect}\n        isProtected={this.props.isProtected}\n        disabled={this.props.disabled}\n        empty={\n          this.props.value.trim().length <\n            misago.get(\"SETTINGS\").post_length_min || this.state.loading\n        }\n        enableProtection={this.props.enableProtection}\n        disableProtection={this.props.disableProtection}\n        showPreview={this.showPreview}\n        closePreview={this.closePreview}\n        submitText={this.props.submitText}\n      />\n    </div>\n  )\n}\n\nfunction setMentions(props, element) {\n  $(element).atwho({\n    at: \"@\",\n    displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n    insertTpl: \"@${username}\",\n    searchKey: \"username\",\n    callbacks: {\n      remoteFilter: function (query, callback) {\n        $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n      },\n    },\n  })\n\n  $(element).on(\"inserted.atwho\", (event, _storage, source, controller) => {\n    const { query } = controller\n    const username = source.target.innerText.trim()\n    const prefix = event.target.value.substr(0, query.headPos)\n    const suffix = event.target.value.substr(query.endPos)\n\n    event.target.value = prefix + username + suffix\n    props.onChange(event)\n\n    const caret = query.headPos + username.length\n    event.target.setSelectionRange(caret, caret)\n    event.target.focus()\n  })\n}\n\nexport default MarkupEditor\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\nimport MarkupAttachmentModal from \"./MarkupAttachmentModal\"\nimport { getSelection, replaceSelection } from \"./operations\"\n\nconst MarkupEditorAttachment = ({\n  attachment,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments-item\">\n    <div className=\"markup-editor-attachment\">\n      <div className=\"markup-editor-attachment-details\">\n        {attachment.id ? (\n          <a\n            className=\"item-title\"\n            href={attachment.url.index + \"?shva=1\"}\n            target=\"_blank\"\n            onClick={(event) => {\n              event.preventDefault()\n              modal.show(<MarkupAttachmentModal attachment={attachment} />)\n            }}\n          >\n            {attachment.filename}\n          </a>\n        ) : (\n          <strong className=\"item-title\">{attachment.filename}</strong>\n        )}\n        <div className=\"text-muted\">\n          <ul className=\"list-unstyled list-inline\">\n            {!attachment.id && <li>{attachment.progress + \"%\"}</li>}\n            {!!attachment.filetype && <li>{attachment.filetype}</li>}\n            {attachment.size > 0 && <li>{formatFilesize(attachment.size)}</li>}\n          </ul>\n        </div>\n      </div>\n      {!!attachment.id && (\n        <div className=\"markup-editor-attachment-buttons\">\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Insert into message\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              const markup = getAttachmentMarkup(attachment)\n              const selection = getSelection(element)\n              replaceSelection(selection, update, markup)\n            }}\n          >\n            <span className=\"material-icon\">flip_to_front</span>\n          </button>\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                const confirm = window.confirm(\n                  pgettext(\"markup editor\", \"Remove this attachment?\")\n                )\n\n                if (confirm) {\n                  return {\n                    attachments: attachments.filter(\n                      ({ id }) => id !== attachment.id\n                    ),\n                  }\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n      {!attachment.id && !!attachment.key && (\n        <div className=\"markup-editor-attachment-buttons\">\n          {attachment.error && (\n            <button\n              className=\"btn btn-markup-editor-attachment btn-icon\"\n              title={pgettext(\"markup editor\", \"See error\")}\n              type=\"button\"\n              onClick={() => {\n                snackbar.error(\n                  interpolate(\n                    pgettext(\"markup editor\", \"%(filename)s: %(error)s\"),\n                    { filename: attachment.filename, error: attachment.error },\n                    true\n                  )\n                )\n              }}\n            >\n              <span className=\"material-icon\">warning</span>\n            </button>\n          )}\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                return {\n                  attachments: attachments.filter(\n                    ({ key }) => key !== attachment.key\n                  ),\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachment\n\nfunction getAttachmentMarkup(attachment) {\n  let markup = \"[\"\n\n  if (attachment.is_image) {\n    markup += \"![\" + attachment.filename + \"]\"\n    markup += \"(\" + (attachment.url.thumb || attachment.url.index) + \"?shva=1)\"\n  } else {\n    markup += attachment.filename\n  }\n\n  markup += \"](\" + attachment.url.index + \"?shva=1)\"\n  return markup\n}\n","import React from \"react\"\nimport MarkupEditorAttachment from \"./MarkupEditorAttachment\"\n\nconst MarkupEditorAttachments = ({\n  attachments,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments\">\n    <div className=\"markup-editor-attachments-container\">\n      {attachments.map((attachment) => (\n        <MarkupEditorAttachment\n          key={attachment.key || attachment.id}\n          attachment={attachment}\n          disabled={disabled}\n          element={element}\n          setState={setState}\n          update={update}\n        />\n      ))}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachments\n","import React from \"react\"\n\nconst MarkupEditorButton = ({ disabled, icon, title, onClick }) => (\n  <button\n    className=\"btn btn-markup-editor\"\n    title={title}\n    type=\"button\"\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">{icon}</span>\n  </button>\n)\n\nexport default MarkupEditorButton\n","import React from \"react\"\nimport Button from \"../button\"\n\nconst MarkupEditorFooter = ({\n  canProtect,\n  disabled,\n  empty,\n  preview,\n  isProtected,\n  submitText,\n  showPreview,\n  closePreview,\n  enableProtection,\n  disableProtection,\n}) => (\n  <div className=\"markup-editor-footer\">\n    {!!canProtect && (\n      <Button\n        className=\"btn-default btn-icon hidden-sm hidden-md hidden-lg\"\n        title={\n          isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")\n        }\n        type=\"button\"\n        disabled={disabled}\n        onClick={() => {\n          if (isProtected) {\n            disableProtection()\n          } else {\n            enableProtection()\n          }\n        }}\n      >\n        <span className=\"material-icon\">\n          {isProtected ? \"lock\" : \"lock_open\"}\n        </span>\n      </Button>\n    )}\n    {!!canProtect && (\n      <div>\n        <Button\n          className=\"btn-default hidden-xs\"\n          type=\"button\"\n          disabled={disabled}\n          onClick={() => {\n            if (isProtected) {\n              disableProtection()\n            } else {\n              enableProtection()\n            }\n          }}\n        >\n          <span className=\"material-icon\">\n            {isProtected ? \"lock\" : \"lock_open\"}\n          </span>\n          {isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")}\n        </Button>\n      </div>\n    )}\n    <div className=\"markup-editor-spacer\" />\n    {preview ? (\n      <Button\n        className=\"btn-default btn-auto\"\n        type=\"button\"\n        onClick={closePreview}\n      >\n        {pgettext(\"markup editor\", \"Edit\")}\n      </Button>\n    ) : (\n      <Button\n        className=\"btn-default btn-auto\"\n        disabled={disabled || empty}\n        type=\"button\"\n        onClick={showPreview}\n      >\n        {pgettext(\"markup editor\", \"Preview\")}\n      </Button>\n    )}\n    <Button className=\"btn-primary btn-auto\" disabled={disabled || empty}>\n      {submitText || pgettext(\"markup editor\", \"Post\")}\n    </Button>\n  </div>\n)\n\nexport default MarkupEditorFooter\n","import React from \"react\"\nimport misago from \"../../\"\nimport modal from \"../../services/modal\"\nimport MarkupCodeModal from \"./MarkupCodeModal\"\nimport MarkupFormattingHelpModal from \"./MarkupFormattingHelpModal\"\nimport MarkupImageModal from \"./MarkupImageModal\"\nimport MarkupLinkModal from \"./MarkupLinkModal\"\nimport MarkupQuoteModal from \"./MarkupQuoteModal\"\nimport MarkupEditorButton from \"./MarkupEditorButton\"\nimport { getSelection, replaceSelection, wrapSelection } from \"./operations\"\nimport uploadFile from \"./uploadFile\"\n\nconst MarkupEditorToolbar = ({\n  disabled,\n  element,\n  update,\n  updateAttachments,\n}) => {\n  const actions = [\n    {\n      name: pgettext(\"markup editor\", \"Strong\"),\n      icon: \"format_bold\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"**\",\n          \"**\",\n          pgettext(\"example markup\", \"Strong text\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Emphasis\"),\n      icon: \"format_italic\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"*\",\n          \"*\",\n          pgettext(\"example markup\", \"Text with emphasis\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Strikethrough\"),\n      icon: \"format_strikethrough\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"~~\",\n          \"~~\",\n          pgettext(\"example markup\", \"Text with strikethrough\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Horizontal ruler\"),\n      icon: \"remove\",\n      onClick: () => {\n        replaceSelection(getSelection(element), update, \"\\n\\n- - -\\n\\n\")\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Link\"),\n      icon: \"insert_link\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupLinkModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Image\"),\n      icon: \"insert_photo\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupImageModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Quote\"),\n      icon: \"format_quote\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupQuoteModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Spoiler\"),\n      icon: \"visibility_off\",\n      onClick: () => {\n        insertSpoiler(element, update)\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Code\"),\n      icon: \"code\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupCodeModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n  ]\n\n  if (misago.get(\"user\").acl.max_attachment_size) {\n    actions.push({\n      name: pgettext(\"markup editor\", \"Upload file\"),\n      icon: \"file_upload\",\n      onClick: () => uploadFiles(updateAttachments),\n    })\n  }\n\n  return (\n    <div className=\"markup-editor-toolbar\">\n      <div className=\"markup-editor-toolbar-left\">\n        {actions.map(({ name, icon, onClick }) => (\n          <MarkupEditorButton\n            key={icon}\n            title={name}\n            icon={icon}\n            disabled={disabled || !element}\n            onClick={onClick}\n          />\n        ))}\n      </div>\n      <div className=\"markup-editor-toolbar-right\">\n        <div className=\"markup-editor-controls-dropdown\">\n          <button\n            type=\"button\"\n            className=\"btn btn-markup-editor dropdown-toggle\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n            disabled={disabled || !element}\n          >\n            <span className=\"material-icon\">more_vert</span>\n          </button>\n          <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n            {actions.map(({ name, icon, onClick }) => (\n              <li key={icon}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  disabled={disabled || !element}\n                  onClick={onClick}\n                >\n                  <span className=\"material-icon\">{icon}</span>\n                  {name}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <MarkupEditorButton\n          title={pgettext(\"markup editor\", \"Open formatting help\")}\n          icon=\"help_outline\"\n          onClick={() => {\n            modal.show(<MarkupFormattingHelpModal />)\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst insertSpoiler = (element, update) => {\n  const selection = getSelection(element)\n  const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n  wrapSelection(\n    selection,\n    update,\n    prefix + \"[spoiler]\\n\",\n    \"\\n[/spoiler]\\n\\n\",\n    pgettext(\"markup editor\", \"Spoiler text\")\n  )\n}\n\nconst uploadFiles = (setState) => {\n  const input = document.createElement(\"input\")\n  input.type = \"file\"\n  input.multiple = \"multiple\"\n\n  input.addEventListener(\"change\", function () {\n    for (let i = 0; i < input.files.length; i++) {\n      uploadFile(input.files[i], setState)\n    }\n  })\n\n  input.click()\n}\n\nexport default MarkupEditorToolbar\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupFormattingHelpModal() {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup help\", \"Formatting help\")}\n          </h4>\n        </div>\n        <div className=\"modal-body formatting-help\">\n          <h4>{pgettext(\"markup help\", \"Emphasis text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"_This text will have emphasis_\")}\n            result={\n              <p>\n                <em>\n                  {pgettext(\"markup help\", \"This text will have emphasis\")}\n                </em>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"**This text will be bold**\")}\n            result={\n              <p>\n                <strong>\n                  {pgettext(\"markup help\", \"This text will be bold\")}\n                </strong>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Removed text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"~~This text will be removed~~\")}\n            result={\n              <p>\n                <del>\n                  {pgettext(\"markup help\", \"This text will be removed\")}\n                </del>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"[b]This text will be bold[/b]\")}\n            result={\n              <p>\n                <b>{pgettext(\"markup help\", \"This text will be bold\")}</b>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Underlined text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[u]This text will be underlined[/u]\"\n            )}\n            result={\n              <p>\n                <u>{pgettext(\"markup help\", \"This text will be underlined\")}</u>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Italics text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[i]This text will be in italics[/i]\"\n            )}\n            result={\n              <p>\n                <i>{pgettext(\"markup help\", \"This text will be in italics\")}</i>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link\")}</h4>\n          <ExampleFormatting\n            markup=\"<http://example.com>\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"](http://example.com)\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[url]http://example.com[/url]\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[url=http://example.com]\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"[/url]\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image\")}</h4>\n          <ExampleFormatting\n            markup=\"!(http://dummyimage.com/38/38)\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://dummyimage.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image with alternate text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"![\" +\n              pgettext(\"markup help\", \"Image text\") +\n              \"](http://dummyimage.com/38/38)\"\n            }\n            result={\n              <p>\n                <img\n                  alt={pgettext(\"markup help\", \"Image text\")}\n                  src=\"http://dummyimage.com/38/38\"\n                />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[img]http://dummyimage.com/38/38[/img]\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://dummyimage.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Mention user by their name\")}</h4>\n          <ExampleFormatting\n            markup=\"@username\"\n            result={\n              <p>\n                <a href=\"#\">@username</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 1\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"# First level heading\")}\n            result={<h1>{pgettext(\"markup help\", \"First level heading\")}</h1>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 2\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"## Second level heading\")}\n            result={<h2>{pgettext(\"markup help\", \"Second level heading\")}</h2>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 3\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"### Third level heading\")}\n            result={<h3>{pgettext(\"markup help\", \"Third level heading\")}</h3>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 4\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"#### Fourth level heading\")}\n            result={<h4>{pgettext(\"markup help\", \"Fourth level heading\")}</h4>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 5\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"##### Fifth level heading\")}\n            result={<h5>{pgettext(\"markup help\", \"Fifth level heading\")}</h5>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Unordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"- Lorem ipsum\\n- Dolor met\\n- Vulputate lectus\"}\n            result={\n              <ul>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ul>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Ordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"1. Lorem ipsum\\n2. Dolor met\\n3. Vulputate lectus\"}\n            result={\n              <ol>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ol>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text\")}</h4>\n          <ExampleFormatting\n            markup={\"> \" + pgettext(\"markup help\", \"Quoted text\")}\n            result={\n              <blockquote>\n                <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n              </blockquote>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[quote]\\n\" +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {gettext(\"Quoted message:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text with author (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              '[quote=\"' +\n              pgettext(\"markup help\", \"Quote author\") +\n              '\"]\\n' +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {pgettext(\"markup help\", \"Quote author has written:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Spoiler\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[spoiler]\\n\" +\n              pgettext(\"markup help\", \"Secret text\") +\n              \"\\n[/spoiler]\"\n            }\n            result={\n              <ExampleFormattingSpoiler>\n                {pgettext(\"markup help\", \"Secret text\")}\n              </ExampleFormattingSpoiler>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Inline code\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"`Inline code`\")}\n            result={\n              <p>\n                <code>{pgettext(\"markup help\", \"Inline code\")}</code>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block\")}</h4>\n          <ExampleFormatting\n            markup={\"```\\nalert\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\"markup help\", \"Code block with syntax highlighting\")}\n          </h4>\n          <ExampleFormatting\n            markup={\"```python\\nprint\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"[code]\\nalert\" + '(\"Hello world!\");' + \"\\n[/code]\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\n              \"markup help\",\n              \"Code block with syntax highlighting (BBCode)\"\n            )}\n          </h4>\n          <ExampleFormatting\n            markup={\n              '[code=\"python\"]\\nprint' + '(\"Hello world!\");' + \"\\n[/code]\"\n            }\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n- - -\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n[hr]\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction ExampleFormatting({ markup, result }) {\n  return (\n    <div className=\"formatting-help-item\">\n      <div className=\"formatting-help-item-markup\">\n        <pre>\n          <code>{markup}</code>\n        </pre>\n      </div>\n      <div className=\"formatting-help-item-preview\">\n        <article className=\"misago-markup\">{result}</article>\n      </div>\n    </div>\n  )\n}\n\nclass ExampleFormattingSpoiler extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      reveal: false,\n    }\n  }\n\n  render() {\n    return (\n      <aside\n        className={\n          this.state.reveal ? \"spoiler-block revealed\" : \"spoiler-block\"\n        }\n      >\n        <blockquote className=\"spoiler-body\">\n          <p>{this.props.children}</p>\n        </blockquote>\n        {!this.state.reveal && (\n          <div className=\"spoiler-overlay\">\n            <button\n              className=\"spoiler-reveal\"\n              type=\"button\"\n              onClick={() => {\n                this.setState({ reveal: true })\n              }}\n            >\n              {gettext(\"Reveal spoiler\")}\n            </button>\n          </div>\n        )}\n      </aside>\n    )\n  }\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport isUrl from \"./isUrl\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupImageModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"![\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"!(\" + url + \")\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Image\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_image_text\"\n                label={pgettext(\"markup editor\", \"Image description\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional but recommended . Will be displayed instead of image when it fails to load.\"\n                )}\n              >\n                <input\n                  id=\"markup_image_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_image_url\"\n                label={pgettext(\"markup editor\", \"Image URL\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_image_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  placeholder=\"http://domain.com/image.png\"\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert image\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupImageModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport isUrl from \"./isUrl\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupLinkModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"[\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"<\" + url + \">\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Link\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link text\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional. Will be displayed instead of link's address.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert link\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupLinkModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupQuoteModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      author: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const author = this.state.author.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    if (author) {\n      replaceSelection(\n        selection,\n        update,\n        prefix + '[quote=\"' + author + '\"]\\n' + text + \"\\n[/quote]\\n\\n\"\n      )\n    } else {\n      replaceSelection(\n        selection,\n        update,\n        prefix + \"[quote]\\n\" + text + \"\\n[/quote]\\n\\n\"\n      )\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Quote\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_quote_author\"\n                label={pgettext(\"markup editor\", \"Quote's author or source\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  'Optional. If it\\'s username, put \"@\" before it (\"@JohnDoe\").'\n                )}\n              >\n                <input\n                  id=\"markup_quote_author\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.author}\n                  onChange={(event) =>\n                    this.setState({ author: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_quote_text\"\n                label={pgettext(\"markup editor\", \"Quoted text\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_quote_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"markup editor\", \"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert quote\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupQuoteModal\n","import MarkupEditor from \"./MarkupEditor\"\n\nexport default MarkupEditor\n","const URL_PATTERN = new RegExp(\"^(((ftps?)|(https?))://)\", \"i\")\n\nexport default function isUrl(str) {\n  return URL_PATTERN.test(str.trim())\n}\n","const wrapSelection = (selection, update, prefix, suffix, def) => {\n  const text = selection.text || def || \"\"\n  let newValue = selection.prefix\n  newValue += prefix + text + suffix\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.start + prefix.length\n    selection.textarea.setSelectionRange(caret, caret + text.length)\n  }, 250)\n}\n\nconst replaceSelection = (selection, update, text) => {\n  let newValue = selection.prefix\n  newValue += text\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.end + text.length\n    selection.textarea.setSelectionRange(caret, caret)\n  }, 250)\n}\n\nconst getSelection = (textarea) => {\n  if (document.selection) {\n    textarea.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -textarea.value.length)\n    return createRange(textarea, range.text.length - length, range.text.length)\n  }\n\n  if (textarea.selectionStart || textarea.selectionStart == \"0\") {\n    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd)\n  }\n}\n\nconst createRange = (textarea, start, end) => {\n  return {\n    textarea: textarea,\n    start: start,\n    end: end,\n    text: textarea.value.substring(start, end),\n    prefix: textarea.value.substring(0, start),\n    suffix: textarea.value.substring(end),\n  }\n}\n\nexport function focus(textarea) {\n  const scroll = textarea.scrollTop\n  textarea.focus()\n  textarea.scrollTop = scroll\n}\n\nexport { getSelection, replaceSelection, wrapSelection }\n","import moment from \"moment\"\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\nimport getRandomString from \"../../utils/getRandomString\"\n\nconst ID_LEN = 32\n\nconst uploadFile = (file, setState) => {\n  const maxSize = misago.get(\"user\").acl.max_attachment_size * 1024\n\n  if (file.size > maxSize) {\n    snackbar.error(\n      interpolate(\n        pgettext(\n          \"markup editor\",\n          \"File %(filename)s is bigger than %(limit)s.\"\n        ),\n        { filename: file.name, limit: formatFilesize(maxSize) },\n        true\n      )\n    )\n\n    return\n  }\n\n  let upload = {\n    id: null,\n    key: getRandomString(ID_LEN),\n    error: null,\n    uploaded_on: null,\n    progress: 0,\n    filename: file.name,\n    filetype: null,\n    is_image: false,\n    size: file.size,\n    url: null,\n    uploader_name: null,\n  }\n\n  setState(({ attachments }) => {\n    return { attachments: [upload].concat(attachments) }\n  })\n\n  const refreshState = () => {\n    setState(({ attachments }) => {\n      return { attachments: attachments.concat() }\n    })\n  }\n\n  const data = new FormData()\n  data.append(\"upload\", file)\n\n  ajax\n    .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n      upload.progress = progress\n      refreshState()\n    })\n    .then(\n      (data) => {\n        Object.assign(upload, data, { uploaded_on: moment(data.uploaded_on) })\n        refreshState()\n      },\n      (rejection) => {\n        if (rejection.status === 400 || rejection.status === 413) {\n          upload.error = rejection.detail\n          snackbar.error(rejection.detail)\n          refreshState()\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n}\n\nexport default uploadFile\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport * as overlay from \"../../reducers/overlay\"\nimport RegisterButton from \"../RegisterButton\"\nimport SignInButton from \"../SignInButton\"\nimport SignInModalAutoOpen from \"../SignInModalAutoOpen\"\nimport NavbarBranding from \"./NavbarBranding\"\nimport NavbarExtraMenu from \"./NavbarExtraMenu\"\nimport NavbarNotificationsDropdown from \"./NavbarNotificationsDropdown\"\nimport NavbarNotificationsToggle from \"./NavbarNotificationsToggle\"\nimport NavbarPrivateThreads from \"./NavbarPrivateThreads\"\nimport NavbarSearchDropdown from \"./NavbarSearchDropdown\"\nimport NavbarSearchToggle from \"./NavbarSearchToggle\"\nimport NavbarSiteNavDropdown from \"./NavbarSiteNavDropdown\"\nimport NavbarSiteNavToggle from \"./NavbarSiteNavToggle\"\nimport NavbarUserNavDropdown from \"./NavbarUserNavDropdown\"\nimport NavbarUserNavToggle from \"./NavbarUserNavToggle\"\n\nexport function Navbar({\n  dispatch,\n  branding,\n  extraMenuItems,\n  authDelegated,\n  user,\n  searchUrl,\n  notificationsUrl,\n  privateThreadsUrl,\n  showSearch,\n  showPrivateThreads,\n}) {\n  return (\n    <div className=\"container navbar-container\">\n      <NavbarBranding {...branding} />\n      <div className=\"navbar-right\">\n        {extraMenuItems.length > 0 && (\n          <NavbarExtraMenu items={extraMenuItems} />\n        )}\n        {!!showSearch && (\n          <NavbarSearchDropdown id=\"navbar-search-dropdown\" url={searchUrl} />\n        )}\n        {!!showSearch && (\n          <NavbarSearchToggle\n            id=\"navbar-search-overlay\"\n            url={searchUrl}\n            onClick={(event) => {\n              dispatch(overlay.openSearch())\n              event.preventDefault()\n            }}\n          />\n        )}\n        <NavbarSiteNavDropdown id=\"navbar-site-nav-dropdown\" />\n        <NavbarSiteNavToggle\n          id=\"navbar-site-nav-overlay\"\n          onClick={() => {\n            dispatch(overlay.openSiteNav())\n          }}\n        />\n        {!!showPrivateThreads && (\n          <NavbarPrivateThreads\n            id=\"navbar-private-threads\"\n            badge={user.unreadPrivateThreads}\n            url={privateThreadsUrl}\n          />\n        )}\n        {!!user && (\n          <NavbarNotificationsDropdown\n            id=\"navbar-notifications-dropdown\"\n            badge={user.unreadNotifications}\n            url={notificationsUrl}\n          />\n        )}\n        {!!user && (\n          <NavbarNotificationsToggle\n            id=\"navbar-notifications-overlay\"\n            badge={user.unreadNotifications}\n            url={notificationsUrl}\n            onClick={(event) => {\n              dispatch(overlay.openNotifications())\n              event.preventDefault()\n            }}\n          />\n        )}\n        {!!user && (\n          <NavbarUserNavDropdown id=\"navbar-user-nav-dropdown\" user={user} />\n        )}\n        {!!user && (\n          <NavbarUserNavToggle\n            id=\"navbar-user-nav-overlay\"\n            user={user}\n            onClick={(event) => {\n              dispatch(overlay.openUserNav())\n              event.preventDefault()\n            }}\n          />\n        )}\n        {!user && <SignInButton className=\"btn-navbar-sign-in\" />}\n        {!user && !authDelegated && (\n          <RegisterButton className=\"btn-navbar-register\" />\n        )}\n        {!user && !authDelegated && <SignInModalAutoOpen />}\n      </div>\n    </div>\n  )\n}\n\nfunction select(state) {\n  const settings = misago.get(\"SETTINGS\")\n  const user = state.auth.user\n\n  return {\n    branding: {\n      logo: settings.logo,\n      logoXs: settings.logo_small,\n      text: settings.logo_text,\n      url: misago.get(\"MISAGO_PATH\"),\n    },\n    extraMenuItems: misago.get(\"extraMenuItems\"),\n\n    user: !user.id\n      ? null\n      : {\n          id: user.id,\n          username: user.username,\n          email: user.email,\n          avatars: user.avatars,\n          unreadNotifications: user.unreadNotifications,\n          unreadPrivateThreads: user.unread_private_threads,\n          url: user.url,\n        },\n\n    searchUrl: misago.get(\"SEARCH_URL\"),\n    notificationsUrl: misago.get(\"NOTIFICATIONS_URL\"),\n    privateThreadsUrl: misago.get(\"PRIVATE_THREADS_URL\"),\n\n    authDelegated: settings.enable_oauth2_client,\n    showSearch: !!user.acl.can_search,\n    showPrivateThreads: !!user && !!user.acl.can_use_private_threads,\n  }\n}\n\nconst NavbarConnected = connect(select)(Navbar)\n\nexport default NavbarConnected\n","import React from \"react\"\n\nexport default function NavbarBranding({ logo, logoXs, text, url }) {\n  if (logo) {\n    return (\n      <div className=\"navbar-branding\">\n        <a href={url} className=\"navbar-branding-logo\">\n          <img src={logo} alt={text} />\n        </a>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"navbar-branding\">\n      {!!logoXs && (\n        <a href={url} className=\"navbar-branding-logo-xs\">\n          <img src={logoXs} alt={text} />\n        </a>\n      )}\n      {!!text && (\n        <a href={url} className=\"navbar-branding-text\">\n          {text}\n        </a>\n      )}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function NavbarExtraMenu({ items }) {\n  return (\n    <ul className=\"navbar-extra-menu\" role=\"nav\">\n      {items.map((item, index) => (\n        <li key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </li>\n      ))}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NotificationsDropdown from \"../NotificationsDropdown\"\nimport NavbarNotificationsToggle from \"./NavbarNotificationsToggle\"\n\nexport default function NavbarNotificationsDropdown({\n  id,\n  className,\n  badge,\n  url,\n}) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarNotificationsToggle\n          className={className}\n          active={isOpen}\n          badge={badge}\n          url={url}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n          }}\n        />\n      )}\n      menuClassName=\"notifications-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen }) => <NotificationsDropdown active={isOpen} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarNotificationsToggle({\n  id,\n  className,\n  badge,\n  url,\n  active,\n  onClick,\n}) {\n  const title = !!badge\n    ? pgettext(\"navbar\", \"You have unread notifications!\")\n    : pgettext(\"navbar\", \"Open notifications\")\n\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={title}\n      onClick={onClick}\n    >\n      {!!badge && <span className=\"navbar-item-badge\">{badge}</span>}\n      <span className=\"material-icon\">\n        {!!badge ? \"notifications_active\" : \"notifications_none\"}\n      </span>\n    </a>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarPrivateThreads({\n  id,\n  className,\n  badge,\n  url,\n  active,\n  onClick,\n}) {\n  const title = !!badge\n    ? pgettext(\"navbar\", \"You have unread private threads!\")\n    : pgettext(\"navbar\", \"Open private threads\")\n\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={title}\n      onClick={onClick}\n    >\n      {!!badge && <span className=\"navbar-item-badge\">{badge}</span>}\n      <span className=\"material-icon\">inbox</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport { SearchDropdown } from \"../search\"\nimport NavbarSearchToggle from \"./NavbarSearchToggle\"\n\nexport default function NavbarSearchDropdown({ id, className, url }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarSearchToggle\n          className={className}\n          active={isOpen}\n          url={url}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n\n            window.setTimeout(() => {\n              document\n                .querySelector(\".search-dropdown .form-control-search\")\n                .focus()\n            }, 0)\n          }}\n        />\n      )}\n      menuClassName=\"search-dropdown\"\n      menuAlignRight\n    >\n      {() => <SearchDropdown />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarSearchToggle({\n  id,\n  className,\n  url,\n  active,\n  onClick,\n}) {\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      href={url}\n      title={pgettext(\"navbar\", \"Open search\")}\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">search</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NavbarSiteNavToggle from \"./NavbarSiteNavToggle\"\nimport { SiteNavDropdown } from \"../SiteNav\"\n\nexport default function NavbarSiteNavDropdown({ id, className }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarSiteNavToggle\n          className={className}\n          active={isOpen}\n          onClick={toggle}\n        />\n      )}\n      menuClassName=\"site-nav-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen, close }) => <SiteNavDropdown close={close} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NavbarSiteNavToggle({\n  id,\n  className,\n  active,\n  onClick,\n}) {\n  return (\n    <button\n      id={id}\n      className={classnames(\"btn btn-navbar-icon\", className, { active })}\n      title={pgettext(\"navbar\", \"Open menu\")}\n      type=\"button\"\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">menu</span>\n    </button>\n  )\n}\n","import React from \"react\"\nimport { Dropdown } from \"../Dropdown\"\nimport NavbarUserNavToggle from \"./NavbarUserNavToggle\"\nimport { UserNavDropdown } from \"../UserNav\"\n\nexport default function NavbarUserNavDropdown({ id, className, user }) {\n  return (\n    <Dropdown\n      id={id}\n      toggle={({ isOpen, toggle }) => (\n        <NavbarUserNavToggle\n          className={className}\n          active={isOpen}\n          user={user}\n          onClick={(event) => {\n            event.preventDefault()\n            toggle()\n          }}\n        />\n      )}\n      menuClassName=\"user-nav-dropdown\"\n      menuAlignRight\n    >\n      {({ isOpen, close }) => <UserNavDropdown close={close} />}\n    </Dropdown>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport Avatar from \"../avatar\"\n\nexport default function NavbarUserNavToggle({\n  id,\n  className,\n  user,\n  active,\n  onClick,\n}) {\n  return (\n    <a\n      id={id}\n      className={classnames(\"btn-navbar-image\", className, { active })}\n      href={user.url}\n      title={pgettext(\"navbar\", \"Open your options\")}\n      onClick={onClick}\n    >\n      <Avatar user={user} size={34} />\n    </a>\n  )\n}\n","import Navbar from \"./Navbar\"\n\nexport default Navbar\n","import React from \"react\"\nimport { Router, browserHistory } from \"react-router\"\nimport NotificationsHeader from \"./NotificationsHeader\"\nimport NotificationsRoute from \"./NotificationsRoute\"\n\nexport default function Notifications() {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n\n  return (\n    <div className=\"page page-notifications\">\n      <NotificationsHeader />\n      <Router\n        history={browserHistory}\n        routes={[\n          {\n            path: basename,\n            component: NotificationsRoute,\n            props: {\n              filter: \"all\",\n            },\n          },\n          {\n            path: basename + \"unread/\",\n            component: NotificationsRoute,\n            props: {\n              filter: \"unread\",\n            },\n          },\n          {\n            path: basename + \"read/\",\n            component: NotificationsRoute,\n            props: {\n              filter: \"read\",\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { PageHeaderPlain } from \"../PageHeader\"\n\nexport default function NotificationsHeader() {\n  return (\n    <PageHeaderPlain\n      header={pgettext(\"notifications title\", \"Notifications\")}\n      styleName=\"notifications\"\n    />\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function NotificationsPagination({ baseUrl, data, disabled }) {\n  return (\n    <div className=\"misago-pagination\">\n      <NotificationsPaginationLink\n        url={baseUrl}\n        disabled={disabled || !data || !data.hasPrevious}\n      >\n        {pgettext(\"notifications pagination\", \"Latest\")}\n      </NotificationsPaginationLink>\n      <NotificationsPaginationLink\n        url={baseUrl + \"?before=\" + (data ? data.firstCursor : \"\")}\n        disabled={disabled || !data || !data.hasPrevious}\n      >\n        {pgettext(\"notifications pagination\", \"Newer\")}\n      </NotificationsPaginationLink>\n      <NotificationsPaginationLink\n        url={baseUrl + \"?after=\" + (data ? data.lastCursor : \"\")}\n        disabled={disabled || !data || !data.hasNext}\n      >\n        {pgettext(\"notifications pagination\", \"Older\")}\n      </NotificationsPaginationLink>\n    </div>\n  )\n}\n\nfunction NotificationsPaginationLink({ disabled, children, url }) {\n  if (disabled) {\n    return (\n      <button className=\"btn btn-default\" type=\"disabled\" disabled>\n        {children}\n      </button>\n    )\n  }\n\n  return (\n    <Link to={url} className=\"btn btn-default\" activeClassName=\"\">\n      {children}\n    </Link>\n  )\n}\n","import React from \"react\"\nimport { PillsNav, PillsNavLink } from \"../PillsNav\"\nimport { Toolbar, ToolbarSection, ToolbarItem } from \"../Toolbar\"\n\nexport default function NotificationsPills({ filter }) {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n\n  return (\n    <Toolbar>\n      <ToolbarSection auto>\n        <ToolbarItem>\n          <PillsNav>\n            <PillsNavLink active={filter === \"all\"} link={basename}>\n              {pgettext(\"notifications nav\", \"All\")}\n            </PillsNavLink>\n            <PillsNavLink\n              active={filter === \"unread\"}\n              link={basename + \"unread/\"}\n            >\n              {pgettext(\"notifications nav\", \"Unread\")}\n            </PillsNavLink>\n            <PillsNavLink active={filter === \"read\"} link={basename + \"read/\"}>\n              {pgettext(\"notifications nav\", \"Read\")}\n            </PillsNavLink>\n          </PillsNav>\n        </ToolbarItem>\n      </ToolbarSection>\n    </Toolbar>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { updateAuthenticatedUser } from \"../../reducers/auth\"\nimport snackbar from \"../../services/snackbar\"\nimport { ApiMutation } from \"../Api\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport PageTitle from \"../PageTitle\"\nimport PageContainer from \"../PageContainer\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsPills from \"./NotificationsPills\"\nimport NotificationsToolbar from \"./NotificationsToolbar\"\n\nfunction NotificationsRoute({ dispatch, location, route }) {\n  const { query } = location\n  const { filter } = route.props\n\n  const baseUrl = getBaseUrl(filter)\n\n  return (\n    <PageContainer>\n      <PageTitle\n        title={pgettext(\"notifications title\", \"Notifications\")}\n        subtitle={getSubtitle(filter)}\n      />\n\n      <NotificationsPills filter={filter} />\n\n      <NotificationsFetch filter={filter} query={query}>\n        {({ data, loading, error, refetch }) => (\n          <ApiMutation url={misago.get(\"NOTIFICATIONS_API\") + \"read-all/\"}>\n            {(readAll, { loading: mutating }) => {\n              const toolbarProps = {\n                baseUrl,\n                data,\n                disabled:\n                  loading || mutating || !data || data.results.length === 0,\n                markAllAsRead: async () => {\n                  const confirmed = window.confirm(\n                    pgettext(\"notifications\", \"Mark all notifications as read?\")\n                  )\n\n                  if (confirmed) {\n                    readAll({\n                      onSuccess: async () => {\n                        refetch()\n                        dispatch(\n                          updateAuthenticatedUser({ unreadNotifications: null })\n                        )\n                        snackbar.success(\n                          pgettext(\n                            \"notifications\",\n                            \"All notifications have been marked as read.\"\n                          )\n                        )\n                      },\n                      onError: snackbar.apiError,\n                    })\n                  }\n                },\n              }\n\n              if (loading || mutating) {\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsListLoading />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              if (error) {\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsListError error={error} />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              if (data) {\n                if (!data.hasPrevious && query) {\n                  window.history.replaceState({}, \"\", baseUrl)\n                }\n\n                return (\n                  <div>\n                    <NotificationsToolbar {...toolbarProps} />\n                    <NotificationsList\n                      filter={filter}\n                      items={data.results}\n                      hasNext={data.hasNext}\n                      hasPrevious={data.hasPrevious}\n                    />\n                    <NotificationsToolbar {...toolbarProps} bottom />\n                  </div>\n                )\n              }\n\n              return null\n            }}\n          </ApiMutation>\n        )}\n      </NotificationsFetch>\n    </PageContainer>\n  )\n}\n\nfunction getSubtitle(filter) {\n  if (filter === \"unread\") {\n    return pgettext(\"notifications title\", \"Unread notifications\")\n  } else if (filter === \"read\") {\n    return pgettext(\"notifications title\", \"Read notifications\")\n  } else {\n    return null\n  }\n}\n\nfunction getBaseUrl(filter) {\n  let url = misago.get(\"NOTIFICATIONS_URL\")\n  if (filter !== \"all\") {\n    url += filter + \"/\"\n  }\n  return url\n}\n\nconst NotificationsRouteConnected = connect()(NotificationsRoute)\n\nexport default NotificationsRouteConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport Button from \"../button\"\nimport { Toolbar, ToolbarSection, ToolbarItem, ToolbarSpacer } from \"../Toolbar\"\nimport NotificationsPagination from \"./NotificationsPagination\"\n\nexport default function NotificationsToolbar({\n  baseUrl,\n  data,\n  disabled,\n  bottom,\n  markAllAsRead,\n}) {\n  return (\n    <Toolbar>\n      <ToolbarSection>\n        <ToolbarItem>\n          <NotificationsPagination\n            baseUrl={baseUrl}\n            data={data}\n            disabled={disabled}\n          />\n        </ToolbarItem>\n      </ToolbarSection>\n      <ToolbarSpacer />\n      <ToolbarSection className={classnames({ \"hidden-xs\": !bottom })}>\n        <ToolbarItem>\n          <Button\n            className=\"btn-default btn-block\"\n            type=\"button\"\n            disabled={disabled || !data || !data.unreadNotifications}\n            onClick={markAllAsRead}\n          >\n            <span className=\"material-icon\">done_all</span>\n            {pgettext(\"notifications\", \"Mark all as read\")}\n          </Button>\n        </ToolbarItem>\n      </ToolbarSection>\n    </Toolbar>\n  )\n}\n","import Notifications from \"./Notifications\"\nimport NotificationsFetch from \"../NotificationsFetch/NotificationsFetch\"\n\nexport default Notifications\n\nexport { NotificationsFetch }\n","import React from \"react\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsDropdownBody from \"./NotificationsDropdownBody\"\n\nexport default class NotificationsDropdown extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      unread: false,\n      url: \"\",\n    }\n  }\n\n  getApiUrl() {\n    let url = misago.get(\"NOTIFICATIONS_API\") + \"?limit=20\"\n    url += this.state.unread ? \"&filter=unread\" : \"\"\n    return url\n  }\n\n  render = () => (\n    <NotificationsDropdownBody\n      unread={this.state.unread}\n      showAll={() => this.setState({ unread: false })}\n      showUnread={() => this.setState({ unread: true })}\n    >\n      <NotificationsFetch\n        filter={this.state.unread ? \"unread\" : \"all\"}\n        disabled={!this.props.active}\n      >\n        {({ data, loading, error }) => {\n          if (loading) {\n            return <NotificationsListLoading />\n          }\n\n          if (error) {\n            return <NotificationsListError error={error} />\n          }\n\n          return (\n            <NotificationsList\n              filter={this.state.unread ? \"unread\" : \"all\"}\n              items={data ? data.results : []}\n            />\n          )\n        }}\n      </NotificationsFetch>\n    </NotificationsDropdownBody>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { DropdownFooter, DropdownHeader, DropdownPills } from \"../Dropdown\"\n\nexport default function NotificationsDropdownBody({\n  children,\n  showAll,\n  showUnread,\n  unread,\n}) {\n  return (\n    <div className=\"notifications-dropdown-body\">\n      <DropdownHeader>\n        {pgettext(\"notifications title\", \"Notifications\")}\n      </DropdownHeader>\n      <DropdownPills>\n        <NotificationsDropdownBodyPill active={!unread} onClick={showAll}>\n          {pgettext(\"notifications dropdown\", \"All\")}\n        </NotificationsDropdownBodyPill>\n        <NotificationsDropdownBodyPill active={unread} onClick={showUnread}>\n          {pgettext(\"notifications dropdown\", \"Unread\")}\n        </NotificationsDropdownBodyPill>\n      </DropdownPills>\n      {children}\n      <DropdownFooter>\n        <a\n          className=\"btn btn-default btn-block\"\n          href={misago.get(\"NOTIFICATIONS_URL\")}\n        >\n          {pgettext(\"notifications\", \"See all notifications\")}\n        </a>\n      </DropdownFooter>\n    </div>\n  )\n}\n\nfunction NotificationsDropdownBodyPill({ active, children, onClick }) {\n  return (\n    <button\n      className={classnames(\"btn\", {\n        \"btn-primary\": active,\n        \"btn-default\": !active,\n      })}\n      type=\"button\"\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  )\n}\n","import NotificationsDropdown from \"./NotificationsDropdown\"\n\nexport default NotificationsDropdown\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { updateAuthenticatedUser } from \"../../reducers/auth\"\nimport { ApiFetch } from \"../Api\"\n\nfunction NotificationsFetch({\n  children,\n  filter,\n  query,\n  dispatch,\n  unreadNotifications,\n  disabled,\n}) {\n  return (\n    <ApiFetch\n      url={getApiUrl(filter, query)}\n      disabled={disabled}\n      onData={(data) => {\n        if (data.unreadNotifications != unreadNotifications) {\n          dispatch(\n            updateAuthenticatedUser({\n              unreadNotifications: data.unreadNotifications,\n            })\n          )\n        }\n      }}\n    >\n      {({ data, loading, error, refetch }) => {\n        return children({ data, loading, error, refetch })\n      }}\n    </ApiFetch>\n  )\n}\n\nfunction getApiUrl(filter, query) {\n  let api = misago.get(\"NOTIFICATIONS_API\") + \"?limit=30\"\n  api += \"&filter=\" + filter\n\n  if (query) {\n    if (query.after) {\n      api += \"&after=\" + query.after\n    }\n    if (query.before) {\n      api += \"&before=\" + query.before\n    }\n  }\n\n  return api\n}\n\nfunction selectState({ auth }) {\n  if (!auth.user) {\n    return { unreadNotifications: null }\n  }\n\n  return {\n    unreadNotifications: auth.user.unreadNotifications,\n  }\n}\n\nconst NotificationsFetchConnected = connect(selectState)(NotificationsFetch)\n\nexport default NotificationsFetchConnected\n","import NotificationsFetch from \"./NotificationsFetch\"\n\nexport default NotificationsFetch\n","import React from \"react\"\nimport NotificationsListEmpty from \"./NotificationsListEmpty\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\nimport NotificationsListItem from \"./NotificationsListItem\"\n\nexport default function NotificationsList({ filter, items }) {\n  return (\n    <NotificationsListGroup\n      className={\n        items.length > 0\n          ? \"notifications-list-ready\"\n          : \"notifications-list-pending\"\n      }\n    >\n      {items.length === 0 && <NotificationsListEmpty filter={filter} />}\n      {items.map((notification) => (\n        <NotificationsListItem\n          key={notification.id}\n          notification={notification}\n        />\n      ))}\n    </NotificationsListGroup>\n  )\n}\n","import React from \"react\"\nimport { ListGroupEmpty } from \"../ListGroup\"\n\nexport default function NotificationsListEmpty({ filter }) {\n  return (\n    <ListGroupEmpty\n      icon={\n        filter === \"unread\" ? \"sentiment_very_satisfied\" : \"notifications_none\"\n      }\n      message={emptyMessage(filter)}\n    />\n  )\n}\n\nfunction emptyMessage(filter) {\n  if (filter === \"read\") {\n    return pgettext(\n      \"notifications list\",\n      \"You don't have any read notifications.\"\n    )\n  } else if (filter === \"unread\") {\n    return pgettext(\n      \"notifications list\",\n      \"You don't have any unread notifications.\"\n    )\n  }\n\n  return pgettext(\"notifications list\", \"You don't have any notifications.\")\n}\n","import React from \"react\"\nimport { ListGroupError } from \"../ListGroup\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\n\nexport default function NotificationsListError({ error }) {\n  const detail = errorDetail(error)\n\n  return (\n    <NotificationsListGroup className=\"notifications-list-pending\">\n      <ListGroupError\n        icon=\"notifications_off\"\n        message={pgettext(\n          \"notifications list\",\n          \"Notifications could not be loaded.\"\n        )}\n        detail={detail}\n      />\n    </NotificationsListGroup>\n  )\n}\n\nfunction errorDetail(error) {\n  if (error.status === 0) {\n    return gettext(\n      \"Check your internet connection and try refreshing the site.\"\n    )\n  }\n\n  if (error.data && error.data.detail) {\n    return error.data.detail\n  }\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { ListGroup } from \"../ListGroup\"\n\nexport default function NotificationsListGroup({ className, children }) {\n  return (\n    <div className={classnames(\"notifications-list\", className)}>\n      <ListGroup>{children}</ListGroup>\n    </div>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport NotificationsListItemActor from \"./NotificationsListItemActor\"\nimport NotificationsListItemMessage from \"./NotificationsListItemMessage\"\nimport NotificationsListItemReadStatus from \"./NotificationsListItemReadStatus\"\nimport NotificationsListItemTimestamp from \"./NotificationsListItemTimestamp\"\n\nexport default function NotificationsListItem({ notification }) {\n  return (\n    <ListGroupItem\n      key={notification.id}\n      className={classnames(\"notifications-list-item\", {\n        \"notifications-list-item-read\": notification.isRead,\n        \"notifications-list-item-unread\": !notification.isRead,\n      })}\n    >\n      <div className=\"notifications-list-item-left-col\">\n        <div className=\"notifications-list-item-col-actor\">\n          <NotificationsListItemActor notification={notification} />\n        </div>\n        <div className=\"notifications-list-item-col-read-icon\">\n          <NotificationsListItemReadStatus notification={notification} />\n        </div>\n      </div>\n      <div className=\"notifications-list-item-right-col\">\n        <div className=\"notifications-list-item-col-message\">\n          <NotificationsListItemMessage notification={notification} />\n        </div>\n        <div className=\"notifications-list-item-col-timestamp\">\n          <NotificationsListItemTimestamp notification={notification} />\n        </div>\n      </div>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"../avatar\"\n\nexport default function NotificationsListItemActor({ notification }) {\n  if (!!notification.actor) {\n    return (\n      <a\n        href={notification.actor.url}\n        className=\"notifications-list-item-actor\"\n        title={notification.actor.username}\n      >\n        <Avatar size={30} user={notification.actor} />\n      </a>\n    )\n  }\n\n  return (\n    <span\n      className=\"threads-list-item-last-poster\"\n      title={notification.actor_name || null}\n    >\n      <Avatar size={30} />\n    </span>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nexport default function NotificationsListItemMessage({ notification }) {\n  return (\n    <a\n      href={notification.url}\n      className={classnames(\"notification-message\", {\n        \"notification-message-read\": notification.isRead,\n        \"notification-message-unread\": !notification.isRead,\n      })}\n      dangerouslySetInnerHTML={{ __html: notification.message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function NotificationsListItemReadStatus({ notification }) {\n  if (notification.isRead) {\n    return (\n      <div\n        className=\"notifications-list-item-read-status\"\n        title={pgettext(\"notification status\", \"Read notification\")}\n      >\n        <span className=\"notification-read-icon\"></span>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className=\"notifications-list-item-read-status\"\n      title={pgettext(\"notification status\", \"Unread notification\")}\n    >\n      <span className=\"notification-unread-icon\"></span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function NotificationsListItemTimestamp({ notification }) {\n  return (\n    <div className=\"notifications-list-item-timestamp\">\n      <Timestamp datetime={notification.createdAt} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { ListGroupLoading } from \"../ListGroup\"\nimport NotificationsListGroup from \"./NotificationsListGroup\"\n\nexport default function NotificationsListLoading() {\n  return (\n    <NotificationsListGroup className=\"notifications-list-pending\">\n      <ListGroupLoading\n        message={pgettext(\"notifications list\", \"Loading notifications...\")}\n      />\n    </NotificationsListGroup>\n  )\n}\n","import NotificationsList from \"./NotificationsList\"\nimport NotificationsListError from \"./NotificationsListError\"\nimport NotificationsListLoading from \"./NotificationsListLoading\"\n\nexport { NotificationsList, NotificationsListError, NotificationsListLoading }\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport NotificationsFetch from \"../NotificationsFetch\"\nimport {\n  NotificationsList,\n  NotificationsListError,\n  NotificationsListLoading,\n} from \"../NotificationsList\"\nimport NotificationsOverlayBody from \"./NotificationsOverlayBody\"\n\nclass NotificationsOverlay extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.body = document.body\n\n    this.state = {\n      unread: false,\n      url: \"\",\n    }\n  }\n\n  getApiUrl() {\n    let url = misago.get(\"NOTIFICATIONS_API\") + \"?limit=20\"\n    url += this.state.unread ? \"&filter=unread\" : \"\"\n    return url\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.open !== this.props.open) {\n      if (this.props.open) {\n        this.body.classList.add(\"notifications-fullscreen\")\n      } else {\n        this.body.classList.remove(\"notifications-fullscreen\")\n      }\n    }\n  }\n\n  render = () => (\n    <NotificationsOverlayBody\n      open={this.props.open}\n      unread={this.state.unread}\n      showAll={() => this.setState({ unread: false })}\n      showUnread={() => this.setState({ unread: true })}\n    >\n      <NotificationsFetch\n        filter={this.state.unread ? \"unread\" : \"all\"}\n        disabled={!this.props.open}\n      >\n        {({ data, loading, error }) => {\n          if (loading) {\n            return <NotificationsListLoading />\n          }\n\n          if (error) {\n            return <NotificationsListError error={error} />\n          }\n\n          return (\n            <NotificationsList\n              filter={this.state.unread ? \"unread\" : \"all\"}\n              items={data ? data.results : []}\n            />\n          )\n        }}\n      </NotificationsFetch>\n    </NotificationsOverlayBody>\n  )\n}\n\nfunction select(state) {\n  return { open: state.overlay.notifications }\n}\n\nconst NotificationsOverlayConnected = connect(select)(NotificationsOverlay)\n\nexport default NotificationsOverlayConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { DropdownFooter, DropdownPills } from \"../Dropdown\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\n\nexport default function NotificationsOverlayBody({\n  children,\n  open,\n  showAll,\n  showUnread,\n  unread,\n}) {\n  return (\n    <Overlay open={open}>\n      <OverlayHeader>\n        {pgettext(\"notifications title\", \"Notifications\")}\n      </OverlayHeader>\n      <DropdownPills>\n        <NotificationsOverlayBodyPill active={!unread} onClick={showAll}>\n          {pgettext(\"notifications dropdown\", \"All\")}\n        </NotificationsOverlayBodyPill>\n        <NotificationsOverlayBodyPill active={unread} onClick={showUnread}>\n          {pgettext(\"notifications dropdown\", \"Unread\")}\n        </NotificationsOverlayBodyPill>\n      </DropdownPills>\n      {children}\n      <DropdownFooter>\n        <a\n          className=\"btn btn-default btn-block\"\n          href={misago.get(\"NOTIFICATIONS_URL\")}\n        >\n          {pgettext(\"notifications\", \"See all notifications\")}\n        </a>\n      </DropdownFooter>\n    </Overlay>\n  )\n}\n\nfunction NotificationsOverlayBodyPill({ active, children, onClick }) {\n  return (\n    <button\n      className={classnames(\"btn\", {\n        \"btn-primary\": active,\n        \"btn-default\": !active,\n      })}\n      type=\"button\"\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  )\n}\n","import NotificationsOverlay from \"./NotificationsOverlay\"\n\nexport default NotificationsOverlay\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\n\nconst BODY_CLASS = \"has-overlay\"\n\nclass Overlay extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.scrollOrigin = null\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.open !== this.props.open) {\n      if (this.props.open) {\n        this.scrollOrigin = window.pageYOffset\n        document.body.classList.add(BODY_CLASS)\n        if (this.props.onOpen) {\n          this.props.onOpen()\n        }\n      } else {\n        document.body.classList.remove(BODY_CLASS)\n        window.scrollTo(0, this.scrollOrigin)\n        this.scrollOrigin = null\n      }\n    }\n  }\n\n  closeOnNavigation = (event) => {\n    if (event.target.closest(\"a\")) {\n      this.props.dispatch(close())\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className={classnames(\"overlay\", this.props.className, {\n          \"overlay-open\": this.props.open,\n        })}\n        onClick={this.closeOnNavigation}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nconst OverlayConnected = connect()(Overlay)\n\nexport default OverlayConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\n\nexport function OverlayHeader({ children, dispatch }) {\n  return (\n    <div className=\"overlay-header\">\n      <div className=\"overlay-header-caption\">{children}</div>\n      <button\n        className=\"btn btn-overlay-close\"\n        title={pgettext(\"modal\", \"Close\")}\n        type=\"button\"\n        onClick={() => dispatch(close())}\n      >\n        <span className=\"material-icon\">close</span>\n      </button>\n    </div>\n  )\n}\n\nconst OverlayHeaderConnected = connect()(OverlayHeader)\n\nexport default OverlayHeaderConnected\n","import Overlay from \"./Overlay\"\nimport OverlayHeader from \"./OverlayHeader\"\n\nexport { Overlay, OverlayHeader }\n","import React from \"react\"\n\nconst PageContainer = ({ children }) => (\n  <div className=\"container page-container\">{children}</div>\n)\n\nexport default PageContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeader = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header\",\n      className,\n      styleName && \"page-header-\" + styleName\n    )}\n  >\n    <div className=\"page-header-bg-image\">\n      <div className=\"page-header-bg-overlay\">\n        <div className=\"page-header-image\" />\n        {children}\n      </div>\n    </div>\n  </div>\n)\n\nexport default PageHeader\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderBanner = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header-banner\",\n      className,\n      styleName && \"page-header-banner-\" + styleName\n    )}\n  >\n    <div className=\"page-header-banner-bg-image\">\n      <div className=\"page-header-banner-bg-overlay\">{children}</div>\n    </div>\n  </div>\n)\n\nexport default PageHeaderBanner\n","import React from \"react\"\n\nconst PageHeaderContainer = ({ children }) => (\n  <div className=\"container page-header-container\">{children}</div>\n)\n\nexport default PageHeaderContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderDetails = ({ children, className }) => (\n  <div className={classnames(\"page-header-details\", className)}>{children}</div>\n)\n\nexport default PageHeaderDetails\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderHTMLMessage = ({ className, message }) => (\n  <div\n    className={classnames(\"page-header-message\", className)}\n    dangerouslySetInnerHTML={{ __html: message }}\n  />\n)\n\nexport default PageHeaderHTMLMessage\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderMessage = ({ children, className }) => (\n  <div className={classnames(\"page-header-message\", className)}>{children}</div>\n)\n\nexport default PageHeaderMessage\n","import React from \"react\"\nimport PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\n\nconst PageHeaderPlain = ({ styleName, header, message }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <h1>{header}</h1>\n      </PageHeaderBanner>\n      {message && (\n        <PageHeaderDetails styleName={styleName}>{message}</PageHeaderDetails>\n      )}\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nexport default PageHeaderPlain\n","import PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\nimport PageHeaderHTMLMessage from \"./PageHeaderHTMLMessage\"\nimport PageHeaderMessage from \"./PageHeaderMessage\"\nimport PageHeaderPlain from \"./PageHeaderPlain\"\n\nexport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n}\n","export default function PageTitle({ title, subtitle }) {\n  const parts = []\n  if (subtitle) {\n    parts.push(subtitle)\n  }\n  if (title) {\n    parts.push(title)\n  }\n  parts.push(misago.get(\"SETTINGS\").forum_name)\n\n  document.title = parts.join(\" | \")\n  return null\n}\n","import PageTitle from \"./PageTitle\"\n\nexport default PageTitle\n","import React from \"react\"\n\nexport default function PillsNav({ children }) {\n  return <ul className=\"nav nav-pills\">{children}</ul>\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function PillsNavLink({ active, link, icon, children }) {\n  return (\n    <li className={classnames({ active })}>\n      <Link to={link} activeClassName=\"\">\n        {!!icon && <span className=\"material-icon\">{icon}</span>}\n        {children}\n      </Link>\n    </li>\n  )\n}\n","import PillsNav from \"./PillsNav\"\nimport PillsNavLink from \"./PillsNavLink\"\n\nexport { PillsNav, PillsNavLink }\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport ajax from \"../../services/ajax\"\nimport captcha from \"../../services/captcha\"\nimport modal from \"../../services/modal\"\nimport snackbar from \"../../services/snackbar\"\nimport Loader from \"../loader\"\nimport RegisterForm from \"../register.js\"\n\nexport default class RegisterButton extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null,\n    }\n  }\n\n  showRegisterForm = () => {\n    if (this.props.onClick) {\n      this.props.onClick()\n    }\n\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(\n        pgettext(\n          \"register form\",\n          \"Registration form is currently disabled by the site administrator.\"\n        )\n      )\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\")),\n      ]).then(\n        (result) => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1],\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            pgettext(\n              \"register form\",\n              \"Registration form is currently unavailable due to an error.\"\n            )\n          )\n        }\n      )\n    }\n  }\n\n  render() {\n    return (\n      <button\n        className={classnames(\"btn btn-register\", this.props.className, {\n          \"btn-block\": this.props.block,\n          \"btn-loading\": this.state.isLoading,\n        })}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {pgettext(\"cta\", \"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import RegisterButton from \"./RegisterButton\"\n\nexport default RegisterButton\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = (props) => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange,\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={pgettext(\n          \"register form agreement prompt\",\n          \"the terms of service\"\n        )}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={pgettext(\n          \"register form agreement prompt\",\n          \"the privacy policy\"\n        )}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = (props) => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    pgettext(\n      \"register form agreement prompt\",\n      \"I have read and accept %(agreement)s.\"\n    ),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport modal from \"../../services/modal\"\nimport SignInModal from \"../sign-in\"\n\nexport default function SignInButton({ block, className, onClick }) {\n  const settings = misago.get(\"SETTINGS\")\n\n  if (settings.DELEGATE_AUTH) {\n    return (\n      <a\n        className={classnames(\"btn btn-sign-in\", className, {\n          \"btn-block\": block,\n        })}\n        href={settings.LOGIN_URL}\n        onClick={() => {\n          if (onClick) {\n            onClick()\n          }\n        }}\n      >\n        {pgettext(\"cta\", \"Sign in\")}\n      </a>\n    )\n  }\n\n  return (\n    <a\n      className={classnames(\"btn btn-sign-in\", className, {\n        \"btn-block\": block,\n      })}\n      href={settings.LOGIN_URL}\n      onClick={(event) => {\n        event.preventDefault()\n\n        if (onClick) {\n          onClick()\n        }\n\n        modal.show(<SignInModal />)\n      }}\n    >\n      {pgettext(\"cta\", \"Sign in\")}\n    </a>\n  )\n}\n","import SignInButton from \"./SignInButton\"\n\nexport default SignInButton\n","import React from \"react\"\nimport modal from \"../services/modal\"\nimport SignInModal from \"./sign-in\"\n\nclass SignInModalAutoOpen extends React.Component {\n  componentDidMount() {\n    const query = window.document.location.search\n    if (query === \"?modal=login\") {\n      window.setTimeout(() => modal.show(<SignInModal />), 300)\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default SignInModalAutoOpen\n","import React from \"react\"\nimport SiteNavMenu from \"./SiteNavMenu\"\n\nexport default function SiteNavDropdown({ close }) {\n  return <SiteNavMenu close={close} dropdown />\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport {\n  DropdownDivider,\n  DropdownHeader,\n  DropdownMenuItem,\n  DropdownPills,\n  DropdownSubheader,\n} from \"../Dropdown\"\nimport RegisterButton from \"../RegisterButton\"\nimport SignInButton from \"../SignInButton\"\n\nfunction SiteNavMenu({ isAnonymous, close, dropdown, overlay }) {\n  const baseUrl = misago.get(\"MISAGO_PATH\")\n  const settings = misago.get(\"SETTINGS\")\n  const mainItems = misago.get(\"main_menu\")\n  const extraItems = misago.get(\"extraMenuItems\")\n  const extraFooterItems = misago.get(\"extraFooterItems\")\n  const categories = misago.get(\"categories_menu\")\n  const users = misago.get(\"usersLists\")\n  const authDelegated = settings.enable_oauth2_client\n\n  const topNav = []\n  mainItems.forEach((item) => {\n    topNav.push({ title: item.label, url: item.url })\n  })\n\n  topNav.push({\n    title: pgettext(\"site nav\", \"Search\"),\n    url: baseUrl + \"search/\",\n  })\n\n  const footerNav = []\n\n  const tosTitle = misago.get(\"TERMS_OF_SERVICE_TITLE\")\n  const tosUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n  if (tosTitle && tosUrl) {\n    footerNav.push({\n      title: tosTitle,\n      url: tosUrl,\n    })\n  }\n\n  const privacyTitle = misago.get(\"PRIVACY_POLICY_TITLE\")\n  const privacyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n  if (privacyTitle && privacyUrl) {\n    footerNav.push({\n      title: privacyTitle,\n      url: privacyUrl,\n    })\n  }\n\n  return (\n    <ul\n      className={classnames(\"site-nav-menu\", {\n        \"dropdown-menu-list\": dropdown,\n        \"overlay-menu-list\": overlay,\n      })}\n    >\n      {isAnonymous && (\n        <DropdownHeader className=\"site-nav-sign-in-message\">\n          {pgettext(\"cta\", \"You are not signed in\")}\n        </DropdownHeader>\n      )}\n      {isAnonymous && (\n        <DropdownPills className=\"site-nav-sign-in-options\">\n          <SignInButton onClick={close} />\n          {!authDelegated && <RegisterButton onClick={close} />}\n        </DropdownPills>\n      )}\n      <DropdownSubheader>{settings.forum_name}</DropdownSubheader>\n      {topNav.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.title}</a>\n        </DropdownMenuItem>\n      ))}\n      {extraItems.map((item, index) => (\n        <DropdownMenuItem key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </DropdownMenuItem>\n      ))}\n      {!!users.length && <DropdownDivider className=\"site-nav-users-divider\" />}\n      {!!users.length && (\n        <DropdownSubheader className=\"site-nav-users\">\n          {pgettext(\"site nav section\", \"Users\")}\n        </DropdownSubheader>\n      )}\n      {users.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.name}</a>\n        </DropdownMenuItem>\n      ))}\n      <DropdownDivider className=\"site-nav-categories-divider\" />\n      <DropdownSubheader className=\"site-nav-categories\">\n        {pgettext(\"site nav section\", \"Categories\")}\n      </DropdownSubheader>\n      {categories.map((category) =>\n        category.is_vanilla ? (\n          <DropdownMenuItem\n            className=\"site-nav-category-header\"\n            key={category.id}\n          >\n            <a href={category.url}>{category.name}</a>\n          </DropdownMenuItem>\n        ) : (\n          <DropdownMenuItem\n            className={classnames(\"site-nav-category\", {\n              \"site-nav-category-last\": category.last,\n            })}\n            key={category.id}\n          >\n            <a href={category.url}>\n              <span>{category.name}</span>\n              <span\n                className={classnames(\n                  \"threads-list-item-category threads-list-category-label\",\n                  { \"threads-list-category-label-color\": !!category.color }\n                )}\n                style={{ \"--label-color\": category.color }}\n              >\n                {category.short_name || category.name}\n              </span>\n            </a>\n          </DropdownMenuItem>\n        )\n      )}\n      {(!!footerNav.length || !!extraFooterItems.length) && (\n        <DropdownDivider className=\"site-nav-footer-divider\" />\n      )}\n      {(!!footerNav.length || !!extraFooterItems.length) && (\n        <DropdownSubheader className=\"site-nav-footer\">\n          {pgettext(\"site nav section\", \"Footer\")}\n        </DropdownSubheader>\n      )}\n      {extraFooterItems.map((item, index) => (\n        <DropdownMenuItem key={index} className={item.className}>\n          <a\n            href={item.url}\n            target={item.targetBlank ? \"_blank\" : null}\n            rel={item.rel}\n          >\n            {item.title}\n          </a>\n        </DropdownMenuItem>\n      ))}\n      {footerNav.map((item) => (\n        <DropdownMenuItem key={item.url}>\n          <a href={item.url}>{item.title}</a>\n        </DropdownMenuItem>\n      ))}\n    </ul>\n  )\n}\n\nfunction select(state) {\n  return {\n    isAnonymous: !state.auth.user.id,\n  }\n}\n\nconst SiteNavMenuConnected = connect(select)(SiteNavMenu)\n\nexport default SiteNavMenuConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport SiteNavMenu from \"./SiteNavMenu\"\n\nexport function SiteNavOverlay({ dispatch, isOpen }) {\n  return (\n    <Overlay open={isOpen}>\n      <OverlayHeader>{pgettext(\"site nav title\", \"Menu\")}</OverlayHeader>\n      <SiteNavMenu close={() => dispatch(close())} overlay />\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return {\n    isOpen: state.overlay.siteNav,\n  }\n}\n\nconst SiteNavOverlayConnected = connect(select)(SiteNavOverlay)\n\nexport default SiteNavOverlayConnected\n","import SiteNavMenu from \"./SiteNavMenu\"\nimport SiteNavDropdown from \"./SiteNavDropdown\"\nimport SiteNavOverlay from \"./SiteNavOverlay\"\n\nexport { SiteNavMenu, SiteNavDropdown, SiteNavOverlay }\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = (props) => {\n  const { buttonClassName, buttonLabel, formLabel, header, labelClassName } =\n    props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ pk, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + pk\n          const style = button_color ? { color: button_color } : null\n          const finalButtonLabel =\n            button_text || interpolate(buttonLabel, { site: name }, true)\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={pk}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\n\nconst ThreadFlags = ({ thread }) => (\n  <ul className=\"thread-flags\">\n    {thread.weight == 2 && (\n      <li\n        className=\"thread-flag-pinned-globally\"\n        title={pgettext(\"thread flag\", \"Pinned globally\")}\n      >\n        <span className=\"material-icon\">bookmark</span>\n      </li>\n    )}\n    {thread.weight == 1 && (\n      <li\n        className=\"thread-flag-pinned-locally\"\n        title={pgettext(\"thread flag\", \"Pinned in category\")}\n      >\n        <span className=\"material-icon\">bookmark_outline</span>\n      </li>\n    )}\n    {thread.best_answer && (\n      <li\n        className=\"thread-flag-answered\"\n        title={pgettext(\"thread flag\", \"Answered\")}\n      >\n        <span className=\"material-icon\">check_circle</span>\n      </li>\n    )}\n    {thread.has_poll && (\n      <li className=\"thread-flag-poll\" title={pgettext(\"thread flag\", \"Poll\")}>\n        <span className=\"material-icon\">poll</span>\n      </li>\n    )}\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\n      <li\n        className=\"thread-flag-unapproved\"\n        title={\n          thread.is_unapproved\n            ? pgettext(\"thread flag\", \"Awaiting approval\")\n            : pgettext(\"thread flag\", \"Has unapproved posts\")\n        }\n      >\n        <span className=\"material-icon\">visibility</span>\n      </li>\n    )}\n    {thread.is_closed && (\n      <li\n        className=\"thread-flag-closed\"\n        title={pgettext(\"thread flag\", \"Closed\")}\n      >\n        <span className=\"material-icon\">lock</span>\n      </li>\n    )}\n    {thread.is_hidden && (\n      <li\n        className=\"thread-flag-hidden\"\n        title={pgettext(\"thread flag\", \"Hidden\")}\n      >\n        <span className=\"material-icon\">visibility_off</span>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ThreadFlags\n","import React from \"react\"\n\nconst ThreadReplies = ({ thread }) => (\n  <span\n    className=\"threads-replies\"\n    title={interpolate(\n      npgettext(\n        \"thread replies stat\",\n        \"%(replies)s reply\",\n        \"%(replies)s replies\",\n        thread.replies\n      ),\n      { replies: thread.replies },\n      true\n    )}\n  >\n    <span className=\"material-icon\">chat_bubble_outline</span>\n    {thread.replies > 980\n      ? Math.round(thread.replies / 1000) + \"K\"\n      : thread.replies}\n  </span>\n)\n\nexport default ThreadReplies\n","import React from \"react\"\nimport Avatar from \"./avatar\"\n\nconst ThreadStarterCard = ({ thread }) => (\n  <div className=\"thread-user-card\">\n    <div className=\"thread-user-card-media\">\n      {thread.starter ? (\n        <a href={thread.url.starter}>\n          <Avatar size={40} user={thread.starter} />\n        </a>\n      ) : (\n        <Avatar size={40} />\n      )}\n    </div>\n    <div className=\"thread-user-card-body\">\n      <div className=\"thread-user-card-header\">\n        {thread.starter ? (\n          <a\n            className=\"item-title\"\n            href={thread.url.starter}\n            title={pgettext(\"thread starter info\", \"Thread author\")}\n          >\n            {thread.starter.username}\n          </a>\n        ) : (\n          <span\n            className=\"item-title\"\n            title={pgettext(\"thread starter info\", \"Thread author\")}\n          >\n            {thread.starter_name}\n          </span>\n        )}\n      </div>\n      <div>\n        <span\n          className=\"text-muted\"\n          title={interpolate(\n            pgettext(\"thread starter info\", \"Started on: %(timestamp)s\"),\n            {\n              timestamp: thread.started_on.format(\"LLL\"),\n            },\n            true\n          )}\n        >\n          {thread.started_on.fromNow()}\n        </span>\n      </div>\n    </div>\n  </div>\n)\n\nexport default ThreadStarterCard\n","import React from \"react\"\nimport { dateRelative, dateRelativeShort, fullDateTime } from \"../../formats\"\n\nclass Timestamp extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { tick: 0 }\n    this.date = new Date(props.datetime)\n    this.timeout = null\n  }\n\n  componentDidMount() {\n    this.scheduleNextUpdate()\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      window.clearTimeout(this.timeout)\n    }\n  }\n\n  scheduleNextUpdate = () => {\n    const now = new Date()\n    const diff = Math.ceil(Math.abs(Math.round((this.date - now) / 1000)))\n\n    if (diff < 3600) {\n      this.timeout = window.setTimeout(\n        () => {\n          this.setState(tick)\n          this.scheduleNextUpdate()\n        },\n        50 * 1000 // Update every 50 seconds\n      )\n    } else if (diff < 3600 * 24) {\n      this.timeout = window.setTimeout(\n        () => {\n          this.setState(tick)\n        },\n        40 * 60 * 1000 // Update every 40 minutes\n      )\n    }\n  }\n\n  render() {\n    const displayed = this.props.narrow\n      ? dateRelativeShort(this.date)\n      : dateRelative(this.date)\n\n    return (\n      <attr\n        title={\n          this.props.title\n            ? this.props.title.replace(\n                \"%(timestamp)s\",\n                fullDateTime.format(this.date)\n              )\n            : fullDateTime.format(this.date)\n        }\n      >\n        {displayed}\n      </attr>\n    )\n  }\n}\n\nfunction tick(state) {\n  return { tick: state.tick + 1 }\n}\n\nexport default Timestamp\n","import Timestamp from \"./Timestamp\"\n\nexport default Timestamp\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Toolbar = ({ children, className }) => (\n  <nav className={classnames(\"toolbar\", className)}>{children}</nav>\n)\n\nexport default Toolbar\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarItem = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"toolbar-item\", className, {\n      \"toolbar-item-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarItem\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"toolbar-section\",\n      { \"toolbar-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarSection\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSpacer = ({ className }) => (\n  <div className={classnames(\"toolbar-spacer\", className)} />\n)\n\nexport default ToolbarSpacer\n","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer }\n","import React from \"react\"\nimport UserNavMenu from \"./UserNavMenu\"\n\nexport default function UserNavDropdown({ close }) {\n  return <UserNavMenu close={close} dropdown />\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport modal from \"../../services/modal\"\nimport ChangeAvatarModal, {\n  select as selectAvatar,\n} from \"../change-avatar/root\"\nimport {\n  DropdownDivider,\n  DropdownFooter,\n  DropdownMenuItem,\n  DropdownSubheader,\n} from \"../Dropdown\"\nimport logout from \"./logout\"\n\nclass UserNavMenu extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (props.dropdown) {\n      // Collapse options on dropdown\n      this.state = {\n        options: props.options.slice(0, 2),\n        optionsMore: props.options.length > 2,\n      }\n    } else {\n      // Reveal all options on mobile overlay\n      this.state = {\n        options: props.options,\n        optionsMore: false,\n      }\n    }\n  }\n\n  changeAvatar = () => {\n    this.props.close()\n    modal.show(connect(selectAvatar)(ChangeAvatarModal))\n  }\n\n  revealOptions = () => {\n    this.setState({\n      options: this.props.options,\n      optionsMore: false,\n    })\n  }\n\n  render() {\n    const { user, close, dropdown, overlay } = this.props\n\n    if (!user) {\n      return null\n    }\n\n    const adminUrl = misago.get(\"ADMIN_URL\")\n\n    return (\n      <ul\n        className={classnames(\"user-nav-menu\", {\n          \"dropdown-menu-list\": dropdown,\n          \"overlay-menu-list\": overlay,\n        })}\n      >\n        <li className=\"dropdown-menu-item\">\n          <a href={user.url} className=\"user-nav-profile\">\n            <strong>{user.username}</strong>\n            <small>{pgettext(\"user nav\", \"Go to your profile\")}</small>\n          </a>\n        </li>\n        <DropdownDivider />\n        <DropdownMenuItem>\n          <a href={misago.get(\"NOTIFICATIONS_URL\")}>\n            <span className=\"material-icon\">\n              {user.unreadNotifications\n                ? \"notifications_active\"\n                : \"notifications_none\"}\n            </span>\n            {pgettext(\"user nav\", \"Notifications\")}\n            {!!user.unreadNotifications && (\n              <span className=\"badge\">{user.unreadNotifications}</span>\n            )}\n          </a>\n        </DropdownMenuItem>\n        {!!user.showPrivateThreads && (\n          <DropdownMenuItem>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">inbox</span>\n              {pgettext(\"user nav\", \"Private threads\")}\n              {!!user.unreadPrivateThreads && (\n                <span className=\"badge\">{user.unreadPrivateThreads}</span>\n              )}\n            </a>\n          </DropdownMenuItem>\n        )}\n        {!!adminUrl && (\n          <DropdownMenuItem>\n            <a href={adminUrl} target=\"_blank\">\n              <span className=\"material-icon\">security</span>\n              {pgettext(\"user nav\", \"Admin control panel\")}\n            </a>\n          </DropdownMenuItem>\n        )}\n        <DropdownDivider />\n        <DropdownSubheader className=\"user-nav-options\">\n          {pgettext(\"user nav section\", \"Account settings\")}\n        </DropdownSubheader>\n        <DropdownMenuItem>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {pgettext(\"user nav\", \"Change avatar\")}\n          </button>\n        </DropdownMenuItem>\n        {this.state.options.map((item) => (\n          <DropdownMenuItem key={item.icon}>\n            <a href={item.url}>\n              <span className=\"material-icon\">{item.icon}</span>\n              {item.name}\n            </a>\n          </DropdownMenuItem>\n        ))}\n        <DropdownMenuItem>\n          <button\n            className={classnames(\"btn-link\", {\n              \"d-none\": !this.state.optionsMore,\n            })}\n            onClick={this.revealOptions}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">more_vertical</span>\n            {pgettext(\"user nav\", \"See more\")}\n          </button>\n        </DropdownMenuItem>\n        {!!dropdown && (\n          <DropdownFooter listItem>\n            <button\n              className=\"btn btn-default btn-block\"\n              onClick={() => {\n                logout()\n                close()\n              }}\n              type=\"button\"\n            >\n              {pgettext(\"user nav\", \"Log out\")}\n            </button>\n          </DropdownFooter>\n        )}\n      </ul>\n    )\n  }\n}\n\nfunction select(state) {\n  const user = state.auth.user\n  if (!user.id) {\n    return { user: null }\n  }\n\n  return {\n    user: {\n      username: user.username,\n      unreadNotifications: user.unreadNotifications,\n      unreadPrivateThreads: user.unread_private_threads,\n      showPrivateThreads: user.acl.can_use_private_threads,\n      url: user.url,\n    },\n    options: [...misago.get(\"userOptions\")],\n  }\n}\n\nconst UserNavMenuConnected = connect(select)(UserNavMenu)\n\nexport default UserNavMenuConnected\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { close } from \"../../reducers/overlay\"\nimport { DropdownFooter } from \"../Dropdown\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport UserNavMenu from \"./UserNavMenu\"\nimport logout from \"./logout\"\n\nexport function UserNavOverlay({ dispatch, isOpen }) {\n  return (\n    <Overlay open={isOpen}>\n      <OverlayHeader>\n        {pgettext(\"user nav title\", \"Your options\")}\n      </OverlayHeader>\n      <UserNavMenu close={() => dispatch(close())} overlay />\n      <DropdownFooter>\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={() => {\n            logout()\n            dispatch(close())\n          }}\n          type=\"button\"\n        >\n          {pgettext(\"user nav\", \"Log out\")}\n        </button>\n      </DropdownFooter>\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return {\n    isOpen: state.overlay.userNav,\n  }\n}\n\nconst UserNavOverlayConnected = connect(select)(UserNavOverlay)\n\nexport default UserNavOverlayConnected\n","import UserNavMenu from \"./UserNavMenu\"\nimport UserNavDropdown from \"./UserNavDropdown\"\nimport UserNavOverlay from \"./UserNavOverlay\"\n\nexport { UserNavMenu, UserNavDropdown, UserNavOverlay }\n","export default function logout() {\n  document.getElementById(\"hidden-logout-form\").submit()\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      pgettext(\n        \"accept agreement prompt\",\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {pgettext(\"accept agreement choice\", \"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {pgettext(\"accept agreement choice\", \"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n    }\n  }\n\n  onUsernameChange = (event) => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"add private thread participant\",\n          \"You have to enter user name.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(\n      pgettext(\n        \"add private thread participant\",\n        \"New participant has been added to thread.\"\n      )\n    )\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_username\"\n                label={pgettext(\n                  \"add private thread participant field\",\n                  \"User to add\"\n                )}\n              >\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\n                  \"add private thread participant btn\",\n                  \"Add participant\"\n                )}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"add private thread participant btn\", \"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\n          \"add private thread participant modal title\",\n          \"Add participant\"\n        )}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        pgettext(\n          \"auth message\",\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        pgettext(\n          \"auth message\",\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {pgettext(\"auth message\", \"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + pgettext(\"auth message\", \"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut,\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size * 2\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={props.height || size}\n      height={props.height || size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach((av) => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html,\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          pgettext(\"banned page\", \"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          pgettext(\"banned page\", \"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return pgettext(\"banned page\", \"This ban has expired.\")\n      }\n    } else {\n      return pgettext(\"banned page\", \"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null,\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map((item) => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1,\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath(),\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0,\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY,\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0,\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y,\n            })\n          }\n        }\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio,\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio,\n        },\n      })\n      .then(\n        (data) => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? pgettext(\"avatar crop modal btn\", \"Set avatar\")\n                : pgettext(\"avatar crop modal btn\", \"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {pgettext(\"avatar crop modal btn\", \"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false,\n    }\n  }\n\n  select = (image) => {\n    this.setState({\n      selection: image,\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? pgettext(\"avatar gallery modal btn\", \"Save choice\")\n                  : pgettext(\"avatar gallery modal btn\", \"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {pgettext(\"avatar gallery modal btn\", \"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {pgettext(\"avatar modal btn\", \"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {pgettext(\"avatar modal btn\", \"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {pgettext(\"avatar modal btn\", \"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {pgettext(\"avatar modal btn\", \"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars,\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {pgettext(\"avatar modal btn\", \"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"avatar modal dismiss\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      (options) => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null,\n        })\n      },\n      (rejection) => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = (error) => {\n    this.setState({\n      error,\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex,\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload,\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop,\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery,\n    })\n  }\n\n  completeFlow = (options) => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options,\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"avatar modal title\", \"Change your avatar\")}\n            </h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null,\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        pgettext(\n          \"avatar upload modal\",\n          \"Selected file is too big. (%(filesize)s)\"\n        ),\n        {\n          filesize: fileSize(image.size),\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = pgettext(\n      \"avatar upload modal\",\n      \"Selected file type is not supported.\"\n    )\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function (extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0,\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, (progress) => {\n        this.setState({\n          progress,\n        })\n      })\n      .then(\n        (data) => {\n          this.setState({\n            options: data,\n            uploaded: data.detail,\n          })\n\n          snackbar.info(\n            pgettext(\n              \"avatar upload modal\",\n              \"Your image has been uploaded and you may now crop it.\"\n            )\n          )\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function (extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      pgettext(\"avatar upload modal\", \"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit),\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {pgettext(\"avatar upload modal field\", \"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      pgettext(\"avatar upload modal field\", \"%(progress)s % complete\"),\n      {\n        progress: this.state.progress,\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {pgettext(\"avatar upload modal btn\", \"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={pgettext(\n        \"user profile details\",\n        \"No profile details are editable at this time.\"\n      )}\n      message={pgettext(\n        \"user profile details\",\n        \"This option is currently unavailable.\"\n      )}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = (ev) => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function ({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map((field) => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {},\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"user profile details form btn\", \"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {pgettext(\"user profile details form btn\", \"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      (groups) => {\n        this.setState({\n          loading: false,\n\n          groups,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">\n            {pgettext(\"user profile details form title\", \"Edit details\")}\n          </h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation\n            ? pgettext(\"field validation status\", \"(error)\")\n            : pgettext(\"field validation status\", \"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"../utils/validators\"\nimport snackbar from \"../services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {},\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name],\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = (name) => {\n    return (event) => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value,\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          (success) => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          (rejection) => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\",\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        pgettext(\n          \"merge threads conflict form\",\n          \"Are you sure you want to delete all polls?\"\n        )\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = (success) => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = (event) => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = (event) => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"merge threads conflict modal title\", \"Merge threads\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"merge threads conflict btn\", \"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {pgettext(\"merge threads conflict btn\", \"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={pgettext(\"merge threads conflict best answer\", \"Best answer\")}\n      helpText={pgettext(\n        \"merge threads conflict best answer\",\n        \"Select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={pgettext(\"merge threads conflict poll\", \"Poll\")}\n      helpText={pgettext(\n        \"merge threads conflict poll\",\n        \"Select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className={classnames(\"misago-markup\", this.props.className)}\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        data-author={this.props.author || undefined}\n        ref={(node) => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal message dismiss btn\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy,\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {pgettext(\"add participant btn\", \"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n    ])\n    .then(\n      () => {\n        snackbar.success(\n          pgettext(\"thread participants actions\", \"You have left this thread.\")\n        )\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = pgettext(\n          \"thread participants actions\",\n          \"%(user)s has been removed from this thread.\"\n        )\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = pgettext(\n          \"thread participants actions\",\n          \"%(user)s has been made new thread owner.\"\n        )\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function (props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>\n              {pgettext(\"thread participants profile link\", \"See profile\")}\n            </a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">\n        {pgettext(\"thread participants owner status\", \"Thread owner\")}\n      </span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map((participant) => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        pgettext(\n          \"private thread owner change\",\n          \"Are you sure you want to take over this thread?\"\n        )\n      )\n    } else {\n      const message = pgettext(\n        \"private thread owner change\",\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {pgettext(\"private thread owner change btn\", \"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        pgettext(\n          \"private thread leave\",\n          \"Are you sure you want to leave this thread?\"\n        )\n      )\n    } else {\n      const message = pgettext(\n        \"private thread leave\",\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser\n            ? pgettext(\"private thread leave btn\", \"Leave thread\")\n            : pgettext(\"private thread leave btn\", \"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function (props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = npgettext(\n    \"thread participants stat\",\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count,\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\",\n]\n\nexport const LABELS = [\n  pgettext(\"password strength indicator\", \"Entered password is very weak.\"),\n  pgettext(\"password strength indicator\", \"Entered password is weak.\"),\n  pgettext(\"password strength indicator\", \"Entered password is average.\"),\n  pgettext(\"password strength indicator\", \"Entered password is strong.\"),\n  pgettext(\"password strength indicator\", \"Entered password is very strong.\"),\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false,\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function (value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport getRandomString from \"../../../utils/getRandomString\"\n\nconst HASH_LENGTH = 12\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: getRandomString(HASH_LENGTH),\n      label: \"\",\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map((choice) => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = (hash) => {\n    const choices = this.props.choices.filter((choice) => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map((choice) => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = (event) => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem =\n      this.props.choice.label.length === 0\n        ? true\n        : window.confirm(\n            pgettext(\n              \"thread poll\",\n              \"Are you sure you want to remove this choice?\"\n            )\n          )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={pgettext(\"thread poll\", \"Remove this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={pgettext(\"thread poll\", \"Poll choice\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll.id\n      ? props.poll\n      : {\n          question: \"\",\n          choices: [\n            {\n              hash: \"choice-10000\",\n              label: \"\",\n            },\n            {\n              hash: \"choice-20000\",\n              label: \"\",\n            },\n          ],\n          length: 0,\n          allowed_choices: 1,\n          allow_revotes: 0,\n          is_public: 0,\n        }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.id,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: [],\n      },\n\n      errors: {},\n    }\n  }\n\n  setChoices = (choices) => {\n    this.setState((state) => {\n      return {\n        choices,\n        errors: Object.assign({}, state.errors, { choices: null }),\n      }\n    })\n  }\n\n  onCancel = () => {\n    let cancel = false\n\n    // Nothing added to the poll so no changes to discard\n    const formEmpty = !!(\n      this.state.question === \"\" &&\n      this.state.choices &&\n      this.state.choices.every((choice) => choice.label === \"\") &&\n      this.state.length === 0 &&\n      this.state.allowed_choices === 1\n    )\n\n    if (formEmpty) {\n      return this.props.close()\n    }\n\n    if (!!this.props.poll) {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard changes?\")\n      )\n    } else {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard new poll?\")\n      )\n    }\n\n    if (cancel) {\n      this.props.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public,\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    }\n\n    return ajax.post(this.props.thread.api.poll, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been edited.\"))\n    } else {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been posted.\"))\n    }\n\n    this.props.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection),\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel panel-default panel-form\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Edit poll\")\n                  : pgettext(\"thread poll\", \"Add poll\")}\n              </h3>\n            </div>\n            <div className=\"panel-body\">\n              <fieldset>\n                <legend>\n                  {pgettext(\"thread poll\", \"Question and choices\")}\n                </legend>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Poll question\")}\n                  for=\"id_questions\"\n                  validation={this.state.errors.question}\n                >\n                  <input\n                    className=\"form-control\"\n                    disabled={this.state.isLoading}\n                    id=\"id_questions\"\n                    onChange={this.bindInput(\"question\")}\n                    type=\"text\"\n                    maxLength=\"255\"\n                    value={this.state.question}\n                  />\n                </FormGroup>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Available choices\")}\n                  validation={this.state.errors.choices}\n                >\n                  <ChoicesControl\n                    choices={this.state.choices}\n                    disabled={this.state.isLoading}\n                    setChoices={this.setChoices}\n                  />\n                </FormGroup>\n              </fieldset>\n\n              <fieldset>\n                <legend>{pgettext(\"thread poll\", \"Voting\")}</legend>\n\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Poll length\")}\n                      helpText={pgettext(\n                        \"thread poll\",\n                        \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                      )}\n                      for=\"id_length\"\n                      validation={this.state.errors.length}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_length\"\n                        onChange={this.bindInput(\"length\")}\n                        type=\"text\"\n                        value={this.state.length}\n                      />\n                    </FormGroup>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allowed choices\")}\n                      for=\"id_allowed_choices\"\n                      validation={this.state.errors.allowed_choices}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_allowed_choices\"\n                        onChange={this.bindInput(\"allowed_choices\")}\n                        type=\"text\"\n                        maxLength=\"255\"\n                        value={this.state.allowed_choices}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <PollPublicSwitch\n                    bindInput={this.bindInput}\n                    disabled={this.state.isLoading}\n                    isEdit={this.state.isEdit}\n                    value={this.state.is_public}\n                  />\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allow vote changes\")}\n                      for=\"id_allow_revotes\"\n                    >\n                      <YesNoSwitch\n                        id=\"id_allow_revotes\"\n                        disabled={this.state.isLoading}\n                        iconOn=\"check\"\n                        iconOff=\"close\"\n                        labelOn={pgettext(\n                          \"thread poll\",\n                          \"Allow participants to change their vote\"\n                        )}\n                        labelOff={pgettext(\n                          \"thread poll\",\n                          \"Don't allow participants to change their vote\"\n                        )}\n                        onChange={this.bindInput(\"allow_revotes\")}\n                        value={this.state.allow_revotes}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n            <div className=\"panel-footer text-right\">\n              <button\n                className=\"btn btn-default\"\n                disabled={this.state.isLoading}\n                onClick={this.onCancel}\n                type=\"button\"\n              >\n                {pgettext(\"thread poll\", \"Cancel\")}\n              </button>{\" \"}\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Save changes\")\n                  : pgettext(\"thread poll\", \"Post poll\")}\n              </Button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={pgettext(\"thread poll\", \"Make voting public\")}\n        helpText={pgettext(\n          \"thread poll\",\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={pgettext(\"thread poll\", \"Votes are public\")}\n          labelOff={pgettext(\"thread poll\", \"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll, PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Started by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name),\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name),\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote.\",\n    \"%(votes)s votes.\",\n    props.votes\n  )\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return (\n    <li className=\"poll-info-public\">\n      {pgettext(\"thread poll\", \"Voting is public.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults,\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true,\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false,\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map((choice) => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc,\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {pgettext(\"thread poll\", \"You've voted on this choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function (props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          edit={props.edit}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      (data) => {\n        const hydratedData = data.map((choice) => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map((voter) => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on),\n              })\n            }),\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"thread poll\", \"Poll votes\")}\n            </h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map((choice) => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map((user) => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit\n        controls={controls}\n        poll={poll}\n        thread={thread}\n        onClick={props.edit}\n      />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function Edit(props) {\n  if (!props.poll.acl.can_edit) return null\n\n  return (\n    <div className={getClassName(props.controls, 2)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.onClick}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Edit\")}\n      </button>\n    </div>\n  )\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      pgettext(\n        \"thread poll\",\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = (newThreadAcl) => {\n    snackbar.success(pgettext(\"thread poll\", \"Poll has been deleted\"))\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = (rejection) => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {pgettext(\"thread poll\", \"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = npgettext(\n    \"thread poll\",\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft,\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {pgettext(\"thread poll\", \"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"poll-help-no-revotes\">\n      {pgettext(\"thread poll\", \"Votes are final.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices),\n    }\n  }\n\n  toggleChoice = (hash) => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices),\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected,\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected,\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(\n        pgettext(\"thread poll vote\", \"You need to select at least one choice.\")\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(pgettext(\"thread poll vote\", \"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {pgettext(\"thread poll vote btn\", \"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {pgettext(\"thread poll vote btn\", \"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n                onClick={this.props.edit}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map((choice) => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={pgettext(\n            \"post revert btn\",\n            \"Revert post to state from before this edit.\"\n          )}\n        >\n          {pgettext(\"post revert btn\", \"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null,\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true,\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  revertEdit = (edit) => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      pgettext(\n        \"post revert\",\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true,\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      (data) => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(\n          pgettext(\"post revert\", \"Post has been reverted to previous state.\")\n        )\n        modal.hide()\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"post history modal title\", \"Post edits history\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={pgettext(\"post history modal btn\", \"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={pgettext(\n          \"post revert btn\",\n          \"Revert post to state from before this edit.\"\n        )}\n      >\n        {pgettext(\"post revert btn\", \"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\"post history modal\", \"By %(edited_by)s %(edited_on)s.\")\n    ),\n    {\n      edited_by: user,\n      edited_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on),\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function ({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map((post) => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.headline || props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {pgettext(\n          \"post body invalid\",\n          \"This post's contents cannot be displayed.\"\n        )}\n      </p>\n      <p className=\"text-muted\">\n        {pgettext(\n          \"post body invalid\",\n          \"This error is caused by invalid post content manipulation.\"\n        )}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    pgettext(\"posts feed item header\", \"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function ({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"panel-content\">\n            <PostSide post={post} poster={user} />\n            <Header post={post} />\n            <Body post={post} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function ({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {pgettext(\"post removed poster username\", \"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">\n        {pgettext(\"go to post link\", \"See post\")}\n      </span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function ({ post, poster }) {\n  if (poster && poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function () {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"panel-content\">\n              <div className=\"post-side post-side-anonymous\">\n                <div className=\"media\">\n                  <div className=\"media-left\">\n                    <span>\n                      <Avatar className=\"poster-avatar\" size={50} />\n                    </span>\n                  </div>\n                  <div className=\"media-body\">\n                    <div className=\"media-heading\">\n                      <span className=\"item-title\">\n                        <span\n                          className=\"ui-preview-text\"\n                          style={{ width: random.int(30, 200) + \"px\" }}\n                        >\n                          &nbsp;\n                        </span>\n                      </span>\n                    </div>\n                    <span className=\"user-title user-title-anonymous\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"post-heading\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(30, 200) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"post-body\">\n                <article className=\"misago-markup\">\n                  <p>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </p>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message\n            message={pgettext(\n              \"post likes modal\",\n              \"No users have liked this post.\"\n            )}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on),\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = pgettext(\"post likes modal title\", \"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = npgettext(\n      \"post likes modal\",\n      \"%(likes)s like\",\n      \"%(likes)s likes\",\n      likesCount\n    )\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map((like) => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars,\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nconst CLASS_ACTIVE = \"posting-active\"\nconst CLASS_DEFAULT = \"posting-default\"\nconst CLASS_MINIMIZED = \"posting-minimized\"\nconst CLASS_FULLSCREEN = \"posting-fullscreen\"\n\nclass PostingDialog extends React.Component {\n  componentDidMount() {\n    document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT)\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\n      CLASS_ACTIVE,\n      CLASS_DEFAULT,\n      CLASS_MINIMIZED,\n      CLASS_FULLSCREEN\n    )\n  }\n\n  componentWillReceiveProps({ fullscreen, minimized }) {\n    if (minimized) {\n      document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN)\n      document.body.classList.add(CLASS_MINIMIZED)\n    } else {\n      if (fullscreen) {\n        document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_FULLSCREEN)\n      } else {\n        document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_DEFAULT)\n      }\n    }\n  }\n\n  render() {\n    const { children, fullscreen, minimized } = this.props\n\n    return (\n      <div\n        className={classnames(\"posting-dialog\", {\n          \"posting-dialog-minimized\": minimized,\n          \"posting-dialog-fullscreen\": fullscreen && !minimized,\n        })}\n      >\n        <div className=\"posting-dialog-container\">{children}</div>\n      </div>\n    )\n  }\n}\n\nexport default PostingDialog\n","import React from \"react\"\n\nconst PostingDialogBody = ({ children }) => (\n  <div className=\"posting-dialog-body\">{children}</div>\n)\n\nexport default PostingDialogBody\n","import React from \"react\"\n\nconst PostingDialogError = ({ close, message }) => (\n  <div className=\"posting-dialog-error\">\n    <div className=\"posting-dialog-error-icon\">\n      <span className=\"material-icon\">error_outlined</span>\n    </div>\n    <div className=\"posting-dialog-error-detail\">\n      <p>{message}</p>\n      <button type=\"button\" className=\"btn btn-default\" onClick={close}>\n        {pgettext(\"modal\", \"Close\")}\n      </button>\n    </div>\n  </div>\n)\n\nexport default PostingDialogError\n","import React from \"react\"\n\nconst PostingDialogHeader = ({\n  children,\n  close,\n  fullscreen,\n  minimize,\n  minimized,\n  fullscreenEnter,\n  fullscreenExit,\n  open,\n}) => (\n  <div className=\"posting-dialog-header\">\n    <div className=\"posting-dialog-caption\">{children}</div>\n    {minimized ? (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Open\")}\n        type=\"button\"\n        onClick={open}\n      >\n        <span className=\"material-icon\">expand_less</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Minimize\")}\n        type=\"button\"\n        onClick={minimize}\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n    )}\n    {fullscreen ? (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Exit the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenExit}\n      >\n        <span className=\"material-icon\">fullscreen_exit</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Enter the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenEnter}\n      >\n        <span className=\"material-icon\">fullscreen</span>\n      </button>\n    )}\n    <button\n      className=\"btn btn-posting-dialog\"\n      title={pgettext(\"dialog\", \"Cancel\")}\n      type=\"button\"\n      onClick={close}\n    >\n      <span className=\"material-icon\">close</span>\n    </button>\n  </div>\n)\n\nexport default PostingDialogHeader\n","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport { getGlobalState, getQuoteMarkup } from \"../posting\"\n\nexport default class PostingQuoteSelection extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      range: null,\n      rect: null,\n    }\n\n    this.element = null\n  }\n\n  selected = () => {\n    if (this.element) {\n      const range = getQuoteSelection(this.element) || null\n      const rect = range ? range.getBoundingClientRect() : null\n\n      this.setState({ range, rect })\n    }\n  }\n\n  reply = () => {\n    if (!posting.isOpen()) {\n      const content = getQuoteMarkup(this.state.range)\n      posting.open(Object.assign({}, this.props.posting, { default: content }))\n\n      this.setState({ range: null, rect: null })\n\n      window.setTimeout(focusEditor, 1000)\n    } else {\n      const globalState = getGlobalState()\n      if (globalState && !globalState.disabled) {\n        globalState.quote(getQuoteMarkup(this.state.range))\n        this.setState({ range: null, rect: null })\n        focusEditor()\n      }\n    }\n  }\n\n  render = () => (\n    <div>\n      <div\n        ref={(element) => {\n          if (element) {\n            this.element = element\n          }\n        }}\n        onMouseUp={this.selected}\n        onTouchEnd={this.selected}\n      >\n        {this.props.children}\n      </div>\n      {!!this.state.rect && (\n        <div\n          className=\"quote-control\"\n          style={{\n            position: \"absolute\",\n            left: this.state.rect.left + window.scrollX,\n            top: this.state.rect.bottom + window.scrollY,\n          }}\n        >\n          <div className=\"quote-control-arrow\" />\n          <div className=\"quote-control-inner\">\n            <button\n              className=\"btn quote-control-btn\"\n              type=\"button\"\n              onClick={this.reply}\n            >\n              {pgettext(\"post reply\", \"Quote\")}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction focusEditor() {\n  const textarea = document.querySelector(\"#posting-mount textarea\")\n  textarea.focus()\n  textarea.selectionStart = textarea.selectionEnd = textarea.value.length\n}\n\nconst getQuoteSelection = (container) => {\n  if (typeof window.getSelection === \"undefined\") return\n\n  // Validate that selection is of valid type and has one range\n  const selection = window.getSelection()\n  if (!selection) return\n  if (selection.type !== \"Range\") return\n  if (selection.rangeCount !== 1) return\n\n  // Validate that selection is within the container and post's article\n  const range = selection.getRangeAt(0)\n  if (!isRangeContained(range, container)) return\n  if (!isPostContained(range)) return\n  if (!isAnyTextSelected(range.cloneContents())) return\n\n  return range\n}\n\nconst isRangeContained = (range, container) => {\n  const node = range.commonAncestorContainer\n  if (node === container) return true\n\n  let p = node.parentNode\n  while (p) {\n    if (p === container) return true\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst isPostContained = (range) => {\n  const element = range.commonAncestorContainer\n  if (element.nodeName === \"ARTICLE\") return true\n  if (element.dataset && element.dataset.noquote === \"1\") return false\n  let p = element.parentNode\n  while (p) {\n    if (p.dataset && p.dataset.noquote === \"1\") return false\n    if (p.nodeName === \"ARTICLE\") return true\n    p = p.parentNode\n  }\n  return false\n}\n\nconst isAnyTextSelected = (node) => {\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i]\n    if (child.nodeType === Node.TEXT_NODE) {\n      if (child.textContent && child.textContent.trim().length > 0) return true\n    }\n    if (child.nodeName === \"IMG\") return true\n    if (isAnyTextSelected(child)) return true\n  }\n\n  return false\n}\n","import React from \"react\"\n\nexport default function PostingThreadOptions({\n  isClosed,\n  isHidden,\n  isPinned,\n  disabled,\n  options,\n  close,\n  open,\n  hide,\n  unhide,\n  pinGlobally,\n  pinLocally,\n  unpin,\n}) {\n  const icons = getIcons(isClosed, isHidden, isPinned)\n\n  return (\n    <div className=\"dropdown\">\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"post thread\", \"Options\")}\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n        disabled={disabled}\n      >\n        {icons.length > 0 ? (\n          <span className=\"btn-icons-family\">\n            {icons.map((icon) => (\n              <span key={icon} className=\"material-icon\">\n                {icon}\n              </span>\n            ))}\n          </span>\n        ) : (\n          <span className=\"material-icon\">more_horiz</span>\n        )}\n      </button>\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {options.pin === 2 && isPinned !== 2 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinGlobally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {pgettext(\"post thread\", \"Pinned globally\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 1 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinLocally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark_outline</span>\n              {pgettext(\"post thread\", \"Pinned in category\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 0 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unpin}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">radio_button_unchecked</span>\n              {pgettext(\"post thread\", \"Not pinned\")}\n            </button>\n          </li>\n        )}\n        {options.close && !!isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={open}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {pgettext(\"post thread\", \"Open\")}\n            </button>\n          </li>\n        )}\n        {options.close && !isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={close}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock</span>\n              {pgettext(\"post thread\", \"Closed\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !!isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unhide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {pgettext(\"post thread\", \"Visible\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={hide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {pgettext(\"post thread\", \"Hidden\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nfunction getIcons(closed, hidden, pinned) {\n  const icons = []\n  if (pinned === 2) icons.push(\"bookmark\")\n  if (pinned === 1) icons.push(\"bookmark_outline\")\n  if (closed) icons.push(\"lock\")\n  if (hidden) icons.push(\"visibility_off\")\n  return icons\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: false,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n\n    this.originalPost = \"\"\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.originalPost = data.post\n\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post.trim() + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    const originalPostSameAsCurrentPost =\n      this.state.originalPost === this.state.post\n    const noAttachementsAdded = this.state.attachments.length === 0\n\n    if (originalPostSameAsCurrentPost && noAttachementsAdded) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"edit reply\", \"Are you sure you want to discard changes?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true,\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    setGlobalState(false, this.onQuote)\n\n    snackbar.success(pgettext(\"edit reply\", \"Reply has been edited.\"))\n    window.location = success.url.index\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      post: this.props.post,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogEditReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogEditReply>\n      )\n    }\n\n    return (\n      <PostingDialogEditReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            canProtect={this.state.canProtect}\n            isProtected={this.state.protect}\n            enableProtection={() => this.setState({ protect: true })}\n            disableProtection={() => this.setState({ protect: false })}\n            value={this.state.post}\n            submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogEditReply>\n    )\n  }\n}\n\nconst PostingDialogEditReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  post,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"edit reply\", \"Edit reply by %(poster)s from %(date)s\"),\n        {\n          poster: post.poster ? post.poster.username : post.poster_name,\n          date: post.posted_on.fromNow(),\n        },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","const getQuoteMarkup = (range) => {\n  const metadata = getQuoteMetadata(range)\n  let markup = convertNodesToMarkup(range.cloneContents().childNodes, [])\n  let prefix = metadata ? `[quote=\"${metadata}\"]\\n` : \"[quote]\\n\"\n  let suffix = \"\\n[/quote]\\n\\n\"\n\n  const codeBlock = getQuoteCodeBlock(range)\n  if (codeBlock) {\n    prefix += codeBlock.syntax ? `[code=${codeBlock.syntax}]\\n` : \"[code]\\n\"\n    suffix = \"\\n[/code]\" + suffix\n  } else if (isNodeInlineCodeBlock(range)) {\n    markup = markup.trim()\n    prefix += \"`\"\n    suffix = \"`\" + suffix\n  } else {\n    markup = markup.trim()\n  }\n\n  return prefix + markup + suffix\n}\n\nexport default getQuoteMarkup\n\nconst getQuoteMetadata = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeElementWithQuoteMetadata(node)) {\n    return getQuoteMetadataFromNode(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return getQuoteMetadataFromNode(p)\n    }\n    p = p.parentNode\n  }\n\n  return \"\"\n}\n\nconst isNodeElementWithQuoteMetadata = (node) => {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false\n  if (node.nodeName === \"ARTICLE\") return true\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    return node.dataset && node.dataset.block === \"quote\"\n  }\n\n  return false\n}\n\nconst getQuoteMetadataFromNode = (element) => {\n  if (element.dataset) {\n    return element.dataset.author || null\n  }\n  return null\n}\n\nconst getQuoteCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeCodeBlock(node)) {\n    return getNodeCodeBlockMeta(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeCodeBlock(p)) {\n      return getNodeCodeBlockMeta(p)\n    }\n    p = p.parentNode\n  }\n\n  return null\n}\n\nconst isNodeCodeBlock = (node) => {\n  return node.nodeName === \"PRE\"\n}\n\nconst isNodeInlineCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (node.nodeName === \"CODE\") {\n    return true\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return false\n    }\n\n    if (p.nodeName === \"CODE\") {\n      return true\n    }\n\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst getNodeCodeBlockMeta = (node) => {\n  if (!node.dataset) {\n    return { syntax: null }\n  }\n\n  return { syntax: node.dataset.syntax || null }\n}\n\nconst convertNodesToMarkup = (nodes, stack) => {\n  let markup = \"\"\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i]\n    markup += convertNodeToMarkup(node, stack)\n  }\n  return markup\n}\n\nconst SIMPLE_NODE_MAPPINGS = {\n  H1: [\"\\n\\n# \", \"\"],\n  H2: [\"\\n\\n## \", \"\"],\n  H3: [\"\\n\\n### \", \"\"],\n  H4: [\"\\n\\n#### \", \"\"],\n  H5: [\"\\n\\n##### \", \"\"],\n  H6: [\"\\n\\n###### \", \"\"],\n  STRONG: [\"**\", \"**\"],\n  EM: [\"*\", \"*\"],\n  DEL: [\"~~\", \"~~\"],\n  B: [\"[b]\", \"[/b]\"],\n  U: [\"[u]\", \"[/u]\"],\n  I: [\"[i]\", \"[/i]\"],\n  SUB: [\"[sub]\", \"[/sub]\"],\n  SUP: [\"[sup]\", \"[/sup]\"],\n}\n\nconst convertNodeToMarkup = (node, stack) => {\n  const dataset = node.dataset || {}\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    return node.textContent || \"\"\n  }\n\n  if (node.nodeType === Node.ELEMENT_NODE) {\n    if (dataset.quote) {\n      return dataset.quote || \"\"\n    }\n    if (dataset.noquote === \"1\") return \"\"\n  }\n\n  if (\n    node.nodeType === Node.ELEMENT_NODE &&\n    dataset.quote &&\n    dataset.quote.trim()\n  ) {\n    return \"\"\n  }\n\n  if (node.nodeName === \"HR\") {\n    return \"\\n\\n- - -\"\n  }\n\n  if (SIMPLE_NODE_MAPPINGS[node.nodeName]) {\n    const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[node.nodeName]\n    return (\n      prefix +\n      convertNodesToMarkup(node.childNodes, [...stack, node.nodeName]) +\n      suffix\n    )\n  }\n\n  if (node.nodeName === \"A\") {\n    const href = node.href\n    const text = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (text) {\n      return `[${text}](${href})`\n    } else {\n      return `!(${href})`\n    }\n  }\n\n  if (node.nodeName === \"IMG\") {\n    const src = node.src\n    const alt = node.alt\n    if (alt) {\n      return `![${alt}](${src})`\n    } else {\n      return `!(${src})`\n    }\n  }\n\n  if (node.nodeName === \"DIV\" || node.nodeName === \"ASIDE\") {\n    const block = dataset.block && dataset.block.toUpperCase()\n    if (block && SIMPLE_NODE_MAPPINGS[block]) {\n      const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[block]\n      return (\n        prefix +\n        convertNodesToMarkup(node.childNodes, [...stack, block]) +\n        suffix\n      )\n    } else {\n      return convertNodesToMarkup(node.childNodes, stack)\n    }\n  }\n\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    if (dataset.block === \"spoiler\") {\n      const content = convertNodesToMarkup(node.childNodes, [\n        ...stack,\n        \"SPOILER\",\n      ]).trim()\n\n      if (!content) return \"\"\n\n      let markup = \"\\n[spoiler]\\n\"\n      markup += content\n      markup += \"\\n[/spoiler]\"\n      return markup\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      \"QUOTE\",\n    ]).trim()\n\n    if (!content) return \"\"\n\n    const metadata = getQuoteMetadataFromNode(node)\n    let markup = metadata ? `\\n[quote=${metadata}]\\n` : \"\\n\\n[quote]\\n\"\n    markup += content\n    markup += \"\\n[/quote]\"\n    return markup\n  }\n\n  if (node.nodeName === \"PRE\") {\n    const syntax = dataset.syntax || null\n    const code = node.querySelector(\"code\")\n    const content = code ? code.innerText || \"\" : \"\"\n\n    if (!content.trim()) return \"\"\n\n    return \"\\n[code\" + (syntax ? \"=\" + syntax : \"\") + \"]\" + content + \"[/code]\"\n  }\n\n  if (node.nodeName === \"CODE\") {\n    return \"`\" + node.innerText + \"`\"\n  }\n\n  if (node.nodeName === \"P\") {\n    return (\n      \"\\n\" + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"UL\" || node.nodeName === \"OL\") {\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    const prefix = level === 0 ? \"\\n\" : \"\"\n    return (\n      prefix + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"LI\") {\n    let prefix = \"\"\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    for (let i = 1; i < level; i++) {\n      prefix += \"    \"\n    }\n\n    const ordered = stack[stack.length - 1] === \"OL\"\n    if (ordered) {\n      prefix += dataset.index ? dataset.index + \". \" : \"1. \"\n    } else {\n      prefix += \"- \"\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (!content.trim()) return \"\"\n\n    return \"\\n\" + prefix + content\n  }\n\n  if (node.nodeName === \"SPAN\") {\n    return convertNodesToMarkup(node.childNodes, stack)\n  }\n\n  return \"\"\n}\n","export function getGlobalState() {\n  return window.misagoReply\n}\n\nexport function setGlobalState(disabled, quote) {\n  window.misagoReply = { disabled, quote }\n}\n\nexport function clearGlobalState() {\n  window.misagoReply = null\n}\n","import React from \"react\"\nimport PostingQuoteSelection from \"./PostingQuoteSelection\"\nimport getQuoteMarkup from \"./getQuoteMarkup\"\nimport { clearGlobalState, getGlobalState, setGlobalState } from \"./globalState\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function (props) {\n  switch (props.mode) {\n    case \"START\":\n      return <Start {...props} />\n\n    case \"START_PRIVATE\":\n      return <StartPrivate {...props} />\n\n    case \"REPLY\":\n      return <Reply {...props} />\n\n    case \"EDIT\":\n      return <Edit {...props} />\n\n    default:\n      return null\n  }\n}\n\nexport {\n  PostingQuoteSelection,\n  clearGlobalState,\n  getGlobalState,\n  getQuoteMarkup,\n  setGlobalState,\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: this.props.default || \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n\n    this.quoteText = \"\"\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    // User clicked \"reply\" instead of \"quote\"\n    if (context && newContext && !newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : this.state.post,\n    })\n\n    this.quoteText = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n      : this.state.post\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post.trim() + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    // If only the quote text is on editor user didn't add anything\n    // so no changes to discard\n    const onlyQuoteTextInEditor = this.state.post === this.quoteText\n\n    if (onlyQuoteTextInEditor && this.state.attachments.length === 0) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"post reply\", \"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    setGlobalState(false, this.onQuote)\n\n    snackbar.success(pgettext(\"post reply\", \"Your reply has been posted.\"))\n    window.location = success.url.index\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      thread: this.props.thread,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post reply submit\", \"Post reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogReply>\n      )\n    }\n\n    return (\n      <PostingDialogReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post reply submit\", \"Post reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogReply>\n    )\n  }\n}\n\nconst PostingDialogReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  thread,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"post reply\", \"Reply to: %(thread)s\"),\n        { thread: thread.title },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map((user) => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  onCancel = () => {\n    const formEmpty = !!(\n      this.state.post.length === 0 &&\n      this.state.title.length === 0 &&\n      this.state.to.length === 0 &&\n      this.state.attachments.length === 0\n    )\n\n    if (formEmpty) {\n      return this.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\n        \"post thread\",\n        \"Are you sure you want to discard private thread?\"\n      )\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onToChange = (event) => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter at least one recipient.\")\n      )\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    return (\n      <PostingDialogStartPrivate {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-recipients\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onToChange}\n                  placeholder={pgettext(\n                    \"post thread\",\n                    \"Recipients, eg.: Danny, Lisa, Alice\"\n                  )}\n                  type=\"text\"\n                  value={this.state.to}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStartPrivate>\n    )\n  }\n}\n\nconst PostingDialogStartPrivate = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start private thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport PostingThreadOptions from \"./PostingThreadOptions\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      options: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    let category = null\n    let options = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map((item) => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        options = item.post\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id,\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      options,\n\n      categories,\n      category,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const formEmpty = !!(\n      this.state.post.length === 0 &&\n      this.state.title.length === 0 &&\n      this.state.attachments.length === 0\n    )\n\n    if (formEmpty) {\n      this.minimize()\n      return posting.close()\n    }\n\n    const cancel = window.confirm(\n      pgettext(\"post thread\", \"Are you sure you want to discard thread?\")\n    )\n    if (cancel) {\n      this.minimize()\n      posting.close()\n    }\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = (event) => {\n    const category = this.state.categories.find((item) => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"posting form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(pgettext(\"posting form\", \"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({ isLoading: true })\n    this.close()\n\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogStart>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <Toolbar className=\"posting-dialog-toolbar\">\n              <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n                <ToolbarItem auto>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n              <ToolbarSection className=\"posting-dialog-category-select\" auto>\n                <ToolbarItem>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n            </Toolbar>\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post thread submit\", \"Start thread\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogStart>\n      )\n    }\n\n    const showOptions = !!(\n      this.state.options.close ||\n      this.state.options.hide ||\n      this.state.options.pin\n    )\n\n    return (\n      <PostingDialogStart {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-category-select\" auto>\n              <ToolbarItem>\n                <CategorySelect\n                  choices={this.state.categories}\n                  disabled={this.state.isLoading}\n                  onChange={this.onCategoryChange}\n                  value={this.state.category}\n                />\n              </ToolbarItem>\n              {showOptions && (\n                <ToolbarItem shrink>\n                  <PostingThreadOptions\n                    isClosed={this.state.close}\n                    isHidden={this.state.hide}\n                    isPinned={this.state.pin}\n                    disabled={this.state.isLoading}\n                    options={this.state.options}\n                    close={this.onClose}\n                    open={this.onOpen}\n                    hide={this.onHide}\n                    unhide={this.onUnhide}\n                    pinGlobally={this.onPinGlobally}\n                    pinLocally={this.onPinLocally}\n                    unpin={this.onUnpin}\n                  />\n                </ToolbarItem>\n              )}\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStart>\n    )\n  }\n}\n\nconst PostingDialogStart = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start new thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  return attachments\n    .filter((attachment) => {\n      return attachment.id && !attachment.isRemoved\n    })\n    .map((a) => {\n      return a.id\n    })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map((attachment) => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on),\n    })\n  })\n}\n","export default function (usernames) {\n  const normalisedNames = usernames\n    .split(\",\")\n    .map((i) => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter((i) => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"thread title length validator\",\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"thread title length validator\",\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"post length validator\",\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = npgettext(\n        \"post length validator\",\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url,\n        }),\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {pgettext(\"event hide btn\", \"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false,\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {pgettext(\"event reveal btn\", \"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      pgettext(\n        \"event delete\",\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(pgettext(\"event delete\", \"Event has been deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {pgettext(\"event delete btn\", \"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\",\n}\n\nconst EventIcon = (props) => (\n  <span className=\"event-icon-bg\">\n    <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n  </span>\n)\n\nexport default EventIcon\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function (props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"event-body\">\n        <div className=\"event-icon\">\n          <Icon {...props} />\n        </div>\n        <Waypoint className=\"event-content\" post={props.post}>\n          <Message {...props} />\n          <Info {...props} />\n        </Waypoint>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow()),\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(\n        pgettext(\"event info\", \"Hidden by %(event_by)s %(event_on)s.\")\n      ),\n      {\n        event_by: user,\n        event_on: date,\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(pgettext(\"event info\", \"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date,\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: pgettext(\n    \"event message\",\n    \"Thread has been pinned globally.\"\n  ),\n  pinned_locally: pgettext(\n    \"event message\",\n    \"Thread has been pinned in category.\"\n  ),\n  unpinned: pgettext(\"event message\", \"Thread has been unpinned.\"),\n\n  approved: pgettext(\"event message\", \"Thread has been approved.\"),\n\n  opened: pgettext(\"event message\", \"Thread has been opened.\"),\n  closed: pgettext(\"event message\", \"Thread has been closed.\"),\n\n  unhid: pgettext(\"event message\", \"Thread has been revealed.\"),\n  hid: pgettext(\"event message\", \"Thread has been made hidden.\"),\n\n  tookover: pgettext(\"event message\", \"Took thread over.\"),\n\n  owner_left: pgettext(\n    \"event message\",\n    \"Owner has left thread. This thread is now closed.\"\n  ),\n  participant_left: pgettext(\"event message\", \"Participant has left thread.\"),\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    pgettext(\n      \"event message\",\n      \"Thread title has been changed from %(old_title)s.\"\n    )\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title),\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    pgettext(\n      \"event message\",\n      \"The %(merged_thread)s thread has been merged into this thread.\"\n    )\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Changed thread owner to %(user)s.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Added %(user)s to thread.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(\n    pgettext(\"event message\", \"Removed %(user)s from thread.\")\n  )\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"event-label\">\n      <span className=\"label label-unread\">\n        {pgettext(\"event unread label\", \"New event\")}\n      </span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function (props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map((post) => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n          target=\"_blank\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      target=\"_blank\"\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\n        \"post attachment\",\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map((row) => {\n        const key = row\n          .map((a) => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map((attachment) => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default({ post }) {\n  const poster = \"@\" + (post.poster ? post.poster.username : post.poster_name)\n\n  return (\n    <Waypoint className=\"post-body\" post={post}>\n      <MisagoMarkup author={poster} markup={post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      pgettext(\"post body hidden\", \"Hidden by %(hidden_by)s %(hidden_on)s.\")\n    ),\n    {\n      hidden_by: user,\n      hidden_on: date,\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {pgettext(\n          \"post body hidden\",\n          \"This post is hidden. You cannot see its contents.\"\n        )}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {pgettext(\n          \"post body invalid\",\n          \"This post's contents cannot be displayed.\"\n        )}\n      </p>\n      <p className=\"text-muted\">\n        {pgettext(\n          \"post body invalid\",\n          \"This error is caused by invalid post content manipulation.\"\n        )}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url,\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter((user) => {\n        return !user.id || user.id !== props.user.id\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    (newState) => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"post delete\",\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true,\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(pgettext(\"post delete\", \"Post has been deleted.\"))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false,\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug,\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null,\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    (newState) => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(pgettext(\"post permalink\", \"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {pgettext(\"post options permalink btn\", \"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {pgettext(\"post options edit btn\", \"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {pgettext(\"post options best answer btn\", \"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {pgettext(\"post options best answer btn\", \"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = npgettext(\n      \"post edits\",\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {pgettext(\"post options edit btn\", \"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {pgettext(\"post options approve btn\", \"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {pgettext(\"post options move btn\", \"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {pgettext(\"post options split btn\", \"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {pgettext(\"post options protect btn\", \"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {pgettext(\"post options protect btn\", \"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {pgettext(\"post options hide btn\", \"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {pgettext(\"post options hide btn\", \"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {pgettext(\"post options delete btn\", \"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function (props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"post move modal\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"post move modal\",\n        \"Selected post was moved to the other thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"post move modal field\",\n                  \"Link to thread you want to move post to\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\"post move modal btn\", \"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"post move modal title\", \"Move post\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: pgettext(\"thread hidden switch choice\", \"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: pgettext(\"thread hidden switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: pgettext(\"thread closed switch choice\", \"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: pgettext(\"thread closed switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\"post split modal\", \"Selected post was split into new thread.\")\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: pgettext(\"thread weight choice\", \"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: pgettext(\"thread weight choice\", \"Pinned in category\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: pgettext(\"thread weight choice\", \"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts split modal field\", \"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={pgettext(\"posts split modal field\", \"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={pgettext(\"posts split modal field\", \"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {pgettext(\"posts split modal btn\", \"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {pgettext(\n            \"post split modal\",\n            \"You can't move this post at the moment.\"\n          )}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"posts split modal title\", \"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      pgettext(\n        \"post best answer flag\",\n        \"Marked as best answer by you %(marked_on)s.\"\n      ),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      pgettext(\n        \"post best answer flag\",\n        \"Marked as best answer by %(marked_by)s %(marked_on)s.\"\n      ),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {pgettext(\n          \"post hidden flag\",\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {pgettext(\n          \"post unapproved flag\",\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>\n        {pgettext(\n          \"post protected flag\",\n          \"This post is protected. Only moderators may change it.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Quote {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {pgettext(\"post footer btn\", \"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked\n          ? pgettext(\"post footer btn\", \"Liked\")\n          : pgettext(\"post footer btn\", \"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map((u) => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      pgettext(\"post likes\", \"%(user)s likes this.\"),\n      {\n        user: usernames[0],\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    pgettext(\"post likes\", \"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser,\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      pgettext(\"post likes\", \"%(users)s like this.\"),\n      {\n        users: usernamesList,\n      },\n      true\n    )\n  }\n\n  const message = npgettext(\n    \"post likes\",\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes,\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Quote extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"QUOTE\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id,\n      },\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Quote\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {pgettext(\"post footer btn\", \"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription,\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport Timestamp from \"misago/components/Timestamp\"\nimport modal from \"misago/services/modal\"\n\nexport default function (props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">\n      {pgettext(\"post unread label\", \"New post\")}\n    </span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {pgettext(\"post unread label\", \"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  return (\n    <a href={props.post.url.index} className=\"btn btn-link posted-on hidden-xs\">\n      <Timestamp datetime={props.post.posted_on.toISOString()} />\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = npgettext(\n      \"post edits stat\",\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    const label = npgettext(\n      \"post edits stat\",\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = npgettext(\n      \"post edits stat\",\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={pgettext(\n        \"post protected label\",\n        \"This post is protected and may not be edited.\"\n      )}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {pgettext(\"post protected label\", \"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected,\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function (props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide {...props} />\n          <div className=\"panel-content\">\n            <Header {...props} />\n            <FlagBestAnswer {...props} />\n            <FlagUnapproved {...props} />\n            <FlagProtected {...props} />\n            <FlagHidden {...props} />\n            <Body {...props} />\n            <Attachments {...props} />\n            <Footer {...props} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\n\nexport default function ({ post, thread }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {pgettext(\"post removed poster username\", \"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function (props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  const message = npgettext(\n    \"poster stats\",\n    \"%(posts)s post\",\n    \"%(posts)s posts\",\n    poster.posts\n  )\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts,\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nconst PostPreview = () => (\n  <li className=\"post\">\n    <div className=\"panel panel-default panel-post\">\n      <div className=\"panel-body\">\n        <div className=\"post-side post-side-registered\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <span>\n                <Avatar className=\"poster-avatar\" size=\"100\" />\n              </span>\n            </div>\n            <div className=\"media-body\">\n              <span className=\"media-heading item-title\">\n                <span className=\"ui-preview-text\" style={{ width: \"80px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n              <span className=\"user-title user-title-anonymous\">\n                <span className=\"ui-preview-text\" style={{ width: \"60px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"panel-content\">\n          <div className=\"post-body\">\n            <article className=\"misago-markup\">\n              <p className=\"ui-preview-text\" style={{ width: \"100%\" }}>\n                &nbsp;\n              </p>\n              <p className=\"ui-preview-text\" style={{ width: \"70%\" }}>\n                &nbsp;\n              </p>\n              <p\n                className=\"ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: \"85%\" }}\n              >\n                &nbsp;\n              </p>\n            </article>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n)\n\nexport default PostPreview\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.initialized = false\n    this.primed = false\n    this.observer = null\n  }\n\n  initialize = (element) => {\n    this.initialized = true\n\n    this.observer = new IntersectionObserver((entries) =>\n      entries.forEach(this.callback)\n    )\n    this.observer.observe(element)\n  }\n\n  callback = (entry) => {\n    if (!entry.isIntersecting || this.props.post.is_read || this.primed) {\n      return\n    }\n\n    window.setTimeout(() => {\n      ajax.post(this.props.post.api.read)\n    }, 0)\n\n    this.primed = true\n    this.destroy()\n  }\n\n  destroy() {\n    if (this.observer) {\n      this.observer.disconnect()\n      this.observer = null\n    }\n  }\n\n  componentWillUnmount() {\n    this.destroy()\n  }\n\n  render() {\n    const ready = !this.initialized && !this.primed && !this.props.post.is_read\n\n    return (\n      <div\n        className={this.props.className}\n        ref={(node) => {\n          if (node && ready) {\n            this.initialize(node)\n          }\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Status, { StatusIcon, StatusLabel } from \"../user-status\"\n\nconst ProfileDataList = ({ profile }) => (\n  <ul className=\"profile-data-list\">\n    {profile.is_active === false && (\n      <li className=\"user-account-disabled\">\n        <abbr\n          title={pgettext(\n            \"profile data list\",\n            \"This user's account has been disabled by administrator.\"\n          )}\n        >\n          {pgettext(\"profile data list\", \"Account disabled\")}\n        </abbr>\n      </li>\n    )}\n    <li className=\"user-status-display\">\n      <Status user={profile} status={profile.status}>\n        <StatusIcon user={profile} status={profile.status} />\n        <StatusLabel\n          user={profile}\n          status={profile.status}\n          className=\"status-label\"\n        />\n      </Status>\n    </li>\n    {profile.rank.is_tab ? (\n      <li className=\"user-rank\">\n        <a href={profile.rank.url} className=\"item-title\">\n          {profile.rank.name}\n        </a>\n      </li>\n    ) : (\n      <li className=\"user-rank\">\n        <span className=\"item-title\">{profile.rank.name}</span>\n      </li>\n    )}\n    {(profile.title || profile.rank.title) && (\n      <li className=\"user-title\">{profile.title || profile.rank.title}</li>\n    )}\n    <li className=\"user-joined-on\">\n      <abbr\n        title={interpolate(\n          pgettext(\"profile data list\", \"Joined on %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.format(\"LL, LT\"),\n          },\n          true\n        )}\n      >\n        {interpolate(\n          pgettext(\"profile data list\", \"Joined %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.fromNow(),\n          },\n          true\n        )}\n      </abbr>\n    </li>\n    {profile.email && (\n      <li className=\"user-email\">\n        <a href={\"mailto:\" + profile.email} className=\"item-title\">\n          {profile.email}\n        </a>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ProfileDataList\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../PageHeader\"\nimport FollowButton from \"./follow-button\"\nimport MessageButton from \"./message-button\"\nimport ModerationOptions from \"./moderation/nav\"\nimport ProfileDataList from \"./ProfileDataList\"\n\nconst ProfileHeader = ({ profile, user, moderation, message, follow }) => (\n  <PageHeaderContainer>\n    <PageHeader\n      styleName={\n        profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n      }\n    >\n      <PageHeaderBanner\n        styleName={\n          profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n        }\n      >\n        <div className=\"profile-page-header\">\n          <div className=\"profile-page-header-avatar\">\n            <Avatar\n              className=\"user-avatar hidden-sm hidden-md hidden-lg\"\n              user={profile}\n              size={200}\n              size2x={400}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-md hidden-lg\"\n              user={profile}\n              size={64}\n              size2x={128}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-sm\"\n              user={profile}\n              size={128}\n              size2x={256}\n            />\n          </div>\n          <h1>{profile.username}</h1>\n        </div>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"profile-page-header-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol>\n              <ProfileDataList profile={profile} />\n            </FlexRowCol>\n          </FlexRowSection>\n          {message && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <MessageButton\n                  className=\"btn btn-default btn-block btn-outline\"\n                  profile={profile}\n                  user={user}\n                />\n              </FlexRowCol>\n              {moderation.available && !follow && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {follow && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <FollowButton\n                  className=\"btn btn-block btn-outline\"\n                  profile={profile}\n                />\n              </FlexRowCol>\n              {moderation.available && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {moderation.available && !follow && !message && (\n            <FlexRowSection>\n              <FlexRowCol className=\"hidden-xs\" shrink>\n                <div className=\"dropdown\">\n                  <ProfileModerationButton />\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n              <FlexRowCol className=\"hidden-sm hidden-md hidden-lg\">\n                <div className=\"dropdown\">\n                  <button\n                    className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n                    type=\"button\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <span className=\"material-icon\">settings</span>\n                    {pgettext(\"profile options btn\", \"Options\")}\n                  </button>\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst ProfileModerationButton = () => (\n  <button\n    className=\"btn btn-default btn-icon btn-outline dropdown-toggle\"\n    type=\"button\"\n    title={pgettext(\"profile options btn\", \"Options\")}\n    data-toggle=\"dropdown\"\n    aria-haspopup=\"true\"\n    aria-expanded=\"false\"\n  >\n    <span className=\"material-icon\">settings</span>\n  </button>\n)\n\nexport default ProfileHeader\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst ProfileNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">{page.icon}</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => (\n          <li key={page.component}>\n            <Link to={baseUrl + page.component + \"/\"}>\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => (\n        <Li path={baseUrl + page.component + \"/\"} key={page.component}>\n          <Link to={baseUrl + page.component + \"/\"}>\n            <span className=\"material-icon\">{page.icon}</span>\n            {page.name}\n          </Link>\n        </Li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ProfileNav\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban,\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error,\n    })\n  }\n\n  update = (ban) => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban,\n    })\n  }\n\n  error = (error) => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile ban details title\", \"Ban details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{pgettext(\"profile ban details\", \"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{pgettext(\"profile ban details\", \"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          pgettext(\n            \"profile ban details\",\n            \"This ban expires on %(expires_on)s.\"\n          ),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          pgettext(\"profile ban details\", \"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return pgettext(\"profile ban details\", \"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        pgettext(\"profile ban details\", \"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{pgettext(\"profile ban details\", \"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={pgettext(\n                \"profile ban details\",\n                \"No ban is active at the moment.\"\n              )}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">\n              {pgettext(\"profile ban details title\", \"Ban details\")}\n            </h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = pgettext(\n      \"profile details empty\",\n      \"You are not sharing any details with others.\"\n    )\n  } else {\n    message = interpolate(\n      pgettext(\n        \"profile details empty\",\n        \"%(username)s is not sharing any details with others.\"\n      ),\n      {\n        username: profile.username,\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function (props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function ({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function ({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile,\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nconst ProfileDetailsHeader = ({ onEdit, showEditButton }) => (\n  <Toolbar>\n    <ToolbarSection auto>\n      <ToolbarItem auto>\n        <h3>{pgettext(\"profile details title\", \"Details\")}</h3>\n      </ToolbarItem>\n    </ToolbarSection>\n    {showEditButton && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            onClick={onEdit}\n            type=\"button\"\n          >\n            {pgettext(\"profile details edit btn\", \"Edit\")}\n          </button>\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ProfileDetailsHeader\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile details title\", \"Details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = (newDetails) => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = pgettext(\n        \"profile details form\",\n        \"Your details have been changed.\"\n      )\n    } else {\n      message = interpolate(\n        pgettext(\n          \"profile details form\",\n          \"%(username)s's details have been changed.\"\n        ),\n        {\n          username: profile.username,\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = pgettext(\n      \"profile threads\",\n      \"You haven't started any threads.\"\n    )\n  } else {\n    emptyMessage = interpolate(\n      pgettext(\"profile threads\", \"%(username)s hasn't started any threads\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = pgettext(\"profile threads\", \"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = npgettext(\n      \"profile threads\",\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads,\n      },\n      true\n    )\n  } else {\n    const message = npgettext(\n      \"profile threads\",\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={pgettext(\"profile threads title\", \"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = pgettext(\"profile posts\", \"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      pgettext(\"profile posts\", \"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = pgettext(\"profile posts\", \"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = npgettext(\n      \"profile posts\",\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts,\n      },\n      true\n    )\n  } else {\n    const message = npgettext(\n      \"profile posts\",\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={pgettext(\"profile posts title\", \"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0,\n      })\n      .then(\n        (data) => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false,\n          })\n        },\n        (rejection) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username,\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.props.header}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (props.posts.isLoaded && !props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {pgettext(\"profile load more btn\", \"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return pgettext(\"user profile follow btn\", \"Following\")\n    } else {\n      return pgettext(\"user profile follow btn\", \"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1,\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1,\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n        })\n\n        store.dispatch(patch(data))\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = pgettext(\"profile followers title\", \"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1,\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile followers\",\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile followers\",\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile followers\",\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile followers\",\n        \"Search returned no users matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\"profile followers\", \"You have no followers.\")\n    } else {\n      return interpolate(\n        pgettext(\"profile followers\", \"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            pgettext(\"profile followers\", \"Show more (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={pgettext(\n                  \"profile followers search\",\n                  \"Search users...\"\n                )}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = pgettext(\"profile follows title\", \"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"profile follows\", \"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile follows\",\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile follows\",\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile follows\",\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile follows\",\n        \"Search returned no users matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\"profile follows\", \"You are not following any users.\")\n    } else {\n      return interpolate(\n        pgettext(\"profile follows\", \"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile],\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {pgettext(\"profile message btn\", \"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\",\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      (options) => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\",\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(\n      pgettext(\n        \"profile avatar moderation\",\n        \"Avatar controls have been changed.\"\n      )\n    )\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"Lock avatar\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={pgettext(\n                \"profile avatar moderation field\",\n                \"Disallow user from changing avatar\"\n              )}\n              labelOff={pgettext(\n                \"profile avatar moderation field\",\n                \"Allow user to change avatar\"\n              )}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"User message\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Optional message for user explaining why they are prohibited from changing their avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={pgettext(\"profile avatar moderation field\", \"Staff message\")}\n            helpText={pgettext(\n              \"profile avatar moderation field\",\n              \"Optional message for forum team members explaining why the user is prohibited form changing their avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {pgettext(\"profile avatar moderation btn\", \"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"profile avatar moderation btn\", \"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile avatar moderation title\", \"Avatar controls\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()],\n      },\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\",\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(\n      pgettext(\"profile username moderation\", \"Username has been changed.\")\n    )\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\n              \"profile username moderation field\",\n              \"New username\"\n            )}\n            for=\"id_username\"\n          >\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {pgettext(\"profile username moderation btn\", \"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {pgettext(\"profile username moderation btn\", \"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile username moderation title\", \"Change username\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n\n        this.countdown()\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1,\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true,\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content,\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          pgettext(\n            \"profile delete\",\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          pgettext(\n            \"profile delete\",\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        pgettext(\"profile delete btn\", \"Delete %(username)s\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        pgettext(\"profile delete btn\", \"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown,\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={pgettext(\"profile delete\", \"User content\")}\n            for=\"id_with_content\"\n          >\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={pgettext(\n                \"profile delete content\",\n                \"Delete together with user's account\"\n              )}\n              labelOff={pgettext(\n                \"profile delete content\",\n                \"Hide after deleting user's account\"\n              )}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {pgettext(\"profile delete btn\", \"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {pgettext(\"profile delete link\", \"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"profile delete title\", \"Delete user account\")}\n            </h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function (store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile,\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n        {!!moderation.avatar && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showAvatarDialog}\n            >\n              <span className=\"material-icon\">portrait</span>\n              {pgettext(\"profile moderation menu\", \"Avatar controls\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.rename && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showRenameDialog}\n            >\n              <span className=\"material-icon\">credit_card</span>\n              {pgettext(\"profile moderation menu\", \"Change username\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showDeleteDialog}\n            >\n              <span className=\"material-icon\">clear</span>\n              {pgettext(\"profile moderation menu\", \"Delete account\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport PageContainer from \"../PageContainer\"\nimport ProfileHeader from \"./ProfileHeader\"\nimport ProfileNav from \"./ProfileNav\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n    const page = pages.filter((page) => {\n      const url = baseUrl + page.component + \"/\"\n      return this.props.location.pathname === url\n    })[0]\n    const { profile, user } = this.props\n    const moderation = getModeration(profile, user)\n    const message =\n      !!user.acl.can_start_private_threads && profile.id !== user.id\n    const follow = !!profile.acl.can_follow && profile.id !== user.id\n\n    return (\n      <div className=\"page page-user-profile\">\n        <ProfileHeader\n          profile={this.props.profile}\n          user={this.props.user}\n          moderation={moderation}\n          message={message}\n          follow={follow}\n        />\n        <PageContainer>\n          <ProfileNav baseUrl={baseUrl} page={page} pages={pages} />\n\n          {this.props.children}\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getModeration = (profile, user) => {\n  const moderation = {\n    available: false,\n    rename: false,\n    avatar: false,\n    delete: false,\n  }\n\n  if (user.is_anonymous) return moderation\n\n  moderation.rename = profile.acl.can_rename\n  moderation.avatar = profile.acl.can_moderate_avatar\n  moderation.delete = profile.acl.can_delete\n  moderation.available = !!(\n    moderation.rename ||\n    moderation.avatar ||\n    moderation.delete\n  )\n\n  return moderation\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails,\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function (item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component]),\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1,\n        },\n        \"search-username-history\"\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: pgettext(\"profile username history title\", \"Username history\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return pgettext(\"profile username history\", \"Loading...\")\n    } else if (this.state.search) {\n      let message = npgettext(\n        \"profile username history\",\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = npgettext(\n        \"profile username history\",\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = npgettext(\n        \"profile username history\",\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return pgettext(\n        \"profile username history\",\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return pgettext(\n        \"username history empty\",\n        \"Your account has no history of name changes.\"\n      )\n    } else {\n      return interpolate(\n        pgettext(\n          \"profile username history\",\n          \"%(username)s's username was never changed.\"\n        ),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            pgettext(\"profile username history\", \"Show older (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={pgettext(\n                  \"profile username history search input\",\n                  \"Search history...\"\n                )}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={\n            this.props.placeholder ||\n            pgettext(\"quick search placeholder\", \"Search...\")\n          }\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach((item) => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length),\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator(),\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"register modal title\", \"Register\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={pgettext(\n                  \"register modal field\",\n                  \"Join with %(site)s\"\n                )}\n                formLabel={pgettext(\n                  \"register modal field\",\n                  \"Or create forum account:\"\n                )}\n              />\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={pgettext(\"register modal field\", \"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this,\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"register modal btn\", \"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {pgettext(\"register modal btn\", \"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return pgettext(\n        \"account activation required\",\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return pgettext(\n        \"account activation required\",\n        \"%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return pgettext(\n        \"account activation required\",\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return pgettext(\n        \"account activation required\",\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"register modal title\", \"Registration complete\")}\n            </h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {pgettext(\"register modal dismiss\", \"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  completeRegistration = (apiResponse) => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(\n        pgettext(\n          \"request activation link form\",\n          \"Enter a valid e-mail address.\"\n        )\n      )\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"request activation link form field\",\n                  \"Your e-mail address\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"request activation link form btn\", \"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"request activation link form\",\n        \"Activation link was sent to %(email)s\"\n      ),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {pgettext(\n              \"request activation link form btn\",\n              \"Request another link\"\n            )}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(\n        pgettext(\"request password reset form\", \"Enter a valid e-mail address.\")\n      )\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"request password reset form field\",\n                  \"Your e-mail address\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"request password reset form btn\", \"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"request password reset form\",\n        \"Reset password link was sent to %(email)s\"\n      ),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {pgettext(\n              \"request password reset form btn\",\n              \"Request another link\"\n            )}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {pgettext(\n              \"request password reset form error\",\n              \"Activate your account.\"\n            )}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {pgettext(\n                  \"request password reset form error\",\n                  \"Your account is inactive.\"\n                )}\n              </p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\",\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(pgettext(\"password reset form\", \"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={pgettext(\n                  \"password reset form field\",\n                  \"Enter new password\"\n                )}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {pgettext(\"password reset form btn\", \"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      pgettext(\n        \"password reset form\",\n        \"%(username)s, your password has been changed.\"\n      ),\n      {\n        username: this.props.user.username,\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {pgettext(\n                  \"password reset form\",\n                  \"Sign in using new password to continue.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {pgettext(\"password reset form btn\", \"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = (apiResponse) => {\n    auth.softSignOut()\n\n    // nuke \"next\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"next\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderContainer,\n  PageHeaderBanner,\n  PageHeaderDetails,\n} from \"../PageHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      query: props.search.query,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = (event) => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(pgettext(\"search form\", \"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true,\n      })\n    )\n\n    const query = this.state.query.trim()\n\n    let url = window.location.href\n    const urlQuery = url.indexOf(\"?q=\")\n    if (urlQuery > 0) {\n      url = url.substring(0, urlQuery + 3)\n    }\n    window.history.pushState({}, \"\", url + encodeURIComponent(query))\n\n    return ajax.get(misago.get(\"SEARCH_API\"), { q: query })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers,\n      })\n    )\n\n    providers.forEach((provider) => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false,\n      })\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <PageHeaderContainer>\n          <PageHeader styleName=\"site-search\">\n            <PageHeaderBanner styleName=\"site-search\">\n              <h1>{pgettext(\"search form title\", \"Search\")}</h1>\n            </PageHeaderBanner>\n            <PageHeaderDetails className=\"page-header-search-form\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol>\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      type=\"text\"\n                      value={this.state.query}\n                      placeholder={pgettext(\"search form input\", \"Search\")}\n                      onChange={this.onQueryChange}\n                    />\n                  </FlexRowCol>\n                  <FlexRowCol shrink>\n                    <button\n                      className=\"btn btn-secondary btn-icon btn-outline\"\n                      title={pgettext(\"search form btn\", \"Search\")}\n                      disabled={this.state.isLoading}\n                    >\n                      <span className=\"material-icon\">search</span>\n                    </button>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderDetails>\n          </PageHeader>\n        </PageHeaderContainer>\n      </form>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers,\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport default function (providers) {\n  return providers.map((provider) => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider,\n    }\n  })\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function (props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach((p) => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = pgettext(\"search time\", \"Search took %(time)s s\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function (props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map((provider) => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        posts={props.posts}\n      >\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, posts, query }) {\n  if (posts && posts.count) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? pgettext(\"search threads\", \"Loading results...\")\n          : pgettext(\n              \"search threads\",\n              \"No threads matching search query have been found.\"\n            )}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {pgettext(\n        \"search threads\",\n        \"Enter at least two characters to search threads.\"\n      )}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts,\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true,\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next,\n      })\n      .then(\n        (providers) => {\n          providers.forEach((provider) => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {pgettext(\"search threads btn\", \"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        users={props.users}\n      >\n        <UsersList\n          cols={3}\n          isReady={!props.search.isLoading}\n          users={props.users}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, query, users }) {\n  if (users.length) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? pgettext(\"search users\", \"Loading results...\")\n          : pgettext(\n              \"search users\",\n              \"No users matching search query have been found.\"\n            )}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {pgettext(\n        \"search users\",\n        \"Enter at least two characters to search users.\"\n      )}\n    </p>\n  )\n}\n","import React from \"react\"\nimport SearchFetch from \"./SearchFetch\"\nimport SearchInput from \"./SearchInput\"\nimport SearchQuery from \"./SearchQuery\"\n\nexport default function SearchDropdown() {\n  return (\n    <SearchQuery>\n      {({ query, setQuery }) => {\n        return (\n          <div className=\"search-dropdown-body\">\n            <SearchInput query={query} setQuery={setQuery} />\n            <SearchFetch query={query} />\n          </div>\n        )\n      }}\n    </SearchQuery>\n  )\n}\n","import React from \"react\"\nimport { ApiFetch } from \"../Api\"\nimport SearchMessage from \"./SearchMessage\"\nimport SearchResults from \"./SearchResults\"\nimport SearchResultsEmpty from \"./SearchResultsEmpty\"\nimport SearchResultsError from \"./SearchResultsError\"\nimport SearchResultsLoading from \"./SearchResultsLoading\"\n\nconst DEBOUNCE = 750\nconst CACHE = {}\n\nexport default class SearchFetch extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      query: this.props.query.trim(),\n    }\n\n    this.debounce = null\n  }\n\n  componentDidUpdate() {\n    const query = this.props.query.trim()\n\n    if (this.state.query != query) {\n      if (this.debounce) {\n        window.clearTimeout(this.debounce)\n      }\n\n      this.debounce = window.setTimeout(() => {\n        this.setState({ query })\n      }, DEBOUNCE)\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.debounce) {\n      window.clearTimeout(this.debounce)\n    }\n  }\n\n  render() {\n    return (\n      <ApiFetch\n        url={getSearchUrl(this.state.query)}\n        cache={CACHE}\n        disabled={this.state.query.length < 3}\n      >\n        {({ data, loading, error }) => {\n          if (this.state.query.length < 3) {\n            return <SearchMessage />\n          }\n\n          if (loading) {\n            return <SearchResultsLoading />\n          }\n\n          if (error) {\n            return <SearchResultsError error={error} />\n          }\n\n          if (isResultEmpty(data)) {\n            return <SearchResultsEmpty />\n          }\n\n          if (data !== null) {\n            return <SearchResults query={this.state.query} results={data} />\n          }\n\n          return null\n        }}\n      </ApiFetch>\n    )\n  }\n}\n\nfunction getSearchUrl(query) {\n  return misago.get(\"SEARCH_API\") + \"?q=\" + encodeURIComponent(query)\n}\n\nfunction isResultEmpty(results) {\n  if (results === null) {\n    return true\n  }\n\n  let resultsCount = 0\n  results.forEach((result) => {\n    resultsCount += result.results.count\n  })\n  return resultsCount === 0\n}\n","import React from \"react\"\n\nexport default function SearchInput({ query, setQuery }) {\n  return (\n    <div className=\"search-input\">\n      <input\n        className=\"form-control form-control-search\"\n        type=\"text\"\n        placeholder={pgettext(\"cta\", \"Search\")}\n        value={query}\n        onChange={(event) => setQuery(event.target.value)}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { ListGroupMessage } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchMessage() {\n  return (\n    <SearchResultsList>\n      <ListGroupMessage\n        message={pgettext(\n          \"search cta\",\n          \"Enter search query (at least 3 characters).\"\n        )}\n      />\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Overlay, OverlayHeader } from \"../Overlay\"\nimport SearchFetch from \"./SearchFetch\"\nimport SearchInput from \"./SearchInput\"\nimport SearchQuery from \"./SearchQuery\"\n\nfunction SearchOverlay({ open }) {\n  return (\n    <Overlay\n      open={open}\n      onOpen={() => {\n        window.setTimeout(() => {\n          document.querySelector(\"#search-mount .form-control-search\").focus()\n        }, 0)\n      }}\n    >\n      <OverlayHeader>{pgettext(\"cta\", \"Search\")}</OverlayHeader>\n      <SearchQuery>\n        {({ query, setQuery }) => {\n          return (\n            <div className=\"search-overlay-body\">\n              <SearchInput query={query} setQuery={setQuery} />\n              <div className=\"search-results-container\">\n                <SearchFetch query={query} />\n              </div>\n            </div>\n          )\n        }}\n      </SearchQuery>\n    </Overlay>\n  )\n}\n\nfunction select(state) {\n  return { open: state.overlay.search }\n}\n\nconst SearchOverlayConnected = connect(select)(SearchOverlay)\n\nexport default SearchOverlayConnected\n","import React from \"react\"\n\nexport default class SearchQuery extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      query: \"\",\n    }\n  }\n\n  setQuery = (query) => {\n    this.setState({ query })\n  }\n\n  render() {\n    return this.props.children({\n      query: this.state.query,\n      setQuery: this.setQuery,\n    })\n  }\n}\n","import React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function SearchResultPost({ post }) {\n  return (\n    <ListGroupItem className=\"search-result\">\n      <a href={post.url.index}>\n        <div className=\"search-result-card\">\n          <div className=\"search-result-name\">{post.thread.title}</div>\n          <div\n            className=\"search-result-summary\"\n            dangerouslySetInnerHTML={{ __html: post.headline || post.content }}\n          />\n          <ul className=\"search-result-details\">\n            <li>\n              <b>{post.category.name}</b>\n            </li>\n            <li>{post.poster ? post.poster.username : post.poster_name}</li>\n            <li>\n              <Timestamp datetime={post.posted_on} />\n            </li>\n          </ul>\n        </div>\n      </a>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport Timestamp from \"../Timestamp\"\n\nexport default function SearchResultUser({ user }) {\n  const title = user.title || user.rank.title\n\n  return (\n    <ListGroupItem className=\"search-result\">\n      <a href={user.url}>\n        <Avatar user={user} size={32} />\n        <div className=\"search-result-card\">\n          <div className=\"search-result-name\">{user.username}</div>\n          <ul className=\"search-result-details\">\n            {!!title && (\n              <li>\n                <b>{title}</b>\n              </li>\n            )}\n            <li>{user.rank.name}</li>\n            <li>\n              <Timestamp datetime={user.joined_on} />\n            </li>\n          </ul>\n        </div>\n      </a>\n    </ListGroupItem>\n  )\n}\n","import React from \"react\"\nimport { ListGroupItem } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\nimport SearchResultPost from \"./SearchResultPost\"\nimport SearchResultUser from \"./SearchResultUser\"\n\nexport default function SearchResults({ query, results }) {\n  const threads = results[0]\n  const users = results[1]\n\n  const { count } = threads.results\n\n  return (\n    <SearchResultsList>\n      {users.results.results.map((user) => (\n        <SearchResultUser key={user.id} user={user} />\n      ))}\n      {threads.results.results.map((post) => (\n        <SearchResultPost key={post.id} post={post} />\n      ))}\n      {count > 0 && (\n        <ListGroupItem>\n          <a\n            href={threads.url + \"?q=\" + encodeURIComponent(query)}\n            className=\"btn btn-default btn-block\"\n          >\n            {npgettext(\n              \"search results list\",\n              \"See all %(count)s result.\",\n              \"See all %(count)s results.\",\n              threads.results.count\n            ).replace(\"%(count)s\", threads.results.count)}\n          </a>\n        </ListGroupItem>\n      )}\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { ListGroupEmpty } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsEmpty() {\n  return (\n    <SearchResultsList>\n      <ListGroupEmpty\n        message={pgettext(\"search results\", \"The search returned no results.\")}\n      />\n    </SearchResultsList>\n  )\n}\n","import React from \"react\"\nimport { ListGroupError } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsError({ error }) {\n  return (\n    <SearchResultsList>\n      <ListGroupError\n        message={pgettext(\n          \"search results\",\n          \"The search could not be completed.\"\n        )}\n        detail={errorDetail(error)}\n      />\n    </SearchResultsList>\n  )\n}\n\nfunction errorDetail(error) {\n  if (error.status === 0) {\n    return gettext(\n      \"Check your internet connection and try refreshing the site.\"\n    )\n  }\n\n  if (error.data && error.data.detail) {\n    return error.data.detail\n  }\n}\n","import React from \"react\"\nimport { ListGroup } from \"../ListGroup\"\n\nexport default function SearchResultsList({ children }) {\n  return <ListGroup className=\"search-results-list\">{children}</ListGroup>\n}\n","import React from \"react\"\nimport { ListGroupLoading } from \"../ListGroup\"\nimport SearchResultsList from \"./SearchResultsList\"\n\nexport default function SearchResultsLoading() {\n  return (\n    <SearchResultsList>\n      <ListGroupLoading message={pgettext(\"search results\", \"Searching...\")} />\n    </SearchResultsList>\n  )\n}\n","import SearchDropdown from \"./SearchDropdown\"\nimport SearchOverlay from \"./SearchOverlay\"\n\nexport { SearchDropdown, SearchOverlay }\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map((item) => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = (value) => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value,\n        },\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: [],\n      },\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(pgettext(\"sign in modal\", \"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"next\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true,\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {pgettext(\"sign in modal btn\", \"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"sign in modal title\", \"Sign in\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={pgettext(\"sign in modal\", \"Sign in with %(site)s\")}\n                formLabel={pgettext(\n                  \"sign in modal\",\n                  \"Or use your forum account:\"\n                )}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={pgettext(\n                      \"sign in modal field\",\n                      \"Username or e-mail\"\n                    )}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={pgettext(\"sign in modal field\", \"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {pgettext(\"sign in modal btn\", \"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {pgettext(\"sign in modal btn\", \"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\",\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = pgettext(\n      \"account activation required\",\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = pgettext(\n      \"account activation required\",\n      \"%(username)s, your account has been created but the site administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = pgettext(\n      \"social auth complete\",\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-auth-register\">\n      <Header backendName={backend_name} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {pgettext(\n                    \"social auth complete title\",\n                    \"Registration completed!\"\n                  )}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {pgettext(\n                        \"social auth complete link\",\n                        \"Return to forum index\"\n                      )}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = pgettext(\"social auth title\", \"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <PageHeaderContainer>\n      <PageHeader styleName=\"social-auth\">\n        <PageHeaderBanner styleName=\"social-auth\">\n          <h1>{pageTitle}</h1>\n        </PageHeaderBanner>\n      </PageHeader>\n    </PageHeaderContainer>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\",\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()],\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(pgettext(\"social auth form\", \"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = pgettext(\n        \"social auth form\",\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-auth-register\">\n        <Header backendName={backend_name} />\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {pgettext(\n                        \"social auth form title\",\n                        \"Complete your account\"\n                      )}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={pgettext(\"social auth form field\", \"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={pgettext(\n                        \"social auth form field\",\n                        \"E-mail address\"\n                      )}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {pgettext(\"social auth form btn\", \"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../../FlexRow\"\nimport ThreadFlags from \"../../ThreadFlags\"\nimport ThreadReplies from \"../../ThreadReplies\"\nimport ThreadStarterCard from \"../../ThreadStarterCard\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../../PageHeader\"\nimport ThreadModeration from \"../ThreadModeration\"\nimport ThreadWatchButton from \"../ThreadWatchButton\"\nimport ThreadHeaderBreadcrumbs from \"./ThreadHeaderBreadcrumbs\"\n\nconst ThreadHeader = ({ styleName, thread, posts, user, moderation }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <ThreadHeaderBreadcrumbs breadcrumbs={thread.path} />\n        <h1>{thread.title}</h1>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"page-header-thread-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol shrink>\n              <ThreadStarterCard thread={thread} />\n            </FlexRowCol>\n            <FlexRowCol auto />\n            {thread.replies > 0 && (\n              <FlexRowCol shrink>\n                <ThreadReplies thread={thread} />\n              </FlexRowCol>\n            )}\n            {hasFlags(thread) && (\n              <FlexRowCol shrink>\n                <ThreadFlags thread={thread} />\n              </FlexRowCol>\n            )}\n          </FlexRowSection>\n          {user.is_authenticated && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <ThreadWatchButton thread={thread} />\n              </FlexRowCol>\n              {moderation.enabled && (\n                <FlexRowCol shrink>\n                  <ThreadModeration\n                    thread={thread}\n                    posts={posts}\n                    moderation={moderation}\n                  />\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst hasFlags = (thread) => {\n  return (\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n  )\n}\n\nexport default ThreadHeader\n","import React from \"react\"\nimport {\n  Breadcrumbs,\n  BreadcrumbsCategory,\n  BreadcrumbsRootCategory,\n} from \"../../Breadcrumbs\"\n\nconst ThreadHeaderBreadcrumbs = ({ breadcrumbs }) => (\n  <Breadcrumbs>\n    {breadcrumbs.map((category) =>\n      category.special_role ? (\n        <BreadcrumbsRootCategory key={category.id} category={category} />\n      ) : (\n        <BreadcrumbsCategory key={category.id} category={category} />\n      )\n    )}\n  </Breadcrumbs>\n)\n\nexport default ThreadHeaderBreadcrumbs\n","import ThreadHeader from \"./ThreadHeader\"\n\nexport default ThreadHeader\n","import React from \"react\"\nimport ThreadModerationOptions from \"./moderation/thread\"\n\nconst ThreadModeration = ({ thread, posts, moderation }) => (\n  <div className=\"dropdown\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={pgettext(\"thread options btn\", \"Thread options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={thread.isBusy}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadModerationOptions\n      thread={thread}\n      posts={posts}\n      moderation={moderation}\n    />\n  </div>\n)\n\nexport default ThreadModeration\n","import React from \"react\"\nimport { Link, withRouter } from \"react-router\"\nimport { Dropdown } from \"../Dropdown\"\n\nconst ThreadPaginator = ({ router, baseUrl, posts, scrollToTop }) => (\n  <div className=\"thread-paginator\">\n    {posts.isLoaded && posts.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={pgettext(\"paginator\", \"Go to first page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (posts.previous > 1 ? posts.previous + \"/\" : \"\")}\n        title={pgettext(\"paginator\", \"Go to previous page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    <Dropdown\n      toggle={({ aria, toggle }) => (\n        <button\n          {...aria}\n          className=\"btn btn-default btn-block btn-outline\"\n          type=\"button\"\n          disabled={!posts.isLoaded}\n          onClick={toggle}\n        >\n          {getLabel(posts.page, posts.pages)}\n        </button>\n      )}\n      onOpen={(dropdown) => {\n        dropdown.querySelector(\"input\").focus()\n      }}\n    >\n      {({ close }) => (\n        <form\n          className=\"thread-paginator-form\"\n          onSubmit={(event) => {\n            if (posts.isLoaded) {\n              const formData = new FormData(event.target)\n              const page = parseInt(formData.get(\"page\"))\n\n              if (\n                page &&\n                page != posts.page &&\n                page >= 1 &&\n                page <= posts.pages\n              ) {\n                const url = page > 1 ? baseUrl + page + \"/\" : baseUrl\n                router.push({ pathname: url })\n              }\n            }\n\n            event.preventDefault()\n            close()\n\n            if (scrollToTop) {\n              resetScroll()\n            }\n          }}\n        >\n          <input\n            className=\"form-control\"\n            name=\"page\"\n            type=\"number\"\n            min={1}\n            max={posts.pages}\n            placeholder={pgettext(\"paginator input\", \"Page\")}\n            disabled={!posts.isLoaded}\n          />\n          <button\n            className=\"btn btn-primary\"\n            type=\"submit\"\n            disabled={!posts.isLoaded}\n          >\n            {pgettext(\"paginator\", \"Go\")}\n          </button>\n        </form>\n      )}\n    </Dropdown>\n    {posts.isLoaded && posts.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.next + \"/\"}\n        title={pgettext(\"paginator\", \"Go to next page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.last + \"/\"}\n        title={pgettext(\"paginator\", \"Go to last page\")}\n        onClick={scrollToTop ? resetScroll : null}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"paginator\", \"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nfunction getLabel(page, pages) {\n  return pgettext(\"paginator\", \"Page %(page)s of %(pages)s\")\n    .replace(\"%(page)s\", page)\n    .replace(\"%(pages)s\", pages)\n}\n\nfunction resetScroll() {\n  window.scrollTo(0, 0)\n}\n\nconst ThreadPaginatorConnected = withRouter(ThreadPaginator)\n\nexport default ThreadPaginatorConnected\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ThreadPollButton = ({ compact, disabled, onClick }) => (\n  <button\n    className={classnames(\"btn btn-default btn-outline\", {\n      \"btn-block\": !compact,\n      \"btn-icon\": compact,\n    })}\n    type=\"button\"\n    title={compact ? pgettext(\"thread poll btn\", \"Add poll\") : null}\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">poll</span>\n    {!compact && pgettext(\"thread poll btn\", \"Add poll\")}\n  </button>\n)\n\nexport default ThreadPollButton\n","import React from \"react\"\nimport { ThreadPostsModerationOptions } from \"./moderation/posts\"\n\nconst ThreadPostsModeration = ({ thread, user, selection, dropup }) => (\n  <div className={dropup ? \"dropup\" : \"dropdown\"}>\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={pgettext(\"post options btn\", \"Posts options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={selection.length === 0}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadPostsModerationOptions\n      thread={thread}\n      user={user}\n      selection={selection}\n    />\n  </div>\n)\n\nexport default ThreadPostsModeration\n","import React from \"react\"\n\nconst ThreadReplyButton = ({ onClick }) => (\n  <button\n    className=\"btn btn-primary btn-outline btn-block\"\n    type=\"button\"\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">chat</span>\n    {pgettext(\"thread reply btn\", \"Reply\")}\n  </button>\n)\n\nexport default ThreadReplyButton\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadShortcutsButton = ({ user, thread, posts }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-icon\"\n      title={pgettext(\"thread shortcuts btn\", \"Shortcuts\")}\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">bookmark</span>\n    </button>\n    <ul className=\"dropdown-menu\">\n      {!!posts.first && (\n        <li>\n          <Link className=\"btn btn-link\" href={thread.url.index}>\n            <span className=\"material-icon\">place</span>\n            {pgettext(\"thread shortcut btn\", \"Go to first post\")}\n          </Link>\n        </li>\n      )}\n      {user.is_authenticated && thread.is_new && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\n            <span className=\"material-icon\">comment</span>\n            {pgettext(\"thread shortcut btn\", \"Go to new post\")}\n          </a>\n        </li>\n      )}\n      {thread.best_answer && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\n            <span className=\"material-icon\">check_circle</span>\n            {pgettext(\"thread shortcut btn\", \"Go to best answer\")}\n          </a>\n        </li>\n      )}\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\n            <span className=\"material-icon\">visibility</span>\n            {pgettext(\"thread shortcut btn\", \"Go to unapproved post\")}\n          </a>\n        </li>\n      )}\n      <li>\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\n          <span className=\"material-icon\">reply</span>\n          {pgettext(\"thread shortcut btn\", \"Go to last post\")}\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadShortcutsButton\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPaginator from \"./ThreadPaginator\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadWatchButton from \"./ThreadWatchButton\"\n\nconst ThreadToolbarBottom = ({\n  thread,\n  posts,\n  user,\n  selection,\n  moderation,\n  onReply,\n}) => (\n  <Toolbar>\n    {posts.pages > 1 && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadPaginator\n            baseUrl={thread.url.index}\n            posts={posts}\n            scrollToTop\n          />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    <ToolbarSpacer />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-xs\">\n          <ThreadWatchButton thread={thread} dropup />\n        </ToolbarItem>\n        {thread.acl.can_reply && (\n          <ToolbarItem>\n            <ThreadReplyButton onClick={onReply} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n              dropup\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {user.is_authenticated && (\n      <ToolbarSection className=\"hidden-sm hidden-md hidden-lg\">\n        <ToolbarItem>\n          <ThreadWatchButton thread={thread} dropup />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarBottom\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\n\nconst ThreadToolbarThird = () => (\n  <Toolbar className=\"thread-toolbar-third\">\n    <ToolbarSpacer />\n    <ToolbarSection>\n      <ToolbarItem>\n        <button\n          className=\"btn btn-muted btn-block\"\n          type=\"button\"\n          onClick={() => window.scrollTo(0, 0)}\n        >\n          <span className=\"material-icon\">arrow_upward</span>\n          {pgettext(\"go up\", \"Go to top\")}\n        </button>\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default ThreadToolbarThird\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPaginator from \"./ThreadPaginator\"\nimport ThreadPollButton from \"./ThreadPollButton\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\n\nconst ThreadToolbarTop = ({\n  thread,\n  posts,\n  user,\n  pollDisabled,\n  selection,\n  moderation,\n  onPoll,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection className=\"hidden-xs\">\n      <ToolbarItem>\n        <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n      </ToolbarItem>\n      {posts.pages > 1 && (\n        <ToolbarItem>\n          <ThreadPaginator baseUrl={thread.url.index} posts={posts} />\n        </ToolbarItem>\n      )}\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {thread.acl.can_start_poll && !thread.poll && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_reply ? (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n        </ToolbarItem>\n        <ToolbarItem>\n          <ThreadReplyButton onClick={onReply} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n            <ThreadPollButton\n              disabled={pollDisabled}\n              onClick={onPoll}\n              compact\n            />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    ) : (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton posts={posts} thread={thread} user={user} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem>\n            <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {posts.pages > 1 && (\n      <ToolbarSection className=\"hidden-sm hidden-md hidden-lg\">\n        <ToolbarItem>\n          <ThreadPaginator baseUrl={thread.url.index} posts={posts} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarTop\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport { update } from \"../../reducers/thread\"\nimport snackbar from \"../../services/snackbar\"\nimport { ApiMutation } from \"../Api\"\nimport { DropdownSubheader } from \"../Dropdown\"\n\nconst ThreadWatchButton = ({ dispatch, dropup, stickToBottom, thread }) => (\n  <ApiMutation url={thread.api.watch}>\n    {(mutate, { loading }) => {\n      function setNotifications(notifications) {\n        if (thread.notifications !== notifications) {\n          dispatch(update({ notifications }))\n          mutate({\n            json: { notifications },\n            onError: (error) => {\n              snackbar.apiError(error)\n              dispatch(update({ notifications: thread.notifications }))\n            },\n          })\n        }\n      }\n\n      return (\n        <div className={dropup ? \"dropup\" : \"dropdown\"}>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            aria-expanded=\"true\"\n            aria-haspopup=\"true\"\n            data-toggle=\"dropdown\"\n            type=\"button\"\n          >\n            <span className=\"material-icon\">\n              {getIcon(thread.notifications)}\n            </span>\n            {getLabel(thread.notifications)}\n          </button>\n          <ul\n            className={classnames(\"dropdown-menu dropdown-menu-right\", {\n              \"stick-to-bottom\": stickToBottom,\n            })}\n          >\n            <DropdownSubheader>\n              {pgettext(\"watch thread\", \"Notify about new replies\")}\n            </DropdownSubheader>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(2)}\n              >\n                <span className=\"material-icon\">mail</span>\n                {pgettext(\"watch thread\", \"On site and with e-mail\")}\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(1)}\n              >\n                <span className=\"material-icon\">notifications_active</span>\n                {pgettext(\"watch thread\", \"On site only\")}\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"btn btn-link\"\n                disabled={loading}\n                onClick={() => setNotifications(0)}\n              >\n                <span className=\"material-icon\">notifications_none</span>\n                {pgettext(\"watch thread\", \"Don't notify\")}\n              </button>\n            </li>\n          </ul>\n        </div>\n      )\n    }}\n  </ApiMutation>\n)\n\nfunction getIcon(notifications) {\n  if (notifications === 2) return \"mail\"\n  if (notifications === 1) return \"notifications_active\"\n\n  return \"notifications_none\"\n}\n\nfunction getLabel(notifications) {\n  if (notifications) {\n    return pgettext(\"watch thread\", \"Watching\")\n  }\n\n  return pgettext(\"watch thread\", \"Watch\")\n}\n\nconst ThreadWatchButtonConnected = connect()(ThreadWatchButton)\n\nexport default ThreadWatchButtonConnected\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: true,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach((item) => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map((post) => {\n      return post.id\n    }),\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    (data) => {\n      data.forEach((item) => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    (rejection) => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach((item) => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach((item) => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach((item) => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach((item) => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"merge posts\",\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map((post) => post.id),\n    })\n    .then(\n      (data) => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map((selection) => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false,\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    pgettext(\n      \"delete posts\",\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  const ids = props.selection.map((post) => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map((selection) => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false,\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {pgettext(\"thread posts moderation\", \"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find((post) => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {pgettext(\"thread posts moderation\", \"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {pgettext(\"thread posts moderation\", \"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {pgettext(\"thread posts moderation\", \"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {pgettext(\"thread posts moderation\", \"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {pgettext(\"thread posts moderation\", \"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {pgettext(\"thread posts moderation\", \"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {pgettext(\"thread posts moderation\", \"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {pgettext(\"thread posts moderation\", \"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"thread posts moderation modal title\", \"Moderation\")}\n          </h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {pgettext(\n              \"thread posts moderation modal\",\n              \"One or more posts could not be changed:\"\n            )}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map((post) => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    pgettext(\"thread posts moderation modal\", \"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name,\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import ThreadPostsModerationOptions from \"./dropdown\"\n\nexport { ThreadPostsModerationOptions }\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"thread posts moderation move\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"thread posts moderation move\",\n        \"Selected posts were moved to the other thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"thread posts moderation move\",\n                  \"Link to thread you want to move posts to\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread posts moderation move btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {pgettext(\"thread posts moderation move btn\", \"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread posts moderation move title\", \"Move posts\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: pgettext(\"thread hidden switch choice\", \"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: pgettext(\"thread hidden switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: pgettext(\"thread closed switch choice\", \"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: pgettext(\"thread closed switch choice\", \"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(\n      pgettext(\n        \"posts moderation split\",\n        \"Selected posts were split into new thread.\"\n      )\n    )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: pgettext(\"thread weight choice\", \"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: pgettext(\"thread weight choice\", \"Pinned in category\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: pgettext(\"thread weight choice\", \"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={pgettext(\"posts moderation split field\", \"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={pgettext(\"posts moderation split field\", \"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={pgettext(\"posts moderation split field\", \"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {pgettext(\"posts moderation split btn\", \"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {pgettext(\"posts moderation split btn\", \"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {pgettext(\n            \"posts moderation split\",\n            \"You can't move selected posts at the moment.\"\n          )}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {pgettext(\"posts moderation split dismiss btn\", \"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\n              \"posts moderation split title\",\n              \"Split posts into new thread\"\n            )}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: getTitleValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(\n        pgettext(\"thread title form\", \"You have to enter thread title.\")\n      )\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"title\", value: this.state.title },\n    ])\n  }\n\n  handleSuccess = (data) => {\n    this.handleSuccessUnmounted(data)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    modal.hide()\n  }\n\n  handleSuccessUnmounted = (data) => {\n    store.dispatch(thread.release())\n    store.dispatch(thread.update(data))\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_modal_title\"\n                label={pgettext(\"thread title form field\", \"Thread title\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_modal_title\"\n                  onChange={this.onChange}\n                  value={this.state.title}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread title form btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {pgettext(\"thread title form btn\", \"Change title\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread title form title\", \"Change title\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ThreadChangeTitleModal from \"./ThreadChangeTitleModal\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      (data) => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  changeTitle = () => {\n    modal.show(<ThreadChangeTitleModal thread={this.props.thread} />)\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been pinned in category.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      pgettext(\"thread moderation\", \"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(\n        pgettext(\n          \"thread moderation\",\n          \"Are you sure you want to delete this thread?\"\n        )\n      )\n    ) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      (data) => {\n        snackbar.success(\n          pgettext(\"thread moderation\", \"Thread has been deleted.\")\n        )\n        window.location = this.props.thread.category.url.index\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {!!moderation.edit && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.changeTitle}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">edit</span>\n              {pgettext(\"thread moderation btn\", \"Change title\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinGlobally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinGlobally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {pgettext(\"thread moderation btn\", \"Pin globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinLocally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinLocally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {pgettext(\"thread moderation btn\", \"Pin in category\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unpin && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {pgettext(\"thread moderation btn\", \"Unpin\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.move && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n              <span className=\"material-icon\">arrow_forward</span>\n              {pgettext(\"thread moderation btn\", \"Move\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.merge && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n              <span className=\"material-icon\">call_merge</span>\n              {pgettext(\"thread moderation btn\", \"Merge\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.approve}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">done</span>\n              {pgettext(\"thread moderation btn\", \"Approve\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.open && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n              <span className=\"material-icon\">lock_open</span>\n              {pgettext(\"thread moderation btn\", \"Open\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.close && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n              <span className=\"material-icon\">lock_outline</span>\n              {pgettext(\"thread moderation btn\", \"Close\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.unhide}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">visibility</span>\n              {pgettext(\"thread moderation btn\", \"Unhide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.hide && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n              <span className=\"material-icon\">visibility_off</span>\n              {pgettext(\"thread moderation btn\", \"Hide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.delete}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">clear</span>\n              {pgettext(\"thread moderation btn\", \"Delete\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import ThreadModerationOptions from \"./controls\"\n\nexport default ThreadModerationOptions\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(\n        pgettext(\n          \"thread merge form\",\n          \"You have to enter link to the other thread.\"\n        )\n      )\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url,\n    })\n  }\n\n  handleSuccess = (success) => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleSuccessUnmounted = (success) => {\n    snackbar.success(\n      pgettext(\"thread merge form\", \"Thread has been merged with other one.\")\n    )\n    window.location = success.url\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={pgettext(\n                  \"thread merge form field\",\n                  \"Link to thread you want to merge with\"\n                )}\n                help_text={pgettext(\n                  \"thread merge form field\",\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {pgettext(\"thread merge form btn\", \"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {pgettext(\"thread merge form btn\", \"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread merge form title\", \"Merge thread\")}\n      </h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category },\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        (data) => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(\n            pgettext(\"thread move form\", \"Thread has been moved.\")\n          )\n          modal.hide()\n        },\n        (rejection) => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (event) => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup\n                  for=\"id_category\"\n                  label={pgettext(\"thread move form field\", \"New category\")}\n                >\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {pgettext(\"thread move form btn\", \"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {pgettext(\"thread move form btn\", \"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">\n        {pgettext(\"thread move form title\", \"Move thread\")}\n      </h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {pgettext(\n              \"thread move form\",\n              \"You can't move this thread at the moment.\"\n            )}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"thread move form dismiss btn\", \"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user,\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route),\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route),\n    },\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll, PollForm } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { PostingQuoteSelection } from \"../posting\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadHeader from \"./ThreadHeader\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarThird from \"./ThreadToolbarThird\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editPoll: false,\n    }\n  }\n\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1,\n        },\n        \"posts\"\n      )\n      .then(\n        (data) => {\n          this.update(data)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1,\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true,\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    this.setState({ editPoll: true })\n  }\n\n  closePollForm = () => {\n    this.setState({ editPoll: false })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    const category = this.props.thread.category\n\n    let className = \"page page-thread\"\n    if (category.css_class) {\n      className += \" page-thread-\" + category.css_class\n    }\n\n    const styleName =\n      category.special_role === \"private_threads\"\n        ? \"private-threads\"\n        : category.css_class || \"category-threads\"\n\n    const threadModeration = getThreadModeration(\n      this.props.thread,\n      this.props.user\n    )\n\n    const postsModeration = getPostsModeration(\n      this.props.posts.results,\n      this.props.user\n    )\n    const selection = this.props.posts.results.filter((post) => post.isSelected)\n\n    return (\n      <div className={className}>\n        <ThreadHeader\n          styleName={styleName}\n          thread={this.props.thread}\n          posts={this.props.posts}\n          user={this.props.user}\n          moderation={threadModeration}\n        />\n        <PageContainer>\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            pollDisabled={this.state.editPoll}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          {this.state.editPoll ? (\n            <PollForm\n              poll={this.props.poll}\n              thread={this.props.thread}\n              close={this.closePollForm}\n            />\n          ) : (\n            <Poll\n              poll={this.props.poll}\n              thread={this.props.thread}\n              user={this.props.user}\n              edit={this.openPollForm}\n            />\n          )}\n          {this.props.thread.acl.can_reply ? (\n            <PostingQuoteSelection\n              posting={{\n                mode: \"REPLY\",\n\n                thread: this.props.thread,\n                config: this.props.thread.api.editor,\n                submit: this.props.thread.api.posts.index,\n              }}\n            >\n              <PostsList {...this.props} />\n            </PostingQuoteSelection>\n          ) : (\n            <PostsList {...this.props} />\n          )}\n          <ThreadToolbarBottom\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n          <ThreadToolbarThird />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getThreadModeration = (thread, user) => {\n  const moderation = {\n    enabled: false,\n    edit: false,\n    approve: false,\n    close: false,\n    open: false,\n    hide: false,\n    unhide: false,\n    move: false,\n    merge: false,\n    pinGlobally: false,\n    pinLocally: false,\n    unpin: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  moderation.edit = thread.acl.can_edit\n  moderation.approve = thread.acl.can_approve && thread.is_unapproved\n  moderation.close = thread.acl.can_close && !thread.is_closed\n  moderation.open = thread.acl.can_close && thread.is_closed\n  moderation.hide = thread.acl.can_hide && !thread.is_hidden\n  moderation.unhide = thread.acl.can_unhide && thread.is_hidden\n  moderation.move = thread.acl.can_move\n  moderation.merge = thread.acl.can_merge\n  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2\n  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1\n  moderation.unpin =\n    (thread.acl.can_pin && thread.weight === 1) ||\n    (thread.acl.can_pin_globally && thread.weight === 2)\n  moderation.delete = thread.acl.can_delete\n\n  moderation.enabled =\n    moderation.edit ||\n    moderation.approve ||\n    moderation.close ||\n    moderation.open ||\n    moderation.hide ||\n    moderation.unhide ||\n    moderation.move ||\n    moderation.merge ||\n    moderation.pinGlobally ||\n    moderation.pinLocally ||\n    moderation.unpin ||\n    moderation.delete\n\n  return moderation\n}\n\nconst getPostsModeration = (posts, user) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach((post) => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (\n        moderation.approve ||\n        moderation.move ||\n        moderation.merge ||\n        moderation.protect ||\n        moderation.hide ||\n        moderation.delete\n      ) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return pgettext(\"user status\", \"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return pgettext(\"user status\", \"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return pgettext(\"user status\", \"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return pgettext(\"user status\", \"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return pgettext(\"user status\", \"Online\")\n    } else if (this.props.status.is_offline) {\n      return pgettext(\"user status\", \"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        pgettext(\"user status\", \"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\"),\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        pgettext(\"user status\", \"%(username)s is banned\"),\n        {\n          username: user.username,\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is hiding presence\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is online (hidden)\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      pgettext(\n        \"user status\",\n        \"%(username)s was last seen %(last_click)s (hidden)\"\n      ),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s is online\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      pgettext(\"user status\", \"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return pgettext(\n        \"username history empty\",\n        \"Your account has no history of name changes.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map((i) => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map((change) => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function ({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    pgettext(\"users list item\", \"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  let message = interpolate(\n    pgettext(\"users list item\", \"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow(),\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = npgettext(\n    \"users list item\",\n    \"%(posts)s post\",\n    \"%(posts)s posts\",\n    user.posts\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = npgettext(\n    \"users list item\",\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = npgettext(\n    \"users list item\",\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function ({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map((user) => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map((i) => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst UsersNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">menu</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => {\n          const url = getPageUrl(baseUrl, page)\n          return (\n            <li key={url}>\n              <Link to={url}>{page.name}</Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => {\n        const url = getPageUrl(baseUrl, page)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{page.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  </div>\n)\n\nconst getPageUrl = (baseUrl, page) => {\n  let url = baseUrl\n  if (page.component === \"rank\") {\n    url += page.slug\n  } else {\n    url += page.component\n  }\n  return url + \"/\"\n}\n\nexport default UsersNav\n","import React from \"react\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      npgettext(\n        \"top posters empty\",\n        \"No users have posted any new messages during last %(days)s day.\",\n        \"No users have posted any new messages during last %(days)s days.\",\n        this.props.trackedPeriod\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{pgettext(\"top posters list item\", \"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{pgettext(\"top posters list item\", \"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{pgettext(\"top posters list item\", \"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{pgettext(\"top posters list item\", \"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map((i) => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = npgettext(\n      \"top posters list\",\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\",\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: pgettext(\"users page title\", \"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    const page = { name: this.props.route.extra.name }\n\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            page={page}\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return (\n          <ListEmpty page={page} trackedPeriod={this.state.trackedPeriod} />\n        )\n      }\n    } else {\n      return <ListPreview page={page} />\n    }\n  }\n}\n","import React from \"react\"\n\nconst RankUsersLeft = ({ users }) => {\n  if (users.more) {\n    return (\n      <p>\n        {interpolate(\n          npgettext(\n            \"rank users list\",\n            \"There is %(more)s more user with this rank.\",\n            \"There are %(more)s more users with this rank.\",\n            users.more\n          ),\n          { more: users.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return (\n    <p>\n      {pgettext(\n        \"rank users list empty\",\n        \"There are no more users with this rank.\"\n      )}\n    </p>\n  )\n}\n\nexport default RankUsersLeft\n","import React from \"react\"\nimport UsersList from \"../../users-list\"\n\nconst RankUsersList = ({ users }) => (\n  <UsersList cols={4} isReady={true} showStatus={true} users={users} />\n)\n\nexport default RankUsersList\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nclass RankUsersListLoader extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render = () => <UsersList cols={4} isReady={false} />\n}\n\nexport default RankUsersListLoader\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst RankUsersPagination = ({ baseUrl, users }) => (\n  <div className=\"misago-pagination\">\n    {users.isLoaded && users.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={pgettext(\"rank users list paginator\", \"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {users.isLoaded && users.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (users.previous > 1 ? users.previous + \"/\" : \"\")}\n        title={pgettext(\"rank users list paginator\", \"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {users.isLoaded && users.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.next + \"/\"}\n        title={pgettext(\"rank users list paginator\", \"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {users.isLoaded && users.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.last + \"/\"}\n        title={pgettext(\"rank users list paginator\", \"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"rank users list paginator\", \"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default RankUsersPagination\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\nimport RankUsersLeft from \"./RankUsersLeft\"\nimport RankUsersPagination from \"./RankUsersPagination\"\n\nconst RankUsersToolbar = ({ baseUrl, users }) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <RankUsersPagination baseUrl={baseUrl} users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSection auto>\n      <ToolbarItem>\n        <RankUsersLeft users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default RankUsersToolbar\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../../PageContainer\"\nimport RankUsersList from \"./RankUsersList\"\nimport RankUsersListLoader from \"./RankUsersListLoader\"\nimport RankUsersToolbar from \"./RankUsersToolbar\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true,\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page,\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: pgettext(\"users page title\", \"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: pgettext(\"users page title\", \"Users\"),\n      })\n\n      this.setState({\n        isLoaded: false,\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return <RankUsersList users={this.props.users} />\n      } else {\n        return (\n          <p className=\"lead\">\n            {pgettext(\n              \"rank users list\",\n              \"There are no users with this rank at the moment.\"\n            )}\n          </p>\n        )\n      }\n    } else {\n      return <RankUsersListLoader />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={{ name: this.props.route.rank.name }}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          {this.getRankDescription()}\n          {this.getComponent()}\n          <RankUsersToolbar\n            baseUrl={\n              misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n            }\n            users={this.state}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"users-lists\">\n            <PageHeaderBanner styleName=\"users-lists\">\n              <h1>{pgettext(\"users page title\", \"Users\")}</h1>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function (item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name,\n        },\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false,\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown,\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false,\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || pgettext(\"yesno switch choice\", \"yes\")\n    } else {\n      return this.props.labelOff || pgettext(\"yesno switch choice\", \"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value,\n      },\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","export const CSRF_FIELD_NAME = \"csrfmiddlewaretoken\"\n\nexport function getCSRFToken() {\n  const element = document.querySelector(\n    'input[name=\"' + CSRF_FIELD_NAME + '\"]'\n  )\n\n  if (element) {\n    return element.value\n  }\n\n  return null\n}\n\nexport function appendCSRFTokenToForm(form) {\n  form.append(CSRF_FIELD_NAME, getCSRFToken())\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      (data) => {\n        dispatch(load(data))\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import htmx from \"htmx.org\"\nimport { Mention } from \"../Autocomplete\"\nimport * as animations from \"../animations\"\nimport MarkupEditorUploader from \"./uploader\"\nimport {\n  MarkupEditorCodeModal,\n  MarkupEditorImageModal,\n  MarkupEditorLinkModal,\n  MarkupEditorQuoteModal,\n} from \"./modals\"\n\nclass MarkupEditor {\n  constructor() {\n    this.actions = {}\n\n    this.codeModal = new MarkupEditorCodeModal()\n    this.linkModal = new MarkupEditorLinkModal()\n    this.imageModal = new MarkupEditorImageModal()\n    this.quoteModal = new MarkupEditorQuoteModal()\n\n    this.mentions = {}\n\n    this.resizeDebounce = null\n\n    window.addEventListener(\"resize\", (event) => {\n      if (this.resizeDebounce) {\n        window.clearTimeout(this.resizeDebounce)\n      }\n\n      this.resizeDebounce = window.setTimeout(this._onWindowResize, 200)\n    })\n  }\n\n  _onWindowResize = () => {\n    document\n      .querySelectorAll(\"[misago-editor-active]\")\n      .forEach(this._resizeEditor)\n  }\n\n  _resizeEditor = (element) => {\n    const constraints = this._getResizeConstraints(element)\n    const firstToolbar = element.querySelector(\".markup-editor-toolbar-left\")\n    const secondToolbar = element.querySelector(\n      \".markup-editor-toolbar-secondary\"\n    )\n    const moreBtn = element.querySelector(\"[misago-editor-more]\")\n\n    let takenSpace = 0\n    const items = []\n    for (let i = 0; i < firstToolbar.children.length; i++) {\n      const child = firstToolbar.children[i]\n      if (child.getAttribute(\"misago-editor-more\") !== \"true\") {\n        items.push({\n          index: i,\n          priority: parseInt(child.getAttribute(\"misago-editor-priority\") || 0),\n          display: true,\n        })\n\n        if (child.clientWidth) {\n          takenSpace += constraints.btn\n        }\n      }\n    }\n\n    if (takenSpace > constraints.toolbar) {\n      const limit = constraints.toolbar - constraints.btn\n      items.sort((a, b) => {\n        if (a.priority > b.priority) {\n          return 1\n        } else if (a.priority < b.priority) {\n          return -1\n        }\n        return 0\n      })\n\n      items.forEach((item) => {\n        if (takenSpace > limit) {\n          firstToolbar.children[item.index].classList.add(\"d-none\")\n          secondToolbar.children[item.index].classList.remove(\"d-none\")\n          item.display = false\n          takenSpace -= constraints.btn\n        } else {\n          firstToolbar.children[item.index].classList.remove(\"d-none\")\n          secondToolbar.children[item.index].classList.add(\"d-none\")\n          item.display = true\n        }\n      })\n    } else if (takenSpace + constraints.btn < constraints.toolbar) {\n      takenSpace = 0\n      const limit = constraints.toolbar\n      items.sort((a, b) => {\n        if (a.priority > b.priority) {\n          return -1\n        } else if (a.priority < b.priority) {\n          return 1\n        }\n        return 0\n      })\n\n      items.forEach((item) => {\n        if (takenSpace + constraints.btn < limit) {\n          firstToolbar.children[item.index].classList.remove(\"d-none\")\n          secondToolbar.children[item.index].classList.add(\"d-none\")\n          item.display = true\n          takenSpace += constraints.btn\n        } else {\n          firstToolbar.children[item.index].classList.add(\"d-none\")\n          secondToolbar.children[item.index].classList.remove(\"d-none\")\n          item.display = false\n        }\n      })\n    }\n\n    if (items.filter((item) => !item.display).length === 0) {\n      moreBtn.classList.add(\"d-none\")\n      secondToolbar.classList.remove(\"show\")\n    } else {\n      moreBtn.classList.remove(\"d-none\")\n    }\n  }\n\n  _getResizeConstraints = (element) => {\n    const toolbar = element.querySelector(\".markup-editor-toolbar-left\")\n\n    let btnWidth = 0\n    toolbar.querySelectorAll(\"button\").forEach((child) => {\n      let childWidth = child.clientWidth\n      const childStyle = window.getComputedStyle(child)\n      childWidth += parseInt(parseFloat(childStyle.borderLeftWidth))\n      childWidth += parseInt(parseFloat(childStyle.borderRightWidth))\n      childWidth += parseInt(parseFloat(childStyle.marginLeft))\n      childWidth += parseInt(parseFloat(childStyle.marginRight))\n\n      if (childWidth > btnWidth) {\n        btnWidth = childWidth\n      }\n    })\n\n    const toolbarWidth = toolbar.parentElement.clientWidth - btnWidth\n\n    return {\n      btn: btnWidth,\n      toolbar: toolbarWidth,\n    }\n  }\n\n  setAction = (name, init) => {\n    this.actions[name] = init\n  }\n\n  activate = (element) => {\n    if (element.getAttribute(\"misago-editor-active\") !== \"true\") {\n      this._setEditorActive(element)\n      this._setEditorFocus(element)\n      this._setEditorActions(element)\n      this._setEditorPasteUpload(element)\n      this._setEditorDropUpload(element)\n      this._resizeEditor(element)\n\n      const textarea = this.getTextarea(element)\n      this.mentions[textarea.id] = new Mention(textarea)\n    }\n  }\n\n  _setEditorActive(element) {\n    element.setAttribute(\"misago-editor-active\", \"true\")\n  }\n\n  _setEditorFocus(element) {\n    const focusEvents = [\"focusin\", \"click\"]\n    const className = \"markup-editor-focused\"\n\n    focusEvents.forEach((event) => {\n      element.addEventListener(event, () => {\n        element.classList.add(className)\n      })\n    })\n\n    focusEvents.forEach((event) => {\n      document.addEventListener(event, (event) => {\n        if (!element.contains(event.target)) {\n          element.classList.remove(className)\n        }\n      })\n    })\n  }\n\n  _setEditorActions(element) {\n    const textarea = this.getTextarea(element)\n\n    element.addEventListener(\"click\", (event) => {\n      const target = event.target.closest(\"[misago-editor-action]\")\n      if (!target) {\n        return null\n      }\n\n      const actionName = target.getAttribute(\"misago-editor-action\")\n      if (!actionName) {\n        return null\n      }\n\n      event.preventDefault()\n\n      const action = this.actions[actionName]\n      if (action) {\n        action({\n          textarea,\n          target,\n          editor: this,\n          selection: new MarkupEditorSelection(textarea),\n        })\n      } else {\n        console.warn(\"Undefined editor action: \" + actionName)\n      }\n    })\n\n    element\n      .querySelector(\"[misago-editor-more]\")\n      .addEventListener(\"click\", () => {\n        const secondToolbar = element.querySelector(\n          \".markup-editor-toolbar-secondary\"\n        )\n        if (secondToolbar.classList.contains(\"show\")) {\n          secondToolbar.classList.remove(\"show\")\n        } else {\n          secondToolbar.classList.add(\"show\")\n        }\n      })\n  }\n\n  _setEditorPasteUpload = (element) => {\n    element.addEventListener(\"paste\", (event) => {\n      if (event.clipboardData.files.length) {\n        const uploader = new MarkupEditorUploader(this, element)\n        if (!uploader.canUpload) {\n          uploader.showPermissionDeniedError()\n        } else {\n          event.preventDefault()\n          const textarea = event.target.closest(\"textarea\")\n          uploader.uploadFiles(event.clipboardData.files, textarea)\n        }\n      }\n    })\n  }\n\n  _setEditorDropUpload = (element) => {\n    const className = \"markup-editor-drag-drop\"\n    const elements = [element.querySelector(\"textarea\")]\n\n    const attachments = element.querySelector(\"[misago-editor-attachments]\")\n    if (attachments) {\n      elements.push(attachments)\n    }\n\n    elements.forEach((child) => {\n      child.addEventListener(\"drop\", (event) => {\n        const uploader = new MarkupEditorUploader(this, element)\n        if (event.dataTransfer.files.length) {\n          event.preventDefault()\n          if (!uploader.canUpload) {\n            uploader.showPermissionDeniedError()\n          } else if (event.dataTransfer.files) {\n            const textarea = event.target.closest(\"textarea\")\n            uploader.uploadFiles(event.dataTransfer.files, textarea)\n          }\n        }\n\n        child.classList.remove(className)\n      })\n\n      child.addEventListener(\"dragenter\", (event) => {\n        event.preventDefault()\n      })\n\n      child.addEventListener(\"dragleave\", () => {\n        child.classList.remove(className)\n      })\n\n      child.addEventListener(\"dragover\", (event) => {\n        child.classList.add(className)\n        event.preventDefault()\n      })\n    })\n  }\n\n  getTextarea(element) {\n    return element.querySelector(\"textarea\")\n  }\n\n  getSelection(textarea) {\n    return new MarkupEditorSelection(textarea)\n  }\n\n  showFilePrompt(element, options) {\n    const uploader = new MarkupEditorUploader(\n      this,\n      element.closest(\"[misago-editor-active]\")\n    )\n\n    if (!uploader.canUpload) {\n      uploader.showPermissionDeniedError()\n    } else {\n      uploader.prompt(options)\n    }\n  }\n\n  showCodeModal(selection) {\n    this.codeModal.show(selection)\n  }\n\n  showLinkModal(selection) {\n    this.linkModal.show(selection)\n  }\n\n  showImageModal(selection) {\n    this.imageModal.show(selection)\n  }\n\n  showQuoteModal(selection) {\n    this.quoteModal.show(selection)\n  }\n\n  getAttachmentByKey(key) {\n    return document.querySelector('[misago-editor-upload-key=\"' + key + '\"]')\n  }\n\n  removeAttachmentElement(element) {\n    const list = element.closest(\"ul\")\n\n    animations.deleteElement(element, function () {\n      if (!list.querySelector(\"li\")) {\n        const container = list.closest(\".markup-editor-attachments-list\")\n        container.classList.add(\"d-none\")\n      }\n    })\n  }\n}\n\nclass MarkupEditorSelection {\n  constructor(textarea) {\n    this.textarea = textarea\n    this._range = this._getRange()\n  }\n\n  get() {\n    return this._range\n  }\n\n  prefix() {\n    return this._range.prefix\n  }\n\n  suffix() {\n    return this._range.suffix\n  }\n\n  zero() {\n    return this._range.length === 0\n  }\n\n  empty() {\n    return this._range.text.trim().length === 0\n  }\n\n  text() {\n    return this._range.text\n  }\n\n  wrap(prefix, suffix) {\n    let value = this._range.prefix\n    value += prefix + this._range.text + suffix\n    value += this._range.suffix\n\n    this.textarea.value = value\n\n    this._range.start += prefix.length\n    this._range.end += prefix.length\n    this._range.length = this._range.end - this._range.start\n\n    this.refocus()\n  }\n\n  replace(text, options) {\n    const value = this._range.prefix + text + this._range.suffix\n    this.textarea.value = value\n\n    if (options && options.start) {\n      this._range.start += options.start\n    }\n\n    this._range.end = this._range.start + text.length\n\n    if (options) {\n      if (options.start) {\n        this._range.end -= options.start\n      }\n      if (options.end) {\n        this._range.end -= options.end\n      }\n    }\n\n    this._range.length = this._range.end - this._range.start\n\n    this.refocus()\n  }\n\n  insert(text, options) {\n    const whitespace = (options && options.whitespace) || \"\"\n\n    const prefix = whitespace\n      ? this._range.prefix.trimEnd()\n      : this._range.prefix\n    const suffix = whitespace ? this._range.suffix.trim() : this._range.suffix\n\n    let whitespaces = 1\n    let value = prefix\n\n    if (prefix.length && whitespace) {\n      value += whitespace\n      whitespaces += 1\n    }\n\n    value += text + whitespace + suffix\n    this.textarea.value = value\n\n    const caret = prefix.length + text.length + whitespace.length * whitespaces\n    this._range.end = this._range.start = caret\n    this._range.length = 0\n\n    this.refocus()\n  }\n\n  replaceAttachments(callback) {\n    this.textarea.value = this.textarea.value.replace(\n      /<attachment=(.+?)>/gi,\n      function (match, p1) {\n        if (p1.match(/:/g).length !== 1) {\n          return match\n        }\n\n        let value = p1.trim()\n        while (value.substring(0, 1) === '\"') {\n          value = value.substring(1)\n        }\n        while (value.substring(value.length - 1) === '\"') {\n          value = value.substring(0, value.length - 1)\n        }\n\n        const name = value.substring(0, value.indexOf(\":\")).trim()\n        const id = value.substring(value.indexOf(\":\") + 1).trim()\n\n        if ((name, id)) {\n          const result = callback({ match, name, id })\n          if (typeof result === \"string\" || result instanceof String) {\n            return result\n          }\n        }\n\n        return match\n      }\n    )\n  }\n\n  refocus() {\n    window.setTimeout(() => {\n      const scroll = this.textarea.scrollTop\n      this.textarea.focus()\n      this.textarea.scrollTop = scroll\n\n      const caret = this._range.start\n      this.textarea.setSelectionRange(caret, caret + this._range.length)\n    }, 250)\n  }\n\n  _getRange() {\n    if (document.selection) {\n      this.textarea.focus()\n      const range = document.selection.createRange()\n      const length = range.text.length\n      range.moveStart(\"character\", -this.textarea.value.length)\n      return this._createRange(\n        this.textarea,\n        range.text.length - length,\n        range.text.length\n      )\n    }\n\n    if (this.textarea.selectionStart || this.textarea.selectionStart == \"0\") {\n      return this._createRange(\n        this.textarea,\n        this.textarea.selectionStart,\n        this.textarea.selectionEnd\n      )\n    }\n  }\n\n  _createRange(textarea, start, end) {\n    return {\n      start: start,\n      end: end,\n      length: end - start,\n      text: textarea.value.substring(start, end),\n      prefix: textarea.value.substring(0, start),\n      suffix: textarea.value.substring(end),\n    }\n  }\n}\n\nconst editor = new MarkupEditor()\n\nexport default editor\n\neditor.setAction(\"strong\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\"**\" + pgettext(\"example markup\", \"Strong text\") + \"**\", {\n      start: 2,\n      end: 2,\n    })\n  } else {\n    selection.wrap(\"**\", \"**\")\n  }\n})\n\neditor.setAction(\"emphasis\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\n      \"_\" + pgettext(\"example markup\", \"Text with emphasis\") + \"_\",\n      { start: 1, end: 1 }\n    )\n  } else {\n    selection.wrap(\"_\", \"_\")\n  }\n})\n\neditor.setAction(\"strikethrough\", function ({ selection }) {\n  if (selection.empty()) {\n    selection.replace(\n      \"~~\" + pgettext(\"example markup\", \"Text with strikethrough\") + \"~~\",\n      { start: 2, end: 2 }\n    )\n  } else {\n    selection.wrap(\"~~\", \"~~\")\n  }\n})\n\neditor.setAction(\"horizontal-ruler\", function ({ selection }) {\n  selection.insert(\"- - -\", { whitespace: \"\\n\\n\" })\n})\n\neditor.setAction(\"link\", function ({ editor, selection }) {\n  editor.showLinkModal(selection)\n})\n\neditor.setAction(\"image\", function ({ editor, selection }) {\n  editor.showImageModal(selection)\n})\n\neditor.setAction(\"quote\", function ({ editor, selection }) {\n  editor.showQuoteModal(selection)\n})\n\neditor.setAction(\"spoiler\", function ({ selection }) {\n  const prefix = selection.prefix().trim().length\n    ? \"\\n\\n[spoiler]\\n\"\n    : \"[spoiler]\\n\"\n  const suffix = \"\\n[/spoiler]\\n\\n\"\n\n  if (selection.empty()) {\n    selection.replace(\n      prefix + pgettext(\"example markup\", \"Spoiler text\") + suffix,\n      { start: prefix.length, end: suffix.length }\n    )\n  } else {\n    selection.wrap(prefix, suffix)\n  }\n})\n\neditor.setAction(\"code\", function ({ editor, selection }) {\n  editor.showCodeModal(selection)\n})\n\neditor.setAction(\"attachment\", function ({ target, selection }) {\n  const attachment = target.getAttribute(\"misago-editor-attachment\")\n  if (attachment) {\n    selection.insert(\"<attachment=\" + attachment + \">\", { whitespace: \"\\n\\n\" })\n  }\n})\n\neditor.setAction(\"image-upload\", function ({ editor, target }) {\n  editor.showFilePrompt(target, { accept: \"image\", insert: true })\n})\n\neditor.setAction(\"attachment-upload\", function ({ editor, target }) {\n  editor.showFilePrompt(target)\n})\n\neditor.setAction(\"attachment-delete\", function ({ editor, target, selection }) {\n  const attachment = target.getAttribute(\"misago-editor-attachment\")\n  const name = target\n    .closest(\"[misago-editor-deleted-attachments-name]\")\n    .getAttribute(\"misago-editor-deleted-attachments-name\")\n\n  selection.replaceAttachments(function ({ id }) {\n    if (id === attachment) {\n      return \"\"\n    }\n\n    return false\n  })\n\n  const element = target.closest(\"li\")\n  editor.removeAttachmentElement(element)\n\n  const input = document.createElement(\"input\")\n  input.setAttribute(\"type\", \"hidden\")\n  input.setAttribute(\"name\", name)\n  input.setAttribute(\"value\", attachment)\n\n  const attachments = target.closest(\"[misago-editor-attachments]\")\n  attachments.appendChild(input)\n})\n\neditor.setAction(\n  \"attachment-error-dismiss\",\n  function ({ editor, target, selection }) {\n    const key = target.getAttribute(\"misago-editor-attachment-key\")\n\n    selection.replaceAttachments(function (attachment) {\n      if (attachment.id === key) {\n        return \"\"\n      }\n\n      return false\n    })\n\n    const message = document.querySelector(\n      '[misago-editor-attachment-error=\"' + key + '\"]'\n    )\n    if (message) {\n      animations.deleteElement(message)\n    }\n\n    const attachment = editor.getAttachmentByKey(key)\n    if (attachment) {\n      editor.removeAttachmentElement(attachment)\n    }\n  }\n)\n\neditor.setAction(\"formatting-help\", function ({ target }) {\n  const modal = document.getElementById(\"markup-editor-formatting-help\")\n  const element = target.closest(\"a\")\n\n  htmx\n    .ajax(\"GET\", element.href, {\n      target: modal,\n      swap: \"innerHTML\",\n    })\n    .then(() => {\n      $(modal).modal(\"show\")\n    })\n})\n","import editor from \"./editor\"\n\nexport default editor\n\nexport function activateEditors() {\n  document\n    .querySelectorAll(\"[misago-editor-active='false']\")\n    .forEach(editor.activate)\n}\n","class MarkupEditorModal {\n  constructor() {\n    this.selection = null\n    this.element = null\n    this.form = null\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.element = this.getElement()\n      if (this.element) {\n        this.form = this.element.querySelector(\"form\")\n        this.initForm(this.form)\n      }\n    })\n  }\n\n  getElement() {\n    throw \"Subclasses of 'MarkupEditorModal' must implement 'getElement' method\"\n  }\n\n  initForm(form) {\n    form.addEventListener(\"submit\", (event) => {\n      event.preventDefault()\n      const data = new FormData(event.target)\n      this.submit(data, this.selection)\n      return false\n    })\n  }\n\n  reset() {\n    this.element.querySelectorAll(\"input\").forEach((input) => {\n      input.value = \"\"\n    })\n  }\n\n  setData(form, selection) {}\n\n  submit(data, selection) {}\n\n  show(selection) {\n    this.reset()\n    this.selection = selection\n    this.setData(this.form, selection)\n    $(this.element).modal(\"show\")\n  }\n\n  hide() {\n    $(this.element).modal(\"hide\")\n  }\n}\n\nexport class MarkupEditorLinkModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-link-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"text\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const url = cleanUrl(data.get(\"url\").trim())\n    const text = data.get(\"text\").trim()\n\n    if (url) {\n      if (text) {\n        if (isUnsafeForMarkdown(url, text)) {\n          selection.replace(\"[url=\" + url + \"]\" + text + \"[/url]\")\n        } else {\n          selection.replace(\"[\" + text + \"](\" + url + \")\")\n        }\n      } else {\n        selection.replace(\"<\" + url + \">\")\n      }\n\n      this.hide()\n    }\n  }\n}\n\nexport class MarkupEditorImageModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-image-modal\")\n  }\n\n  submit(data, selection) {\n    const url = cleanUrl(data.get(\"url\").trim())\n    const text = data.get(\"text\").trim()\n\n    if (url) {\n      if (text) {\n        if (isUnsafeForMarkdown(url, text)) {\n          selection.replace(\"[img=\" + url + \"]\" + text + \"[/img]\")\n        } else {\n          selection.replace(\"![\" + text + \"](\" + url + \")\")\n        }\n      } else if (isUnsafeForMarkdown(url, text)) {\n        selection.replace(\"[img]\" + url + \"[/img]\")\n      } else {\n        selection.replace(\"!(\" + url + \")\")\n      }\n\n      this.hide()\n    }\n  }\n}\n\nfunction isUnsafeForMarkdown(url, text) {\n  if (url.indexOf(\"(\") >= 0) return true\n  if (url.indexOf(\")\") >= 0) return true\n  if (text.indexOf(\"[\") >= 0) return true\n  if (text.indexOf(\"]\") >= 0) return true\n\n  return false\n}\n\nfunction cleanUrl(url) {\n  if (startsWith(url, \"http://\") || startsWith(url, \"https://\")) {\n    return url\n  }\n\n  return \"http://\" + url\n}\n\nfunction startsWith(text, prefix) {\n  return text.toLowerCase().substring(0, prefix.length) === prefix\n}\n\nexport class MarkupEditorQuoteModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-quote-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"text\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const author = data.get(\"author\").trim()\n    const text = data.get(\"text\").trim()\n\n    if (text) {\n      const prefix = this.getQuotePrefix(selection, author)\n      const suffix = \"\\n[/quote]\\n\\n\"\n\n      selection.replace(prefix + text + suffix, {\n        start: prefix.length,\n        end: suffix.length,\n      })\n\n      this.hide()\n    }\n  }\n\n  getQuotePrefix(selection, author) {\n    const prefix = selection.prefix().trim().length ? \"\\n\\n\" : \"\"\n    if (author) {\n      return prefix + \"[quote=\" + author + \"]\\n\"\n    }\n    return prefix + \"[quote]\\n\"\n  }\n}\n\nexport class MarkupEditorCodeModal extends MarkupEditorModal {\n  getElement() {\n    return document.getElementById(\"markup-editor-code-modal\")\n  }\n\n  setData(form, selection) {\n    form.querySelector('[name=\"code\"]').value = selection.text().trim()\n  }\n\n  submit(data, selection) {\n    const info = data.get(\"info\")\n    const syntax = data.get(\"syntax\")\n    const code = data.get(\"code\")\n\n    if (code) {\n      const prefix = this.getCodePrefix(selection)\n      const args = this.getCodeArguments(info, syntax)\n      const delimiter = this.getCodeDelimiter(args, code)\n\n      const markup =\n        prefix + delimiter + args + \"\\n\" + code + \"\\n\" + delimiter + \"\\n\\n\"\n\n      selection.replace(markup, { start: markup.length })\n\n      this.hide()\n    }\n  }\n\n  getCodeArguments(info, syntax) {\n    const cleanInfo = (info || \"\").trim()\n    const cleanSyntax = (syntax || \"\").trim()\n\n    if (cleanInfo && cleanSyntax) {\n      return cleanInfo + \", syntax: \" + cleanSyntax\n    }\n\n    return cleanInfo || cleanSyntax || \"\"\n  }\n\n  getCodeDelimiter(args, code) {\n    let delimiter = args.startsWith(\"`\") ? \"~\" : \"`\"\n    while (delimiter.length < 3 || code.indexOf(delimiter) !== -1) {\n      delimiter += delimiter[0]\n    }\n    return delimiter\n  }\n\n  getCodePrefix(selection) {\n    return selection.prefix().trim().length ? \"\\n\\n\" : \"\"\n  }\n}\n","import { appendCSRFTokenToForm } from \"../csrf\"\nimport getRandomString from \"../getRandomString\"\nimport renderTemplate from \"../renderTemplate\"\nimport * as snackbar from \"../snackbars\"\n\nexport default class MarkupEditorUploader {\n  constructor(editor, element) {\n    this.editor = editor\n\n    this.element = element\n    this.textarea = editor.getTextarea(element)\n\n    this.lists = {\n      media: element.querySelector('[misago-editor-attachments=\"media\"]'),\n      other: element.querySelector('[misago-editor-attachments=\"other\"]'),\n    }\n\n    this.templates = {\n      error: document.getElementById(\"attachment-upload-error-template\"),\n      media: document.getElementById(\"attachment-media-template\"),\n      mediaFooter: document.getElementById(\"attachment-media-footer-template\"),\n      mediaFailedFooter: document.getElementById(\n        \"attachment-media-failed-footer-template\"\n      ),\n      other: document.getElementById(\"attachment-other-template\"),\n      otherFailed: document.getElementById(\"attachment-other-failed-template\"),\n      otherUploaded: document.getElementById(\n        \"attachment-other-uploaded-template\"\n      ),\n    }\n\n    const attachmentsElement = element.querySelector(\n      \"[misago-editor-attachments]\"\n    )\n    this.field = {\n      name: element.getAttribute(\"misago-editor-attachments-name\"),\n      element: attachmentsElement,\n    }\n\n    this.accept = {\n      all: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-attachments\")\n      ),\n      image: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-image\")\n      ),\n      video: this._getAcceptedExtensions(\n        attachmentsElement.getAttribute(\"misago-editor-accept-video\")\n      ),\n    }\n\n    this.uploadUrl = this._getUploadUrl(element)\n    this.canUpload = !!this.uploadUrl && !!this.accept.all\n  }\n\n  _getUploadUrl(element) {\n    return element.getAttribute(\"misago-editor-attachments-url\") || null\n  }\n\n  _getAcceptedExtensions(extensions) {\n    return extensions.split(\",\").map((item) => item.trim())\n  }\n\n  showPermissionDeniedError() {\n    snackbar.error(\n      pgettext(\"markup editor upload\", \"You can't upload attachments\")\n    )\n  }\n\n  prompt(options) {\n    const accept = options ? options.accept : \"all\"\n    const insert = options ? options.insert : false\n\n    const input = document.createElement(\"input\")\n    input.setAttribute(\"type\", \"file\")\n    input.setAttribute(\n      \"accept\",\n      (this.accept[accept] || this.accept.all).join(\",\")\n    )\n    input.setAttribute(\"multiple\", true)\n    input.classList.add(\"d-none\")\n\n    input.addEventListener(\"change\", (event) => {\n      const files = event.target.files\n      if (files.length) {\n        this.uploadFiles(files, insert)\n      }\n      input.remove()\n    })\n\n    this.element.appendChild(input)\n    input.click()\n  }\n\n  _getAcceptAttributeStr(accept) {\n    return (this.accept[accept] || this.accept.all).join(\",\")\n  }\n\n  uploadFiles(files, insert) {\n    const allowedFiles = []\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i]\n      if (this._isFileTypeAccepted(file)) {\n        allowedFiles.push(file)\n      } else {\n        snackbar.error(\n          pgettext(\n            \"markup editor upload\",\n            \"%(name)s: uploaded file type is not allowed.\"\n          ).replace(\"%(name)s\", file.name)\n        )\n      }\n    }\n\n    if (!allowedFiles) {\n      return { keys: [], files: [] }\n    }\n\n    const keys = []\n    const elements = {}\n\n    const data = new FormData()\n    appendCSRFTokenToForm(data)\n\n    allowedFiles.forEach((file) => {\n      const key = getRandomString(16)\n      keys.push(key)\n      data.append(\"keys\", key)\n      data.append(\"upload\", file)\n\n      elements[key] = this._createUploadUI(file, key)\n    })\n\n    if (insert) {\n      this._insertAttachmentsInTextarea(keys, allowedFiles)\n    }\n\n    const request = new XMLHttpRequest()\n\n    this._addOnLoadedEventListener(request, keys, elements)\n    this._addOnProgressEventListener(request, keys, elements)\n\n    request.open(\"POST\", this.uploadUrl)\n    request.send(data)\n\n    return { keys, files: allowedFiles }\n  }\n\n  _isFileTypeAccepted(file) {\n    return this._isFileTypeInList(file, this.accept.all)\n  }\n\n  _isFileTypeImage(file) {\n    return this._isFileTypeInList(file, this.accept.image)\n  }\n\n  _isFileTypeVideo(file) {\n    return this._isFileTypeInList(file, this.accept.video)\n  }\n\n  _isFileTypeInList(file, list) {\n    const name = file.name.toLowerCase()\n    for (const extension of list) {\n      if (name.substring(name.length - extension.length) === extension) {\n        return true\n      }\n    }\n    return false\n  }\n\n  _insertAttachmentsInTextarea(keys, files) {\n    const markup = []\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const file = files[i]\n      markup.push(\"<attachment=\" + file.name + \":\" + key + \">\")\n    }\n\n    if (markup) {\n      const selection = this.editor.getSelection(this.textarea)\n      selection.insert(markup.join(\"\\n\"), { whitespace: \"\\n\\n\" })\n    }\n  }\n\n  _addOnLoadedEventListener(request, keys, elements) {\n    request.addEventListener(\"loadend\", () => {\n      if (request.readyState === XMLHttpRequest.DONE) {\n        if (request.status === 200) {\n          this._handleUploadSuccess(request, keys, elements)\n        } else {\n          this._handleUploadError(request, keys)\n        }\n\n        keys.forEach((key) => (elements[key] = null))\n      }\n    })\n  }\n\n  _handleUploadSuccess(request, keys, elements) {\n    try {\n      const { attachments, errors } = JSON.parse(request.response)\n\n      this._replaceTextareaPlaceholders(this.textarea, keys, attachments)\n\n      if (errors) {\n        const helpText = this.element.querySelector(\n          \"[misago-editor-attachments-help]\"\n        )\n        keys.forEach((key) => {\n          const error = errors[key]\n          if (error) {\n            this._updateUploadUIWithError(key, helpText, error)\n          }\n        })\n      }\n\n      if (attachments) {\n        attachments.forEach((attachment) => {\n          try {\n            this._updateUploadUI(attachment, elements[attachment.key])\n            this._createAttachmentIDField(attachment)\n          } catch (error) {\n            console.error(error)\n          }\n        })\n      }\n    } catch (error) {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Unexpected upload API response\")\n      )\n      console.error(error)\n    }\n  }\n\n  _handleUploadError(request, keys) {\n    if (request.status === 0) {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Site could not be reached\")\n      )\n    } else if (request.status >= 400 && request.status < 500) {\n      try {\n        snackbar.error(JSON.parse(request.response).error)\n      } catch (error) {\n        snackbar.error(\n          pgettext(\n            \"markup editor upload\",\n            \"Unexpected upload API error response\"\n          )\n        )\n        console.error(error)\n      }\n    } else {\n      snackbar.error(\n        pgettext(\"markup editor upload\", \"Unexpected error during upload\")\n      )\n    }\n\n    keys.forEach((key) => {\n      this._updateUploadUIWithError(key)\n    })\n  }\n\n  _addOnProgressEventListener(request, keys, elements) {\n    request.upload.addEventListener(\"progress\", (event) => {\n      if (event.lengthComputable) {\n        const progress = Math.ceil((event.loaded * 100) / event.total)\n        for (const key of keys) {\n          const progressBar = elements[key].querySelector(\".progress-bar\")\n          progressBar.setAttribute(\"aria-valuenow\", progress)\n          progressBar.style.width = progress + \"%\"\n        }\n      }\n    })\n  }\n\n  _replaceTextareaPlaceholders(textarea, keys, attachments) {\n    const results = {}\n    keys.forEach((key) => (results[key] = null))\n    if (attachments) {\n      attachments.forEach(\n        (attachment) => (results[attachment.key] = attachment)\n      )\n    }\n\n    const selection = this.editor.getSelection(textarea)\n    selection.replaceAttachments(function ({ id: key }) {\n      const attachment = results[key]\n      if (attachment) {\n        return \"<attachment=\" + attachment.name + \":\" + attachment.id + \">\"\n      } else if (attachment === null) {\n        return \"\"\n      }\n    })\n  }\n\n  _createUploadUI(file, key) {\n    const data = {\n      key,\n      file,\n      name: file.name,\n      isImage: false,\n      isVideo: false,\n    }\n\n    if (this._isFileTypeImage(file)) {\n      data.isImage = true\n      this._createMediaUploadUI(data)\n    } else if (this._isFileTypeVideo(file)) {\n      data.isVideo = true\n      this._createMediaUploadUI(data)\n    } else {\n      this._createOtherUploadUI(data)\n    }\n\n    return this.editor.getAttachmentByKey(key)\n  }\n\n  _createMediaUploadUI(data) {\n    const element = renderTemplate(this.templates.media, data)\n\n    if (data.isImage) {\n      const image = element.querySelector(\"[misago-tpl-image]\")\n      const buffer = new FileReader()\n      buffer.onload = () => {\n        image.style.backgroundImage = \"url('\" + buffer.result + \"')\"\n      }\n      buffer.readAsDataURL(data.file)\n    } else if (data.isVideo) {\n      const video = element.querySelector(\"video\")\n      const buffer = new FileReader()\n      buffer.onload = () => {\n        const source = document.createElement(\"source\")\n        source.setAttribute(\"src\", buffer.result)\n        source.setAttribute(\"type\", data.file.type)\n        video.append(source)\n      }\n      buffer.readAsDataURL(data.file)\n    }\n\n    this._addUIToAttachmentsList(this.lists.media, element)\n  }\n\n  _createOtherUploadUI(data) {\n    const element = renderTemplate(this.templates.other, data)\n    this._addUIToAttachmentsList(this.lists.other, element)\n  }\n\n  _addUIToAttachmentsList(list, element) {\n    list.querySelector(\"ul\").prepend(element)\n    list.classList.remove(\"d-none\")\n  }\n\n  _createAttachmentIDField(attachment) {\n    const input = document.createElement(\"input\")\n    input.setAttribute(\"type\", \"hidden\")\n    input.setAttribute(\"name\", this.field.name)\n    input.setAttribute(\"value\", attachment.id)\n    this.field.element.appendChild(input)\n  }\n\n  _updateUploadUI(attachment, element) {\n    if (attachment.filetype[\"is_media\"]) {\n      this._updateMediaUploadUI(attachment, element)\n    } else {\n      this._updateOtherUploadUI(attachment, element)\n    }\n  }\n\n  _updateMediaUploadUI(attachment, element) {\n    const footer = renderTemplate(this.templates.mediaFooter, attachment)\n\n    footer\n      .querySelector(\"[misago-editor-attachment]\")\n      .setAttribute(\n        \"misago-editor-attachment\",\n        attachment.name + \":\" + attachment.id\n      )\n\n    element.querySelector(\"[misago-tpl-footer]\").replaceWith(footer)\n  }\n\n  _updateOtherUploadUI(attachment, element) {\n    const item = renderTemplate(this.templates.otherUploaded, attachment)\n\n    item\n      .querySelector(\"[misago-editor-attachment]\")\n      .setAttribute(\n        \"misago-editor-attachment\",\n        attachment.name + \":\" + attachment.id\n      )\n\n    element.replaceWith(item)\n  }\n\n  _updateUploadUIWithError(key, helpText, error) {\n    if (error) {\n      this._createErrorMessage(key, error, helpText)\n    }\n\n    const attachment = this.editor.getAttachmentByKey(key)\n    const footer = attachment.querySelector(\"[misago-tpl-footer]\")\n    if (footer) {\n      // Media attachment\n      const template = renderTemplate(this.templates.mediaFailedFooter, { key })\n      footer.replaceWith(template)\n    } else {\n      // Other attachment\n      const upload = attachment.querySelector(\"[misago-tpl-upload]\")\n      const button = upload.closest(\"li\").querySelector(\"button\")\n\n      button.setAttribute(\"misago-editor-action\", \"attachment-error-dismiss\")\n      button.setAttribute(\"misago-editor-attachment-key\", key)\n      button.removeAttribute(\"disabled\")\n\n      upload.replaceWith(renderTemplate(this.templates.otherFailed))\n    }\n  }\n\n  _createErrorMessage(key, error, insertAfter) {\n    const errorTemplate = renderTemplate(this.templates.error, { key, error })\n    insertAfter.after(errorTemplate)\n  }\n}\n","document.body.addEventListener(\"click\", (event) => {\n  const selector = event.target.getAttribute(\"misago-focus-on\")\n  if (!!selector) {\n    event.preventDefault()\n    const element = document.querySelector(selector)\n    if (element) {\n      element.focus()\n    }\n  }\n})\n","import htmx from \"htmx.org\"\n\nconst DEBOUNCE = 1000\n\nconst cache = {}\n\nexport function registerElementValidator(element) {\n  const active = element.getAttribute(\"misago-validate-active\")\n  if (active) {\n    return\n  }\n\n  const url = element.getAttribute(\"misago-validate\")\n  const user = element.getAttribute(\"misago-validate-user\")\n  const strip =\n    element.getAttribute(\"misago-validate-strip\") == \"false\" ? false : true\n  const input = element.querySelector(\"input\")\n  const csrf = input.closest(\"form\").querySelector(\"input[type=hidden]\")\n\n  if (!url || !input) {\n    return\n  }\n\n  if (!cache[url]) {\n    cache[url] = {}\n  }\n\n  element.setAttribute(\"misago-validate-active\", \"true\")\n\n  let timeout = null\n\n  input.addEventListener(\"keyup\", (event) => {\n    let value = event.target.value\n    if (strip) {\n      value = value.trim()\n    }\n\n    if (value.trim().length === 0) {\n      clearFormControlValidationState(element)\n      return\n    }\n\n    if (cache[url][value]) {\n      setFormControlValidationState(element, input, cache[url][value])\n    } else {\n      if (timeout) {\n        window.clearTimeout(timeout)\n      }\n\n      timeout = window.setTimeout(async () => {\n        const { errors } = await callValidationUrl(url, csrf, value, user)\n        cache[url][value] = errors\n        setFormControlValidationState(element, input, errors)\n      }, DEBOUNCE)\n    }\n  })\n}\n\nfunction setFormControlValidationState(element, input, errors) {\n  if (errors.length) {\n    setFormControlErrorValidationState(element, input, errors)\n  } else {\n    setFormControlSuccessValidationState(element)\n  }\n}\n\nfunction setFormControlErrorValidationState(element, input, errors) {\n  element.classList.remove(\"has-success\")\n  element.classList.add(\"has-error\")\n\n  clearFormControlValidationMessages(element)\n\n  errors.forEach((error) => {\n    const message = document.createElement(\"p\")\n    message.className = \"help-block\"\n    message.setAttribute(\"misago-dynamic-message\", \"true\")\n    message.innerText = error\n    input.after(message)\n  })\n}\n\nfunction setFormControlSuccessValidationState(element) {\n  element.classList.remove(\"has-error\")\n  element.classList.add(\"has-success\")\n\n  clearFormControlValidationMessages(element)\n}\n\nfunction clearFormControlValidationState(element) {\n  element.classList.remove(\"has-error\")\n  element.classList.remove(\"has-success\")\n\n  clearFormControlValidationMessages(element)\n}\n\nfunction clearFormControlValidationMessages(element) {\n  element\n    .querySelectorAll(\"[misago-dynamic-message]\")\n    .forEach((i) => i.remove())\n}\n\nasync function callValidationUrl(url, csrf, value, user) {\n  const data = new FormData()\n  data.set(csrf.name, csrf.value)\n  data.set(\"value\", value)\n  if (user) {\n    data.set(\"user\", user)\n  }\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"same-origin\",\n    body: data,\n  })\n  return await response.json()\n}\n\nexport function registerValidators(element) {\n  const target = element || document\n  target.querySelectorAll(\"[misago-validate]\").forEach(registerElementValidator)\n}\n\nhtmx.onLoad(registerValidators)\n","export const locale = window.misago_locale || \"en-us\"\n\nexport const momentAgo = pgettext(\"time ago\", \"moment ago\")\nexport const momentAgoShort = pgettext(\"time ago\", \"now\")\nexport const dayAt = pgettext(\"day at time\", \"%(day)s at %(time)s\")\nexport const soonAt = pgettext(\"day at time\", \"Today at %(time)s\")\nexport const tomorrowAt = pgettext(\"day at time\", \"Tomorrow at %(time)s\")\nexport const yesterdayAt = pgettext(\"day at time\", \"Yesterday at %(time)s\")\n\nexport const minutesShort = pgettext(\"short minutes\", \"%(time)sm\")\nexport const hoursShort = pgettext(\"short hours\", \"%(time)sh\")\nexport const daysShort = pgettext(\"short days\", \"%(time)sd\")\n\nexport const relativeNumeric = new Intl.RelativeTimeFormat(locale, {\n  numeric: \"always\",\n  style: \"long\",\n})\n\nexport const fullDateTime = new Intl.DateTimeFormat(locale, {\n  dateStyle: \"full\",\n  timeStyle: \"medium\",\n})\n\nexport const thisYearDate = new Intl.DateTimeFormat(locale, {\n  month: \"long\",\n  day: \"numeric\",\n})\n\nexport const otherYearDate = new Intl.DateTimeFormat(locale, {\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n})\n\nexport const short = new Intl.DateTimeFormat(locale, {\n  year: \"2-digit\",\n  month: \"short\",\n  day: \"numeric\",\n})\n\nexport const weekday = new Intl.DateTimeFormat(locale, {\n  weekday: \"long\",\n})\n\nexport const shortTime = new Intl.DateTimeFormat(locale, { timeStyle: \"short\" })\n\nexport const thisYearShort = new Intl.DateTimeFormat(locale, {\n  month: \"short\",\n  day: \"numeric\",\n})\n\nexport const otherYearShort = new Intl.DateTimeFormat(locale, {\n  month: \"short\",\n  year: \"numeric\",\n})\n\nexport function dateRelative(date) {\n  const now = new Date()\n  const diff = Math.round((date - now) / 1000)\n  const absDiff = Math.abs(diff)\n  const sign = diff < 1 ? -1 : 1\n\n  if (absDiff < 90) {\n    return momentAgo\n  }\n\n  if (absDiff < 60 * 47) {\n    const minutes = Math.round(absDiff / 60) * sign\n    return relativeNumeric.format(minutes, \"minute\")\n  }\n\n  if (absDiff < 3600 * 3) {\n    const hours = Math.round(absDiff / 3600) * sign\n    return relativeNumeric.format(hours, \"hour\")\n  }\n\n  if (isSameDay(now, date)) {\n    if (diff > 0) {\n      return soonAt.replace(\"%(time)s\", shortTime.format(date))\n    }\n\n    return shortTime.format(date)\n  }\n\n  if (isYesterday(date)) {\n    return yesterdayAt.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (isTomorrow(date)) {\n    return tomorrowAt.replace(\"%(time)s\", shortTime.format(date))\n  }\n\n  if (diff < 0 && absDiff < 3600 * 24 * 6) {\n    const day = weekday.format(date)\n    return formatDayAtTime(day, date)\n  }\n\n  if (now.getFullYear() == date.getFullYear()) {\n    return thisYearDate.format(date)\n  }\n\n  return otherYearDate.format(date)\n}\n\nexport function isSameDay(now, date) {\n  return (\n    now.getFullYear() == date.getFullYear() &&\n    now.getMonth() == date.getMonth() &&\n    now.getDate() == date.getDate()\n  )\n}\n\nexport function isYesterday(date) {\n  const yesterday = new Date()\n  yesterday.setDate(yesterday.getDate() - 1)\n  return isSameDay(yesterday, date)\n}\n\nexport function isTomorrow(date) {\n  const yesterday = new Date()\n  yesterday.setDate(yesterday.getDate() + 1)\n  return isSameDay(yesterday, date)\n}\n\nexport function formatDayAtTime(day, date) {\n  return dayAt\n    .replace(\"%(day)s\", day)\n    .replace(\"%(time)s\", shortTime.format(date))\n}\n\nexport function dateRelativeShort(date) {\n  const now = new Date()\n  const absDiff = Math.abs(Math.round((date - now) / 1000))\n\n  if (absDiff < 60) {\n    return momentAgoShort\n  }\n\n  if (absDiff < 60 * 55) {\n    const minutes = Math.round(absDiff / 60)\n    return minutesShort.replace(\"%(time)s\", minutes)\n  }\n\n  if (absDiff < 3600 * 24) {\n    const hours = Math.round(absDiff / 3600)\n    return hoursShort.replace(\"%(time)s\", hours)\n  }\n\n  if (absDiff < 86400 * 7) {\n    const days = Math.round(absDiff / 86400)\n    return daysShort.replace(\"%(time)s\", days)\n  }\n\n  if (date.getFullYear() === now.getFullYear()) {\n    return thisYearShort.format(date)\n  }\n\n  return otherYearShort.format(date)\n}\n","const ALPHABET =\n  \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\nconst ALPHABET_LENGTH = ALPHABET.length\n\nexport default function getRandomString(length) {\n  let string = \"\"\n  for (let i = 0; i < length; i++) {\n    string += ALPHABET[Math.floor(Math.random() * ALPHABET_LENGTH)]\n  }\n  return string\n}\n","import { error } from \"./snackbars\"\n\nfunction handleResponseError(event) {\n  if (isEventVisible(event)) {\n    const message = getResponseErrorMessage(event.detail.xhr)\n    error(message)\n  }\n}\n\nfunction getResponseErrorMessage(xhr) {\n  if (xhr.getResponseHeader(\"content-type\") === \"application/json\") {\n    const data = JSON.parse(xhr.response)\n    if (data.error) {\n      return data.error\n    }\n  }\n\n  if (xhr.status === 404) {\n    return pgettext(\"htmx response error\", \"Page not found\")\n  }\n\n  if (xhr.status === 403) {\n    return pgettext(\"htmx response error\", \"Permission denied\")\n  }\n\n  return pgettext(\"htmx response error\", \"Unexpected error\")\n}\n\nfunction handleSendError(event) {\n  if (isEventVisible(event)) {\n    const message = pgettext(\"htmx response error\", \"Site could not be reached\")\n    error(message)\n  }\n}\n\nfunction handleTimeoutError(event) {\n  if (isEventVisible(event)) {\n    const message = pgettext(\n      \"htmx response error\",\n      \"Site took too long to reply\"\n    )\n    error(message)\n  }\n}\n\nfunction isEventVisible({ detail }) {\n  const silent = getEventTargetSilentAttr(detail.target)\n  return !(silent === \"true\" && detail.requestConfig.verb === \"get\")\n}\n\nfunction getEventTargetSilentAttr(target) {\n  const element = target.closest(\"[hx-silent]\")\n  if (element) {\n    return element.getAttribute(\"hx-silent\")\n  }\n  return null\n}\n\nexport function setupHtmxErrors() {\n  document.addEventListener(\"htmx:responseError\", handleResponseError)\n  document.addEventListener(\"htmx:sendError\", handleSendError)\n  document.addEventListener(\"htmx:timeout\", handleTimeoutError)\n}\n\nsetupHtmxErrors()\n","import \"bootstrap/js/transition\"\nimport \"bootstrap/js/affix\"\nimport \"bootstrap/js/modal\"\nimport \"bootstrap/js/dropdown\"\nimport \"at-js\"\nimport \"cropit\"\nimport \"jquery-caret\"\nimport htmx from \"htmx.org\"\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\nimport AjaxLoader, { useLoader } from \"./AjaxLoader\"\nimport BulkModeration from \"./BulkModeration\"\nimport { Mention } from \"./Autocomplete\"\nimport { deleteElement, slideUpElement } from \"./animations\"\nimport \"./focusOn\"\nimport \"./formValidators\"\nimport \"./htmxErrors\"\nimport Lightbox from \"./lightbox\"\nimport editor, { activateEditors } from \"./editor\"\nimport \"./pagination\"\nimport activatePollChoicesControl from \"./PollChoicesControl\"\nimport quote from \"./Quote\"\nimport \"./richtext\"\nimport * as snackbars from \"./snackbars\"\nimport { updateTabGroups } from \"./TabGroups\"\nimport \"./scrollTo\"\nimport \"./timestamps\"\n\nconst loader = new AjaxLoader()\nconst lightbox = new Lightbox()\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n\n    this.htmx = htmx\n\n    this.loader = loader\n    this.editor = editor\n    this.lightbox = lightbox\n    this.quote = quote\n\n    this.deleteElement = deleteElement\n    this.slideUpElement = slideUpElement\n\n    this.tabGroups = updateTabGroups\n    this.activatePollChoicesControl = activatePollChoicesControl\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before,\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach((initializer) => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n\n  snackbar(type, message) {\n    snackbars.snackbar(type, message)\n  }\n\n  snackbarInfo(message) {\n    snackbars.info(message)\n  }\n\n  snackbarSuccess(message) {\n    snackbars.success(message)\n  }\n\n  snackbarWarning(message) {\n    snackbars.warning(message)\n  }\n\n  snackbarError(message) {\n    snackbars.error(message)\n  }\n\n  bulkModeration(options) {\n    return new BulkModeration(options)\n  }\n\n  hideMarkAsReadModal = () => {\n    $(\"#mark-as-read\").modal(\"hide\")\n  }\n\n  mention = (control) => {\n    return new Mention(control)\n  }\n}\n\n// create the singleton\nconst misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n\n// Register ajax loader events\ndocument.addEventListener(\"htmx:beforeRequest\", ({ target }) => {\n  if (useLoader(target)) {\n    loader.show()\n  }\n})\n\ndocument.addEventListener(\"htmx:afterRequest\", ({ target }) => {\n  if (useLoader(target)) {\n    loader.hide()\n  }\n})\n\n// Register editor events\ndocument.addEventListener(\"htmx:load\", activateEditors)\n\n// Hide moderation modal\ndocument.addEventListener(\"misago:afterModeration\", () => {\n  $(\"#threads-moderation-modal\").modal(\"hide\")\n})\n\n// Custom misago-confirm attribute\ndocument.addEventListener(\"submit\", function (event) {\n  const element = event.target.closest(\"form[misago-confirm]\")\n  if (!!element && !window.confirm(element.getAttribute(\"misago-confirm\"))) {\n    event.preventDefault()\n  }\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function () {\n      ajax.get(context.get(\"AUTH_API\")).then(\n        function (data) {\n          store.dispatch(patch(data))\n        },\n        function (rejection) {\n          snackbar.apiError(rejection)\n        }\n      )\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\",\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer,\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport Navbar from \"../../components/Navbar\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"misago-navbar\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Navbar />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:navbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport NotificationsOverlay from \"../../components/NotificationsOverlay\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    const root = document.getElementById(\"notifications-mount\")\n    ReactDOM.render(\n      <Provider store={store.getStore()}>\n        <NotificationsOverlay />\n      </Provider>,\n      root\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:notifications-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport Notifications from \"../../components/Notifications\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const basename = misago.get(\"NOTIFICATIONS_URL\")\n  if (\n    document.location.pathname.startsWith(basename) &&\n    !document.location.pathname.startsWith(basename + \"disable-email/\") &&\n    context.get(\"isAuthenticated\")\n  ) {\n    const root = document.getElementById(\"page-mount\")\n    ReactDOM.render(\n      <Provider store={store.getStore()}>\n        <Notifications />\n      </Provider>,\n      root\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:notifications\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\",\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { SearchOverlay } from \"../../components/search\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"search-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <SearchOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:search-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import paths from \"misago/components/search-route\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\")),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { SiteNavOverlay } from \"../../components/SiteNav\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"site-nav-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <SiteNavOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:site-nav-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\",\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { UserNavOverlay } from \"../../components/UserNav\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  const root = document.getElementById(\"user-nav-mount\")\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <UserNavOverlay />\n    </Provider>,\n    root\n  )\n}\n\nmisago.addInitializer({\n  name: \"component:user-nav-overlay\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-mount\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\"),\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"../../reducers/overlay\"\nimport store from \"../../services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\"overlay\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:overlay\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {}\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\",\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\",\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function () {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer,\n})\n","import { updateTimestamps } from \"./timestamps\"\n\nexport default class Lightbox {\n  constructor() {\n    this.modal = null\n    this.pager = null\n    this.details = null\n    this.zoom = null\n    this.download = null\n    this.link = null\n    this.container = null\n    this.caption = null\n\n    this.state = null\n    this.template = null\n\n    document.addEventListener(\"DOMContentLoaded\", this._onDOMContentLoaded)\n  }\n\n  _onDOMContentLoaded = () => {\n    this.modal = document.getElementById(\"misago-lightbox-modal\")\n    if (this.modal) {\n      this.pager = this.modal.querySelector(\"[misago-lightbox-pager]\")\n      this.details = this.modal.querySelector(\"[misago-lightbox-details]\")\n      this.zoom = this.modal.querySelector(\"[misago-lightbox-zoom]\")\n      this.download = this.modal.querySelector(\"[misago-lightbox-download]\")\n      this.link = this.modal.querySelector(\"[misago-lightbox-link]\")\n      this.container = this.modal.querySelector(\"[misago-lightbox-container]\")\n      this.caption = this.modal.querySelector(\"[misago-lightbox-caption]\")\n\n      this.template = document.getElementById(\"lightbox-image-caption\")\n\n      this._registerEvents()\n    }\n  }\n\n  _registerEvents() {\n    document.addEventListener(\"click\", (event) => {\n      const image = event.target.closest(\"img[misago-lightbox-media]\")\n      if (!!image) {\n        this.onImageClick(event, image)\n      } else {\n        const button = event.target.closest(\"[misago-lightbox-button]\")\n        if (!!button) {\n          this.onMediaButtonClick(event, button)\n        }\n      }\n    })\n\n    this.modal.querySelector(\"[data-dismiss]\").addEventListener(\"click\", () => {\n      this.onHideLightbox()\n    })\n\n    this.modal\n      .querySelector(\"[misago-lightbox-previous]\")\n      .addEventListener(\"click\", () => {\n        this.state.index = (this.state.index || this.state.total) - 1\n        this.state.media = this.state.items[this.state.index]\n        this.updateLightbox()\n      })\n\n    this.modal\n      .querySelector(\"[misago-lightbox-next]\")\n      .addEventListener(\"click\", () => {\n        this.state.index += 1\n        if (this.state.index === this.state.total) {\n          this.state.index = 0\n        }\n\n        this.state.media = this.state.items[this.state.index]\n        this.updateLightbox()\n      })\n  }\n\n  onImageClick(event, image) {\n    event.preventDefault()\n\n    const root = image.closest(\"[misago-lightbox-root]\")\n    this.state = this.getInitialState(root, image)\n\n    this.updateLightbox()\n    this.showLightbox()\n  }\n\n  onMediaButtonClick(event, button) {\n    event.preventDefault()\n\n    const root = button.closest(\"[misago-lightbox-root]\")\n    const media = button\n      .closest(\"[misago-lightbox-context]\")\n      .querySelector(\"[misago-lightbox-media]\")\n    this.state = this.getInitialState(root, media)\n\n    this.updateLightbox()\n    this.showLightbox()\n  }\n\n  getInitialState(root, media) {\n    const items = this.getRootMedia(root, media)\n    const index = items.map(({ active }) => active).indexOf(true)\n\n    return {\n      items,\n      media: items[index],\n      index: index,\n      total: items.length,\n    }\n  }\n\n  getRootMedia(root, media) {\n    const items = []\n    root.querySelectorAll(\"[misago-lightbox-media]\").forEach((element) => {\n      const context = element.closest(\"[misago-lightbox-context]\")\n      const link = element.closest(\"a\")\n\n      items.push({\n        element,\n        active: element === media,\n        video: element.tagName === \"VIDEO\",\n        image: element.tagName === \"IMG\",\n        caption: !!context ? context.querySelector(\"template\") : null,\n        details: !!context\n          ? context.getAttribute(\"misago-lightbox-details\")\n          : null,\n        download: !!context\n          ? context.getAttribute(\"misago-lightbox-download\")\n          : null,\n        link: !context && link,\n        url: !!context\n          ? context.getAttribute(\"misago-lightbox-url\")\n          : element.getAttribute(\"src\"),\n      })\n    })\n\n    return items\n  }\n\n  updateLightbox() {\n    this.updateLightboxPager()\n    this.updateLightboxOptions()\n    this.updateLightboxNav()\n    this.updateLightboxContainer()\n    this.updateLightboxCaption()\n  }\n\n  updateLightboxPager() {\n    const { state, pager } = this\n    if (state.total > 1) {\n      pager.textContent = pager\n        .getAttribute(\"misago-lightbox-pager\")\n        .replace(\"%(total)s\", state.total)\n        .replace(\"%(index)s\", state.index + 1)\n      pager.classList.remove(\"d-none\")\n    } else {\n      pager.textContent = \"\"\n      pager.classList.add(\"d-none\")\n    }\n  }\n\n  updateLightboxOptions() {\n    const { media } = this.state\n\n    this.updateLightboxOption(this.details, media.details)\n    this.updateLightboxOption(this.download, media.download && media.url)\n    this.updateLightboxOption(this.link, media.link && media.link.href)\n    this.updateLightboxOption(this.zoom, media.url)\n  }\n\n  updateLightboxOption(element, value) {\n    if (value) {\n      element.setAttribute(\"href\", value)\n      element.classList.remove(\"d-none\")\n    } else {\n      element.classList.add(\"d-none\")\n    }\n  }\n\n  updateLightboxNav() {\n    const { state } = this\n    this.modal\n      .querySelectorAll(\"[misago-lightbox-previous], [misago-lightbox-next]\")\n      .forEach(function (button) {\n        if (state.total > 1) {\n          button.classList.remove(\"d-none\")\n        } else {\n          button.classList.add(\"d-none\")\n        }\n      })\n  }\n\n  updateLightboxContainer() {\n    const { state, container } = this\n    const { media } = state\n\n    if (media.image) {\n      this.updateLightboxContainerWithImage(container, media)\n    } else if (media.video) {\n      this.updateLightboxContainerWithVideo(container, media)\n    }\n  }\n\n  updateLightboxContainerWithImage(container, media) {\n    const img = document.createElement(\"img\")\n    img.setAttribute(\"src\", media.url)\n    img.setAttribute(\"alt\", \"\")\n\n    const a = document.createElement(\"a\")\n    a.setAttribute(\"href\", media.url)\n    a.setAttribute(\"target\", \"_blank\")\n    a.appendChild(img)\n\n    container.replaceChildren(a)\n  }\n\n  updateLightboxContainerWithVideo(container, media) {\n    const video = document.createElement(\"video\")\n    video.innerHTML = media.element.innerHTML\n    video.setAttribute(\"controls\", \"true\")\n    video.setAttribute(\"preload\", \"metadata\")\n    container.replaceChildren(video)\n  }\n\n  updateLightboxCaption() {\n    const { state, caption } = this\n    const { media } = state\n\n    if (media.caption) {\n      const template = media.caption.content.cloneNode(true)\n      updateTimestamps(template)\n      caption.replaceChildren(template)\n    } else {\n      const template = this.template.content.cloneNode(true)\n      const name = template.querySelector(\"[lightbox-image-caption-name]\")\n      const description = template.querySelector(\n        \"[lightbox-image-caption-description]\"\n      )\n\n      name.removeAttribute(\"lightbox-image-caption-name\")\n      description.removeAttribute(\"lightbox-image-caption-description\")\n\n      const alt = (media.element.getAttribute(\"alt\") || \"\").trim()\n      const title = (media.element.getAttribute(\"title\") || \"\").trim()\n      const src = media.element.getAttribute(\"src\")\n\n      const nameText =\n        title && alt\n          ? title + \" — \" + alt\n          : title || alt || this.cleanDisplayFilename(src)\n\n      name.textContent = this.shortenLongString(nameText)\n      if (name.textContent !== nameText) {\n        name.setAttribute(\"title\", nameText)\n      }\n\n      if (media.link) {\n        const a = document.createElement(\"a\")\n        const href = media.link.getAttribute(\"href\")\n        a.setAttribute(\"href\", href)\n        a.setAttribute(\"target\", \"_blank\")\n        a.textContent = this.cleanDisplayUrl(href)\n        description.appendChild(a)\n      } else if (title || alt) {\n        description.textContent = this.cleanDisplayUrl(src)\n      } else {\n        description.remove()\n      }\n\n      caption.replaceChildren(template)\n    }\n  }\n\n  cleanDisplayFilename(href) {\n    const slash = href.lastIndexOf(\"/\")\n    if (slash === -1) {\n      return this.cleanDisplayUrl(href)\n    }\n\n    const filename = href.substring(slash + 1).trim()\n    if (filename) {\n      return this.shortenLongString(filename)\n    }\n\n    return this.cleanDisplayUrl(href)\n  }\n\n  cleanDisplayUrl(href) {\n    let clean = href\n    if (clean.startsWith(\"https://\")) {\n      clean = clean.substring(8)\n    } else if (clean.startsWith(\"http://\")) {\n      clean = clean.substring(7)\n    }\n    return this.shortenLongString(clean)\n  }\n\n  shortenLongString(value) {\n    if (value.length <= 80) {\n      return value\n    }\n\n    const prefix = value.substring(0, 35)\n    const suffix = value.substring(value.length - 40)\n    return prefix + \"...\" + suffix\n  }\n\n  showLightbox() {\n    document.querySelectorAll(\"video\").forEach((video) => video.pause())\n    $(this.modal).modal(\"show\")\n  }\n\n  onHideLightbox() {\n    this.modal.querySelectorAll(\"video\").forEach((video) => video.pause())\n  }\n}\n","import htmx from \"htmx.org\"\n\nexport function activatePageSelectForms() {\n  document.querySelectorAll(\"[misago-page-form]\").forEach((element) => {\n    if (element.getAttribute(\"misago-page-form\") === \"\") {\n      activatePageSelectForm(element)\n    }\n  })\n}\n\nexport function activatePageSelectForm(form) {\n  form.setAttribute(\"misago-page-form\", \"true\")\n  form.addEventListener(\"submit\", (event) => {\n    const page = form.getAttribute(\"misago-page\")\n    const input = event.target.querySelector(\"input\")\n    const value = input.value\n    if (value >= input.min && value <= input.max && value != page) {\n      let url = form.getAttribute(\"misago-page-url\")\n      if (value > 1) {\n        url += value + \"/\"\n      }\n\n      window.history.pushState({}, \"\", url)\n      document.getElementById(\"misago-page-scroll-target\").scrollIntoView()\n\n      htmx.ajax(\"GET\", url, {\n        target: \"#misago-htmx-root\",\n        swap: \"outerHTML\",\n      })\n    }\n\n    const toggle = form.closest(\".dropdown\").querySelector(\"[data-toggle]\")\n    if (toggle) {\n      $().dropdown(\"toggle\")\n    }\n\n    event.preventDefault()\n    return false\n  })\n}\n\nhtmx.onLoad(activatePageSelectForms)\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false,\n}\n\nexport const UPDATE_AUTHENTICATED_USER = \"UPDATE_AUTHENTICATED_USER\"\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function updateAuthenticatedUser(data) {\n  return {\n    type: UPDATE_AUTHENTICATED_USER,\n    data,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch,\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user,\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft,\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case UPDATE_AUTHENTICATED_USER:\n      let updatedState = Object.assign({}, state)\n      updatedState.user = Object.assign({}, state.user, action.data)\n      return updatedState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user,\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft,\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars,\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug,\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const OPEN_SITE_NAV = \"OPEN_SITE_NAV\"\nexport const OPEN_SEARCH = \"OPEN_SEARCH\"\nexport const OPEN_NOTIFICATIONS = \"OPEN_NOTIFICATIONS\"\nexport const OPEN_PRIVATE_THREADS = \"OPEN_PRIVATE_THREADS\"\nexport const OPEN_USER_NAV = \"OPEN_USER_NAV\"\nexport const CLOSE = \"CLOSE_OVERLAYS\"\n\nexport function openSiteNav() {\n  return { type: OPEN_SITE_NAV }\n}\n\nexport function openSearch() {\n  return { type: OPEN_SEARCH }\n}\n\nexport function openNotifications() {\n  return { type: OPEN_NOTIFICATIONS }\n}\n\nexport function openPrivateThreads() {\n  return { type: OPEN_PRIVATE_THREADS }\n}\n\nexport function openUserNav() {\n  return { type: OPEN_USER_NAV }\n}\n\nexport function close() {\n  return { type: CLOSE }\n}\n\nexport const initialState = {\n  siteNav: false,\n  search: false,\n  notifications: false,\n  privateThreads: false,\n  userNav: false,\n}\n\nexport default function notifications(state = initialState, action = null) {\n  switch (action.type) {\n    case OPEN_SITE_NAV:\n      return Object.assign({}, state, initialState, { siteNav: true })\n\n    case OPEN_SEARCH:\n      return Object.assign({}, state, initialState, { search: true })\n\n    case OPEN_NOTIFICATIONS:\n      return Object.assign({}, state, initialState, { notifications: true })\n\n    case OPEN_PRIVATE_THREADS:\n      return Object.assign({}, state, initialState, { privateThreads: true })\n\n    case OPEN_USER_NAV:\n      return Object.assign({}, state, initialState, { userNav: true })\n\n    case CLOSE:\n      return Object.assign({}, state, initialState)\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState,\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data,\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL,\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false,\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false,\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on),\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch,\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost,\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post,\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post,\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS,\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false,\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS,\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState,\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts,\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts,\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map((post) => {\n        return Object.assign({}, post, {\n          isSelected: false,\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts,\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map((post) => {\n        return post.id\n      })\n\n      action.state.results.map((post) => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results,\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false,\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map((post) => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts,\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState,\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus,\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch,\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status),\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars,\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug,\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: [],\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState,\n    },\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState,\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider,\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map((provider) => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        }),\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds,\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE,\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId,\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false,\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type,\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR,\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true,\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data,\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data,\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\",\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting,\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread,\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items,\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting,\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting,\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    moderation: getThreadModerationOptions(thread.acl),\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0,\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK,\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy,\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on),\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username,\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars,\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug,\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items,\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null,\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status),\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars,\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug,\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export default function renderTemplate(template, data) {\n  const node = template.content.cloneNode(true)\n\n  node.querySelectorAll(\"[misago-tpl-if]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-if\")\n    if (getVariableValue(data, variable)) {\n      element.removeAttribute(\"misago-tpl-if\")\n    } else {\n      element.remove()\n    }\n  })\n\n  node.querySelectorAll(\"[misago-tpl-ifnot]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-ifnot\")\n    if (getVariableValue(data, variable)) {\n      element.remove()\n    } else {\n      element.removeAttribute(\"misago-tpl-ifnot\")\n    }\n  })\n\n  node.querySelectorAll(\"[misago-tpl-var]\").forEach((element) => {\n    const variable = element.getAttribute(\"misago-tpl-var\")\n    element.innerText = getVariableValue(data, variable) || \"\"\n    element.removeAttribute(\"misago-tpl-var\")\n  })\n\n  node.querySelectorAll(\"[misago-tpl-attr]\").forEach((element) => {\n    const attr = element.getAttribute(\"misago-tpl-attr\")\n    if (attr.indexOf(\":\") !== \":\") {\n      const name = attr.substring(0, attr.indexOf(\":\")).trim()\n      const variable = attr.substring(attr.indexOf(\":\") + 1).trim()\n      const value = variable ? getVariableValue(data, variable) : undefined\n\n      if (name && value) {\n        element.setAttribute(name, value)\n      }\n    }\n    element.removeAttribute(\"misago-tpl-attr\")\n  })\n\n  return node\n}\n\nfunction getVariableValue(data, variable) {\n  if (variable.indexOf(\".\") === -1) {\n    return data[variable]\n  } else {\n    let value = data\n    for (const part of variable.split(\".\")) {\n      if (part && typeof value[part] !== \"undefined\") {\n        value = value[part]\n      } else {\n        return undefined\n      }\n    }\n    return value\n  }\n}\n","import htmx from \"htmx.org\"\nimport * as snackbars from \"./snackbars\"\n\nexport function activateRichText() {\n  document\n    .querySelectorAll(\"[misago-rich-text-code] button\")\n    .forEach((element) => {\n      element.addEventListener(\"click\", copyCode)\n    })\n}\n\nasync function copyCode(event) {\n  const element = event.target.closest(\"[misago-rich-text-code]\")\n  if (!!element) {\n    event.preventDefault()\n    const code = element.querySelector(\"code\").textContent\n    if (code.trim()) {\n      await navigator.clipboard.writeText(code)\n      snackbars.info(pgettext(\"code copied\", \"Code copied\"))\n    }\n  }\n}\n\nhtmx.onLoad(activateRichText)\n","document.body.addEventListener(\"click\", (event) => {\n  const target = event.target.closest(\"[misago-scroll-to]\")\n  if (!!target) {\n    const selector = target.getAttribute(\"misago-scroll-to\")\n    const element = document.querySelector(selector)\n    if (element) {\n      event.preventDefault()\n      element.scrollIntoView({ behavior: \"instant\" })\n    }\n  }\n})\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function (data) {\n          resolve(data)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = pgettext(\n              \"ajax client error\",\n              \"Could not connect to the site.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = pgettext(\n                \"ajax client error\",\n                \"Action link is invalid.\"\n              )\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"ajax client error\",\n              \"Unknown error has occurred.\"\n            )\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function () {\n            return\n          },\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function (resolve, reject) {\n          let wait = function (url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function () {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function () {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false,\n        }\n\n        return new Promise(function (resolve, reject) {\n          self.request(\"GET\", url).then(\n            function (data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function (rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function () {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function (response) {\n          resolve(response)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Could not connect to the site.\"\n            )\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Upload was rejected by the site as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = pgettext(\n                \"api error\",\n                \"Action link is invalid.\"\n              )\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = pgettext(\n              \"api error\",\n              \"Unknown error has occurred.\"\n            )\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username,\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false,\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", (newState) => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username,\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username,\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function (resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function (data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function () {\n          self._snackbar.error(\n            pgettext(\"captcha field\", \"Failed to load CAPTCHA.\")\n          )\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: (response) => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response,\n          },\n        })\n      },\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function (resolve) {\n      var wait = function () {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function () {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={pgettext(\"captcha field\", \"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={pgettext(\n          \"captcha field\",\n          \"This test helps us prevent automated spam registrations on the site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\",\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", (e) => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function (watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback,\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = (element) => {\n    if (!element) return\n    this.highlightCode(element)\n    this.embedYoutubePlayers(element)\n  }\n\n  highlightCode(element) {\n    import(\"highlight\").then(({ default: hljs }) => {\n      const codeblocks = element.querySelectorAll(\"pre>code\")\n      for (let i = 0; i < codeblocks.length; i++) {\n        hljs.highlightElement(codeblocks[i])\n      }\n    })\n  }\n\n  embedYoutubePlayers(element) {\n    const anchors = element.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?feature=oembed\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" frameborder=\"0\" ' +\n        'src=\"' +\n        url +\n        '\" ' +\n        'allow=\"encrypted-media; gyroscope; picture-in-picture\" ' +\n        \"allowfullscreen></iframe>\"\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter((i) => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video,\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        pgettext(\"page title pagination\", \"page: %(page)s\"),\n        {\n          page: title.page,\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        (data) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        (rejection) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency),\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, mount) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._mount = mount\n\n    this._mode = null\n    this._spacer = document.getElementById(\"posting-spacer\")\n    this._observer = new ResizeObserver((entries) => {\n      this._spacer.style.height = entries[0].contentRect.height + \"px\"\n    })\n\n    this._isOpen = false\n    this._isClosing = false\n\n    this._beforeunloadSet = false\n    this._props = null\n  }\n\n  isOpen() {\n    return this._isOpen\n  }\n\n  setBeforeUnload() {\n    if (!this._beforeunloadSet) {\n      window.addEventListener(\"beforeunload\", this.beforeUnload, {\n        capture: true,\n      })\n      this._beforeunloadSet = true\n    }\n  }\n\n  unsetBeforeUnload() {\n    window.removeEventListener(\"beforeunload\", this.beforeUnload, {\n      capture: true,\n    })\n    this._beforeunloadSet = false\n  }\n\n  beforeUnload(event) {\n    event.returnValue = \"true\"\n    return \"true\"\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      if (props.mode === \"QUOTE\") {\n        this._mode = \"REPLY\"\n      } else {\n        this._mode = props.mode\n      }\n\n      this._isOpen = props.submit\n      this._realOpen(Object.assign({}, props, { mode: this._mode }))\n    } else if (props.mode === \"QUOTE\") {\n      this._realOpen(\n        Object.assign({}, this._props, {\n          config: props.config,\n          context: props.context,\n        })\n      )\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    mount(<PostingComponent {...props} />, this._mount.id)\n\n    this._props = props\n    this._mount.classList.add(\"show\")\n    this._observer.observe(this._mount)\n    this.setBeforeUnload()\n  }\n\n  close = () => {\n    this.unsetBeforeUnload()\n    this._props = null\n\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._mount.classList.remove(\"show\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(this._mount)\n        this._observer.unobserve(this._mount)\n        this._spacer.style.height = \"0px;\"\n        this._isClosing = false\n        this._isOpen = false\n        this._mode = null\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert = (message, type) => {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info = (message) => {\n    this.alert(message, \"info\")\n  }\n\n  success = (message) => {\n    this.alert(message, \"success\")\n  }\n\n  warning = (message) => {\n    this.alert(message, \"warning\")\n  }\n\n  error = (message) => {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError = (rejection) => {\n    let message = rejection.data ? rejection.data.detail : rejection.detail\n\n    if (!message) {\n      if (rejection.status === 0) {\n        message = pgettext(\"api error\", \"Could not connect to the site.\")\n      } else if (rejection.status === 404) {\n        message = pgettext(\"api error\", \"Action link is invalid.\")\n      } else {\n        message = pgettext(\"api error\", \"Unknown error has occurred.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = pgettext(\n        \"api error\",\n        \"You don't have permission to perform this action.\"\n      )\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function (resolve, reject) {\n      var wait = function (tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function () {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function (resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import htmx from \"htmx.org\"\n\nconst SNACKBAR_TTL = 6\n\nconst container = document.getElementById(\"misago-snackbars\")\nlet timeout = null\n\nexport function removeSnackbars() {\n  container.replaceChildren()\n}\n\nfunction renderSnackbars() {\n  if (timeout) {\n    window.clearTimeout(timeout)\n  }\n\n  container.querySelectorAll(\".snackbar\").forEach((element) => {\n    element.classList.add(\"in\")\n  })\n\n  timeout = window.setTimeout(() => {\n    container.querySelectorAll(\".snackbar\").forEach((element) => {\n      element.classList.add(\"out\")\n      timeout = window.setTimeout(removeSnackbars, 1000)\n    })\n  }, SNACKBAR_TTL * 1000)\n}\n\nexport function snackbar(type, message) {\n  removeSnackbars()\n\n  if (timeout) {\n    window.clearTimeout(timeout)\n  }\n\n  const element = document.createElement(\"div\")\n  element.classList.add(\"snackbar\")\n  element.classList.add(\"snackbar-\" + type)\n  element.innerText = message\n  element.role = \"alert\"\n  container.appendChild(element)\n\n  timeout = window.setTimeout(renderSnackbars, 100)\n}\n\nexport function info(message) {\n  snackbar(\"info\", message)\n}\n\nexport function success(message) {\n  snackbar(\"success\", message)\n}\n\nexport function warning(message) {\n  snackbar(\"warning\", message)\n}\n\nexport function error(message) {\n  snackbar(\"danger\", message)\n}\n\nhtmx.onLoad(renderSnackbars)\n","import htmx from \"htmx.org\"\n\nimport { dateRelative, dateRelativeShort, fullDateTime } from \"./formats\"\n\nconst cache = {}\n\nexport function updateTimestamp(element) {\n  const timestamp = element.getAttribute(\"misago-timestamp\")\n  const format = element.getAttribute(\"misago-timestamp-format\")\n\n  if (!cache[timestamp]) {\n    cache[timestamp] = new Date(timestamp)\n  }\n\n  if (format !== \"full\" && !element.hasAttribute(\"misago-timestamp-title\")) {\n    element.setAttribute(\"misago-timestamp-title\", \"true\")\n    element.setAttribute(\"title\", fullDateTime.format(cache[timestamp]))\n  }\n\n  if (format === \"short\") {\n    element.textContent = dateRelativeShort(cache[timestamp])\n  } else if (format === \"full\") {\n    element.textContent = fullDateTime.format(cache[timestamp])\n  } else {\n    element.textContent = dateRelative(cache[timestamp])\n  }\n}\n\nexport function startTimestampsUpdates() {\n  document.querySelectorAll(\"[misago-timestamp]\").forEach(updateTimestamp)\n\n  updateTimestamps()\n  window.setInterval(updateTimestamps, 1000 * 55)\n}\n\nexport function updateTimestamps(element) {\n  const target = element || document\n  target.querySelectorAll(\"[misago-timestamp]\").forEach(updateTimestamp)\n}\n\nstartTimestampsUpdates()\nhtmx.onLoad(updateTimestamps)\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function (state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function (ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title =\n      pgettext(\"banned error title\", \"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function (list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function (element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function (a, b) {\n  let ids = []\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\",\n}\n\nexport default function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m]\n  })\n}\n","export default function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","export const ALPHA = \"12345678990abcdefghijklmnopqrstuvwxyz\"\nexport const ALPHA_LEN = ALPHA.length\n\nexport default function getRandomString(len) {\n  const chars = []\n  for (let i = 0; i < len; i++) {\n    const index = Math.floor(Math.random() * ALPHA_LEN)\n    chars.push(ALPHA[index])\n  }\n  return chars.join(\"\")\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function (Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null,\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function (item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function (item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function (item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function (options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: [],\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function (nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        },\n      },\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  }\n}\n","export default function (string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z_]+$\", \"i\")\nconst USERNAME_ALPHANUMERIC = new RegExp(\"[0-9a-z]\", \"i\")\n\nexport function required(message) {\n  return function (value) {\n    if (\n      value === false ||\n      value === null ||\n      String(value).trim().length === 0\n    ) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = pgettext(\n    \"agreement validator\",\n    \"You have to accept the terms of service.\"\n  )\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = pgettext(\n    \"agreement validator\",\n    \"You have to accept the privacy policy.\"\n  )\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return (\n        message || pgettext(\"email validator\", \"Enter a valid e-mail address.\")\n      )\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = value.trim().length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = npgettext(\n          \"value length validator\",\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = value.trim().length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = npgettext(\n          \"value length validator\",\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function (lengthMin) {\n    return npgettext(\n      \"username length validator\",\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function (lengthMax) {\n    return npgettext(\n      \"username length validator\",\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function (value) {\n    const valueTrimmed = value.trim()\n    if (!USERNAME.test(valueTrimmed)) {\n      return pgettext(\n        \"username validator\",\n        \"Username can only contain Latin alphabet letters, digits, and an underscore sign.\"\n      )\n    }\n    if (!USERNAME_ALPHANUMERIC.test(valueTrimmed)) {\n      return pgettext(\n        \"username validator\",\n        \"Username must contain Latin alphabet letters or digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function (value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = npgettext(\n        \"password length validator\",\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"misago:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/ajax.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/auth-sync.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/captcha.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/accept-agreement.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/auth-message.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/banned-page.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/navbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/notifications-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/notifications.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/profile.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/request-activation-link.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/request-password-reset.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/reset-password-form.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/search-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/search.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/site-nav-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/social-auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/thread.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/user-nav-overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/components/users.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/include.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/local-storage.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/modal.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/moment-locale.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/page-title.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/polls.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/posting.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/auth.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/overlay.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/participants.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/poll.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/posts.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile-details.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/profile.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/search.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/selection.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/thread.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/threads.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/tick.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/username-history.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/reducers/users.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/snackbar.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/store.js\")))\n__webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/tick-start.js\")))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/initializers/zxcvbn.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["AjaxLoader","requests","update","timeout","window","clearTimeout","element","classList","add","remove","setTimeout","document","getElementById","useLoader","target","silent","closest","getAttribute","select","suggestions","BEFORE_RE","AHEAD_RE","INVALID_KEYS","Delete","Space","MetaLeft","End","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","SELECT_KEYS","Escape","DEBOUNCE","Mention","control","event","code","visible","preventDefault","handleKey","hide","selection","getSelection","query","getSelectionQuery","getSuggestions","debounce","addEventListener","onKeyDown","onKeyUp","text","value","selectionStart","selectionEnd","before","substring","ahead","start","end","closed","beforeMatch","match","aheadMatch","prefix","trim","suffix","length","get","then","results","show","choice","scroll","scrollTop","focus","caret","setSelectionRange","computePosition","flip","offset","shift","Select","shadow","innerHTML","setAttribute","targetRect","getBoundingClientRect","style","width","height","marker","createElement","appendChild","shadowRect","markerRect","rect","bottom","left","right","top","x","y","keyCode","callback","choices","maxChoice","updateActiveChoice","updateChoices","textPosition","getTextPosition","placement","middleware","padding","Object","assign","map","username","body","ariaHidden","position","opacity","zIndex","contains","children","index","avatars","avatar","filter","size","avatarsHd","img","url","span","innerText","replaceChildren","Suggestions","cache","Promise","resolve","fetch","encodeURIComponent","response","ok","json","misago_suggest_users","htmx","BulkModeration","options","actions","forEach","onRemoveSelection","onAction","form","querySelector","data","FormData","key","push","moderation","ajax","location","href","modal","swap","values","$","querySelectorAll","checked","tagName","type","onLoad","replace","disabled","menu","button","selector","registerEvents","registerActions","activatePollChoicesControl","maxChoices","Number","input","listItem","nextElementSibling","newListItem","cloneNode","newInput","name","cleanInputName","after","indexOf","snackbar","QuoteCursorPosition","QuoteSelection","Ruleset","extractorRules","postprocessRules","rendererRules","tetherRules","Quote","reply","quote","onSelectStart","onSelectEnd","onSelectChange","toolbar","createToolbar","cursor","tether","selecting","updateSelection","updateState","showToolbar","hideToolbar","textarea","trimStart","info","pgettext","clearState","navigator","clipboard","writeText","console","error","message","extractor","postprocess","renderer","range","root","isCollapsed","rangeCount","getRange","getRangeRoot","getSelectionQuote","getRangeAt","Range","setStart","startContainer","startOffset","setEnd","endContainer","endOffset","ancestor","getCommonAncestor","childNodes","cloneContents","commonAncestorContainer","nodeType","Node","TEXT_NODE","parentNode","getQuote","className","createToolbarButton","copyQuote","icon","btn","btnIcon","btnText","getPosition","createShadow","rangeClone","cloneRange","rangeRect","getComputedStyle","getPropertyValue","parseFloat","findTether","tetherRect","tetherOffset","nodes","result","rules","i","node","func","extractNodes","postprocessNodes","renderNodes","stack","state","pos","posMax","r","rule","beforeName","afterName","escapeBBCodeArg","arg","escapeQuotes","escapeBrackets","escapeBackslash","escapeBBCodeContents","escapeMarkdownLink","escapeParentheses","escapeMarkdownLinkText","escapeMarkdownLinkTitle","escapeMarkdownImageTitle","escaped","replaceAll","escapeAutolink","escapeInlineCode","escapeTableCell","getQuotedCode","attachment","nodeName","args","youtube","HEADER_NODES","H1","H2","H3","H4","H5","H6","header","concat","level","parseInt","blockquote","spoiler","content","paragraph","table","tables","Array","from","table_head","table_body","table_row","id","table_th","getTableCellMeta","alignment","table_td","meta","split","list","ordered","list_item","hr","image","alt","title","mention","textContent","link","auto","strong_text","emphasis_text","bold_text","italic_text","underline_text","strikethrough_text","inline_code","softbreak","getCodeTextContent","dedentTrimCode","child","lines","splitLines","trimCodeBlankLines","dedent","line","lineDedent","join","cleanLines","trimEnd","container","fixTable","fixTableHeader","fixTableColumns","thead","head","cols","row","cell","_","rowset","tbody","table_content","td","blocks","parent","hasAttribute","quote_wrapper","wrapNodesInQuote","repeat","lengths","rows","getTableCellText","Math","max","col","items","item","lineIndex","delimiter","TABLE_NODES","TABLE","THEAD","TBODY","TR","TH","TD","LIST_NODES","OL","UL","LI","createRange","selectNode","updateTabGroups","hash","updateTabGroup","oldNav","newNav","nav","oldTab","newTab","findTab","CustomEvent","bubbles","dispatchEvent","tabs","tab","deleteElement","animationName","slideUpElement","duration","clientHeight","overflow","onFrame","timestamp","undefined","progress","min","animation","sin","PI","floor","requestAnimationFrame","React","ApiFetch","props","setState","loading","onData","method","credentials","signal","status","setCache","headers","rejection","request","mutation","controller","AbortController","prevProps","urlChanged","disabledChanged","hasCache","getCache","abort","refetch","Component","ApiMutation","onSuccess","onError","mutate","csrfToken","JSON","stringify","cookieName","misago_csrf","cookie","cookieRegex","RegExp","classnames","Breadcrumbs","BreadcrumbsCategory","category","color","short_name","BreadcrumbsRootCategory","special_role","Dropdown","isOpen","prevState","dropdown","handleClick","removeEventListener","didUpdate","onOpen","onClose","open","toggle","aria","ariaProps","menuAlignRight","menuClassName","close","DropdownDivider","DropdownFooter","DropdownHeader","DropdownMenuItem","DropdownPills","DropdownSubheader","FlexRow","FlexRowCol","shrink","FlexRowSection","ListGroup","ListGroupItem","ListGroupEmpty","ListGroupError","detail","ListGroupLoading","ListGroupMessage","formatFilesize","MarkupAttachmentModal","is_image","filename","filetype","uploaded_on","format","fromNow","uploader","uploader_name","FormGroup","replaceSelection","MarkupCodeModal","ev","syntax","gettext","handleSubmit","LANGUAGES","misago","MisagoMarkup","MarkupEditorAttachments","MarkupEditorFooter","MarkupEditorToolbar","uploadFile","MarkupEditor","preview","post","parsed","apiError","stopPropagation","dataTransfer","files","onAttachmentsChange","acl","max_attachment_size","file","clipboardData","kind","getAsFile","focused","onChange","placeholder","setMentions","onDrop","onPaste","attachments","canProtect","isProtected","post_length_min","enableProtection","disableProtection","showPreview","closePreview","submitText","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","getJSON","q","on","_storage","source","substr","headPos","endPos","MarkupEditorAttachment","markup","getAttachmentMarkup","confirm","interpolate","thumb","MarkupEditorButton","onClick","Button","empty","MarkupFormattingHelpModal","MarkupImageModal","MarkupLinkModal","MarkupQuoteModal","wrapSelection","updateAttachments","insertSpoiler","uploadFiles","multiple","click","ExampleFormatting","ExampleFormattingSpoiler","reveal","isUrl","textUrl","author","URL_PATTERN","str","test","def","newValue","moveStart","moment","getRandomString","ID_LEN","maxSize","limit","upload","refreshState","append","connect","overlay","RegisterButton","SignInButton","SignInModalAutoOpen","NavbarBranding","NavbarExtraMenu","NavbarNotificationsDropdown","NavbarNotificationsToggle","NavbarPrivateThreads","NavbarSearchDropdown","NavbarSearchToggle","NavbarSiteNavDropdown","NavbarSiteNavToggle","NavbarUserNavDropdown","NavbarUserNavToggle","Navbar","dispatch","branding","extraMenuItems","authDelegated","user","searchUrl","notificationsUrl","privateThreadsUrl","showSearch","showPrivateThreads","openSearch","openSiteNav","unreadPrivateThreads","unreadNotifications","openNotifications","openUserNav","settings","auth","logo","logoXs","logo_small","logo_text","email","unread_private_threads","enable_oauth2_client","can_search","can_use_private_threads","NavbarConnected","targetBlank","rel","NotificationsDropdown","badge","active","SearchDropdown","SiteNavDropdown","UserNavDropdown","Avatar","Router","browserHistory","NotificationsHeader","NotificationsRoute","Notifications","basename","path","component","PageHeaderPlain","Link","NotificationsPagination","baseUrl","hasPrevious","firstCursor","lastCursor","hasNext","NotificationsPaginationLink","PillsNav","PillsNavLink","Toolbar","ToolbarSection","ToolbarItem","NotificationsPills","updateAuthenticatedUser","NotificationsFetch","PageTitle","PageContainer","NotificationsList","NotificationsListError","NotificationsListLoading","NotificationsToolbar","route","getBaseUrl","getSubtitle","readAll","mutating","toolbarProps","markAllAsRead","confirmed","success","history","replaceState","NotificationsRouteConnected","ToolbarSpacer","NotificationsDropdownBody","unread","showAll","showUnread","NotificationsDropdownBodyPill","getApiUrl","api","selectState","NotificationsFetchConnected","NotificationsListEmpty","NotificationsListGroup","NotificationsListItem","notification","emptyMessage","errorDetail","NotificationsListItemActor","NotificationsListItemMessage","NotificationsListItemReadStatus","NotificationsListItemTimestamp","isRead","actor","actor_name","__html","Timestamp","createdAt","NotificationsOverlayBody","NotificationsOverlay","notifications","NotificationsOverlayConnected","Overlay","OverlayHeader","NotificationsOverlayBodyPill","BODY_CLASS","scrollOrigin","pageYOffset","scrollTo","closeOnNavigation","OverlayConnected","OverlayHeaderConnected","PageHeader","styleName","PageHeaderBanner","PageHeaderContainer","PageHeaderDetails","PageHeaderHTMLMessage","PageHeaderMessage","subtitle","parts","forum_name","captcha","Loader","RegisterForm","account_activation","isLoaded","criteria","isLoading","all","load","block","showRegisterForm","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","errors","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","LegalAgreement","agreement","agreementHtml","label","SignInModal","DELEGATE_AUTH","LOGIN_URL","search","SiteNavMenu","isAnonymous","mainItems","extraItems","extraFooterItems","categories","users","topNav","footerNav","tosTitle","tosUrl","privacyTitle","privacyUrl","is_vanilla","last","SiteNavMenuConnected","SiteNavOverlay","siteNav","SiteNavOverlayConnected","StartSocialAuth","buttonClassName","buttonLabel","formLabel","labelClassName","socialAuth","pk","button_text","button_color","finalButtonLabel","site","FormHeader","ThreadFlags","thread","weight","best_answer","has_poll","is_unapproved","has_unapproved_posts","is_closed","is_hidden","ThreadReplies","npgettext","replies","round","ThreadStarterCard","starter","starter_name","started_on","dateRelative","dateRelativeShort","fullDateTime","now","Date","diff","ceil","abs","date","tick","scheduleNextUpdate","datetime","displayed","narrow","UserNavMenu","ChangeAvatarModal","selectAvatar","logout","optionsMore","slice","adminUrl","changeAvatar","revealOptions","UserNavMenuConnected","UserNavOverlay","userNav","UserNavOverlayConnected","submit","AcceptAgreement","submiting","confirmation","accept","reload","handleDecline","handleAccept","Form","participants","updateAcl","store","changeValue","patch","op","onUsernameChange","ModalHeader","signedIn","signedOut","getMessage","refresh","size2x","getSrc","resolveAvatarForSize","av","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","defaultProps","avatarType","cropit","deviceRatio","cropitOffset","crop","zoom","onComplete","showError","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","getClassName","Gallery","images","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","completeFlow","getBody","fileSize","validationError","validateFile","URL","createObjectURL","uploaded","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","getUploadProgress","renderCrop","renderUpload","PanelMessage","display","field","fieldname","FieldInput","fields","help_text","Fieldset","groups","group","f","initial","onCancel","CancelButton","Blankslate","cancel","FormDisplay","validation","isValidated","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","newState","formErrors","validateField","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","hasOwnProperty","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","bestAnswer","poll","polls","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","PollSelect","onebox","render","documentNode","find","revealSpoiler","nextProps","nextState","addClass","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","changeOwner","MakeOwner","Remove","is_owner","UserStatus","isOwner","Card","userIsOwner","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","count","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","password","inputs","cacheStale","scorePassword","score","getScore","HASH_LENGTH","setChoices","onDelete","onAdd","PollChoice","deleteItem","canDelete","ChoicesControl","YesNoSwitch","formEmpty","question","every","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","bindInput","PollPublicSwitch","Poll","PollForm","DATE_ABBR","USER_SPAN","USER_URL","votes","PollCreation","poster","getPoster","posted_on","getPostedOn","poster_name","absolute","relative","PollLength","ends_on","getEndsOn","endsOn","PollVotes","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","edit","Message","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","posting","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","can_delete","ChangeVote","isBusy","SeeVotes","seeVotes","Edit","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","DiffItem","getItemClassName","cleanItem","revertEdit","canRevert","Diff","Footer","hydrateEdit","edits","isReady","hydratedPost","hydrate","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","Post","Preview","posts","Default","headline","Invalid","tooltip","Body","Header","PostSide","rank","css_class","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","random","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","CLASS_ACTIVE","CLASS_DEFAULT","CLASS_MINIMIZED","CLASS_FULLSCREEN","PostingDialog","fullscreen","minimized","PostingDialogBody","PostingDialogError","PostingDialogHeader","minimize","fullscreenEnter","fullscreenExit","getGlobalState","getQuoteMarkup","PostingQuoteSelection","getQuoteSelection","focusEditor","globalState","scrollX","scrollY","isRangeContained","isPostContained","isAnyTextSelected","p","dataset","noquote","PostingThreadOptions","isClosed","isHidden","isPinned","unhide","pinGlobally","pinLocally","unpin","icons","getIcons","pin","hidden","pinned","getPostValidators","clearGlobalState","setGlobalState","originalPost","protect","is_protected","can_protect","newPost","originalPostSameAsCurrentPost","noAttachementsAdded","config","loadSuccess","loadError","onQuote","context","newContext","appendData","dialogProps","onPostChange","PostingDialogEditReply","metadata","getQuoteMetadata","convertNodesToMarkup","codeBlock","getQuoteCodeBlock","isNodeInlineCodeBlock","isNodeElementWithQuoteMetadata","getQuoteMetadataFromNode","ELEMENT_NODE","isNodeCodeBlock","getNodeCodeBlockMeta","convertNodeToMarkup","SIMPLE_NODE_MAPPINGS","STRONG","EM","DEL","B","U","I","SUB","SUP","toUpperCase","misagoReply","Start","StartPrivate","Reply","mode","quoteText","onlyQuoteTextInEditor","PostingDialogReply","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","PostingDialogStartPrivate","CategorySelect","categoryOptions","showOptions","onCategoryChange","onHide","onUnhide","onPinGlobally","onPinLocally","onUnpin","PostingDialogStart","isRemoved","a","usernames","normalisedNames","removedBlanks","removedDuplicates","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","EventIcon","event_type","Icon","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","is_read","Event","PostPreview","ListItem","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","backgroundImage","AttachmentDetails","Attachment","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","prompt","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isUnedited","Approve","can_approve","Move","can_move","Split","Protect","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","Error","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","u","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","toISOString","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","UserPostcount","UserStatusLabel","hasVisibleTitle","StatusLabel","isSelected","deselect","can_merge_posts","initialized","observer","IntersectionObserver","entries","observe","entry","isIntersecting","primed","read","destroy","disconnect","ready","initialize","Status","ProfileDataList","profile","is_active","joined_on","FollowButton","MessageButton","ModerationOptions","ProfileHeader","follow","available","ProfileModerationButton","Li","ProfileNav","page","pages","PanelLoader","ban","has","initWithPreloadedData","pop","initWithoutPreloadedData","startPolling","frequency","set","stop","user_message","staff_message","keys","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","ProfileDetailsHeader","onEdit","showEditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","edit_details","Route","Threads","threads","Posts","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","action","getIcon","getLabel","Search","UsersList","loadUsers","more","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","canMessage","can_start_private_threads","isProfileOwner","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","addNameChange","updateUsername","usernameContent","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","ChangeUsername","DeleteAccount","showAvatarDialog","rename","showRenameDialog","showDeleteDialog","BanDetails","Details","Follows","UsernameHistory","WithDropdown","getModeration","can_follow","is_anonymous","can_rename","can_moderate_avatar","COMPONENTS","follows","details","paths","loadChanges","changes","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","usernameMinLength","usernameMaxLength","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","complete","completeRegistration","RequestLinkForm","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","urlQuery","pushState","providers","provider","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SideNav","SearchTime","time","Badge","SearchPage","appendPosts","updateProvider","LoadMore","SearchFetch","SearchInput","SearchQuery","setQuery","SearchMessage","SearchResults","SearchResultsEmpty","SearchResultsError","SearchResultsLoading","CACHE","getSearchUrl","isResultEmpty","resultsCount","SearchResultsList","SearchOverlay","SearchOverlayConnected","SearchResultPost","SearchResultUser","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadModeration","ThreadWatchButton","ThreadHeaderBreadcrumbs","ThreadHeader","hasFlags","is_authenticated","enabled","breadcrumbs","ThreadModerationOptions","withRouter","ThreadPaginator","router","scrollToTop","first","resetScroll","formData","ThreadPaginatorConnected","ThreadPollButton","compact","ThreadPostsModerationOptions","ThreadPostsModeration","dropup","ThreadReplyButton","ThreadShortcutsButton","is_new","new_post","unapproved_post","last_post","ThreadToolbarBottom","onReply","ThreadToolbarThird","ThreadToolbarTop","pollDisabled","onPoll","can_start_poll","stickToBottom","watch","setNotifications","ThreadWatchButtonConnected","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","ErrorsModal","isArray","handleSuccessUnmounted","ThreadChangeTitleModal","MergeModal","successMessage","changeTitle","MergeConflict","best_answers","other_thread","post_set","ModalLoading","basePath","Participants","PostsList","setPageTitle","editPoll","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","threadModeration","getThreadModeration","postsModeration","getPostsModeration","openPollForm","openReplyForm","closePollForm","can_close","can_pin_globally","can_pin","can_unprotect","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","Stats","showStatus","JoinDate","getStatClassName","stat","colClassName","apply","call","UsersNav","getPageUrl","trackedPeriod","days","rankUrl","getUserStatus","getRankName","getUserTitle","counter","ItemPreview","posters","getLeadMessage","tracked_period","RankUsersLeft","RankUsersList","RankUsersListLoader","RankUsersPagination","RankUsersToolbar","PageLead","description","getRankDescription","getComponent","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","CSRF_FIELD_NAME","getCSRFToken","appendCSRFTokenToForm","animations","MarkupEditorUploader","MarkupEditorCodeModal","MarkupEditorImageModal","MarkupEditorLinkModal","MarkupEditorQuoteModal","_resizeEditor","constraints","_getResizeConstraints","firstToolbar","secondToolbar","moreBtn","takenSpace","priority","clientWidth","sort","b","btnWidth","childWidth","childStyle","borderLeftWidth","borderRightWidth","marginLeft","marginRight","toolbarWidth","parentElement","init","_setEditorActive","_setEditorFocus","_setEditorActions","_setEditorPasteUpload","_setEditorDropUpload","getTextarea","mentions","canUpload","showPermissionDeniedError","elements","codeModal","linkModal","imageModal","quoteModal","resizeDebounce","_onWindowResize","focusEvents","actionName","MarkupEditorSelection","warn","_range","_getRange","refocus","whitespace","whitespaces","p1","String","_createRange","setAction","wrap","insert","showLinkModal","showImageModal","showQuoteModal","showCodeModal","showFilePrompt","replaceAttachments","removeAttachmentElement","getAttachmentByKey","activateEditors","activate","MarkupEditorModal","getElement","initForm","setData","cleanUrl","isUnsafeForMarkdown","startsWith","getQuotePrefix","getCodePrefix","getCodeArguments","getCodeDelimiter","cleanInfo","cleanSyntax","renderTemplate","lists","media","other","templates","mediaFooter","mediaFailedFooter","otherFailed","otherUploaded","attachmentsElement","_getAcceptedExtensions","video","uploadUrl","_getUploadUrl","allowedFiles","_isFileTypeAccepted","_createUploadUI","_insertAttachmentsInTextarea","XMLHttpRequest","_addOnLoadedEventListener","_addOnProgressEventListener","_isFileTypeInList","readyState","DONE","_handleUploadSuccess","_handleUploadError","parse","_replaceTextareaPlaceholders","_updateUploadUIWithError","_updateUploadUI","_createAttachmentIDField","lengthComputable","total","progressBar","isImage","isVideo","_isFileTypeImage","_createMediaUploadUI","_isFileTypeVideo","_createOtherUploadUI","buffer","FileReader","onload","readAsDataURL","_addUIToAttachmentsList","prepend","_updateMediaUploadUI","_updateOtherUploadUI","footer","replaceWith","_createErrorMessage","template","removeAttribute","insertAfter","errorTemplate","registerElementValidator","strip","csrf","clearFormControlValidationState","setFormControlValidationState","callValidationUrl","setFormControlErrorValidationState","setFormControlSuccessValidationState","clearFormControlValidationMessages","registerValidators","locale","misago_locale","momentAgo","momentAgoShort","dayAt","soonAt","tomorrowAt","yesterdayAt","minutesShort","hoursShort","daysShort","relativeNumeric","Intl","RelativeTimeFormat","numeric","DateTimeFormat","dateStyle","timeStyle","thisYearDate","month","day","otherYearDate","year","short","weekday","shortTime","thisYearShort","otherYearShort","absDiff","sign","minutes","hours","isSameDay","isYesterday","isTomorrow","formatDayAtTime","getFullYear","getMonth","getDate","yesterday","setDate","ALPHABET","ALPHABET_LENGTH","string","handleResponseError","isEventVisible","getResponseErrorMessage","xhr","getResponseHeader","handleSendError","handleTimeoutError","getEventTargetSilentAttr","requestConfig","verb","setupHtmxErrors","OrderedList","Lightbox","snackbars","loader","lightbox","Misago","_initializers","_context","tabGroups","initializer","initOrder","orderedValues","fallback","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Provider","getStore","Profile","RequestActivationLink","RequestPasswordReset","Users","attr","forum_index_title","reducer","initialState","addReducer","doTick","TICK_PERIOD","updateTimestamps","pager","download","caption","_registerEvents","_onDOMContentLoaded","onImageClick","onMediaButtonClick","onHideLightbox","updateLightbox","getInitialState","showLightbox","getRootMedia","updateLightboxPager","updateLightboxOptions","updateLightboxNav","updateLightboxContainer","updateLightboxCaption","updateLightboxOption","updateLightboxContainerWithImage","updateLightboxContainerWithVideo","nameText","cleanDisplayFilename","shortenLongString","cleanDisplayUrl","slash","lastIndexOf","pause","activatePageSelectForms","activatePageSelectForm","scrollIntoView","UPDATE_AVATAR","UPDATE_USERNAME","UPDATE_AUTHENTICATED_USER","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","updatedState","userId","OPEN_SITE_NAV","OPEN_SEARCH","OPEN_NOTIFICATIONS","OPEN_PRIVATE_THREADS","OPEN_USER_NAV","CLOSE","openPrivateThreads","privateThreads","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","none","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","last_post_on","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","deleteThread","filterThreads","categoriesMap","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","APPEND_USERS","HYDRATE_USERS","variable","getVariableValue","part","activateRichText","copyCode","behavior","Ajax","_cookieName","_csrfToken","_locks","self","reject","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","processData","evt","Auth","local","_store","_local","_modal","syncSession","watchState","getState","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","localStorage","LocalStorage","_prefix","_watchers","e","newValueJson","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","highlightCode","embedYoutubePlayers","_youtube","hljs","codeblocks","highlightElement","anchors","onlyChild","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","player","cleanedUrl","getVideoIdFromUrl","timebit","bits","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","pollId","PostingComponent","Posting","unsetBeforeUnload","_props","_isOpen","_isClosing","_mount","_observer","unobserve","_spacer","_mode","ResizeObserver","contentRect","_beforeunloadSet","beforeUnload","capture","returnValue","_realOpen","changeForm","setBeforeUnload","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","alert","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","SNACKBAR_TTL","removeSnackbars","renderSnackbars","role","updateTimestamp","startTimestampsUpdates","BannedPage","RedrawedBannedPage","changeState","rowWidth","m","bytes","roundSize","toFixed","ALPHA","ALPHA_LEN","len","chars","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values_only","_order","unordered","ordering","insertItem","insertAt","splice","iterations","int","array","routes","childRoutes","onEnter","subString","n","EMAIL","USERNAME","USERNAME_ALPHANUMERIC","returnMessage","lengthMin","lengthMax","valueTrimmed"],"sourceRoot":""}