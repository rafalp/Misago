{"version":3,"file":"misago.js","mappings":"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Cb;QACEp5B,WAAW,EAAED,UAAU;QACvBE,UAAU,EAAE38B;MACd,CAAC,EACD,IAAI,CACL;IACH;EACF,CAAC;AACH;;;;;;;;;;;;ACzIA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,4CAA4C,mBAAmB;WAC/D;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA,2DAA2D,oEAAoE;WAC/H;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEvFA;UACA;UACA;UACA,0DAA0D,+CAA+C;UACzG,0DAA0D,2DAA2D;UACrH,0DAA0D,gEAAgE;UAC1H,0DAA0D,2DAA2D;UACrH,0DAA0D,8DAA8D;UACxH,0DAA0D,kFAAkF;UAC5I,0DAA0D,8EAA8E;UACxI,0DAA0D,6EAA6E;UACvI,0DAA0D,4EAA4E;UACtI,0DAA0D,yEAAyE;UACnI,0DAA0D,yEAAyE;UACnI,0DAA0D,yFAAyF;UACnJ,0DAA0D,wFAAwF;UAClJ,0DAA0D,qFAAqF;UAC/I,0DAA0D,wEAAwE;UAClI,0DAA0D,0EAA0E;UACpI,0DAA0D,6EAA6E;UACvI,0DAA0D,wEAAwE;UAClI,0DAA0D,yEAAyE;UACnI,0DAA0D,2EAA2E;UACrI,0DAA0D,uEAAuE;UACjI,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,6EAA6E;UACvI,0DAA0D,4DAA4D;UACtH,0DAA0D,oEAAoE;UAC9H,0DAA0D,iEAAiE;UAC3H,0DAA0D,4DAA4D;UACtH,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,4EAA4E;UACtI,0DAA0D,oEAAoE;UAC9H,0DAA0D,qEAAqE;UAC/H,0DAA0D,+EAA+E;UACzI,0DAA0D,+EAA+E;UACzI,0DAA0D,uEAAuE;UACjI,0DAA0D,sEAAsE;UAChI,0DAA0D,yEAAyE;UACnI,0DAA0D,wEAAwE;UAClI,0DAA0D,sEAAsE;UAChI,0DAA0D,uEAAuE;UACjI,0DAA0D,oEAAoE;UAC9H,0DAA0D,gFAAgF;UAC1I,0DAA0D,qEAAqE;UAC/H,0DAA0D,+DAA+D;UACzH,0DAA0D,4DAA4D;UACtH,0DAA0D,iEAAiE;UAC3H,oFAAoF,6DAA6D;UACjJ","sources":["webpack://misago/./src/components/Breadcrumbs/Breadcrumbs.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsCategory.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx","webpack://misago/./src/components/Breadcrumbs/index.js","webpack://misago/./src/components/FlexRow/FlexRow.jsx","webpack://misago/./src/components/FlexRow/FlexRowCol.jsx","webpack://misago/./src/components/FlexRow/FlexRowSection.jsx","webpack://misago/./src/components/FlexRow/index.js","webpack://misago/./src/components/MarkupEditor/MarkupCodeModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditor.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorButton.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorFooter.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorToolbar.jsx","webpack://misago/./src/components/MarkupEditor/MarkupImageModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupLinkModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupQuoteModal.jsx","webpack://misago/./src/components/MarkupEditor/index.js","webpack://misago/./src/components/MarkupEditor/operations.js","webpack://misago/./src/components/MarkupEditor/uploadFile.js","webpack://misago/./src/components/PageContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeader.jsx","webpack://misago/./src/components/PageHeader/PageHeaderBanner.jsx","webpack://misago/./src/components/PageHeader/PageHeaderContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeaderDetails.jsx","webpack://misago/./src/components/PageHeader/PageHeaderHTMLMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderPlain.jsx","webpack://misago/./src/components/PageHeader/index.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadFlags.jsx","webpack://misago/./src/components/ThreadReplies.jsx","webpack://misago/./src/components/ThreadStarterCard.jsx","webpack://misago/./src/components/ThreadsList/ThreadsList.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListEmpty.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItem.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemActivity.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCategory.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCheckbox.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemIcon.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemLastPoster.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscription.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListLoader.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx","webpack://misago/./src/components/ThreadsList/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UIPreview/UIPreviewText.js","webpack://misago/./src/components/UIPreview/index.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/categories/blankslate.js","webpack://misago/./src/components/categories/categories-list.js","webpack://misago/./src/components/categories/category/index.js","webpack://misago/./src/components/categories/category/list-item/description.js","webpack://misago/./src/components/categories/category/list-item/icon.js","webpack://misago/./src/components/categories/category/list-item/index.js","webpack://misago/./src/components/categories/category/list-item/last-thread.js","webpack://misago/./src/components/categories/category/list-item/main.js","webpack://misago/./src/components/categories/category/list-item/stats.js","webpack://misago/./src/components/categories/category/list-item/subcategories/index.js","webpack://misago/./src/components/categories/category/list-item/subcategories/list-item.js","webpack://misago/./src/components/categories/index.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/editor/actions/action.js","webpack://misago/./src/components/editor/actions/code.js","webpack://misago/./src/components/editor/actions/emphasis.js","webpack://misago/./src/components/editor/actions/hr.js","webpack://misago/./src/components/editor/actions/image.js","webpack://misago/./src/components/editor/actions/link.js","webpack://misago/./src/components/editor/actions/quote.js","webpack://misago/./src/components/editor/actions/spoiler.js","webpack://misago/./src/components/editor/actions/strikethrough.js","webpack://misago/./src/components/editor/actions/strong.js","webpack://misago/./src/components/editor/attachments/attachment/complete.js","webpack://misago/./src/components/editor/attachments/attachment/error.js","webpack://misago/./src/components/editor/attachments/attachment/index.js","webpack://misago/./src/components/editor/attachments/attachment/upload.js","webpack://misago/./src/components/editor/attachments/index.js","webpack://misago/./src/components/editor/attachments/list.js","webpack://misago/./src/components/editor/attachments/upload-button.js","webpack://misago/./src/components/editor/attachments/uploader.js","webpack://misago/./src/components/editor/index.js","webpack://misago/./src/components/editor/markup-preview.js","webpack://misago/./src/components/editor/textutils.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/navbar-search/clean-results.js","webpack://misago/./src/components/navbar-search/dropdown/constants.js","webpack://misago/./src/components/navbar-search/dropdown/dropdown-menu.js","webpack://misago/./src/components/navbar-search/dropdown/empty.js","webpack://misago/./src/components/navbar-search/dropdown/flatten-results.js","webpack://misago/./src/components/navbar-search/dropdown/index.js","webpack://misago/./src/components/navbar-search/dropdown/input.js","webpack://misago/./src/components/navbar-search/dropdown/loader.js","webpack://misago/./src/components/navbar-search/dropdown/result/footer.js","webpack://misago/./src/components/navbar-search/dropdown/result/header.js","webpack://misago/./src/components/navbar-search/dropdown/result/index.js","webpack://misago/./src/components/navbar-search/dropdown/result/result.js","webpack://misago/./src/components/navbar-search/dropdown/result/thread.js","webpack://misago/./src/components/navbar-search/dropdown/result/user.js","webpack://misago/./src/components/navbar-search/index.js","webpack://misago/./src/components/options/change-username/form-loading.js","webpack://misago/./src/components/options/change-username/form-locked.js","webpack://misago/./src/components/options/change-username/form.js","webpack://misago/./src/components/options/change-username/root.js","webpack://misago/./src/components/options/delete-account.js","webpack://misago/./src/components/options/download-data.js","webpack://misago/./src/components/options/edit-details.js","webpack://misago/./src/components/options/forum-options.js","webpack://misago/./src/components/options/navs.js","webpack://misago/./src/components/options/root.js","webpack://misago/./src/components/options/sign-in-credentials/UnusablePasswordMessage.js","webpack://misago/./src/components/options/sign-in-credentials/change-email.js","webpack://misago/./src/components/options/sign-in-credentials/change-password.js","webpack://misago/./src/components/options/sign-in-credentials/root.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/PostingDialog.jsx","webpack://misago/./src/components/posting/PostingDialogBody.jsx","webpack://misago/./src/components/posting/PostingDialogHeader.jsx","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/container.js","webpack://misago/./src/components/posting/utils/loader.js","webpack://misago/./src/components/posting/utils/message.js","webpack://misago/./src/components/posting/utils/options.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ProfileDataList.jsx","webpack://misago/./src/components/profile/ProfileHeader.jsx","webpack://misago/./src/components/profile/ProfileNav.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register-button.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search/form.js","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/search/page.js","webpack://misago/./src/components/search/sidenav.js","webpack://misago/./src/components/search/threads/index.js","webpack://misago/./src/components/search/threads/results.js","webpack://misago/./src/components/search/users/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeader.jsx","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx","webpack://misago/./src/components/thread/ThreadHeader/index.js","webpack://misago/./src/components/thread/ThreadModeration.jsx","webpack://misago/./src/components/thread/ThreadPagination.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadPostsLeft.jsx","webpack://misago/./src/components/thread/ThreadPostsModeration.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadSubscriptionButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/threads/ThreadsCategoryPicker.jsx","webpack://misago/./src/components/threads/ThreadsListPicker.jsx","webpack://misago/./src/components/threads/ThreadsToolbar.jsx","webpack://misago/./src/components/threads/ThreadsToolbarModeration.jsx","webpack://misago/./src/components/threads/compare.js","webpack://misago/./src/components/threads/container.js","webpack://misago/./src/components/threads/moderation/controls.js","webpack://misago/./src/components/threads/moderation/errors-list.js","webpack://misago/./src/components/threads/moderation/merge.js","webpack://misago/./src/components/threads/moderation/move.js","webpack://misago/./src/components/threads/root.js","webpack://misago/./src/components/threads/route.js","webpack://misago/./src/components/threads/utils.js","webpack://misago/./src/components/user-menu/guest-nav.js","webpack://misago/./src/components/user-menu/root.js","webpack://misago/./src/components/user-menu/user-nav.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/UsersNav.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/rank/RankUsersLeft.jsx","webpack://misago/./src/components/users/rank/RankUsersList.js","webpack://misago/./src/components/users/rank/RankUsersListLoader.js","webpack://misago/./src/components/users/rank/RankUsersPagination.jsx","webpack://misago/./src/components/users/rank/RankUsersToolbar.jsx","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/categories.js","webpack://misago/./src/initializers/components/options.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/threads.js","webpack://misago/./src/initializers/components/user-menu.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/is-url.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/ensure chunk","webpack://misago/webpack/runtime/get javascript chunk filename","webpack://misago/webpack/runtime/get mini-css chunk filename","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/load script","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/publicPath","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Breadcrumbs = ({ children, className }) => (\n  <ul className={classnames(\"breadcrumbs\", className)}>{children}</ul>\n)\n\nexport default Breadcrumbs\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span\n        className=\"material-icon\"\n        style={{ color: category.color || \"inherit\" }}\n      >\n        label\n      </span>\n      {!!category.short_name && (\n        <span\n          className=\"breadcrumbs-item-name hidden-sm hidden-md hidden-lg\"\n          title={category.name}\n        >\n          {category.short_name}\n        </span>\n      )}\n      {!!category.short_name && (\n        <span className=\"breadcrumbs-item-name hidden-xs\">{category.name}</span>\n      )}\n      {!category.short_name && (\n        <span className=\"breadcrumbs-item-name\">{category.name}</span>\n      )}\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsCategory\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsRootCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span className=\"material-icon\">chevron_right</span>\n      <span className=\"breadcrumbs-item-name\">\n        {category.special_role === \"root_category\"\n          ? gettext(\"Threads\")\n          : gettext(\"Private threads\")}\n      </span>\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsRootCategory\n","import Breadcrumbs from \"./Breadcrumbs\"\nimport BreadcrumbsCategory from \"./BreadcrumbsCategory\"\nimport BreadcrumbsRootCategory from \"./BreadcrumbsRootCategory\"\n\nexport { Breadcrumbs, BreadcrumbsCategory, BreadcrumbsRootCategory }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRow = ({ children, className }) => (\n  <div className={classnames(\"flex-row\", className)}>{children}</div>\n)\n\nexport default FlexRow\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowCol = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"flex-row-col\", className, {\n      \"flex-row-col-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowCol\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"flex-row-section\",\n      { \"flex-row-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowSection\n","import FlexRow from \"./FlexRow\"\nimport FlexRowCol from \"./FlexRowCol\"\nimport FlexRowSection from \"./FlexRowSection\"\n\nexport { FlexRow, FlexRowCol, FlexRowSection }\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupCodeModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      syntax: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const syntax = this.state.syntax.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    replaceSelection(\n      Object.assign({}, selection, { text }),\n      update,\n      prefix + \"```\" + syntax + \"\\n\" + text + \"\\n```\\n\\n\"\n    )\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Code\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_code_syntax\"\n                label={pgettext(\"markup editor\", \"Syntax highlighting\")}\n              >\n                <select\n                  id=\"markup_code_syntax\"\n                  className=\"form-control\"\n                  value={this.state.syntax}\n                  onChange={(event) =>\n                    this.setState({ syntax: event.target.value })\n                  }\n                >\n                  <option value=\"\">\n                    {pgettext(\"markup editor\", \"No syntax highlighting\")}\n                  </option>\n                  {LANGUAGES.map(({ value, name }) => (\n                    <option key={value} value={value}>\n                      {name}\n                    </option>\n                  ))}\n                </select>\n              </FormGroup>\n              <FormGroup\n                for=\"markup_code_text\"\n                label={pgettext(\"markup editor\", \"Code to insert\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_code_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert code\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst LANGUAGES = [\n  { value: \"bash\", name: \"Bash\" },\n  { value: \"c\", name: \"C\" },\n  { value: \"c#\", name: \"C#\" },\n  { value: \"c++\", name: \"C++\" },\n  { value: \"css\", name: \"CSS\" },\n  { value: \"diff\", name: \"Diff\" },\n  { value: \"go\", name: \"Go\" },\n  { value: \"graphql\", name: \"GraphQL\" },\n  { value: \"html,\", name: \"HTML\" },\n  { value: \"xml\", name: \"XML\" },\n  { value: \"json\", name: \"JSON\" },\n  { value: \"java\", name: \"Java\" },\n  { value: \"javascript\", name: \"JavaScript\" },\n  { value: \"kotlin\", name: \"Kotlin\" },\n  { value: \"less\", name: \"Less\" },\n  { value: \"lua\", name: \"Lua\" },\n  { value: \"makefile\", name: \"Makefile\" },\n  { value: \"markdown\", name: \"Markdown\" },\n  { value: \"objective-C\", name: \"Objective-C\" },\n  { value: \"php\", name: \"PHP\" },\n  { value: \"perl\", name: \"Perl\" },\n  { value: \"plain\", name: \"Plain\" },\n  { value: \"text\", name: \"text\" },\n  { value: \"python\", name: \"Python\" },\n  { value: \"repl\", name: \"REPL\" },\n  { value: \"r\", name: \"R\" },\n  { value: \"ruby\", name: \"Ruby\" },\n  { value: \"rust\", name: \"Rust\" },\n  { value: \"scss\", name: \"SCSS\" },\n  { value: \"sql\", name: \"SQL\" },\n  { value: \"shell\", name: \"Shell Session\" },\n  { value: \"swift\", name: \"Swift\" },\n  { value: \"toml\", name: \"TOML\" },\n  { value: \"ini\", name: \"INI\" },\n  { value: \"typescript\", name: \"TypeScript\" },\n  { value: \"visualbasic\", name: \"Visual Basic .NET\" },\n  { value: \"webassembly\", name: \"WebAssembly\" },\n  { value: \"yaml\", name: \"YAML\" },\n]\n\nexport default MarkupCodeModal\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport MisagoMarkup from \"../misago-markup\"\nimport MarkupEditorFooter from \"./MarkupEditorFooter\"\nimport MarkupEditorToolbar from \"./MarkupEditorToolbar\"\nimport uploadFile from \"./uploadFile\"\n\nclass MarkupEditor extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      element: null,\n      focused: false,\n      loading: false,\n      preview: false,\n      parsed: null,\n    }\n  }\n\n  showPreview = () => {\n    if (this.state.loading) return\n\n    this.setState({ loading: true, preview: true, element: null })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        this.setState({ loading: false, parsed: data.parsed })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({ loading: false })\n      }\n    )\n  }\n\n  closePreview = () => {\n    this.setState({ preview: false })\n  }\n\n  onDrop = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (!event.dataTransfer.files) return\n\n    const { onAttachmentsChange: setState } = this.props\n\n    if (misago.get(\"user\").acl.max_attachment_size) {\n      for (let i = 0; i < event.dataTransfer.files.length; i++) {\n        const file = event.dataTransfer.files[i]\n        uploadFile(file, setState)\n      }\n    }\n  }\n\n  onPaste = (event) => {\n    const { onAttachmentsChange: setState } = this.props\n\n    const files = []\n    for (let i = 0; i < event.clipboardData.items.length; i++) {\n      const item = event.clipboardData.items[i]\n      if (item.kind === \"file\") {\n        files.push(item.getAsFile())\n      }\n    }\n\n    if (files.length) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (misago.get(\"user\").acl.max_attachment_size) {\n        for (let i = 0; i < files.length; i++) {\n          uploadFile(files[i], setState)\n        }\n      }\n    }\n  }\n\n  render = () => (\n    <div\n      className={classnames(\"markup-editor\", {\n        \"markup-editor-focused\": this.state.focused && !this.state.preview,\n      })}\n    >\n      <MarkupEditorToolbar\n        disabled={this.props.disabled || this.state.preview}\n        element={this.state.element}\n        update={(value) => this.props.onChange({ target: { value } })}\n        updateAttachments={this.props.onAttachmentsChange}\n      />\n      {this.state.preview ? (\n        <div className=\"markup-editor-preview\">\n          {this.state.loading ? (\n            \"loading...\"\n          ) : (\n            <MisagoMarkup markup={this.state.parsed} />\n          )}\n        </div>\n      ) : (\n        <textarea\n          className=\"markup-editor-textarea form-control\"\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          disabled={this.props.disabled || this.state.loading}\n          rows={6}\n          ref={(element) => {\n            if (element && !this.state.element) {\n              this.setState({ element })\n            }\n          }}\n          onChange={this.props.onChange}\n          onDrop={this.onDrop}\n          onFocus={() => this.setState({ focused: true })}\n          onPaste={this.onPaste}\n          onBlur={() => this.setState({ focused: false })}\n        />\n      )}\n      {this.props.attachments.map((attachment) => (\n        <div key={attachment.key}>\n          {attachment.filename}\n          {attachment.progress + \"%\"}\n        </div>\n      ))}\n      <MarkupEditorFooter\n        preview={this.state.preview}\n        disabled={this.props.disabled}\n        empty={\n          this.props.value.trim().length <\n            misago.get(\"SETTINGS\").post_length_min || this.state.loading\n        }\n        showPreview={this.showPreview}\n        closePreview={this.closePreview}\n        submitText={this.props.submitText}\n      />\n    </div>\n  )\n}\n\nexport default MarkupEditor\n","import React from \"react\"\n\nconst MarkupEditorButton = ({ disabled, icon, title, onClick }) => (\n  <button\n    className=\"btn btn-markup-editor\"\n    title={title}\n    type=\"button\"\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">{icon}</span>\n  </button>\n)\n\nexport default MarkupEditorButton\n","import React from \"react\"\nimport Button from \"../button\"\n\nconst MarkupEditorFooter = ({\n  disabled,\n  empty,\n  preview,\n  submitText,\n  showPreview,\n  closePreview,\n}) => (\n  <div className=\"markup-editor-footer\">\n    <div className=\"markup-editor-spacer\" />\n    {preview ? (\n      <Button className=\"btn-default\" onClick={closePreview} type=\"button\">\n        {pgettext(\"markup editor\", \"Edit\")}\n      </Button>\n    ) : (\n      <Button\n        className=\"btn-default\"\n        disabled={disabled || empty}\n        onClick={showPreview}\n        type=\"button\"\n      >\n        {pgettext(\"markup editor\", \"Preview\")}\n      </Button>\n    )}\n    <Button className=\"btn-primary\" disabled={disabled || empty}>\n      {submitText || gettext(\"Post\")}\n    </Button>\n  </div>\n)\n\nexport default MarkupEditorFooter\n","import React from \"react\"\nimport misago from \"../../\"\nimport modal from \"../../services/modal\"\nimport MarkupCodeModal from \"./MarkupCodeModal\"\nimport MarkupImageModal from \"./MarkupImageModal\"\nimport MarkupLinkModal from \"./MarkupLinkModal\"\nimport MarkupQuoteModal from \"./MarkupQuoteModal\"\nimport MarkupEditorButton from \"./MarkupEditorButton\"\nimport { getSelection, replaceSelection, wrapSelection } from \"./operations\"\nimport uploadFile from \"./uploadFile\"\n\nconst MarkupEditorToolbar = ({\n  disabled,\n  element,\n  update,\n  updateAttachments,\n}) => {\n  const actions = [\n    {\n      name: pgettext(\"markup editor\", \"Strong\"),\n      icon: \"format_bold\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"**\",\n          \"**\",\n          pgettext(\"example markup\", \"Strong text\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Emphasis\"),\n      icon: \"format_italic\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"*\",\n          \"*\",\n          pgettext(\"example markup\", \"Text with emphasis\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Strikethrough\"),\n      icon: \"format_strikethrough\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"~~\",\n          \"~~\",\n          pgettext(\"example markup\", \"Text with strikethrough\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Horizontal ruler\"),\n      icon: \"remove\",\n      onClick: () => {\n        replaceSelection(getSelection(element), update, \"\\n\\n- - -\\n\\n\")\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Link\"),\n      icon: \"insert_link\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupLinkModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Image\"),\n      icon: \"insert_photo\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupImageModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Quote\"),\n      icon: \"format_quote\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupQuoteModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Spoiler\"),\n      icon: \"visibility_off\",\n      onClick: () => {\n        insertSpoiler(element, update)\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Code\"),\n      icon: \"code\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupCodeModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n  ]\n\n  if (misago.get(\"user\").acl.max_attachment_size) {\n    actions.push({\n      name: pgettext(\"markup editor\", \"Upload file\"),\n      icon: \"file_upload\",\n      onClick: () => uploadFiles(updateAttachments),\n    })\n  }\n\n  return (\n    <div className=\"markup-editor-toolbar\">\n      {actions.map(({ name, icon, onClick }) => (\n        <MarkupEditorButton\n          key={icon}\n          title={name}\n          icon={icon}\n          disabled={disabled || !element}\n          onClick={onClick}\n        />\n      ))}\n    </div>\n  )\n}\n\nconst insertSpoiler = (element, update) => {\n  const selection = getSelection(element)\n  const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n  wrapSelection(\n    selection,\n    update,\n    prefix + \"[spoiler]\\n\",\n    \"\\n[/spoiler]\\n\\n\",\n    pgettext(\"markup editor\", \"Spoiler text\")\n  )\n}\n\nconst uploadFiles = (setState) => {\n  const input = document.createElement(\"input\")\n  input.type = \"file\"\n  input.multiple = \"multiple\"\n\n  input.addEventListener(\"change\", function () {\n    for (let i = 0; i < input.files.length; i++) {\n      uploadFile(input.files[i], setState)\n    }\n  })\n\n  input.click()\n}\n\nexport default MarkupEditorToolbar\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport isUrl from \"../../utils/is-url\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupImageModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (!isUrl(url)) {\n      this.setState({ error: gettext(\"Enter a valid address.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"![\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"!(\" + url + \")\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Image\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Image description\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional but recommended . Will be displayed instead of image when it fails to load.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Image address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert image\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupImageModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport isUrl from \"../../utils/is-url\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupLinkModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (!isUrl(url)) {\n      this.setState({ error: gettext(\"Enter a valid address.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"[\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"<\" + url + \">\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Link\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link text\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional. Will be displayed instead of link's address.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert link\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupLinkModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupQuoteModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      author: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const author = this.state.author.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    if (author) {\n      replaceSelection(\n        selection,\n        update,\n        prefix + '[quote=\"' + author + '\"]\\n' + text + \"\\n[/quote]\\n\\n\"\n      )\n    } else {\n      replaceSelection(\n        selection,\n        update,\n        prefix + \"[quote]\\n\" + text + \"\\n[/quote]\\n\\n\"\n      )\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Quote\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_quote_author\"\n                label={pgettext(\"markup editor\", \"Quote's author or source\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  'Optional. If it\\'s username, put \"@\" before it (\"@JohnDoe\").'\n                )}\n              >\n                <input\n                  id=\"markup_quote_author\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.author}\n                  onChange={(event) =>\n                    this.setState({ author: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_quote_text\"\n                label={pgettext(\"markup editor\", \"Quoted text\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_quote_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert quote\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupQuoteModal\n","import MarkupEditor from \"./MarkupEditor\"\n\nexport default MarkupEditor\n","const wrapSelection = (selection, update, prefix, suffix, def) => {\n  const text = selection.text || def || \"\"\n  let newValue = selection.prefix\n  newValue += prefix + text + suffix\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    const caret = selection.start + prefix.length\n    selection.textarea.focus()\n    selection.textarea.setSelectionRange(caret, caret + text.length)\n  }, 250)\n}\n\nconst replaceSelection = (selection, update, text) => {\n  let newValue = selection.prefix\n  newValue += text\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    const caret = selection.end + text.length\n    selection.textarea.focus()\n    selection.textarea.setSelectionRange(caret, caret)\n  }, 250)\n}\n\nconst getSelection = (textarea) => {\n  if (document.selection) {\n    textarea.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -textarea.value.length)\n    return createRange(textarea, range.text.length - length, range.text.length)\n  }\n\n  if (textarea.selectionStart || textarea.selectionStart == \"0\") {\n    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd)\n  }\n}\n\nconst createRange = (textarea, start, end) => {\n  return {\n    textarea: textarea,\n    start: start,\n    end: end,\n    text: textarea.value.substring(start, end),\n    prefix: textarea.value.substring(0, start),\n    suffix: textarea.value.substring(end),\n  }\n}\n\nexport { getSelection, replaceSelection, wrapSelection }\n","import moment from \"moment\"\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\n\nconst ID_LEN = 32\n\nconst uploadFile = (file, setState) => {\n  let upload = {\n    id: null,\n    key: getRandomString(ID_LEN),\n    error: null,\n    uploaded_on: null,\n    progress: 0,\n    filename: file.name,\n    filetype: null,\n    is_image: false,\n    size: 0,\n    url: null,\n    uploader_name: null,\n  }\n\n  setState(({ attachments }) => {\n    return { attachments: [upload].concat(attachments) }\n  })\n\n  const refreshState = () => {\n    setState(({ attachments }) => {\n      return { attachments: attachments.concat() }\n    })\n  }\n\n  const data = new FormData()\n  data.append(\"upload\", file)\n\n  ajax\n    .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n      upload.progress = progress\n      refreshState()\n    })\n    .then(\n      (data) => {\n        Object.assign(upload, data, { uploaded_on: moment(data.uploaded_on) })\n        refreshState()\n      },\n      (rejection) => {\n        if (rejection.status === 400 || rejection.status === 413) {\n          upload.error = rejection.detail\n          refreshState()\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n}\n\nconst ALPHA = \"12345678990abcdefghijklmnopqrstuvwxyz\"\nconst ALPHA_LEN = ALPHA.length\n\nconst getRandomString = (len) => {\n  const chars = []\n  for (let i = 0; i < len; i++) {\n    const index = Math.floor(Math.random() * ALPHA_LEN)\n    chars.push(ALPHA[index])\n  }\n  return chars.join(\"\")\n}\n\nexport default uploadFile\n","import React from \"react\"\n\nconst PageContainer = ({ children }) => (\n  <div className=\"container page-container\">{children}</div>\n)\n\nexport default PageContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeader = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header\",\n      className,\n      styleName && \"page-header-\" + styleName\n    )}\n  >\n    <div className=\"page-header-bg-image\">\n      <div className=\"page-header-bg-overlay\">\n        <div className=\"page-header-image\" />\n        {children}\n      </div>\n    </div>\n  </div>\n)\n\nexport default PageHeader\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderBanner = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header-banner\",\n      className,\n      styleName && \"page-header-banner-\" + styleName\n    )}\n  >\n    <div className=\"page-header-banner-bg-image\">\n      <div className=\"page-header-banner-bg-overlay\">{children}</div>\n    </div>\n  </div>\n)\n\nexport default PageHeaderBanner\n","import React from \"react\"\n\nconst PageHeaderContainer = ({ children }) => (\n  <div className=\"container page-header-container\">{children}</div>\n)\n\nexport default PageHeaderContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderDetails = ({ children, className }) => (\n  <div className={classnames(\"page-header-details\", className)}>{children}</div>\n)\n\nexport default PageHeaderDetails\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderHTMLMessage = ({ className, message }) => (\n  <div\n    className={classnames(\"page-header-message\", className)}\n    dangerouslySetInnerHTML={{ __html: message }}\n  />\n)\n\nexport default PageHeaderHTMLMessage\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderMessage = ({ children, className }) => (\n  <div className={classnames(\"page-header-message\", className)}>{children}</div>\n)\n\nexport default PageHeaderMessage\n","import React from \"react\"\nimport PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\n\nconst PageHeaderPlain = ({ styleName, header, message }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <h1>{header}</h1>\n      </PageHeaderBanner>\n      {message && (\n        <PageHeaderDetails styleName={styleName}>{message}</PageHeaderDetails>\n      )}\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nexport default PageHeaderPlain\n","import PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\nimport PageHeaderHTMLMessage from \"./PageHeaderHTMLMessage\"\nimport PageHeaderMessage from \"./PageHeaderMessage\"\nimport PageHeaderPlain from \"./PageHeaderPlain\"\n\nexport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = (props) => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange,\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={gettext(\"the terms of service\")}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={gettext(\"the privacy policy\")}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = (props) => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    gettext(\"I have read and accept %(agreement)s.\"),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = (props) => {\n  const { buttonClassName, buttonLabel, formLabel, header, labelClassName } =\n    props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ id, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + id\n          const style = button_color ? { color: button_color } : null\n          const finalButtonLabel =\n            button_text || interpolate(buttonLabel, { site: name }, true)\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={id}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\n\nconst ThreadFlags = ({ thread }) => (\n  <ul className=\"thread-flags\">\n    {thread.weight == 2 && (\n      <li\n        className=\"thread-flag-pinned-globally\"\n        title={gettext(\"Pinned globally\")}\n      >\n        <span className=\"material-icon\">bookmark</span>\n      </li>\n    )}\n    {thread.weight == 1 && (\n      <li\n        className=\"thread-flag-pinned-locally\"\n        title={gettext(\"Pinned in category\")}\n      >\n        <span className=\"material-icon\">bookmark_outline</span>\n      </li>\n    )}\n    {thread.best_answer && (\n      <li className=\"thread-flag-answered\" title={gettext(\"Answered\")}>\n        <span className=\"material-icon\">check_circle</span>\n      </li>\n    )}\n    {thread.has_poll && (\n      <li className=\"thread-flag-poll\" title={gettext(\"Poll\")}>\n        <span className=\"material-icon\">poll</span>\n      </li>\n    )}\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\n      <li\n        className=\"thread-flag-unapproved\"\n        title={\n          thread.is_unapproved\n            ? gettext(\"Awaiting approval\")\n            : gettext(\"Has unapproved posts\")\n        }\n      >\n        <span className=\"material-icon\">visibility</span>\n      </li>\n    )}\n    {thread.is_closed && (\n      <li className=\"thread-flag-closed\" title={gettext(\"Closed\")}>\n        <span className=\"material-icon\">lock</span>\n      </li>\n    )}\n    {thread.is_hidden && (\n      <li className=\"thread-flag-hidden\" title={gettext(\"Hidden\")}>\n        <span className=\"material-icon\">visibility_off</span>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ThreadFlags\n","import React from \"react\"\n\nconst ThreadReplies = ({ thread }) => (\n  <span\n    className=\"threads-replies\"\n    title={interpolate(\n      ngettext(\"%(replies)s reply\", \"%(replies)s replies\", thread.replies),\n      { replies: thread.replies },\n      true\n    )}\n  >\n    <span className=\"material-icon\">chat_bubble_outline</span>\n    {thread.replies > 980\n      ? Math.round(thread.replies / 1000) + \"K\"\n      : thread.replies}\n  </span>\n)\n\nexport default ThreadReplies\n","import React from \"react\"\nimport Avatar from \"./avatar\"\n\nconst ThreadStarterCard = ({ thread }) => (\n  <div className=\"thread-user-card\">\n    <div className=\"thread-user-card-media\">\n      {thread.starter ? (\n        <a href={thread.url.starter}>\n          <Avatar size={40} user={thread.starter} />\n        </a>\n      ) : (\n        <Avatar size={40} />\n      )}\n    </div>\n    <div className=\"thread-user-card-body\">\n      <div className=\"thread-user-card-header\">\n        {thread.starter ? (\n          <a\n            className=\"item-title\"\n            href={thread.url.starter}\n            title={gettext(\"Thread author\")}\n          >\n            {thread.starter.username}\n          </a>\n        ) : (\n          <span className=\"item-title\" title={gettext(\"Thread author\")}>\n            {thread.starter_name}\n          </span>\n        )}\n      </div>\n      <div>\n        <span\n          className=\"text-muted\"\n          title={interpolate(\n            gettext(\"Started on: %(timestamp)s\"),\n            {\n              timestamp: thread.started_on.format(\"LLL\"),\n            },\n            true\n          )}\n        >\n          {thread.started_on.fromNow()}\n        </span>\n      </div>\n    </div>\n  </div>\n)\n\nexport default ThreadStarterCard\n","import React from \"react\"\nimport ThreadsListEmpty from \"./ThreadsListEmpty\"\nimport ThreadsListItem from \"./ThreadsListItem\"\nimport ThreadsListLoader from \"./ThreadsListLoader\"\nimport ThreadsListUpdatePrompt from \"./ThreadsListUpdatePrompt\"\n\nconst ThreadsList = ({\n  list,\n  categories,\n  category,\n  threads,\n  busyThreads,\n  selection,\n  isLoaded,\n  showOptions,\n  updatedThreads,\n  applyUpdate,\n  emptyMessage,\n}) => {\n  if (!isLoaded) {\n    return <ThreadsListLoader showOptions={showOptions} />\n  }\n\n  return (\n    <div className=\"threads-list\">\n      {threads.length > 0 ? (\n        <ul className=\"list-group\">\n          {updatedThreads > 0 && (\n            <ThreadsListUpdatePrompt\n              threads={updatedThreads}\n              onClick={applyUpdate}\n            />\n          )}\n          {threads.map((thread) => (\n            <ThreadsListItem\n              key={thread.id}\n              activeCategory={category}\n              categories={categories}\n              thread={thread}\n              showOptions={showOptions}\n              showSubscription={showOptions && list.type === \"subscribed\"}\n              isBusy={busyThreads.indexOf(thread.id) >= 0}\n              isSelected={selection.indexOf(thread.id) >= 0}\n            />\n          ))}\n        </ul>\n      ) : (\n        <ul className=\"list-group\">\n          {updatedThreads > 0 && (\n            <ThreadsListUpdatePrompt\n              threads={updatedThreads}\n              onClick={applyUpdate}\n            />\n          )}\n          <ThreadsListEmpty\n            category={category}\n            list={list}\n            message={emptyMessage}\n          />\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default ThreadsList\n","import React from \"react\"\n\nconst ThreadsListEmpty = ({ category, list, message }) => {\n  if (list.type === \"all\") {\n    if (message) {\n      return (\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">{message}</p>\n          <p>{gettext(\"Why not start one yourself?\")}</p>\n        </li>\n      )\n    }\n\n    return (\n      <li className=\"list-group-item empty-message\">\n        <p className=\"lead\">\n          {category.special_role\n            ? gettext(\"There are no threads on this forum... yet!\")\n            : gettext(\"There are no threads in this category.\")}\n        </p>\n        <p>{gettext(\"Why not start one yourself?\")}</p>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"list-group-item empty-message\">\n      <p className=\"lead\">\n        {gettext(\"No threads matching specified criteria were found.\")}\n      </p>\n    </li>\n  )\n}\n\nexport default ThreadsListEmpty\n","import React from \"react\"\nimport ThreadFlags from \"../ThreadFlags\"\nimport ThreadReplies from \"../ThreadReplies\"\nimport ThreadsListItemActivity from \"./ThreadsListItemActivity\"\nimport ThreadsListItemCategory from \"./ThreadsListItemCategory\"\nimport ThreadsListItemCheckbox from \"./ThreadsListItemCheckbox\"\nimport ThreadsListItemIcon from \"./ThreadsListItemIcon\"\nimport ThreadsListItemLastPoster from \"./ThreadsListItemLastPoster\"\nimport ThreadsListItemSubscription from \"./ThreadsListItemSubscription\"\n\nconst ThreadsListItem = ({\n  activeCategory,\n  categories,\n  showOptions,\n  showSubscription,\n  thread,\n  isBusy,\n  isSelected,\n}) => {\n  let parent = null\n  let category = null\n\n  if (activeCategory.id !== thread.category) {\n    category = categories[thread.category]\n\n    if (\n      category.parent &&\n      category.parent !== activeCategory.id &&\n      categories[category.parent] &&\n      !categories[category.parent].special_role\n    ) {\n      parent = categories[category.parent]\n    }\n  }\n\n  const hasFlags =\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n\n  const isNew = showOptions ? thread.is_new : true\n\n  return (\n    <li\n      className={\n        \"list-group-item threads-list-item\" +\n        (isBusy ? \" threads-list-item-is-busy\" : \"\")\n      }\n    >\n      <div className=\"threads-list-item-top-row\">\n        {showOptions && (\n          <div className=\"threads-list-item-col-icon\">\n            <ThreadsListItemIcon thread={thread} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-title\">\n          <a href={thread.url.index} className=\"threads-list-item-title\">\n            {thread.title}\n          </a>\n          <a\n            href={isNew ? thread.url.new_post : thread.url.index}\n            className={\n              \"threads-list-item-title-sm\" +\n              (isNew ? \" threads-list-item-title-new\" : \"\")\n            }\n          >\n            {thread.title}\n          </a>\n        </div>\n        {showOptions && thread.moderation.length > 0 && (\n          <div className=\"threads-list-item-col-checkbox-sm\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n      <div className=\"threads-list-item-bottom-row\">\n        {hasFlags && (\n          <div className=\"threads-list-item-col-flags\">\n            <ThreadFlags thread={thread} />\n          </div>\n        )}\n        {!!category && (\n          <div className=\"threads-list-item-col-category\">\n            <ThreadsListItemCategory parent={parent} category={category} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-spacer-xs\" />\n        <div className=\"threads-list-item-col-replies\">\n          <ThreadReplies thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-poster\">\n          <ThreadsListItemLastPoster thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-activity\">\n          <ThreadsListItemActivity thread={thread} />\n        </div>\n        {showOptions && showSubscription && (\n          <div className=\"threads-list-item-col-subscription\">\n            <ThreadsListItemSubscription disabled={isBusy} thread={thread} />\n          </div>\n        )}\n        {showOptions && thread.moderation.length > 0 && (\n          <div className=\"threads-list-item-col-checkbox\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n    </li>\n  )\n}\n\nexport default ThreadsListItem\n","import React from \"react\"\n\nconst ThreadsListItemActivity = ({ thread }) => (\n  <a\n    href={thread.url.last_post}\n    className=\"threads-list-item-last-activity\"\n    title={interpolate(\n      gettext(\"Last activity: %(timestamp)s\"),\n      {\n        timestamp: thread.last_post_on.format(\"LLL\"),\n      },\n      true\n    )}\n  >\n    {thread.last_post_on.fromNow(true)}\n  </a>\n)\n\nexport default ThreadsListItemActivity\n","import React from \"react\"\n\nconst ThreadsListItemCategory = ({ parent, category }) => (\n  <span>\n    {parent && (\n      <a\n        href={parent.url.index}\n        className={getClassName(parent) + \" threads-list-item-parent-category\"}\n        style={parent.color ? { \"--label-color\": parent.color } : null}\n        title={!!parent.short_name ? parent.name : null}\n      >\n        {parent.short_name || parent.name}\n      </a>\n    )}\n    <a\n      href={category.url.index}\n      className={getClassName(category)}\n      style={category.color ? { \"--label-color\": category.color } : null}\n      title={!!category.short_name ? category.name : null}\n    >\n      {category.short_name || category.name}\n    </a>\n  </span>\n)\n\nconst getClassName = (category) => {\n  let className = \"threads-list-item-category threads-list-category-label\"\n\n  if (category.color) {\n    className += \" threads-list-category-label-color\"\n  }\n\n  return className\n}\n\nexport default ThreadsListItemCategory\n","import React from \"react\"\nimport * as select from \"../../reducers/selection\"\nimport store from \"../../services/store\"\n\nconst ThreadsListItemCheckbox = ({ checked, disabled, thread }) => (\n  <button\n    className=\"btn btn-default btn-icon\"\n    type=\"button\"\n    disabled={disabled}\n    onClick={() => store.dispatch(select.item(thread.id))}\n  >\n    <span className=\"material-icon\">\n      {checked ? \"check_box\" : \"check_box_outline_blank\"}\n    </span>\n  </button>\n)\n\nexport default ThreadsListItemCheckbox\n","import React from \"react\"\n\nconst ThreadsListItemIcon = ({ thread }) => {\n  let className = \"threads-list-icon\"\n  if (!thread.is_read) className += \" threads-list-icon-new\"\n\n  return (\n    <a\n      title={thread.is_read ? gettext(\"No new posts\") : gettext(\"New posts\")}\n      href={thread.is_read ? thread.url.last_post : thread.url.new_post}\n      className={className}\n    >\n      <span className=\"material-icon\">\n        {thread.is_read ? \"chat_bubble_outline\" : \"chat_bubble\"}\n      </span>\n    </a>\n  )\n}\n\nexport default ThreadsListItemIcon\n","import React from \"react\"\nimport Avatar from \"../avatar\"\n\nconst ThreadsListItemLastPoster = ({ thread }) =>\n  !!thread.last_poster ? (\n    <a\n      href={thread.url.last_poster}\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        { poster: thread.last_poster.username },\n        true\n      )}\n    >\n      <Avatar size={32} user={thread.last_poster} />\n    </a>\n  ) : (\n    <span\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        { poster: thread.last_poster_name },\n        true\n      )}\n    >\n      <Avatar size={32} />\n    </span>\n  )\n\nexport default ThreadsListItemLastPoster\n","import React from \"react\"\nimport ThreadsListItemSubscriptionOptions from \"./ThreadsListItemSubscriptionOptions\"\n\nconst ThreadsListItemSubscription = ({ disabled, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-icon\"\n      type=\"button\"\n      title={getSubscriptionTitle(thread.subscription)}\n      disabled={disabled}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      <span className=\"material-icon\">\n        {getSubscriptionIcon(thread.subscription)}\n      </span>\n    </button>\n    <ThreadsListItemSubscriptionOptions disabled={disabled} thread={thread} />\n  </div>\n)\n\nconst getSubscriptionTitle = (subscription) => {\n  if (subscription === true) return gettext(\"Subscribed to e-mails\")\n  if (subscription === false) return gettext(\"Subscribed to alerts\")\n  return gettext(\"Not subscribed\")\n}\n\nconst getSubscriptionIcon = (subscription) => {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n  return \"star_border\"\n}\n\nexport default ThreadsListItemSubscription\n","import React from \"react\"\nimport { patch } from \"../../reducers/threads\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst SUBSCRIPTION = {\n  unsubscribe: null,\n  notify: false,\n  email: true,\n}\n\nclass ThreadsListItemSubscriptionOptions extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: false,\n    }\n  }\n\n  update = (value) => {\n    const { thread } = this.props\n\n    this.setState({ loading: true })\n    store.dispatch(patch(thread, { subscription: SUBSCRIPTION[value] }))\n\n    ajax\n      .patch(thread.api.index, [{ op: \"replace\", path: \"subscription\", value }])\n      .then(\n        () => {},\n        (rejection) => {\n          store.dispatch(\n            patch(thread, {\n              subscription: SUBSCRIPTION[thread.subscription],\n            })\n          )\n          snackbar.apiError(rejection)\n        }\n      )\n      .then(() => this.setState({ loading: false }))\n  }\n\n  render = () => {\n    const { loading } = this.state\n    const { disabled, thread } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\">\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === null}\n            onClick={() => this.update(\"unsubscribe\")}\n          >\n            <span className=\"material-icon\">star_border</span>\n            {gettext(\"Unsubscribe\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === false}\n            onClick={() => this.update(\"notify\")}\n          >\n            <span className=\"material-icon\">star_half</span>\n            {gettext(\"Subscribe with alert\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === true}\n            onClick={() => this.update(\"email\")}\n          >\n            <span className=\"material-icon\">star</span>\n            {gettext(\"Subscribe with e-mail\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default ThreadsListItemSubscriptionOptions\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { UIPreviewText } from \"../UIPreview\"\n\nconst ThreadsListLoader = ({ showOptions }) => (\n  <div className=\"threads-list threads-list-loader\">\n    <ul className=\"list-group\">\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"70\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"50\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"50\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"55\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"60\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"70\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"75\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"40\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadsListLoader\n","import React from \"react\"\n\nconst ThreadsListUpdatePrompt = ({ threads, onClick }) => (\n  <li className=\"list-group-item threads-list-update-prompt\">\n    <button\n      type=\"button\"\n      className=\"btn btn-block threads-list-update-prompt-btn\"\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">cached</span>\n      <span className=\"threads-list-update-prompt-message\">\n        {interpolate(\n          ngettext(\n            \"There is %(threads)s new or updated thread. Click here to show it.\",\n            \"There are %(threads)s new or updated threads. Click here to show them.\",\n            threads\n          ),\n          { threads },\n          true\n        )}\n      </span>\n    </button>\n  </li>\n)\n\nexport default ThreadsListUpdatePrompt\n","import ThreadsList from \"./ThreadsList\"\n\nexport default ThreadsList\n","import React from \"react\"\n\nconst Toolbar = ({ children }) => <nav className=\"toolbar\">{children}</nav>\n\nexport default Toolbar\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarItem = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"toolbar-item\", className, {\n      \"toolbar-item-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarItem\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"toolbar-section\",\n      { \"toolbar-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarSection\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSpacer = ({ className }) => (\n  <div className={classnames(\"toolbar-spacer\", className)} />\n)\n\nexport default ToolbarSpacer\n","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer }\n","import React from \"react\"\n\nconst UIPreviewText = ({ width }) => (\n  <span className=\"ui-preview-text\" style={{ width: width + \"px\" }}>\n    &nbsp;\n  </span>\n)\n\nexport default UIPreviewText\n","import UIPreviewText from \"./UIPreviewText\"\n\nexport { UIPreviewText }\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {gettext(\"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {gettext(\"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n    }\n  }\n\n  onUsernameChange = (event) => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(gettext(\"You have to enter user name.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(gettext(\"New participant has been added to thread.\"))\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_username\" label={gettext(\"User to add\")}>\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Add participant\")}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Add participant\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        gettext(\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        gettext(\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {gettext(\"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + gettext(\"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut,\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={size}\n      height={size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach((av) => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html,\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return gettext(\"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null,\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"categories-list\">\n      <ul className=\"list-group\">\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">\n            {gettext(\n              \"No categories exist or you don't have permission to see them.\"\n            )}\n          </p>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Category from \"./category\"\n\nexport default function ({ categories }) {\n  return (\n    <div className=\"categories-list\">\n      {categories.map((category) => {\n        return <Category category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category }) {\n  let className = \"list-group list-group-category\"\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-category-\" + category.css_class\n  }\n\n  return (\n    <ul className={className}>\n      <ListItem category={category} isFirst={true} />\n      {category.subcategories.map((category) => {\n        return (\n          <ListItem category={category} isFirst={false} key={category.id} />\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  if (!category.description) return null\n\n  return (\n    <div\n      className=\"category-description\"\n      dangerouslySetInnerHTML={{\n        __html: category.description.html,\n      }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  return (\n    <div className={getClassName(category)} title={getTitle(category)}>\n      <span className=\"material-icon\">{getIcon(category)}</span>\n    </div>\n  )\n}\n\nexport function getClassName(category) {\n  if (category.is_read) {\n    return \"read-status item-read\"\n  }\n\n  return \"read-status item-new\"\n}\n\nexport function getTitle(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return gettext(\"This category has no new posts. (closed)\")\n    }\n\n    return gettext(\"This category has new posts. (closed)\")\n  }\n\n  if (category.is_read) {\n    return gettext(\"This category has no new posts.\")\n  }\n\n  return gettext(\"This category has new posts.\")\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import React from \"react\"\nimport Main from \"./main\"\nimport LastThread from \"./last-thread\"\nimport Stats from \"./stats\"\nimport Subcategories from \"./subcategories\"\n\nexport default function ({ category, isFirst }) {\n  let className = \"list-group-item\"\n\n  if (category.description) {\n    className += \" list-group-category-has-description\"\n  } else {\n    className += \" list-group-category-no-description\"\n  }\n\n  if (isFirst) {\n    className += \" list-group-item-first\"\n  }\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-item-category-\" + category.css_class\n  }\n\n  return (\n    <li className={className}>\n      <div className=\"row\">\n        <Main category={category} />\n        <Stats category={category} />\n        <LastThread category={category} />\n      </div>\n      <Subcategories category={category} isFirst={isFirst} />\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-4 category-last-thread\">\n      <LastThread category={category} />\n      <Empty category={category} />\n      <Private category={category} />\n      <Protected category={category} />\n    </div>\n  )\n}\n\nexport function LastThread({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (!category.last_thread_title) return null\n\n  return (\n    <div className=\"media\">\n      <div className=\"media-left hidden-xs\">\n        <LastPosterAvatar category={category} />\n      </div>\n      <div className=\"media-body\">\n        <div className=\"media-heading\">\n          <a\n            className=\"item-title thread-title\"\n            href={category.url.last_thread_new}\n            title={category.last_thread_title}\n          >\n            {category.last_thread_title}\n          </a>\n        </div>\n        <ul className=\"list-inline\">\n          <li className=\"category-last-thread-poster\">\n            <LastPosterName category={category} />\n          </li>\n          <li className=\"divider\">&#8212;</li>\n          <li className=\"category-last-thread-date\">\n            <a href={category.url.last_post}>\n              {category.last_post_on.fromNow()}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function LastPosterAvatar({ category }) {\n  if (category.last_poster) {\n    return (\n      <a\n        className=\"last-poster-avatar\"\n        href={category.last_poster.url}\n        title={category.last_poster_name}\n      >\n        <Avatar\n          className=\"media-object\"\n          size={40}\n          user={category.last_poster}\n        />\n      </a>\n    )\n  }\n\n  return (\n    <span className=\"last-poster-avatar\" title={category.last_poster_name}>\n      <Avatar className=\"media-object\" size={40} />\n    </span>\n  )\n}\n\nexport function LastPosterName({ category }) {\n  if (category.last_poster) {\n    return (\n      <a className=\"item-title\" href={category.last_poster.url}>\n        {category.last_poster_name}\n      </a>\n    )\n  }\n\n  return <span className=\"item-title\">{category.last_poster_name}</span>\n}\n\nexport function Empty({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (category.last_thread_title) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is empty. No threads were posted within it so far.\"\n      )}\n    />\n  )\n}\n\nexport function Private({ category }) {\n  if (!category.acl.can_browse) return null\n  if (category.acl.can_see_all_threads) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is private. You can see only your own threads within it.\"\n      )}\n    />\n  )\n}\n\nexport function Protected({ category }) {\n  if (category.acl.can_browse) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is protected. You can't browse its contents.\"\n      )}\n    />\n  )\n}\n\nexport function Message({ message }) {\n  return (\n    <div className=\"media category-thread-message\">\n      <div className=\"media-left\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"media-body\">\n        <p>{message}</p>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Description from \"./description\"\nimport Icon from \"./icon\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 category-main\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <Icon category={category} />\n        </div>\n        <div className=\"media-body\">\n          <h4 className=\"media-heading\">\n            <a href={category.url.index}>{category.name}</a>\n          </h4>\n          <Description category={category} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-md-2 hidden-xs hidden-sm\">\n      <ul className=\"list-unstyled category-stats\">\n        <Threads threads={category.threads} />\n        <Posts posts={category.posts} />\n      </ul>\n    </div>\n  )\n}\n\nexport function Threads({ threads }) {\n  const message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", threads)\n\n  return (\n    <li className=\"category-stat-threads\">\n      {interpolate(\n        message,\n        {\n          threads: threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Posts({ posts }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", posts)\n\n  return (\n    <li className=\"category-stat-posts\">\n      {interpolate(\n        message,\n        {\n          posts: posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category, isFirst }) {\n  if (isFirst) return null\n  if (category.subcategories.length === 0) return null\n\n  return (\n    <div className=\"row subcategories-list\">\n      {category.subcategories.map((category) => {\n        return <ListItem category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  let className = \"btn btn-default btn-block btn-sm btn-subcategory\"\n  if (!category.is_read) {\n    className += \" btn-subcategory-new\"\n  }\n\n  return (\n    <div className=\"col-xs-12 col-sm-4 col-md-3\">\n      <a className={className} href={category.url.index}>\n        <span className=\"material-icon\">{getIcon(category)}</span>\n        <span className=\"icon-text\">{category.name}</span>\n      </a>\n    </div>\n  )\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport CategoriesList from \"./categories-list\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\n\nconst hydrate = function (category) {\n  return Object.assign({}, category, {\n    last_post_on: category.last_post_on ? moment(category.last_post_on) : null,\n    subcategories: category.subcategories.map(hydrate),\n  })\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      categories: misago.get(\"CATEGORIES\").map(hydrate),\n    }\n\n    this.startPolling(misago.get(\"CATEGORIES_API\"))\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"categories\",\n      url: api,\n      frequency: 180 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    this.setState({\n      categories: data.map(hydrate),\n    })\n  }\n\n  render() {\n    const { categories } = this.state\n\n    if (categories.length === 0) {\n      return <Blankslate />\n    }\n\n    return <CategoriesList categories={categories} />\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map((item) => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1,\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath(),\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0,\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY,\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0,\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y,\n            })\n          }\n        }\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio,\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio,\n        },\n      })\n      .then(\n        (data) => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? gettext(\"Set avatar\")\n                : gettext(\"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false,\n    }\n  }\n\n  select = (image) => {\n    this.setState({\n      selection: image,\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? gettext(\"Save choice\")\n                  : gettext(\"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {gettext(\"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {gettext(\"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {gettext(\"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {gettext(\"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {gettext(\"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars,\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {gettext(\"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      (options) => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null,\n        })\n      },\n      (rejection) => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = (error) => {\n    this.setState({\n      error,\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex,\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload,\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop,\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery,\n    })\n  }\n\n  completeFlow = (options) => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options,\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change your avatar\")}</h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null,\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        gettext(\"Selected file is too big. (%(filesize)s)\"),\n        {\n          filesize: fileSize(image.size),\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = gettext(\"Selected file type is not supported.\")\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function (extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0,\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, (progress) => {\n        this.setState({\n          progress,\n        })\n      })\n      .then(\n        (data) => {\n          this.setState({\n            options: data,\n            uploaded: data.detail,\n          })\n\n          snackbar.info(\n            gettext(\"Your image has been uploaded and you may now crop it.\")\n          )\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function (extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      gettext(\"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit),\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {gettext(\"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      gettext(\"%(progress)s % complete\"),\n      {\n        progress: this.state.progress,\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={gettext(\"No profile details are editable at this time.\")}\n      message={gettext(\"This option is currently unavailable.\")}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = (ev) => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function ({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map((field) => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {},\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {gettext(\"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      (groups) => {\n        this.setState({\n          loading: false,\n\n          groups,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Edit details\")}</h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.replaceSelection(this.props.execAction)\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={this.props.title}\n        type=\"button\"\n      >\n        {this.props.children}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertCode} title={gettext(\"Insert code\")} {...props}>\n      <span className=\"material-icon\">functions</span>\n    </Action>\n  )\n}\n\nexport function insertCode(selection, replace) {\n  const syntax = $.trim(\n    prompt(gettext(\"Enter name of syntax of your code (optional)\") + \":\")\n  )\n  replace(\"\\n\\n```\" + syntax + \"\\n\" + selection + \"\\n```\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeEmphasis}\n      title={gettext(\"Emphase selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_italic</span>\n    </Action>\n  )\n}\n\nexport function makeEmphasis(selection, replace) {\n  if (selection.length) {\n    replace(\"*\" + selection + \"*\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={insertHr}\n      title={gettext(\"Insert horizontal ruler\")}\n      {...props}\n    >\n      <span className=\"material-icon\">remove</span>\n    </Action>\n  )\n}\n\nexport function insertHr(selection, replace) {\n  replace(\"\\n\\n- - - - -\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertImage} title={gettext(\"Insert image\")} {...props}>\n      <span className=\"material-icon\">insert_photo</span>\n    </Action>\n  )\n}\n\nexport function insertImage(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link to image\") + \":\", url))\n\n  if (url.length) {\n    label = $.trim(prompt(gettext(\"Enter image label (optional)\") + \":\", label))\n    if (label.length > 0) {\n      replace(\"![\" + label + \"](\" + url + \")\")\n    } else {\n      replace(\"!(\" + url + \")\")\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertLink} title={gettext(\"Insert link\")} {...props}>\n      <span className=\"material-icon\">insert_link</span>\n    </Action>\n  )\n}\n\nexport function insertLink(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link address\") + \":\", url) || \"\")\n  if (url.length === 0) return false\n  label = $.trim(prompt(gettext(\"Enter link label (optional)\") + \":\", label))\n\n  if (url.length) {\n    if (label.length > 0) {\n      replace(\"[\" + label + \"](\" + url + \")\")\n    } else {\n      replace(url)\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertQuote} title={gettext(\"Insert quote\")} {...props}>\n      <span className=\"material-icon\">format_quote</span>\n    </Action>\n  )\n}\n\nexport function insertQuote(selection, replace) {\n  let title = $.trim(\n    prompt(gettext(\"Enter quote autor, prefix usernames with @\") + \":\", title)\n  )\n\n  if (title) {\n    replace('\\n\\n[quote=\"' + title + '\"]\\n' + selection + \"\\n[/quote]\\n\\n\")\n  } else {\n    replace(\"\\n\\n[quote]\\n\" + selection + \"\\n[/quote]\\n\\n\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={insertSpoiler}\n      title={gettext(\"Insert spoiler\")}\n      {...props}\n    >\n      <span className=\"material-icon\">not_interested</span>\n    </Action>\n  )\n}\n\nexport function insertSpoiler(selection, replace) {\n  replace(\"\\n\\n[spoiler]\\n\" + selection + \"\\n[/spoiler]\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeStrikethrough}\n      title={gettext(\"Strikethrough selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_strikethrough</span>\n    </Action>\n  )\n}\n\nexport function makeStrikethrough(selection, replace) {\n  if (selection.length) {\n    replace(\"~~\" + selection + \"~~\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeStrong}\n      title={gettext(\"Bolder selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_bold</span>\n    </Action>\n  )\n}\n\nexport function makeStrong(selection, replace) {\n  if (selection.length) {\n    replace(\"**\" + selection + \"**\")\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  onInsert = () => {\n    this.props.replaceSelection(this.insertAttachment)\n  }\n\n  insertAttachment = (selection, replace) => {\n    const item = this.props.item\n\n    if (item.is_image) {\n      if (item.url.thumb) {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.thumb +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      } else {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.index +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      }\n    } else {\n      replace(\"[\" + item.filename + \"](\" + item.url.index + \")\")\n    }\n  }\n\n  onRemove = () => {\n    this.updateItem({\n      isRemoved: true,\n    })\n  }\n\n  onUndo = () => {\n    this.updateItem({\n      isRemoved: false,\n    })\n  }\n\n  updateItem = (newState) => {\n    const updatedAttachments = this.props.attachments.map((item) => {\n      if (item.id === this.props.item.id) {\n        return Object.assign({}, item, newState)\n      } else {\n        return item\n      }\n    })\n    this.props.onAttachmentsChange(updatedAttachments)\n  }\n\n  render() {\n    return (\n      <li className=\"editor-attachment-complete\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            <Preview {...this.props} />\n            <div className=\"editor-attachment-details\">\n              <Filename {...this.props} />\n              <Details {...this.props} />\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top-half\">\n            <Actions\n              onInsert={this.onInsert}\n              onRemove={this.onRemove}\n              onUndo={this.onUndo}\n              {...this.props}\n            />\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n\nexport function Preview(props) {\n  if (props.item.is_image) {\n    return <Image {...props} />\n  } else {\n    return <Icon {...props} />\n  }\n}\n\nexport function Image(props) {\n  const thumbnailUrl = props.item.url.thumb || props.item.url.index\n\n  return (\n    <div className=\"editor-attachment-image\">\n      <a\n        href={props.item.url.index + \"?shva=1\"}\n        style={{ backgroundImage: \"url('\" + thumbnailUrl + \"?shva=1')\" }}\n        target=\"_blank\"\n      />\n    </div>\n  )\n}\n\nexport function Icon(props) {\n  return (\n    <div className=\"editor-attachment-icon\">\n      <span className=\"material-icon\">insert_drive_file</span>\n    </div>\n  )\n}\n\nexport function Filename(props) {\n  return (\n    <h4>\n      <a\n        className=\"item-title\"\n        href={props.item.url.index + \"?shva=1\"}\n        target=\"_blank\"\n      >\n        {props.item.filename}\n      </a>\n    </h4>\n  )\n}\n\nexport function Details(props) {\n  let user = null\n  if (props.item.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.item.url.uploader),\n        user: escapeHtml(props.item.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.item.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.item.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.item.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.item.filetype,\n      size: formatFilesize(props.item.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n\nexport function Actions(props) {\n  return (\n    <div className=\"editor-attachment-actions\">\n      <div className=\"row\">\n        <Insert {...props} />\n        <Remove {...props} />\n        <Undo {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function Insert(props) {\n  if (!!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onInsert}\n        type=\"button\"\n      >\n        {gettext(\"Insert\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Remove(props) {\n  if (!!props.item.isRemoved && props.item.acl.can_delete) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onRemove}\n        type=\"button\"\n      >\n        {gettext(\"Remove\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Undo(props) {\n  if (!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-12\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onUndo}\n        type=\"button\"\n      >\n        {gettext(\"Undo removal\")}\n      </button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    const filteredAttachments = this.props.attachments.filter((item) => {\n      return item.key !== this.props.item.key\n    })\n    this.props.onAttachmentsChange(filteredAttachments)\n  }\n\n  render() {\n    const filename = interpolate(\n      STRONG,\n      {\n        name: escapeHtml(this.props.item.filename),\n      },\n      true\n    )\n\n    const title = interpolate(\n      gettext(\"Error uploading %(filename)s\"),\n      {\n        filename,\n        progress: this.props.item.progress + \"%\",\n      },\n      true\n    )\n\n    return (\n      <li className=\"editor-attachment-error\">\n        <div className=\"editor-attachment-error-icon\">\n          <span className=\"material-icon\">warning</span>\n        </div>\n        <div className=\"editor-attachment-error-message\">\n          <h4 dangerouslySetInnerHTML={{ __html: title + \":\" }} />\n          <p>{this.props.item.error}</p>\n          <button\n            className=\"btn btn-default btn-sm\"\n            onClick={this.onClick}\n            type=\"button\"\n          >\n            {gettext(\"Dismiss\")}\n          </button>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AttachmentComplete from \"./complete\"\nimport AttachmentError from \"./error\"\nimport AttachmentUpload from \"./upload\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nexport default function (props) {\n  if (props.item.id) {\n    return <AttachmentComplete {...props} />\n  }\n\n  if (props.item.error) {\n    return <AttachmentError {...props} />\n  }\n\n  return <AttachmentUpload {...props} />\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default function (props) {\n  const filename = interpolate(\n    STRONG,\n    {\n      name: escapeHtml(props.item.filename),\n    },\n    true\n  )\n\n  const message = interpolate(\n    gettext(\"Uploading %(filename)s... %(progress)s\"),\n    {\n      filename,\n      progress: props.item.progress + \"%\",\n    },\n    true\n  )\n\n  return (\n    <li className=\"editor-attachment-upload\">\n      <div className=\"editor-attachment-progress-bar\">\n        <div\n          className=\"editor-attachment-progress\"\n          style={{ width: props.item.progress + \"%\" }}\n        />\n      </div>\n      <p\n        className=\"editor-attachment-upload-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    </li>\n  )\n}\n","import React from \"react\"\nimport List from \"./list\"\nimport Uploader from \"./uploader\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  if (!misago.get(\"user\").acl.max_attachment_size) {\n    return null\n  }\n\n  return (\n    <div className=\"editor-attachments\">\n      <List {...props} />\n      <Uploader {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled editor-attachments-list\">\n      {props.attachments.map((item) => {\n        return <Attachment item={item} key={item.id || item.key} {...props} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    document.getElementById(\"editor-upload-field\").click()\n  }\n\n  render() {\n    if (!misago.get(\"user\").acl.max_attachment_size) {\n      return null\n    }\n\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={gettext(\"Upload file\")}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">file_upload</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  onChange = (event) => {\n    const file = event.target.files[0]\n    if (!file) {\n      return\n    }\n\n    let upload = {\n      id: null,\n      key: getRandomKey(),\n      progress: 0,\n      error: null,\n      filename: file.name,\n    }\n\n    this.props.onAttachmentsChange([upload].concat(this.props.attachments))\n\n    const data = new FormData()\n    data.append(\"upload\", file)\n\n    ajax\n      .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n        upload.progress = progress\n        this.props.onAttachmentsChange(this.props.attachments.concat())\n      })\n      .then(\n        (data) => {\n          data.uploaded_on = moment(data.uploaded_on)\n          Object.assign(upload, data)\n          this.props.onAttachmentsChange(this.props.attachments.concat())\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            upload.error = rejection.detail\n            this.props.onAttachmentsChange(this.props.attachments.concat())\n          } else {\n            snackbar.apiError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <input id=\"editor-upload-field\" onChange={this.onChange} type=\"file\" />\n    )\n  }\n}\n\nexport function getRandomKey() {\n  return \"upld-\" + Math.round(new Date().getTime())\n}\n","import React from \"react\"\nimport Code from \"./actions/code\"\nimport Emphasis from \"./actions/emphasis\"\nimport Hr from \"./actions/hr\"\nimport Image from \"./actions/image\"\nimport Link from \"./actions/link\"\nimport Spoiler from \"./actions/spoiler\"\nimport Strikethrough from \"./actions/strikethrough\"\nimport Strong from \"./actions/strong\"\nimport Quote from \"./actions/quote\"\nimport AttachmentsEditor from \"./attachments\"\nimport Upload from \"./attachments/upload-button\"\nimport MarkupPreview from \"./markup-preview\"\nimport * as textUtils from \"./textutils\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isPreviewLoading: false,\n    }\n  }\n\n  componentDidMount() {\n    $(\"#editor-textarea\").atwho({\n      at: \"@\",\n      displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n      insertTpl: \"@${username}\",\n      searchKey: \"username\",\n      callbacks: {\n        remoteFilter: function (query, callback) {\n          $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n        },\n      },\n    })\n\n    $(\"#editor-textarea\").on(\"inserted.atwho\", (event, flag, query) => {\n      this.props.onChange(event)\n    })\n  }\n\n  onPreviewClick = () => {\n    if (this.state.isPreviewLoading) {\n      return\n    }\n\n    this.setState({\n      isPreviewLoading: true,\n    })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        modal.show(<MarkupPreview markup={data.parsed} />)\n\n        this.setState({\n          isPreviewLoading: false,\n        })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({\n          isPreviewLoading: false,\n        })\n      }\n    )\n  }\n\n  replaceSelection = (operation) => {\n    operation(textUtils.getSelectionText(), this._replaceSelection)\n  }\n\n  _replaceSelection = (newValue) => {\n    this.props.onChange({\n      target: {\n        value: textUtils.replace(newValue),\n      },\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"editor-border\">\n        <textarea\n          className=\"form-control\"\n          value={this.props.value}\n          disabled={this.props.loading}\n          id=\"editor-textarea\"\n          onChange={this.props.onChange}\n          rows=\"9\"\n        />\n        <div className=\"editor-footer\">\n          <div className=\"buttons-list pull-left\">\n            <Strong\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Emphasis\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Strikethrough\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Hr\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Link\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Image\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Quote\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Spoiler\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Code\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Upload\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n            />\n          </div>\n          <Button\n            className=\"btn-default btn-sm pull-left\"\n            disabled={this.props.loading || this.state.isPreviewLoading}\n            onClick={this.onPreviewClick}\n            type=\"button\"\n          >\n            {gettext(\"Preview\")}\n          </Button>\n          <Button\n            className=\"btn-primary btn-sm pull-right\"\n            loading={this.props.loading}\n          >\n            {this.props.submitLabel || gettext(\"Post\")}\n          </Button>\n          <button\n            className=\"btn btn-default btn-sm pull-right\"\n            disabled={this.props.loading}\n            onClick={this.props.onCancel}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <div className=\"clearfix visible-xs-block\" />\n          <Protect\n            canProtect={this.props.canProtect}\n            disabled={this.props.loading}\n            onProtect={this.props.onProtect}\n            onUnprotect={this.props.onUnprotect}\n            protect={this.props.protect}\n          />\n        </div>\n        <AttachmentsEditor\n          attachments={this.props.attachments}\n          onAttachmentsChange={this.props.onAttachmentsChange}\n          placeholder={this.props.placeholder}\n          replaceSelection={this.replaceSelection}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Protect(props) {\n  if (!props.canProtect) return null\n\n  const label = props.protect ? gettext(\"Protected\") : gettext(\"Protect\")\n\n  return (\n    <button\n      className=\"btn btn-icon btn-default btn-protect btn-sm pull-right\"\n      disabled={props.disabled}\n      onClick={props.protect ? props.onUnprotect : props.onProtect}\n      title={label}\n      type=\"button\"\n    >\n      <span className=\"material-icon\">\n        {props.protect ? \"lock\" : \"lock_outline\"}\n      </span>\n      <span className=\"btn-text hidden-md hidden-lg\">{label}</span>\n    </button>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Preview message\")}</h4>\n        </div>\n        <div className=\"modal-body markup-preview\">\n          <MisagoMarkup markup={props.markup} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","export const textareaId = \"editor-textarea\"\n\nexport function getTextarea() {\n  return document.getElementById(textareaId)\n}\n\nexport function getValue() {\n  return document.getElementById(textareaId).value\n}\n\nexport function getSelectionRange(start, end) {\n  return {\n    start,\n    end,\n  }\n}\n\nexport function getSelection() {\n  const ctrl = getTextarea()\n  if (document.selection) {\n    ctrl.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -ctrl.value.length)\n    return getSelectionRange(range.text.length - length, range.text.length)\n  } else if (ctrl.selectionStart || ctrl.selectionStart == \"0\") {\n    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd)\n  }\n}\n\nexport function getSelectionText() {\n  const range = getSelection()\n  return $.trim(getValue().substring(range.start, range.end))\n}\n\nexport function setSelection(selectionRange) {\n  const ctrl = getTextarea()\n  if (ctrl.setSelectionRange) {\n    ctrl.focus()\n    ctrl.setSelectionRange(selectionRange.start, selectionRange.end)\n  } else if (ctrl.createTextRange) {\n    const range = ctrl.createTextRange()\n    range.collapse(true)\n    range.moveStart(\"character\", selectionRange.start)\n    range.moveEnd(\"character\", selectionRange.end)\n    range.select()\n  }\n}\n\nexport function _replace(myRange, replacement) {\n  const ctrl = getTextarea()\n  const text = ctrl.value\n  const startText = text.substring(0, myRange.start)\n  ctrl.value =\n    text.substring(0, myRange.start) + replacement + text.substring(myRange.end)\n  setSelection(\n    getSelectionRange(\n      startText.length + replacement.length,\n      startText.length + replacement.length\n    )\n  )\n  return ctrl.value\n}\n\nexport function replace(replacement) {\n  return _replace(getSelection(), replacement)\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation ? gettext(\"(error)\") : gettext(\"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"misago/utils/validators\"\nimport snackbar from \"misago/services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {},\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name],\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = (name) => {\n    return (event) => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value,\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          (success) => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          (rejection) => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\",\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        gettext(\"Are you sure you want to delete all polls?\")\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = (success) => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = (event) => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = (event) => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Best answer\")}\n      helpText={gettext(\n        \"Please select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Poll\")}\n      helpText={gettext(\n        \"Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className=\"misago-markup\"\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        ref={(node) => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","const MAX_RESULTS = 5\n\nexport default function (data) {\n  const filtered = data.filter((section) => {\n    return section.results.count > 0\n  })\n\n  return filtered.map((section) => {\n    return Object.assign({}, section, {\n      count: section.results.count,\n      results: section.results.results.slice(0, MAX_RESULTS),\n    })\n  })\n}\n","export const HEADER = \"HEADER\"\nexport const RESULT = \"RESULT\"\nexport const FOOTER = \"FOOTER\"\n","import React from \"react\"\nimport Input from \"./input\"\n\nexport default function ({ children, onChange, query }) {\n  return (\n    <ul className=\"dropdown-menu dropdown-search-results\" role=\"menu\">\n      <li className=\"form-group\">\n        <Input value={query} onChange={onChange} />\n      </li>\n      {children}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function () {\n  return (\n    <li className=\"dropdown-search-message\">\n      {gettext(\"Search returned no results.\")}\n    </li>\n  )\n}\n","import { HEADER, RESULT, FOOTER } from \"./constants\"\n\nexport default function (results) {\n  const flatlist = []\n  flattenProviders(results, flatlist)\n  return flatlist\n}\n\nfunction flattenProviders(results, flatlist) {\n  const arrayLength = results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const provider = results[i]\n\n    flatlist.push({\n      provider,\n      type: HEADER,\n    })\n\n    flattenProvider(provider, flatlist)\n  }\n}\n\nfunction flattenProvider(provider, flatlist) {\n  const arrayLength = provider.results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const result = provider.results[i]\n    flatlist.push({\n      provider,\n      result,\n      type: RESULT,\n    })\n  }\n\n  flatlist.push({\n    provider,\n    type: FOOTER,\n  })\n}\n","import React from \"react\"\nimport { RESULT } from \"./constants\"\nimport DropdownMenu from \"./dropdown-menu\"\nimport Empty from \"./empty\"\nimport Loader from \"./loader\"\nimport Result from \"./result\"\nimport flattenResults from \"./flatten-results\"\n\nexport default function ({ isLoading, onChange, results, query }) {\n  if (!query.trim().length) {\n    return <DropdownMenu onChange={onChange} query={query} />\n  }\n\n  if (results.length) {\n    const flatResults = flattenResults(results)\n\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        {flatResults.map((props) => {\n          const { type, provider, result } = props\n\n          if (type === RESULT) {\n            return (\n              <Result\n                key={[provider.id, type, result.id].join(\"_\")}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <Result\n              key={[provider.id, type].join(\"_\")}\n              query={query}\n              {...props}\n            />\n          )\n        })}\n      </DropdownMenu>\n    )\n  } else if (isLoading) {\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        <Loader />\n      </DropdownMenu>\n    )\n  }\n\n  return (\n    <DropdownMenu onChange={onChange} query={query}>\n      <Empty />\n    </DropdownMenu>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ value, onChange }) {\n  return (\n    <input\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      aria-controls=\"dropdown-menu dropdown-search-results\"\n      autoComplete=\"off\"\n      className=\"form-control\"\n      value={value}\n      onChange={onChange}\n      placeholder={gettext(\"Search\")}\n      role=\"combobox\"\n      type=\"text\"\n    />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ message }) {\n  return (\n    <li className=\"dropdown-search-loader\">\n      <Loader />\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider, query }) {\n  const url = provider.url + \"?q=\" + encodeURI(query)\n  const label = ngettext(\n    'See full \"%(provider)s\" results page with %(count)s result.',\n    'See full \"%(provider)s\" results page with %(count)s results.',\n    provider.count\n  )\n\n  return (\n    <li className=\"dropdown-search-footer\">\n      <a href={url}>\n        {interpolate(\n          label,\n          {\n            count: provider.count,\n            provider: provider.name,\n          },\n          true\n        )}\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider }) {\n  return <li className=\"dropdown-search-header\">{provider.name}</li>\n}\n","import React from \"react\"\nimport { HEADER, FOOTER } from \"../constants\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport Result from \"./result\"\n\nexport default function ({ provider, result, type, query }) {\n  if (type === HEADER) {\n    return <Header provider={provider} />\n  } else if (type === FOOTER) {\n    return <Footer provider={provider} query={query} />\n  }\n\n  return <Result provider={provider} result={result} />\n}\n","import React from \"react\"\nimport Thread from \"./thread\"\nimport User from \"./user\"\n\nexport default function ({ provider, result }) {\n  if (provider.id === \"threads\") {\n    return <Thread result={result} />\n  }\n\n  return <User result={result} />\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default function ({ result }) {\n  const { poster, thread } = result\n  const footer = gettext(\n    \"Posted by %(poster)s on %(posted_on)s in %(category)s.\"\n  )\n\n  return (\n    <li>\n      <a href={result.url.index} className=\"dropdown-search-thread\">\n        <h5>{thread.title}</h5>\n        <small className=\"dropdown-search-post-content\">\n          {$(result.content).text()}\n        </small>\n        <small className=\"dropdown-search-post-footer\">\n          {interpolate(\n            footer,\n            {\n              category: result.category.name,\n              posted_on: moment(result.posted_on).format(\"LL\"),\n              poster: result.poster_name,\n            },\n            true\n          )}\n        </small>\n      </a>\n    </li>\n  )\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ result }) {\n  const { rank } = result\n\n  const detail = gettext(\"%(title)s, joined on %(joined_on)s\")\n  const title = result.title || rank.title || rank.name\n\n  return (\n    <li>\n      <a href={result.url} className=\"dropdown-search-user\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <Avatar size={38} user={result} />\n          </div>\n          <div className=\"media-body\">\n            <h5 className=\"media-heading\">{result.username}</h5>\n            <small>\n              {interpolate(\n                detail,\n                {\n                  title,\n                  joined_on: moment(result.joined_on).format(\"LL\"),\n                },\n                true\n              )}\n            </small>\n          </div>\n        </div>\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport misago from \"misago\"\nimport cleanResults from \"./clean-results\"\nimport Dropdown from \"./dropdown\"\n\nexport default class extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      isLoading: false,\n      isOpen: false,\n      query: \"\",\n      results: [],\n    }\n\n    this.intervalId = null\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.addEventListener(\"keydown\", this.onEscape)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.removeEventListener(\"keydown\", this.onEscape)\n  }\n\n  onToggle = (ev) => {\n    this.setState((prevState, props) => {\n      if (!prevState.isOpen) {\n        window.setTimeout(() => {\n          this.container.querySelector(\"input\").focus()\n        }, 100)\n      }\n\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  onDocumentMouseDown = (ev) => {\n    let closeResults = true\n    let node = ev.target\n\n    while (node !== null && node !== document) {\n      if (node === this.container) {\n        closeResults = false\n        return\n      }\n\n      node = node.parentNode\n    }\n\n    if (closeResults) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onEscape = (ev) => {\n    if (ev.key === \"Escape\") {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onChange = (ev) => {\n    const query = ev.target.value\n\n    this.setState({ query })\n    this.loadResults(query.trim())\n  }\n\n  loadResults(query) {\n    if (!query.length) return\n\n    const delay = 300 + Math.random() * 300\n\n    if (this.intervalId) {\n      window.clearTimeout(this.intervalId)\n    }\n\n    this.setState({ isLoading: true })\n\n    this.intervalId = window.setTimeout(() => {\n      ajax.get(misago.get(\"SEARCH_API\"), { q: query }).then(\n        (data) => {\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: cleanResults(data),\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: [],\n          })\n        }\n      )\n    }, delay)\n  }\n\n  render() {\n    let className = \"navbar-search dropdown\"\n    if (this.state.isOpen) className += \" open\"\n\n    return (\n      <div\n        className={className}\n        ref={(container) => (this.container = container)}\n      >\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"navbar-icon\"\n          data-toggle=\"dropdown\"\n          href={misago.get(\"SEARCH_URL\")}\n          onClick={this.onToggle}\n        >\n          <i className=\"material-icon\">search</i>\n        </a>\n        <Dropdown\n          isLoading={this.state.isLoading}\n          onChange={this.onChange}\n          results={this.state.results}\n          query={this.state.query}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\n\nexport default function () {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n      </div>\n      <PanelLoader />\n    </div>\n  )\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.options.next_on) {\n      return interpolate(\n        gettext(\"You will be able to change your username %(next_change)s.\"),\n        { next_change: this.props.options.next_on.fromNow() },\n        true\n      )\n    } else {\n      return gettext(\"You have used up available name changes.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n        </div>\n        <PanelMessage\n          helpText={this.getHelpText()}\n          message={gettext(\"You can't change your username at the moment.\")}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: \"\",\n\n      validators: {\n        username: [\n          validators.usernameContent(),\n          validators.usernameMinLength(props.options.length_min),\n          validators.usernameMaxLength(props.options.length_max),\n        ],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  getHelpText() {\n    let phrases = []\n\n    if (this.props.options.changes_left > 0) {\n      let message = ngettext(\n        \"You can change your username %(changes_left)s more time.\",\n        \"You can change your username %(changes_left)s more times.\",\n        this.props.options.changes_left\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            changes_left: this.props.options.changes_left,\n          },\n          true\n        )\n      )\n    }\n\n    if (this.props.user.acl.name_changes_expire > 0) {\n      let message = ngettext(\n        \"Used changes become available again after %(name_changes_expire)s day.\",\n        \"Used changes become available again after %(name_changes_expire)s days.\",\n        this.props.user.acl.name_changes_expire\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            name_changes_expire: this.props.user.acl.name_changes_expire,\n          },\n          true\n        )\n      )\n    }\n\n    return phrases.length ? phrases.join(\" \") : null\n  }\n\n  clean() {\n    let errors = this.validate()\n    if (errors.username) {\n      snackbar.error(errors.username[0])\n      return false\n    }\n    if (this.state.username.trim() === this.props.user.username) {\n      snackbar.info(gettext(\"Your new username is same as current one.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({\n      username: \"\",\n    })\n\n    this.props.complete(success.username, success.slug, success.options)\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup\n              label={gettext(\"New username\")}\n              for=\"id_username\"\n              helpText={this.getHelpText()}\n            >\n              <input\n                type=\"text\"\n                id=\"id_username\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"username\")}\n                value={this.state.username}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change username\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport FormLoading from \"misago/components/options/change-username/form-loading\"\nimport FormLocked from \"misago/components/options/change-username/form-locked\"\nimport Form from \"misago/components/options/change-username/form\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      options: null,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change username\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    Promise.all([\n      ajax.get(this.props.user.api.username),\n      ajax.get(misago.get(\"USERNAME_CHANGES_API\"), {\n        user: this.props.user.id,\n      }),\n    ]).then((data) => {\n      store.dispatch(hydrate(data[1].results))\n\n      this.setState({\n        isLoaded: true,\n        options: {\n          changes_left: data[0].changes_left,\n          length_min: data[0].length_min,\n          length_max: data[0].length_max,\n          next_on: data[0].next_on ? moment(data[0].next_on) : null,\n        },\n      })\n    })\n  }\n\n  onComplete = (username, slug, options) => {\n    this.setState({\n      options,\n    })\n\n    store.dispatch(\n      addNameChange({ username, slug }, this.props.user, this.props.user)\n    )\n    store.dispatch(updateUsername(this.props.user, username, slug))\n\n    snackbar.success(gettext(\"Your username has been changed successfully.\"))\n  }\n\n  getChangeForm() {\n    if (!this.state.isLoaded) {\n      return <FormLoading />\n    }\n\n    if (this.state.options.changes_left === 0) {\n      return <FormLocked options={this.state.options} />\n    }\n\n    return (\n      <Form\n        complete={this.onComplete}\n        options={this.state.options}\n        user={this.props.user}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {this.getChangeForm()}\n        <UsernameHistory\n          changes={this.props[\"username-history\"]}\n          isLoaded={this.state.isLoaded}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      password: \"\",\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Delete account\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onPasswordChange = (event) => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    const { isLoading, password } = this.state\n    const { user } = this.props\n\n    if (password.length == 0) {\n      snackbar.error(\n        gettext(\"Enter your password to confirm account deletion.\")\n      )\n      return false\n    }\n\n    if (isLoading) return false\n    this.setState({ isLoading: true })\n\n    ajax.post(user.api.delete, { password }).then(\n      (success) => {\n        window.location.href = misago.get(\"MISAGO_PATH\")\n      },\n      (rejection) => {\n        this.setState({ isLoading: false })\n        if (rejection.password) {\n          snackbar.error(rejection.password[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-danger panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Delete account\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p className=\"lead\">\n              {gettext(\n                \"You are going to delete your account. This action is nonreversible, and will result in following data being deleted:\"\n              )}\n            </p>\n\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Stored IP addresses associated with content that you have posted will be deleted.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your username will become available for other user to rename to or for new user to register their account with.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your e-mail will become available for use in new account registration.\"\n              )}\n            </p>\n\n            <hr />\n\n            <p>\n              {gettext(\n                \"All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.\"\n              )}\n            </p>\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"input-group\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                name=\"password-confirmation\"\n                type=\"password\"\n                placeholder={gettext(\n                  \"Enter your password to confirm account deletion.\"\n                )}\n                value={this.state.password}\n                onChange={this.onPasswordChange}\n              />\n              <span className=\"input-group-btn\">\n                <Button className=\"btn-danger\" loading={this.state.isLoading}>\n                  {gettext(\"Delete my account\")}\n                </Button>\n              </span>\n            </div>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class DownloadData extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isSubmiting: false,\n      downloads: [],\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Download your data\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    this.handleLoadDownloads()\n  }\n\n  handleLoadDownloads = () => {\n    ajax.get(this.props.user.api.data_downloads).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n          downloads: data,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  handleRequestDataDownload = () => {\n    this.setState({ isSubmiting: true })\n    ajax.post(this.props.user.api.request_data_download).then(\n      () => {\n        this.handleLoadDownloads()\n        snackbar.success(\n          gettext(\"Your request for data download has been registered.\")\n        )\n        this.setState({ isSubmiting: false })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        this.setState({ isSubmiting: false })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Download your data\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p>\n              {gettext(\n                'To download your data from the site, click the \"Request data download\" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.'\n              )}\n            </p>\n\n            <p>\n              {gettext(\n                \"The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired.\"\n              )}\n            </p>\n          </div>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>{gettext(\"Requested on\")}</th>\n                <th className=\"col-md-4\">{gettext(\"Download\")}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.downloads.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td style={rowStyle}>\n                      {moment(item.requested_on).fromNow()}\n                    </td>\n                    <td>\n                      <DownloadButton\n                        exportFile={item.file}\n                        status={item.status}\n                      />\n                    </td>\n                  </tr>\n                )\n              })}\n              {this.state.downloads.length == 0 ? (\n                <tr>\n                  <td colSpan=\"2\">{gettext(\"You have no data downloads.\")}</td>\n                </tr>\n              ) : null}\n            </tbody>\n          </table>\n          <div className=\"panel-footer text-right\">\n            <Button\n              className=\"btn-primary\"\n              loading={this.state.isSubmiting}\n              type=\"button\"\n              onClick={this.handleRequestDataDownload}\n            >\n              {gettext(\"Request data download\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rowStyle = {\n  verticalAlign: \"middle\",\n}\n\nconst STATUS_PENDING = 0\nconst STATUS_PROCESSING = 1\n\nconst DownloadButton = ({ exportFile, status }) => {\n  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {\n    return (\n      <Button\n        className=\"btn-info btn-sm btn-block\"\n        disabled={true}\n        type=\"button\"\n      >\n        {gettext(\"Download is being prepared\")}\n      </Button>\n    )\n  }\n\n  if (exportFile) {\n    return (\n      <a className=\"btn btn-success btn-sm btn-block\" href={exportFile}>\n        {gettext(\"Download your data\")}\n      </a>\n    )\n  }\n\n  return (\n    <Button\n      className=\"btn-default btn-sm btn-block\"\n      disabled={true}\n      type=\"button\"\n    >\n      {gettext(\"Download is expired\")}\n    </Button>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Edit details\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onSuccess = () => {\n    snackbar.info(gettext(\"Your details have been updated.\"))\n  }\n\n  render() {\n    return (\n      <Form api={this.props.user.api.edit_details} onSuccess={this.onSuccess} />\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Select from \"misago/components/select\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      is_hiding_presence: props.user.is_hiding_presence,\n      limits_private_thread_invites_to:\n        props.user.limits_private_thread_invites_to,\n      subscribe_to_started_threads: props.user.subscribe_to_started_threads,\n      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,\n\n      errors: {},\n    }\n\n    this.privateThreadInvitesChoices = [\n      {\n        value: 0,\n        icon: \"help_outline\",\n        label: gettext(\"Everybody\"),\n      },\n      {\n        value: 1,\n        icon: \"done_all\",\n        label: gettext(\"Users I follow\"),\n      },\n      {\n        value: 2,\n        icon: \"highlight_off\",\n        label: gettext(\"Nobody\"),\n      },\n    ]\n\n    this.subscribeToChoices = [\n      {\n        value: 0,\n        icon: \"star_border\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"star_half\",\n        label: gettext(\"Notify\"),\n      },\n      {\n        value: 2,\n        icon: \"star\",\n        label: gettext(\"Notify with e-mail\"),\n      },\n    ]\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.options, {\n      is_hiding_presence: this.state.is_hiding_presence,\n      limits_private_thread_invites_to:\n        this.state.limits_private_thread_invites_to,\n      subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n      subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n    })\n  }\n\n  handleSuccess() {\n    store.dispatch(\n      patch({\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to:\n          this.state.limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n      })\n    )\n    snackbar.success(gettext(\"Your forum options have been changed.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Please reload page and try again.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Forum options\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change forum options\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <fieldset>\n              <legend>{gettext(\"Privacy settings\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Hide my presence\")}\n                helpText={gettext(\n                  \"If you hide your presence, only members with permission to see hidden users will see when you are online.\"\n                )}\n                for=\"id_is_hiding_presence\"\n              >\n                <YesNoSwitch\n                  id=\"id_is_hiding_presence\"\n                  disabled={this.state.isLoading}\n                  iconOn=\"visibility_off\"\n                  iconOff=\"visibility\"\n                  labelOn={gettext(\"Hide my presence from other users\")}\n                  labelOff={gettext(\"Show my presence to other users\")}\n                  onChange={this.bindInput(\"is_hiding_presence\")}\n                  value={this.state.is_hiding_presence}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Private thread invitations\")}\n                for=\"id_limits_private_thread_invites_to\"\n              >\n                <Select\n                  id=\"id_limits_private_thread_invites_to\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"limits_private_thread_invites_to\")}\n                  value={this.state.limits_private_thread_invites_to}\n                  choices={this.privateThreadInvitesChoices}\n                />\n              </FormGroup>\n            </fieldset>\n\n            <fieldset>\n              <legend>{gettext(\"Automatic subscriptions\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Threads I start\")}\n                for=\"id_subscribe_to_started_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_started_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_started_threads\")}\n                  value={this.state.subscribe_to_started_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Threads I reply to\")}\n                for=\"id_subscribe_to_replied_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_replied_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_replied_threads\")}\n                  value={this.state.subscribe_to_replied_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n            </fieldset>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Save changes\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nexport function SideNav(props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.options.map((option) => {\n        return (\n          <Link\n            to={props.baseUrl + option.component + \"/\"}\n            className=\"list-group-item\"\n            activeClassName=\"active\"\n            key={option.component}\n          >\n            <span className=\"material-icon\">{option.icon}</span>\n            {option.name}\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function CompactNav(props) {\n  return (\n    <ul className={props.className || \"dropdown-menu\"} role=\"menu\">\n      {props.options.map((option) => {\n        return (\n          <Li\n            path={props.baseUrl + option.component + \"/\"}\n            key={option.component}\n          >\n            <Link\n              to={props.baseUrl + option.component + \"/\"}\n              onClick={props.hideNav}\n            >\n              <span className=\"material-icon hidden-sm\">{option.icon}</span>\n              {option.name}\n            </Link>\n          </Li>\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { SideNav, CompactNav } from \"misago/components/options/navs\"\nimport DeleteAccount from \"misago/components/options/delete-account\"\nimport EditDetails from \"misago/components/options/edit-details\"\nimport DownloadData from \"misago/components/options/download-data\"\nimport ChangeForumOptions from \"misago/components/options/forum-options\"\nimport ChangeUsername from \"misago/components/options/change-username/root\"\nimport ChangeSignInCredentials from \"misago/components/options/sign-in-credentials/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport PageContainer from \"../PageContainer\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    const page = misago.get(\"USER_OPTIONS\").filter((page) => {\n      const url = misago.get(\"USERCP_URL\") + page.component + \"/\"\n      return this.props.location.pathname.substr(0, url.length) === url\n    })[0]\n\n    return (\n      <div className=\"page page-options\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"options\">\n            <PageHeaderBanner styleName=\"options\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol auto>\n                    <h1>{gettext(\"Change your options\")}</h1>\n                  </FlexRowCol>\n                  <FlexRowCol className=\"hidden-xs hidden-md hidden-lg\" shrink>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n                        title={gettext(\"Menu\")}\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">menu</span>\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu dropdown-menu-right\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n                <FlexRowSection className=\"hidden-sm hidden-md hidden-lg\">\n                  <FlexRowCol>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-block dropdown-toggle\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">{page.icon}</span>\n                        {page.name}\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-3 hidden-xs hidden-sm\">\n              <SideNav\n                baseUrl={misago.get(\"USERCP_URL\")}\n                options={misago.get(\"USER_OPTIONS\")}\n              />\n            </div>\n            <div className=\"col-md-9\">{this.props.children}</div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nexport function paths() {\n  const paths = [\n    {\n      path: misago.get(\"USERCP_URL\") + \"forum-options/\",\n      component: connect(select)(ChangeForumOptions),\n    },\n    {\n      path: misago.get(\"USERCP_URL\") + \"edit-details/\",\n      component: connect(select)(EditDetails),\n    },\n  ]\n\n  const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n  if (!delegateAuth) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"change-username/\",\n      component: connect(select)(ChangeUsername),\n    })\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"sign-in-credentials/\",\n      component: connect(select)(ChangeSignInCredentials),\n    })\n  }\n\n  if (misago.get(\"ENABLE_DOWNLOAD_OWN_DATA\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"download-data/\",\n      component: connect(select)(DownloadData),\n    })\n  }\n\n  if (!delegateAuth && misago.get(\"ENABLE_DELETE_OWN_ACCOUNT\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"delete-account/\",\n      component: connect(select)(DeleteAccount),\n    })\n  }\n\n  return paths\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\n\nconst UnusablePasswordMessage = () => {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change email or password\")}</h3>\n      </div>\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You need to set a password for your account to be able to change your username or email.\"\n            )}\n          </p>\n          <p className=\"help-block\">\n            <a\n              className=\"btn btn-primary\"\n              href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n            >\n              {gettext(\"Set password\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnusablePasswordMessage\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_email: \"\",\n      password: \"\",\n\n      validators: {\n        new_email: [validators.email()],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_email.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_email) {\n      snackbar.error(errors.new_email[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_email, {\n      new_email: this.state.new_email,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_email: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_email) {\n        snackbar.error(rejection.new_email)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change e-mail address\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New e-mail\")} for=\"id_new_email\">\n              <input\n                type=\"text\"\n                id=\"id_new_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_email\")}\n                value={this.state.new_email}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_email\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change e-mail\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n\n      validators: {\n        new_password: [],\n        repeat_password: [],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_password.trim().length,\n      this.state.repeat_password.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_password) {\n      snackbar.error(errors.new_password[0])\n      return false\n    }\n\n    if (this.state.new_password !== this.state.repeat_password) {\n      snackbar.error(gettext(\"New passwords are different.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_password, {\n      new_password: this.state.new_password,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_password) {\n        snackbar.error(rejection.new_password)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change password\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New password\")} for=\"id_new_password\">\n              <input\n                type=\"password\"\n                id=\"id_new_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_password\")}\n                value={this.state.new_password}\n              />\n            </FormGroup>\n\n            <FormGroup\n              label={gettext(\"Repeat password\")}\n              for=\"id_repeat_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_repeat_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"repeat_password\")}\n                value={this.state.repeat_password}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change password\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangeEmail from \"misago/components/options/sign-in-credentials/change-email\"\nimport ChangePassword from \"misago/components/options/sign-in-credentials/change-password\"\nimport misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\nimport UnusablePasswordMessage from \"./UnusablePasswordMessage\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change email or password\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    if (!this.props.user.has_usable_password) {\n      return <UnusablePasswordMessage />\n    }\n\n    return (\n      <div>\n        <ChangeEmail user={this.props.user} />\n        <ChangePassword user={this.props.user} />\n\n        <p className=\"message-line\">\n          <span className=\"material-icon\">warning</span>\n          <a href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}>\n            {gettext(\"Change forgotten password\")}\n          </a>\n        </p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy,\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {gettext(\"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n    ])\n    .then(\n      () => {\n        snackbar.success(gettext(\"You have left this thread.\"))\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been removed from this thread.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been made new thread owner.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function (props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>{gettext(\"See profile\")}</a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">{gettext(\"Thread owner\")}</span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map((participant) => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to take over this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {gettext(\"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to leave this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser ? gettext(\"Leave thread\") : gettext(\"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function (props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = ngettext(\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count,\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\",\n]\n\nexport const LABELS = [\n  gettext(\"Entered password is very weak.\"),\n  gettext(\"Entered password is weak.\"),\n  gettext(\"Entered password is average.\"),\n  gettext(\"Entered password is strong.\"),\n  gettext(\"Entered password is very strong.\"),\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false,\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function (value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: generateRandomHash(),\n      label: \"\",\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map((choice) => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = (hash) => {\n    const choices = this.props.choices.filter((choice) => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map((choice) => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {gettext(\"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = (event) => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem = window.confirm(\n      gettext(\"Are you sure you want to delete this choice?\")\n    )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={gettext(\"Delete this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={gettext(\"choice label\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n\nexport function generateRandomHash() {\n  let randomHash = \"\"\n  while (randomHash.length != 12) {\n    randomHash = Math.random()\n      .toString(36)\n      .replace(/[^a-zA-Z0-9]+/g, \"\")\n      .substr(1, 12)\n  }\n  return randomHash\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll || {\n      question: \"\",\n      choices: [\n        {\n          hash: \"choice-10000\",\n          label: \"\",\n        },\n        {\n          hash: \"choice-20000\",\n          label: \"\",\n        },\n      ],\n      length: 0,\n      allowed_choices: 1,\n      allow_revotes: 0,\n      is_public: 0,\n    }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.question,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: [],\n      },\n\n      errors: {},\n    }\n  }\n\n  setChoices = (choices) => {\n    const errors = Object.assign({}, errors, { choices: null })\n\n    this.setState({\n      choices,\n      errors,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard poll?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public,\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    } else {\n      return ajax.post(this.props.thread.api.poll, data)\n    }\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(gettext(\"Poll has been edited.\"))\n    } else {\n      snackbar.success(gettext(\"Poll has been posted.\"))\n    }\n\n    posting.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection),\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <div className=\"container\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-body\">\n                <fieldset>\n                  <legend>{gettext(\"Question and choices\")}</legend>\n\n                  <FormGroup\n                    label={gettext(\"Poll question\")}\n                    for=\"id_questions\"\n                    validation={this.state.errors.question}\n                  >\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      id=\"id_questions\"\n                      onChange={this.bindInput(\"question\")}\n                      type=\"text\"\n                      maxLength=\"255\"\n                      value={this.state.question}\n                    />\n                  </FormGroup>\n\n                  <FormGroup\n                    label={gettext(\"Available choices\")}\n                    validation={this.state.errors.choices}\n                  >\n                    <ChoicesControl\n                      choices={this.state.choices}\n                      disabled={this.state.isLoading}\n                      setChoices={this.setChoices}\n                    />\n                  </FormGroup>\n                </fieldset>\n\n                <fieldset>\n                  <legend>{gettext(\"Voting\")}</legend>\n\n                  <div className=\"row\">\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Poll length\")}\n                        helpText={gettext(\n                          \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                        )}\n                        for=\"id_length\"\n                        validation={this.state.errors.length}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_length\"\n                          onChange={this.bindInput(\"length\")}\n                          type=\"text\"\n                          value={this.state.length}\n                        />\n                      </FormGroup>\n                    </div>\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allowed choices\")}\n                        for=\"id_allowed_choices\"\n                        validation={this.state.errors.allowed_choices}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_allowed_choices\"\n                          onChange={this.bindInput(\"allowed_choices\")}\n                          type=\"text\"\n                          maxLength=\"255\"\n                          value={this.state.allowed_choices}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n\n                  <div className=\"row\">\n                    <PollPublicSwitch\n                      bindInput={this.bindInput}\n                      disabled={this.state.isLoading}\n                      isEdit={this.state.isEdit}\n                      value={this.state.is_public}\n                    />\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allow vote changes\")}\n                        for=\"id_allow_revotes\"\n                      >\n                        <YesNoSwitch\n                          id=\"id_allow_revotes\"\n                          disabled={this.state.isLoading}\n                          iconOn=\"check\"\n                          iconOff=\"close\"\n                          labelOn={gettext(\n                            \"Allow participants to change their vote\"\n                          )}\n                          labelOff={gettext(\n                            \"Don't allow participants to change their vote\"\n                          )}\n                          onChange={this.bindInput(\"allow_revotes\")}\n                          value={this.state.allow_revotes}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n                </fieldset>\n              </div>\n              <div className=\"panel-footer text-right\">\n                <button\n                  className=\"btn btn-default\"\n                  disabled={this.state.isLoading}\n                  onClick={this.onCancel}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>{\" \"}\n                <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                  {this.state.isEdit\n                    ? gettext(\"Save changes\")\n                    : gettext(\"Post poll\")}\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={gettext(\"Make voting public\")}\n        helpText={gettext(\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={gettext(\"Votes are public\")}\n          labelOff={gettext(\"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll }\nexport { PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(gettext(\"Posted by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name),\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name),\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = ngettext(\"%(votes)s vote.\", \"%(votes)s votes.\", props.votes)\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return <li className=\"poll-info-public\">{gettext(\"Votes are public.\")}</li>\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults,\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true,\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false,\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map((choice) => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = ngettext(\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc,\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {gettext(\"Your choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function (props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      (data) => {\n        const hydratedData = data.map((choice) => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map((voter) => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on),\n              })\n            }),\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Poll votes\")}</h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map((choice) => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = ngettext(\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map((user) => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit controls={controls} poll={poll} thread={thread} />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {gettext(\"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      submit: this.props.poll.api.index,\n\n      thread: this.props.thread,\n      poll: this.props.poll,\n\n      mode: \"POLL\",\n    })\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_edit) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 2)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Edit\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      gettext(\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = (newThreadAcl) => {\n    snackbar.success(\"Poll has been deleted\")\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = (rejection) => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {gettext(\"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = ngettext(\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft,\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {gettext(\"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return <li className=\"poll-help-no-revotes\">{gettext(\"Votes are final.\")}</li>\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices),\n    }\n  }\n\n  toggleChoice = (hash) => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices),\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected,\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected,\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(gettext(\"You need to select at least one choice\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(gettext(\"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {gettext(\"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {gettext(\"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map((choice) => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={gettext(\"Revert post to state from before this edit.\")}\n        >\n          {gettext(\"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null,\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true,\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  revertEdit = (edit) => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true,\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      (data) => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(gettext(\"Post has been reverted to previous state.\"))\n        modal.hide()\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Post edits history\")}</h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={gettext(\"Revert post to state from before this edit.\")}\n      >\n        {gettext(\"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(edited_by)s %(edited_on)s.\")),\n    {\n      edited_by: user,\n      edited_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on),\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function ({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map((post) => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function ({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"panel-content\">\n            <PostSide post={post} poster={user} />\n            <Header post={post} />\n            <Body post={post} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function ({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">{gettext(\"See post\")}</span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function ({ post, poster }) {\n  if (poster && poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function () {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"panel-content\">\n              <div className=\"post-side post-side-anonymous\">\n                <div className=\"media\">\n                  <div className=\"media-left\">\n                    <span>\n                      <Avatar className=\"poster-avatar\" size={50} />\n                    </span>\n                  </div>\n                  <div className=\"media-body\">\n                    <div className=\"media-heading\">\n                      <span className=\"item-title\">\n                        <span\n                          className=\"ui-preview-text\"\n                          style={{ width: random.int(30, 200) + \"px\" }}\n                        >\n                          &nbsp;\n                        </span>\n                      </span>\n                    </div>\n                    <span className=\"user-title user-title-anonymous\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"post-heading\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(30, 200) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"post-body\">\n                <article className=\"misago-markup\">\n                  <p>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </p>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={gettext(\"No users have liked this post.\")} />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on),\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = gettext(\"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = ngettext(\"%(likes)s like\", \"%(likes)s likes\", likesCount)\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map((like) => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars,\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nconst CLASS_ACTIVE = \"posting-active\"\nconst CLASS_DEFAULT = \"posting-default\"\nconst CLASS_MINIMIZED = \"posting-minimized\"\nconst CLASS_FULLSCREEN = \"posting-fullscreen\"\n\nclass PostingDialog extends React.Component {\n  componentDidMount() {\n    document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT)\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\n      CLASS_ACTIVE,\n      CLASS_DEFAULT,\n      CLASS_MINIMIZED,\n      CLASS_FULLSCREEN\n    )\n  }\n\n  componentWillReceiveProps({ fullscreen, minimized }) {\n    if (minimized) {\n      document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN)\n      document.body.classList.add(CLASS_MINIMIZED)\n    } else {\n      if (fullscreen) {\n        document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_FULLSCREEN)\n      } else {\n        document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_DEFAULT)\n      }\n    }\n  }\n\n  render() {\n    const { children, fullscreen, minimized } = this.props\n\n    return (\n      <div\n        className={classnames(\"posting-dialog\", {\n          \"posting-dialog-minimized\": minimized,\n          \"posting-dialog-fullscreen\": fullscreen && !minimized,\n        })}\n      >\n        <div className=\"posting-dialog-container\">{children}</div>\n      </div>\n    )\n  }\n}\n\nexport default PostingDialog\n","import React from \"react\"\n\nconst PostingDialogBody = ({ children }) => (\n  <div className=\"posting-dialog-body\">{children}</div>\n)\n\nexport default PostingDialogBody\n","import React from \"react\"\n\nconst PostingDialogHeader = ({\n  children,\n  close,\n  fullscreen,\n  minimize,\n  minimized,\n  fullscreenEnter,\n  fullscreenExit,\n  open,\n}) => (\n  <div className=\"posting-dialog-header\">\n    {children}\n    {minimized ? (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Open\")}\n        type=\"button\"\n        onClick={open}\n      >\n        <span className=\"material-icon\">expand_less</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Minimize\")}\n        type=\"button\"\n        onClick={minimize}\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n    )}\n    {fullscreen ? (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs hidden-sm\"\n        title={pgettext(\"dialog\", \"Exit the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenExit}\n      >\n        <span className=\"material-icon\">fullscreen_exit</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs hidden-sm\"\n        title={pgettext(\"dialog\", \"Enter the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenEnter}\n      >\n        <span className=\"material-icon\">fullscreen</span>\n      </button>\n    )}\n    <button\n      className=\"btn btn-posting-dialog\"\n      title={pgettext(\"dialog\", \"Cancel\")}\n      type=\"button\"\n      onClick={close}\n    >\n      <span className=\"material-icon\">close</span>\n    </button>\n  </div>\n)\n\nexport default PostingDialogHeader\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard changes?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true,\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Reply has been edited.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <Container className=\"posting-form\">\n          <form onSubmit={this.handleSubmit} method=\"POST\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <Editor\n                  attachments={this.state.attachments}\n                  canProtect={this.state.canProtect}\n                  loading={this.state.isLoading}\n                  onAttachmentsChange={this.onAttachmentsChange}\n                  onCancel={this.onCancel}\n                  onChange={this.onPostChange}\n                  onProtect={this.onProtect}\n                  onUnprotect={this.onUnprotect}\n                  protect={this.state.protect}\n                  submitLabel={gettext(\"Edit reply\")}\n                  value={this.state.post}\n                />\n              </div>\n            </div>\n          </form>\n        </Container>\n      )\n    } else if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    } else {\n      return <Loader />\n    }\n  }\n}\n","import React from \"react\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function (props) {\n  if (props.mode === \"START\") {\n    return <Start {...props} />\n  } else if (props.mode === \"START_PRIVATE\") {\n    return <StartPrivate {...props} />\n  } else if (props.mode === \"REPLY\") {\n    return <Reply {...props} />\n  } else if (props.mode === \"EDIT\") {\n    return <Edit {...props} />\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport MarkupEditor from \"misago/components/MarkupEditor\"\nimport Form from \"misago/components/form\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : \"\",\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      this.minimize()\n      posting.close()\n    }\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your reply has been posted.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      thread: this.props.thread,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.isErrored) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <Message message={this.state.isErrored} />\n        </PostingDialogReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <Loader />\n        </PostingDialogReply>\n      )\n    }\n\n    return (\n      <PostingDialogReply {...dialogProps}>\n        <form\n          className=\"posting-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={gettext(\"Post reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogReply>\n    )\n  }\n}\n\nconst PostingDialogReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  thread,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      <strong>{\"Reply to: \" + thread.title}</strong>\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map((user) => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard private thread?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onToChange = (event) => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(gettext(\"You have to enter at least one recipient.\"))\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onToChange}\n                placeholder={gettext(\n                  \"Comma separated list of user names, eg.: Danny, Lisa\"\n                )}\n                type=\"text\"\n                value={this.state.to}\n              />\n            </div>\n          </div>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <Editor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import React from \"react\"\nimport MarkupEditor from \"misago/components/MarkupEditor\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport Options from \"./utils/options\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      showOptions: false,\n      categoryOptions: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    let category = null\n    let showOptions = false\n    let categoryOptions = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map((item) => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        categoryOptions = item.post\n      }\n\n      if (item.post && (item.post.close || item.post.hide || item.post.pin)) {\n        showOptions = true\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id,\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      showOptions,\n\n      categories,\n      category,\n      categoryOptions,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard thread?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = (event) => {\n    const category = this.state.categories.find((item) => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    }\n\n    if (!this.state.isReady) {\n      return <Loader />\n    }\n\n    let columns = 0\n    if (this.state.categoryOptions.close) columns += 1\n    if (this.state.categoryOptions.hide) columns += 1\n    if (this.state.categoryOptions.pin) columns += 1\n\n    let titleStyle = null\n\n    if (columns === 1) {\n      titleStyle = \"col-sm-6\"\n    } else {\n      titleStyle = \"col-sm-8\"\n    }\n\n    if (columns === 3) {\n      titleStyle += \" col-md-6\"\n    } else if (columns) {\n      titleStyle += \" col-md-7\"\n    } else {\n      titleStyle += \" col-md-9\"\n    }\n\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className={titleStyle}>\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top\">\n              <CategorySelect\n                choices={this.state.categories}\n                disabled={this.state.isLoading}\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n              />\n            </div>\n            <Options\n              close={this.state.close}\n              columns={columns}\n              disabled={this.state.isLoading}\n              hide={this.state.hide}\n              onClose={this.onClose}\n              onHide={this.onHide}\n              onOpen={this.onOpen}\n              onPinGlobally={this.onPinGlobally}\n              onPinLocally={this.onPinLocally}\n              onUnhide={this.onUnhide}\n              onUnpin={this.onUnpin}\n              options={this.state.categoryOptions}\n              pin={this.state.pin}\n              showOptions={this.state.showOptions}\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <MarkupEditor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  return attachments\n    .filter((attachment) => {\n      return attachment.id && !attachment.isRemoved\n    })\n    .map((a) => {\n      return a.id\n    })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map((attachment) => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on),\n    })\n  })\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className}>\n      <div className=\"container\">{props.children}</div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport Loader from \"misago/components/loader\"\n\nexport default function (props) {\n  return (\n    <Container className=\"posting-loader\">\n      <Loader />\n    </Container>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  return (\n    <Container className=\"posting-message\">\n      <div className=\"message-body\">\n        <p>\n          <span className=\"material-icon\">error_outline</span>\n          {props.message}\n        </p>\n        <button\n          type=\"button\"\n          className=\"btn btn-default\"\n          onClick={posting.close}\n        >\n          {gettext(\"Dismiss\")}\n        </button>\n      </div>\n    </Container>\n  )\n}\n","import React from \"react\"\n\nexport default function (props) {\n  if (!props.showOptions) return null\n\n  const { columns } = props\n\n  let className = \"col-xs-12 xs-margin-top\"\n\n  if (columns === 1) {\n    className += \" col-sm-2\"\n  } else {\n    className += \" sm-margin-top\"\n  }\n\n  if (columns === 3) {\n    className += \" col-md-3\"\n  } else {\n    className += \" col-md-2\"\n  }\n  className += \" posting-options\"\n\n  const columnClassName = \"col-xs-\" + 12 / columns\n\n  let textClassName = \"btn-text\"\n  if (columns === 3) {\n    textClassName += \" visible-sm-inline-block\"\n  } else if (columns === 2) {\n    textClassName += \" hidden-md hidden-lg\"\n  } else {\n    textClassName += \" hidden-sm\"\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"row\">\n        <PinOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          onPinGlobally={props.onPinGlobally}\n          onPinLocally={props.onPinLocally}\n          onUnpin={props.onUnpin}\n          pin={props.pin}\n          show={props.options.pin}\n          textClassName={textClassName}\n        />\n        <HideOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          hide={props.hide}\n          onHide={props.onHide}\n          onUnhide={props.onUnhide}\n          show={props.options.hide}\n          textClassName={textClassName}\n        />\n        <CloseOptions\n          className={columnClassName}\n          close={props.close}\n          disabled={props.disabled}\n          onClose={props.onClose}\n          onOpen={props.onOpen}\n          show={props.options.close}\n          textClassName={textClassName}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport function CloseOptions(props) {\n  if (!props.show) return null\n\n  const label = props.close ? gettext(\"Closed\") : gettext(\"Open\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.close ? props.onOpen : props.onClose}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.close ? \"lock\" : \"lock_outline\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function HideOptions(props) {\n  if (!props.show) return null\n\n  const label = props.hide ? gettext(\"Hidden\") : gettext(\"Not hidden\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.hide ? props.onUnhide : props.onHide}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.hide ? \"visibility_off\" : \"visibility\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function PinOptions(props) {\n  if (!props.show) return null\n\n  let icon = null\n  let onClick = null\n  let label = null\n\n  switch (props.pin) {\n    case 0:\n      icon = \"radio_button_unchecked\"\n      onClick = props.onPinLocally\n      label = gettext(\"Unpinned\")\n      break\n\n    case 1:\n      icon = \"bookmark_outline\"\n      onClick = props.onPinGlobally\n      label = gettext(\"Pinned locally\")\n\n      if (props.show == 2) {\n        onClick = props.onPinGlobally\n      } else {\n        onClick = props.onUnpin\n      }\n\n      break\n\n    case 2:\n      icon = \"bookmark\"\n      onClick = props.onUnpin\n      label = gettext(\"Pinned globally\")\n      break\n  }\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={onClick}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">{icon}</span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n","export default function (usernames) {\n  const normalisedNames = usernames\n    .split(\",\")\n    .map((i) => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter((i) => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url,\n        }),\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false,\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      gettext(\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(gettext(\"Event has been deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {gettext(\"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\",\n}\n\nconst EventIcon = (props) => (\n  <span className=\"event-icon-bg\">\n    <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n  </span>\n)\n\nexport default EventIcon\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function (props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"event-body\">\n        <div className=\"event-icon\">\n          <Icon {...props} />\n        </div>\n        <Waypoint className=\"event-content\" post={props.post}>\n          <Message {...props} />\n          <Info {...props} />\n        </Waypoint>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow()),\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(gettext(\"Hidden by %(event_by)s %(event_on)s.\")),\n      {\n        event_by: user,\n        event_on: date,\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date,\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: gettext(\"Thread has been pinned globally.\"),\n  pinned_locally: gettext(\"Thread has been pinned locally.\"),\n  unpinned: gettext(\"Thread has been unpinned.\"),\n\n  approved: gettext(\"Thread has been approved.\"),\n\n  opened: gettext(\"Thread has been opened.\"),\n  closed: gettext(\"Thread has been closed.\"),\n\n  unhid: gettext(\"Thread has been revealed.\"),\n  hid: gettext(\"Thread has been made hidden.\"),\n\n  tookover: gettext(\"Took thread over.\"),\n\n  owner_left: gettext(\"Owner has left thread. This thread is now closed.\"),\n  participant_left: gettext(\"Participant has left thread.\"),\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread title has been changed from %(old_title)s.\")\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title),\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    gettext(\"The %(merged_thread)s thread has been merged into this thread.\")\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(gettext(\"Changed thread owner to %(user)s.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Added %(user)s to thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Removed %(user)s from thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"event-label\">\n      <span className=\"label label-unread\">{gettext(\"New event\")}</span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function (props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map((post) => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map((row) => {\n        const key = row\n          .map((a) => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map((attachment) => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <Waypoint className=\"post-body\" post={props.post}>\n      <MisagoMarkup markup={props.post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Hidden by %(hidden_by)s %(hidden_on)s.\")),\n    {\n      hidden_by: user,\n      hidden_on: date,\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post is hidden. You cannot see its contents.\")}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url,\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter((user) => {\n        return !user.id || user.id !== props.user.id\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    (newState) => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true,\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(gettext(\"Post has been deleted.\"))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false,\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug,\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null,\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    (newState) => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(gettext(\"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {gettext(\"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {gettext(\"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {gettext(\"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function (props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move post to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move post\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move this post at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      gettext(\"Marked as best answer by you %(marked_on)s.\"),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      gettext(\"Marked as best answer by %(marked_by)s %(marked_on)s.\"),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {gettext(\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {gettext(\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>{gettext(\"This post is protected. Only moderators may change it.\")}</p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {gettext(\"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked ? gettext(\"Liked\") : gettext(\"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map((u) => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      gettext(\"%(user)s likes this.\"),\n      {\n        user: usernames[0],\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    gettext(\"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser,\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      gettext(\"%(users)s like this.\"),\n      {\n        users: usernamesList,\n      },\n      true\n    )\n  }\n\n  const message = ngettext(\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes,\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id,\n      },\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-primary btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription,\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport modal from \"misago/services/modal\"\n\nexport default function (props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">{gettext(\"New post\")}</span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {gettext(\"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: props.post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on hidden-xs\"\n      title={tooltip}\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    const label = ngettext(\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = ngettext(\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={gettext(\"This post is protected and may not be edited.\")}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {gettext(\"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected,\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function (props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide {...props} />\n          <div className=\"panel-content\">\n            <Header {...props} />\n            <FlagBestAnswer {...props} />\n            <FlagUnapproved {...props} />\n            <FlagProtected {...props} />\n            <FlagHidden {...props} />\n            <Body {...props} />\n            <Attachments {...props} />\n            <Footer {...props} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\n\nexport default function ({ post, thread }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function (props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", poster.posts)\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts,\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nconst PostPreview = () => (\n  <li className=\"post\">\n    <div className=\"panel panel-default panel-post\">\n      <div className=\"panel-body\">\n        <div className=\"post-side post-side-registered\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <span>\n                <Avatar className=\"poster-avatar\" size=\"100\" />\n              </span>\n            </div>\n            <div className=\"media-body\">\n              <span className=\"media-heading item-title\">\n                <span className=\"ui-preview-text\" style={{ width: \"80px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n              <span className=\"user-title user-title-anonymous\">\n                <span className=\"ui-preview-text\" style={{ width: \"60px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"panel-content\">\n          <div className=\"post-body\">\n            <article className=\"misago-markup\">\n              <p className=\"ui-preview-text\" style={{ width: \"100%\" }}>\n                &nbsp;\n              </p>\n              <p className=\"ui-preview-text\" style={{ width: \"70%\" }}>\n                &nbsp;\n              </p>\n              <p\n                className=\"ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: \"85%\" }}\n              >\n                &nbsp;\n              </p>\n            </article>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n)\n\nexport default PostPreview\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  /*\n  Super naive and de-facto placeholder implementation for reading posts on scroll\n  */\n  componentDidMount() {\n    if (this.props.post.is_read) return // don't register read tracker\n\n    $(this.element).waypoint({\n      handler: (direction) => {\n        if (direction !== \"down\" || this.props.post.is_read) return\n\n        // after 1500ms run flag post as read logic\n        window.setTimeout(() => {\n          // check if post's bottom edge is still in viewport\n          const boundingClientRect = this.element.getBoundingClientRect()\n          const offsetBottom =\n            boundingClientRect.height + boundingClientRect.top\n          const clientHeight = document.documentElement.clientHeight\n\n          if (offsetBottom < 5) return // scrolled past the post\n          if (offsetBottom > clientHeight) return // scrolled back up\n\n          // mark post as read\n          store.dispatch(\n            post.patch(this.props.post, {\n              is_read: true,\n            })\n          )\n\n          // call API to let it know we have unread post\n          ajax.post(this.props.post.api.read).then(\n            (data) => {\n              store.dispatch(\n                thread.update(this.props.thread, {\n                  is_read: data.thread_is_read,\n                })\n              )\n            },\n            (rejection) => {\n              snackbar.apiError(rejection)\n            }\n          )\n        }, 1000)\n      },\n      offset: \"bottom-in-view\",\n    })\n  }\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={(node) => {\n          if (node) this.element = node\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Status, { StatusIcon, StatusLabel } from \"../user-status\"\n\nconst ProfileDataList = ({ profile }) => (\n  <ul className=\"profile-data-list\">\n    {profile.is_active === false && (\n      <li className=\"user-account-disabled\">\n        <abbr\n          title={gettext(\n            \"This user's account has been disabled by administrator.\"\n          )}\n        >\n          {gettext(\"Account disabled\")}\n        </abbr>\n      </li>\n    )}\n    <li className=\"user-status-display\">\n      <Status user={profile} status={profile.status}>\n        <StatusIcon user={profile} status={profile.status} />\n        <StatusLabel\n          user={profile}\n          status={profile.status}\n          className=\"status-label\"\n        />\n      </Status>\n    </li>\n    {profile.rank.is_tab ? (\n      <li className=\"user-rank\">\n        <a href={profile.rank.url} className=\"item-title\">\n          {profile.rank.name}\n        </a>\n      </li>\n    ) : (\n      <li className=\"user-rank\">\n        <span className=\"item-title\">{profile.rank.name}</span>\n      </li>\n    )}\n    {(profile.title || profile.rank.title) && (\n      <li className=\"user-title\">{profile.title || profile.rank.title}</li>\n    )}\n    <li className=\"user-joined-on\">\n      <abbr\n        title={interpolate(\n          gettext(\"Joined on %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.format(\"LL, LT\"),\n          },\n          true\n        )}\n      >\n        {interpolate(\n          gettext(\"Joined %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.fromNow(),\n          },\n          true\n        )}\n      </abbr>\n    </li>\n    {profile.email && (\n      <li className=\"user-email\">\n        <a href={\"mailto:\" + profile.email} className=\"item-title\">\n          {profile.email}\n        </a>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ProfileDataList\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../PageHeader\"\nimport FollowButton from \"./follow-button\"\nimport MessageButton from \"./message-button\"\nimport ModerationOptions from \"./moderation/nav\"\nimport ProfileDataList from \"./ProfileDataList\"\n\nconst ProfileHeader = ({ profile, user, moderation, message, follow }) => (\n  <PageHeaderContainer>\n    <PageHeader\n      styleName={\n        profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n      }\n    >\n      <PageHeaderBanner\n        styleName={\n          profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n        }\n      >\n        <div className=\"profile-page-header\">\n          <div className=\"profile-page-header-avatar\">\n            <Avatar\n              className=\"user-avatar hidden-sm hidden-md hidden-lg\"\n              user={profile}\n              size={200}\n              size2x={400}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-md hidden-lg\"\n              user={profile}\n              size={64}\n              size2x={128}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-sm\"\n              user={profile}\n              size={128}\n              size2x={256}\n            />\n          </div>\n          <h1>{profile.username}</h1>\n        </div>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"profile-page-header-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol>\n              <ProfileDataList profile={profile} />\n            </FlexRowCol>\n          </FlexRowSection>\n          {message && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <MessageButton\n                  className=\"btn btn-default btn-block btn-outline\"\n                  profile={profile}\n                  user={user}\n                />\n              </FlexRowCol>\n              {moderation.available && !follow && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {follow && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <FollowButton\n                  className=\"btn btn-block btn-outline\"\n                  profile={profile}\n                />\n              </FlexRowCol>\n              {moderation.available && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {moderation.available && !follow && !message && (\n            <FlexRowSection>\n              <FlexRowCol className=\"hidden-xs\" shrink>\n                <div className=\"dropdown\">\n                  <ProfileModerationButton />\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n              <FlexRowCol className=\"hidden-sm hidden-md hidden-lg\">\n                <div className=\"dropdown\">\n                  <button\n                    className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n                    type=\"button\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <span className=\"material-icon\">settings</span>\n                    {gettext(\"Options\")}\n                  </button>\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst ProfileModerationButton = () => (\n  <button\n    className=\"btn btn-default btn-icon btn-outline dropdown-toggle\"\n    type=\"button\"\n    title={gettext(\"Options\")}\n    data-toggle=\"dropdown\"\n    aria-haspopup=\"true\"\n    aria-expanded=\"false\"\n  >\n    <span className=\"material-icon\">settings</span>\n  </button>\n)\n\nexport default ProfileHeader\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst ProfileNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">{page.icon}</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => (\n          <li key={page.component}>\n            <Link to={baseUrl + page.component + \"/\"}>\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => (\n        <Li path={baseUrl + page.component + \"/\"} key={page.component}>\n          <Link to={baseUrl + page.component + \"/\"}>\n            <span className=\"material-icon\">{page.icon}</span>\n            {page.name}\n          </Link>\n        </Li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ProfileNav\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban,\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error,\n    })\n  }\n\n  update = (ban) => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban,\n    })\n  }\n\n  error = (error) => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Ban details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{gettext(\"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{gettext(\"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{gettext(\"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={gettext(\"No ban is active at the moment.\")}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Ban details\")}</h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = gettext(\"You are not sharing any details with others.\")\n  } else {\n    message = interpolate(\n      gettext(\"%(username)s is not sharing any details with others.\"),\n      {\n        username: profile.username,\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function (props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function ({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function ({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile,\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nconst ProfileDetailsHeader = ({ onEdit, showEditButton }) => (\n  <Toolbar>\n    <ToolbarSection auto>\n      <ToolbarItem auto>\n        <h3>{gettext(\"Details\")}</h3>\n      </ToolbarItem>\n    </ToolbarSection>\n    {showEditButton && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            onClick={onEdit}\n            type=\"button\"\n          >\n            {gettext(\"Edit\")}\n          </button>\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ProfileDetailsHeader\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = (newDetails) => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = gettext(\"Your details have been updated.\")\n    } else {\n      message = interpolate(\n        gettext(\"%(username)s's details have been updated.\"),\n        {\n          username: profile.username,\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have no started threads.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s started no threads.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0,\n      })\n      .then(\n        (data) => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false,\n          })\n        },\n        (rejection) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username,\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.props.header}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (props.posts.isLoaded && !props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {gettext(\"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return gettext(\"Following\")\n    } else {\n      return gettext(\"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1,\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1,\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n        })\n\n        store.dispatch(patch(data))\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = gettext(\"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1,\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You have no followers.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show more (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search users...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = gettext(\"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You are not following any users.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile],\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {gettext(\"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\",\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      (options) => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\",\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(gettext(\"Avatar controls have been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Lock avatar\")}\n            helpText={gettext(\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={gettext(\"Disallow user from changing avatar\")}\n              labelOff={gettext(\"Allow user to change avatar\")}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"User message\")}\n            helpText={gettext(\n              \"Optional message for user explaining why he/she is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"Staff message\")}\n            helpText={gettext(\n              \"Optional message for forum team members explaining why user is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Avatar controls\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()],\n      },\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\",\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(gettext(\"Username has been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New username\")} for=\"id_username\">\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change username\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n\n        this.countdown()\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1,\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true,\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content,\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        gettext(\"Delete %(username)s\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown,\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"User content\")} for=\"id_with_content\">\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={gettext(\"Delete together with user's account\")}\n              labelOff={gettext(\"Hide after deleting user's account\")}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {gettext(\"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Delete user account\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function (store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile,\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n        {!!moderation.avatar && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showAvatarDialog}\n            >\n              <span className=\"material-icon\">portrait</span>\n              {gettext(\"Avatar controls\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.rename && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showRenameDialog}\n            >\n              <span className=\"material-icon\">credit_card</span>\n              {gettext(\"Change username\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showDeleteDialog}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete account\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport PageContainer from \"../PageContainer\"\nimport ProfileHeader from \"./ProfileHeader\"\nimport ProfileNav from \"./ProfileNav\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n    const page = pages.filter((page) => {\n      const url = baseUrl + page.component + \"/\"\n      return this.props.location.pathname === url\n    })[0]\n    const { profile, user } = this.props\n    const moderation = getModeration(profile, user)\n    const message =\n      !!user.acl.can_start_private_threads && profile.id !== user.id\n    const follow = !!profile.acl.can_follow && profile.id !== user.id\n\n    return (\n      <div className=\"page page-user-profile\">\n        <ProfileHeader\n          profile={this.props.profile}\n          user={this.props.user}\n          moderation={moderation}\n          message={message}\n          follow={follow}\n        />\n        <PageContainer>\n          <ProfileNav baseUrl={baseUrl} page={page} pages={pages} />\n\n          {this.props.children}\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getModeration = (profile, user) => {\n  const moderation = {\n    available: false,\n    rename: false,\n    avatar: false,\n    delete: false,\n  }\n\n  if (user.is_anonymous) return moderation\n\n  moderation.rename = profile.acl.can_rename\n  moderation.avatar = profile.acl.can_moderate_avatar\n  moderation.delete = profile.acl.can_delete\n  moderation.available = !!(\n    moderation.rename ||\n    moderation.avatar ||\n    moderation.delete\n  )\n\n  return moderation\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails,\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function (item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component]),\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1,\n        },\n        \"search-username-history\"\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Username history\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"No name changes have been recorded for your account.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's username was never changed.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show older (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search history...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={this.props.placeholder || gettext(\"Search...\")}\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\nimport RegisterForm from \"misago/components/register.js\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null,\n    }\n  }\n\n  showRegisterForm = () => {\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(gettext(\"New registrations are currently disabled.\"))\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\")),\n      ]).then(\n        (result) => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1],\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            gettext(\"Registration is currently unavailable due to an error.\")\n          )\n        }\n      )\n    }\n  }\n\n  getClassName() {\n    return this.props.className + (this.state.isLoading ? \" btn-loading\" : \"\")\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn \" + this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {gettext(\"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach((item) => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length),\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator(),\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Register\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={gettext(\"Join with %(site)s\")}\n                formLabel={gettext(\"Or create forum account:\")}\n              />\n\n              <FormGroup\n                label={gettext(\"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this,\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Registration complete\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  completeRegistration = (apiResponse) => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Activation link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Reset password link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {gettext(\"Activate your account.\")}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{gettext(\"Your account is inactive.\")}</p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\",\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={gettext(\"Enter new password\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"%(username)s, your password has been changed successfully.\"),\n      {\n        username: this.props.user.username,\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {gettext(\n                  \"You will have to sign in using new password before continuing.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = (apiResponse) => {\n    auth.softSignOut()\n\n    // nuke \"redirect_to\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"redirect_to\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderContainer,\n  PageHeaderBanner,\n  PageHeaderDetails,\n} from \"../PageHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      query: props.search.query,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = (event) => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(gettext(\"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true,\n      })\n    )\n\n    const query = this.state.query.trim()\n\n    let url = window.location.href\n    const urlQuery = url.indexOf(\"?q=\")\n    if (urlQuery > 0) {\n      url = url.substring(0, urlQuery + 3)\n    }\n    window.history.pushState({}, \"\", url + encodeURIComponent(query))\n\n    return ajax.get(misago.get(\"SEARCH_API\"), { q: query })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers,\n      })\n    )\n\n    providers.forEach((provider) => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false,\n      })\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <PageHeaderContainer>\n          <PageHeader styleName=\"site-search\">\n            <PageHeaderBanner styleName=\"site-search\">\n              <h1>{gettext(\"Search\")}</h1>\n            </PageHeaderBanner>\n            <PageHeaderDetails className=\"page-header-search-form\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol>\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      type=\"text\"\n                      value={this.state.query}\n                      placeholder={gettext(\"Search\")}\n                      onChange={this.onQueryChange}\n                    />\n                  </FlexRowCol>\n                  <FlexRowCol shrink>\n                    <button\n                      className=\"btn btn-secondary btn-icon btn-outline\"\n                      disabled={this.state.isLoading}\n                    >\n                      <span className=\"material-icon\">search</span>\n                    </button>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderDetails>\n          </PageHeader>\n        </PageHeaderContainer>\n      </form>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers,\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport default function (providers) {\n  return providers.map((provider) => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider,\n    }\n  })\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function (props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach((p) => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = gettext(\"Search took %(time)s s to complete\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function (props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map((provider) => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        posts={props.posts}\n      >\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, posts, query }) {\n  if (posts && posts.count) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No threads matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search threads.\")}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts,\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true,\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next,\n      })\n      .then(\n        (providers) => {\n          providers.forEach((provider) => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        users={props.users}\n      >\n        <UsersList\n          cols={3}\n          isReady={!props.search.isLoading}\n          users={props.users}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, query, users }) {\n  if (users.length) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No users matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search users.\")}\n    </p>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map((item) => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = (value) => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value,\n        },\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: [],\n      },\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(gettext(\"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"redirect_to\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true,\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {gettext(\"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Sign in\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={gettext(\"Sign in with %(site)s\")}\n                formLabel={gettext(\"Or use your forum account:\")}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={gettext(\"Username or e-mail\")}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={gettext(\"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {gettext(\"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\",\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport Header from \"./header\"\nimport misago from \"misago\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = gettext(\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = gettext(\n      \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = gettext(\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-sauth-register\">\n      <Header backendName={backend_name} />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {gettext(\"Registration completed!\")}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {gettext(\"Return to forum index\")}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = gettext(\"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <div className=\"page-header-bg\">\n      <div className=\"page-header\">\n        <div className=\"container\">\n          <h1>{pageTitle}</h1>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\",\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()],\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      snackbar.error(gettext(\"You need to accept the privacy policy.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = gettext(\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-sauth-register\">\n        <Header backendName={backend_name} />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {gettext(\"Complete your details\")}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={gettext(\"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={gettext(\"E-mail address\")}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {gettext(\"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../../FlexRow\"\nimport ThreadFlags from \"../../ThreadFlags\"\nimport ThreadReplies from \"../../ThreadReplies\"\nimport ThreadStarterCard from \"../../ThreadStarterCard\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../../PageHeader\"\nimport ThreadModeration from \"../ThreadModeration\"\nimport ThreadSubscriptionButton from \"../ThreadSubscriptionButton\"\nimport ThreadHeaderBreadcrumbs from \"./ThreadHeaderBreadcrumbs\"\n\nconst ThreadHeader = ({ styleName, thread, posts, user, moderation }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <ThreadHeaderBreadcrumbs breadcrumbs={thread.path} />\n        <h1>{thread.title}</h1>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"page-header-thread-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol shrink>\n              <ThreadStarterCard thread={thread} />\n            </FlexRowCol>\n            <FlexRowCol auto />\n            {thread.replies > 0 && (\n              <FlexRowCol shrink>\n                <ThreadReplies thread={thread} />\n              </FlexRowCol>\n            )}\n            {hasFlags(thread) && (\n              <FlexRowCol shrink>\n                <ThreadFlags thread={thread} />\n              </FlexRowCol>\n            )}\n          </FlexRowSection>\n          {user.is_authenticated && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <ThreadSubscriptionButton thread={thread} />\n              </FlexRowCol>\n              {moderation.enabled && (\n                <FlexRowCol shrink>\n                  <ThreadModeration\n                    thread={thread}\n                    posts={posts}\n                    moderation={moderation}\n                  />\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst hasFlags = (thread) => {\n  return (\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n  )\n}\n\nexport default ThreadHeader\n","import React from \"react\"\nimport {\n  Breadcrumbs,\n  BreadcrumbsCategory,\n  BreadcrumbsRootCategory,\n} from \"../../Breadcrumbs\"\n\nconst ThreadHeaderBreadcrumbs = ({ breadcrumbs }) => (\n  <Breadcrumbs>\n    {breadcrumbs.map((category) =>\n      category.special_role ? (\n        <BreadcrumbsRootCategory key={category.id} category={category} />\n      ) : (\n        <BreadcrumbsCategory key={category.id} category={category} />\n      )\n    )}\n  </Breadcrumbs>\n)\n\nexport default ThreadHeaderBreadcrumbs\n","import ThreadHeader from \"./ThreadHeader\"\n\nexport default ThreadHeader\n","import React from \"react\"\nimport ThreadModerationOptions from \"./moderation/thread\"\n\nconst ThreadModeration = ({ thread, posts, moderation }) => (\n  <div className=\"dropdown\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Thread options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={thread.isBusy}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadModerationOptions\n      thread={thread}\n      posts={posts}\n      moderation={moderation}\n    />\n  </div>\n)\n\nexport default ThreadModeration\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadPagination = ({ baseUrl, posts }) => (\n  <div className=\"misago-pagination\">\n    {posts.isLoaded && posts.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (posts.previous > 1 ? posts.previous + \"/\" : \"\")}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.next + \"/\"}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default ThreadPagination\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ThreadPollButton = ({ compact, onClick }) => (\n  <button\n    className={classnames(\"btn btn-default btn-outline\", {\n      \"btn-block\": !compact,\n      \"btn-icon\": compact,\n    })}\n    type=\"button\"\n    title={compact ? gettext(\"Add poll\") : null}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">poll</span>\n    {!compact && gettext(\"Add poll\")}\n  </button>\n)\n\nexport default ThreadPollButton\n","import React from \"react\"\n\nconst ThreadPostsLeft = ({ posts }) => {\n  if (posts.more) {\n    return (\n      <p>\n        {interpolate(\n          ngettext(\n            \"There is %(more)s more post in this thread.\",\n            \"There are %(more)s more posts in this thread.\",\n            posts.more\n          ),\n          { more: posts.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return <p>{gettext(\"There are no more posts in this thread.\")}</p>\n}\n\nexport default ThreadPostsLeft\n","import React from \"react\"\nimport { ThreadPostsModerationOptions } from \"./moderation/posts\"\n\nconst ThreadPostsModeration = ({ thread, user, selection, dropup }) => (\n  <div className={dropup ? \"dropup\" : \"dropdown\"}>\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Posts options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={selection.length === 0}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadPostsModerationOptions\n      thread={thread}\n      user={user}\n      selection={selection}\n    />\n  </div>\n)\n\nexport default ThreadPostsModeration\n","import React from \"react\"\n\nconst ThreadReplyButton = ({ onClick }) => (\n  <button\n    className=\"btn btn-primary btn-outline btn-block\"\n    type=\"button\"\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">chat</span>\n    {gettext(\"Reply\")}\n  </button>\n)\n\nexport default ThreadReplyButton\n","import React from \"react\"\n\nconst ThreadShortcutsButton = ({ user, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-icon\"\n      title={gettext(\"Shortcuts\")}\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">bookmark</span>\n    </button>\n    <ul className=\"dropdown-menu\">\n      {user.is_authenticated && thread.is_new && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\n            <span className=\"material-icon\">comment</span>\n            {gettext(\"Go to new post\")}\n          </a>\n        </li>\n      )}\n      {thread.best_answer && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\n            <span className=\"material-icon\">check_circle</span>\n            {gettext(\"Go to best answer\")}\n          </a>\n        </li>\n      )}\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\n            <span className=\"material-icon\">visibility</span>\n            {gettext(\"Go to unapproved post\")}\n          </a>\n        </li>\n      )}\n      <li>\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\n          <span className=\"material-icon\">reply</span>\n          {gettext(\"Go to last post\")}\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadShortcutsButton\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport * as actions from \"../../reducers/thread\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst ThreadSubscriptionButton = ({ stickToBottom, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-block\"\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">{getIcon(thread.subscription)}</span>\n      {getLabel(thread.subscription)}\n    </button>\n    <ul\n      className={classnames(\"dropdown-menu dropdown-menu-right\", {\n        \"stick-to-bottom\": stickToBottom,\n      })}\n    >\n      <li>\n        <button className=\"btn btn-link\" onClick={() => unsubscribe(thread)}>\n          <span className=\"material-icon\">star_border</span>\n          {gettext(\"Unsubscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => alert(thread)}>\n          <span className=\"material-icon\">star_half</span>\n          {gettext(\"Subscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => email(thread)}>\n          <span className=\"material-icon\">star</span>\n          {gettext(\"Subscribe with e-mail\")}\n        </button>\n      </li>\n    </ul>\n  </div>\n)\n\nfunction getIcon(subscription) {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n\n  return \"star_border\"\n}\n\nfunction getLabel(subscription) {\n  if (subscription === true) return gettext(\"E-mail\")\n  if (subscription === false) return gettext(\"Enabled\")\n\n  return gettext(\"Disabled\")\n}\n\nfunction alert(thread) {\n  if (thread.subscription !== false) {\n    update(thread, false, \"notify\")\n  }\n}\n\nfunction email(thread) {\n  if (thread.subscription !== true) {\n    update(thread, true, \"email\")\n  }\n}\n\nfunction unsubscribe(thread) {\n  if (thread.subscription !== null) {\n    update(thread, null, \"unsubscribe\")\n  }\n}\n\nfunction update(thread, newState, value) {\n  const oldState = {\n    subscription: thread.subscription,\n  }\n\n  store.dispatch(\n    actions.update({\n      subscription: newState,\n    })\n  )\n\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"subscription\", value: value },\n    ])\n    .then(\n      (finalState) => {\n        store.dispatch(actions.update(finalState))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(actions.update(oldState))\n      }\n    )\n}\n\nexport default ThreadSubscriptionButton\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadPostsLeft from \"./ThreadPostsLeft\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadSubscriptionButton from \"./ThreadSubscriptionButton\"\n\nconst ThreadToolbarBottom = ({\n  thread,\n  posts,\n  user,\n  selection,\n  moderation,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n      <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n        <ThreadPostsModeration\n          thread={thread}\n          user={user}\n          selection={selection}\n          dropup\n        />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSection className=\"hidden-xs hidden-sm\" auto>\n      <ToolbarItem>\n        <ThreadPostsLeft posts={posts} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer className=\"hidden-md hidden-lg\" />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadSubscriptionButton thread={thread} />\n        </ToolbarItem>\n        {thread.acl.can_reply && (\n          <ToolbarItem>\n            <ThreadReplyButton onClick={onReply} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n              dropup\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarBottom\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadPollButton from \"./ThreadPollButton\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\n\nconst ThreadToolbarTop = ({\n  thread,\n  posts,\n  user,\n  selection,\n  moderation,\n  onPoll,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection className=\"hidden-xs\">\n      <ToolbarItem>\n        <ThreadShortcutsButton thread={thread} user={user} />\n      </ToolbarItem>\n      <ToolbarItem className=\"hidden-xs hidden-sm\">\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {thread.acl.can_start_poll && !thread.poll && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadPollButton onClick={onPoll} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_reply ? (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        <ToolbarItem>\n          <ThreadReplyButton onClick={onReply} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n            <ThreadPollButton onClick={onPoll} compact />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    ) : (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem>\n            <ThreadPollButton onClick={onPoll} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarTop\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: true,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach((item) => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map((post) => {\n      return post.id\n    }),\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    (data) => {\n      data.forEach((item) => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    (rejection) => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach((item) => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach((item) => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach((item) => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach((item) => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map((post) => post.id),\n    })\n    .then(\n      (data) => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map((selection) => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false,\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  const ids = props.selection.map((post) => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map((selection) => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false,\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find((post) => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {gettext(\"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Moderation\")}</h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {gettext(\"One or more posts could not be changed:\")}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map((post) => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    gettext(\"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name,\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import ThreadPostsModerationOptions from \"./dropdown\"\n\nexport { ThreadPostsModerationOptions }\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move posts to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move posts\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {gettext(\"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move selected posts at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {gettext(\"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split posts into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: getTitleValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"title\", value: this.state.title },\n    ])\n  }\n\n  handleSuccess = (data) => {\n    this.handleSuccessUnmounted(data)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    modal.hide()\n  }\n\n  handleSuccessUnmounted = (data) => {\n    store.dispatch(thread.release())\n    store.dispatch(thread.update(data))\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_modal_title\" label={gettext(\"Thread title\")}>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_modal_title\"\n                  onChange={this.onChange}\n                  value={this.state.title}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Change title\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Change title\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ThreadChangeTitleModal from \"./ThreadChangeTitleModal\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      (data) => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  changeTitle = () => {\n    modal.show(<ThreadChangeTitleModal thread={this.props.thread} />)\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Thread has been pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(gettext(\"Are you sure you want to delete this thread?\"))\n    ) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      (data) => {\n        snackbar.success(gettext(\"Thread has been deleted.\"))\n        window.location = this.props.thread.category.url.index\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {!!moderation.edit && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.changeTitle}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">edit</span>\n              {gettext(\"Change title\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinGlobally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinGlobally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinLocally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinLocally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unpin && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.move && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.merge && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.approve}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.open && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.close && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.unhide}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.hide && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.delete}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import ThreadModerationOptions from \"./controls\"\n\nexport default ThreadModerationOptions\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url,\n    })\n  }\n\n  handleSuccess = (success) => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleSuccessUnmounted = (success) => {\n    snackbar.success(gettext(\"Thread has been merged with other one.\"))\n    window.location = success.url\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to merge with\")}\n                help_text={gettext(\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Merge thread\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category },\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        (data) => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(gettext(\"Thread has been moved.\"))\n          modal.hide()\n        },\n        (rejection) => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (event) => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup for=\"id_category\" label={gettext(\"New category\")}>\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {gettext(\"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move thread\")}</h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\"You can't move this thread at the moment.\")}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user,\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route),\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route),\n    },\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadHeader from \"./ThreadHeader\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1,\n        },\n        \"posts\"\n      )\n      .then(\n        (data) => {\n          this.update(data)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1,\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true,\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    posting.open({\n      mode: \"POLL\",\n      submit: this.props.thread.api.poll,\n\n      thread: this.props.thread,\n      poll: null,\n    })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    const category = this.props.thread.category\n\n    let className = \"page page-thread\"\n    if (category.css_class) {\n      className += \" page-thread-\" + category.css_class\n    }\n\n    const styleName =\n      category.special_role === \"private_threads\"\n        ? \"private-threads\"\n        : category.css_class || \"category-threads\"\n\n    const threadModeration = getThreadModeration(\n      this.props.thread,\n      this.props.user\n    )\n\n    const postsModeration = getPostsModeration(\n      this.props.posts.results,\n      this.props.user\n    )\n    const selection = this.props.posts.results.filter((post) => post.isSelected)\n\n    return (\n      <div className={className}>\n        <ThreadHeader\n          styleName={styleName}\n          thread={this.props.thread}\n          posts={this.props.posts}\n          user={this.props.user}\n          moderation={threadModeration}\n        />\n        <PageContainer>\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          <Poll\n            poll={this.props.poll}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <PostsList {...this.props} />\n          <ThreadToolbarBottom\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getThreadModeration = (thread, user) => {\n  const moderation = {\n    enabled: false,\n    edit: false,\n    approve: false,\n    close: false,\n    open: false,\n    hide: false,\n    unhide: false,\n    move: false,\n    merge: false,\n    pinGlobally: false,\n    pinLocally: false,\n    unpin: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  moderation.edit = thread.acl.can_edit\n  moderation.approve = thread.acl.can_approve && thread.is_unapproved\n  moderation.close = thread.acl.can_close && !thread.is_closed\n  moderation.open = thread.acl.can_close && thread.is_closed\n  moderation.hide = thread.acl.can_hide && !thread.is_hidden\n  moderation.unhide = thread.acl.can_unhide && thread.is_hidden\n  moderation.move = thread.acl.can_move\n  moderation.merge = thread.acl.can_merge\n  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2\n  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1\n  moderation.unpin =\n    (thread.acl.can_pin && thread.weight === 1) ||\n    (thread.acl.can_pin_globally && thread.weight === 2)\n  moderation.delete = thread.acl.can_delete\n\n  moderation.enabled =\n    moderation.edit ||\n    moderation.approve ||\n    moderation.close ||\n    moderation.open ||\n    moderation.hide ||\n    moderation.unhide ||\n    moderation.move ||\n    moderation.merge ||\n    moderation.pinGlobally ||\n    moderation.pinLocally ||\n    moderation.unpin ||\n    moderation.delete\n\n  return moderation\n}\n\nconst getPostsModeration = (posts, user) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach((post) => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (\n        moderation.approve ||\n        moderation.move ||\n        moderation.merge ||\n        moderation.protect ||\n        moderation.hide ||\n        moderation.delete\n      ) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsCategoryPicker = ({\n  allItems,\n  parentUrl,\n  category,\n  categories,\n  list,\n}) => (\n  <div className=\"dropdown threads-category-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block text-ellipsis\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {category && (\n        <span\n          className=\"material-icon\"\n          style={{ color: category.color || \"inherit\" }}\n        >\n          label\n        </span>\n      )}\n      {category && category.short_name && (\n        <span className={category.short_name && \"hidden-md hidden-lg\"}>\n          {category.short_name}\n        </span>\n      )}\n      {category ? (\n        <span className={category.short_name && \"hidden-xs hidden-sm\"}>\n          {category.name}\n        </span>\n      ) : (\n        allItems\n      )}\n    </button>\n    <ul className=\"dropdown-menu\">\n      <li>\n        <Link to={parentUrl + list.path}>{allItems}</Link>\n      </li>\n      <li role=\"separator\" className=\"divider\" />\n      {categories.map((choice) => (\n        <li key={choice.id}>\n          <Link to={choice.url.index + list.path}>\n            <span\n              className=\"material-icon\"\n              style={{ color: choice.color || \"inherit\" }}\n            >\n              label\n            </span>\n            {choice.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsCategoryPicker\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsListPicker = ({ baseUrl, list, lists }) => (\n  <div className=\"dropdown threads-list-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {list.longName}\n    </button>\n    <ul className=\"dropdown-menu stick-to-bottom\">\n      {lists.map((choice) => (\n        <li key={choice.type}>\n          <Link to={baseUrl + choice.path}>{choice.longName}</Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsListPicker\n","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport Button from \"../button\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadsCategoryPicker from \"./ThreadsCategoryPicker\"\nimport ThreadsListPicker from \"./ThreadsListPicker\"\nimport ThreadsToolbarModeration from \"./ThreadsToolbarModeration\"\n\nconst ThreadsToolbar = ({\n  api,\n  baseUrl,\n  category,\n  categories,\n  categoriesMap,\n  topCategory,\n  topCategories,\n  subCategory,\n  subCategories,\n  list,\n  lists,\n  threads,\n  addThreads,\n  startThread,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <Toolbar>\n    {topCategories.length > 0 && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadsCategoryPicker\n            allItems={gettext(\"All categories\")}\n            parentUrl={list.path}\n            category={topCategory}\n            categories={topCategories}\n            list={list}\n          />\n        </ToolbarItem>\n        {topCategory && subCategories.length > 0 && (\n          <ToolbarItem>\n            <ThreadsCategoryPicker\n              allItems={gettext(\"All subcategories\")}\n              parentUrl={topCategory.url.index}\n              category={subCategory}\n              categories={subCategories}\n              list={list}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {lists.length > 1 && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadsListPicker baseUrl={baseUrl} list={list} lists={lists} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    <ToolbarSpacer />\n    {!!user.id && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <Button\n            className=\"btn-primary btn-outline btn-block\"\n            disabled={disabled}\n            onClick={() => {\n              posting.open(\n                startThread || {\n                  mode: \"START\",\n\n                  config: misago.get(\"THREAD_EDITOR_API\"),\n                  submit: misago.get(\"THREADS_API\"),\n\n                  category: category.id,\n                }\n              )\n            }}\n          >\n            <span className=\"material-icon\">chat</span>\n            {gettext(\"Start thread\")}\n          </Button>\n        </ToolbarItem>\n        {!!moderation.allow && (\n          <ToolbarItem shrink>\n            <ThreadsToolbarModeration\n              api={api}\n              categories={categories}\n              categoriesMap={categoriesMap}\n              threads={threads.filter(\n                (thread) => selection.indexOf(thread.id) !== -1\n              )}\n              addThreads={addThreads}\n              freezeThread={freezeThread}\n              updateThread={updateThread}\n              deleteThread={deleteThread}\n              selection={selection}\n              moderation={moderation}\n              route={route}\n              user={user}\n              disabled={disabled}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadsToolbar\n","import React from \"react\"\nimport ModerationControls from \"./moderation/controls\"\n\nconst ThreadsToolbarModeration = ({\n  api,\n  categoriesMap,\n  categories,\n  threads,\n  addThreads,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <div className=\"dropdown threads-moderation\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Moderation\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={disabled}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ModerationControls\n      api={api}\n      categories={categories}\n      categoriesMap={categoriesMap}\n      threads={threads}\n      addThreads={addThreads}\n      freezeThread={freezeThread}\n      updateThread={updateThread}\n      deleteThread={deleteThread}\n      selection={selection}\n      moderation={moderation}\n      route={route}\n      user={user}\n      disabled={disabled}\n    />\n  </div>\n)\n\nexport default ThreadsToolbarModeration\n","export function compareLastPostAge(a, b) {\n  if (a.last_post > b.last_post) {\n    return -1\n  } else if (a.last_post < b.last_post) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nexport function compareGlobalWeight(a, b) {\n  if (a.weight === 2 && a.weight > b.weight) {\n    return -1\n  } else if (b.weight === 2 && a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n\nexport function compareWeight(a, b) {\n  if (a.weight > b.weight) {\n    return -1\n  } else if (a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadsToolbar from \"./ThreadsToolbar\"\n\nexport default class extends React.Component {\n  render() {\n    const { root } = this.props\n    const { category, categories, categoriesMap } = this.props.route\n    const topCategory = getTopCategory(root, category, categoriesMap)\n\n    return (\n      <PageContainer>\n        <ThreadsToolbar\n          api={this.props.api}\n          baseUrl={category.url.index}\n          category={category}\n          categories={categories}\n          categoriesMap={categoriesMap}\n          topCategory={topCategory}\n          topCategories={categories.filter((cat) => cat.parent === root.id)}\n          subCategories={\n            !!topCategory\n              ? categories.filter((cat) => cat.parent === topCategory.id)\n              : []\n          }\n          subCategory={category.level === 2 ? category : null}\n          subcategories={this.props.subcategories}\n          list={this.props.route.list}\n          lists={this.props.route.lists}\n          threads={this.props.threads}\n          addThreads={this.props.addThreads}\n          startThread={this.props.startThread}\n          freezeThread={this.props.freezeThread}\n          deleteThread={this.props.deleteThread}\n          updateThread={this.props.updateThread}\n          selection={this.props.selection}\n          moderation={this.props.moderation}\n          route={this.props.route}\n          user={this.props.user}\n          disabled={\n            !this.props.isLoaded ||\n            this.props.isBusy ||\n            this.props.busyThreads.length\n          }\n        />\n        {this.props.children}\n      </PageContainer>\n    )\n  }\n}\n\nconst getTopCategory = (root, category, categoriesMap) => {\n  if (!category.parent) return null\n  if (category.parent === root.id) return category\n  return categoriesMap[category.parent]\n}\n","import React from \"react\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeThreads from \"misago/components/threads/moderation/merge\"\nimport MoveThreads from \"misago/components/threads/moderation/move\"\nimport * as select from \"misago/reducers/selection\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage, onSuccess = null) => {\n    // freeze threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    // list ids\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    // always return current acl\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.api, { ids, ops }).then(\n      (data) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // update threads\n        data.forEach((thread) => {\n          this.props.updateThread(thread)\n        })\n\n        // show success message and call callback\n        snackbar.success(successMessage)\n        if (onSuccess) {\n          onSuccess()\n        }\n      },\n      (rejection) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // escape on non-400 error\n        if (rejection.status !== 400) {\n          return snackbar.apiError(rejection)\n        }\n\n        // build errors list\n        let errors = []\n        let threadsMap = {}\n\n        this.props.threads.forEach((thread) => {\n          threadsMap[thread.id] = thread\n        })\n\n        rejection.forEach(({ id, detail }) => {\n          if (typeof threadsMap[id] !== \"undefined\") {\n            errors.push({\n              errors: detail,\n              thread: threadsMap[id],\n            })\n          }\n        })\n\n        modal.show(<ErrorsModal errors={errors} />)\n      }\n    )\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Selected threads were pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Selected threads were pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Selected threads were unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were unhidden.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveThreads\n        callApi={this.callApi}\n        categories={this.props.categories}\n        categoriesMap={this.props.categoriesMap}\n        route={this.props.route}\n        user={this.props.user}\n      />\n    )\n  }\n\n  merge = () => {\n    const errors = []\n    this.props.threads.forEach((thread) => {\n      if (!thread.acl.can_merge) {\n        errors.append({\n          id: thread.id,\n          title: thread.title,\n          errors: [\n            gettext(\n              \"You don't have permission to merge this thread with others.\"\n            ),\n          ],\n        })\n      }\n    })\n\n    if (this.props.threads.length < 2) {\n      snackbar.info(\n        gettext(\"You have to select at least two threads to merge.\")\n      )\n    } else if (errors.length) {\n      modal.show(<ErrorsModal errors={errors} />)\n      return\n    } else {\n      modal.show(<MergeThreads {...this.props} />)\n    }\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(\n        gettext(\"Are you sure you want to delete selected threads?\")\n      )\n    ) {\n      return\n    }\n\n    this.props.threads.map((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    ajax.delete(this.props.api, ids).then(\n      () => {\n        this.props.threads.map((thread) => {\n          this.props.freezeThread(thread.id)\n          this.props.deleteThread(thread)\n        })\n\n        snackbar.success(gettext(\"Selected threads were deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          const failedThreads = rejection.map((thread) => {\n            return thread.id\n          })\n\n          this.props.threads.map((thread) => {\n            this.props.freezeThread(thread.id)\n            if (failedThreads.indexOf(thread.id) === -1) {\n              this.props.deleteThread(thread)\n            }\n          })\n\n          modal.show(<ErrorsModal errors={rejection} />)\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { moderation, threads } = this.props\n    const noSelection = this.props.selection.length == 0\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            onClick={() => store.dispatch(select.all(threads.map((t) => t.id)))}\n          >\n            <span className=\"material-icon\">check_box</span>\n            {gettext(\"Select all\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            disabled={noSelection}\n            onClick={() => store.dispatch(select.none())}\n          >\n            <span className=\"material-icon\">check_box_outline_blank</span>\n            {gettext(\"Select none\")}\n          </button>\n        </li>\n        <li role=\"separator\" className=\"divider\" />\n        {!!moderation.can_pin_globally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinGlobally}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin threads globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinLocally}\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin threads locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unpin}\n            >\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_move && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.move}\n            >\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_merge && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.merge}\n            >\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.approve}\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.open}\n            >\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.close}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unhide}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_hide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.hide}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.delete}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete threads\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Threads moderation\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <p className=\"lead\">\n              {gettext(\"One or more threads could not be deleted:\")}\n            </p>\n\n            <ul className=\"list-unstyled list-errored-items\">\n              {this.props.errors.map((item) => {\n                return (\n                  <ThreadErrors\n                    errors={item.errors}\n                    key={item.thread.id}\n                    thread={item.thread}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ThreadErrors({ errors, thread }) {\n  return (\n    <li>\n      <h5>{thread.title}</h5>\n      {errors.map((message, i) => {\n        return <p>{message}</p>\n      })}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Select from \"misago/components/select\"\nimport misago from \"misago/index\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport * as select from \"misago/reducers/selection\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.acl = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      this.acl[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = this.acl[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"MERGE_THREADS_API\"), this.getFormdata())\n  }\n\n  getFormdata = () => {\n    return {\n      threads: this.props.threads.map((thread) => thread.id),\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n    }\n  }\n\n  handleSuccess = (apiResponse) => {\n    // unfreeze and remove merged threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n      this.props.deleteThread(thread)\n    })\n\n    // deselect all threads\n    store.dispatch(select.none())\n\n    // append merged thread, filter threads\n    this.props.addThreads([apiResponse])\n    store.dispatch(\n      filterThreads(this.props.route.category, this.props.categoriesMap)\n    )\n\n    // hide modal\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={misago.get(\"MERGE_THREADS_API\")}\n            bestAnswers={rejection.best_answers}\n            data={this.getFormdata()}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccess}\n          />\n        )\n      } else {\n        this.setState({\n          errors: Object.assign({}, this.state.errors, rejection),\n        })\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else if (rejection.best_answer) {\n      snackbar.error(rejection.best_answer[0])\n    } else if (rejection.poll) {\n      snackbar.error(rejection.poll[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup label={gettext(\"Thread weight\")} for=\"id_weight\">\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup label={gettext(\"Hide thread\")} for=\"id_is_hidden\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup label={gettext(\"Close thread\")} for=\"id_is_closed\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Thread title\")}\n            for=\"id_title\"\n            validation={this.state.errors.title}\n          >\n            <input\n              id=\"id_title\"\n              className=\"form-control\"\n              type=\"text\"\n              onChange={this.bindInput(\"title\")}\n              value={this.state.title}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          <FormGroup\n            label={gettext(\"Category\")}\n            for=\"id_category\"\n            validation={this.state.errors.category}\n          >\n            <CategorySelect\n              id=\"id_category\"\n              onChange={this.onCategoryChange}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          {this.renderWeightField()}\n          {this.renderHiddenField()}\n          {this.renderClosedField()}\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Merge threads\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMergeMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to merge threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMergeMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport * as select from \"misago/reducers/selection\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      category: null,\n    }\n\n    const acls = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      acls[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = acls[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    event.preventDefault()\n\n    modal.hide()\n\n    const onSuccess = () => {\n      store.dispatch(\n        filterThreads(this.props.route.category, this.props.categoriesMap)\n      )\n\n      // deselect threads moved outside of visible scope\n      const storeState = store.getState()\n      const leftThreads = storeState.threads.map((thread) => thread.id)\n      store.dispatch(\n        select.all(\n          storeState.selection.filter((thread) => {\n            return leftThreads.indexOf(thread) !== -1\n          })\n        )\n      )\n    }\n\n    this.props.callApi(\n      [\n        { op: \"replace\", path: \"category\", value: this.state.category },\n        { op: \"replace\", path: \"flatten-categories\", value: null },\n        { op: \"add\", path: \"acl\", value: true },\n      ],\n      gettext(\"Selected threads were moved.\"),\n      onSuccess\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New category\")} for=\"id_new_category\">\n            <CategorySelect\n              id=\"id_new_category\"\n              onChange={this.bindInput(\"category\")}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <button className=\"btn btn-primary\">{gettext(\"Move threads\")}</button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMoveMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to move threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Move threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMoveMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/threads/route\"\nimport misago from \"misago/index\"\n\nexport function getSelect(options) {\n  return function (store) {\n    return {\n      options: options,\n      selection: store.selection,\n      threads: store.threads,\n      tick: store.tick.tick,\n      user: store.auth.user,\n    }\n  }\n}\n\nexport function getLists(user) {\n  let lists = [\n    {\n      type: \"all\",\n      path: \"\",\n      name: gettext(\"All\"),\n      longName: gettext(\"All threads\"),\n    },\n  ]\n\n  if (user.id) {\n    lists.push({\n      type: \"my\",\n      path: \"my/\",\n      name: gettext(\"My\"),\n      longName: gettext(\"My threads\"),\n    })\n    lists.push({\n      type: \"new\",\n      path: \"new/\",\n      name: gettext(\"New\"),\n      longName: gettext(\"New threads\"),\n    })\n    lists.push({\n      type: \"unread\",\n      path: \"unread/\",\n      name: gettext(\"Unread\"),\n      longName: gettext(\"Unread threads\"),\n    })\n    lists.push({\n      type: \"subscribed\",\n      path: \"subscribed/\",\n      name: gettext(\"Subscribed\"),\n      longName: gettext(\"Subscribed threads\"),\n    })\n\n    if (user.acl.can_see_unapproved_content_lists) {\n      lists.push({\n        type: \"unapproved\",\n        path: \"unapproved/\",\n        name: gettext(\"Unapproved\"),\n        longName: gettext(\"Unapproved content\"),\n      })\n    }\n  }\n\n  return lists\n}\n\nexport function paths(user, mode) {\n  let lists = getLists(user)\n  let routes = []\n  let categoriesMap = {}\n\n  misago.get(\"CATEGORIES\").forEach(function (category) {\n    lists.forEach(function (list) {\n      categoriesMap[category.id] = category\n\n      routes.push({\n        path: category.url.index + list.path,\n        component: connect(getSelect(mode))(Route),\n\n        categories: misago.get(\"CATEGORIES\"),\n        categoriesMap,\n        category,\n\n        lists,\n        list,\n      })\n    })\n  })\n\n  return routes\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport {\n  compareGlobalWeight,\n  compareWeight,\n} from \"misago/components/threads/compare\"\nimport Container from \"misago/components/threads/container\"\nimport {\n  diffThreads,\n  getModerationActions,\n  getPageTitle,\n  getTitle,\n} from \"misago/components/threads/utils\"\nimport ThreadsList from \"misago/components/ThreadsList\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport * as select from \"misago/reducers/selection\"\nimport { append, deleteThread, hydrate, patch } from \"misago/reducers/threads\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport * as sets from \"misago/utils/sets\"\nimport {\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isMounted: true,\n\n      isLoaded: false,\n      isBusy: false,\n\n      diff: {\n        results: [],\n      },\n\n      moderation: [],\n      busyThreads: [],\n\n      dropdown: false,\n      subcategories: [],\n\n      next: 0,\n    }\n\n    let category = this.getCategory()\n\n    if (misago.has(\"THREADS\")) {\n      this.initWithPreloadedData(category, misago.get(\"THREADS\"))\n    } else {\n      this.initWithoutPreloadedData(category)\n    }\n  }\n\n  getCategory() {\n    if (!this.props.route.category.special_role) {\n      return this.props.route.category.id\n    } else {\n      return null\n    }\n  }\n\n  initWithPreloadedData(category, data) {\n    this.state = Object.assign(this.state, {\n      moderation: getModerationActions(data.results),\n      subcategories: data.subcategories,\n      next: data.next,\n    })\n\n    this.startPolling(category)\n  }\n\n  initWithoutPreloadedData(category) {\n    this.loadThreads(category)\n  }\n\n  loadThreads(category, next = 0) {\n    ajax\n      .get(\n        this.props.options.api,\n        {\n          category: category,\n          list: this.props.route.list.type,\n          start: next || 0,\n        },\n        \"threads\"\n      )\n      .then(\n        (data) => {\n          if (!this.state.isMounted) {\n            // user changed route before loading completion\n            return\n          }\n\n          if (next === 0) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results, this.getSorting()))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            moderation: getModerationActions(store.getState().threads),\n\n            subcategories: data.subcategories,\n\n            next: data.next,\n          })\n\n          this.startPolling(category)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPolling(category) {\n    polls.start({\n      poll: \"threads\",\n      url: this.props.options.api,\n      data: {\n        category: category,\n        list: this.props.route.list.type,\n      },\n      frequency: 120 * 1000,\n      update: this.pollResponse,\n    })\n  }\n\n  componentDidMount() {\n    this.setPageTitle()\n\n    if (misago.has(\"THREADS\")) {\n      // unlike in other components, routes are root components for threads\n      // so we can't dispatch store action from constructor\n      store.dispatch(hydrate(misago.pop(\"THREADS\").results))\n\n      this.setState({\n        isLoaded: true,\n      })\n    }\n\n    store.dispatch(select.none())\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false\n    polls.stop(\"threads\")\n  }\n\n  getTitle() {\n    if (this.props.options.title) {\n      return this.props.options.title\n    }\n\n    return getTitle(this.props.route)\n  }\n\n  setPageTitle() {\n    if (this.props.route.category.level || !misago.get(\"THREADS_ON_INDEX\")) {\n      title.set(getPageTitle(this.props.route))\n    } else if (this.props.options.title) {\n      title.set(this.props.options.title)\n    } else {\n      if (misago.get(\"SETTINGS\").index_title) {\n        document.title = misago.get(\"SETTINGS\").index_title\n      } else {\n        document.title = misago.get(\"SETTINGS\").forum_name\n      }\n    }\n  }\n\n  getSorting() {\n    if (this.props.route.category.level) {\n      return compareWeight\n    } else {\n      return compareGlobalWeight\n    }\n  }\n\n  // AJAX\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadThreads(this.getCategory(), this.state.next)\n  }\n\n  pollResponse = (data) => {\n    this.setState({\n      diff: Object.assign({}, data, {\n        results: diffThreads(this.props.threads, data.results),\n      }),\n    })\n  }\n\n  addThreads = (threads) => {\n    store.dispatch(append(threads, this.getSorting()))\n  }\n\n  applyDiff = () => {\n    this.addThreads(this.state.diff.results)\n\n    this.setState(\n      Object.assign({}, this.state.diff, {\n        moderation: getModerationActions(store.getState().threads),\n\n        diff: {\n          results: [],\n        },\n      })\n    )\n  }\n\n  // Thread state utils\n\n  freezeThread = (thread) => {\n    this.setState(function (currentState) {\n      return {\n        busyThreads: sets.toggle(currentState.busyThreads, thread),\n      }\n    })\n  }\n\n  updateThread = (thread) => {\n    store.dispatch(patch(thread, thread, this.getSorting()))\n  }\n\n  deleteThread = (thread) => {\n    store.dispatch(deleteThread(thread))\n  }\n\n  getMoreButton() {\n    if (!this.state.next) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy || this.state.busyThreads.length}\n          onClick={this.loadMore}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n\n  getClassName() {\n    let className = \"page page-threads\"\n    className += \" page-threads-\" + this.props.route.list.type\n    if (isIndex(this.props)) {\n      className += \" page-threads-index\"\n    }\n    if (this.props.route.category.css_class) {\n      className += \" page-threads-\" + this.props.route.category.css_class\n    }\n    return className\n  }\n\n  render() {\n    const root = this.props.route.categories[0]\n    const { category, list } = this.props.route\n    const specialRole = category.special_role\n\n    return (\n      <div className={this.getClassName()}>\n        {specialRole == \"root_category\" &&\n          misago.get(\"THREADS_ON_INDEX\") &&\n          misago.get(\"SETTINGS\").index_header && (\n            <PageHeaderPlain\n              header={misago.get(\"SETTINGS\").index_header}\n              message={\n                category.description && (\n                  <PageHeaderHTMLMessage message={category.description.html} />\n                )\n              }\n              styleName=\"forum-index\"\n            />\n          )}\n        {specialRole == \"root_category\" && !misago.get(\"THREADS_ON_INDEX\") && (\n          <PageHeaderPlain header={gettext(\"Threads\")} styleName=\"threads\" />\n        )}\n        {specialRole == \"private_threads\" && (\n          <PageHeaderPlain\n            header={this.props.options.title}\n            message={\n              this.props.options.pageLead && (\n                <PageHeaderMessage>\n                  <p>{this.props.options.pageLead}</p>\n                </PageHeaderMessage>\n              )\n            }\n            styleName=\"private-threads\"\n          />\n        )}\n        {!specialRole && (\n          <PageHeaderPlain\n            header={category.name}\n            message={\n              category.description && (\n                <PageHeaderHTMLMessage message={category.description.html} />\n              )\n            }\n            styleName={category.css_class || \"category-threads\"}\n          />\n        )}\n        <Container\n          api={this.props.options.api}\n          root={root}\n          route={this.props.route}\n          user={this.props.user}\n          pageLead={this.props.options.pageLead}\n          threads={this.props.threads}\n          threadsCount={this.state.count}\n          moderation={this.state.moderation}\n          selection={this.props.selection}\n          busyThreads={this.state.busyThreads}\n          addThreads={this.addThreads}\n          startThread={this.props.options.startThread}\n          freezeThread={this.freezeThread}\n          deleteThread={this.deleteThread}\n          updateThread={this.updateThread}\n          isLoaded={this.state.isLoaded}\n          isBusy={this.state.isBusy}\n        >\n          <ThreadsList\n            category={category}\n            categories={this.props.route.categoriesMap}\n            list={list}\n            selection={this.props.selection}\n            threads={this.props.threads}\n            updatedThreads={this.state.diff.results.length}\n            applyUpdate={this.applyDiff}\n            showOptions={!!this.props.user.id}\n            isLoaded={this.state.isLoaded}\n            busyThreads={this.state.busyThreads}\n            emptyMessage={this.props.options.emptyMessage}\n          />\n          {this.getMoreButton()}\n        </Container>\n      </div>\n    )\n  }\n}\n\nfunction isIndex(props) {\n  if (props.route.category.level || !misago.get(\"THREADS_ON_INDEX\"))\n    return false\n  if (props.options.title) return false\n\n  return true\n}\n","import misago from \"misago/index\"\n\nexport function getPageTitle(route) {\n  if (route.category.level) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: route.category.name,\n      }\n    } else {\n      return {\n        title: route.category.name,\n      }\n    }\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n      }\n    } else {\n      return null\n    }\n  } else {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: gettext(\"Threads\"),\n      }\n    } else {\n      return {\n        title: gettext(\"Threads\"),\n      }\n    }\n  }\n}\n\nexport function getTitle(route) {\n  if (route.category.level) {\n    return route.category.name\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (misago.get(\"SETTINGS\").index_header) {\n      return misago.get(\"SETTINGS\").index_header\n    } else {\n      return misago.get(\"SETTINGS\").forum_name\n    }\n  } else {\n    return gettext(\"Threads\")\n  }\n}\n\nexport function isThreadChanged(current, fromDb) {\n  return (\n    [\n      current.title === fromDb.title,\n      current.weight === fromDb.weight,\n      current.category === fromDb.category,\n      current.last_post === fromDb.last_post,\n      current.last_poster_name === fromDb.last_poster_name,\n    ].indexOf(false) >= 0\n  )\n}\n\nexport function diffThreads(current, fromDb) {\n  let currentMap = {}\n  current.forEach(function (thread) {\n    currentMap[thread.id] = thread\n  })\n\n  return fromDb.filter(function (thread) {\n    if (currentMap[thread.id]) {\n      return isThreadChanged(currentMap[thread.id], thread)\n    } else {\n      return true\n    }\n  })\n}\n\nexport function getModerationActions(threads) {\n  let moderation = {\n    allow: false,\n\n    can_approve: 0,\n    can_close: 0,\n    can_delete: 0,\n    can_hide: 0,\n    can_merge: 0,\n    can_move: 0,\n    can_pin: 0,\n    can_pin_globally: 0,\n    can_unhide: 0,\n  }\n\n  threads.forEach(function (thread) {\n    if (\n      thread.is_unapproved &&\n      thread.acl.can_approve > moderation.can_approve\n    ) {\n      moderation.can_approve = thread.acl.can_approve\n    }\n\n    if (thread.acl.can_close > moderation.can_close) {\n      moderation.can_close = thread.acl.can_close\n    }\n\n    if (thread.acl.can_delete > moderation.can_delete) {\n      moderation.can_delete = thread.acl.can_delete\n    }\n\n    if (thread.acl.can_hide > moderation.can_hide) {\n      moderation.can_hide = thread.acl.can_hide\n    }\n\n    if (thread.acl.can_merge > moderation.can_merge) {\n      moderation.can_merge = thread.acl.can_merge\n    }\n\n    if (thread.acl.can_move > moderation.can_move) {\n      moderation.can_move = thread.acl.can_move\n    }\n\n    if (thread.acl.can_pin > moderation.can_pin) {\n      moderation.can_pin = thread.acl.can_pin\n    }\n\n    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {\n      moderation.can_pin_globally = thread.acl.can_pin_globally\n    }\n\n    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {\n      moderation.can_unhide = thread.acl.can_unhide\n    }\n\n    moderation.allow =\n      moderation.can_approve ||\n      moderation.can_close ||\n      moderation.can_delete ||\n      moderation.can_hide ||\n      moderation.can_merge ||\n      moderation.can_move ||\n      moderation.can_pin ||\n      moderation.can_pin_globally ||\n      moderation.can_unhide\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport RegisterButton from \"misago/components/register-button\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class GuestMenu extends React.Component {\n  showSignInModal() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"guest-preview\">\n          <h4>{gettext(\"You are browsing as guest.\")}</h4>\n          <p>\n            {gettext(\n              \"Sign in or register to start and participate in discussions.\"\n            )}\n          </p>\n          {delegateAuth ? (\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <a\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  href={misago.get(\"SETTINGS\").LOGIN_URL}\n                >\n                  {gettext(\"Sign in\")}\n                </a>\n              </div>\n            </div>\n          ) : (\n            <div className=\"row\">\n              <div className=\"col-xs-6\">\n                <button\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  onClick={this.showSignInModal}\n                  type=\"button\"\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </div>\n              <div className=\"col-xs-6\">\n                <RegisterButton className=\"btn-primary btn-register btn-block\">\n                  {gettext(\"Register\")}\n                </RegisterButton>\n              </div>\n            </div>\n          )}\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport class GuestNav extends GuestMenu {\n  render() {\n    if (misago.get(\"SETTINGS\").DELEGATE_AUTH) {\n      return (\n        <div className=\"nav nav-guest\">\n          <a\n            className=\"btn navbar-btn btn-default btn-sign-in\"\n            href={misago.get(\"SETTINGS\").LOGIN_URL}\n          >\n            {gettext(\"Sign in\")}\n          </a>\n          <div className=\"navbar-left\">\n            <NavbarSearch />\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"nav nav-guest\">\n        <button\n          className=\"btn navbar-btn btn-default btn-sign-in\"\n          onClick={this.showSignInModal}\n          type=\"button\"\n        >\n          {gettext(\"Sign in\")}\n        </button>\n        <RegisterButton className=\"navbar-btn btn-primary btn-register\">\n          {gettext(\"Register\")}\n        </RegisterButton>\n        <div className=\"navbar-left\">\n          <NavbarSearch />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class CompactGuestNav extends React.Component {\n  showGuestMenu() {\n    dropdown.show(GuestMenu)\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showGuestMenu}>\n        <Avatar size=\"64\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { GuestNav, CompactGuestNav } from \"./guest-nav\"\nimport { UserNav, CompactUserNav } from \"./user-nav\"\n\nexport class UserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <UserNav user={this.props.user} />\n    } else {\n      return <GuestNav />\n    }\n  }\n}\n\nexport class CompactUserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <CompactUserNav user={this.props.user} />\n    } else {\n      return <CompactGuestNav />\n    }\n  }\n}\n\nexport function select(state) {\n  return state.auth\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport Avatar from \"misago/components/avatar\"\nimport ChangeAvatarModal, { select } from \"misago/components/change-avatar/root\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class UserMenu extends React.Component {\n  changeAvatar() {\n    modal.show(connect(select)(ChangeAvatarModal))\n  }\n\n  render() {\n    const { user } = this.props\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"dropdown-header\">\n          <strong>{user.username}</strong>\n          <div className=\"row user-stats\">\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">message</span>\n              {user.posts}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">forum</span>\n              {user.threads}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite</span>\n              {user.followers}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite_outline</span>\n              {user.following}\n            </div>\n          </div>\n        </li>\n        <li className=\"divider\" />\n        <li>\n          <a href={user.url}>\n            <span className=\"material-icon\">account_circle</span>\n            {gettext(\"See your profile\")}\n          </a>\n        </li>\n        <li>\n          <a href={misago.get(\"USERCP_URL\")}>\n            <span className=\"material-icon\">done_all</span>\n            {gettext(\"Change options\")}\n          </a>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {gettext(\"Change avatar\")}\n          </button>\n        </li>\n        {!!user.acl.can_use_private_threads && (\n          <li>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">message</span>\n              {gettext(\"Private threads\")}\n              <PrivateThreadsBadge user={user} />\n            </a>\n          </li>\n        )}\n        <li className=\"divider\" />\n        <li className=\"dropdown-buttons\">\n          <button\n            className=\"btn btn-default btn-block\"\n            onClick={() =>\n              document.getElementById(\"hidden-logout-form\").submit()\n            }\n            type=\"button\"\n          >\n            {gettext(\"Log out\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport function PrivateThreadsBadge({ user }) {\n  if (!user.unread_private_threads) return null\n\n  return <span className=\"badge\">{user.unread_private_threads}</span>\n}\n\nexport function UserNav({ user }) {\n  return (\n    <ul className=\"ul nav navbar-nav nav-user\">\n      <li>\n        <NavbarSearch />\n      </li>\n      <UserPrivateThreadsLink user={user} />\n      <li className=\"dropdown\">\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"dropdown-toggle\"\n          data-toggle=\"dropdown\"\n          href={user.url}\n          role=\"button\"\n        >\n          <Avatar user={user} size=\"64\" />\n        </a>\n        <UserMenu user={user} />\n      </li>\n    </ul>\n  )\n}\n\nexport function UserPrivateThreadsLink({ user }) {\n  if (!user.acl.can_use_private_threads) return null\n\n  let title = null\n  if (user.unread_private_threads) {\n    title = gettext(\"You have unread private threads!\")\n  } else {\n    title = gettext(\"Private threads\")\n  }\n\n  return (\n    <li>\n      <a\n        className=\"navbar-icon\"\n        href={misago.get(\"PRIVATE_THREADS_URL\")}\n        title={title}\n      >\n        <span className=\"material-icon\">message</span>\n        {user.unread_private_threads > 0 && (\n          <span className=\"badge\">{user.unread_private_threads}</span>\n        )}\n      </a>\n    </li>\n  )\n}\n\nexport function selectUserMenu(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n\nexport class CompactUserNav extends React.Component {\n  showUserMenu() {\n    dropdown.showConnected(\"user-menu\", connect(selectUserMenu)(UserMenu))\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showUserMenu}>\n        <Avatar user={this.props.user} size=\"50\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return gettext(\"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return gettext(\"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return gettext(\"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return gettext(\"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return gettext(\"Online\")\n    } else if (this.props.status.is_offline) {\n      return gettext(\"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        gettext(\"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\"),\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is banned\"),\n        {\n          username: user.username,\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is hiding presence\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is online (hidden)\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s (hidden)\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      gettext(\"%(username)s is online\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return gettext(\"No name changes have been recorded for your account.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map((i) => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map((change) => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function ({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    gettext(\"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  let message = interpolate(\n    gettext(\"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow(),\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", user.posts)\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = ngettext(\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = ngettext(\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function ({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map((user) => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map((i) => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst UsersNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">menu</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => {\n          const url = getPageUrl(baseUrl, page)\n          return (\n            <li key={url}>\n              <Link to={url}>{page.name}</Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => {\n        const url = getPageUrl(baseUrl, page)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{page.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  </div>\n)\n\nconst getPageUrl = (baseUrl, page) => {\n  let url = baseUrl\n  if (page.component === \"rank\") {\n    url += page.slug\n  } else {\n    url += page.component\n  }\n  return url + \"/\"\n}\n\nexport default UsersNav\n","import React from \"react\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      gettext(\n        \"No users have posted any new messages during last %(days)s days.\"\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map((i) => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = ngettext(\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\",\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    const page = { name: this.props.route.extra.name }\n\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            page={page}\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return (\n          <ListEmpty page={page} trackedPeriod={this.state.trackedPeriod} />\n        )\n      }\n    } else {\n      return <ListPreview page={page} />\n    }\n  }\n}\n","import React from \"react\"\n\nconst RankUsersLeft = ({ users }) => {\n  if (users.more) {\n    return (\n      <p>\n        {interpolate(\n          ngettext(\n            \"There is %(more)s more member with this role.\",\n            \"There are %(more)s more members with this role.\",\n            users.more\n          ),\n          { more: users.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return <p>{gettext(\"There are no more members with this role.\")}</p>\n}\n\nexport default RankUsersLeft\n","import React from \"react\"\nimport UsersList from \"../../users-list\"\n\nconst RankUsersList = ({ users }) => (\n  <UsersList cols={4} isReady={true} showStatus={true} users={users} />\n)\n\nexport default RankUsersList\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nclass RankUsersListLoader extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render = () => <UsersList cols={4} isReady={false} />\n}\n\nexport default RankUsersListLoader\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst RankUsersPagination = ({ baseUrl, users }) => (\n  <div className=\"misago-pagination\">\n    {users.isLoaded && users.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {users.isLoaded && users.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (users.previous > 1 ? users.previous + \"/\" : \"\")}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {users.isLoaded && users.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.next + \"/\"}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {users.isLoaded && users.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default RankUsersPagination\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\nimport RankUsersLeft from \"./RankUsersLeft\"\nimport RankUsersPagination from \"./RankUsersPagination\"\n\nconst RankUsersToolbar = ({ baseUrl, users }) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <RankUsersPagination baseUrl={baseUrl} users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSection auto>\n      <ToolbarItem>\n        <RankUsersLeft users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default RankUsersToolbar\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../../PageContainer\"\nimport RankUsersList from \"./RankUsersList\"\nimport RankUsersListLoader from \"./RankUsersListLoader\"\nimport RankUsersToolbar from \"./RankUsersToolbar\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true,\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page,\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: gettext(\"Users\"),\n      })\n\n      this.setState({\n        isLoaded: false,\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return <RankUsersList users={this.props.users} />\n      } else {\n        return (\n          <p className=\"lead\">\n            {gettext(\"There are no users with this rank at the moment.\")}\n          </p>\n        )\n      }\n    } else {\n      return <RankUsersListLoader />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={{ name: this.props.route.rank.name }}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          {this.getRankDescription()}\n          {this.getComponent()}\n          <RankUsersToolbar\n            baseUrl={\n              misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n            }\n            users={this.state}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"users-lists\">\n            <PageHeaderBanner styleName=\"users-lists\">\n              <h1>{gettext(\"Users\")}</h1>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function (item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name,\n        },\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false,\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown,\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false,\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || gettext(\"yes\")\n    } else {\n      return this.props.labelOff || gettext(\"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value,\n      },\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      (data) => {\n        dispatch(load(data))\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import \"bootstrap/js/transition\"\nimport \"bootstrap/js/affix\"\nimport \"bootstrap/js/modal\"\nimport \"bootstrap/js/dropdown\"\nimport \"at-js\"\nimport \"cropit\"\nimport \"waypoints\"\nimport \"jquery-caret\"\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before,\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach((initializer) => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n}\n\n// create  singleton\nvar misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function () {\n      ajax.get(context.get(\"AUTH_API\")).then(\n        function (data) {\n          store.dispatch(patch(data))\n        },\n        function (rejection) {\n          snackbar.apiError(rejection)\n        }\n      )\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\",\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer,\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Categories, { select } from \"misago/components/categories\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"categories-mount\")) {\n    mount(connect(select)(Categories), \"categories-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:categories\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Options, { paths } from \"misago/components/options/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USER_OPTIONS\")) {\n    mount({\n      root: misago.get(\"USERCP_URL\"),\n      component: Options,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:options\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\",\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import paths from \"misago/components/search\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\")),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\",\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/threads/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nconst PRIVATE_THREADS_LIST = \"misago:private-threads\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREADS\") && context.has(\"CATEGORIES\")) {\n    mount({\n      paths: paths(context.get(\"user\"), getListOptions(context)),\n    })\n  }\n}\n\nexport function getListOptions(context) {\n  const currentLink = context.get(\"CURRENT_LINK\")\n  if (\n    currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST\n  ) {\n    return {\n      api: context.get(\"PRIVATE_THREADS_API\"),\n      startThread: {\n        mode: \"START_PRIVATE\",\n        submit: misago.get(\"PRIVATE_THREADS_API\"),\n      },\n      title: gettext(\"Private threads\"),\n      pageLead: gettext(\n        \"Private threads are threads which only those that started them and those they have invited may see and participate in.\"\n      ),\n      emptyMessage: gettext(\"You aren't participating in any private threads.\"),\n    }\n  }\n\n  return {\n    api: context.get(\"THREADS_API\"),\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:threads\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport {\n  UserMenu,\n  CompactUserMenu,\n  select,\n} from \"misago/components/user-menu/root\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(UserMenu), \"user-menu-mount\")\n  mount(connect(select)(CompactUserMenu), \"user-menu-compact-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:user-menu\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-mount\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\"),\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\",\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\",\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function () {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer,\n})\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false,\n}\n\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch,\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user,\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft,\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user,\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft,\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars,\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug,\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState,\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data,\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL,\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false,\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false,\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on),\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch,\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost,\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post,\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post,\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS,\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false,\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS,\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState,\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts,\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts,\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map((post) => {\n        return Object.assign({}, post, {\n          isSelected: false,\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts,\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map((post) => {\n        return post.id\n      })\n\n      action.state.results.map((post) => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results,\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false,\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map((post) => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts,\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState,\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus,\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch,\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status),\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars,\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug,\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: [],\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState,\n    },\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState,\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider,\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map((provider) => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        }),\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds,\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE,\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId,\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false,\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type,\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR,\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true,\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data,\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data,\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\",\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting,\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread,\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items,\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting,\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting,\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    started_on: moment(thread.started_on),\n    last_post_on: moment(thread.last_post_on),\n    moderation: getThreadModerationOptions(thread.acl),\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0,\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK,\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy,\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on),\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username,\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars,\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug,\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items,\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null,\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status),\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars,\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug,\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function (data) {\n          resolve(data)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function () {\n            return\n          },\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function (resolve, reject) {\n          let wait = function (url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function () {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function () {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false,\n        }\n\n        return new Promise(function (resolve, reject) {\n          self.request(\"GET\", url).then(\n            function (data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function (rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function () {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function (response) {\n          resolve(response)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = gettext(\n              \"Upload was rejected by server as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username,\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false,\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", (newState) => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username,\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username,\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function (resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function (data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"))\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: (response) => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response,\n          },\n        })\n      },\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function (resolve) {\n      var wait = function () {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function () {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={gettext(\"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={gettext(\n          \"This test helps us prevent automated spam registrations on our site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\",\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", (e) => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function (watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback,\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = (element) => {\n    if (!element) return\n    this.highlightCode(element)\n    this.embedYoutubePlayers(element)\n  }\n\n  highlightCode(element) {\n    import(\"highlight\").then(({ default: hljs }) => {\n      const codeblocks = element.querySelectorAll(\"pre>code\")\n      for (let i = 0; i < codeblocks.length; i++) {\n        hljs.highlightElement(codeblocks[i])\n      }\n    })\n  }\n\n  embedYoutubePlayers(element) {\n    const anchors = element.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?rel=0\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" src=\"' +\n        url +\n        '\" allowfullscreen></iframe>'\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter((i) => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video,\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        gettext(\"page: %(page)s\"),\n        {\n          page: title.page,\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        (data) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        (rejection) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency),\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { PollForm } from \"misago/components/poll\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, mount) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._mount = mount\n\n    this._mode = null\n    this._spacer = document.getElementById(\"posting-spacer\")\n    this._observer = new ResizeObserver((entries) => {\n      this._spacer.style.height = entries[0].contentRect.height + \"px\"\n    })\n\n    this._isOpen = false\n    this._isClosing = false\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      this._mode = props.mode\n      this._isOpen = props.submit\n      this._realOpen(props)\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n      if (this._mode == \"POLL\") {\n        message = gettext(\n          \"You are already working on a poll. Do you want to discard it?\"\n        )\n      }\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    if (props.mode == \"POLL\") {\n      mount(<PollForm {...props} />, this._mount.id)\n    } else {\n      mount(<PostingComponent {...props} />, this._mount.id)\n    }\n\n    this._mount.classList.add(\"show\")\n    this._observer.observe(this._mount)\n  }\n\n  close = () => {\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._mount.classList.remove(\"show\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(this._mount)\n        this._observer.unobserve(this._mount)\n        this._spacer.style.height = \"0px;\"\n        this._isClosing = false\n        this._isOpen = false\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert(message, type) {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info(message) {\n    this.alert(message, \"info\")\n  }\n\n  success(message) {\n    this.alert(message, \"success\")\n  }\n\n  warning(message) {\n    this.alert(message, \"warning\")\n  }\n\n  error(message) {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError(rejection) {\n    let message = rejection.detail\n\n    if (!message) {\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\")\n      } else {\n        message = gettext(\"Unknown error has occured.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = gettext(\"You don't have permission to perform this action.\")\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function (resolve, reject) {\n      var wait = function (tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function () {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function (resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function (state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function (ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title = gettext(\"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function (list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function (element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function (a, b) {\n  let ids = []\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\",\n}\n\nexport default function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m]\n  })\n}\n","export default function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","const URL_PATTERN = new RegExp(\n  \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n  \"i\"\n)\n\nexport default function (str) {\n  return URL_PATTERN.test($.trim(str))\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function (Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null,\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function (item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function (item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function (item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function (options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: [],\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function (nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        },\n      },\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  }\n}\n","export default function (string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z]+$\", \"i\")\n\nexport function required(message) {\n  return function (value) {\n    if (value === false || value === null || $.trim(value).length === 0) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = gettext(\"You have to accept the terms of service.\")\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = gettext(\"You have to accept the privacy policy.\")\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\")\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function (lengthMin) {\n    return ngettext(\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function (lengthMax) {\n    return ngettext(\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\n        \"Username can only contain latin alphabet letters and digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function (value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = ngettext(\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"misago:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/ajax.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth-sync.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/captcha.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/accept-agreement.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/auth-message.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/banned-page.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/categories.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/options.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-activation-link.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-password-reset.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/reset-password-form.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/social-auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/user-menu.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/include.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/local-storage.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/modal.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/moment-locale.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/page-title.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/polls.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/posting.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/participants.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/poll.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/posts.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-details.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/selection.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/tick.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/username-history.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/store.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/tick-start.js\"); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/zxcvbn.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["classnames","React","Breadcrumbs","children","className","BreadcrumbsCategory","category","url","index","color","short_name","name","BreadcrumbsRootCategory","special_role","gettext","FlexRow","FlexRowCol","shrink","FlexRowSection","auto","modal","FormGroup","replaceSelection","MarkupCodeModal","props","ev","preventDefault","selection","update","syntax","state","trim","text","length","setState","error","prefix","Object","assign","hide","pgettext","handleSubmit","event","target","value","LANGUAGES","map","undefined","Component","misago","ajax","snackbar","MisagoMarkup","MarkupEditorFooter","MarkupEditorToolbar","uploadFile","MarkupEditor","loading","preview","element","post","get","then","data","parsed","rejection","status","detail","apiError","stopPropagation","dataTransfer","files","onAttachmentsChange","acl","max_attachment_size","i","file","clipboardData","items","item","kind","push","getAsFile","focused","disabled","onChange","placeholder","onDrop","onPaste","attachments","attachment","key","filename","progress","post_length_min","showPreview","closePreview","submitText","MarkupEditorButton","icon","title","onClick","Button","empty","MarkupImageModal","MarkupLinkModal","MarkupQuoteModal","getSelection","wrapSelection","updateAttachments","actions","show","insertSpoiler","uploadFiles","input","document","createElement","type","multiple","addEventListener","click","isUrl","textUrl","author","suffix","def","newValue","window","setTimeout","caret","start","textarea","focus","setSelectionRange","end","range","createRange","moveStart","selectionStart","selectionEnd","substring","moment","ID_LEN","upload","id","getRandomString","uploaded_on","filetype","is_image","size","uploader_name","concat","refreshState","FormData","append","ALPHA","ALPHA_LEN","len","chars","Math","floor","random","join","PageContainer","PageHeader","styleName","PageHeaderBanner","PageHeaderContainer","PageHeaderDetails","PageHeaderHTMLMessage","message","__html","PageHeaderMessage","PageHeaderPlain","header","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","errors","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","LegalAgreement","agreement","checked","agreementHtml","interpolate","label","StartSocialAuth","buttonClassName","buttonLabel","formLabel","labelClassName","socialAuth","button_text","button_color","style","finalButtonLabel","site","FormHeader","ThreadFlags","thread","weight","best_answer","has_poll","is_unapproved","has_unapproved_posts","is_closed","is_hidden","ThreadReplies","ngettext","replies","round","Avatar","ThreadStarterCard","starter","username","starter_name","timestamp","started_on","format","fromNow","ThreadsListEmpty","ThreadsListItem","ThreadsListLoader","ThreadsListUpdatePrompt","ThreadsList","list","categories","threads","busyThreads","isLoaded","showOptions","updatedThreads","applyUpdate","emptyMessage","indexOf","ThreadsListItemActivity","ThreadsListItemCategory","ThreadsListItemCheckbox","ThreadsListItemIcon","ThreadsListItemLastPoster","ThreadsListItemSubscription","activeCategory","showSubscription","isBusy","isSelected","parent","hasFlags","isNew","is_new","new_post","moderation","last_post","last_post_on","getClassName","select","store","dispatch","is_read","last_poster","poster","last_poster_name","ThreadsListItemSubscriptionOptions","getSubscriptionTitle","subscription","getSubscriptionIcon","patch","SUBSCRIPTION","unsubscribe","notify","email","api","op","path","UIPreviewText","Toolbar","ToolbarItem","ToolbarSection","ToolbarSpacer","width","AcceptAgreement","submiting","confirmation","confirm","accept","location","reload","handleDecline","handleAccept","Form","participants","updateAcl","changeValue","isLoading","replace","success","onUsernameChange","ModalHeader","signedIn","signedOut","user","getMessage","refresh","auth","size2x","getSrc","resolveAvatarForSize","avatars","avatar","forEach","av","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","Loader","defaultProps","Category","ListItem","css_class","subcategories","description","getTitle","getIcon","Main","LastThread","Stats","Subcategories","isFirst","can_browse","can_see_all_threads","last_thread_title","last_thread_new","LastPosterAvatar","LastPosterName","Empty","Private","Protected","Message","Description","Icon","posts","Threads","Posts","Blankslate","CategoriesList","polls","hydrate","startPolling","poll","frequency","tick","choices","repeat","level","avatarType","cropit","$","deviceRatio","cropitOffset","crop","offset","x","y","zoom","onComplete","showError","options","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","height","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","Gallery","images","row","image","response","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","component","completeFlow","getBody","fileSize","getElementById","validationError","validateFile","URL","createObjectURL","uploaded","info","limit","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","substr","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","getUploadProgress","renderCrop","renderUpload","PanelMessage","display","Select","field","fieldname","FieldInput","fields","help_text","Fieldset","groups","group","f","initial","onSuccess","onCancel","CancelButton","cancel","FormDisplay","execAction","Action","insertCode","prompt","makeEmphasis","insertHr","insertImage","insertLink","insertQuote","makeStrikethrough","makeStrong","formatFilesize","DATE_ABBR","USER_SPAN","USER_URL","insertAttachment","thumb","updateItem","isRemoved","newState","updatedAttachments","onInsert","onRemove","onUndo","Preview","Image","thumbnailUrl","backgroundImage","Filename","Details","uploader","date","absolute","relative","Actions","Insert","Remove","can_delete","Undo","STRONG","filteredAttachments","filter","AttachmentComplete","AttachmentError","AttachmentUpload","List","Uploader","Attachment","getRandomKey","Date","getTime","Code","Emphasis","Hr","Link","Spoiler","Strikethrough","Strong","Quote","AttachmentsEditor","Upload","MarkupPreview","textUtils","isPreviewLoading","operation","getSelectionText","_replaceSelection","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","query","callback","getJSON","q","on","flag","onPreviewClick","submitLabel","canProtect","onProtect","onUnprotect","protect","Protect","markup","textareaId","getTextarea","getValue","getSelectionRange","ctrl","setSelection","selectionRange","createTextRange","collapse","moveEnd","_replace","myRange","replacement","startText","validation","isValidated","for","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","formErrors","validateField","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","hasOwnProperty","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","onError","bestAnswer","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","choice","PollSelect","onebox","render","documentNode","find","revealSpoiler","prevProps","prevState","nextProps","nextState","node","btn","addClass","MAX_RESULTS","filtered","section","results","count","slice","HEADER","RESULT","FOOTER","Input","flatlist","flattenProviders","arrayLength","provider","flattenProvider","result","DropdownMenu","Result","flattenResults","flatResults","encodeURI","Footer","Header","Thread","User","footer","content","posted_on","poster_name","rank","joined_on","cleanResults","Dropdown","isOpen","container","querySelector","closeResults","parentNode","loadResults","intervalId","onDocumentMouseDown","onEscape","removeEventListener","delay","clearTimeout","onToggle","PanelLoader","next_on","next_change","usernameContent","usernameMinLength","length_min","usernameMaxLength","length_max","phrases","changes_left","name_changes_expire","complete","slug","bindInput","FormLoading","FormLocked","UsernameHistory","addNameChange","updateUsername","set","Promise","all","getChangeForm","password","delete","href","onPasswordChange","DownloadData","data_downloads","downloads","isSubmiting","request_data_download","handleLoadDownloads","rowStyle","requested_on","handleRequestDataDownload","verticalAlign","STATUS_PENDING","STATUS_PROCESSING","DownloadButton","exportFile","edit_details","YesNoSwitch","is_hiding_presence","limits_private_thread_invites_to","subscribe_to_started_threads","subscribe_to_replied_threads","privateThreadInvitesChoices","subscribeToChoices","Li","SideNav","option","baseUrl","CompactNav","hideNav","connect","DeleteAccount","EditDetails","ChangeForumOptions","ChangeUsername","ChangeSignInCredentials","WithDropdown","page","paths","delegateAuth","DELEGATE_AUTH","UnusablePasswordMessage","new_email","lengths","change_email","new_password","repeat_password","change_password","ChangeEmail","ChangePassword","has_usable_password","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","remove","changeOwner","MakeOwner","is_owner","UserStatus","isOwner","Card","userIsOwner","confirmed","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","users","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","load","inputs","cacheStale","scorePassword","score","getScore","hash","generateRandomHash","setChoices","onDelete","onAdd","PollChoice","deleteItem","canDelete","randomHash","toString","ChoicesControl","posting","close","question","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","PollPublicSwitch","Poll","PollForm","votes","PollCreation","getPoster","getPostedOn","PollLength","ends_on","getEndsOn","endsOn","PollVotes","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","ceil","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","control","ChangeVote","SeeVotes","seeVotes","Edit","open","submit","mode","Delete","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","diff","DiffItem","getItemClassName","cleanItem","revertEdit","edit","canRevert","Diff","hydrateEdit","edits","isReady","hydratedPost","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","json","Post","Default","Invalid","tooltip","Body","PostSide","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","int","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","CLASS_ACTIVE","CLASS_DEFAULT","CLASS_MINIMIZED","CLASS_FULLSCREEN","PostingDialog","body","classList","add","fullscreen","minimized","PostingDialogBody","PostingDialogHeader","minimize","fullscreenEnter","fullscreenExit","Editor","Container","getPostValidators","is_protected","can_protect","isErrored","config","loadSuccess","loadError","onPostChange","Start","StartPrivate","Reply","newPost","context","newContext","reply","appendData","dialogProps","PostingDialogReply","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","CategorySelect","categoryOptions","pin","columns","titleStyle","onCategoryChange","onClose","onHide","onOpen","onPinGlobally","onPinLocally","onUnhide","onUnpin","a","columnClassName","textClassName","CloseOptions","HideOptions","PinOptions","usernames","normalisedNames","split","removedBlanks","removedDuplicates","pos","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","closed","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","EventIcon","event_type","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","Event","PostPreview","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","AttachmentDetails","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","unhide","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isHidden","isUnedited","Approve","can_approve","Move","can_move","Split","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","Error","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","u","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","UserPostcount","UserStatusLabel","hasVisibleTitle","StatusLabel","deselect","can_merge_posts","waypoint","handler","direction","boundingClientRect","getBoundingClientRect","offsetBottom","top","clientHeight","documentElement","read","thread_is_read","Status","ProfileDataList","profile","is_active","FollowButton","MessageButton","ModerationOptions","ProfileHeader","follow","available","ProfileModerationButton","ProfileNav","pages","ban","has","initWithPreloadedData","pop","initWithoutPreloadedData","stop","user_message","staff_message","keys","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","ProfileDetailsHeader","onEdit","showEditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","Route","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","action","getLabel","Search","UsersList","loadUsers","search","more","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","canMessage","can_start_private_threads","isProfileOwner","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","showAvatarDialog","rename","showRenameDialog","showDeleteDialog","BanDetails","Follows","getModeration","can_follow","is_anonymous","can_rename","can_moderate_avatar","COMPONENTS","follows","details","loadChanges","changes","RegisterForm","captcha","account_activation","criteria","showRegisterForm","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","form","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","completeRegistration","RequestLinkForm","code","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","SignInModal","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","urlQuery","history","pushState","encodeURIComponent","providers","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SearchTime","time","p","Badge","SearchPage","route","appendPosts","updateProvider","LoadMore","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadModeration","ThreadSubscriptionButton","ThreadHeaderBreadcrumbs","ThreadHeader","is_authenticated","enabled","breadcrumbs","ThreadModerationOptions","ThreadPagination","first","last","ThreadPollButton","compact","ThreadPostsLeft","ThreadPostsModerationOptions","ThreadPostsModeration","dropup","ThreadReplyButton","ThreadShortcutsButton","unapproved_post","stickToBottom","alert","oldState","finalState","ThreadToolbarBottom","onReply","ThreadToolbarTop","onPoll","can_start_poll","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","ErrorsModal","Array","isArray","handleSuccessUnmounted","ThreadChangeTitleModal","MergeModal","successMessage","changeTitle","pinGlobally","pinLocally","unpin","MergeConflict","best_answers","other_thread","post_set","ModalLoading","basePath","pk","Participants","PostsList","setPageTitle","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","threadModeration","getThreadModeration","postsModeration","getPostsModeration","openPollForm","openReplyForm","can_close","can_pin_globally","can_pin","can_unprotect","ThreadsCategoryPicker","allItems","parentUrl","ThreadsListPicker","lists","longName","ThreadsToolbarModeration","ThreadsToolbar","categoriesMap","topCategory","topCategories","subCategory","subCategories","addThreads","startThread","freezeThread","updateThread","deleteThread","allow","ModerationControls","compareLastPostAge","b","compareGlobalWeight","compareWeight","root","getTopCategory","cat","MergeThreads","MoveThreads","threadsMap","failedThreads","noSelection","t","none","ThreadErrors","filterThreads","getFormdata","categoryChoices","can_start_threads","renderForm","renderCantMergeMessage","storeState","getState","leftThreads","acls","renderCantMoveMessage","getSelect","getLists","can_see_unapproved_content_lists","routes","diffThreads","getModerationActions","getPageTitle","sets","loadThreads","getCategory","getSorting","currentState","toggle","isMounted","dropdown","pollResponse","index_title","forum_name","isIndex","specialRole","index_header","pageLead","applyDiff","isThreadChanged","current","fromDb","currentMap","NavbarSearch","RegisterButton","GuestMenu","LOGIN_URL","showSignInModal","GuestNav","CompactGuestNav","showGuestMenu","UserNav","CompactUserNav","UserMenu","CompactUserMenu","ChangeAvatarModal","following","changeAvatar","can_use_private_threads","PrivateThreadsBadge","unread_private_threads","UserPrivateThreadsLink","selectUserMenu","showConnected","showUserMenu","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","showStatus","JoinDate","getStatClassName","stat","cols","colClassName","apply","Number","call","UsersNav","getPageUrl","days","trackedPeriod","rankUrl","getUserStatus","getRankName","getUserTitle","counter","meta","ItemPreview","posters","getLeadMessage","tracked_period","RankUsersLeft","RankUsersList","RankUsersListLoader","RankUsersPagination","RankUsersToolbar","PageLead","getRankDescription","getComponent","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","OrderedList","Misago","_initializers","_context","initializer","after","before","initOrder","orderedValues","fallback","init","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Categories","Profile","RequestActivationLink","RequestPasswordReset","PRIVATE_THREADS_LIST","getListOptions","currentLink","Users","locale","attr","forum_index_title","reducer","initialState","addReducer","isAnonymous","doTick","TICK_PERIOD","UPDATE_AVATAR","UPDATE_USERNAME","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","userId","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","sort","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","now","APPEND_USERS","HYDRATE_USERS","Ajax","_cookieName","_csrfToken","_locks","cookieName","cookie","cookieRegex","RegExp","match","method","self","resolve","reject","xhr","headers","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","request","processData","XMLHttpRequest","evt","lengthComputable","total","Auth","local","_store","_local","_modal","syncSession","watchState","watch","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","cache","localStorage","LocalStorage","_prefix","_watchers","e","newValueJson","parse","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","highlightCode","embedYoutubePlayers","_youtube","hljs","default","codeblocks","querySelectorAll","highlightElement","anchors","onlyChild","childNodes","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","youtube","video","player","replaceWith","wrap","cleanedUrl","cleanUrl","getVideoIdFromUrl","timebit","bits","parseInt","PageTitle","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","timeout","pollId","PostingComponent","Posting","_isOpen","_isClosing","_mount","_observer","unobserve","_spacer","_mode","ResizeObserver","entries","contentRect","_realOpen","changeForm","observe","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","Provider","BannedPage","RedrawedBannedPage","changeState","getStore","rowWidth","padding","rows","m","bytes","roundSize","toFixed","URL_PATTERN","str","test","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values","values_only","_order","unordered","ordered","ordering","insertItem","insertAt","splice","iterations","min","max","array","Router","browserHistory","childRoutes","onEnter","replaceState","string","subString","n","EMAIL","USERNAME","returnMessage","lengthMin","lengthMax"],"sourceRoot":""}