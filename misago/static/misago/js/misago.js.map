{"version":3,"sources":["misago.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_","_2","RegisterLegalFootnote","get","createElement","className","href","target","gettext","..","react","2","StartSocialAuth","props","buttonClassName","buttonLabel","formLabel","header","labelClassName","socialAuth","SOCIAL_AUTH","FormHeader","text","map","_ref","id","name","url","finalButtonLabel","interpolate","site","key","_ref2","3","_interopRequireWildcard","newObj","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","ModalHeader","aria-label","data-dismiss","type","aria-hidden","_createClass","defineProperties","descriptor","protoProps","staticProps","_form","_form2","_formGroup","_formGroup2","_participants","participants","_thread","_ajax","_ajax2","_modal","_modal2","_snackbar","_snackbar2","_store","_store2","_class","_Form","this","_this","getPrototypeOf","onUsernameChange","event","changeValue","state","isLoading","username","trim","error","patch","thread","api","index","op","path","data","dispatch","updateAcl","replace","success","hide","role","onSubmit","handleSubmit","for","label","disabled","onChange","../reducers/participants","../reducers/thread","../services/ajax","../services/modal","../services/snackbar","../services/store","./form","./form-group","4","select","user","auth","signedIn","signedOut","_React$Component","apply","arguments","window","location","reload","getMessage","onClick","refresh","Component","5","getSrc","size","resolveAvatarForSize","avatars","avatar","forEach","av","size2x","alt","src","srcSet","width","height","6","_moment","_moment2","message","html","dangerouslySetInnerHTML","__html","plain","expires","isAfter","title","expires_on","format","fromNow","getReasonMessage","getExpirationMessage","moment","7","_loader","_loader2","Button","loading","children","defaultProps","./loader","8","9","categories","category","_category2","_category","./category","10","css_class","_listItem2","isFirst","subcategories","_listItem","./list-item","11","description","12","getClassName","is_read","getTitle","is_closed","getIcon","13","_main2","_stats2","_lastThread2","_subcategories2","_main","_lastThread","_stats","_subcategories","./last-thread","./main","./stats","./subcategories","14","LastThread","acl","can_browse","can_see_all_threads","last_thread_title","LastPosterAvatar","last_thread_new","LastPosterName","last_post","last_post_on","_ref3","last_poster","last_poster_name","_avatar2","_ref4","Empty","_ref5","Message","Private","_ref6","Protected","_ref7","_ref8","_avatar","../../../avatar","15","_icon2","_description2","_description","_icon","./description","./icon","16","Threads","threads","ngettext","Posts","posts","17","18","19","store","tick","_blankslate","_blankslate2","_categoriesList","_categoriesList2","_index","_index2","_polls","_polls2","hydrate","assign","update","setState","startPolling","start","poll","frequency","../../index","../../services/polls","./blankslate","./categories-list","20","choices","item","repeat","level","21","_button","_button2","cropAvatar","avatarType","upload","cropit","$","deviceRatio","cropitOffset","post","crop","offset","x","y","zoom","then","onComplete","detail","rejection","status","showError","options","crop_tmp","crop_src","dataUrl","_this2","cropperWidth","getAvatarSize","initialWidth","exportZoom","imageState","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","showIndex","../../services/ajax","../../services/snackbar","../avatar","../button","22","Gallery","GalleryItem","undefined","_extends","source","_batch","_batch2","_temp","_ret","_len","args","Array","_key","concat","selection","_React$Component2","_this3","images","row","_React$Component3","_this4","image","save","response","_this5","galleries","../../utils/batch","23","setGravatar","callApi","setGenerated","gravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","getCropButton","getUploadButton","getGalleryButton","../loader","24","ChangeAvatarError","_crop","_crop2","_upload","_upload2","_gallery","_gallery2","_modalLoader","_modalLoader2","_users","reason","getErrorReason","component","completeFlow","updateAvatar","getBody","../../reducers/users","../../services/store","../modal-loader","./crop","./gallery","./index","./upload","25","_fileSize","_fileSize2","pickFile","document","getElementById","click","uploadFile","files","validationError","validateFile","preview","URL","createObjectURL","progress","FormData","append","uploaded","info","limit","filesize","invalidTypeMsg","allowed_mime_types","indexOf","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","substr","extensions","join","getUploadRequirements","aria-valuenow","aria-valuemin","aria-valuemax","style","getUploadProgressLabel","getUploadProgress","renderCrop","renderUpload","../../utils/file-size","26","dropdown","toggleNav","aria-haspopup","aria-expanded","27","display","_panelMessage2","helpText","_panelMessage","../panel-message","28","_select","_select2","ev","_this$props","field","fieldname","_props","input","rows","../select","29","errors","fields","help_text","validation","_fieldInput2","_fieldInput","../form-group","./field-input","30","_defineProperty","CancelButton","onCancel","_fieldset","_fieldset2","groups","group","initial","onSuccess","apiError","../form","./fieldset","31","FormDisplay","cancel","_state","32","33","replaceSelection","execAction","34","insertCode","syntax","prompt","_action2","_action","_isUrl","../../../utils/is-url","./action","35","makeEmphasis","36","insertHr","37","insertImage","_isUrl2","38","insertLink","39","insertQuote","40","makeStriketrough","41","makeStrong","42","Preview","is_image","Image","Icon","thumbnailUrl","thumb","backgroundImage","Filename","filename","Details","uploader","USER_URL","_escapeHtml2","uploader_name","USER_SPAN","date","DATE_ABBR","absolute","uploaded_on","relative","filetype","Actions","Insert","Remove","Undo","isRemoved","onInsert","can_delete","onRemove","onUndo","_escapeHtml","insertAttachment","updateItem","newState","updatedAttachments","attachments","onAttachmentsChange","../../../..","../../../../utils/escape-html","../../../../utils/file-size","43","STRONG","filteredAttachments","filter","44","_complete2","_error2","_complete","_error","./complete","./error","45","46","max_attachment_size","_list2","_uploader2","_list","_uploader","../../..","./list","./uploader","47","_attachment2","_attachment","./attachment","48","49","getRandomKey","Math","round","Date","getTime","file","../../../services/ajax","../../../services/snackbar","50","Protect","canProtect","protect","onUnprotect","onProtect","_code","_code2","_emphasis","_emphasis2","_hr","_hr2","_image","_image2","_link","_link2","_striketrough","_striketrough2","_strong","_strong2","_quote","_quote2","_attachments","_attachments2","_uploadButton","_uploadButton2","_markupPreview","_markupPreview2","_textutils","textUtils","onPreviewClick","isPreviewLoading","show","markup","parsed","operation","getSelectionText","_replaceSelection","newValue","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","query","callback","getJSON","q","on","flag","submitLabel","placeholder","../..","../../services/modal","./actions/code","./actions/emphasis","./actions/hr","./actions/image","./actions/link","./actions/quote","./actions/striketrough","./actions/strong","./attachments","./attachments/upload-button","./markup-preview","./textutils","51","_misagoMarkup2","_misagoMarkup","../misago-markup","52","getTextarea","textareaId","getValue","getSelectionRange","end","getSelection","ctrl","focus","range","createRange","moveStart","selectionStart","selectionEnd","substring","setSelection","selectionRange","setSelectionRange","createTextRange","collapse","moveEnd","_replace","myRange","replacement","startText","53","isValidated","labelClass","htmlFor","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","54","_validators","validateRequired","required","bindInput","formErrors","validateField","preventDefault","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","push","_name","_name2","fieldErrors","validate","requiredError","_i","_validationError","../utils/validators","55","isControlled","isActive","pathname","activeClassName","56","57","BestAnswerSelect","choice","PollSelect","onError","onBestAnswerChange","onPollChange","bestAnswer","polls","confirmation","confirm","best_answer","bestAnswers","./button","58","_oneBox","_oneBox2","render","documentNode","prevProps","prevState","nextProps","nextState","ref","node","../services/one-box","59","60","_PanelMessage","icon","./panel-message","61","filtered","section","results","count","slice","MAX_RESULTS","62","HEADER","RESULT","FOOTER","63","_input2","_input","./input","64","65","flattenProviders","flatlist","arrayLength","provider","_constants","flattenProvider","result","./constants","66","_dropdownMenu2","flatResults","_flattenResults2","_result2","_empty2","_dropdownMenu","_empty","_result","_flattenResults","./dropdown-menu","./empty","./flatten-results","./result","67","autoComplete","68","../../loader","69","encodeURI","70","71","_header2","_footer2","_footer","_header","../constants","./footer","./header","72","_thread2","_user2","_user","./thread","./user","73","poster","footer","content","posted_on","poster_name","74","rank","joined_on","75","_cleanResults","_cleanResults2","_dropdown","_dropdown2","onToggle","isOpen","setTimeout","container","querySelector","onDocumentMouseDown","closeResults","parentNode","onEscape","loadResults","intervalId","addEventListener","removeEventListener","delay","random","clearTimeout","data-toggle","./clean-results","./dropdown","76","_panelLoader2","_panelLoader","../../panel-loader","77","next_on","next_change","../../panel-message","78","usernameContent","usernameMinLength","length_min","usernameMaxLength","length_max","phrases","changes_left","name_changes_expire","_message","complete","slug","../../../utils/validators","../../button","../../form","../../form-group","79","_formLoading","_formLoading2","_formLocked","_formLocked2","_root","_root2","_usernameHistory","_pageTitle","_pageTitle2","addNameChange","updateUsername","isLoaded","set","parent","Promise","all","getChangeForm","changes","../../../index","../../../reducers/username-history","../../../reducers/users","../../../services/page-title","../../../services/store","../../username-history/root","./form-loading","./form-locked","80","onPasswordChange","password","_this$state","../../services/page-title","81","_editDetails","_editDetails2","edit_details","../edit-details","82","_yesNoSwitch","_yesNoSwitch2","_auth","is_hiding_presence","limits_private_thread_invites_to","subscribe_to_started_threads","subscribe_to_replied_threads","privateThreadInvitesChoices","subscribeToChoices","iconOn","iconOff","labelOn","labelOff","../../reducers/auth","../yes-no-switch","83","SideNav","option","_reactRouter","Link","to","baseUrl","CompactNav","_li2","hideNav","_li","../li","react-router","84","username-history","paths","_reactRedux","connect","_forumOptions2","_root4","_deleteAccount2","_dropdownToggle","_navs","_deleteAccount","_forumOptions","_root3","_withDropdown","_withDropdown2","_WithDropdown","../dropdown-toggle","../with-dropdown","./change-username/root","./delete-account","./edit-details","./forum-options","./navs","./sign-in-credentials/root","react-redux","85","UnusablePasswordMessage","86","new_email","email","lengths","change_email","87","new_password","repeat_password","change_password","88","_changeEmail","_changeEmail2","_changePassword","_changePassword2","_UnusablePasswordMessage","_UnusablePasswordMessage2","has_usable_password","./UnusablePasswordMessage","./change-email","./change-password","89","_stringCount","_stringCount2","copy","../utils/string-count","90","91","92","_addParticipant","_addParticipant2","can_add_participants","../add-participant","93","leave","participant","remove","changeOwner","../../../reducers/participants","../../../reducers/thread","94","UserStatus","isOwner","is_owner","_makeOwner2","_remove2","_makeOwner","_remove","../../avatar","./make-owner","./remove","95","userIsOwner","_card2","_card","./card","96","_actions","confirmed","isUser","can_change_owner","./actions","97","isModerator","can_moderate_private_threads","98","getUserIsOwner","_cardsList2","utils","getParticipantsCopy","_cardsList","_utils","./add-participant","./cards-list","./utils","99","users","100","LABELS","STYLES","_zxcvbn","_zxcvbn2","_score","_password","_inputs","loaded","load","inputs","cacheStale","scorePassword","score","getScore","../services/zxcvbn","101","generateRandomHash","randomHash","toString","PollChoice","onAdd","hash","setChoices","onDelete","canDelete","_temp2","_ret2","_len2","_key2","deleteItem","maxLength","102","PollPublicSwitch","isEdit","_choicesControl","_choicesControl2","_poll","_posting","_posting2","close","question","allowed_choices","allow_revotes","is_public","put","non_field_errors","../../../reducers/poll","../../../services/posting","../../yes-no-switch","./choices-control","103","PollForm","Poll","_poll2","./poll","104","PollCreation","getPoster","getPostedOn","PollLength","ends_on","getEndsOn","endsOn","PollVotes","votes","PollIsPublic","../../utils/escape-html","105","getIsPollOver","_results","_results2","_voting","_voting2","showResults","showVoting","hasSelectedChoices","isPollOver","can_vote","./results","./voting","106","proc","ceil","getVotesLabel","ChoiceVotes","UserChoice","selected","107","_info2","_chart2","_options2","_chart","_options","_info","../info","./chart","./options","108","ModalBody","_modalMessage2","ChoicesList","ChoiceDetails","VotesCount","VotesList","voters","Voter","VoteDate","voted_on","_modalMessage","hydratedData","voter","../../modal-loader","../../modal-message","109","isVisible","can_edit","can_see_votes","controls","control","ChangeVote","canVote","canChangeVote","isBusy","Delete","Edit","SeeVotes","_modal3","_modal4","seeVotes","open","submit","mode","_temp3","_ret3","_len3","_key3","deletePoll","busy","newThreadAcl","release","../../../services/modal","./modal","110","PollChoicesLeft","choicesLeft","PollAllowRevote","../../../utils/escape-html","111","_help","_help2","toggleChoice","getChoiceFromHash","deselectChoice","selectChoice","getChoicesLeft","../results/options","./help","./select","112","ChoiceSelect","113","114","DiffItem","getItemClassName","cleanItem","diff","115","revertEdit","edit","canRevert","116","ModalDialog","_diff","_diff2","_toolbar","_toolbar2","_post","goToEdit","edits","isReady","hydrateEdit","hydratedPost","../../reducers/post","../modal-message","./diff","./toolbar","117","GoBackBtn","previous","GoForwardBtn","next","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","goLast","goForward","goBack","118","json","119","_post2","_preview2","_preview","./post","./preview","120","Default","Invalid","../../misago-markup","121","tooltip","122","_postSide2","_body2","_body","_postSide","./body","./post-side","123","124","125","_registered2","_anonymous2","_anonymous","_registered","./anonymous","./registered","126","_userTitle2","_userTitle","./user-title","127","userTitle","is_tab","128","_random","../../utils/random","129","hydrateLike","liked_on","likes","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","./avatar","./modal-loader","./modal-message","130","_editor","_editor2","_container","_container2","_message2","loadSuccess","is_protected","can_protect","loadError","isErrored","onPostChange","getPostValidators","config","method","../../services/posting","../editor","./utils/attachments","./utils/container","./utils/loader","./utils/message","./utils/validators","131","_start2","_startPrivate2","_reply2","_edit2","_start","_startPrivate","_reply","_edit","./edit","./reply","./start","./start-private","132","appendData","newPost","context","newContext","reply","133","_usernames","_usernames2","onToChange","onTitleChange","getTitleValidators","withFirstRow","./utils/usernames","134","_categorySelect","_categorySelect2","showOptions","categoryOptions","pin","onCategoryChange","find","onClose","onOpen","onPinGlobally","onPinLocally","onUnpin","onHide","onUnhide","columns","titleStyle","../category-select","./utils/options","135","completedAttachments","attachment","136","137","./container","138","139","CloseOptions","textClassName","HideOptions","PinOptions","columnClassName","140","usernames","normalisedNames","split","removedBlanks","removedDuplicates","pos","141","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","minLength","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","post_length_min","142","can_hide","Unhide","Hide","is_hidden","hidden_on","hidden_by_name","hidden_by","decision","isDeleted","../../../reducers/post","143","ICON","event_type","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","closed","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","144","_unreadLabel2","_waypoint2","_unreadLabel","_waypoint","../waypoint","./info","./message","./unread-label","145","Hidden","event_by","event_on","Poster","DATE_URL","_controls2","_controls","./controls","146","ChangedTitle","msgstring","oldTitle","ITEM_SPAN","event_context","old_title","Moved","fromCategory","ITEM_LINK","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","MESSAGE","147","148","ListItem","is_event","_event2","_event","./event","./post/preview","149","AttachmentPreview","AttachmentThumbnail","AttachmentIcon","AttachmentDetails","150","can_see_hidden","Row","../../../../utils/batch","151","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","152","approve","is_unapproved","ops","previousState","unprotect","unhide","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","../../../../reducers/post","../../../../reducers/thread","../../../../services/ajax","../../../../services/snackbar","../../../../services/store","153","Unprotect","Split","Move","Approve","PostEdits","UnmarkMarkBestAnswer","MarkAsBestAnswer","Permalink","moderation","_move","_move2","_postChangelog","_postChangelog2","_split","_split2","permaUrl","protocol","host","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","_React$Component4","_temp4","_ret4","_len4","_key4","_props2","can_unmark_best_answer","_React$Component5","_temp5","_ret5","_len5","_key5","isHidden","isUnedited","_React$Component6","_temp6","_this6","_ret6","_len6","_key6","can_approve","_React$Component7","_temp7","_this7","_ret7","_len7","_key7","can_move","_React$Component8","_temp8","_this8","_ret8","_len8","_key8","_React$Component9","_ref9","_temp9","_this9","_ret9","_len9","_key9","_React$Component10","_ref10","_temp10","_this10","_ret10","_len10","_key10","_React$Component11","_ref11","_temp11","_this11","_ret11","_len11","_key11","_props3","_React$Component12","_ref12","_temp12","_this12","_ret12","_len12","_key12","can_unhide","_React$Component13","_ref13","_temp13","_this13","_ret13","_len13","_key13","_props4","../../../../services/modal","../../../../services/posting","../../../post-changelog","./move","./split","154","155","onUrlChange","move","new_thread","../../../button","../../../form","../../../form-group","156","Loader","Modal","ModerationForm","PostingConfig","Form","isError","misago","categoryId","can_pin_threads","weight","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","isArray","ErrorsModal","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","../../../../utils/validators","../../../category-select","../../../modal-loader","../../../select","157","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","158","can_reply","can_see_likes","can_like","getLikesMessage","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","Reply","LikesCompact","Likes","Like","MarkAsBestAnswerCompact","actions","_postLikes","_postLikes2","hasLikes","_Likes","../../post-likes","./controls/actions","159","UnreadLabel","UnreadCompact","PostedOn","PostedOnCompact","ProtectedLabel","postAuthor","hasAcl","PostEditsCompacts","_PostEdits","../../post-changelog","../../user-status","160","_flags","./flags","161","_userStatus","_userPostcount","../../../user-status","../controls","./user-postcount","162","163","164","_userStatus2","StatusIcon","_userStatus4","_userPostcount2","_userStatus3","./user-status","165","_hasVisibleTitle2","_hasVisibleTitle","./has-visible-title","166","StatusLabel","167","168","../../../utils/random","169","_posts","isSelected","deselect","can_merge_posts","../../../reducers/posts","170","waypoint","handler","direction","boundingClientRect","getBoundingClientRect","offsetBottom","top","clientHeight","documentElement","read","thread_is_read","../../reducers/thread","171","ban","has","initWithPreloadedData","pop","initWithoutPreloadedData","profile","stop","user_message","staff_message","_title","keys","getUserMessage","getStaffMessage","getPanelBody","../panel-loader","172","isAuthenticated","173","SafeValue","rel","174","_fieldValue2","_fieldValue","./field-value","175","../../edit-details","176","_field2","_field","./field","177","_group2","_emptyMessage2","_emptyMessage","_group","./empty-message","./group","178","EditButton","onEdit","showEditButton","179","_groupsList","_groupsList2","_profileDetails","_profileDetails2","_profileDetails3","editing","newDetails","profileDetails","../../../data/profile-details","../../../reducers/profile-details","./groups-list","180","emptyMessage","_route2","_route","./route","181","Feed","_postFeed2","LoadMoreButton","loadMore","more","_postFeed","loadItems","page","../../post-feed","182","_profile","action","is_followed","followers","follow","getLabel","../../reducers/profile","183","_quickSearch","_quickSearch2","_usersList","_usersList2","loadUsers","search","pages","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","cols","getMoreButton","getListBody","../quick-search","../users-list","184","_followers","_followers2","_Followers","./followers","185","IsDisabledMessage","isDeletingAccount","getColStyle","col","colStyle","_followButton","_followButton2","_messageButton","_messageButton2","_nav","_nav2","age","can_follow","can_moderate","canFollow","canModerate","isProfileOwner","canMessage","can_start_private_threads","colsWidth","headerClassName","is_active","is_deleting_account","getFollowButton","getModerationButton","getUserStatus","getUserRank","getUserTitle","getJoinedOn","getEmail","../user-status","./follow-button","./message-button","./moderation/nav","186","187","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","188","moderate_username","189","countdown","with_content","getButtonLabel","getDeletedBody","getForm","../../../services/polls","190","_avatarControls","_avatarControls2","_changeUsername","_changeUsername2","showAvatarDialog","showRenameDialog","showDeleteDialog","can_moderate_avatar","can_rename","getAvatarButton","getRenameButton","getDeleteButton","./avatar-controls","./change-username","191","192","COMPONENTS","_banDetails","_banDetails2","_details","_details2","_feed","_follows","_follows2","_usernameHistory2","toggleModeration","follows","details","ban-details","./ban-details","./details","./feed","./follows","./username-history","193","loadChanges","../../reducers/username-history","../username-history/root","194","195","_register","_register2","_captcha","_captcha2","showRegisterForm","account_activation","criteria","../services/captcha","./register.js","196","RegisterComplete","RegisterForm","_passwordStrength","_passwordStrength2","_RegisterLegalFootnote","_RegisterLegalFootnote2","_StartSocialAuth","_StartSocialAuth2","_auth2","_bannedPage","_bannedPage2","_this$props$criteria","passwordMinLength","min_length","captcha","max_length","validator","__all__","aria-describedby","form","activation","getLead","getSubscript","completeRegistration","signIn","../services/auth","../utils/banned-page","./RegisterLegalFootnote","./StartSocialAuth","./password-strength","197","LinkSent","RequestLinkForm","reset","../index","198","AccountInactivePage","RequestResetForm","_reactDom","_reactDom2","showInactivePage","getActivateButton","react-dom","199","PasswordChangedPage","ResetPasswordForm","_signIn","_signIn2","showSignIn","softSignOut","./sign-in.js","200","_search","onQueryChange","providers","../../reducers/posts","../../reducers/search","201","components","_threads","_threads2","_users2","./threads","./users","202","SearchTime","time","p","_sidenav2","_sidenav","./sidenav","203","Badge","204","Blankslate","_page2","route","_page","../page","205","LoadMore","updateProvider","../../../reducers/search","206","../../users-list","207","change","getChoice","208","showActivation","val","getCsrfToken","getActivationButton","209","snackbar","Snackbar","TYPES_CLASSES","warning","snackbarClass","getSnackbarClass","210","Complete","backend_name","backendName","211","Header","pageTitleTpl","pageTitle","backend","212","SocialAuth","handleRegistrationComplete","step","onRegistrationComplete","./register","213","Register","emailProtected","_onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","../../utils/validators","../RegisterLegalFootnote","214","Breadcrumb","GoBack","lastItem","215","Moderation","isSingle","ModerationControls","_breadcrumbs","_breadcrumbs2","isEditing","showModeration","isModerationVisible","../../posting/utils/validators","../moderation/thread","./breadcrumbs","216","Weight","Unapproved","has_unapproved_posts","IsHidden","IsClosed","Replies","replies","legend","LastReply","LAST_POSTER_URL","LAST_POSTER_SPAN","LAST_REPLY","217","deselectAll","ids","rollback","_errorsList2","merge","_errorsList","../../../../reducers/posts","./errors-list","218","Merge","can_merge","219","PostErrors","heading","220","visible","can_unprotect","221","222","223","_merge","_merge2","successMessage","pinGlobally","pinLocally","unpin","can_pin_globally","can_pin","can_close","getPinGloballyButton","getPinLocallyButton","getUnpinButton","getMoveButton","getMergeButton","getApproveButton","getOpenButton","getCloseButton","getUnhideButton","getHideButton","./merge","224","_isVisible","_isVisible2","./is-visible","225","226","_mergeConflict","_mergeConflict2","handleSuccessUnmounted","best_answers","other_thread","../../../merge-conflict","227","ModalLoading","ModalMessage","post_set","228","Pager","FirstPage","PreviousPage","NextPage","LastPage","first","previousUrl","nextUrl","last","More","229","230","basePath","pk","231","_participants2","_postsList","_postsList2","_toolbarTop","_toolbarTop2","_toolbarBottom","_toolbarBottom2","_participants3","setPageTitle","openReplyForm","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","../../reducers/participants","../../reducers/poll","../participants","../poll","../posts-list","./toolbar-bottom","./toolbar-top","232","subscription","Dropdown","dropdownClassName","Disable","Enable","Email","oldState","finalState","233","Options","_posts2","Subscription","xsClass","_subscription2","btnClassName","_replyButton2","Spacer","_paginator","_replyButton","_subscription","./moderation/posts","./paginator","./reply-button","./subscription","234","GotoMenu","is_anonymous","GotoLast","GotoNew","GotoBestAnswer","GotoUnapproved","CompactOptions","is_new","new_post","unapproved_post","StartPollCompact","GotoNewCompact","GotoUnapprovedCompact","GotoLastCompact","SubscriptionMenu","StartPoll","hiddenSpecialOption","can_start_poll","_StartPoll","235","diffSize","applyDiff","_ready2","activeCategory","list","busyThreads","_ready","./list/empty","./list/preview","./list/ready","236","237","_diffMessage","_diffMessage2","getDiffMessage","./diff-message","238","../thread/preview","239","../thread/ready","240","HiddenLabel","ClosedLabel","PollLabel","BestAnswerLabel","RepliesLabel","forceFullText","compactClassName","fullClassName","LastReplyLabel","datetime","LastPoster","posterName","statusFlags","has_poll","allFlagsVisible","OptionsXs","../options","241","242","TopDetails","BottomDetails","_bottom","_bottom2","_top","_top2","./bottom","./top","243","NewLabel","isRead","PinnedLabel","UnapprovedLabel","244","Timestamp","_userUrl2","_userUrl","./user-url","245","_full2","_compact2","Checkbox","_compact","_full","_selection","toggleSelection","../../../reducers/selection","./subscription/compact","./subscription/full","246","247","flavor","styles","starter_name","starter","_lastAction2","_lastAction","./last-action","248","_SubscriptionFull","./full","249","_props$thread","fullwidth","250","251","STATE_UPDATES","unsubscribe","notify","setSubscription","../../../../reducers/threads","252","253","Subcategory","listPath","getUrl","254","compareLastPostAge","b","compareGlobalWeight","compareWeight","255","_pageLead","_pageLead2","pageLead","categoriesMap","selectAllThreads","selectNoneThreads","addThreads","freezeThread","deleteThread","updateThread","getDisableToolbar","getCategoryDescription","getToolbar","../page-lead","256","ParentCategory","startThread","hasGoBackButton","getGoBackButton","getStartThreadButton","lists","./nav","257","special_role","258","_countdown","threadsMap","failedThreads","../../../utils/countdown","259","ThreadErrors","260","getFormdata","none","filterThreads","categoryChoices","_acl","can_start_threads","renderForm","renderCantMergeMessage","../../../reducers/threads","../../category-select","../../merge-conflict","../../select","261","storeState","getState","leftThreads","acls","renderCantMoveMessage","262","selectAll","selectNone","263","264","getSelect","getLists","longName","can_see_unapproved_content_lists","routes","265","_compare","_threadsList","_threadsList2","_listEmpty","_listEmpty2","_sets","sets","loadThreads","getCategory","pollResponse","diffThreads","getSorting","getModerationActions","currentState","toggle","isMounted","getPageTitle","forum_index_title","forum_name","threadsCount","../../reducers/selection","../../reducers/threads","../../utils/sets","../threads-list","./compare","./list-empty","266","_categoryPicker","_categoryPicker2","_selection2","allow","showModerationOptions","getSelectedThreads","getCategoryPicker","getSelectionButton","./category-picker","./moderation/controls","./moderation/selection","267","isThreadChanged","current","fromDb","currentMap","268","CompactGuestNav","GuestNav","GuestMenu","_navbarSearch","_navbarSearch2","_registerButton","_registerButton2","_mobileNavbarDropdown","_mobileNavbarDropdown2","showSignInModal","_GuestMenu","showGuestMenu","../../services/mobile-navbar-dropdown","../navbar-search","../register-button","../sign-in.js","269","CompactUserMenu","UserMenu","_guestNav","_userNav","UserNav","CompactUserNav","./guest-nav","./user-nav","270","PrivateThreadsBadge","unread_private_threads","UserPrivateThreadsLink","can_use_private_threads","selectUserMenu","following","changeAvatar","logout","showConnected","showUserMenu","../change-avatar/root","271","getStatusClassName","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getStatusDescription","banned_until","ban_expires","last_click","getClass","getHelp","272","hiddenOnMobile","273","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","274","275","_changePreview","_changePreview2","./change-preview","276","_change","_change2","./change","277","_listReady","_listReady2","_listPreview","_listPreview2","./list-preview","./list-ready","278","showStatus","279","Status","JoinDate","getStatClassName","Followers","stat","280","dup","281","colClassName","282","283","Number","284","days","trackedPeriod","285","286","rankUrl","getRankName","counter","meta","287","_listItemPreview","_listItemPreview2","./list-item-preview","288","posters","getLeadMessage","289","tracked_period","290","listUrl","291","292","_pager2","_pager","./pager","293","_resetScroll2","_resetScroll","../../../utils/reset-scroll","294","_listLoading","_listLoading2","getRankDescription","getComponent","../../page-lead","./list-loading","295","./active-posters/root","./rank/root","296","297","298","../reducers/profile-details","299","global","Misago","_orderedList","_orderedList2","_initializers","_context","initializer","after","before","initOrder","orderedValues","fallback","./utils/ordered-list","300","init","addInitializer","301","setInterval","AUTH_SYNC_RATE","../reducers/auth","302","_localStorage2","_localStorage","../services/local-storage","303","_include2","_include","../services/include","304","_mountComponent2","_authMessage","_authMessage2","_mountComponent","../../components/auth-message","../../utils/mount-component","305","../../utils/banned-page","306","_categories","_categories2","../../components/categories","307","_routedComponent2","root","_routedComponent","../../components/options/root","../../utils/routed-component","308","../../components/profile/root","309","_requestActivationLink2","_requestActivationLink","../../components/request-activation-link","310","_requestPasswordReset2","_requestPasswordReset","../../components/request-password-reset","311","_resetPasswordForm2","_resetPasswordForm","../../components/reset-password-form","312","_search2","../../components/search","313","../../components/snackbar","314","_socialAuth2","_socialAuth","../../components/social-auth","315","../../components/thread/root","316","getListOptions","currentLink","PRIVATE_THREADS_LIST","../../components/threads/root","317","../../components/user-menu/root","318","../../components/users/root","319","320","321","element","../services/mobile-navbar-dropdown","322","323","locale","attr","324","../services/page-title","325","../services/polls","326","../services/posting","327","addReducer","isAnonymous","initialState","328","329","330","331","../../reducers/profile-details","332","333","_profile2","334","335","336","../../reducers/snackbar","337","338","339","_tick2","_tick","../../reducers/tick","340","341","342","343","344","doTick","TICK_PERIOD","../reducers/tick","345","346","PATCH_USER","SIGN_IN","signOut","soft","SIGN_OUT","UPDATE_AVATAR","userId","_newState","UPDATE_USERNAME","_newState2","347","REPLACE_PARTICIPANTS","348","add","BUSY_POLL","RELEASE_POLL","hydrated","REPLACE_POLL","UPDATE_POLL","REMOVE_POLL","349","updated_on","hydrateAttachment","hydrateUser","PATCH_POST","350","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","APPEND_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","351","LOAD_DETAILS","352","HYDRATE_PROFILE","PATCH_PROFILE","hydrateStatus","353","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","354","itemsIds","SELECT_ALL","items","SELECT_NONE","itemId","SELECT_ITEM","../utils/sets","355","showSnackbar","SHOW_SNACKBAR","messageType","hideSnackbar","HIDE_SNACKBAR","356","started_on","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","357","sorting","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","sort","SORT_THREADS","getThreadModerationOptions","thread_acl","MODERATION_PERMISSIONS","perm","hydrateThread","mergedState","_concatUnique2","itemCategory","lft","rght","patchedState","_concatUnique","../utils/concat-unique","358","TICK","359","changedBy","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","hydrateNamechange","namechange","unshift","floor","now","360","APPEND_USERS","HYDRATE_USERS","361","Ajax","_cookieName","_csrfToken","_locks","cookieName","cookie","cookieRegex","RegExp","match","resolve","reject","xhr","headers","X-CSRFToken","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","ajax","lock","param","waiter","wait","request","processData","XMLHttpRequest","evt","lengthComputable","total","362","Auth","local","modal","_local","syncSession","watchState","watch","363","Captcha","ReCaptcha","ReCaptchaComponent","QACaptcha","NoCaptcha","BaseCaptcha","include","_BaseCaptcha","_BaseCaptcha2","kwargs","grecaptcha","sitekey","siteKey","binding","_BaseCaptcha3","recaptcha_site_key","captcha_type","../components/form-group","364","Include","staticUrl","_staticUrl","_included","script","remote","cache","365","storage","localStorage","LocalStorage","prefix","_prefix","_watchers","newValueJson","parse","watcher","oldValue","setItem","itemString","getItem","366","MobileNavbarDropdown","_element","_component","addClass","removeClass","../utils/mount-component","367","unmountComponentAtNode","368","parseYoutubeUrl","cleanedUrl","cleanUrl","video","getVideoIdFromUrl","timebit","bits","parseInt","ytRegExp","OneBox","domnode","highlightCode","embedYoutubePlayers","_youtube","codeblocks","querySelectorAll","hljs","highlightBlock","anchors","onlyChild","childNodes","youtubeMovie","swapYoutubePlayer","youtube","player","replaceWith","wrap","369","PageTitle","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","370","Polls","poolServer","_stopped","timeout","pollId","371","Posting","_isOpen","_isClosing","_placeholder","_mode","_realOpen","changeForm","animate","scrollTop","../components/poll","../components/posting","372","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","alert","../reducers/snackbar","373","StoreWrapper","_redux","_reducers","_initialState","reducer","createStore","combineReducers","redux","374","Zxcvbn","_isLoaded","zxcvbn","_loadedPromise","_loadingPromise","tries","375","changeState","Provider","getStore","RedrawedBannedPage","history","pushState","../components/banned-page","376","rowWidth","padding","377","378","_callback","_count","379","m","&","<",">","\"","'","380","roundSize","toFixed","bytes","381","str","URL_PATTERN","test","382","rootElementId","connected","rootElement","finalComponent","383","OrderedList","isOrdered","_items","order","values","values_only","_order","unordered","insertItem","insertAt","ordering","ordered","splice","iterations","384","int","min","max","array","385","scrollTo","386","childRoutes","onEnter","replaceState","Router","browserHistory","387","388","string","subString","389","EMAIL","returnMessage","lengthMin","lengthMax","USERNAME"],"mappings":"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","file":"misago.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar RegisterLegalFootnote = function RegisterLegalFootnote() {\n  if (!_2.default.get('TERMS_OF_SERVICE_URL')) return null;\n\n  return _react2.default.createElement(\n    'p',\n    { className: 'legal-footnote' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'info_outline'\n    ),\n    _react2.default.createElement(\n      'a',\n      {\n        href: _2.default.get('TERMS_OF_SERVICE_URL'),\n        target: '_blank'\n      },\n      gettext(\"By registering you agree to site's terms and conditions.\")\n    )\n  );\n};\n\nexports.default = RegisterLegalFootnote;\n\n},{\"..\":299,\"react\":\"react\"}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar StartSocialAuth = function StartSocialAuth(props) {\n  var buttonClassName = props.buttonClassName,\n      buttonLabel = props.buttonLabel,\n      formLabel = props.formLabel,\n      header = props.header,\n      labelClassName = props.labelClassName;\n\n  var socialAuth = _2.default.get('SETTINGS').SOCIAL_AUTH;\n\n  if (socialAuth.length === 0) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'form-group form-social-auth' },\n    _react2.default.createElement(FormHeader, { className: labelClassName, text: header }),\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      socialAuth.map(function (_ref) {\n        var id = _ref.id,\n            name = _ref.name,\n            url = _ref.url;\n\n        var className = 'btn btn-block btn-default btn-social-' + id;\n        var finalButtonLabel = interpolate(buttonLabel, { site: name }, true);\n\n        return _react2.default.createElement(\n          'div',\n          { className: buttonClassName || 'col-xs-12', key: id },\n          _react2.default.createElement(\n            'a',\n            { className: className, href: url },\n            finalButtonLabel\n          )\n        );\n      })\n    ),\n    _react2.default.createElement('hr', null),\n    _react2.default.createElement(FormHeader, { className: labelClassName, text: formLabel })\n  );\n};\n\nvar FormHeader = function FormHeader(_ref2) {\n  var className = _ref2.className,\n      text = _ref2.text;\n\n  if (!text) return null;\n  return _react2.default.createElement(\n    'h5',\n    { className: className || \"\" },\n    text\n  );\n};\n\nexports.default = StartSocialAuth;\n\n},{\"..\":299,\"react\":\"react\"}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalHeader = ModalHeader;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('./form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _participants = require('../reducers/participants');\n\nvar participants = _interopRequireWildcard(_participants);\n\nvar _thread = require('../reducers/thread');\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onUsernameChange = function (event) {\n      _this.changeValue('username', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      username: ''\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.username.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter user name.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'add', path: 'participants', value: this.state.username }, { op: 'add', path: 'acl', value: 1 }]);\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(data) {\n      _store2.default.dispatch((0, _thread.updateAcl)(data));\n      _store2.default.dispatch(participants.replace(data.participants));\n\n      _snackbar2.default.success(gettext(\"New participant has been added to thread.\"));\n\n      _modal2.default.hide();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-sm', role: 'document' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-content' },\n            _react2.default.createElement(ModalHeader, null),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                { 'for': 'id_username', label: gettext(\"User to add\") },\n                _react2.default.createElement('input', {\n                  id: 'id_username',\n                  className: 'form-control',\n                  disabled: this.state.isLoading,\n                  onChange: this.onUsernameChange,\n                  type: 'text',\n                  value: this.state.username\n                })\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-block btn-primary',\n                  disabled: this.state.isLoading\n                },\n                gettext(\"Add participant\")\n              ),\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-block btn-default',\n                  'data-dismiss': 'modal',\n                  disabled: this.state.isLoading,\n                  type: 'button'\n                },\n                gettext(\"Cancel\")\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction ModalHeader(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-header' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-label': gettext(\"Close\"),\n        className: 'close',\n        'data-dismiss': 'modal',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { 'aria-hidden': 'true' },\n        '\\xD7'\n      )\n    ),\n    _react2.default.createElement(\n      'h4',\n      { className: 'modal-title' },\n      gettext(\"Add participant\")\n    )\n  );\n}\n\n},{\"../reducers/participants\":347,\"../reducers/thread\":356,\"../services/ajax\":361,\"../services/modal\":367,\"../services/snackbar\":372,\"../services/store\":373,\"./form\":54,\"./form-group\":53,\"react\":\"react\"}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"refresh\",\n    value: function refresh() {\n      window.location.reload();\n    }\n  }, {\n    key: \"getMessage\",\n    value: function getMessage() {\n      if (this.props.signedIn) {\n        return interpolate(gettext(\"You have signed in as %(username)s. Please refresh the page before continuing.\"), { username: this.props.signedIn.username }, true);\n      } else if (this.props.signedOut) {\n        return interpolate(gettext(\"%(username)s, you have been signed out. Please refresh the page before continuing.\"), { username: this.props.user.username }, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      var className = 'auth-message';\n      if (this.props.signedIn || this.props.signedOut) {\n        className += ' show';\n      }\n\n      return _react2.default.createElement(\n        \"div\",\n        { className: className },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"container\" },\n          _react2.default.createElement(\n            \"p\",\n            { className: \"lead\" },\n            this.getMessage()\n          ),\n          _react2.default.createElement(\n            \"p\",\n            null,\n            _react2.default.createElement(\n              \"button\",\n              {\n                className: \"btn btn-default\",\n                type: \"button\",\n                onClick: this.refresh\n              },\n              gettext(\"Reload page\")\n            ),\n            _react2.default.createElement(\n              \"span\",\n              { className: \"hidden-xs hidden-sm\" },\n              ' ' + gettext(\"or press F5 key.\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut\n  };\n}\n\n},{\"react\":\"react\"}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var size = props.size || 100;\n  var size2x = props.size2x || size;\n\n  return _react2.default.createElement('img', {\n    alt: '',\n    className: props.className || 'user-avatar',\n    src: getSrc(props.user, size),\n    srcSet: getSrc(props.user, size2x),\n    width: size,\n    height: size\n  });\n};\n\nexports.getSrc = getSrc;\nexports.resolveAvatarForSize = resolveAvatarForSize;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url;\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return _2.default.get('BLANK_AVATAR_URL');\n  }\n} /* jshint ignore:start */\nfunction resolveAvatarForSize(avatars, size) {\n  var avatar = avatars[0];\n  avatars.forEach(function (av) {\n    if (av.size >= size) {\n      avatar = av;\n    }\n  });\n  return avatar;\n}\n\n},{\"..\":299,\"react\":\"react\"}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getReasonMessage',\n    value: function getReasonMessage() {\n      /* jshint ignore:start */\n      if (this.props.message.html) {\n        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {\n            __html: this.props.message.html\n          } });\n      } else {\n        return _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          this.props.message.plain\n        );\n      }\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getExpirationMessage',\n    value: function getExpirationMessage() {\n      if (this.props.expires) {\n        if (this.props.expires.isAfter((0, _moment2.default)())) {\n          /* jshint ignore:start */\n          var title = interpolate(gettext(\"This ban expires on %(expires_on)s.\"), {\n            'expires_on': this.props.expires.format('LL, LT')\n          }, true);\n\n          var message = interpolate(gettext(\"This ban expires %(expires_on)s.\"), {\n            'expires_on': this.props.expires.fromNow()\n          }, true);\n\n          return _react2.default.createElement(\n            'abbr',\n            { title: title },\n            message\n          );\n          /* jshint ignore:end */\n        } else {\n          return gettext(\"This ban has expired.\");\n        }\n      } else {\n        return gettext(\"This ban is permanent.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-error page-error-banned' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'highlight_off'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              this.getReasonMessage(),\n              _react2.default.createElement(\n                'p',\n                { className: 'message-footnote' },\n                this.getExpirationMessage()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"moment\":\"moment\",\"react\":\"react\"}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function render() {\n      var className = 'btn ' + this.props.className;\n      var disabled = this.props.disabled;\n\n      if (this.props.loading) {\n        className += ' btn-loading';\n        disabled = true;\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        {\n          className: className,\n          disabled: disabled,\n          onClick: this.props.onClick,\n          type: this.props.onClick ? 'button' : 'submit'\n        },\n        this.props.children,\n        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Button;\n}(_react2.default.Component);\n\nexports.default = Button;\n\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null\n};\n\n},{\"./loader\":56,\"react\":\"react\"}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"categories-list\" },\n    _react2.default.createElement(\n      \"ul\",\n      { className: \"list-group\" },\n      _react2.default.createElement(\n        \"li\",\n        { className: \"list-group-item empty-message\" },\n        _react2.default.createElement(\n          \"p\",\n          { className: \"lead\" },\n          gettext(\"No categories exist or you don't have permission to see them.\")\n        )\n      )\n    )\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var categories = _ref.categories;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'categories-list' },\n    categories.map(function (category) {\n      return _react2.default.createElement(_category2.default, {\n        category: category,\n        key: category.id\n      });\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _category = require('./category');\n\nvar _category2 = _interopRequireDefault(_category);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./category\":10,\"react\":\"react\"}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  var className = 'list-group list-group-category';\n  if (category.css_class) {\n    className += ' list-group-category-has-flavor';\n    className += ' list-group-category-' + category.css_class;\n  }\n\n  return _react2.default.createElement(\n    'ul',\n    { className: className },\n    _react2.default.createElement(_listItem2.default, {\n      category: category,\n      isFirst: true\n    }),\n    category.subcategories.map(function (category) {\n      return _react2.default.createElement(_listItem2.default, {\n        category: category,\n        isFirst: false,\n        key: category.id\n      });\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listItem = require('./list-item');\n\nvar _listItem2 = _interopRequireDefault(_listItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./list-item\":13,\"react\":\"react\"}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  if (!category.description) return null;\n\n  return _react2.default.createElement(\"div\", {\n    className: \"category-description\",\n    dangerouslySetInnerHTML: {\n      __html: category.description.html\n    }\n  });\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  return _react2.default.createElement(\n    'div',\n    {\n      className: getClassName(category),\n      title: getTitle(category)\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      getIcon(category)\n    )\n  );\n};\n\nexports.getClassName = getClassName;\nexports.getTitle = getTitle;\nexports.getIcon = getIcon;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction getClassName(category) {\n  if (category.is_read) {\n    return 'read-status item-read';\n  }\n\n  return 'read-status item-new';\n}\n\nfunction getTitle(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return gettext(\"This category has no new posts. (closed)\");\n    }\n\n    return gettext(\"This category has new posts. (closed)\");\n  }\n\n  if (category.is_read) {\n    return gettext(\"This category has no new posts.\");\n  }\n\n  return gettext(\"This category has new posts.\");\n}\n\nfunction getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return 'lock_outline';\n    }\n\n    return 'lock';\n  }\n\n  if (category.is_read) {\n    return 'chat_bubble_outline';\n  }\n\n  return 'chat_bubble';\n}\n\n},{\"react\":\"react\"}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category,\n      isFirst = _ref.isFirst;\n\n  var className = 'list-group-item';\n\n  if (category.description) {\n    className += ' list-group-category-has-description';\n  } else {\n    className += ' list-group-category-no-description';\n  }\n\n  if (isFirst) {\n    className += ' list-group-item-first';\n  }\n  if (category.css_class) {\n    className += ' list-group-category-has-flavor';\n    className += ' list-group-item-category-' + category.css_class;\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      _react2.default.createElement(_main2.default, { category: category }),\n      _react2.default.createElement(_stats2.default, { category: category }),\n      _react2.default.createElement(_lastThread2.default, { category: category })\n    ),\n    _react2.default.createElement(_subcategories2.default, {\n      category: category,\n      isFirst: isFirst\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _main = require('./main');\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _lastThread = require('./last-thread');\n\nvar _lastThread2 = _interopRequireDefault(_lastThread);\n\nvar _stats = require('./stats');\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _subcategories = require('./subcategories');\n\nvar _subcategories2 = _interopRequireDefault(_subcategories);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./last-thread\":14,\"./main\":15,\"./stats\":16,\"./subcategories\":17,\"react\":\"react\"}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-6 col-md-4 category-last-thread' },\n    _react2.default.createElement(LastThread, { category: category }),\n    _react2.default.createElement(Empty, { category: category }),\n    _react2.default.createElement(Private, { category: category }),\n    _react2.default.createElement(Protected, { category: category })\n  );\n};\n\nexports.LastThread = LastThread;\nexports.LastPosterAvatar = LastPosterAvatar;\nexports.LastPosterName = LastPosterName;\nexports.Empty = Empty;\nexports.Private = Private;\nexports.Protected = Protected;\nexports.Message = Message;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction LastThread(_ref2) {\n  var category = _ref2.category;\n\n  if (!category.acl.can_browse) return null;\n  if (!category.acl.can_see_all_threads) return null;\n  if (!category.last_thread_title) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'media' },\n    _react2.default.createElement(\n      'div',\n      { className: 'media-left hidden-xs' },\n      _react2.default.createElement(LastPosterAvatar, { category: category })\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'media-body' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-heading' },\n        _react2.default.createElement(\n          'a',\n          {\n            className: 'item-title thread-title',\n            href: category.url.last_thread_new,\n            title: category.last_thread_title\n          },\n          category.last_thread_title\n        )\n      ),\n      _react2.default.createElement(\n        'ul',\n        { className: 'list-inline' },\n        _react2.default.createElement(\n          'li',\n          { className: 'category-last-thread-poster' },\n          _react2.default.createElement(LastPosterName, { category: category })\n        ),\n        _react2.default.createElement(\n          'li',\n          { className: 'divider' },\n          '\\u2014'\n        ),\n        _react2.default.createElement(\n          'li',\n          { className: 'category-last-thread-date' },\n          _react2.default.createElement(\n            'a',\n            { href: category.url.last_post },\n            category.last_post_on.fromNow()\n          )\n        )\n      )\n    )\n  );\n} // jshint ignore:start\nfunction LastPosterAvatar(_ref3) {\n  var category = _ref3.category;\n\n  if (category.last_poster) {\n    return _react2.default.createElement(\n      'a',\n      {\n        className: 'last-poster-avatar',\n        href: category.last_poster.url,\n        title: category.last_poster_name\n      },\n      _react2.default.createElement(_avatar2.default, {\n        className: 'media-object',\n        size: 40,\n        user: category.last_poster\n      })\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    {\n      className: 'last-poster-avatar',\n      title: category.last_poster_name\n    },\n    _react2.default.createElement(_avatar2.default, {\n      className: 'media-object',\n      size: 40\n    })\n  );\n}\n\nfunction LastPosterName(_ref4) {\n  var category = _ref4.category;\n\n  if (category.last_poster) {\n    return _react2.default.createElement(\n      'a',\n      {\n        className: 'item-title',\n        href: category.last_poster.url\n      },\n      category.last_poster_name\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'item-title' },\n    category.last_poster_name\n  );\n}\n\nfunction Empty(_ref5) {\n  var category = _ref5.category;\n\n  if (!category.acl.can_browse) return null;\n  if (!category.acl.can_see_all_threads) return null;\n  if (category.last_thread_title) return null;\n\n  return _react2.default.createElement(Message, {\n    message: gettext(\"This category is empty. No threads were posted within it so far.\")\n  });\n}\n\nfunction Private(_ref6) {\n  var category = _ref6.category;\n\n  if (!category.acl.can_browse) return null;\n  if (category.acl.can_see_all_threads) return null;\n\n  return _react2.default.createElement(Message, {\n    message: gettext(\"This category is private. You can see only your own threads within it.\")\n  });\n}\n\nfunction Protected(_ref7) {\n  var category = _ref7.category;\n\n  if (category.acl.can_browse) return null;\n\n  return _react2.default.createElement(Message, {\n    message: gettext(\"This category is protected. You can't browse it's contents.\")\n  });\n}\n\nfunction Message(_ref8) {\n  var message = _ref8.message;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'media category-thread-message' },\n    _react2.default.createElement(\n      'div',\n      { className: 'media-left' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'info_outline'\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'media-body' },\n      _react2.default.createElement(\n        'p',\n        null,\n        message\n      )\n    )\n  );\n}\n\n},{\"../../../avatar\":5,\"react\":\"react\"}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-6 col-md-6 category-main' },\n    _react2.default.createElement(\n      'div',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(_icon2.default, { category: category })\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'h4',\n          { className: 'media-heading' },\n          _react2.default.createElement(\n            'a',\n            { href: category.url.index },\n            category.name\n          )\n        ),\n        _react2.default.createElement(_description2.default, { category: category })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _description = require('./description');\n\nvar _description2 = _interopRequireDefault(_description);\n\nvar _icon = require('./icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./description\":11,\"./icon\":12,\"react\":\"react\"}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-md-2 hidden-xs hidden-sm' },\n    _react2.default.createElement(\n      'ul',\n      { className: 'list-unstyled category-stats' },\n      _react2.default.createElement(Threads, { threads: category.threads }),\n      _react2.default.createElement(Posts, { posts: category.posts })\n    )\n  );\n};\n\nexports.Threads = Threads;\nexports.Posts = Posts;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Threads(_ref2) {\n  var threads = _ref2.threads;\n\n  var message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", threads);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'category-stat-threads' },\n    interpolate(message, {\n      'threads': threads\n    }, true)\n  );\n} // jshint ignore:start\nfunction Posts(_ref3) {\n  var posts = _ref3.posts;\n\n  var message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", posts);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'category-stat-posts' },\n    interpolate(message, {\n      'posts': posts\n    }, true)\n  );\n}\n\n},{\"../../../avatar\":5,\"react\":\"react\"}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category,\n      isFirst = _ref.isFirst;\n\n  if (isFirst) return null;\n  if (category.subcategories.length === 0) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'row subcategories-list' },\n    category.subcategories.map(function (category) {\n      return _react2.default.createElement(_listItem2.default, {\n        category: category,\n        key: category.id\n      });\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listItem = require('./list-item');\n\nvar _listItem2 = _interopRequireDefault(_listItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./list-item\":18,\"react\":\"react\"}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category;\n\n  var className = 'btn btn-default btn-block btn-sm btn-subcategory';\n  if (!category.is_read) {\n    className += ' btn-subcategory-new';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-4 col-md-3' },\n    _react2.default.createElement(\n      'a',\n      {\n        className: className,\n        href: category.url.index\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        getIcon(category)\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-text' },\n        category.name\n      )\n    )\n  );\n};\n\nexports.getIcon = getIcon;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return 'lock_outline';\n    }\n\n    return 'lock';\n  }\n\n  if (category.is_read) {\n    return 'chat_bubble_outline';\n  }\n\n  return 'chat_bubble';\n}\n\n},{\"react\":\"react\"}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _blankslate = require('./blankslate');\n\nvar _blankslate2 = _interopRequireDefault(_blankslate);\n\nvar _categoriesList = require('./categories-list');\n\nvar _categoriesList2 = _interopRequireDefault(_categoriesList);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _polls = require('../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar hydrate = function hydrate(category) {\n  return Object.assign({}, category, {\n    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,\n    subcategories: category.subcategories.map(hydrate)\n  });\n};\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.update = function (data) {\n      _this.setState({\n        categories: data.map(hydrate)\n      });\n    };\n\n    _this.state = {\n      categories: _index2.default.get('CATEGORIES').map(hydrate)\n    };\n\n    _this.startPolling(_index2.default.get('CATEGORIES_API'));\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'startPolling',\n    value: function startPolling(api) {\n      _polls2.default.start({\n        poll: 'categories',\n        url: api,\n        frequency: 180 * 1000,\n        update: this.update\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var categories = this.state.categories;\n\n\n      if (categories.length === 0) {\n        return _react2.default.createElement(_blankslate2.default, null);\n      }\n\n      return _react2.default.createElement(_categoriesList2.default, { categories: categories });\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction select(store) {\n  return {\n    'tick': store.tick.tick\n  };\n}\n\n},{\"../../index\":299,\"../../services/polls\":370,\"./blankslate\":8,\"./categories-list\":9,\"moment\":\"moment\",\"react\":\"react\"}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'select',\n    {\n      className: props.className || 'form-control',\n      disabled: props.disabled || false,\n      id: props.id || null,\n      onChange: props.onChange,\n      value: props.value\n    },\n    props.choices.map(function (item) {\n      return _react2.default.createElement(\n        'option',\n        {\n          disabled: item.disabled || false,\n          key: item.value,\n          value: item.value\n        },\n        '- - '.repeat(item.level) + item.label\n      );\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.cropAvatar = function () {\n      if (_this.state.isLoading) {\n        return false;\n      }\n\n      _this.setState({\n        'isLoading': true\n      });\n\n      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_src';\n      var cropit = $('.crop-form');\n\n      var deviceRatio = cropit.cropit('exportZoom');\n      var cropitOffset = cropit.cropit('offset');\n\n      _ajax2.default.post(_this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio\n          },\n          zoom: cropit.cropit('zoom') * deviceRatio\n        }\n      }).then(function (data) {\n        _this.props.onComplete(data);\n        _snackbar2.default.success(data.detail);\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this.setState({\n            isLoading: false\n          });\n        } else {\n          _this.props.showError(rejection);\n        }\n      });\n    };\n\n    _this.state = {\n      isLoading: false,\n      deviceRatio: 1\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getAvatarSize',\n    value: function getAvatarSize() {\n      if (this.props.upload) {\n        return this.props.options.crop_tmp.size;\n      } else {\n        return this.props.options.crop_src.size;\n      }\n    }\n  }, {\n    key: 'getImagePath',\n    value: function getImagePath() {\n      if (this.props.upload) {\n        return this.props.dataUrl;\n      } else {\n        return this.props.options.crop_src.url;\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var cropit = $('.crop-form');\n      var cropperWidth = this.getAvatarSize();\n\n      var initialWidth = cropit.width();\n      while (initialWidth < cropperWidth) {\n        cropperWidth = cropperWidth / 2;\n      }\n\n      var deviceRatio = this.getAvatarSize() / cropperWidth;\n\n      cropit.width(cropperWidth);\n\n      cropit.cropit({\n        width: cropperWidth,\n        height: cropperWidth,\n        exportZoom: deviceRatio,\n        imageState: {\n          src: this.getImagePath()\n        },\n        onImageLoaded: function onImageLoaded() {\n          if (_this2.props.upload) {\n            // center uploaded image\n            var zoomLevel = cropit.cropit('zoom');\n            var imageSize = cropit.cropit('imageSize');\n\n            // is it wider than taller?\n            if (imageSize.width > imageSize.height) {\n              var displayedWidth = imageSize.width * zoomLevel;\n              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;\n\n              cropit.cropit('offset', {\n                x: offsetX,\n                y: 0\n              });\n            } else if (imageSize.width < imageSize.height) {\n              var displayedHeight = imageSize.height * zoomLevel;\n              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;\n\n              cropit.cropit('offset', {\n                x: 0,\n                y: offsetY\n              });\n            } else {\n              cropit.cropit('offset', {\n                x: 0,\n                y: 0\n              });\n            }\n          } else {\n            // use preserved crop\n            var crop = _this2.props.options.crop_src.crop;\n\n            if (crop) {\n              cropit.cropit('zoom', crop.zoom);\n              cropit.cropit('offset', {\n                x: crop.x,\n                y: crop.y\n              });\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      $('.crop-form').cropit('disable');\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body modal-avatar-crop' },\n          _react2.default.createElement(\n            'div',\n            { className: 'crop-form' },\n            _react2.default.createElement('div', { className: 'cropit-preview' }),\n            _react2.default.createElement('input', {\n              type: 'range',\n              className: 'cropit-image-zoom-input'\n            })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-6 col-md-offset-3' },\n            _react2.default.createElement(\n              _button2.default,\n              {\n                onClick: this.cropAvatar,\n                loading: this.state.isLoading,\n                className: 'btn-primary btn-block'\n              },\n              this.props.upload ? gettext(\"Set avatar\") : gettext(\"Crop image\")\n            ),\n            _react2.default.createElement(\n              _button2.default,\n              {\n                onClick: this.props.showIndex,\n                disabled: this.state.isLoading,\n                className: 'btn-default btn-block'\n              },\n              gettext(\"Cancel\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../avatar\":5,\"../button\":7,\"react\":\"react\"}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gallery = exports.GalleryItem = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _batch = require('../../utils/batch');\n\nvar _batch2 = _interopRequireDefault(_batch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar GalleryItem = exports.GalleryItem = function (_React$Component) {\n  _inherits(GalleryItem, _React$Component);\n\n  function GalleryItem() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, GalleryItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {\n      _this.props.select(_this.props.id);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(GalleryItem, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      if (this.props.selection === this.props.id) {\n        if (this.props.disabled) {\n          return 'btn btn-avatar btn-disabled avatar-selected';\n        } else {\n          return 'btn btn-avatar avatar-selected';\n        }\n      } else if (this.props.disabled) {\n        return 'btn btn-avatar btn-disabled';\n      } else {\n        return 'btn btn-avatar';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        {\n          type: 'button',\n          className: this.getClassName(),\n          disabled: this.props.disabled,\n          onClick: this.select\n        },\n        _react2.default.createElement('img', { src: this.props.url })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GalleryItem;\n}(_react2.default.Component);\n\nvar Gallery = exports.Gallery = function (_React$Component2) {\n  _inherits(Gallery, _React$Component2);\n\n  function Gallery() {\n    _classCallCheck(this, Gallery);\n\n    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));\n  }\n\n  _createClass(Gallery, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'avatars-gallery' },\n        _react2.default.createElement(\n          'h3',\n          null,\n          this.props.name\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'avatars-gallery-images' },\n          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {\n            return _react2.default.createElement(\n              'div',\n              { className: 'row', key: i },\n              row.map(function (item, i) {\n                return _react2.default.createElement(\n                  'div',\n                  { className: 'col-xs-3', key: i },\n                  item ? _react2.default.createElement(GalleryItem, _extends({\n                    disabled: _this3.props.disabled,\n                    select: _this3.props.select,\n                    selection: _this3.props.selection\n                  }, item)) : _react2.default.createElement('div', { className: 'blank-avatar' })\n                );\n              })\n            );\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Gallery;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component3) {\n  _inherits(_class, _React$Component3);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this4.select = function (image) {\n      _this4.setState({\n        selection: image\n      });\n    };\n\n    _this4.save = function () {\n      if (_this4.state.isLoading) {\n        return false;\n      }\n\n      _this4.setState({\n        'isLoading': true\n      });\n\n      _ajax2.default.post(_this4.props.user.api.avatar, {\n        avatar: 'galleries',\n        image: _this4.state.selection\n      }).then(function (response) {\n        _this4.setState({\n          'isLoading': false\n        });\n\n        _snackbar2.default.success(response.detail);\n        _this4.props.onComplete(response);\n        _this4.props.showIndex();\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this4.setState({\n            'isLoading': false\n          });\n        } else {\n          _this4.props.showError(rejection);\n        }\n      });\n    };\n\n    _this4.state = {\n      'selection': null,\n      'isLoading': false\n    };\n    return _this4;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      var _this5 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body modal-avatar-gallery' },\n          this.props.options.galleries.map(function (item, i) {\n            return _react2.default.createElement(Gallery, { name: item.name,\n              images: item.images,\n              selection: _this5.state.selection,\n              disabled: _this5.state.isLoading,\n              select: _this5.select,\n              key: i });\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-6 col-md-offset-3' },\n              _react2.default.createElement(\n                _button2.default,\n                { onClick: this.save,\n                  loading: this.state.isLoading,\n                  disabled: !this.state.selection,\n                  className: 'btn-primary btn-block' },\n                this.state.selection ? gettext(\"Save choice\") : gettext(\"Select avatar\")\n              ),\n              _react2.default.createElement(\n                _button2.default,\n                { onClick: this.props.showIndex,\n                  disabled: this.state.isLoading,\n                  className: 'btn-default btn-block' },\n                gettext(\"Cancel\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../index\":299,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../utils/batch\":376,\"../avatar\":5,\"../button\":7,\"react\":\"react\"}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _loader = require('../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.setGravatar = function () {\n      _this.callApi('gravatar');\n    };\n\n    _this.setGenerated = function () {\n      _this.callApi('generated');\n    };\n\n    _this.state = {\n      'isLoading': false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'callApi',\n    value: function callApi(avatarType) {\n      var _this2 = this;\n\n      if (this.state.isLoading) {\n        return false;\n      }\n\n      this.setState({\n        'isLoading': true\n      });\n\n      _ajax2.default.post(this.props.user.api.avatar, {\n        avatar: avatarType\n      }).then(function (response) {\n        _this2.setState({\n          'isLoading': false\n        });\n\n        _snackbar2.default.success(response.detail);\n        _this2.props.onComplete(response);\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n          _this2.setState({\n            'isLoading': false\n          });\n        } else {\n          _this2.props.showError(rejection);\n        }\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getGravatarButton',\n\n    /* jshint ignore:end */\n\n    value: function getGravatarButton() {\n      if (this.props.options.gravatar) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _button2.default,\n          { onClick: this.setGravatar,\n            disabled: this.state.isLoading,\n            className: 'btn-default btn-block btn-avatar-gravatar' },\n          gettext(\"Download my Gravatar\")\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getCropButton',\n    value: function getCropButton() {\n      if (!this.props.options.crop_src) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _button2.default,\n        {\n          className: 'btn-default btn-block btn-avatar-crop',\n          disabled: this.state.isLoading,\n          onClick: this.props.showCrop\n        },\n        gettext(\"Re-crop uploaded image\")\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUploadButton',\n    value: function getUploadButton() {\n      if (!this.props.options.upload) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _button2.default,\n        {\n          className: 'btn-default btn-block btn-avatar-upload',\n          disabled: this.state.isLoading,\n          onClick: this.props.showUpload\n        },\n        gettext(\"Upload new image\")\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getGalleryButton',\n    value: function getGalleryButton() {\n      if (!this.props.options.galleries) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _button2.default,\n        {\n          className: 'btn-default btn-block btn-avatar-gallery',\n          disabled: this.state.isLoading,\n          onClick: this.props.showGallery\n        },\n        gettext(\"Pick avatar from gallery\")\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getAvatarPreview',\n    value: function getAvatarPreview() {\n      /* jshint ignore:start */\n      var userPeview = {\n        id: this.props.user.id,\n        avatars: this.props.options.avatars\n        /* jshint ignore:end */\n\n      };if (this.state.isLoading) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'avatar-preview preview-loading' },\n          _react2.default.createElement(_avatar2.default, {\n            size: '200',\n            user: userPeview\n          }),\n          _react2.default.createElement(_loader2.default, null)\n        );\n        /* jshint ignore:end */\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'avatar-preview' },\n        _react2.default.createElement(_avatar2.default, {\n          size: '200',\n          user: userPeview\n        })\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-index' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-5' },\n            this.getAvatarPreview()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-7' },\n            this.getGravatarButton(),\n            _react2.default.createElement(\n              _button2.default,\n              { onClick: this.setGenerated,\n                disabled: this.state.isLoading,\n                className: 'btn-default btn-block btn-avatar-generate' },\n              gettext(\"Generate my individual avatar\")\n            ),\n            this.getCropButton(),\n            this.getUploadButton(),\n            this.getGalleryButton()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../avatar\":5,\"../button\":7,\"../loader\":56,\"react\":\"react\"}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChangeAvatarError = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('./index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _crop = require('./crop');\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _upload = require('./upload');\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _gallery = require('./gallery');\n\nvar _gallery2 = _interopRequireDefault(_gallery);\n\nvar _modalLoader = require('../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _users = require('../../reducers/users');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {\n  _inherits(ChangeAvatarError, _React$Component);\n\n  function ChangeAvatarError() {\n    _classCallCheck(this, ChangeAvatarError);\n\n    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));\n  }\n\n  _createClass(ChangeAvatarError, [{\n    key: 'getErrorReason',\n    value: function getErrorReason() {\n      if (this.props.reason) {\n        /* jshint ignore:start */\n        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'remove_circle_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.props.message\n          ),\n          this.getErrorReason(),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              type: 'button'\n            },\n            gettext(\"Ok\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ChangeAvatarError;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {\n      _this2.setState({\n        error: error\n      });\n    }, _this2.showIndex = function () {\n      _this2.setState({\n        'component': _index2.default\n      });\n    }, _this2.showUpload = function () {\n      _this2.setState({\n        'component': _upload2.default\n      });\n    }, _this2.showCrop = function () {\n      _this2.setState({\n        'component': _crop2.default\n      });\n    }, _this2.showGallery = function () {\n      _this2.setState({\n        'component': _gallery2.default\n      });\n    }, _this2.completeFlow = function (options) {\n      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, options.avatars));\n\n      _this2.setState({\n        'component': _index2.default,\n        options: options\n      });\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      _ajax2.default.get(this.props.user.api.avatar).then(function (options) {\n        _this3.setState({\n          'component': _index2.default,\n          'options': options,\n          'error': null\n        });\n      }, function (rejection) {\n        _this3.showError(rejection);\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getBody',\n\n    /* jshint ignore:end */\n\n    value: function getBody() {\n      if (this.state) {\n        if (this.state.error) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,\n            reason: this.state.error.reason });\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(this.state.component, { options: this.state.options,\n            user: this.props.user,\n            onComplete: this.completeFlow,\n            showError: this.showError,\n            showIndex: this.showIndex,\n            showCrop: this.showCrop,\n            showUpload: this.showUpload,\n            showGallery: this.showGallery });\n          /* jshint ignore:end */\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalLoader2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state && this.state.error) {\n        return \"modal-dialog modal-message modal-change-avatar\";\n      } else {\n        return \"modal-dialog modal-change-avatar\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Change your avatar\")\n            )\n          ),\n          this.getBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction select(state) {\n  return {\n    'user': state.auth.user\n  };\n}\n\n},{\"../../reducers/users\":360,\"../../services/ajax\":361,\"../../services/store\":373,\"../modal-loader\":59,\"./crop\":21,\"./gallery\":22,\"./index\":23,\"./upload\":25,\"react\":\"react\"}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _crop = require('./crop');\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _fileSize = require('../../utils/file-size');\n\nvar _fileSize2 = _interopRequireDefault(_fileSize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.pickFile = function () {\n      document.getElementById('avatar-hidden-upload').click();\n    };\n\n    _this.uploadFile = function () {\n      var image = document.getElementById('avatar-hidden-upload').files[0];\n      if (!image) return;\n\n      var validationError = _this.validateFile(image);\n      if (validationError) {\n        _snackbar2.default.error(validationError);\n        return;\n      }\n\n      _this.setState({\n        image: image,\n        preview: URL.createObjectURL(image),\n        progress: 0\n      });\n\n      var data = new FormData();\n      data.append('avatar', 'upload');\n      data.append('image', image);\n\n      _ajax2.default.upload(_this.props.user.api.avatar, data, function (progress) {\n        _this.setState({\n          progress: progress\n        });\n      }).then(function (data) {\n        _this.setState({\n          options: data,\n          uploaded: data.detail\n        });\n\n        _snackbar2.default.info(gettext(\"Your image has been uploaded and you may now crop it.\"));\n      }, function (rejection) {\n        if (rejection.status === 400 || rejection.status === 413) {\n          _snackbar2.default.error(rejection.detail);\n          _this.setState({\n            isLoading: false,\n            image: null,\n            progress: 0\n          });\n        } else {\n          _this.props.showError(rejection);\n        }\n      });\n    };\n\n    _this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'validateFile',\n    value: function validateFile(image) {\n      if (image.size > this.props.options.upload.limit) {\n        return interpolate(gettext(\"Selected file is too big. (%(filesize)s)\"), {\n          'filesize': (0, _fileSize2.default)(image.size)\n        }, true);\n      }\n\n      var invalidTypeMsg = gettext(\"Selected file type is not supported.\");\n      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {\n        return invalidTypeMsg;\n      }\n\n      var extensionFound = false;\n      var loweredFilename = image.name.toLowerCase();\n      this.props.options.upload.allowed_extensions.map(function (extension) {\n        if (loweredFilename.substr(extension.length * -1) === extension) {\n          extensionFound = true;\n        }\n      });\n\n      if (!extensionFound) {\n        return invalidTypeMsg;\n      }\n\n      return false;\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getUploadRequirements',\n\n    /* jshint ignore:end */\n\n    value: function getUploadRequirements(options) {\n      var extensions = options.allowed_extensions.map(function (extension) {\n        return extension.substr(1);\n      });\n\n      return interpolate(gettext(\"%(files)s files smaller than %(limit)s\"), {\n        'files': extensions.join(', '),\n        'limit': (0, _fileSize2.default)(options.limit)\n      }, true);\n    }\n  }, {\n    key: 'getUploadButton',\n    value: function getUploadButton() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-upload' },\n        _react2.default.createElement(\n          _button2.default,\n          {\n            className: 'btn-pick-file',\n            onClick: this.pickFile\n          },\n          _react2.default.createElement(\n            'div',\n            { className: 'material-icon' },\n            'input'\n          ),\n          gettext(\"Select file\")\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'text-muted' },\n          this.getUploadRequirements(this.props.options.upload)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUploadProgressLabel',\n    value: function getUploadProgressLabel() {\n      return interpolate(gettext(\"%(progress)s % complete\"), {\n        'progress': this.state.progress\n      }, true);\n    }\n  }, {\n    key: 'getUploadProgress',\n    value: function getUploadProgress() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-avatar-upload' },\n        _react2.default.createElement(\n          'div',\n          { className: 'upload-progress' },\n          _react2.default.createElement('img', { src: this.state.preview }),\n          _react2.default.createElement(\n            'div',\n            { className: 'progress' },\n            _react2.default.createElement(\n              'div',\n              {\n                className: 'progress-bar',\n                role: 'progressbar',\n                'aria-valuenow': '{this.state.progress}',\n                'aria-valuemin': '0',\n                'aria-valuemax': '100',\n                style: { width: this.state.progress + '%' }\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'sr-only' },\n                this.getUploadProgressLabel()\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderUpload',\n    value: function renderUpload() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement('input', {\n          type: 'file',\n          id: 'avatar-hidden-upload',\n          className: 'hidden-file-upload',\n          onChange: this.uploadFile\n        }),\n        this.state.image ? this.getUploadProgress() : this.getUploadButton(),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-md-6 col-md-offset-3' },\n            _react2.default.createElement(\n              _button2.default,\n              {\n                onClick: this.props.showIndex,\n                disabled: !!this.state.image,\n                className: 'btn-default btn-block'\n              },\n              gettext(\"Cancel\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderCrop',\n    value: function renderCrop() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(_crop2.default, {\n        options: this.state.options,\n        user: this.props.user,\n        upload: this.state.uploaded,\n        dataUrl: this.state.preview,\n        onComplete: this.props.onComplete,\n        showError: this.props.showError,\n        showIndex: this.props.showIndex\n      });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.uploaded) return this.renderCrop();\n\n      return this.renderUpload();\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../utils/file-size\":380,\"../button\":7,\"./crop\":21,\"react\":\"react\"}],26:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      if (this.props.dropdown) {\n        return \"btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg\";\n      } else {\n        return \"btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"button\",\n        { className: this.getClassName(),\n          type: \"button\",\n          onClick: this.props.toggleNav,\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": this.props.dropdown ? 'true' : 'false' },\n        _react2.default.createElement(\n          \"i\",\n          { className: \"material-icon\" },\n          \"menu\"\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var display = _ref.display;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(_panelMessage2.default, {\n    helpText: gettext(\"No profile details are editable at this time.\"),\n    message: gettext(\"This option is currently unavailable.\")\n  });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _panelMessage = require('../panel-message');\n\nvar _panelMessage2 = _interopRequireDefault(_panelMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../panel-message\":91,\"react\":\"react\"}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _select = require('../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (ev) {\n      var _this$props = _this.props,\n          field = _this$props.field,\n          onChange = _this$props.onChange;\n\n      onChange(field.fieldname, ev.target.value);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          disabled = _props.disabled,\n          field = _props.field,\n          value = _props.value;\n      var input = field.input;\n\n\n      if (input.type === 'select') {\n        return _react2.default.createElement(_select2.default, {\n          choices: input.choices,\n          disabled: disabled,\n          id: \"id_\" + field.fieldname,\n          onChange: this.onChange,\n          value: value\n        });\n      }\n\n      if (input.type === 'textarea') {\n        return _react2.default.createElement('textarea', {\n          className: 'form-control',\n          disabled: disabled,\n          id: \"id_\" + field.fieldname,\n          onChange: this.onChange,\n          rows: '4',\n          type: 'text',\n          value: value\n        });\n      }\n\n      if (input.type === 'text') {\n        return _react2.default.createElement('input', {\n          className: 'form-control',\n          disabled: disabled,\n          id: \"id_\" + field.fieldname,\n          onChange: this.onChange,\n          type: 'text',\n          value: value\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../select\":207,\"react\":\"react\"}],29:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var disabled = _ref.disabled,\n      errors = _ref.errors,\n      fields = _ref.fields,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      value = _ref.value;\n\n  return _react2.default.createElement(\n    'fieldset',\n    null,\n    _react2.default.createElement(\n      'legend',\n      null,\n      name\n    ),\n    fields.map(function (field) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        {\n          'for': \"id_\" + field.fieldname,\n          helpText: field.help_text,\n          key: field.fieldname,\n          label: field.label,\n          validation: errors[field.fieldname]\n        },\n        _react2.default.createElement(_fieldInput2.default, {\n          disabled: disabled,\n          field: field,\n          onChange: onChange,\n          value: value[field.fieldname]\n        })\n      );\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _fieldInput = require('./field-input');\n\nvar _fieldInput2 = _interopRequireDefault(_fieldInput);\n\nvar _formGroup = require('../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../form-group\":53,\"./field-input\":28,\"react\":\"react\"}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.CancelButton = CancelButton;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _fieldset = require('./fieldset');\n\nvar _fieldset2 = _interopRequireDefault(_fieldset);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onChange = function (name, value) {\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      errors: {}\n    };\n\n    var groups = props.groups.length;\n    for (var i = 0; i < groups; i++) {\n      var group = props.groups[i];\n      var fields = group.fields.length;\n      for (var f = 0; f < fields; f++) {\n        var fieldname = group.fields[f].fieldname;\n        var initial = group.fields[f].initial;\n        _this.state[fieldname] = initial;\n      }\n    }\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'send',\n    value: function send() {\n      var data = Object.assign({}, this.state, {\n        errors: null,\n        isLoading: null\n      });\n\n      return _ajax2.default.post(this.props.api, data);\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(data) {\n      this.props.onSuccess(data);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({ errors: rejection });\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-body' },\n          this.props.groups.map(function (group, i) {\n            return _react2.default.createElement(_fieldset2.default, {\n              disabled: _this2.state.isLoading,\n              errors: _this2.state.errors,\n              fields: group.fields,\n              name: group.name,\n              key: i,\n              onChange: _this2.onChange,\n              value: _this2.state\n            });\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-footer text-right' },\n          _react2.default.createElement(CancelButton, {\n            disabled: this.state.isLoading,\n            onCancel: this.props.onCancel\n          }),\n          ' ',\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary', loading: this.state.isLoading },\n            gettext(\"Save changes\")\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction CancelButton(_ref) {\n  var onCancel = _ref.onCancel,\n      disabled = _ref.disabled;\n\n  if (!onCancel) return null;\n\n  return _react2.default.createElement(\n    'button',\n    {\n      className: 'btn btn-default',\n      disabled: disabled,\n      onClick: onCancel,\n      type: 'button'\n    },\n    gettext(\"Cancel\")\n  );\n}\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../button\":7,\"../form\":54,\"./fieldset\":29,\"react\":\"react\"}],31:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.FormDisplay = FormDisplay;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _blankslate = require('./blankslate');\n\nvar _blankslate2 = _interopRequireDefault(_blankslate);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      loading: true,\n      groups: null\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.api).then(function (groups) {\n        _this2.setState({\n          loading: false,\n\n          groups: groups\n        });\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n        if (_this2.props.cancel) {\n          _this2.props.cancel();\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          groups = _state.groups,\n          loading = _state.loading;\n\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'panel panel-default panel-form' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-heading' },\n          _react2.default.createElement(\n            'h3',\n            { className: 'panel-title' },\n            gettext(\"Edit details\")\n          )\n        ),\n        _react2.default.createElement(_loader2.default, { display: loading }),\n        _react2.default.createElement(_blankslate2.default, { display: !loading && !groups.length }),\n        _react2.default.createElement(FormDisplay, {\n          api: this.props.api,\n          display: !loading && groups.length,\n          groups: groups,\n          onCancel: this.props.onCancel,\n          onSuccess: this.props.onSuccess\n        })\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction FormDisplay(_ref) {\n  var api = _ref.api,\n      display = _ref.display,\n      groups = _ref.groups,\n      onCancel = _ref.onCancel,\n      onSuccess = _ref.onSuccess;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(_form2.default, {\n    api: api,\n    groups: groups,\n    onCancel: onCancel,\n    onSuccess: onSuccess\n  });\n}\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"./blankslate\":27,\"./form\":30,\"./loader\":32,\"react\":\"react\"}],32:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var display = _ref.display;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel-body' },\n    _react2.default.createElement(_loader2.default, null)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../loader\":56,\"react\":\"react\"}],33:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _this.props.replaceSelection(_this.props.execAction);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'btn btn-icon ' + this.props.className,\n          disabled: this.props.disabled,\n          onClick: this.onClick,\n          title: this.props.title,\n          type: 'button'\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],34:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: insertCode,\n      title: gettext(\"Insert code\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'functions'\n    )\n  );\n};\n\nexports.insertCode = insertCode;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _isUrl = require('../../../utils/is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction insertCode(selection, replace) {\n  var syntax = $.trim(prompt(gettext(\"Enter name of syntax of your code (optional)\") + ':'));\n  replace(\"\\n\\n```\" + syntax + '\\n' + selection + \"\\n```\\n\\n\");\n}\n\n},{\"../../../utils/is-url\":381,\"./action\":33,\"react\":\"react\"}],35:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: makeEmphasis,\n      title: gettext(\"Emphase selection\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'format_italic'\n    )\n  );\n};\n\nexports.makeEmphasis = makeEmphasis;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEmphasis(selection, replace) {\n  if (selection.length) {\n    replace('*' + selection + '*');\n  }\n}\n\n},{\"./action\":33,\"react\":\"react\"}],36:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: insertHr,\n      title: gettext(\"Insert horizontal ruler\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'remove'\n    )\n  );\n};\n\nexports.insertHr = insertHr;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction insertHr(selection, replace) {\n  replace('\\n\\n- - - - -\\n\\n');\n}\n\n},{\"./action\":33,\"react\":\"react\"}],37:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: insertImage,\n      title: gettext(\"Insert image\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'insert_photo'\n    )\n  );\n};\n\nexports.insertImage = insertImage;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _isUrl = require('../../../utils/is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction insertImage(selection, replace) {\n  var url = '';\n  var label = '';\n\n  if (selection.length) {\n    if ((0, _isUrl2.default)(selection)) {\n      url = selection;\n    } else {\n      label = selection;\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link to image\") + ':', url));\n  label = $.trim(prompt(gettext(\"Enter image label (optional)\") + ':', label));\n\n  if (url.length) {\n    if (label.length > 0) {\n      replace('![' + label + '](' + url + ')');\n    } else {\n      replace('!(' + url + ')');\n    }\n  }\n}\n\n},{\"../../../utils/is-url\":381,\"./action\":33,\"react\":\"react\"}],38:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: insertLink,\n      title: gettext(\"Insert link\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'insert_link'\n    )\n  );\n};\n\nexports.insertLink = insertLink;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _isUrl = require('../../../utils/is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction insertLink(selection, replace) {\n  var url = '';\n  var label = '';\n\n  if (selection.length) {\n    if ((0, _isUrl2.default)(selection)) {\n      url = selection;\n    } else {\n      label = selection;\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link address\") + ':', url) || '');\n  if (url.length === 0) return false;\n  label = $.trim(prompt(gettext(\"Enter link label (optional)\") + ':', label));\n\n  if (url.length) {\n    if (label.length > 0) {\n      replace('[' + label + '](' + url + ')');\n    } else {\n      replace(url);\n    }\n  }\n}\n\n},{\"../../../utils/is-url\":381,\"./action\":33,\"react\":\"react\"}],39:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: insertQuote,\n      title: gettext(\"Insert quote\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'format_quote'\n    )\n  );\n};\n\nexports.insertQuote = insertQuote;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _isUrl = require('../../../utils/is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction insertQuote(selection, replace) {\n  var title = $.trim(prompt(gettext(\"Enter quote autor, prefix usernames with @\") + ':', title));\n\n  if (title) {\n    replace('\\n\\n[quote=\"' + title + '\"]\\n' + selection + '\\n[/quote]\\n\\n');\n  } else {\n    replace('\\n\\n[quote]\\n' + selection + '\\n[/quote]\\n\\n');\n  }\n}\n\n},{\"../../../utils/is-url\":381,\"./action\":33,\"react\":\"react\"}],40:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: makeStriketrough,\n      title: gettext(\"Striketrough selection\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'format_strikethrough'\n    )\n  );\n};\n\nexports.makeStriketrough = makeStriketrough;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeStriketrough(selection, replace) {\n  if (selection.length) {\n    replace('~~' + selection + '~~');\n  }\n}\n\n},{\"./action\":33,\"react\":\"react\"}],41:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _action2.default,\n    _extends({\n      execAction: makeStrong,\n      title: gettext(\"Bolder selection\")\n    }, props),\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'format_bold'\n    )\n  );\n};\n\nexports.makeStrong = makeStrong;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _action = require('./action');\n\nvar _action2 = _interopRequireDefault(_action);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeStrong(selection, replace) {\n  if (selection.length) {\n    replace('**' + selection + '**');\n  }\n}\n\n},{\"./action\":33,\"react\":\"react\"}],42:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Preview = Preview;\nexports.Image = Image;\nexports.Icon = Icon;\nexports.Filename = Filename;\nexports.Details = Details;\nexports.Actions = Actions;\nexports.Insert = Insert;\nexports.Remove = Remove;\nexports.Undo = Undo;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('../../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _escapeHtml = require('../../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nvar _fileSize = require('../../../../utils/file-size');\n\nvar _fileSize2 = _interopRequireDefault(_fileSize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onInsert = function () {\n      _this.props.replaceSelection(_this.insertAttachment);\n    }, _this.insertAttachment = function (selection, replace) {\n      var item = _this.props.item;\n\n      if (item.is_image) {\n        if (item.url.thumb) {\n          replace('[![' + item.filename + '](' + item.url.thumb + ')](' + item.url.index + ')');\n        } else {\n          replace('[![' + item.filename + '](' + item.url.index + ')](' + item.url.index + ')');\n        }\n      } else {\n        replace('[' + item.filename + '](' + item.url.index + ')');\n      }\n    }, _this.onRemove = function () {\n      _this.updateItem({\n        isRemoved: true\n      });\n    }, _this.onUndo = function () {\n      _this.updateItem({\n        isRemoved: false\n      });\n    }, _this.updateItem = function (newState) {\n      var updatedAttachments = _this.props.attachments.map(function (item) {\n        if (item.id === _this.props.item.id) {\n          return Object.assign({}, item, newState);\n        } else {\n          return item;\n        }\n      });\n      _this.props.onAttachmentsChange(updatedAttachments);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        { className: 'editor-attachment-complete' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xs-12 col-sm-8 col-md-9' },\n            _react2.default.createElement(Preview, this.props),\n            _react2.default.createElement(\n              'div',\n              { className: 'editor-attachment-details' },\n              _react2.default.createElement(Filename, this.props),\n              _react2.default.createElement(Details, this.props)\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top-half' },\n            _react2.default.createElement(Actions, _extends({\n              onInsert: this.onInsert,\n              onRemove: this.onRemove,\n              onUndo: this.onUndo\n            }, this.props))\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n;\n\nfunction Preview(props) {\n  if (props.item.is_image) {\n    return _react2.default.createElement(Image, props);\n  } else {\n    return _react2.default.createElement(Icon, props);\n  }\n}\n\nfunction Image(props) {\n  var thumbnailUrl = props.item.url.thumb || props.item.url.index;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'editor-attachment-image' },\n    _react2.default.createElement('a', {\n      href: props.item.url.index + '?shva=1',\n      style: { backgroundImage: \"url('\" + thumbnailUrl + \"?shva=1')\" },\n      target: '_blank'\n    })\n  );\n};\n\nfunction Icon(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'editor-attachment-icon' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'insert_drive_file'\n    )\n  );\n}\n\nfunction Filename(props) {\n  return _react2.default.createElement(\n    'h4',\n    null,\n    _react2.default.createElement(\n      'a',\n      {\n        className: 'item-title',\n        href: props.item.url.index + '?shva=1',\n        target: '_blank'\n      },\n      props.item.filename\n    )\n  );\n}\n\nfunction Details(props) {\n  var user = null;\n  if (props.item.url.uploader) {\n    user = interpolate(USER_URL, {\n      url: (0, _escapeHtml2.default)(props.item.url.uploader),\n      user: (0, _escapeHtml2.default)(props.item.uploader_name)\n    }, true);\n  } else {\n    user = interpolate(USER_SPAN, {\n      user: (0, _escapeHtml2.default)(props.item.uploader_name)\n    }, true);\n  }\n\n  var date = interpolate(DATE_ABBR, {\n    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\")), {\n    filetype: props.item.filetype,\n    size: (0, _fileSize2.default)(props.item.size),\n    uploader: user,\n    uploaded_on: date\n  }, true);\n\n  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction Actions(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'editor-attachment-actions' },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      _react2.default.createElement(Insert, props),\n      _react2.default.createElement(Remove, props),\n      _react2.default.createElement(Undo, props)\n    )\n  );\n}\n\nfunction Insert(props) {\n  if (!!props.item.isRemoved) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-6' },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-sm btn-block',\n        onClick: props.onInsert,\n        type: 'button'\n      },\n      gettext(\"Insert\")\n    )\n  );\n}\n\nfunction Remove(props) {\n  if (!!props.item.isRemoved && props.item.acl.can_delete) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-6' },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-sm btn-block',\n        onClick: props.onRemove,\n        type: 'button'\n      },\n      gettext(\"Remove\")\n    )\n  );\n}\n\nfunction Undo(props) {\n  if (!props.item.isRemoved) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12' },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-sm btn-block',\n        onClick: props.onUndo,\n        type: 'button'\n      },\n      gettext(\"Undo removal\")\n    )\n  );\n}\n\n},{\"../../../..\":299,\"../../../../utils/escape-html\":379,\"../../../../utils/file-size\":380,\"react\":\"react\"}],43:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar STRONG = '<strong>%(name)s</strong>';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      var filteredAttachments = _this.props.attachments.filter(function (item) {\n        return item.key !== _this.props.item.key;\n      });\n      _this.props.onAttachmentsChange(filteredAttachments);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var filename = interpolate(STRONG, {\n        name: (0, _escapeHtml2.default)(this.props.item.filename)\n      }, true);\n\n      var title = interpolate(gettext(\"Error uploading %(filename)s\"), {\n        filename: filename,\n        progress: this.props.item.progress + '%'\n      }, true);\n\n      return _react2.default.createElement(\n        'li',\n        { className: 'editor-attachment-error' },\n        _react2.default.createElement(\n          'div',\n          { className: 'editor-attachment-error-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'warning'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'editor-attachment-error-message' },\n          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),\n          _react2.default.createElement(\n            'p',\n            null,\n            this.props.item.error\n          ),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default btn-sm',\n              onClick: this.onClick,\n              type: 'button'\n            },\n            gettext(\"Dismiss\")\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n;\n\n},{\"../../../../utils/escape-html\":379,\"react\":\"react\"}],44:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.item.id) {\n    return _react2.default.createElement(_complete2.default, props);\n  }\n\n  if (props.item.error) {\n    return _react2.default.createElement(_error2.default, props);\n  }\n\n  return _react2.default.createElement(_upload2.default, props);\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _complete = require('./complete');\n\nvar _complete2 = _interopRequireDefault(_complete);\n\nvar _error = require('./error');\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _upload = require('./upload');\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _ = require('../../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _escapeHtml = require('../../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../..\":299,\"../../../../utils/escape-html\":379,\"./complete\":42,\"./error\":43,\"./upload\":45,\"react\":\"react\"}],45:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var filename = interpolate(STRONG, {\n    name: (0, _escapeHtml2.default)(props.item.filename)\n  }, true);\n\n  var message = interpolate(gettext(\"Uploading %(filename)s... %(progress)s\"), {\n    filename: filename,\n    progress: props.item.progress + '%'\n  }, true);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'editor-attachment-upload' },\n    _react2.default.createElement(\n      'div',\n      { className: 'editor-attachment-progress-bar' },\n      _react2.default.createElement('div', {\n        className: 'editor-attachment-progress',\n        style: { width: props.item.progress + '%' }\n      })\n    ),\n    _react2.default.createElement('p', {\n      className: 'editor-attachment-upload-message',\n      dangerouslySetInnerHTML: { __html: message }\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nvar STRONG = '<strong>%(name)s</strong>';\n\n;\n\n},{\"../../../../utils/escape-html\":379,\"react\":\"react\"}],46:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (!_2.default.get('user').acl.max_attachment_size) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'editor-attachments' },\n    _react2.default.createElement(_list2.default, props),\n    _react2.default.createElement(_uploader2.default, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _list = require('./list');\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _uploader = require('./uploader');\n\nvar _uploader2 = _interopRequireDefault(_uploader);\n\nvar _ = require('../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n; // jshint ignore:start\n\n},{\"../../..\":299,\"./list\":47,\"./uploader\":49,\"react\":\"react\"}],47:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-unstyled editor-attachments-list' },\n    props.attachments.map(function (item) {\n      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _attachment = require('./attachment');\n\nvar _attachment2 = _interopRequireDefault(_attachment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n;\n\n},{\"./attachment\":44,\"react\":\"react\"}],48:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      document.getElementById('editor-upload-field').click();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (!_2.default.get('user').acl.max_attachment_size) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'btn btn-icon ' + this.props.className,\n          disabled: this.props.disabled,\n          onClick: this.onClick,\n          title: gettext('Upload file'),\n          type: 'button'\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'file_upload'\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n;\n\n},{\"../../..\":299,\"react\":\"react\"}],49:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getRandomKey = getRandomKey;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _ = require('../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {\n      var file = event.target.files[0];\n      if (!file) {\n        return;\n      }\n\n      var upload = {\n        id: null,\n        key: getRandomKey(),\n        progress: 0,\n        error: null,\n        filename: file.name\n      };\n\n      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));\n\n      var data = new FormData();\n      data.append('upload', file);\n\n      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {\n        upload.progress = progress;\n        _this.props.onAttachmentsChange(_this.props.attachments.concat());\n      }).then(function (data) {\n        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);\n        Object.assign(upload, data);\n        _this.props.onAttachmentsChange(_this.props.attachments.concat());\n      }, function (rejection) {\n        if (rejection.status === 400 || rejection.status === 413) {\n          upload.error = rejection.detail;\n          _this.props.onAttachmentsChange(_this.props.attachments.concat());\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('input', {\n        id: 'editor-upload-field',\n        onChange: this.onChange,\n        type: 'file'\n      });\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n;\n\nfunction getRandomKey() {\n  return 'upld-' + Math.round(new Date().getTime());\n}\n\n},{\"../../..\":299,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"moment\":\"moment\",\"react\":\"react\"}],50:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Protect = Protect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _code = require('./actions/code');\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _emphasis = require('./actions/emphasis');\n\nvar _emphasis2 = _interopRequireDefault(_emphasis);\n\nvar _hr = require('./actions/hr');\n\nvar _hr2 = _interopRequireDefault(_hr);\n\nvar _image = require('./actions/image');\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _link = require('./actions/link');\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _striketrough = require('./actions/striketrough');\n\nvar _striketrough2 = _interopRequireDefault(_striketrough);\n\nvar _strong = require('./actions/strong');\n\nvar _strong2 = _interopRequireDefault(_strong);\n\nvar _quote = require('./actions/quote');\n\nvar _quote2 = _interopRequireDefault(_quote);\n\nvar _attachments = require('./attachments');\n\nvar _attachments2 = _interopRequireDefault(_attachments);\n\nvar _uploadButton = require('./attachments/upload-button');\n\nvar _uploadButton2 = _interopRequireDefault(_uploadButton);\n\nvar _markupPreview = require('./markup-preview');\n\nvar _markupPreview2 = _interopRequireDefault(_markupPreview);\n\nvar _textutils = require('./textutils');\n\nvar textUtils = _interopRequireWildcard(_textutils);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onPreviewClick = function () {\n      if (_this.state.isPreviewLoading) {\n        return;\n      }\n\n      _this.setState({\n        isPreviewLoading: true\n      });\n\n      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {\n        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));\n\n        _this.setState({\n          isPreviewLoading: false\n        });\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n\n        _this.setState({\n          isPreviewLoading: false\n        });\n      });\n    };\n\n    _this.replaceSelection = function (operation) {\n      operation(textUtils.getSelectionText(), _this._replaceSelection);\n    };\n\n    _this._replaceSelection = function (newValue) {\n      _this.props.onChange({\n        target: {\n          value: textUtils.replace(newValue)\n        }\n      });\n    };\n\n    _this.state = {\n      isPreviewLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      $('#editor-textarea').atwho({\n        at: '@',\n        displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n        insertTpl: '@${username}',\n        searchKey: 'username',\n        callbacks: {\n          remoteFilter: function remoteFilter(query, callback) {\n            $.getJSON(_2.default.get('MENTION_API'), { q: query }, callback);\n          }\n        }\n      });\n\n      $('#editor-textarea').on(\"inserted.atwho\", function (event, flag, query) {\n        _this2.props.onChange(event);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'editor-border' },\n        _react2.default.createElement('textarea', {\n          className: 'form-control',\n          value: this.props.value,\n          disabled: this.props.loading,\n          id: 'editor-textarea',\n          onChange: this.props.onChange,\n          rows: '9'\n        }),\n        _react2.default.createElement(\n          'div',\n          { className: 'editor-footer' },\n          _react2.default.createElement(\n            'div',\n            { className: 'buttons-list pull-left' },\n            _react2.default.createElement(_strong2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_emphasis2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_striketrough2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_hr2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_link2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_image2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_quote2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_code2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              replaceSelection: this.replaceSelection\n            }),\n            _react2.default.createElement(_uploadButton2.default, {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading\n            })\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            {\n              className: 'btn-default btn-sm pull-left',\n              disabled: this.props.loading || this.state.isPreviewLoading,\n              onClick: this.onPreviewClick,\n              type: 'button'\n            },\n            gettext(\"Preview\")\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            {\n              className: 'btn-primary btn-sm pull-right',\n              loading: this.props.loading\n            },\n            this.props.submitLabel || gettext(\"Post\")\n          ),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default btn-sm pull-right',\n              disabled: this.props.loading,\n              onClick: this.props.onCancel,\n              type: 'button'\n            },\n            gettext(\"Cancel\")\n          ),\n          _react2.default.createElement('div', { className: 'clearfix visible-xs-block' }),\n          _react2.default.createElement(Protect, {\n            canProtect: this.props.canProtect,\n            disabled: this.props.loading,\n            onProtect: this.props.onProtect,\n            onUnprotect: this.props.onUnprotect,\n            protect: this.props.protect\n          })\n        ),\n        _react2.default.createElement(_attachments2.default, {\n          attachments: this.props.attachments,\n          onAttachmentsChange: this.props.onAttachmentsChange,\n          placeholder: this.props.placeholder,\n          replaceSelection: this.replaceSelection\n        })\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction Protect(props) {\n  if (!props.canProtect) return null;\n\n  var label = props.protect ? gettext('Protected') : gettext('Protect');\n\n  return _react2.default.createElement(\n    'button',\n    {\n      className: 'btn btn-icon btn-default btn-protect btn-sm pull-right',\n      disabled: props.disabled,\n      onClick: props.protect ? props.onUnprotect : props.onProtect,\n      title: label,\n      type: 'button'\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      props.protect ? 'lock' : 'lock_outline'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'btn-text hidden-md hidden-lg' },\n      label\n    )\n  );\n}\n\n},{\"../..\":299,\"../../services/ajax\":361,\"../../services/modal\":367,\"../../services/snackbar\":372,\"../button\":7,\"./actions/code\":34,\"./actions/emphasis\":35,\"./actions/hr\":36,\"./actions/image\":37,\"./actions/link\":38,\"./actions/quote\":39,\"./actions/striketrough\":40,\"./actions/strong\":41,\"./attachments\":46,\"./attachments/upload-button\":48,\"./markup-preview\":51,\"./textutils\":52,\"react\":\"react\"}],51:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-dialog', role: 'document' },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-label': gettext(\"Close\"),\n            className: 'close',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { 'aria-hidden': 'true' },\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'h4',\n          { className: 'modal-title' },\n          gettext(\"Preview message\")\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-body markup-preview' },\n        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _misagoMarkup = require('../misago-markup');\n\nvar _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../misago-markup\":58,\"react\":\"react\"}],52:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTextarea = getTextarea;\nexports.getValue = getValue;\nexports.getSelectionRange = getSelectionRange;\nexports.getSelection = getSelection;\nexports.getSelectionText = getSelectionText;\nexports.setSelection = setSelection;\nexports._replace = _replace;\nexports.replace = replace;\nvar textareaId = exports.textareaId = 'editor-textarea';\n\nfunction getTextarea() {\n  return document.getElementById(textareaId);\n}\n\nfunction getValue() {\n  return document.getElementById(textareaId).value;\n}\n\nfunction getSelectionRange(start, end) {\n  return {\n    start: start,\n    end: end\n  };\n}\n\nfunction getSelection() {\n  var ctrl = getTextarea();\n  if (document.selection) {\n    ctrl.focus();\n    var range = document.selection.createRange();\n    var length = range.text.length;\n    range.moveStart('character', -ctrl.value.length);\n    return getSelectionRange(range.text.length - length, range.text.length);\n  } else if (ctrl.selectionStart || ctrl.selectionStart == '0') {\n    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);\n  }\n}\n\nfunction getSelectionText() {\n  var range = getSelection();\n  return $.trim(getValue().substring(range.start, range.end));\n}\n\nfunction setSelection(selectionRange) {\n  var ctrl = getTextarea();\n  if (ctrl.setSelectionRange) {\n    ctrl.focus();\n    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);\n  } else if (ctrl.createTextRange) {\n    var range = ctrl.createTextRange();\n    range.collapse(true);\n    range.moveStart('character', selectionRange.start);\n    range.moveEnd('character', selectionRange.end);\n    range.select();\n  }\n}\n\nfunction _replace(myRange, replacement) {\n  var ctrl = getTextarea();\n  var text = ctrl.value;\n  var startText = text.substring(0, myRange.start);\n  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);\n  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));\n  return ctrl.value;\n}\n\nfunction replace(replacement) {\n  return _replace(getSelection(), replacement);\n}\n\n},{}],53:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'isValidated',\n    value: function isValidated() {\n      return typeof this.props.validation !== \"undefined\";\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      var className = 'form-group';\n      if (this.isValidated()) {\n        className += ' has-feedback';\n        if (this.props.validation === null) {\n          className += ' has-success';\n        } else {\n          className += ' has-error';\n        }\n      }\n      return className;\n    }\n  }, {\n    key: 'getFeedback',\n    value: function getFeedback() {\n      var _this2 = this;\n\n      if (this.props.validation) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'help-block errors' },\n          this.props.validation.map(function (error, i) {\n            return _react2.default.createElement(\n              'p',\n              { key: _this2.props.for + 'FeedbackItem' + i },\n              error\n            );\n          })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getFeedbackDescription',\n    value: function getFeedbackDescription() {\n      if (this.isValidated()) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { id: this.props.for + '_status', className: 'sr-only' },\n          this.props.validation ? gettext('(error)') : gettext('(success)')\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getHelpText',\n    value: function getHelpText() {\n      if (this.props.helpText) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          this.props.helpText\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'label',\n          { className: 'control-label ' + (this.props.labelClass || ''),\n            htmlFor: this.props.for || '' },\n          this.props.label + ':'\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: this.props.controlClass || '' },\n          this.props.children,\n          this.getFeedbackDescription(),\n          this.getFeedback(),\n          this.getHelpText(),\n          this.props.extra || null\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],54:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _validators = require('../utils/validators');\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar validateRequired = (0, _validators.required)();\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {\n      return function (event) {\n        _this.changeValue(name, event.target.value);\n      };\n    }, _this.changeValue = function (name, value) {\n      var newState = _defineProperty({}, name, value);\n\n      var formErrors = _this.state.errors || {};\n      formErrors[name] = _this.validateField(name, newState[name]);\n      newState.errors = formErrors;\n\n      _this.setState(newState);\n    }, _this.handleSubmit = function (event) {\n      // we don't reload page on submissions\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (_this.state.isLoading) {\n        return;\n      }\n\n      if (_this.clean()) {\n        _this.setState({ isLoading: true });\n        var promise = _this.send();\n\n        if (promise) {\n          promise.then(function (success) {\n            _this.setState({ isLoading: false });\n            _this.handleSuccess(success);\n          }, function (rejection) {\n            _this.setState({ isLoading: false });\n            _this.handleError(rejection);\n          });\n        } else {\n          _this.setState({ isLoading: false });\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'validate',\n    value: function validate() {\n      var errors = {};\n      if (!this.state.validators) {\n        return errors;\n      }\n\n      var validators = {\n        required: this.state.validators.required || this.state.validators,\n        optional: this.state.validators.optional || {}\n      };\n\n      var validatedFields = [];\n\n      // add required fields to validation\n      for (var name in validators.required) {\n        if (validators.required.hasOwnProperty(name) && validators.required[name]) {\n          validatedFields.push(name);\n        }\n      }\n\n      // add optional fields to validation\n      for (var _name in validators.optional) {\n        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {\n          validatedFields.push(_name);\n        }\n      }\n\n      // validate fields values\n      for (var i in validatedFields) {\n        var _name2 = validatedFields[i];\n        var fieldErrors = this.validateField(_name2, this.state[_name2]);\n\n        if (fieldErrors === null) {\n          errors[_name2] = null;\n        } else if (fieldErrors) {\n          errors[_name2] = fieldErrors;\n        }\n      }\n\n      return errors;\n    }\n  }, {\n    key: 'isValid',\n    value: function isValid() {\n      var errors = this.validate();\n      for (var field in errors) {\n        if (errors.hasOwnProperty(field)) {\n          if (errors[field] !== null) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: 'validateField',\n    value: function validateField(name, value) {\n      var errors = [];\n      if (!this.state.validators) {\n        return errors;\n      }\n\n      var validators = {\n        required: (this.state.validators.required || this.state.validators)[name],\n        optional: (this.state.validators.optional || {})[name]\n      };\n\n      var requiredError = validateRequired(value) || false;\n\n      if (validators.required) {\n        if (requiredError) {\n          errors = [requiredError];\n        } else {\n          for (var i in validators.required) {\n            var validationError = validators.required[i](value);\n            if (validationError) {\n              errors.push(validationError);\n            }\n          }\n        }\n\n        return errors.length ? errors : null;\n      } else if (requiredError === false && validators.optional) {\n        for (var _i in validators.optional) {\n          var _validationError = validators.optional[_i](value);\n          if (_validationError) {\n            errors.push(_validationError);\n          }\n        }\n\n        return errors.length ? errors : null;\n      }\n\n      return false; // false === field wasn't validated\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n    value: function clean() {\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return null;\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      return;\n    }\n  }, {\n    key: 'handleError',\n\n    /* jshint ignore:end */\n    value: function handleError(rejection) {\n      _snackbar2.default.apiError(rejection);\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/snackbar\":372,\"../utils/validators\":389,\"react\":\"react\"}],55:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'isActive',\n    value: function isActive() {\n      if (this.props.isControlled) {\n        return this.props.isActive;\n      } else {\n        if (this.props.path) {\n          return document.location.pathname.indexOf(this.props.path) === 0;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.isActive()) {\n        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');\n      } else {\n        return this.props.className || '';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      // jshint ignore:start\n      return _react2.default.createElement(\n        'li',\n        { className: this.getClassName() },\n        this.props.children\n      );\n      // jshint ignore:end\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],56:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: props.className || \"loader\" },\n    _react2.default.createElement(\"div\", { className: \"loader-spinning-wheel\" })\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],57:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.BestAnswerSelect = BestAnswerSelect;\nexports.PollSelect = PollSelect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('./form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.handleSuccess = function (success) {\n      _this.props.onSuccess(success);\n      _modal2.default.hide();\n    };\n\n    _this.handleError = function (rejection) {\n      _this.props.onError(rejection);\n    };\n\n    _this.onBestAnswerChange = function (event) {\n      _this.changeValue('bestAnswer', event.target.value);\n    };\n\n    _this.onPollChange = function (event) {\n      _this.changeValue('poll', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      bestAnswer: '0',\n      poll: '0'\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.props.polls && this.state.poll === '0') {\n        var confirmation = confirm(gettext(\"Are you sure you want to delete all polls?\"));\n        return confirmation;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      var data = Object.assign({}, this.props.data, {\n        best_answer: this.state.bestAnswer,\n        poll: this.state.poll\n      });\n\n      return _ajax2.default.post(this.props.api, data);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog', role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              {\n                'aria-label': gettext(\"Close\"),\n                className: 'close',\n                'data-dismiss': 'modal',\n                type: 'button'\n              },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Merge threads\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(BestAnswerSelect, {\n                choices: this.props.bestAnswers,\n                onChange: this.onBestAnswerChange,\n                value: this.state.bestAnswer\n              }),\n              _react2.default.createElement(PollSelect, {\n                choices: this.props.polls,\n                onChange: this.onPollChange,\n                value: this.state.poll\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default',\n                  'data-dismiss': 'modal',\n                  disabled: this.state.isLoading,\n                  type: 'button'\n                },\n                gettext(\"Cancel\")\n              ),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary', loading: this.state.isLoading },\n                gettext(\"Merge threads\")\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction BestAnswerSelect(_ref) {\n  var choices = _ref.choices,\n      onChange = _ref.onChange,\n      value = _ref.value;\n\n  if (!choices) return null;\n\n  return _react2.default.createElement(\n    _formGroup2.default,\n    {\n      label: gettext(\"Best answer\"),\n      helpText: gettext(\"Please select the best answer for your newly merged thread. No posts will be deleted during the merge.\"),\n      'for': 'id_best_answer'\n    },\n    _react2.default.createElement(\n      'select',\n      {\n        className: 'form-control',\n        id: 'id_best_answer',\n        onChange: onChange,\n        value: value\n      },\n      choices.map(function (choice) {\n        return _react2.default.createElement(\n          'option',\n          { value: choice[0], key: choice[0] },\n          choice[1]\n        );\n      })\n    )\n  );\n}\n\nfunction PollSelect(_ref2) {\n  var choices = _ref2.choices,\n      onChange = _ref2.onChange,\n      value = _ref2.value;\n\n  if (!choices) return null;\n\n  return _react2.default.createElement(\n    _formGroup2.default,\n    {\n      label: gettext(\"Poll\"),\n      helpText: gettext(\"Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"),\n      'for': 'id_poll'\n    },\n    _react2.default.createElement(\n      'select',\n      {\n        className: 'form-control',\n        id: 'id_poll',\n        onChange: onChange,\n        value: value\n      },\n      choices.map(function (choice) {\n        return _react2.default.createElement(\n          'option',\n          { value: choice[0], key: choice[0] },\n          choice[1]\n        );\n      })\n    )\n  );\n}\n\n},{\"../services/ajax\":361,\"../services/modal\":367,\"./button\":7,\"./form\":54,\"./form-group\":53,\"react\":\"react\"}],58:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _oneBox = require('../services/one-box');\n\nvar _oneBox2 = _interopRequireDefault(_oneBox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _oneBox2.default.render(this.documentNode);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      _oneBox2.default.render(this.documentNode);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.markup !== this.props.markup;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement('article', {\n        className: 'misago-markup',\n        dangerouslySetInnerHTML: { __html: this.props.markup },\n        ref: function ref(node) {\n          _this2.documentNode = node;\n        }\n      });\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/one-box\":368,\"react\":\"react\"}],59:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body modal-loader' },\n        _react2.default.createElement(_loader2.default, null)\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./loader\":56,\"react\":\"react\"}],60:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _panelMessage = require('./panel-message');\n\nvar _panelMessage2 = _interopRequireDefault(_panelMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\nvar _class = function (_PanelMessage) {\n  _inherits(_class, _PanelMessage);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getHelpText',\n    value: function getHelpText() {\n      if (this.props.helpText) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          this.props.helpText\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            this.props.icon || 'info_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.props.message\n          ),\n          this.getHelpText(),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              type: 'button'\n            },\n            gettext(\"Ok\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_panelMessage2.default);\n\nexports.default = _class;\n\n},{\"./panel-message\":91,\"react\":\"react\"}],61:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (data) {\n  var filtered = data.filter(function (section) {\n    return section.results.count > 0;\n  });\n\n  return filtered.map(function (section) {\n    return Object.assign({}, section, {\n      count: section.results.count,\n      results: section.results.results.slice(0, MAX_RESULTS)\n    });\n  });\n};\n\nvar MAX_RESULTS = 5;\n\n},{}],62:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar HEADER = exports.HEADER = 'HEADER';\nvar RESULT = exports.RESULT = 'RESULT';\nvar FOOTER = exports.FOOTER = 'FOOTER';\n\n},{}],63:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var children = _ref.children,\n      onChange = _ref.onChange,\n      query = _ref.query;\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'dropdown-menu dropdown-search-results', role: 'menu' },\n    _react2.default.createElement(\n      'li',\n      { className: 'form-group' },\n      _react2.default.createElement(_input2.default, {\n        value: query,\n        onChange: onChange\n      })\n    ),\n    children\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _input = require('./input');\n\nvar _input2 = _interopRequireDefault(_input);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./input\":67,\"react\":\"react\"}],64:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return _react2.default.createElement(\n    \"li\",\n    { className: \"dropdown-search-message\" },\n    gettext(\"Search returned no results.\")\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],65:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (results) {\n  var flatlist = [];\n  flattenProviders(results, flatlist);\n  return flatlist;\n};\n\nvar _constants = require('./constants');\n\nfunction flattenProviders(results, flatlist) {\n  var arrayLength = results.length;\n  for (var i = 0; i < arrayLength; i++) {\n    var provider = results[i];\n\n    flatlist.push({\n      provider: provider,\n      type: _constants.HEADER\n    });\n\n    flattenProvider(provider, flatlist);\n  }\n}\n\nfunction flattenProvider(provider, flatlist) {\n  var arrayLength = provider.results.length;\n  for (var i = 0; i < arrayLength; i++) {\n    var result = provider.results[i];\n    flatlist.push({\n      provider: provider,\n      result: result,\n      type: _constants.RESULT\n    });\n  }\n\n  flatlist.push({\n    provider: provider,\n    type: _constants.FOOTER\n  });\n}\n\n},{\"./constants\":62}],66:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (_ref) {\n  var isLoading = _ref.isLoading,\n      onChange = _ref.onChange,\n      results = _ref.results,\n      query = _ref.query;\n\n  if (!query.trim().length) {\n    return _react2.default.createElement(_dropdownMenu2.default, { onChange: onChange, query: query });\n  }\n\n  if (results.length) {\n    var flatResults = (0, _flattenResults2.default)(results);\n\n    return _react2.default.createElement(\n      _dropdownMenu2.default,\n      { onChange: onChange, query: query },\n      flatResults.map(function (props) {\n        var type = props.type,\n            provider = props.provider,\n            result = props.result;\n\n\n        if (type === _constants.RESULT) {\n          return _react2.default.createElement(_result2.default, _extends({\n            key: [provider.id, type, result.id].join('_')\n          }, props));\n        }\n\n        return _react2.default.createElement(_result2.default, _extends({\n          key: [provider.id, type].join('_'),\n          query: query\n        }, props));\n      })\n    );\n  } else if (isLoading) {\n    return _react2.default.createElement(\n      _dropdownMenu2.default,\n      { onChange: onChange, query: query },\n      _react2.default.createElement(_loader2.default, null)\n    );\n  }\n\n  return _react2.default.createElement(\n    _dropdownMenu2.default,\n    { onChange: onChange, query: query },\n    _react2.default.createElement(_empty2.default, null)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = require('./constants');\n\nvar _dropdownMenu = require('./dropdown-menu');\n\nvar _dropdownMenu2 = _interopRequireDefault(_dropdownMenu);\n\nvar _empty = require('./empty');\n\nvar _empty2 = _interopRequireDefault(_empty);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _result = require('./result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _flattenResults = require('./flatten-results');\n\nvar _flattenResults2 = _interopRequireDefault(_flattenResults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./constants\":62,\"./dropdown-menu\":63,\"./empty\":64,\"./flatten-results\":65,\"./loader\":68,\"./result\":71,\"react\":\"react\"}],67:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange;\n\n  return _react2.default.createElement(\"input\", {\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"false\",\n    autoComplete: \"off\",\n    className: \"form-control\",\n    value: value,\n    onChange: onChange,\n    placeholder: gettext(\"Search\"),\n    role: \"combobox\",\n    type: \"text\"\n  });\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],68:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var message = _ref.message;\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'dropdown-search-loader' },\n    _react2.default.createElement(_loader2.default, null)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('../../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../loader\":56,\"react\":\"react\"}],69:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var provider = _ref.provider,\n      query = _ref.query;\n\n  var url = provider.url + '?q=' + encodeURI(query);\n  var label = ngettext('See full \"%(provider)s\" results page with %(count)s result.', 'See full \"%(provider)s\" results page with %(count)s results.', provider.count);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'dropdown-search-footer' },\n    _react2.default.createElement(\n      'a',\n      { href: url },\n      interpolate(label, {\n        count: provider.count,\n        provider: provider.name\n      }, true)\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],70:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var provider = _ref.provider;\n\n  return _react2.default.createElement(\n    \"li\",\n    { className: \"dropdown-search-header\" },\n    provider.name\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],71:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var provider = _ref.provider,\n      result = _ref.result,\n      type = _ref.type,\n      query = _ref.query;\n\n  if (type === _constants.HEADER) {\n    return _react2.default.createElement(_header2.default, { provider: provider });\n  } else if (type === _constants.FOOTER) {\n    return _react2.default.createElement(_footer2.default, { provider: provider, query: query });\n  }\n\n  return _react2.default.createElement(_result2.default, { provider: provider, result: result });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = require('../constants');\n\nvar _footer = require('./footer');\n\nvar _footer2 = _interopRequireDefault(_footer);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _result = require('./result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../constants\":62,\"./footer\":69,\"./header\":70,\"./result\":72,\"react\":\"react\"}],72:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var provider = _ref.provider,\n      result = _ref.result;\n\n  if (provider.id === 'threads') {\n    return _react2.default.createElement(_thread2.default, { result: result });\n  }\n\n  return _react2.default.createElement(_user2.default, { result: result });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _thread = require('./thread');\n\nvar _thread2 = _interopRequireDefault(_thread);\n\nvar _user = require('./user');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./thread\":73,\"./user\":74,\"react\":\"react\"}],73:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var result = _ref.result;\n  var poster = result.poster,\n      thread = result.thread;\n\n  var footer = gettext(\"Posted by %(poster)s on %(posted_on)s in %(category)s.\");\n\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      { href: result.url.index, className: 'dropdown-search-thread' },\n      _react2.default.createElement(\n        'h5',\n        null,\n        thread.title\n      ),\n      _react2.default.createElement(\n        'small',\n        { className: 'dropdown-search-post-content' },\n        $(result.content).text()\n      ),\n      _react2.default.createElement(\n        'small',\n        { className: 'dropdown-search-post-footer' },\n        interpolate(footer, {\n          category: result.category.name,\n          posted_on: (0, _moment2.default)(result.posted_on).format('LL'),\n          poster: result.poster_name\n        }, true)\n      )\n    )\n  );\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"moment\":\"moment\",\"react\":\"react\"}],74:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var result = _ref.result;\n  var rank = result.rank;\n\n\n  var detail = gettext(\"%(title)s, joined on %(joined_on)s\");\n  var title = result.title || rank.title || rank.name;\n\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      { href: result.url, className: 'dropdown-search-user' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media' },\n        _react2.default.createElement(\n          'div',\n          { className: 'media-left' },\n          _react2.default.createElement(_avatar2.default, { size: 38, user: result })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'media-body' },\n          _react2.default.createElement(\n            'h5',\n            { className: 'media-heading' },\n            result.username\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            interpolate(detail, {\n              title: title,\n              joined_on: (0, _moment2.default)(result.joined_on).format('LL')\n            }, true)\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../avatar\":5,\"moment\":\"moment\",\"react\":\"react\"}],75:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _cleanResults = require('./clean-results');\n\nvar _cleanResults2 = _interopRequireDefault(_cleanResults);\n\nvar _dropdown = require('./dropdown');\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));\n\n    _this.onToggle = function (ev) {\n      _this.setState(function (prevState, props) {\n        if (!prevState.isOpen) {\n          window.setTimeout(function () {\n            _this.container.querySelector('input').focus();\n          }, 100);\n        }\n\n        return { isOpen: !prevState.isOpen };\n      });\n    };\n\n    _this.onDocumentMouseDown = function (ev) {\n      var closeResults = true;\n      var node = ev.target;\n\n      while (node !== null && node !== document) {\n        if (node === _this.container) {\n          closeResults = false;\n          return;\n        }\n\n        node = node.parentNode;\n      }\n\n      if (closeResults) {\n        _this.setState({ isOpen: false });\n      }\n    };\n\n    _this.onEscape = function (ev) {\n      if (ev.key === 'Escape') {\n        _this.setState({ isOpen: false });\n      }\n    };\n\n    _this.onChange = function (ev) {\n      var query = ev.target.value;\n\n      _this.setState({ query: query });\n      _this.loadResults(query.trim());\n    };\n\n    _this.state = {\n      isLoading: false,\n      isOpen: false,\n      query: '',\n      results: []\n    };\n\n    _this.intervalId = null;\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.onDocumentMouseDown);\n      document.addEventListener('keydown', this.onEscape);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.onDocumentMouseDown);\n      document.removeEventListener('keydown', this.onEscape);\n    }\n  }, {\n    key: 'loadResults',\n    value: function loadResults(query) {\n      var _this2 = this;\n\n      if (!query.length) return;\n\n      var delay = 300 + Math.random() * 300;\n\n      if (this.intervalId) {\n        window.clearTimeout(this.intervalId);\n      }\n\n      this.setState({ isLoading: true });\n\n      this.intervalId = window.setTimeout(function () {\n        _ajax2.default.get(_2.default.get('SEARCH_API'), { q: query }).then(function (data) {\n          _this2.setState({\n            intervalId: null,\n            isLoading: false,\n            results: (0, _cleanResults2.default)(data)\n          });\n        }, function (rejection) {\n          _snackbar2.default.apiError(rejection);\n\n          _this2.setState({\n            intervalId: null,\n            isLoading: false,\n            results: []\n          });\n        });\n      }, delay);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var className = \"navbar-search dropdown\";\n      if (this.state.isOpen) className += \" open\";\n\n      return _react2.default.createElement(\n        'div',\n        { className: className, ref: function ref(container) {\n            return _this3.container = container;\n          } },\n        _react2.default.createElement(\n          'a',\n          {\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            className: 'navbar-icon',\n            'data-toggle': 'dropdown',\n            href: _2.default.get('SEARCH_URL'),\n            onClick: this.onToggle\n          },\n          _react2.default.createElement(\n            'i',\n            { className: 'material-icon' },\n            'search'\n          )\n        ),\n        _react2.default.createElement(_dropdown2.default, {\n          isLoading: this.state.isLoading,\n          onChange: this.onChange,\n          results: this.state.results,\n          query: this.state.query\n        })\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../..\":299,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"./clean-results\":61,\"./dropdown\":66,\"react\":\"react\"}],76:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel panel-default panel-form' },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-heading' },\n      _react2.default.createElement(\n        'h3',\n        { className: 'panel-title' },\n        gettext(\"Change username\")\n      )\n    ),\n    _react2.default.createElement(_panelLoader2.default, null)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _panelLoader = require('../../panel-loader');\n\nvar _panelLoader2 = _interopRequireDefault(_panelLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../panel-loader\":90,\"react\":\"react\"}],77:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _panelMessage = require('../../panel-message');\n\nvar _panelMessage2 = _interopRequireDefault(_panelMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getHelpText',\n    value: function getHelpText() {\n      if (this.props.options.next_on) {\n        return interpolate(gettext(\"You will be able to change your username %(next_change)s.\"), { 'next_change': this.props.options.next_on.fromNow() }, true);\n      } else {\n        return gettext(\"You have used up available name changes.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'panel panel-default panel-form' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-heading' },\n          _react2.default.createElement(\n            'h3',\n            { className: 'panel-title' },\n            gettext(\"Change username\")\n          )\n        ),\n        _react2.default.createElement(_panelMessage2.default, {\n          helpText: this.getHelpText(),\n          message: gettext(\"You can't change your username at the moment.\")\n        })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../panel-message\":91,\"react\":\"react\"}],78:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      username: '',\n\n      validators: {\n        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]\n      },\n\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getHelpText',\n    value: function getHelpText() {\n      var phrases = [];\n\n      if (this.props.options.changes_left > 0) {\n        var message = ngettext(\"You can change your username %(changes_left)s more time.\", \"You can change your username %(changes_left)s more times.\", this.props.options.changes_left);\n\n        phrases.push(interpolate(message, {\n          'changes_left': this.props.options.changes_left\n        }, true));\n      }\n\n      if (this.props.user.acl.name_changes_expire > 0) {\n        var _message = ngettext(\"Used changes become available again after %(name_changes_expire)s day.\", \"Used changes become available again after %(name_changes_expire)s days.\", this.props.user.acl.name_changes_expire);\n\n        phrases.push(interpolate(_message, {\n          'name_changes_expire': this.props.user.acl.name_changes_expire\n        }, true));\n      }\n\n      return phrases.length ? phrases.join(' ') : null;\n    }\n  }, {\n    key: 'clean',\n    value: function clean() {\n      var errors = this.validate();\n      if (errors.username) {\n        _snackbar2.default.error(errors.username[0]);\n        return false;\n      }if (this.state.username.trim() === this.props.user.username) {\n        _snackbar2.default.info(gettext(\"Your new username is same as current one.\"));\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.user.api.username, {\n        'username': this.state.username\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      this.setState({\n        'username': ''\n      });\n\n      this.props.complete(success.username, success.slug, success.options);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      _snackbar2.default.apiError(rejection);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default panel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Change username\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"New username\"), 'for': 'id_username',\n                helpText: this.getHelpText() },\n              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('username'),\n                value: this.state.username })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Change username\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../utils/validators\":389,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"react\":\"react\"}],79:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _formLoading = require('./form-loading');\n\nvar _formLoading2 = _interopRequireDefault(_formLoading);\n\nvar _formLocked = require('./form-locked');\n\nvar _formLocked2 = _interopRequireDefault(_formLocked);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _root = require('../../username-history/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _usernameHistory = require('../../../reducers/username-history');\n\nvar _users = require('../../../reducers/users');\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onComplete = function (username, slug, options) {\n      _this.setState({\n        options: options\n      });\n\n      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));\n      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));\n\n      _snackbar2.default.success(gettext(\"Your username has been changed successfully.\"));\n    };\n\n    _this.state = {\n      isLoaded: false,\n      options: null\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _pageTitle2.default.set({\n        title: gettext(\"Change username\"),\n        parent: gettext(\"Change your options\")\n      });\n\n      Promise.all([_ajax2.default.get(this.props.user.api.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {\n        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));\n\n        _this2.setState({\n          isLoaded: true,\n          options: {\n            changes_left: data[0].changes_left,\n            length_min: data[0].length_min,\n            length_max: data[0].length_max,\n            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null\n          }\n        });\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getChangeForm',\n\n    /* jshint ignore:end */\n\n    value: function getChangeForm() {\n      if (!this.state.isLoaded) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_formLoading2.default, null);\n        /* jshint ignore:end */\n      }\n\n      if (this.state.options.changes_left === 0) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_formLocked2.default, { options: this.state.options });\n        /* jshint ignore:end */\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(_form2.default, {\n        complete: this.onComplete,\n        options: this.state.options,\n        user: this.props.user\n      });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        this.getChangeForm(),\n        _react2.default.createElement(_root2.default, {\n          changes: this.props['username-history'],\n          isLoaded: this.state.isLoaded\n        })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../reducers/username-history\":359,\"../../../reducers/users\":360,\"../../../services/ajax\":361,\"../../../services/page-title\":369,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../username-history/root\":277,\"./form\":78,\"./form-loading\":76,\"./form-locked\":77,\"moment\":\"moment\",\"react\":\"react\"}],80:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onPasswordChange = function (event) {\n      _this.setState({ password: event.target.value });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      var _this$state = _this.state,\n          isLoading = _this$state.isLoading,\n          password = _this$state.password;\n      var user = _this.props.user;\n\n\n      if (password.length == 0) {\n        _snackbar2.default.error(gettext(\"Enter your password to confirm account deletion.\"));\n        return false;\n      }\n\n      if (isLoading) return false;\n      _this.setState({ isLoading: true });\n\n      _ajax2.default.post(user.api.delete, { password: password }).then(function (success) {\n        window.location.href = _2.default.get('MISAGO_PATH');\n      }, function (rejection) {\n        _this.setState({ isLoading: false });\n        if (rejection.password) {\n          _snackbar2.default.error(rejection.password[0]);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n      });\n    };\n\n    _this.state = {\n      isLoading: false,\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Delete account\"),\n        parent: gettext(\"Change your options\")\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-danger panel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Delete account\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              'p',\n              { className: 'lead' },\n              gettext(\"You are going to delete your account. This action is nonreversible, and will result in following data being deleted:\")\n            ),\n            _react2.default.createElement(\n              'p',\n              null,\n              '- ',\n              gettext(\"Stored IP addresses associated with content that you have posted will be deleted.\")\n            ),\n            _react2.default.createElement(\n              'p',\n              null,\n              '- ',\n              gettext(\"Your username will become available for other user to rename to or for new user to register their account with.\")\n            ),\n            _react2.default.createElement(\n              'p',\n              null,\n              '- ',\n              gettext(\"Your e-mail will become available for use in new account registration.\")\n            ),\n            _react2.default.createElement('hr', null),\n            _react2.default.createElement(\n              'p',\n              null,\n              gettext(\"All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              'div',\n              { className: 'input-group' },\n              _react2.default.createElement('input', {\n                className: 'form-control',\n                disabled: this.state.isLoading,\n                name: 'password-confirmation',\n                type: 'password',\n                placeholder: gettext(\"Enter your password to confirm account deletion.\"),\n                value: this.state.password,\n                onChange: this.onPasswordChange\n              }),\n              _react2.default.createElement(\n                'span',\n                { className: 'input-group-btn' },\n                _react2.default.createElement(\n                  _button2.default,\n                  { className: 'btn-danger', loading: this.state.isLoading },\n                  gettext(\"Delete my account\")\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../..\":299,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"react\":\"react\"}],81:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _editDetails = require('../edit-details');\n\nvar _editDetails2 = _interopRequireDefault(_editDetails);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onSuccess = function () {\n      _snackbar2.default.info(gettext(\"Your details have been updated.\"));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Edit details\"),\n        parent: gettext(\"Change your options\")\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(_editDetails2.default, {\n        api: this.props.user.api.edit_details,\n        onSuccess: this.onSuccess\n      });\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/page-title\":369,\"../../services/snackbar\":372,\"../edit-details\":31,\"react\":\"react\"}],82:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _select = require('../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _yesNoSwitch = require('../yes-no-switch');\n\nvar _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);\n\nvar _auth = require('../../reducers/auth');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'is_hiding_presence': props.user.is_hiding_presence,\n      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,\n      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,\n      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,\n\n      'errors': {}\n    };\n\n    _this.privateThreadInvitesChoices = [{\n      'value': 0,\n      'icon': 'help_outline',\n      'label': gettext(\"Everybody\")\n    }, {\n      'value': 1,\n      'icon': 'done_all',\n      'label': gettext(\"Users I follow\")\n    }, {\n      'value': 2,\n      'icon': 'highlight_off',\n      'label': gettext(\"Nobody\")\n    }];\n\n    _this.subscribeToChoices = [{\n      'value': 0,\n      'icon': 'star_border',\n      'label': gettext(\"No\")\n    }, {\n      'value': 1,\n      'icon': 'star_half',\n      'label': gettext(\"Notify\")\n    }, {\n      'value': 2,\n      'icon': 'star',\n      'label': gettext(\"Notify with e-mail\")\n    }];\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.user.api.options, {\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      _store2.default.dispatch((0, _auth.patch)({\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads\n      }));\n      _snackbar2.default.success(gettext(\"Your forum options have been changed.\"));\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(gettext(\"Please reload page and try again.\"));\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Forum options\"),\n        parent: gettext(\"Change your options\")\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default panel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Change forum options\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              'fieldset',\n              null,\n              _react2.default.createElement(\n                'legend',\n                null,\n                gettext(\"Privacy settings\")\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  label: gettext(\"Hide my presence\"),\n                  helpText: gettext(\"If you hide your presence, only members with permission to see hidden users will see when you are online.\"),\n                  'for': 'id_is_hiding_presence'\n                },\n                _react2.default.createElement(_yesNoSwitch2.default, {\n                  id: 'id_is_hiding_presence',\n                  disabled: this.state.isLoading,\n                  iconOn: 'visibility_off',\n                  iconOff: 'visibility',\n                  labelOn: gettext(\"Hide my presence from other users\"),\n                  labelOff: gettext(\"Show my presence to other users\"),\n                  onChange: this.bindInput('is_hiding_presence'),\n                  value: this.state.is_hiding_presence\n                })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  label: gettext(\"Private thread invitations\"),\n                  'for': 'id_limits_private_thread_invites_to'\n                },\n                _react2.default.createElement(_select2.default, {\n                  id: 'id_limits_private_thread_invites_to',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('limits_private_thread_invites_to'),\n                  value: this.state.limits_private_thread_invites_to,\n                  choices: this.privateThreadInvitesChoices\n                })\n              )\n            ),\n            _react2.default.createElement(\n              'fieldset',\n              null,\n              _react2.default.createElement(\n                'legend',\n                null,\n                gettext(\"Automatic subscriptions\")\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  label: gettext(\"Threads I start\"),\n                  'for': 'id_subscribe_to_started_threads'\n                },\n                _react2.default.createElement(_select2.default, {\n                  id: 'id_subscribe_to_started_threads',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('subscribe_to_started_threads'),\n                  value: this.state.subscribe_to_started_threads,\n                  choices: this.subscribeToChoices\n                })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  label: gettext(\"Threads I reply to\"),\n                  'for': 'id_subscribe_to_replied_threads'\n                },\n                _react2.default.createElement(_select2.default, {\n                  id: 'id_subscribe_to_replied_threads',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('subscribe_to_replied_threads'),\n                  value: this.state.subscribe_to_replied_threads,\n                  choices: this.subscribeToChoices\n                })\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Save changes\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../reducers/auth\":346,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"../form\":54,\"../form-group\":53,\"../select\":207,\"../yes-no-switch\":297,\"react\":\"react\"}],83:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SideNav = SideNav;\nexports.CompactNav = CompactNav;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _li = require('../li');\n\nvar _li2 = _interopRequireDefault(_li);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction SideNav(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'list-group nav-side' },\n    props.options.map(function (option) {\n      return _react2.default.createElement(\n        _reactRouter.Link,\n        {\n          to: props.baseUrl + option.component + '/',\n          className: 'list-group-item',\n          activeClassName: 'active',\n          key: option.component\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          option.icon\n        ),\n        option.name\n      );\n    })\n  );\n}\n\nfunction CompactNav(props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: props.className || \"dropdown-menu stick-to-bottom\", role: 'menu' },\n    props.options.map(function (option) {\n      return _react2.default.createElement(\n        _li2.default,\n        {\n          path: props.baseUrl + option.component + '/',\n          key: option.component\n        },\n        _react2.default.createElement(\n          _reactRouter.Link,\n          {\n            to: props.baseUrl + option.component + '/',\n            onClick: props.hideNav\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon hidden-sm' },\n            option.icon\n          ),\n          option.name\n        )\n      );\n    })\n  );\n}\n\n},{\"../../index\":299,\"../li\":55,\"react\":\"react\",\"react-router\":\"react-router\"}],84:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\nexports.paths = paths;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _dropdownToggle = require('../dropdown-toggle');\n\nvar _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);\n\nvar _navs = require('./navs');\n\nvar _deleteAccount = require('./delete-account');\n\nvar _deleteAccount2 = _interopRequireDefault(_deleteAccount);\n\nvar _editDetails = require('./edit-details');\n\nvar _editDetails2 = _interopRequireDefault(_editDetails);\n\nvar _forumOptions = require('./forum-options');\n\nvar _forumOptions2 = _interopRequireDefault(_forumOptions);\n\nvar _root = require('./change-username/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _root3 = require('./sign-in-credentials/root');\n\nvar _root4 = _interopRequireDefault(_root3);\n\nvar _withDropdown = require('../with-dropdown');\n\nvar _withDropdown2 = _interopRequireDefault(_withDropdown);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_WithDropdown) {\n  _inherits(_class, _WithDropdown);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-options' },\n        _react2.default.createElement(\n          'div',\n          { className: 'page-header-bg' },\n          _react2.default.createElement(\n            'div',\n            { className: 'page-header' },\n            _react2.default.createElement(\n              'div',\n              { className: 'container' },\n              _react2.default.createElement(\n                'h1',\n                null,\n                gettext(\"Change your options\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'page-tabs visible-xs-block visible-sm-block' },\n              _react2.default.createElement(\n                'div',\n                { className: 'container' },\n                _react2.default.createElement(_navs.CompactNav, {\n                  className: 'nav nav-pills',\n                  baseUrl: _index2.default.get('USERCP_URL'),\n                  options: _index2.default.get('USER_OPTIONS')\n                })\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-3 hidden-xs hidden-sm' },\n              _react2.default.createElement(_navs.SideNav, {\n                baseUrl: _index2.default.get('USERCP_URL'),\n                options: _index2.default.get('USER_OPTIONS')\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-9' },\n              this.props.children\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_withDropdown2.default);\n\nexports.default = _class;\nfunction select(store) {\n  return {\n    'tick': store.tick.tick,\n    'user': store.auth.user,\n    'username-history': store['username-history']\n  };\n}\n\nfunction paths() {\n  var paths = [{\n    path: _index2.default.get('USERCP_URL') + 'forum-options/',\n    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)\n  }, {\n    path: _index2.default.get('USERCP_URL') + 'edit-details/',\n    component: (0, _reactRedux.connect)(select)(_editDetails2.default)\n  }, {\n    path: _index2.default.get('USERCP_URL') + 'change-username/',\n    component: (0, _reactRedux.connect)(select)(_root2.default)\n  }, {\n    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',\n    component: (0, _reactRedux.connect)(select)(_root4.default)\n  }];\n\n  if (_index2.default.get('ENABLE_DELETE_OWN_ACCOUNT')) {\n    paths.push({\n      path: _index2.default.get('USERCP_URL') + 'delete-account/',\n      component: (0, _reactRedux.connect)(select)(_deleteAccount2.default)\n    });\n  }\n\n  return paths;\n}\n\n},{\"../../index\":299,\"../dropdown-toggle\":26,\"../with-dropdown\":296,\"./change-username/root\":79,\"./delete-account\":80,\"./edit-details\":81,\"./forum-options\":82,\"./navs\":83,\"./sign-in-credentials/root\":88,\"react\":\"react\",\"react-redux\":\"react-redux\"}],85:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nvar UnusablePasswordMessage = function UnusablePasswordMessage() {\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel panel-default panel-form' },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-heading' },\n      _react2.default.createElement(\n        'h3',\n        { className: 'panel-title' },\n        gettext(\"Change email or password\")\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-body panel-message-body' },\n      _react2.default.createElement(\n        'div',\n        { className: 'message-icon' },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'info_outline'\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'message-body' },\n        _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          gettext(\"You need to set a password for your account to be able to change your username or email.\")\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'help-block' },\n          _react2.default.createElement(\n            'a',\n            { className: 'btn btn-primary', href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },\n            gettext(\"Set password\")\n          )\n        )\n      )\n    )\n  );\n};\n\nexports.default = UnusablePasswordMessage;\n\n},{\"../../../index\":299,\"react\":\"react\"}],86:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      new_email: '',\n      password: '',\n\n      validators: {\n        new_email: [validators.email()],\n        password: []\n      },\n\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      var errors = this.validate();\n      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];\n\n      if (lengths.indexOf(0) !== -1) {\n        _snackbar2.default.error(gettext(\"Fill out all fields.\"));\n        return false;\n      }\n\n      if (errors.new_email) {\n        _snackbar2.default.error(errors.new_email[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.user.api.change_email, {\n        new_email: this.state.new_email,\n        password: this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(response) {\n      this.setState({\n        new_email: '',\n        password: ''\n      });\n\n      _snackbar2.default.success(response.detail);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.new_email) {\n          _snackbar2.default.error(rejection.new_email);\n        } else {\n          _snackbar2.default.error(rejection.password);\n        }\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),\n        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default panel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Change e-mail address\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"New e-mail\"), 'for': 'id_new_email' },\n              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('new_email'),\n                value: this.state.new_email })\n            ),\n            _react2.default.createElement('hr', null),\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Your current password\"), 'for': 'id_confirm_email' },\n              _react2.default.createElement('input', { type: 'password', id: 'id_confirm_email', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('password'),\n                value: this.state.password })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Change e-mail\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../utils/validators\":389,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"react\":\"react\"}],87:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      new_password: '',\n      repeat_password: '',\n      password: '',\n\n      validators: {\n        new_password: [],\n        repeat_password: [],\n        password: []\n      },\n\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      var errors = this.validate();\n      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];\n\n      if (lengths.indexOf(0) !== -1) {\n        _snackbar2.default.error(gettext(\"Fill out all fields.\"));\n        return false;\n      }\n\n      if (errors.new_password) {\n        _snackbar2.default.error(errors.new_password[0]);\n        return false;\n      }\n\n      if (this.state.new_password !== this.state.repeat_password) {\n        _snackbar2.default.error(gettext(\"New passwords are different.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.user.api.change_password, {\n        new_password: this.state.new_password,\n        password: this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(response) {\n      this.setState({\n        new_password: '',\n        repeat_password: '',\n        password: ''\n      });\n\n      _snackbar2.default.success(response.detail);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.new_password) {\n          _snackbar2.default.error(rejection.new_password);\n        } else {\n          _snackbar2.default.error(rejection.password);\n        }\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),\n        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default panel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Change password\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"New password\"), 'for': 'id_new_password' },\n              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('new_password'),\n                value: this.state.new_password })\n            ),\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Repeat password\"), 'for': 'id_repeat_password' },\n              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('repeat_password'),\n                value: this.state.repeat_password })\n            ),\n            _react2.default.createElement('hr', null),\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Your current password\"), 'for': 'id_confirm_password' },\n              _react2.default.createElement('input', { type: 'password', id: 'id_confirm_password', className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('password'),\n                value: this.state.password })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Change password\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"react\":\"react\"}],88:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _changeEmail = require('./change-email');\n\nvar _changeEmail2 = _interopRequireDefault(_changeEmail);\n\nvar _changePassword = require('./change-password');\n\nvar _changePassword2 = _interopRequireDefault(_changePassword);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _UnusablePasswordMessage = require('./UnusablePasswordMessage');\n\nvar _UnusablePasswordMessage2 = _interopRequireDefault(_UnusablePasswordMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Change email or password\"),\n        parent: gettext(\"Change your options\")\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.user.has_usable_password) {\n        return _react2.default.createElement(_UnusablePasswordMessage2.default, null);\n      }\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),\n        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),\n        _react2.default.createElement(\n          'p',\n          { className: 'message-line' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'warning'\n          ),\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },\n            gettext(\"Change forgotten password\")\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../services/page-title\":369,\"./UnusablePasswordMessage\":85,\"./change-email\":86,\"./change-password\":87,\"react\":\"react\"}],89:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _stringCount = require('../utils/string-count');\n\nvar _stringCount2 = _interopRequireDefault(_stringCount);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.copy && this.props.copy.length) {\n        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {\n          return 'page-lead lead';\n        }\n      }\n\n      return 'page-lead';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.copy && this.props.copy.length) {\n        /* jshint ignore:start */\n        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {\n            __html: this.props.copy\n          } });\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../utils/string-count\":388,\"react\":\"react\"}],90:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'panel-body panel-body-loading' },\n        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./loader\":56,\"react\":\"react\"}],91:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"getHelpText\",\n    value: function getHelpText() {\n      if (this.props.helpText) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          \"p\",\n          { className: \"help-block\" },\n          this.props.helpText\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"panel-body panel-message-body\" },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"message-icon\" },\n          _react2.default.createElement(\n            \"span\",\n            { className: \"material-icon\" },\n            this.props.icon || 'info_outline'\n          )\n        ),\n        _react2.default.createElement(\n          \"div\",\n          { className: \"message-body\" },\n          _react2.default.createElement(\n            \"p\",\n            { className: \"lead\" },\n            this.props.message\n          ),\n          this.getHelpText()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],92:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _addParticipant = require('../add-participant');\n\nvar _addParticipant2 = _interopRequireDefault(_addParticipant);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_addParticipant2.default, { thread: _this.props.thread }));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.thread.acl.can_add_participants) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'col-xs-12 col-sm-3' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-block',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'person_add'\n          ),\n          gettext(\"Add participant\")\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../services/modal\":367,\"../add-participant\":3,\"react\":\"react\"}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.leave = leave;\nexports.remove = remove;\nexports.changeOwner = changeOwner;\n\nvar _participants = require('../../../reducers/participants');\n\nvar participants = _interopRequireWildcard(_participants);\n\nvar _thread = require('../../../reducers/thread');\n\nvar _ = require('../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction leave(thread, participant) {\n  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }]).then(function () {\n    _snackbar2.default.success(gettext(\"You have left this thread.\"));\n    window.setTimeout(function () {\n      window.location = _2.default.get('PRIVATE_THREADS_URL');\n    }, 3 * 1000);\n  }, function (rejection) {\n    _snackbar2.default.apiError(rejection);\n  });\n}\n\nfunction remove(thread, participant) {\n  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {\n    _store2.default.dispatch((0, _thread.updateAcl)(data));\n    _store2.default.dispatch(participants.replace(data.participants));\n\n    var message = gettext(\"%(user)s has been removed from this thread.\");\n    _snackbar2.default.success(interpolate(message, {\n      user: participant.username\n    }, true));\n  }, function (rejection) {\n    _snackbar2.default.apiError(rejection);\n  });\n}\n\nfunction changeOwner(thread, participant) {\n  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'owner', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {\n    _store2.default.dispatch((0, _thread.updateAcl)(data));\n    _store2.default.dispatch(participants.replace(data.participants));\n\n    var message = gettext(\"%(user)s has been made new thread owner.\");\n    _snackbar2.default.success(interpolate(message, {\n      user: participant.username\n    }, true));\n  }, function (rejection) {\n    _snackbar2.default.apiError(rejection);\n  });\n}\n\n},{\"../../..\":299,\"../../../reducers/participants\":347,\"../../../reducers/thread\":356,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var participant = props.participant;\n\n  var className = 'btn btn-default';\n  if (participant.is_owner) {\n    className = 'btn btn-primary';\n  }\n  className += ' btn-user btn-block';\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-3 col-md-2 participant-card' },\n    _react2.default.createElement(\n      'div',\n      { className: 'dropdown' },\n      _react2.default.createElement(\n        'button',\n        {\n          'aria-haspopup': 'true',\n          'aria-expanded': 'false',\n          className: className,\n          'data-toggle': 'dropdown',\n          type: 'button'\n        },\n        _react2.default.createElement(_avatar2.default, {\n          size: '34',\n          user: participant\n        }),\n        _react2.default.createElement(\n          'span',\n          { className: 'btn-text' },\n          participant.username\n        )\n      ),\n      _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu stick-to-bottom' },\n        _react2.default.createElement(UserStatus, { isOwner: participant.is_owner }),\n        _react2.default.createElement('li', { className: 'dropdown-header' }),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            {\n              href: participant.url\n            },\n            gettext(\"See profile\")\n          )\n        ),\n        _react2.default.createElement('li', { role: 'separator', className: 'divider' }),\n        _react2.default.createElement(_makeOwner2.default, props),\n        _react2.default.createElement(_remove2.default, props)\n      )\n    )\n  );\n};\n\nexports.UserStatus = UserStatus;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _makeOwner = require('./make-owner');\n\nvar _makeOwner2 = _interopRequireDefault(_makeOwner);\n\nvar _remove = require('./remove');\n\nvar _remove2 = _interopRequireDefault(_remove);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction UserStatus(_ref) {\n  var isOwner = _ref.isOwner;\n\n  if (!isOwner) return null;\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'dropdown-header dropdown-header-owner' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'start'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'icon-text' },\n      gettext(\"Thread owner\")\n    )\n  );\n} // jshint ignore:start\n\n},{\"../../avatar\":5,\"./make-owner\":96,\"./remove\":97,\"react\":\"react\"}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var participants = _ref.participants,\n      thread = _ref.thread,\n      user = _ref.user,\n      userIsOwner = _ref.userIsOwner;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'participants-cards' },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      participants.map(function (participant) {\n        return _react2.default.createElement(_card2.default, {\n          key: participant.id,\n          participant: participant,\n          thread: thread,\n          user: user,\n          userIsOwner: userIsOwner\n        });\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _card = require('./card');\n\nvar _card2 = _interopRequireDefault(_card);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./card\":94,\"react\":\"react\"}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('./actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onClick = function () {\n      var confirmed = false;\n      if (_this.isUser) {\n        confirmed = confirm(gettext(\"Are you sure you want to take over this thread?\"));\n      } else {\n        var message = gettext(\"Are you sure you want to change thread owner to %(user)s?\");\n        confirmed = confirm(interpolate(message, {\n          user: _this.props.participant.username\n        }, true));\n      }\n\n      if (!confirmed) return;\n\n      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);\n    };\n\n    _this.isUser = props.participant.id === props.user.id;\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.participant.is_owner) return null;\n      if (!this.props.thread.acl.can_change_owner) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          gettext(\"Make owner\")\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./actions\":93,\"react\":\"react\"}],97:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('./actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onClick = function () {\n      var confirmed = false;\n      if (_this.isUser) {\n        confirmed = confirm(gettext(\"Are you sure you want to leave this thread?\"));\n      } else {\n        var message = gettext(\"Are you sure you want to remove %(user)s from this thread?\");\n        confirmed = confirm(interpolate(message, {\n          user: _this.props.participant.username\n        }, true));\n      }\n\n      if (!confirmed) return;\n\n      if (_this.isUser) {\n        (0, _actions.leave)(_this.props.thread, _this.props.participant);\n      } else {\n        (0, _actions.remove)(_this.props.thread, _this.props.participant);\n      }\n    };\n\n    _this.isUser = props.participant.id === props.user.id;\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var isModerator = this.props.user.acl.can_moderate_private_threads;\n\n      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          this.isUser ? gettext(\"Leave thread\") : gettext(\"Remove\")\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./actions\":93,\"react\":\"react\"}],98:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  if (!props.participants.length) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel panel-default panel-participants' },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-body' },\n      _react2.default.createElement(_cardsList2.default, _extends({\n        userIsOwner: getUserIsOwner(props.user, props.participants)\n      }, props)),\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(_addParticipant2.default, { thread: props.thread }),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-xs-12 col-sm-9' },\n          _react2.default.createElement(\n            'p',\n            null,\n            utils.getParticipantsCopy(props.participants)\n          )\n        )\n      )\n    )\n  );\n};\n\nexports.getUserIsOwner = getUserIsOwner;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _addParticipant = require('./add-participant');\n\nvar _addParticipant2 = _interopRequireDefault(_addParticipant);\n\nvar _cardsList = require('./cards-list');\n\nvar _cardsList2 = _interopRequireDefault(_cardsList);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getUserIsOwner(user, participants) {\n  return participants[0].id === user.id;\n}\n\n},{\"./add-participant\":92,\"./cards-list\":95,\"./utils\":99,\"react\":\"react\"}],99:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getParticipantsCopy = getParticipantsCopy;\nfunction getParticipantsCopy(participants) {\n  var count = participants.length;\n  var message = ngettext(\"This thread has %(users)s participant.\", \"This thread has %(users)s participants.\", count);\n\n  return interpolate(message, {\n    users: count\n  }, true);\n}\n\n},{}],100:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LABELS = exports.STYLES = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];\n\nvar LABELS = exports.LABELS = [gettext(\"Entered password is very weak.\"), gettext(\"Entered password is weak.\"), gettext(\"Entered password is average.\"), gettext(\"Entered password is strong.\"), gettext(\"Entered password is very strong.\")];\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this._score = 0;\n    _this._password = null;\n    _this._inputs = [];\n\n    _this.state = {\n      loaded: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _zxcvbn2.default.load().then(function () {\n        _this2.setState({ loaded: true });\n      });\n    }\n  }, {\n    key: 'getScore',\n    value: function getScore(password, inputs) {\n      var _this3 = this;\n\n      var cacheStale = false;\n\n      if (password !== this._password) {\n        cacheStale = true;\n      }\n\n      if (inputs.length !== this._inputs.length) {\n        cacheStale = true;\n      } else {\n        inputs.map(function (value, i) {\n          if (value.trim() !== _this3._inputs[i]) {\n            cacheStale = true;\n          }\n        });\n      }\n\n      if (cacheStale) {\n        this._score = _zxcvbn2.default.scorePassword(password, inputs);\n        this._password = password;\n        this._inputs = inputs.map(function (value) {\n          return value.trim();\n        });\n      }\n\n      return this._score;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.state.loaded) return null;\n\n      /* jshint ignore:start */\n      var score = this.getScore(this.props.password, this.props.inputs);\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'help-block password-strength' },\n        _react2.default.createElement(\n          'div',\n          { className: 'progress' },\n          _react2.default.createElement(\n            'div',\n            { className: \"progress-bar \" + STYLES[score],\n              style: { width: 20 + 20 * score + '%' },\n              role: 'progress-bar',\n              'aria-valuenow': score,\n              'aria-valuemin': '0',\n              'aria-valuemax': '4' },\n            _react2.default.createElement(\n              'span',\n              { className: 'sr-only' },\n              LABELS[score]\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'text-small' },\n          LABELS[score]\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/zxcvbn\":374,\"react\":\"react\"}],101:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PollChoice = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.generateRandomHash = generateRandomHash;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onAdd = function () {\n      var choices = _this.props.choices.slice();\n      choices.push({\n        hash: generateRandomHash(),\n        label: ''\n      });\n\n      _this.props.setChoices(choices);\n    }, _this.onChange = function (hash, label) {\n      var choices = _this.props.choices.map(function (choice) {\n        if (choice.hash === hash) {\n          choice.label = label;\n        }\n\n        return choice;\n      });\n      _this.props.setChoices(choices);\n    }, _this.onDelete = function (hash) {\n      var choices = _this.props.choices.filter(function (choice) {\n        return choice.hash !== hash;\n      });\n      _this.props.setChoices(choices);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'poll-choices-control' },\n        _react2.default.createElement(\n          'ul',\n          { className: 'list-group' },\n          this.props.choices.map(function (choice) {\n            return _react2.default.createElement(PollChoice, {\n              canDelete: _this2.props.choices.length > 2,\n              choice: choice,\n              disabled: _this2.props.disabled,\n              key: choice.hash,\n              onChange: _this2.onChange,\n              onDelete: _this2.onDelete\n            });\n          })\n        ),\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-sm',\n            disabled: this.props.disabled,\n            onClick: this.onAdd,\n            type: 'button'\n          },\n          gettext(\"Add choice\")\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\nvar PollChoice = exports.PollChoice = function (_React$Component2) {\n  _inherits(PollChoice, _React$Component2);\n\n  function PollChoice() {\n    var _ref2;\n\n    var _temp2, _this3, _ret2;\n\n    _classCallCheck(this, PollChoice);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = PollChoice.__proto__ || Object.getPrototypeOf(PollChoice)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onChange = function (event) {\n      _this3.props.onChange(_this3.props.choice.hash, event.target.value);\n    }, _this3.onDelete = function () {\n      var deleteItem = confirm(gettext(\"Are you sure you want to delete this choice?\"));\n      if (deleteItem) {\n        _this3.props.onDelete(_this3.props.choice.hash);\n      }\n    }, _temp2), _possibleConstructorReturn(_this3, _ret2);\n  }\n\n  _createClass(PollChoice, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        { className: 'list-group-item' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn',\n            disabled: !this.props.canDelete || this.props.disabled,\n            onClick: this.onDelete,\n            title: gettext(\"Delete this choice\"),\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'close'\n          )\n        ),\n        _react2.default.createElement('input', {\n          disabled: this.props.disabled,\n          maxLength: '255',\n          placeholder: gettext(\"choice label\"),\n          type: 'text',\n          onChange: this.onChange,\n          value: this.props.choice.label\n        })\n      );\n    }\n  }]);\n\n  return PollChoice;\n}(_react2.default.Component);\n\nfunction generateRandomHash() {\n  var randomHash = '';\n  while (randomHash.length != 12) {\n    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, '').substr(1, 12);\n  }\n  return randomHash;\n}\n\n},{\"react\":\"react\"}],102:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.PollPublicSwitch = PollPublicSwitch;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _choicesControl = require('./choices-control');\n\nvar _choicesControl2 = _interopRequireDefault(_choicesControl);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _yesNoSwitch = require('../../yes-no-switch');\n\nvar _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);\n\nvar _poll = require('../../../reducers/poll');\n\nvar poll = _interopRequireWildcard(_poll);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.setChoices = function (choices) {\n      var errors = Object.assign({}, errors, { choices: null });\n\n      _this.setState({\n        choices: choices,\n        errors: errors\n      });\n    };\n\n    _this.onCancel = function () {\n      var cancel = confirm(gettext(\"Are you sure you want to discard poll?\"));\n      if (cancel) {\n        _posting2.default.close();\n      }\n    };\n\n    var poll = props.poll || {\n      question: '',\n      choices: [{\n        hash: 'choice-10000',\n        label: ''\n      }, {\n        hash: 'choice-20000',\n        label: ''\n      }],\n      length: 0,\n      allowed_choices: 1,\n      allow_revotes: 0,\n      is_public: 0\n    };\n\n    _this.state = {\n      isLoading: false,\n      isEdit: !!poll.question,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: []\n      },\n\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'send',\n    value: function send() {\n      var data = {\n        question: this.state.question,\n        choices: this.state.choices,\n        length: this.state.length,\n        allowed_choices: this.state.allowed_choices,\n        allow_revotes: this.state.allow_revotes,\n        is_public: this.state.is_public\n      };\n\n      if (this.state.isEdit) {\n        return _ajax2.default.put(this.props.poll.api.index, data);\n      } else {\n        return _ajax2.default.post(this.props.thread.api.poll, data);\n      }\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(data) {\n      _store2.default.dispatch(poll.replace(data));\n\n      if (this.state.isEdit) {\n        _snackbar2.default.success(gettext(\"Poll has been edited.\"));\n      } else {\n        _snackbar2.default.success(gettext(\"Poll has been posted.\"));\n      }\n\n      _posting2.default.close();\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.non_field_errors) {\n          rejection.allowed_choices = rejection.non_field_errors;\n        }\n\n        this.setState({\n          'errors': Object.assign({}, rejection)\n        });\n\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'poll-form' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'panel panel-default panel-form' },\n              _react2.default.createElement(\n                'div',\n                { className: 'panel-body' },\n                _react2.default.createElement(\n                  'fieldset',\n                  null,\n                  _react2.default.createElement(\n                    'legend',\n                    null,\n                    gettext(\"Question and choices\")\n                  ),\n                  _react2.default.createElement(\n                    _formGroup2.default,\n                    {\n                      label: gettext(\"Poll question\"),\n                      'for': 'id_questions',\n                      validation: this.state.errors.question\n                    },\n                    _react2.default.createElement('input', {\n                      className: 'form-control',\n                      disabled: this.state.isLoading,\n                      id: 'id_questions',\n                      onChange: this.bindInput('question'),\n                      type: 'text',\n                      maxLength: '255',\n                      value: this.state.question\n                    })\n                  ),\n                  _react2.default.createElement(\n                    _formGroup2.default,\n                    {\n                      label: gettext(\"Available choices\"),\n                      validation: this.state.errors.choices\n                    },\n                    _react2.default.createElement(_choicesControl2.default, {\n                      choices: this.state.choices,\n                      disabled: this.state.isLoading,\n                      setChoices: this.setChoices\n                    })\n                  )\n                ),\n                _react2.default.createElement(\n                  'fieldset',\n                  null,\n                  _react2.default.createElement(\n                    'legend',\n                    null,\n                    gettext(\"Voting\")\n                  ),\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'row' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-12 col-sm-6' },\n                      _react2.default.createElement(\n                        _formGroup2.default,\n                        {\n                          label: gettext(\"Poll length\"),\n                          helpText: gettext(\"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"),\n                          'for': 'id_length',\n                          validation: this.state.errors.length\n                        },\n                        _react2.default.createElement('input', {\n                          className: 'form-control',\n                          disabled: this.state.isLoading,\n                          id: 'id_length',\n                          onChange: this.bindInput('length'),\n                          type: 'text',\n                          value: this.state.length\n                        })\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-12 col-sm-6' },\n                      _react2.default.createElement(\n                        _formGroup2.default,\n                        {\n                          label: gettext(\"Allowed choices\"),\n                          'for': 'id_allowed_choices',\n                          validation: this.state.errors.allowed_choices\n                        },\n                        _react2.default.createElement('input', {\n                          className: 'form-control',\n                          disabled: this.state.isLoading,\n                          id: 'id_allowed_choices',\n                          onChange: this.bindInput('allowed_choices'),\n                          type: 'text',\n                          maxLength: '255',\n                          value: this.state.allowed_choices\n                        })\n                      )\n                    )\n                  ),\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'row' },\n                    _react2.default.createElement(PollPublicSwitch, {\n                      bindInput: this.bindInput,\n                      disabled: this.state.isLoading,\n                      isEdit: this.state.isEdit,\n                      value: this.state.is_public\n                    }),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-12 col-sm-6' },\n                      _react2.default.createElement(\n                        _formGroup2.default,\n                        {\n                          label: gettext(\"Allow vote changes\"),\n                          'for': 'id_allow_revotes'\n                        },\n                        _react2.default.createElement(_yesNoSwitch2.default, {\n                          id: 'id_allow_revotes',\n                          disabled: this.state.isLoading,\n                          iconOn: 'check',\n                          iconOff: 'close',\n                          labelOn: gettext(\"Allow participants to change their vote\"),\n                          labelOff: gettext(\"Don't allow participants to change their vote\"),\n                          onChange: this.bindInput('allow_revotes'),\n                          value: this.state.allow_revotes\n                        })\n                      )\n                    )\n                  )\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'panel-footer text-right' },\n                _react2.default.createElement(\n                  'button',\n                  {\n                    className: 'btn btn-default',\n                    disabled: this.state.isLoading,\n                    onClick: this.onCancel,\n                    type: 'button'\n                  },\n                  gettext(\"Cancel\")\n                ),\n                ' ',\n                _react2.default.createElement(\n                  _button2.default,\n                  {\n                    className: 'btn-primary',\n                    loading: this.state.isLoading\n                  },\n                  this.state.isEdit ? gettext(\"Save changes\") : gettext(\"Post poll\")\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction PollPublicSwitch(props) {\n  if (props.isEdit) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-6' },\n    _react2.default.createElement(\n      _formGroup2.default,\n      {\n        label: gettext(\"Make voting public\"),\n        helpText: gettext(\"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"),\n        'for': 'id_is_public'\n      },\n      _react2.default.createElement(_yesNoSwitch2.default, {\n        id: 'id_is_public',\n        disabled: props.disabled,\n        iconOn: 'visibility',\n        iconOff: 'visibility_off',\n        labelOn: gettext(\"Votes are public\"),\n        labelOff: gettext(\"Votes are hidden\"),\n        onChange: props.bindInput('is_public'),\n        value: props.value\n      })\n    )\n  );\n}\n\n},{\"../../../reducers/poll\":348,\"../../../services/ajax\":361,\"../../../services/posting\":371,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"../../yes-no-switch\":297,\"./choices-control\":101,\"react\":\"react\"}],103:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PollForm = exports.Poll = undefined;\n\nvar _poll = require('./poll');\n\nvar _poll2 = _interopRequireDefault(_poll);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Poll = _poll2.default;\nexports.PollForm = _form2.default;\n\n},{\"./form\":102,\"./poll\":105}],104:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-unstyled list-inline poll-details' },\n    _react2.default.createElement(PollVotes, { votes: props.poll.votes }),\n    _react2.default.createElement(PollLength, { poll: props.poll }),\n    _react2.default.createElement(PollIsPublic, { poll: props.poll }),\n    _react2.default.createElement(PollCreation, { poll: props.poll })\n  );\n};\n\nexports.PollCreation = PollCreation;\nexports.getPoster = getPoster;\nexports.getPostedOn = getPostedOn;\nexports.PollLength = PollLength;\nexports.getEndsOn = getEndsOn;\nexports.PollVotes = PollVotes;\nexports.PollIsPublic = PollIsPublic;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nfunction PollCreation(props) {\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"Posted by %(poster)s %(posted_on)s.\")), {\n    poster: getPoster(props.poll),\n    posted_on: getPostedOn(props.poll)\n  }, true);\n\n  return _react2.default.createElement('li', {\n    className: 'poll-info-creation',\n    dangerouslySetInnerHTML: { __html: message }\n  });\n}\n\nfunction getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(USER_URL, {\n      url: (0, _escapeHtml2.default)(poll.url.poster),\n      user: (0, _escapeHtml2.default)(poll.poster_name)\n    }, true);\n  }\n\n  return interpolate(USER_SPAN, {\n    user: (0, _escapeHtml2.default)(poll.poster_name)\n  }, true);\n}\n\nfunction getPostedOn(poll) {\n  return interpolate(DATE_ABBR, {\n    absolute: (0, _escapeHtml2.default)(poll.posted_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(poll.posted_on.fromNow())\n  }, true);\n}\n\nfunction PollLength(props) {\n  if (!props.poll.length) {\n    return null;\n  }\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"Voting ends %(ends_on)s.\")), {\n    ends_on: getEndsOn(props.poll)\n  }, true);\n\n  return _react2.default.createElement('li', {\n    className: 'poll-info-ends-on',\n    dangerouslySetInnerHTML: { __html: message }\n  });\n}\n\nfunction getEndsOn(poll) {\n  return interpolate(DATE_ABBR, {\n    absolute: (0, _escapeHtml2.default)(poll.endsOn.format('LLL')),\n    relative: (0, _escapeHtml2.default)(poll.endsOn.fromNow())\n  }, true);\n}\n\nfunction PollVotes(props) {\n  var message = ngettext(\"%(votes)s vote.\", \"%(votes)s votes.\", props.votes);\n  var label = interpolate(message, {\n    'votes': props.votes\n  }, true);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'poll-info-votes' },\n    label\n  );\n}\n\nfunction PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'poll-info-public' },\n    gettext(\"Votes are public.\")\n  );\n}\n\n},{\"../../utils/escape-html\":379,\"react\":\"react\"}],105:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getIsPollOver = getIsPollOver;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _results = require('./results');\n\nvar _results2 = _interopRequireDefault(_results);\n\nvar _voting = require('./voting');\n\nvar _voting2 = _interopRequireDefault(_voting);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.showResults = function () {\n      _this.setState({\n        showResults: true\n      });\n    };\n\n    _this.showVoting = function () {\n      _this.setState({\n        showResults: false\n      });\n    };\n\n    var showResults = true;\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false;\n    }\n\n    _this.state = {\n      showResults: showResults\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.thread.poll) return null;\n\n      var isPollOver = getIsPollOver(this.props.poll);\n\n      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {\n        return _react2.default.createElement(_voting2.default, _extends({ showResults: this.showResults }, this.props));\n      } else {\n        return _react2.default.createElement(_results2.default, _extends({\n          isPollOver: isPollOver,\n          showVoting: this.showVoting\n        }, this.props));\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction getIsPollOver(poll) {\n  if (poll.length) {\n    return (0, _moment2.default)().isAfter(poll.endsOn);\n  }\n  return false;\n}\n\n},{\"./results\":107,\"./voting\":111,\"moment\":\"moment\",\"react\":\"react\"}],106:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"poll-choices-bars\" },\n    props.poll.choices.map(function (choice) {\n      return _react2.default.createElement(PollChoice, {\n        choice: choice,\n        key: choice.hash,\n        poll: props.poll\n      });\n    })\n  );\n};\n\nexports.PollChoice = PollChoice;\nexports.ChoiceVotes = ChoiceVotes;\nexports.getVotesLabel = getVotesLabel;\nexports.UserChoice = UserChoice;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction PollChoice(props) {\n  var proc = 0;\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);\n  }\n\n  return _react2.default.createElement(\n    \"dl\",\n    { className: \"dl-horizontal\" },\n    _react2.default.createElement(\n      \"dt\",\n      null,\n      props.choice.label\n    ),\n    _react2.default.createElement(\n      \"dd\",\n      null,\n      _react2.default.createElement(\n        \"div\",\n        { className: \"progress\" },\n        _react2.default.createElement(\n          \"div\",\n          {\n            className: \"progress-bar\",\n            role: \"progressbar\",\n            \"aria-valuenow\": proc,\n            \"aria-valuemin\": \"0\",\n            \"aria-valuemax\": \"100\",\n            style: { width: proc + '%' }\n          },\n          _react2.default.createElement(\n            \"span\",\n            { className: \"sr-only\" },\n            getVotesLabel(props.votes, props.proc)\n          )\n        )\n      ),\n      _react2.default.createElement(\n        \"ul\",\n        { className: \"list-unstyled list-inline poll-chart\" },\n        _react2.default.createElement(ChoiceVotes, {\n          proc: proc,\n          votes: props.choice.votes\n        }),\n        _react2.default.createElement(UserChoice, { selected: props.choice.selected })\n      )\n    )\n  );\n}\n\nfunction ChoiceVotes(props) {\n  return _react2.default.createElement(\n    \"li\",\n    { className: \"poll-chart-votes\" },\n    getVotesLabel(props.votes, props.proc)\n  );\n}\n\nfunction getVotesLabel(votes, proc) {\n  var message = ngettext(\"%(votes)s vote, %(proc)s% of total.\", \"%(votes)s votes, %(proc)s% of total.\", votes);\n\n  return interpolate(message, {\n    'votes': votes,\n    'proc': proc\n  }, true);\n}\n\nfunction UserChoice(props) {\n  if (!props.selected) return null;\n\n  return _react2.default.createElement(\n    \"li\",\n    { className: \"poll-chart-selected\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"check_box\"\n    ),\n    gettext(\"Your choice.\")\n  );\n}\n\n},{\"react\":\"react\"}],107:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel panel-default panel-poll' },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-body' },\n      _react2.default.createElement(\n        'h2',\n        null,\n        props.poll.question\n      ),\n      _react2.default.createElement(_info2.default, { poll: props.poll }),\n      _react2.default.createElement(_chart2.default, { poll: props.poll }),\n      _react2.default.createElement(_options2.default, {\n        isPollOver: props.isPollOver,\n        poll: props.poll,\n        showVoting: props.showVoting,\n        thread: props.thread\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nvar _options = require('./options');\n\nvar _options2 = _interopRequireDefault(_options);\n\nvar _info = require('../info');\n\nvar _info2 = _interopRequireDefault(_info);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../info\":104,\"./chart\":106,\"./options\":109,\"react\":\"react\"}],108:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalBody = ModalBody;\nexports.ChoicesList = ChoicesList;\nexports.ChoiceDetails = ChoiceDetails;\nexports.VotesCount = VotesCount;\nexports.VotesList = VotesList;\nexports.Voter = Voter;\nexports.VoteDate = VoteDate;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _modalMessage = require('../../modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _modalLoader = require('../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      isLoading: true,\n      error: null,\n      data: []\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.poll.api.votes).then(function (data) {\n        var hydratedData = data.map(function (choice) {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map(function (voter) {\n              return Object.assign({}, voter, {\n                voted_on: (0, _moment2.default)(voter.voted_on)\n              });\n            })\n          });\n        });\n\n        _this2.setState({\n          isLoading: false,\n          data: hydratedData\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isLoading: false,\n          error: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        {\n          className: 'modal-dialog' + (this.state.error ? ' modal-message' : ' modal-sm'),\n          role: 'document'\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              {\n                type: 'button',\n                className: 'close',\n                'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\")\n              },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Poll votes\")\n            )\n          ),\n          _react2.default.createElement(ModalBody, {\n            data: this.state.data,\n            error: this.state.error,\n            isLoading: this.state.isLoading\n          })\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction ModalBody(props) {\n  if (props.isLoading) {\n    return _react2.default.createElement(_modalLoader2.default, null);\n  } else if (props.error) {\n    return _react2.default.createElement(_modalMessage2.default, {\n      icon: 'error_outline',\n      message: props.error\n    });\n  }\n\n  return _react2.default.createElement(ChoicesList, {\n    data: props.data\n  });\n}\n\nfunction ChoicesList(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-body modal-poll-votes' },\n    _react2.default.createElement(\n      'ul',\n      { className: 'list-unstyled votes-details' },\n      props.data.map(function (choice) {\n        return _react2.default.createElement(ChoiceDetails, _extends({\n          key: choice.hash\n        }, choice));\n      })\n    )\n  );\n}\n\nfunction ChoiceDetails(props) {\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'h4',\n      null,\n      props.label\n    ),\n    _react2.default.createElement(VotesCount, { votes: props.votes }),\n    _react2.default.createElement(VotesList, { voters: props.voters }),\n    _react2.default.createElement('hr', null)\n  );\n}\n\nfunction VotesCount(props) {\n  var message = ngettext(\"%(votes)s user has voted for this choice.\", \"%(votes)s users have voted for this choice.\", props.votes);\n\n  var label = interpolate(message, {\n    'votes': props.votes\n  }, true);\n\n  return _react2.default.createElement(\n    'p',\n    null,\n    label\n  );\n}\n\nfunction VotesList(props) {\n  if (!props.voters.length) return null;\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-unstyled' },\n    props.voters.map(function (user) {\n      return _react2.default.createElement(Voter, _extends({\n        key: user.username\n      }, user));\n    })\n  );\n}\n\nfunction Voter(props) {\n  if (props.url) {\n    return _react2.default.createElement(\n      'li',\n      null,\n      _react2.default.createElement(\n        'a',\n        {\n          className: 'item-title',\n          href: props.url\n        },\n        props.username\n      ),\n      ' ',\n      _react2.default.createElement(VoteDate, { voted_on: props.voted_on })\n    );\n  }\n\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'strong',\n      null,\n      props.username\n    ),\n    ' ',\n    _react2.default.createElement(VoteDate, { voted_on: props.voted_on })\n  );\n}\n\nfunction VoteDate(props) {\n  return _react2.default.createElement(\n    'abbr',\n    {\n      className: 'text-muted',\n      title: props.voted_on.format('LLL')\n    },\n    props.voted_on.fromNow()\n  );\n}\n\n},{\"../../../services/ajax\":361,\"../../modal-loader\":59,\"../../modal-message\":60,\"moment\":\"moment\",\"react\":\"react\"}],109:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Delete = exports.Edit = exports.SeeVotes = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  var isPollOver = props.isPollOver,\n      poll = props.poll,\n      showVoting = props.showVoting,\n      thread = props.thread;\n\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null;\n\n  var controls = [];\n\n  var canVote = poll.acl.can_vote;\n  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;\n\n  if (canVote && canChangeVote) controls.push(0);\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);\n  if (poll.acl.can_edit) controls.push(2);\n  if (poll.acl.can_delete) controls.push(3);\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'row poll-options' },\n    _react2.default.createElement(ChangeVote, {\n      controls: controls,\n      isPollOver: isPollOver,\n      poll: poll,\n      showVoting: showVoting\n    }),\n    _react2.default.createElement(SeeVotes, {\n      controls: controls,\n      poll: poll\n    }),\n    _react2.default.createElement(Edit, {\n      controls: controls,\n      poll: poll,\n      thread: thread\n    }),\n    _react2.default.createElement(Delete, {\n      controls: controls,\n      poll: poll\n    })\n  );\n};\n\nexports.isVisible = isVisible;\nexports.getClassName = getClassName;\nexports.ChangeVote = ChangeVote;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _modal = require('./modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _poll = require('../../../reducers/poll');\n\nvar poll = _interopRequireWildcard(_poll);\n\nvar _thread = require('../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal3 = require('../../../services/modal');\n\nvar _modal4 = _interopRequireDefault(_modal3);\n\nvar _posting = require('../../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nfunction isVisible(isPollOver, acl, poll) {\n  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);\n}\n\nfunction getClassName(controls, control) {\n  var className = 'col-xs-6';\n\n  if (controls.length === 1) {\n    className = 'col-xs-12';\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = 'col-xs-12';\n  }\n\n  return className + ' col-sm-3 col-md-2';\n}\n\nfunction ChangeVote(props) {\n  var canVote = props.poll.acl.can_vote;\n  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;\n\n  if (!(canVote && canChangeVote)) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: getClassName(props.controls, 0) },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-block btn-sm',\n        disabled: props.poll.isBusy,\n        onClick: props.showVoting,\n        type: 'button'\n      },\n      gettext(\"Vote\")\n    )\n  );\n}\n\nvar SeeVotes = exports.SeeVotes = function (_React$Component) {\n  _inherits(SeeVotes, _React$Component);\n\n  function SeeVotes() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SeeVotes);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SeeVotes.__proto__ || Object.getPrototypeOf(SeeVotes)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _modal4.default.show(_react2.default.createElement(_modal2.default, { poll: _this.props.poll }));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(SeeVotes, [{\n    key: 'render',\n    value: function render() {\n      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;\n      if (!seeVotes) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: getClassName(this.props.controls, 1) },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-block btn-sm',\n            disabled: this.props.poll.isBusy,\n            onClick: this.onClick,\n            type: 'button'\n          },\n          gettext(\"See votes\")\n        )\n      );\n    }\n  }]);\n\n  return SeeVotes;\n}(_react2.default.Component);\n\nvar Edit = exports.Edit = function (_React$Component2) {\n  _inherits(Edit, _React$Component2);\n\n  function Edit() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      _posting2.default.open({\n        submit: _this2.props.poll.api.index,\n\n        thread: _this2.props.thread,\n        poll: _this2.props.poll,\n\n        mode: 'POLL'\n      });\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(Edit, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.poll.acl.can_edit) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: getClassName(this.props.controls, 2) },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-block btn-sm',\n            disabled: this.props.poll.isBusy,\n            onClick: this.onClick,\n            type: 'button'\n          },\n          gettext(\"Edit\")\n        )\n      );\n    }\n  }]);\n\n  return Edit;\n}(_react2.default.Component);\n\nvar Delete = exports.Delete = function (_React$Component3) {\n  _inherits(Delete, _React$Component3);\n\n  function Delete() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, Delete);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      var deletePoll = confirm(gettext(\"Are you sure you want to delete this poll? This action is not reversible.\"));\n      if (!deletePoll) return false;\n\n      _store2.default.dispatch(poll.busy());\n\n      _ajax2.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);\n    }, _this3.handleSuccess = function (newThreadAcl) {\n      _snackbar2.default.success(\"Poll has been deleted\");\n      _store2.default.dispatch(poll.remove());\n      _store2.default.dispatch(thread.updateAcl(newThreadAcl));\n    }, _this3.handleError = function (rejection) {\n      _snackbar2.default.apiError(rejection);\n      _store2.default.dispatch(poll.release());\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(Delete, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.poll.acl.can_delete) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: getClassName(this.props.controls, 3) },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-block btn-sm',\n            disabled: this.props.poll.isBusy,\n            onClick: this.onClick,\n            type: 'button'\n          },\n          gettext(\"Delete\")\n        )\n      );\n    }\n  }]);\n\n  return Delete;\n}(_react2.default.Component);\n\n},{\"../../../reducers/poll\":348,\"../../../reducers/thread\":356,\"../../../services/ajax\":361,\"../../../services/modal\":367,\"../../../services/posting\":371,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"./modal\":108,\"react\":\"react\"}],110:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-unstyled list-inline poll-help' },\n    _react2.default.createElement(PollChoicesLeft, { choicesLeft: props.choicesLeft }),\n    _react2.default.createElement(PollAllowRevote, { poll: props.poll })\n  );\n};\n\nexports.PollChoicesLeft = PollChoicesLeft;\nexports.PollAllowRevote = PollAllowRevote;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nfunction PollChoicesLeft(_ref) {\n  var choicesLeft = _ref.choicesLeft;\n\n  if (choicesLeft === 0) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'poll-help-choices-left' },\n      gettext(\"You can't select any more choices.\")\n    );\n  }\n\n  var message = ngettext(\"You can select %(choices)s more choice.\", \"You can select %(choices)s more choices.\", choicesLeft);\n\n  var label = interpolate(message, {\n    'choices': choicesLeft\n  }, true);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'poll-help-choices-left' },\n    label\n  );\n}\n\nfunction PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'poll-help-allow-revotes' },\n      gettext(\"You can change your vote later.\")\n    );\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'poll-help-no-revotes' },\n    gettext(\"Votes are final.\")\n  );\n}\n\n},{\"../../../utils/escape-html\":379,\"react\":\"react\"}],111:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _help = require('./help');\n\nvar _help2 = _interopRequireDefault(_help);\n\nvar _select = require('./select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _utils = require('./utils');\n\nvar _info = require('../info');\n\nvar _info2 = _interopRequireDefault(_info);\n\nvar _options = require('../results/options');\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _poll = require('../../../reducers/poll');\n\nvar poll = _interopRequireWildcard(_poll);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.toggleChoice = function (hash) {\n      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);\n\n      var choices = null;\n      if (!choice.selected) {\n        choices = _this.selectChoice(choice, hash);\n      } else {\n        choices = _this.deselectChoice(choice, hash);\n      }\n\n      _this.setState({\n        choices: choices,\n        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)\n      });\n    };\n\n    _this.selectChoice = function (choice, hash) {\n      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);\n\n      if (!choicesLeft) {\n        for (var i in _this.state.choices.slice()) {\n          var item = _this.state.choices[i];\n          if (item.selected && item.hash != hash) {\n            item.selected = false;\n            break;\n          }\n        }\n      }\n\n      return _this.state.choices.map(function (choice) {\n        return Object.assign({}, choice, {\n          selected: choice.hash == hash ? true : choice.selected\n        });\n      });\n    };\n\n    _this.deselectChoice = function (choice, hash) {\n      return _this.state.choices.map(function (choice) {\n        return Object.assign({}, choice, {\n          selected: choice.hash == hash ? false : choice.selected\n        });\n      });\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n        _snackbar2.default.error(gettext(\"You need to select at least one choice\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      var data = [];\n      for (var i in this.state.choices.slice()) {\n        var item = this.state.choices[i];\n        if (item.selected) {\n          data.push(item.hash);\n        }\n      }\n\n      return _ajax2.default.post(this.props.poll.api.votes, data);\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(data) {\n      _store2.default.dispatch(poll.replace(data));\n      _snackbar2.default.success(gettext(\"Your vote has been saved.\"));\n\n      this.props.showResults();\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(rejection.detail);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var controls = [];\n\n      if (this.props.poll.acl.can_vote) controls.push(0);\n      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);\n      if (this.props.poll.acl.can_edit) controls.push(2);\n      if (this.props.poll.acl.can_delete) controls.push(3);\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'panel panel-default panel-poll' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              'h2',\n              null,\n              this.props.poll.question\n            ),\n            _react2.default.createElement(_info2.default, { poll: this.props.poll }),\n            _react2.default.createElement(_select2.default, {\n              choices: this.state.choices,\n              toggleChoice: this.toggleChoice\n            }),\n            _react2.default.createElement(_help2.default, {\n              choicesLeft: this.state.choicesLeft,\n              poll: this.props.poll\n            })\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-footer' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: (0, _options.getClassName)(controls, 0) },\n                _react2.default.createElement(\n                  _button2.default,\n                  {\n                    className: 'btn-primary btn-block btn-sm',\n                    loading: this.state.isLoading\n                  },\n                  gettext(\"Save your vote\")\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: (0, _options.getClassName)(controls, 1) },\n                _react2.default.createElement(\n                  'button',\n                  {\n                    className: 'btn btn-default btn-block btn-sm',\n                    disabled: this.state.isLoading,\n                    onClick: this.props.showResults,\n                    type: 'button'\n                  },\n                  gettext(\"See results\")\n                )\n              ),\n              _react2.default.createElement(_options.Edit, {\n                controls: controls,\n                poll: this.props.poll,\n                thread: this.props.thread\n              }),\n              _react2.default.createElement(_options.Delete, {\n                controls: controls,\n                poll: this.props.poll\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../reducers/poll\":348,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../button\":7,\"../../form\":54,\"../info\":104,\"../results/options\":109,\"./help\":110,\"./select\":112,\"./utils\":113,\"react\":\"react\"}],112:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChoiceSelect = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"ul\",\n    { className: \"list-unstyled poll-select-choices\" },\n    props.choices.map(function (choice) {\n      return _react2.default.createElement(ChoiceSelect, {\n        choice: choice,\n        key: choice.hash,\n        toggleChoice: props.toggleChoice\n      });\n    })\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar ChoiceSelect = exports.ChoiceSelect = function (_React$Component) {\n  _inherits(ChoiceSelect, _React$Component);\n\n  function ChoiceSelect() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ChoiceSelect);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChoiceSelect.__proto__ || Object.getPrototypeOf(ChoiceSelect)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _this.props.toggleChoice(_this.props.choice.hash);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ChoiceSelect, [{\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\n        \"li\",\n        { className: \"poll-select-choice\" },\n        _react2.default.createElement(\n          \"button\",\n          {\n            className: this.props.choice.selected ? 'btn btn-selected' : 'btn',\n            onClick: this.onClick,\n            type: \"button\"\n          },\n          _react2.default.createElement(\n            \"span\",\n            { className: \"material-icon\" },\n            this.props.choice.selected ? 'check_box' : 'check_box_outline_blank'\n          ),\n          _react2.default.createElement(\n            \"strong\",\n            null,\n            this.props.choice.label\n          )\n        )\n      );\n    }\n  }]);\n\n  return ChoiceSelect;\n}(_react2.default.Component);\n\n},{\"react\":\"react\"}],113:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChoiceFromHash = getChoiceFromHash;\nexports.getChoicesLeft = getChoicesLeft;\nfunction getChoiceFromHash(choices, hash) {\n  for (var i in choices) {\n    var choice = choices[i];\n    if (choice.hash === hash) {\n      return choice;\n    }\n  }\n\n  return null;\n}\n\nfunction getChoicesLeft(poll, choices) {\n  var selection = [];\n  for (var i in choices) {\n    var choice = choices[i];\n    if (choice.selected) {\n      selection.push(choice);\n    }\n  }\n\n  return poll.allowed_choices - selection.length;\n}\n\n},{}],114:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"modal-body post-changelog-diff\" },\n    _react2.default.createElement(\n      \"ul\",\n      { className: \"list-unstyled\" },\n      props.diff.map(function (item, i) {\n        return _react2.default.createElement(DiffItem, { item: item, key: i });\n      })\n    )\n  );\n};\n\nexports.DiffItem = DiffItem;\nexports.getItemClassName = getItemClassName;\nexports.cleanItem = cleanItem;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction DiffItem(props) {\n  if (props.item[0] === '?') return null;\n\n  return _react2.default.createElement(\n    \"li\",\n    { className: getItemClassName(props.item) },\n    cleanItem(props.item)\n  );\n}\n\nfunction getItemClassName(item) {\n  var className = 'diff-item';\n  if (item[0] === '-') {\n    className += ' diff-item-sub';\n  } else if (item[0] === '+') {\n    className += ' diff-item-add';\n  }\n  return className;\n}\n\nfunction cleanItem(item) {\n  return item.substr(2);\n}\n\n},{\"react\":\"react\"}],115:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _this.props.revertEdit(_this.props.edit.id);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.canRevert) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-footer visible-xs-block' },\n        _react2.default.createElement(\n          _button2.default,\n          {\n            className: 'btn-default btn-sm btn-block',\n            disabled: this.props.disabled,\n            onClick: this.onClick,\n            title: gettext(\"Revert post to state from before this edit.\")\n          },\n          gettext(\"Revert\")\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../button\":7,\"react\":\"react\"}],116:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalDialog = ModalDialog;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diff = require('./diff');\n\nvar _diff2 = _interopRequireDefault(_diff);\n\nvar _footer = require('./footer');\n\nvar _footer2 = _interopRequireDefault(_footer);\n\nvar _toolbar = require('./toolbar');\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _utils = require('./utils');\n\nvar _modalMessage = require('../modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _modalLoader = require('../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _post = require('../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.goToEdit = function () {\n      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      _this.setState({\n        isBusy: true\n      });\n\n      var url = _this.props.post.api.edits;\n      if (edit !== null) {\n        url += '?edit=' + edit;\n      }\n\n      _ajax2.default.get(url).then(function (data) {\n        _this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: (0, _utils.hydrateEdit)(data)\n        });\n      }, function (rejection) {\n        _this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail\n        });\n      });\n    };\n\n    _this.revertEdit = function (edit) {\n      if (_this.state.isBusy) return;\n\n      var confirmation = confirm(gettext(\"Are you sure you with to revert this post to the state from before this edit?\"));\n      if (!confirmation) return;\n\n      _this.setState({\n        isBusy: true\n      });\n\n      var url = _this.props.post.api.edits + '?edit=' + edit;\n      _ajax2.default.post(url).then(function (data) {\n        var hydratedPost = post.hydrate(data);\n        _store2.default.dispatch(post.patch(data, hydratedPost));\n\n        _snackbar2.default.success(gettext(\"Post has been reverted to previous state.\"));\n        _modal2.default.hide();\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n\n        _this.setState({\n          isBusy: false\n        });\n      });\n    };\n\n    _this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.goToEdit();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.error) {\n        return _react2.default.createElement(\n          ModalDialog,\n          { className: 'modal-dialog modal-message' },\n          _react2.default.createElement(_modalMessage2.default, {\n            message: this.state.error\n          })\n        );\n      } else if (this.state.isReady) {\n        return _react2.default.createElement(\n          ModalDialog,\n          null,\n          _react2.default.createElement(_toolbar2.default, {\n            canRevert: this.state.canRevert,\n            disabled: this.state.isBusy,\n            edit: this.state.edit,\n            goToEdit: this.goToEdit,\n            revertEdit: this.revertEdit\n          }),\n          _react2.default.createElement(_diff2.default, { diff: this.state.edit.diff }),\n          _react2.default.createElement(_footer2.default, {\n            canRevert: this.state.canRevert,\n            disabled: this.state.isBusy,\n            edit: this.state.edit,\n            revertEdit: this.revertEdit\n          })\n        );\n      }\n\n      return _react2.default.createElement(\n        ModalDialog,\n        null,\n        _react2.default.createElement(_modalLoader2.default, null)\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction ModalDialog(props) {\n  return _react2.default.createElement(\n    'div',\n    {\n      className: props.className || \"modal-dialog\",\n      role: 'document'\n    },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-label': gettext(\"Close\"),\n            className: 'close',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { 'aria-hidden': 'true' },\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'h4',\n          { className: 'modal-title' },\n          gettext(\"Post edits history\")\n        )\n      ),\n      props.children\n    )\n  );\n}\n\n},{\"../../reducers/post\":349,\"../../services/ajax\":361,\"../../services/modal\":367,\"../../services/snackbar\":372,\"../../services/store\":373,\"../modal-loader\":59,\"../modal-message\":60,\"./diff\":114,\"./footer\":115,\"./toolbar\":117,\"./utils\":118,\"react\":\"react\"}],117:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.GoBackBtn = GoBackBtn;\nexports.GoForwardBtn = GoForwardBtn;\nexports.GoLastBtn = GoLastBtn;\nexports.RevertBtn = RevertBtn;\nexports.Label = Label;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _escapeHtml = require('../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.goLast = function () {\n      _this.props.goToEdit();\n    }, _this.goForward = function () {\n      _this.props.goToEdit(_this.props.edit.next);\n    }, _this.goBack = function () {\n      _this.props.goToEdit(_this.props.edit.previous);\n    }, _this.revertEdit = function () {\n      _this.props.revertEdit(_this.props.edit.id);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-toolbar post-changelog-toolbar' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xs-12 col-sm-4' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: 'col-xs-4' },\n                _react2.default.createElement(GoBackBtn, {\n                  disabled: this.props.disabled,\n                  edit: this.props.edit,\n                  onClick: this.goBack\n                })\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'col-xs-4' },\n                _react2.default.createElement(GoForwardBtn, {\n                  disabled: this.props.disabled,\n                  edit: this.props.edit,\n                  onClick: this.goForward\n                })\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'col-xs-4' },\n                _react2.default.createElement(GoLastBtn, {\n                  disabled: this.props.disabled,\n                  edit: this.props.edit,\n                  onClick: this.goLast\n                })\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xs-12 col-sm-5 xs-margin-top-half post-change-label' },\n            _react2.default.createElement(Label, { edit: this.props.edit })\n          ),\n          _react2.default.createElement(RevertBtn, {\n            canRevert: this.props.canRevert,\n            disabled: this.props.disabled,\n            onClick: this.revertEdit\n          })\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction GoBackBtn(props) {\n  return _react2.default.createElement(\n    _button2.default,\n    {\n      className: 'btn-default btn-block btn-icon btn-sm',\n      disabled: props.disabled || !props.edit.previous,\n      onClick: props.onClick,\n      title: gettext(\"See previous change\")\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'chevron_left'\n    )\n  );\n}\n\nfunction GoForwardBtn(props) {\n  return _react2.default.createElement(\n    _button2.default,\n    {\n      className: 'btn-default btn-block btn-icon btn-sm',\n      disabled: props.disabled || !props.edit.next,\n      onClick: props.onClick,\n      title: gettext(\"See previous change\")\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'chevron_right'\n    )\n  );\n}\n\nfunction GoLastBtn(props) {\n  return _react2.default.createElement(\n    _button2.default,\n    {\n      className: 'btn-default btn-block btn-icon btn-sm',\n      disabled: props.disabled || !props.edit.next,\n      onClick: props.onClick,\n      title: gettext(\"See previous change\")\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'last_page'\n    )\n  );\n}\n\nfunction RevertBtn(props) {\n  if (!props.canRevert) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-3 hidden-xs' },\n    _react2.default.createElement(\n      _button2.default,\n      {\n        className: 'btn-default btn-sm btn-block',\n        disabled: props.disabled,\n        onClick: props.onClick,\n        title: gettext(\"Revert post to state from before this edit.\")\n      },\n      gettext(\"Revert\")\n    )\n  );\n}\n\nfunction Label(props) {\n  var user = null;\n  if (props.edit.url.editor) {\n    user = interpolate(USER_URL, {\n      url: (0, _escapeHtml2.default)(props.edit.url.editor),\n      user: (0, _escapeHtml2.default)(props.edit.editor_name)\n    }, true);\n  } else {\n    user = interpolate(USER_SPAN, {\n      user: (0, _escapeHtml2.default)(props.edit.editor_name)\n    }, true);\n  }\n\n  var date = interpolate(DATE_ABBR, {\n    absolute: (0, _escapeHtml2.default)(props.edit.edited_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.edit.edited_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"By %(edited_by)s %(edited_on)s.\")), {\n    edited_by: user,\n    edited_on: date\n  }, true);\n\n  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });\n}\n\n},{\"../../utils/escape-html\":379,\"../button\":7,\"react\":\"react\"}],118:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hydrateEdit = hydrateEdit;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: (0, _moment2.default)(json.edited_on)\n  });\n}\n\n},{\"moment\":\"moment\"}],119:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var isReady = _ref.isReady,\n      posts = _ref.posts,\n      poster = _ref.poster;\n\n  if (!isReady) {\n    return _react2.default.createElement(_preview2.default, null);\n  }\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'posts-list post-feed ui-ready' },\n    posts.map(function (post) {\n      return _react2.default.createElement(_post2.default, {\n        key: post.id,\n        post: post,\n        poster: poster\n      });\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _post = require('./post');\n\nvar _post2 = _interopRequireDefault(_post);\n\nvar _preview = require('./preview');\n\nvar _preview2 = _interopRequireDefault(_preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./post\":122,\"./preview\":128,\"react\":\"react\"}],120:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.post.content) {\n    return _react2.default.createElement(Default, props);\n  } else {\n    return _react2.default.createElement(Invalid, props);\n  }\n};\n\nexports.Default = Default;\nexports.Invalid = Invalid;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _misagoMarkup = require('../../misago-markup');\n\nvar _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction Default(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-body' },\n    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })\n  );\n}\n\nfunction Invalid(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-body post-body-invalid' },\n    _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      gettext(\"This post's contents cannot be displayed.\")\n    ),\n    _react2.default.createElement(\n      'p',\n      { className: 'text-muted' },\n      gettext(\"This error is caused by invalid post content manipulation.\")\n    )\n  );\n}\n\n},{\"../../../utils/escape-html\":379,\"../../misago-markup\":58,\"react\":\"react\"}],121:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post;\n  var category = post.category,\n      thread = post.thread;\n\n\n  var tooltip = interpolate(gettext(\"posted %(posted_on)s\"), {\n    'posted_on': post.posted_on.format('LL, LT')\n  }, true);\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-heading' },\n    _react2.default.createElement(\n      'a',\n      {\n        className: 'btn btn-link item-title',\n        href: thread.url\n      },\n      thread.title\n    ),\n    _react2.default.createElement(\n      'a',\n      {\n        className: 'btn btn-link post-category',\n        href: category.url.index\n      },\n      category.name\n    ),\n    _react2.default.createElement(\n      'a',\n      {\n        href: post.url.index,\n        className: 'btn btn-link posted-on',\n        title: tooltip\n      },\n      post.posted_on.fromNow()\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],122:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post,\n      poster = _ref.poster;\n\n  var user = poster || post.poster;\n\n  var className = 'post';\n  if (user && user.rank.css_class) {\n    className += ' post-' + user.rank.css_class;\n  }\n\n  return _react2.default.createElement(\n    'li',\n    {\n      className: className,\n      id: 'post-' + post.id\n    },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel panel-default panel-post' },\n      _react2.default.createElement(\n        'div',\n        { className: 'panel-body' },\n        _react2.default.createElement(_postSide2.default, {\n          post: post,\n          poster: user\n        }),\n        _react2.default.createElement(_header2.default, { post: post }),\n        _react2.default.createElement(_body2.default, { post: post })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _body = require('./body');\n\nvar _body2 = _interopRequireDefault(_body);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _postSide = require('./post-side');\n\nvar _postSide2 = _interopRequireDefault(_postSide);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./body\":120,\"./header\":121,\"./post-side\":125,\"react\":\"react\"}],123:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-side post-side-anonymous' },\n    _react2.default.createElement(_button2.default, { post: post }),\n    _react2.default.createElement(\n      'div',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(\n          'span',\n          null,\n          _react2.default.createElement(_avatar2.default, {\n            className: 'poster-avatar',\n            size: 50\n          })\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'media-heading' },\n          _react2.default.createElement(\n            'span',\n            { className: 'item-title' },\n            post.poster_name\n          )\n        ),\n        _react2.default.createElement(\n          'span',\n          { className: 'user-title user-title-anonymous' },\n          gettext(\"Removed user\")\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../avatar\":5,\"./button\":124,\"react\":\"react\"}],124:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post;\n\n  return _react2.default.createElement(\n    \"a\",\n    {\n      className: \"btn btn-default btn-icon pull-right\",\n      href: post.url.index\n    },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"btn-text-left hidden-xs\" },\n      gettext(\"See post\")\n    ),\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"chevron_right\"\n    )\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],125:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post,\n      poster = _ref.poster;\n\n  if (poster.id) {\n    return _react2.default.createElement(_registered2.default, {\n      post: post,\n      poster: poster\n    });\n  }\n\n  return _react2.default.createElement(_anonymous2.default, { post: post });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _anonymous = require('./anonymous');\n\nvar _anonymous2 = _interopRequireDefault(_anonymous);\n\nvar _registered = require('./registered');\n\nvar _registered2 = _interopRequireDefault(_registered);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./anonymous\":123,\"./registered\":126,\"react\":\"react\"}],126:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post,\n      poster = _ref.poster;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-side post-side-registered' },\n    _react2.default.createElement(_button2.default, { post: post }),\n    _react2.default.createElement(\n      'div',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(\n          'a',\n          { href: poster.url },\n          _react2.default.createElement(_avatar2.default, {\n            className: 'poster-avatar',\n            size: 50,\n            user: poster\n          })\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'media-heading' },\n          _react2.default.createElement(\n            'a',\n            {\n              className: 'item-title',\n              href: poster.url\n            },\n            poster.username\n          )\n        ),\n        _react2.default.createElement(_userTitle2.default, {\n          title: poster.title,\n          rank: poster.rank\n        })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _userTitle = require('./user-title');\n\nvar _userTitle2 = _interopRequireDefault(_userTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../avatar\":5,\"./button\":124,\"./user-title\":127,\"react\":\"react\"}],127:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var rank = _ref.rank,\n      title = _ref.title;\n\n  var userTitle = title || rank.title || rank.name;\n\n  var className = 'user-title';\n  if (rank.css_class) {\n    className += ' user-title-' + rank.css_class;\n  }\n\n  if (rank.is_tab) {\n    return _react2.default.createElement(\n      'a',\n      { className: className, href: rank.url },\n      userTitle\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    userTitle\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],128:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'posts-list post-feed ui-preview' },\n    _react2.default.createElement(\n      'li',\n      { className: 'post' },\n      _react2.default.createElement(\n        'div',\n        { className: 'panel panel-default panel-post' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-body' },\n          _react2.default.createElement(\n            'div',\n            { className: 'post-side post-side-anonymous' },\n            _react2.default.createElement(\n              'div',\n              { className: 'media' },\n              _react2.default.createElement(\n                'div',\n                { className: 'media-left' },\n                _react2.default.createElement(\n                  'span',\n                  null,\n                  _react2.default.createElement(_avatar2.default, {\n                    className: 'poster-avatar',\n                    size: 50\n                  })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'media-body' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'media-heading' },\n                  _react2.default.createElement(\n                    'span',\n                    { className: 'item-title' },\n                    _react2.default.createElement(\n                      'span',\n                      {\n                        className: 'ui-preview-text',\n                        style: { width: random.int(30, 200) + \"px\" }\n                      },\n                      '\\xA0'\n                    )\n                  )\n                ),\n                _react2.default.createElement(\n                  'span',\n                  { className: 'user-title user-title-anonymous' },\n                  _react2.default.createElement(\n                    'span',\n                    {\n                      className: 'ui-preview-text',\n                      style: { width: random.int(30, 200) + \"px\" }\n                    },\n                    '\\xA0'\n                  )\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'post-heading' },\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(30, 200) + \"px\" }\n              },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'post-body' },\n            _react2.default.createElement(\n              'article',\n              { className: 'misago-markup' },\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(30, 200) + \"px\" }\n                  },\n                  '\\xA0'\n                ),\n                '\\xA0',\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(30, 200) + \"px\" }\n                  },\n                  '\\xA0'\n                ),\n                '\\xA0',\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(30, 200) + \"px\" }\n                  },\n                  '\\xA0'\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _random = require('../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../utils/random\":384,\"../avatar\":5,\"react\":\"react\"}],129:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.hydrateLike = hydrateLike;\nexports.ModalDialog = ModalDialog;\nexports.LikesList = LikesList;\nexports.LikeDetails = LikeDetails;\nexports.LikeDate = LikeDate;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _avatar = require('./avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _modalMessage = require('./modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _modalLoader = require('./modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      isReady: false,\n\n      error: null,\n      likes: []\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.post.api.likes).then(function (data) {\n        _this2.setState({\n          isReady: true,\n          likes: data.map(hydrateLike)\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isReady: true,\n          error: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.error) {\n        return _react2.default.createElement(\n          ModalDialog,\n          { className: 'modal-message' },\n          _react2.default.createElement(_modalMessage2.default, {\n            message: this.state.error\n          })\n        );\n      } else if (this.state.isReady) {\n        if (this.state.likes.length) {\n          return _react2.default.createElement(\n            ModalDialog,\n            {\n              className: 'modal-sm',\n              likes: this.state.likes\n            },\n            _react2.default.createElement(LikesList, {\n              likes: this.state.likes\n            })\n          );\n        }\n\n        return _react2.default.createElement(\n          ModalDialog,\n          { className: 'modal-message' },\n          _react2.default.createElement(_modalMessage2.default, {\n            message: gettext(\"No users have liked this post.\")\n          })\n        );\n      }\n\n      return _react2.default.createElement(\n        ModalDialog,\n        { className: 'modal-sm' },\n        _react2.default.createElement(_modalLoader2.default, null)\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: (0, _moment2.default)(data.liked_on)\n  });\n}\n\nfunction ModalDialog(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      likes = _ref.likes;\n\n  var title = gettext(\"Post Likes\");\n  if (likes) {\n    var likesCount = likes.length;\n    var message = ngettext(\"%(likes)s like\", \"%(likes)s likes\", likesCount);\n\n    title = interpolate(message, { likes: likesCount }, true);\n  }\n\n  return _react2.default.createElement(\n    'div',\n    {\n      className: \"modal-dialog \" + (className || ''),\n      role: 'document'\n    },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-label': gettext(\"Close\"),\n            className: 'close',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { 'aria-hidden': 'true' },\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'h4',\n          { className: 'modal-title' },\n          title\n        )\n      ),\n      children\n    )\n  );\n}\n\nfunction LikesList(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-body modal-post-likers' },\n    _react2.default.createElement(\n      'ul',\n      { className: 'media-list' },\n      props.likes.map(function (like) {\n        return _react2.default.createElement(LikeDetails, _extends({\n          key: like.id\n        }, like));\n      })\n    )\n  );\n}\n\nfunction LikeDetails(props) {\n  if (props.url) {\n    var user = {\n      id: props.liker_id,\n      avatars: props.avatars\n    };\n\n    return _react2.default.createElement(\n      'li',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(\n          'a',\n          {\n            className: 'user-avatar',\n            href: props.url\n          },\n          _react2.default.createElement(_avatar2.default, { size: '50', user: user })\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'a',\n          {\n            className: 'item-title',\n            href: props.url\n          },\n          props.username\n        ),\n        ' ',\n        _react2.default.createElement(LikeDate, { likedOn: props.liked_on })\n      )\n    );\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'media' },\n    _react2.default.createElement(\n      'div',\n      { className: 'media-left' },\n      _react2.default.createElement(\n        'span',\n        { className: 'user-avatar' },\n        _react2.default.createElement(_avatar2.default, { size: '50' })\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'media-body' },\n      _react2.default.createElement(\n        'strong',\n        null,\n        props.username\n      ),\n      ' ',\n      _react2.default.createElement(LikeDate, { likedOn: props.liked_on })\n    )\n  );\n}\n\nfunction LikeDate(props) {\n  return _react2.default.createElement(\n    'span',\n    {\n      className: 'text-muted',\n      title: props.likedOn.format('LLL')\n    },\n    props.likedOn.fromNow()\n  );\n}\n\n},{\"../services/ajax\":361,\"./avatar\":5,\"./modal-loader\":59,\"./modal-message\":60,\"moment\":\"moment\",\"react\":\"react\"}],130:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _editor = require('../editor');\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _container = require('./utils/container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _loader = require('./utils/loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _message = require('./utils/message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _attachments = require('./utils/attachments');\n\nvar attachments = _interopRequireWildcard(_attachments);\n\nvar _validators = require('./utils/validators');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadSuccess = function (data) {\n      _this.setState({\n        isReady: true,\n\n        post: data.post,\n        attachments: attachments.hydrate(data.attachments),\n        protect: data.is_protected,\n\n        canProtect: data.can_protect\n      });\n    };\n\n    _this.loadError = function (rejection) {\n      _this.setState({\n        isErrored: rejection.detail\n      });\n    };\n\n    _this.onCancel = function () {\n      var cancel = confirm(gettext(\"Are you sure you want to discard changes?\"));\n      if (cancel) {\n        _posting2.default.close();\n      }\n    };\n\n    _this.onProtect = function () {\n      _this.setState({\n        protect: true\n      });\n    };\n\n    _this.onUnprotect = function () {\n      _this.setState({\n        protect: false\n      });\n    };\n\n    _this.onPostChange = function (event) {\n      _this.changeValue('post', event.target.value);\n    };\n\n    _this.onAttachmentsChange = function (attachments) {\n      _this.setState({\n        attachments: attachments\n      });\n    };\n\n    _this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: '',\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: (0, _validators.getPostValidators)()\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n\n    /* jshint ignore:end */\n\n    value: function clean() {\n      if (!this.state.post.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter a message.\"));\n        return false;\n      }\n\n      var errors = this.validate();\n\n      if (errors.post) {\n        _snackbar2.default.error(errors.post[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.put(this.props.submit, {\n        post: this.state.post,\n        attachments: attachments.clean(this.state.attachments),\n        protect: this.state.protect\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      _snackbar2.default.success(gettext(\"Reply has been edited.\"));\n      window.location = success.url.index;\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);\n\n        _snackbar2.default.error(errors[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.isReady) {\n        return _react2.default.createElement(\n          _container2.default,\n          { className: 'posting-form' },\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit, method: 'POST' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: 'col-md-12' },\n                _react2.default.createElement(_editor2.default, {\n                  attachments: this.state.attachments,\n                  canProtect: this.state.canProtect,\n                  loading: this.state.isLoading,\n                  onAttachmentsChange: this.onAttachmentsChange,\n                  onCancel: this.onCancel,\n                  onChange: this.onPostChange,\n                  onProtect: this.onProtect,\n                  onUnprotect: this.onUnprotect,\n                  protect: this.state.protect,\n                  submitLabel: gettext(\"Edit reply\"),\n                  value: this.state.post\n                })\n              )\n            )\n          )\n        );\n      } else if (this.state.isErrored) {\n        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });\n      } else {\n        return _react2.default.createElement(_loader2.default, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../editor\":50,\"../form\":54,\"./utils/attachments\":135,\"./utils/container\":136,\"./utils/loader\":137,\"./utils/message\":138,\"./utils/validators\":141,\"react\":\"react\"}],131:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.mode === 'START') {\n    return _react2.default.createElement(_start2.default, props);\n  } else if (props.mode === 'START_PRIVATE') {\n    return _react2.default.createElement(_startPrivate2.default, props);\n  } else if (props.mode === 'REPLY') {\n    return _react2.default.createElement(_reply2.default, props);\n  } else if (props.mode === 'EDIT') {\n    return _react2.default.createElement(_edit2.default, props);\n  } else {\n    return null;\n  }\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _start = require('./start');\n\nvar _start2 = _interopRequireDefault(_start);\n\nvar _startPrivate = require('./start-private');\n\nvar _startPrivate2 = _interopRequireDefault(_startPrivate);\n\nvar _reply = require('./reply');\n\nvar _reply2 = _interopRequireDefault(_reply);\n\nvar _edit = require('./edit');\n\nvar _edit2 = _interopRequireDefault(_edit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./edit\":130,\"./reply\":132,\"./start\":134,\"./start-private\":133,\"react\":\"react\"}],132:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _editor = require('../editor');\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _container = require('./utils/container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _loader = require('./utils/loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _message = require('./utils/message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _attachments = require('./utils/attachments');\n\nvar attachments = _interopRequireWildcard(_attachments);\n\nvar _validators = require('./utils/validators');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadSuccess = function (data) {\n      _this.setState({\n        isReady: true,\n\n        post: data.post ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + '\\n[/quote]' : ''\n      });\n    };\n\n    _this.loadError = function (rejection) {\n      _this.setState({\n        isErrored: rejection.detail\n      });\n    };\n\n    _this.appendData = function (data) {\n      var newPost = data.post ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + '\\n[/quote]\\n\\n' : '';\n\n      _this.setState(function (prevState, props) {\n        if (prevState.post.length > 0) {\n          return {\n            post: prevState.post + '\\n\\n' + newPost\n          };\n        }\n\n        return {\n          post: newPost\n        };\n      });\n    };\n\n    _this.onCancel = function () {\n      var cancel = confirm(gettext(\"Are you sure you want to discard your reply?\"));\n      if (cancel) {\n        _posting2.default.close();\n      }\n    };\n\n    _this.onPostChange = function (event) {\n      _this.changeValue('post', event.target.value);\n    };\n\n    _this.onAttachmentsChange = function (attachments) {\n      _this.setState({\n        attachments: attachments\n      });\n    };\n\n    _this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: '',\n      attachments: [],\n\n      validators: {\n        post: (0, _validators.getPostValidators)()\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var context = this.props.context;\n      var newContext = nextProps.context;\n\n      if (context && newContext && context.reply === newContext.reply) return;\n\n      _ajax2.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar2.default.apiError);\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n\n    /* jshint ignore:end */\n\n    value: function clean() {\n      if (!this.state.post.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter a message.\"));\n        return false;\n      }\n\n      var errors = this.validate();\n\n      if (errors.post) {\n        _snackbar2.default.error(errors.post[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.submit, {\n        post: this.state.post,\n        attachments: attachments.clean(this.state.attachments)\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      _snackbar2.default.success(gettext(\"Your reply has been posted.\"));\n      window.location = success.url.index;\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);\n\n        _snackbar2.default.error(errors[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.isReady) {\n        return _react2.default.createElement(\n          _container2.default,\n          { className: 'posting-form' },\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit, method: 'POST' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: 'col-md-12' },\n                _react2.default.createElement(_editor2.default, {\n                  attachments: this.state.attachments,\n                  loading: this.state.isLoading,\n                  onAttachmentsChange: this.onAttachmentsChange,\n                  onCancel: this.onCancel,\n                  onChange: this.onPostChange,\n                  submitLabel: gettext(\"Post reply\"),\n                  value: this.state.post\n                })\n              )\n            )\n          )\n        );\n      } else if (this.state.isErrored) {\n        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });\n      } else {\n        return _react2.default.createElement(_loader2.default, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../editor\":50,\"../form\":54,\"./utils/attachments\":135,\"./utils/container\":136,\"./utils/loader\":137,\"./utils/message\":138,\"./utils/validators\":141,\"react\":\"react\"}],133:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _editor = require('../editor');\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _container = require('./utils/container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _message = require('./utils/message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _attachments = require('./utils/attachments');\n\nvar attachments = _interopRequireWildcard(_attachments);\n\nvar _usernames = require('./utils/usernames');\n\nvar _usernames2 = _interopRequireDefault(_usernames);\n\nvar _validators = require('./utils/validators');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onCancel = function () {\n      var cancel = confirm(gettext(\"Are you sure you want to discard private thread?\"));\n      if (cancel) {\n        _posting2.default.close();\n      }\n    };\n\n    _this.onToChange = function (event) {\n      _this.changeValue('to', event.target.value);\n    };\n\n    _this.onTitleChange = function (event) {\n      _this.changeValue('title', event.target.value);\n    };\n\n    _this.onPostChange = function (event) {\n      _this.changeValue('post', event.target.value);\n    };\n\n    _this.onAttachmentsChange = function (attachments) {\n      _this.setState({\n        attachments: attachments\n      });\n    };\n\n    var to = (props.to || []).map(function (user) {\n      return user.username;\n    }).join(', ');\n\n    _this.state = {\n      isLoading: false,\n\n      to: to,\n      title: '',\n      post: '',\n      attachments: [],\n\n      validators: {\n        title: (0, _validators.getTitleValidators)(),\n        post: (0, _validators.getPostValidators)()\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'clean',\n\n    /* jshint ignore:end */\n\n    value: function clean() {\n      if (!(0, _usernames2.default)(this.state.to).length) {\n        _snackbar2.default.error(gettext(\"You have to enter at least one recipient.\"));\n        return false;\n      }\n\n      if (!this.state.title.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter thread title.\"));\n        return false;\n      }\n\n      if (!this.state.post.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter a message.\"));\n        return false;\n      }\n\n      var errors = this.validate();\n\n      if (errors.title) {\n        _snackbar2.default.error(errors.title[0]);\n        return false;\n      }\n\n      if (errors.post) {\n        _snackbar2.default.error(errors.post[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.submit, {\n        to: (0, _usernames2.default)(this.state.to),\n        title: this.state.title,\n        post: this.state.post,\n        attachments: attachments.clean(this.state.attachments)\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      _snackbar2.default.success(gettext(\"Your thread has been posted.\"));\n      window.location = success.url;\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);\n\n        _snackbar2.default.error(errors[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _container2.default,\n        { className: 'posting-form', withFirstRow: true },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'row first-row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-12' },\n              _react2.default.createElement('input', {\n                className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.onToChange,\n                placeholder: gettext(\"Comma separated list of user names, eg.: Danny, Lisa\"),\n                type: 'text',\n                value: this.state.to\n              })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row first-row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-12' },\n              _react2.default.createElement('input', {\n                className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.onTitleChange,\n                placeholder: gettext(\"Thread title\"),\n                type: 'text',\n                value: this.state.title\n              })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-12' },\n              _react2.default.createElement(_editor2.default, {\n                attachments: this.state.attachments,\n                loading: this.state.isLoading,\n                onAttachmentsChange: this.onAttachmentsChange,\n                onCancel: this.onCancel,\n                onChange: this.onPostChange,\n                submitLabel: gettext(\"Post thread\"),\n                value: this.state.post\n              })\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../editor\":50,\"../form\":54,\"./utils/attachments\":135,\"./utils/container\":136,\"./utils/message\":138,\"./utils/usernames\":140,\"./utils/validators\":141,\"react\":\"react\"}],134:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _categorySelect = require('../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _editor = require('../editor');\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _container = require('./utils/container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _loader = require('./utils/loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _message = require('./utils/message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _options = require('./utils/options');\n\nvar _options2 = _interopRequireDefault(_options);\n\nvar _attachments = require('./utils/attachments');\n\nvar attachments = _interopRequireWildcard(_attachments);\n\nvar _validators = require('./utils/validators');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n//jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadSuccess = function (data) {\n      var category = null;\n      var showOptions = false;\n      var categoryOptions = null;\n\n      // hydrate categories, extract posting options\n      var categories = data.map(function (item) {\n        // pick first category that allows posting and if it may, override it with initial one\n        if (item.post !== false && (!category || item.id == _this.state.category)) {\n          category = item.id;\n          categoryOptions = item.post;\n        }\n\n        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {\n          showOptions = true;\n        }\n\n        return Object.assign(item, {\n          disabled: item.post === false,\n          label: item.name,\n          value: item.id\n        });\n      });\n\n      _this.setState({\n        isReady: true,\n        showOptions: showOptions,\n\n        categories: categories,\n        category: category,\n        categoryOptions: categoryOptions\n      });\n    };\n\n    _this.loadError = function (rejection) {\n      _this.setState({\n        isErrored: rejection.detail\n      });\n    };\n\n    _this.onCancel = function () {\n      var cancel = confirm(gettext(\"Are you sure you want to discard thread?\"));\n      if (cancel) {\n        _posting2.default.close();\n      }\n    };\n\n    _this.onTitleChange = function (event) {\n      _this.changeValue('title', event.target.value);\n    };\n\n    _this.onCategoryChange = function (event) {\n      var category = _this.state.categories.find(function (item) {\n        return event.target.value == item.value;\n      });\n\n      // if selected pin is greater than allowed, reduce it\n      var pin = _this.state.pin;\n      if (category.post.pin && category.post.pin < pin) {\n        pin = category.post.pin;\n      }\n\n      _this.setState({\n        category: category.id,\n        categoryOptions: category.post,\n\n        pin: pin\n      });\n    };\n\n    _this.onPostChange = function (event) {\n      _this.changeValue('post', event.target.value);\n    };\n\n    _this.onAttachmentsChange = function (attachments) {\n      _this.setState({\n        attachments: attachments\n      });\n    };\n\n    _this.onClose = function () {\n      _this.changeValue('close', true);\n    };\n\n    _this.onOpen = function () {\n      _this.changeValue('close', false);\n    };\n\n    _this.onPinGlobally = function () {\n      _this.changeValue('pin', 2);\n    };\n\n    _this.onPinLocally = function () {\n      _this.changeValue('pin', 1);\n    };\n\n    _this.onUnpin = function () {\n      _this.changeValue('pin', 0);\n    };\n\n    _this.onHide = function () {\n      _this.changeValue('hide', true);\n    };\n\n    _this.onUnhide = function () {\n      _this.changeValue('hide', false);\n    };\n\n    _this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      showOptions: false,\n      categoryOptions: null,\n\n      title: '',\n      category: props.category || null,\n      categories: [],\n      post: '',\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: (0, _validators.getTitleValidators)(),\n        post: (0, _validators.getPostValidators)()\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'clean',\n\n    /* jshint ignore:end */\n\n    value: function clean() {\n      if (!this.state.title.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter thread title.\"));\n        return false;\n      }\n\n      if (!this.state.post.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter a message.\"));\n        return false;\n      }\n\n      var errors = this.validate();\n\n      if (errors.title) {\n        _snackbar2.default.error(errors.title[0]);\n        return false;\n      }\n\n      if (errors.post) {\n        _snackbar2.default.error(errors.post[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.submit, {\n        title: this.state.title,\n        category: this.state.category,\n        post: this.state.post,\n        attachments: attachments.clean(this.state.attachments),\n        close: this.state.close,\n        hide: this.state.hide,\n        pin: this.state.pin\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      _snackbar2.default.success(gettext(\"Your thread has been posted.\"));\n      window.location = success.url;\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);\n\n        _snackbar2.default.error(errors[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.isErrored) {\n        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });\n      }\n\n      if (!this.state.isReady) {\n        return _react2.default.createElement(_loader2.default, null);\n      }\n\n      var columns = 0;\n      if (this.state.categoryOptions.close) columns += 1;\n      if (this.state.categoryOptions.hide) columns += 1;\n      if (this.state.categoryOptions.pin) columns += 1;\n\n      var titleStyle = null;\n\n      if (columns === 1) {\n        titleStyle = 'col-sm-6';\n      } else {\n        titleStyle = 'col-sm-8';\n      }\n\n      if (columns === 3) {\n        titleStyle += ' col-md-6';\n      } else if (columns) {\n        titleStyle += ' col-md-7';\n      } else {\n        titleStyle += ' col-md-9';\n      }\n\n      return _react2.default.createElement(\n        _container2.default,\n        { className: 'posting-form', withFirstRow: true },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'row first-row' },\n            _react2.default.createElement(\n              'div',\n              { className: titleStyle },\n              _react2.default.createElement('input', {\n                className: 'form-control',\n                disabled: this.state.isLoading,\n                onChange: this.onTitleChange,\n                placeholder: gettext(\"Thread title\"),\n                type: 'text',\n                value: this.state.title\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top' },\n              _react2.default.createElement(_categorySelect2.default, {\n                choices: this.state.categories,\n                disabled: this.state.isLoading,\n                onChange: this.onCategoryChange,\n                value: this.state.category\n              })\n            ),\n            _react2.default.createElement(_options2.default, {\n              close: this.state.close,\n              columns: columns,\n              disabled: this.state.isLoading,\n              hide: this.state.hide,\n              onClose: this.onClose,\n              onHide: this.onHide,\n              onOpen: this.onOpen,\n              onPinGlobally: this.onPinGlobally,\n              onPinLocally: this.onPinLocally,\n              onUnhide: this.onUnhide,\n              onUnpin: this.onUnpin,\n              options: this.state.categoryOptions,\n              pin: this.state.pin,\n              showOptions: this.state.showOptions\n            })\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-12' },\n              _react2.default.createElement(_editor2.default, {\n                attachments: this.state.attachments,\n                loading: this.state.isLoading,\n                onAttachmentsChange: this.onAttachmentsChange,\n                onCancel: this.onCancel,\n                onChange: this.onPostChange,\n                submitLabel: gettext(\"Post thread\"),\n                value: this.state.post\n              })\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../services/ajax\":361,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../category-select\":20,\"../editor\":50,\"../form\":54,\"./utils/attachments\":135,\"./utils/container\":136,\"./utils/loader\":137,\"./utils/message\":138,\"./utils/options\":139,\"./utils/validators\":141,\"react\":\"react\"}],135:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clean = clean;\nexports.hydrate = hydrate;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction clean(attachments) {\n  var completedAttachments = attachments.filter(function (attachment) {\n    return attachment.id && !attachment.isRemoved;\n  });\n\n  return completedAttachments.map(function (a) {\n    return a.id;\n  });\n}\n\nfunction hydrate(attachments) {\n  return attachments.map(function (attachment) {\n    return Object.assign({}, attachment, {\n      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)\n    });\n  });\n}\n\n},{\"moment\":\"moment\"}],136:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: props.className },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"container\" },\n      props.children\n    )\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],137:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _container2.default,\n    { className: 'posting-loader' },\n    _react2.default.createElement(_loader2.default, null)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _container = require('./container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _loader = require('../../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../loader\":56,\"./container\":136,\"react\":\"react\"}],138:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _container2.default,\n    { className: 'posting-message' },\n    _react2.default.createElement(\n      'div',\n      { className: 'message-body' },\n      _react2.default.createElement(\n        'p',\n        null,\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'error_outline'\n        ),\n        props.message\n      ),\n      _react2.default.createElement(\n        'button',\n        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },\n        gettext(\"Dismiss\")\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _container = require('./container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _posting = require('../../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../services/posting\":371,\"./container\":136,\"react\":\"react\"}],139:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (!props.showOptions) return null;\n\n  var columns = props.columns;\n\n\n  var className = 'col-xs-12 xs-margin-top';\n\n  if (columns === 1) {\n    className += ' col-sm-2';\n  } else {\n    className += ' sm-margin-top';\n  }\n\n  if (columns === 3) {\n    className += ' col-md-3';\n  } else {\n    className += ' col-md-2';\n  }\n  className += ' posting-options';\n\n  var columnClassName = 'col-xs-' + 12 / columns;\n\n  var textClassName = 'btn-text';\n  if (columns === 3) {\n    textClassName += ' visible-sm-inline-block';\n  } else if (columns === 2) {\n    textClassName += ' hidden-md hidden-lg';\n  } else {\n    textClassName += ' hidden-sm';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      _react2.default.createElement(PinOptions, {\n        className: columnClassName,\n        disabled: props.disabled,\n        onPinGlobally: props.onPinGlobally,\n        onPinLocally: props.onPinLocally,\n        onUnpin: props.onUnpin,\n        pin: props.pin,\n        show: props.options.pin,\n        textClassName: textClassName\n      }),\n      _react2.default.createElement(HideOptions, {\n        className: columnClassName,\n        disabled: props.disabled,\n        hide: props.hide,\n        onHide: props.onHide,\n        onUnhide: props.onUnhide,\n        show: props.options.hide,\n        textClassName: textClassName\n      }),\n      _react2.default.createElement(CloseOptions, {\n        className: columnClassName,\n        close: props.close,\n        disabled: props.disabled,\n        onClose: props.onClose,\n        onOpen: props.onOpen,\n        show: props.options.close,\n        textClassName: textClassName\n      })\n    )\n  );\n};\n\nexports.CloseOptions = CloseOptions;\nexports.HideOptions = HideOptions;\nexports.PinOptions = PinOptions;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction CloseOptions(props) {\n  if (!props.show) return null;\n\n  var label = props.close ? gettext('Closed') : gettext('Open');\n\n  return _react2.default.createElement(\n    'div',\n    { className: props.className },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-block',\n        disabled: props.disabled,\n        onClick: props.close ? props.onOpen : props.onClose,\n        title: label,\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        props.close ? 'lock' : 'lock_outline'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: props.textClassName },\n        label\n      )\n    )\n  );\n}\n\nfunction HideOptions(props) {\n  if (!props.show) return null;\n\n  var label = props.hide ? gettext('Hidden') : gettext('Not hidden');\n\n  return _react2.default.createElement(\n    'div',\n    { className: props.className },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-block',\n        disabled: props.disabled,\n        onClick: props.hide ? props.onUnhide : props.onHide,\n        title: label,\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        props.hide ? 'visibility_off' : 'visibility'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: props.textClassName },\n        label\n      )\n    )\n  );\n}\n\nfunction PinOptions(props) {\n  if (!props.show) return null;\n\n  var icon = null;\n  var onClick = null;\n  var label = null;\n\n  switch (props.pin) {\n    case 0:\n      icon = 'radio_button_unchecked';\n      onClick = props.onPinLocally;\n      label = gettext(\"Unpinned\");\n      break;\n\n    case 1:\n      icon = 'bookmark_outline';\n      onClick = props.onPinGlobally;\n      label = gettext(\"Pinned locally\");\n\n      if (props.show == 2) {\n        onClick = props.onPinGlobally;\n      } else {\n        onClick = props.onUnpin;\n      }\n\n      break;\n\n    case 2:\n      icon = 'bookmark';\n      onClick = props.onUnpin;\n      label = gettext(\"Pinned globally\");\n      break;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: props.className },\n    _react2.default.createElement(\n      'button',\n      {\n        className: 'btn btn-default btn-block',\n        disabled: props.disabled,\n        onClick: onClick,\n        title: label,\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        icon\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: props.textClassName },\n        label\n      )\n    )\n  );\n}\n\n},{\"react\":\"react\"}],140:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (usernames) {\n  var normalisedNames = usernames.split(',').map(function (i) {\n    return i.trim().toLowerCase();\n  });\n  var removedBlanks = normalisedNames.filter(function (i) {\n    return i.length > 0;\n  });\n  var removedDuplicates = removedBlanks.filter(function (name, pos) {\n    return removedBlanks.indexOf(name) == pos;\n  });\n\n  return removedDuplicates;\n};\n\n},{}],141:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTitleValidators = getTitleValidators;\nexports.getPostValidators = getPostValidators;\nexports.getTitleLengthMin = getTitleLengthMin;\nexports.getTitleLengthMax = getTitleLengthMax;\nexports.validatePostLengthMin = validatePostLengthMin;\nexports.validatePostLengthMax = validatePostLengthMax;\n\nvar _validators = require('../../../utils/validators');\n\nvar _ = require('../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()];\n}\n\nfunction getPostValidators() {\n  if (_2.default.get('SETTINGS').post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()];\n  } else {\n    return [validatePostLengthMin()];\n  }\n}\n\nfunction getTitleLengthMin() {\n  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {\n    var message = ngettext(\"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\", \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\", limitValue);\n\n    return interpolate(message, {\n      limit_value: limitValue,\n      show_value: length\n    }, true);\n  });\n}\n\nfunction getTitleLengthMax() {\n  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {\n    var message = ngettext(\"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\", \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n\n    return interpolate(message, {\n      limit_value: limitValue,\n      show_value: length\n    }, true);\n  });\n}\n\nfunction validatePostLengthMin() {\n  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {\n    var message = ngettext(\"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\", \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\", limitValue);\n\n    return interpolate(message, {\n      limit_value: limitValue,\n      show_value: length\n    }, true);\n  });\n}\n\nfunction validatePostLengthMax() {\n  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {\n    var message = ngettext(\"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\", \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n\n    return interpolate(message, {\n      limit_value: limitValue,\n      show_value: length\n    }, true);\n  });\n}\n\n},{\"../../..\":299,\"../../../utils/validators\":389}],142:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Delete = exports.Unhide = exports.Hide = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  if (isVisible(props.post.acl)) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'event-controls' },\n      _react2.default.createElement(Hide, props),\n      _react2.default.createElement(Unhide, props),\n      _react2.default.createElement(Delete, props)\n    );\n  } else {\n    return null;\n  }\n};\n\nexports.isVisible = isVisible;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _post = require('../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nfunction isVisible(acl) {\n  return acl.can_hide;\n}\n\nvar Hide = exports.Hide = function (_React$Component) {\n  _inherits(Hide, _React$Component);\n\n  function Hide() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Hide);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _store2.default.dispatch(post.patch(_this.props.post, {\n        is_hidden: true,\n        hidden_on: (0, _moment2.default)(),\n        hidden_by_name: _this.props.user.username,\n        url: Object.assign(_this.props.post.url, {\n          hidden_by: _this.props.user.url\n        })\n      }));\n\n      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };\n\n      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {\n        _store2.default.dispatch(post.patch(_this.props.post, patch));\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail[0]);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n\n        _store2.default.dispatch(post.patch(_this.props.post, {\n          is_hidden: false\n        }));\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Hide, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.is_hidden) {\n        return _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          gettext(\"Hide\")\n        );\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return Hide;\n}(_react2.default.Component);\n\nvar Unhide = exports.Unhide = function (_React$Component2) {\n  _inherits(Unhide, _React$Component2);\n\n  function Unhide() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, Unhide);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      _store2.default.dispatch(post.patch(_this2.props.post, {\n        is_hidden: false\n      }));\n\n      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };\n\n      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {\n        _store2.default.dispatch(post.patch(_this2.props.post, patch));\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail[0]);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n\n        _store2.default.dispatch(post.patch(_this2.props.post, {\n          is_hidden: true\n        }));\n      });\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(Unhide, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.post.is_hidden) {\n        return _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          gettext(\"Unhide\")\n        );\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return Unhide;\n}(_react2.default.Component);\n\nvar Delete = exports.Delete = function (_React$Component3) {\n  _inherits(Delete, _React$Component3);\n\n  function Delete() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, Delete);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      var decision = confirm(gettext(\"Are you sure you wish to delete this event? This action is not reversible!\"));\n      if (decision) {\n        _this3.delete();\n      }\n    }, _this3.delete = function () {\n      _store2.default.dispatch(post.patch(_this3.props.post, {\n        isDeleted: true\n      }));\n\n      _ajax2.default.delete(_this3.props.post.api.index).then(function () {\n        _snackbar2.default.success(gettext(\"Event has been deleted.\"));\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail[0]);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n\n        _store2.default.dispatch(post.patch(_this3.props.post, {\n          isDeleted: false\n        }));\n      });\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(Delete, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n        gettext(\"Delete\")\n      );\n    }\n  }]);\n\n  return Delete;\n}(_react2.default.Component);\n\n},{\"../../../reducers/post\":349,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"moment\":\"moment\",\"react\":\"react\"}],143:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-avatar' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      ICON[props.post.event_type]\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ICON = {\n  changed_title: 'edit',\n\n  pinned_globally: 'bookmark',\n  pinned_locally: 'bookmark_border',\n  unpinned: 'panorama_fish_eye',\n\n  moved: 'arrow_forward',\n  merged: 'call_merge',\n\n  approved: 'done',\n\n  opened: 'lock_open',\n  closed: 'lock_outline',\n\n  unhid: 'visibility',\n  hid: 'visibility_off',\n\n  changed_owner: 'grade',\n  tookover: 'grade',\n\n  added_participant: 'person_add',\n\n  owner_left: 'person_outline',\n  participant_left: 'person_outline',\n  removed_participant: 'remove_circle_outline'\n}; /* jshint ignore:start */\n\n},{\"react\":\"react\"}],144:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var className = 'event';\n  if (props.post.isDeleted) {\n    className = 'hide';\n  } else if (props.post.is_hidden) {\n    className = 'event post-hidden';\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { id: 'post-' + props.post.id, className: className },\n    _react2.default.createElement(_unreadLabel2.default, { post: props.post }),\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      _react2.default.createElement(\n        'div',\n        { className: 'col-xs-2 col-sm-3 text-right' },\n        _react2.default.createElement(_icon2.default, props)\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'col-xs-10 col-sm-9 text-left' },\n        _react2.default.createElement(\n          _waypoint2.default,\n          { post: props.post },\n          _react2.default.createElement(_message2.default, props),\n          _react2.default.createElement(_info2.default, props)\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _icon = require('./icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _info = require('./info');\n\nvar _info2 = _interopRequireDefault(_info);\n\nvar _message = require('./message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _unreadLabel = require('./unread-label');\n\nvar _unreadLabel2 = _interopRequireDefault(_unreadLabel);\n\nvar _waypoint = require('../waypoint');\n\nvar _waypoint2 = _interopRequireDefault(_waypoint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../waypoint\":170,\"./icon\":143,\"./info\":145,\"./message\":146,\"./unread-label\":147,\"react\":\"react\"}],145:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-inline event-info' },\n    _react2.default.createElement(Hidden, props),\n    _react2.default.createElement(Poster, props),\n    _react2.default.createElement(_controls2.default, props)\n  );\n};\n\nexports.Hidden = Hidden;\nexports.Poster = Poster;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nvar _controls = require('./controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'; /* jshint ignore:start */\n\nvar DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nfunction Hidden(props) {\n  if (props.post.is_hidden) {\n    var user = null;\n    if (props.post.url.hidden_by) {\n      user = interpolate(USER_URL, {\n        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),\n        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)\n      }, true);\n    } else {\n      user = interpolate(USER_SPAN, {\n        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)\n      }, true);\n    }\n\n    var date = interpolate(DATE_ABBR, {\n      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),\n      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())\n    }, true);\n\n    var message = interpolate((0, _escapeHtml2.default)(gettext(\"Hidden by %(event_by)s %(event_on)s.\")), {\n      event_by: user,\n      event_on: date\n    }, true);\n\n    return _react2.default.createElement('li', {\n      className: 'event-hidden-message',\n      dangerouslySetInnerHTML: { __html: message }\n    });\n  } else {\n    return null;\n  }\n}\n\nfunction Poster(props) {\n  var user = null;\n  if (props.post.poster) {\n    user = interpolate(USER_URL, {\n      url: (0, _escapeHtml2.default)(props.post.poster.url),\n      user: (0, _escapeHtml2.default)(props.post.poster_name)\n    }, true);\n  } else {\n    user = interpolate(USER_SPAN, {\n      user: (0, _escapeHtml2.default)(props.post.poster_name)\n    }, true);\n  }\n\n  var date = interpolate(DATE_URL, {\n    url: (0, _escapeHtml2.default)(props.post.url.index),\n    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"By %(event_by)s %(event_on)s.\")), {\n    event_by: user,\n    event_on: date\n  }, true);\n\n  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });\n}\n\n},{\"../../../utils/escape-html\":379,\"./controls\":142,\"react\":\"react\"}],146:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return _react2.default.createElement(\n      'p',\n      { className: 'event-message' },\n      MESSAGE[props.post.event_type]\n    );\n  } else if (props.post.event_type === 'changed_title') {\n    return _react2.default.createElement(ChangedTitle, props);\n  } else if (props.post.event_type === 'moved') {\n    return _react2.default.createElement(Moved, props);\n  } else if (props.post.event_type === 'merged') {\n    return _react2.default.createElement(Merged, props);\n  } else if (props.post.event_type === 'changed_owner') {\n    return _react2.default.createElement(ChangedOwner, props);\n  } else if (props.post.event_type === 'added_participant') {\n    return _react2.default.createElement(AddedParticipant, props);\n  } else if (props.post.event_type === 'removed_participant') {\n    return _react2.default.createElement(RemovedParticipant, props);\n  } else {\n    return null;\n  }\n};\n\nexports.ChangedTitle = ChangedTitle;\nexports.Moved = Moved;\nexports.Merged = Merged;\nexports.ChangedOwner = ChangedOwner;\nexports.AddedParticipant = AddedParticipant;\nexports.RemovedParticipant = RemovedParticipant;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar MESSAGE = {\n  pinned_globally: gettext(\"Thread has been pinned globally.\"),\n  pinned_locally: gettext(\"Thread has been pinned locally.\"),\n  unpinned: gettext(\"Thread has been unpinned.\"),\n\n  approved: gettext(\"Thread has been approved.\"),\n\n  opened: gettext(\"Thread has been opened.\"),\n  closed: gettext(\"Thread has been closed.\"),\n\n  unhid: gettext(\"Thread has been revealed.\"),\n  hid: gettext(\"Thread has been made hidden.\"),\n\n  tookover: gettext(\"Took thread over.\"),\n\n  owner_left: gettext(\"Owner has left thread. This thread is now closed.\"),\n  participant_left: gettext(\"Participant has left thread.\")\n};\n\nvar ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>';\nvar ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>';\n\nfunction ChangedTitle(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"Thread title has been changed from %(old_title)s.\"));\n  var oldTitle = interpolate(ITEM_SPAN, {\n    name: (0, _escapeHtml2.default)(props.post.event_context.old_title)\n  }, true);\n  var message = interpolate(msgstring, {\n    old_title: oldTitle\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction Moved(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"Thread has been moved from %(from_category)s.\"));\n  var fromCategory = interpolate(ITEM_LINK, {\n    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),\n    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)\n  }, true);\n\n  var message = interpolate(msgstring, {\n    from_category: fromCategory\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction Merged(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"The %(merged_thread)s thread has been merged into this thread.\"));\n  var mergedThread = interpolate(ITEM_SPAN, {\n    name: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)\n  }, true);\n\n  var message = interpolate(msgstring, {\n    merged_thread: mergedThread\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction ChangedOwner(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"Changed thread owner to %(user)s.\"));\n  var newOwner = interpolate(ITEM_LINK, {\n    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),\n    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)\n  }, true);\n\n  var message = interpolate(msgstring, {\n    user: newOwner\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction AddedParticipant(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"Added %(user)s to thread.\"));\n  var newOwner = interpolate(ITEM_LINK, {\n    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),\n    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)\n  }, true);\n\n  var message = interpolate(msgstring, {\n    user: newOwner\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\nfunction RemovedParticipant(props) {\n  var msgstring = (0, _escapeHtml2.default)(gettext(\"Removed %(user)s from thread.\"));\n  var newOwner = interpolate(ITEM_LINK, {\n    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),\n    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)\n  }, true);\n\n  var message = interpolate(msgstring, {\n    user: newOwner\n  }, true);\n\n  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });\n}\n\n},{\"../../../utils/escape-html\":379,\"react\":\"react\"}],147:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post;\n\n  if (post.is_read) return null;\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"row\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left\" },\n      _react2.default.createElement(\n        \"div\",\n        { className: \"event-label\" },\n        _react2.default.createElement(\n          \"span\",\n          { className: \"label label-unread\" },\n          gettext(\"New event\")\n        )\n      )\n    )\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],148:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n\n\nexports.default = function (props) {\n  if (!props.posts.isLoaded) {\n    return _react2.default.createElement(\n      'ul',\n      { className: 'posts-list ui-preview' },\n      _react2.default.createElement(_preview2.default, null)\n    );\n  }\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'posts-list ui-ready' },\n    props.posts.results.map(function (post) {\n      return _react2.default.createElement(ListItem, _extends({\n        key: post.id,\n        post: post\n      }, props));\n    })\n  );\n};\n\nexports.ListItem = ListItem;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _event = require('./event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nvar _post = require('./post');\n\nvar _post2 = _interopRequireDefault(_post);\n\nvar _preview = require('./post/preview');\n\nvar _preview2 = _interopRequireDefault(_preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ListItem(props) {\n  if (props.post.is_event) {\n    return _react2.default.createElement(_event2.default, props);\n  }\n\n  return _react2.default.createElement(_post2.default, props);\n}\n\n},{\"./event\":144,\"./post\":160,\"./post/preview\":168,\"react\":\"react\"}],149:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-md-6' },\n    _react2.default.createElement(AttachmentPreview, props),\n    _react2.default.createElement(\n      'div',\n      { className: 'post-attachment' },\n      _react2.default.createElement(\n        'a',\n        { href: props.attachment.url.index, className: 'attachment-name item-title' },\n        props.attachment.filename\n      ),\n      _react2.default.createElement(AttachmentDetails, props)\n    )\n  );\n};\n\nexports.AttachmentPreview = AttachmentPreview;\nexports.AttachmentIcon = AttachmentIcon;\nexports.AttachmentThumbnail = AttachmentThumbnail;\nexports.AttachmentDetails = AttachmentDetails;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('../../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _escapeHtml = require('../../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nvar _fileSize = require('../../../../utils/file-size');\n\nvar _fileSize2 = _interopRequireDefault(_fileSize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>';\nvar USER_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\n\nfunction AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return _react2.default.createElement(\n      'div',\n      { className: 'post-attachment-preview' },\n      _react2.default.createElement(AttachmentThumbnail, props)\n    );\n  } else {\n    return _react2.default.createElement(\n      'div',\n      { className: 'post-attachment-preview' },\n      _react2.default.createElement(AttachmentIcon, props)\n    );\n  }\n}\n\nfunction AttachmentIcon(props) {\n  return _react2.default.createElement(\n    'a',\n    { href: props.attachment.url.index, className: 'material-icon' },\n    'insert_drive_file'\n  );\n}\n\nfunction AttachmentThumbnail(props) {\n  var url = props.attachment.url.thumb || props.attachment.url.index;\n  return _react2.default.createElement('a', {\n    className: 'post-thumbnail',\n    href: props.attachment.url.index,\n    style: { backgroundImage: 'url(\"' + (0, _escapeHtml2.default)(url) + '\")' }\n  });\n}\n\nfunction AttachmentDetails(props) {\n  var user = null;\n  if (props.attachment.url.uploader) {\n    user = interpolate(USER_URL, {\n      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),\n      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)\n    }, true);\n  } else {\n    user = interpolate(USER_SPAN, {\n      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)\n    }, true);\n  }\n\n  var date = interpolate(DATE_ABBR, {\n    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\")), {\n    filetype: props.attachment.filetype,\n    size: (0, _fileSize2.default)(props.attachment.size),\n    uploader: user,\n    uploaded_on: date\n  }, true);\n\n  return _react2.default.createElement('p', {\n    className: 'post-attachment-description',\n    dangerouslySetInnerHTML: { __html: message }\n  });\n}\n\n},{\"../../../..\":299,\"../../../../utils/escape-html\":379,\"../../../../utils/file-size\":380,\"react\":\"react\"}],150:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (!isVisible(props.post)) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-attachments' },\n    (0, _batch2.default)(props.post.attachments, 2).map(function (row) {\n      var key = row.map(function (a) {\n        return a ? a.id : 0;\n      }).join('_');\n      return _react2.default.createElement(Row, { key: key, row: row });\n    })\n  );\n};\n\nexports.isVisible = isVisible;\nexports.Row = Row;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _batch = require('../../../../utils/batch');\n\nvar _batch2 = _interopRequireDefault(_batch);\n\nvar _attachment = require('./attachment');\n\nvar _attachment2 = _interopRequireDefault(_attachment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;\n}\n\nfunction Row(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'row' },\n    props.row.map(function (attachment) {\n      return _react2.default.createElement(_attachment2.default, {\n        attachment: attachment,\n        key: attachment ? attachment.id : 0\n      });\n    })\n  );\n}\n\n},{\"../../../../utils/batch\":376,\"./attachment\":149,\"react\":\"react\"}],151:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return _react2.default.createElement(Hidden, props);\n  } else if (props.post.content) {\n    return _react2.default.createElement(Default, props);\n  } else {\n    return _react2.default.createElement(Invalid, props);\n  }\n};\n\nexports.Default = Default;\nexports.Hidden = Hidden;\nexports.Invalid = Invalid;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _waypoint = require('../waypoint');\n\nvar _waypoint2 = _interopRequireDefault(_waypoint);\n\nvar _misagoMarkup = require('../../misago-markup');\n\nvar _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>';\nvar HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>';\nvar HIDDEN_ON = '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>';\n\nfunction Default(props) {\n  return _react2.default.createElement(\n    _waypoint2.default,\n    { className: 'post-body', post: props.post },\n    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })\n  );\n}\n\nfunction Hidden(props) {\n  var user = null;\n  if (props.post.hidden_by) {\n    user = interpolate(HIDDEN_BY_URL, {\n      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),\n      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)\n    }, true);\n  } else {\n    user = interpolate(HIDDEN_BY_SPAN, {\n      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)\n    }, true);\n  }\n\n  var date = interpolate(HIDDEN_ON, {\n    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"Hidden by %(hidden_by)s %(hidden_on)s.\")), {\n    hidden_by: user,\n    hidden_on: date\n  }, true);\n\n  return _react2.default.createElement(\n    _waypoint2.default,\n    { className: 'post-body post-body-hidden', post: props.post },\n    _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      gettext(\"This post is hidden. You cannot see its contents.\")\n    ),\n    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })\n  );\n}\n\nfunction Invalid(props) {\n  return _react2.default.createElement(\n    _waypoint2.default,\n    { className: 'post-body post-body-invalid', post: props.post },\n    _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      gettext(\"This post's contents cannot be displayed.\")\n    ),\n    _react2.default.createElement(\n      'p',\n      { className: 'text-muted' },\n      gettext(\"This error is caused by invalid post content manipulation.\")\n    )\n  );\n}\n\n},{\"../../../utils/escape-html\":379,\"../../misago-markup\":58,\"../waypoint\":170,\"react\":\"react\"}],152:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.approve = approve;\nexports.protect = protect;\nexports.unprotect = unprotect;\nexports.hide = hide;\nexports.unhide = unhide;\nexports.like = like;\nexports.unlike = unlike;\nexports.patch = patch;\nexports.remove = remove;\nexports.markAsBestAnswer = markAsBestAnswer;\nexports.unmarkBestAnswer = unmarkBestAnswer;\nexports.patchThread = patchThread;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _thread = require('../../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction approve(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_unapproved: false\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];\n\n  var previousState = {\n    is_unapproved: props.post.is_unapproved\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction protect(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_protected: true\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];\n\n  var previousState = {\n    is_protected: props.post.is_protected\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction unprotect(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_protected: false\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];\n\n  var previousState = {\n    is_protected: props.post.is_protected\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction hide(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_hidden: true,\n    hidden_on: (0, _moment2.default)(),\n    hidden_by_name: props.user.username,\n    url: Object.assign(props.post.url, {\n      hidden_by: props.user.url\n    })\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];\n\n  var previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction unhide(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_hidden: false\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];\n\n  var previousState = {\n    is_hidden: props.post.is_hidden\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction like(props) {\n  var lastLikes = props.post.last_likes || [];\n  var concatedLikes = [props.user].concat(lastLikes);\n  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;\n\n  _store2.default.dispatch(post.patch(props.post, {\n    is_liked: true,\n    likes: props.post.likes + 1,\n    last_likes: finalLikes\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': true }];\n\n  var previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction unlike(props) {\n  _store2.default.dispatch(post.patch(props.post, {\n    is_liked: false,\n    likes: props.post.likes - 1,\n    last_likes: props.post.last_likes.filter(function (user) {\n      return !user.id || user.id !== props.user.id;\n    })\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': false }];\n\n  var previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes\n  };\n\n  patch(props, ops, previousState);\n}\n\nfunction patch(props, ops, previousState) {\n  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {\n    _store2.default.dispatch(post.patch(props.post, newState));\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail[0]);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    _store2.default.dispatch(post.patch(props.post, previousState));\n  });\n}\n\nfunction remove(props) {\n  var confirmed = confirm(gettext(\"Are you sure you want to delete this post? This action is not reversible!\"));\n  if (!confirmed) {\n    return;\n  }\n\n  _store2.default.dispatch(post.patch(props.post, {\n    isDeleted: true\n  }));\n\n  _ajax2.default.delete(props.post.api.index).then(function () {\n    _snackbar2.default.success(gettext(\"Post has been deleted.\"));\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    _store2.default.dispatch(post.patch(props.post, {\n      isDeleted: false\n    }));\n  });\n}\n\nfunction markAsBestAnswer(props) {\n  var post = props.post,\n      user = props.user;\n\n\n  _store2.default.dispatch(thread.update({\n    best_answer: post.id,\n    best_answer_is_protected: post.is_protected,\n    best_answer_marked_on: (0, _moment2.default)(),\n    best_answer_marked_by: user.id,\n    best_answer_marked_by_name: user.username,\n    best_answer_marked_by_slug: user.slug\n  }));\n\n  var ops = [{ 'op': 'replace', 'path': 'best-answer', 'value': post.id }, { 'op': 'add', 'path': 'acl', 'value': true }];\n\n  var previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug\n  };\n\n  patchThread(props, ops, previousState);\n}\n\nfunction unmarkBestAnswer(props) {\n  var post = props.post;\n\n\n  _store2.default.dispatch(thread.update({\n    best_answer: null,\n    best_answer_is_protected: false,\n    best_answer_marked_on: null,\n    best_answer_marked_by: null,\n    best_answer_marked_by_name: null,\n    best_answer_marked_by_slug: null\n  }));\n\n  var ops = [{ 'op': 'remove', 'path': 'best-answer', 'value': post.id }, { 'op': 'add', 'path': 'acl', 'value': true }];\n\n  var previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug\n  };\n\n  patchThread(props, ops, previousState);\n}\n\nfunction patchThread(props, ops, previousState) {\n  _ajax2.default.patch(props.thread.api.index, ops).then(function (newState) {\n    if (newState.best_answer_marked_on) {\n      newState.best_answer_marked_on = (0, _moment2.default)(newState.best_answer_marked_on);\n    }\n    _store2.default.dispatch(thread.update(newState));\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail[0]);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    _store2.default.dispatch(thread.update(previousState));\n  });\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../reducers/thread\":356,\"../../../../services/ajax\":361,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"moment\":\"moment\"}],153:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },\n    _react2.default.createElement(Permalink, props),\n    _react2.default.createElement(Edit, props),\n    _react2.default.createElement(MarkAsBestAnswer, props),\n    _react2.default.createElement(UnmarkMarkBestAnswer, props),\n    _react2.default.createElement(PostEdits, props),\n    _react2.default.createElement(Approve, props),\n    _react2.default.createElement(Move, props),\n    _react2.default.createElement(Split, props),\n    _react2.default.createElement(Protect, props),\n    _react2.default.createElement(Unprotect, props),\n    _react2.default.createElement(Hide, props),\n    _react2.default.createElement(Unhide, props),\n    _react2.default.createElement(Delete, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _posting = require('../../../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _actions = require('./actions');\n\nvar moderation = _interopRequireWildcard(_actions);\n\nvar _move = require('./move');\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _postChangelog = require('../../../post-changelog');\n\nvar _postChangelog2 = _interopRequireDefault(_postChangelog);\n\nvar _split = require('./split');\n\nvar _split2 = _interopRequireDefault(_split);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar Permalink = exports.Permalink = function (_React$Component) {\n  _inherits(Permalink, _React$Component);\n\n  function Permalink() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Permalink);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Permalink.__proto__ || Object.getPrototypeOf(Permalink)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      var permaUrl = window.location.protocol + '//';\n      permaUrl += window.location.host;\n      permaUrl += _this.props.post.url.index;\n\n      prompt(gettext(\"Permament link to this post:\"), permaUrl);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Permalink, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'link'\n          ),\n          gettext(\"Permament link\")\n        )\n      );\n    }\n  }]);\n\n  return Permalink;\n}(_react2.default.Component);\n\nvar Edit = exports.Edit = function (_React$Component2) {\n  _inherits(Edit, _React$Component2);\n\n  function Edit() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      _posting2.default.open({\n        mode: 'EDIT',\n\n        config: _this2.props.post.api.editor,\n        submit: _this2.props.post.api.index\n      });\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(Edit, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_edit) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'edit'\n          ),\n          gettext(\"Edit\")\n        )\n      );\n    }\n  }]);\n\n  return Edit;\n}(_react2.default.Component);\n\nvar MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component3) {\n  _inherits(MarkAsBestAnswer, _React$Component3);\n\n  function MarkAsBestAnswer() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, MarkAsBestAnswer);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      moderation.markAsBestAnswer(_this3.props);\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(MarkAsBestAnswer, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          post = _props.post,\n          thread = _props.thread;\n\n\n      if (!thread.acl.can_mark_best_answer) return null;\n      if (!post.acl.can_mark_as_best_answer) return null;\n      if (post.id === thread.best_answer) return null;\n      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'check_box'\n          ),\n          gettext(\"Mark as best answer\")\n        )\n      );\n    }\n  }]);\n\n  return MarkAsBestAnswer;\n}(_react2.default.Component);\n\nvar UnmarkMarkBestAnswer = exports.UnmarkMarkBestAnswer = function (_React$Component4) {\n  _inherits(UnmarkMarkBestAnswer, _React$Component4);\n\n  function UnmarkMarkBestAnswer() {\n    var _ref4;\n\n    var _temp4, _this4, _ret4;\n\n    _classCallCheck(this, UnmarkMarkBestAnswer);\n\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = UnmarkMarkBestAnswer.__proto__ || Object.getPrototypeOf(UnmarkMarkBestAnswer)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {\n      moderation.unmarkBestAnswer(_this4.props);\n    }, _temp4), _possibleConstructorReturn(_this4, _ret4);\n  }\n\n  _createClass(UnmarkMarkBestAnswer, [{\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          post = _props2.post,\n          thread = _props2.thread;\n\n\n      if (post.id !== thread.best_answer) return null;\n      if (!thread.acl.can_unmark_best_answer) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'check_box_outline_blank'\n          ),\n          gettext(\"Unmark best answer\")\n        )\n      );\n    }\n  }]);\n\n  return UnmarkMarkBestAnswer;\n}(_react2.default.Component);\n\nvar PostEdits = exports.PostEdits = function (_React$Component5) {\n  _inherits(PostEdits, _React$Component5);\n\n  function PostEdits() {\n    var _ref5;\n\n    var _temp5, _this5, _ret5;\n\n    _classCallCheck(this, PostEdits);\n\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this5.props.post }));\n    }, _temp5), _possibleConstructorReturn(_this5, _ret5);\n  }\n\n  _createClass(PostEdits, [{\n    key: 'render',\n    value: function render() {\n      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;\n      var isUnedited = this.props.post.edits === 0;\n      if (isHidden || isUnedited) return null;\n\n      var message = ngettext(\"This post was edited %(edits)s time.\", \"This post was edited %(edits)s times.\", this.props.post.edits);\n\n      var title = interpolate(message, {\n        'edits': this.props.post.edits\n      }, true);\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'edit'\n          ),\n          gettext(\"Changes history\")\n        )\n      );\n    }\n  }]);\n\n  return PostEdits;\n}(_react2.default.Component);\n\nvar Approve = exports.Approve = function (_React$Component6) {\n  _inherits(Approve, _React$Component6);\n\n  function Approve() {\n    var _ref6;\n\n    var _temp6, _this6, _ret6;\n\n    _classCallCheck(this, Approve);\n\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {\n      moderation.approve(_this6.props);\n    }, _temp6), _possibleConstructorReturn(_this6, _ret6);\n  }\n\n  _createClass(Approve, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_approve) return null;\n      if (!this.props.post.is_unapproved) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'done'\n          ),\n          gettext(\"Approve\")\n        )\n      );\n    }\n  }]);\n\n  return Approve;\n}(_react2.default.Component);\n\nvar Move = exports.Move = function (_React$Component7) {\n  _inherits(Move, _React$Component7);\n\n  function Move() {\n    var _ref7;\n\n    var _temp7, _this7, _ret7;\n\n    _classCallCheck(this, Move);\n\n    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_move2.default, _this7.props));\n    }, _temp7), _possibleConstructorReturn(_this7, _ret7);\n  }\n\n  _createClass(Move, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_move) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          gettext(\"Move\")\n        )\n      );\n    }\n  }]);\n\n  return Move;\n}(_react2.default.Component);\n\nvar Split = exports.Split = function (_React$Component8) {\n  _inherits(Split, _React$Component8);\n\n  function Split() {\n    var _ref8;\n\n    var _temp8, _this8, _ret8;\n\n    _classCallCheck(this, Split);\n\n    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n\n    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_split2.default, _this8.props));\n    }, _temp8), _possibleConstructorReturn(_this8, _ret8);\n  }\n\n  _createClass(Split, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_move) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'call_split'\n          ),\n          gettext(\"Split\")\n        )\n      );\n    }\n  }]);\n\n  return Split;\n}(_react2.default.Component);\n\nvar Protect = exports.Protect = function (_React$Component9) {\n  _inherits(Protect, _React$Component9);\n\n  function Protect() {\n    var _ref9;\n\n    var _temp9, _this9, _ret9;\n\n    _classCallCheck(this, Protect);\n\n    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n\n    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {\n      moderation.protect(_this9.props);\n    }, _temp9), _possibleConstructorReturn(_this9, _ret9);\n  }\n\n  _createClass(Protect, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_protect) return null;\n      if (this.props.post.is_protected) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_outline'\n          ),\n          gettext(\"Protect\")\n        )\n      );\n    }\n  }]);\n\n  return Protect;\n}(_react2.default.Component);\n\nvar Unprotect = exports.Unprotect = function (_React$Component10) {\n  _inherits(Unprotect, _React$Component10);\n\n  function Unprotect() {\n    var _ref10;\n\n    var _temp10, _this10, _ret10;\n\n    _classCallCheck(this, Unprotect);\n\n    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n      args[_key10] = arguments[_key10];\n    }\n\n    return _ret10 = (_temp10 = (_this10 = _possibleConstructorReturn(this, (_ref10 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref10, [this].concat(args))), _this10), _this10.onClick = function () {\n      moderation.unprotect(_this10.props);\n    }, _temp10), _possibleConstructorReturn(_this10, _ret10);\n  }\n\n  _createClass(Unprotect, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_protect) return null;\n      if (!this.props.post.is_protected) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_open'\n          ),\n          gettext(\"Remove protection\")\n        )\n      );\n    }\n  }]);\n\n  return Unprotect;\n}(_react2.default.Component);\n\nvar Hide = exports.Hide = function (_React$Component11) {\n  _inherits(Hide, _React$Component11);\n\n  function Hide() {\n    var _ref11;\n\n    var _temp11, _this11, _ret11;\n\n    _classCallCheck(this, Hide);\n\n    for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n      args[_key11] = arguments[_key11];\n    }\n\n    return _ret11 = (_temp11 = (_this11 = _possibleConstructorReturn(this, (_ref11 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref11, [this].concat(args))), _this11), _this11.onClick = function () {\n      moderation.hide(_this11.props);\n    }, _temp11), _possibleConstructorReturn(_this11, _ret11);\n  }\n\n  _createClass(Hide, [{\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          post = _props3.post,\n          thread = _props3.thread;\n\n\n      if (post.id === thread.best_answer) return null;\n      if (!post.acl.can_hide) return null;\n      if (post.is_hidden) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility_off'\n          ),\n          gettext(\"Hide\")\n        )\n      );\n    }\n  }]);\n\n  return Hide;\n}(_react2.default.Component);\n\nvar Unhide = exports.Unhide = function (_React$Component12) {\n  _inherits(Unhide, _React$Component12);\n\n  function Unhide() {\n    var _ref12;\n\n    var _temp12, _this12, _ret12;\n\n    _classCallCheck(this, Unhide);\n\n    for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n      args[_key12] = arguments[_key12];\n    }\n\n    return _ret12 = (_temp12 = (_this12 = _possibleConstructorReturn(this, (_ref12 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref12, [this].concat(args))), _this12), _this12.onClick = function () {\n      moderation.unhide(_this12.props);\n    }, _temp12), _possibleConstructorReturn(_this12, _ret12);\n  }\n\n  _createClass(Unhide, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_unhide) return null;\n      if (!this.props.post.is_hidden) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility'\n          ),\n          gettext(\"Unhide\")\n        )\n      );\n    }\n  }]);\n\n  return Unhide;\n}(_react2.default.Component);\n\nvar Delete = exports.Delete = function (_React$Component13) {\n  _inherits(Delete, _React$Component13);\n\n  function Delete() {\n    var _ref13;\n\n    var _temp13, _this13, _ret13;\n\n    _classCallCheck(this, Delete);\n\n    for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n      args[_key13] = arguments[_key13];\n    }\n\n    return _ret13 = (_temp13 = (_this13 = _possibleConstructorReturn(this, (_ref13 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref13, [this].concat(args))), _this13), _this13.onClick = function () {\n      moderation.remove(_this13.props);\n    }, _temp13), _possibleConstructorReturn(_this13, _ret13);\n  }\n\n  _createClass(Delete, [{\n    key: 'render',\n    value: function render() {\n      var _props4 = this.props,\n          post = _props4.post,\n          thread = _props4.thread;\n\n\n      if (post.id === thread.best_answer) return null;\n      if (!post.acl.can_delete) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'clear'\n          ),\n          gettext(\"Delete\")\n        )\n      );\n    }\n  }]);\n\n  return Delete;\n}(_react2.default.Component);\n\n},{\"../../../../services/modal\":367,\"../../../../services/posting\":371,\"../../../post-changelog\":116,\"./actions\":152,\"./move\":155,\"./split\":156,\"react\":\"react\"}],154:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'pull-right dropdown' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-expanded': 'true',\n        'aria-haspopup': 'true',\n        className: 'btn btn-default btn-icon dropdown-toggle',\n        'data-toggle': 'dropdown',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'expand_more'\n      )\n    ),\n    _react2.default.createElement(_dropdown2.default, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _dropdown = require('./dropdown');\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./dropdown\":153,\"react\":\"react\"}],155:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalHeader = ModalHeader;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onUrlChange = function (event) {\n      _this.changeValue('url', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      url: '',\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.url.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter link to the other thread.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.thread.api.posts.move, {\n        new_thread: this.state.url,\n        posts: [this.props.post.id]\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      _store2.default.dispatch(post.patch(this.props.post, {\n        isDeleted: true\n      }));\n\n      _modal2.default.hide();\n\n      _snackbar2.default.success(gettext(\"Selected post was moved to the other thread.\"));\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(rejection.detail);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog', role: 'document' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-content' },\n            _react2.default.createElement(ModalHeader, null),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  'for': 'id_url',\n                  label: gettext(\"Link to thread you want to move post to\")\n                },\n                _react2.default.createElement('input', {\n                  className: 'form-control',\n                  disabled: this.state.isLoading,\n                  id: 'id_url',\n                  onChange: this.onUrlChange,\n                  value: this.state.url\n                })\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                { className: 'btn btn-primary', loading: this.state.isLoading },\n                gettext(\"Move post\")\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction ModalHeader(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-header' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-label': gettext(\"Close\"),\n        className: 'close',\n        'data-dismiss': 'modal',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { 'aria-hidden': 'true' },\n        '\\xD7'\n      )\n    ),\n    _react2.default.createElement(\n      'h4',\n      { className: 'modal-title' },\n      gettext(\"Move post\")\n    )\n  );\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../button\":7,\"../../../form\":54,\"../../../form-group\":53,\"react\":\"react\"}],156:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModerationForm = exports.PostingConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));\n};\n\nexports.Loader = Loader;\nexports.Error = Error;\nexports.Modal = Modal;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _categorySelect = require('../../../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _modalLoader = require('../../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _select = require('../../../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _validators = require('../../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PostingConfig = exports.PostingConfig = function (_React$Component) {\n  _inherits(PostingConfig, _React$Component);\n\n  function PostingConfig(props) {\n    _classCallCheck(this, PostingConfig);\n\n    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));\n\n    _this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: []\n    };\n    return _this;\n  }\n\n  _createClass(PostingConfig, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {\n        // hydrate categories, extract posting options\n        var categories = data.map(function (item) {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post\n          });\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          categories: categories\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isError: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.isError) {\n        return _react2.default.createElement(Error, { message: this.state.isError });\n      } else if (this.state.isLoaded) {\n        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));\n      } else {\n        return _react2.default.createElement(Loader, null);\n      }\n    }\n  }]);\n\n  return PostingConfig;\n}(_react2.default.Component);\n\nvar ModerationForm = exports.ModerationForm = function (_Form) {\n  _inherits(ModerationForm, _Form);\n\n  function ModerationForm(props) {\n    _classCallCheck(this, ModerationForm);\n\n    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));\n\n    _this3.onCategoryChange = function (ev) {\n      var categoryId = ev.target.value;\n      var newState = {\n        category: categoryId\n      };\n\n      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {\n        newState.weight = 0;\n      }\n\n      if (!_this3.acl[categoryId].can_hide_threads) {\n        newState.is_hidden = 0;\n      }\n\n      if (!_this3.acl[categoryId].can_close_threads) {\n        newState.is_closed = false;\n      }\n\n      _this3.setState(newState);\n    };\n\n    _this3.state = {\n      isLoading: false,\n\n      title: '',\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    };\n\n    _this3.isHiddenChoices = [{\n      'value': 0,\n      'icon': 'visibility',\n      'label': gettext(\"No\")\n    }, {\n      'value': 1,\n      'icon': 'visibility_off',\n      'label': gettext(\"Yes\")\n    }];\n\n    _this3.isClosedChoices = [{\n      'value': false,\n      'icon': 'lock_outline',\n      'label': gettext(\"No\")\n    }, {\n      'value': true,\n      'icon': 'lock',\n      'label': gettext(\"Yes\")\n    }];\n\n    _this3.acl = {};\n    _this3.props.categories.forEach(function (category) {\n      if (category.post) {\n        if (!_this3.state.category) {\n          _this3.state.category = category.id;\n        }\n\n        _this3.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide\n        };\n      }\n    });\n    return _this3;\n  }\n\n  _createClass(ModerationForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          errors: this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.thread.api.posts.split, {\n        title: this.state.title,\n        category: this.state.category,\n        weight: this.state.weight,\n        is_hidden: this.state.is_hidden,\n        is_closed: this.state.is_closed,\n        posts: [this.props.post.id]\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      _store2.default.dispatch(post.patch(this.props.post, {\n        isDeleted: true\n      }));\n\n      _modal2.default.hide();\n\n      _snackbar2.default.success(gettext(\"Selected post was split into new thread.\"));\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        this.setState({\n          'errors': Object.assign({}, this.state.errors, rejection)\n        });\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n      } else if (rejection.status === 403 && Array.isArray(rejection)) {\n        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getWeightChoices',\n    value: function getWeightChoices() {\n      var choices = [{\n        'value': 0,\n        'icon': 'remove',\n        'label': gettext(\"Not pinned\")\n      }, {\n        'value': 1,\n        'icon': 'bookmark_border',\n        'label': gettext(\"Pinned locally\")\n      }];\n\n      if (this.acl[this.state.category].can_pin_threads == 2) {\n        choices.push({\n          'value': 2,\n          'icon': 'bookmark',\n          'label': gettext(\"Pinned globally\")\n        });\n      }\n\n      return choices;\n    }\n  }, {\n    key: 'renderWeightField',\n    value: function renderWeightField() {\n      if (this.acl[this.state.category].can_pin_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Thread weight\"),\n            'for': 'id_weight',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_weight',\n            onChange: this.bindInput('weight'),\n            value: this.state.weight,\n            choices: this.getWeightChoices() })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderHiddenField',\n    value: function renderHiddenField() {\n      if (this.acl[this.state.category].can_hide_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Hide thread\"),\n            'for': 'id_is_hidden',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_hidden'),\n            value: this.state.is_hidden,\n            choices: this.isHiddenChoices })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderClosedField',\n    value: function renderClosedField() {\n      if (this.acl[this.state.category].can_close_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Close thread\"),\n            'for': 'id_is_closed',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_closed'),\n            value: this.state.is_closed,\n            choices: this.isClosedChoices })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        Modal,\n        { className: 'modal-dialog' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-body' },\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Thread title\"),\n                'for': 'id_title',\n                labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                validation: this.state.errors.title },\n              _react2.default.createElement('input', { id: 'id_title',\n                className: 'form-control',\n                type: 'text',\n                onChange: this.bindInput('title'),\n                value: this.state.title })\n            ),\n            _react2.default.createElement('div', { className: 'clearfix' }),\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Category\"),\n                'for': 'id_category',\n                labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                validation: this.state.errors.category },\n              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',\n                onChange: this.onCategoryChange,\n                value: this.state.category,\n                choices: this.state.categories })\n            ),\n            _react2.default.createElement('div', { className: 'clearfix' }),\n            this.renderWeightField(),\n            this.renderHiddenField(),\n            this.renderClosedField()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-footer' },\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Split post\")\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ModerationForm;\n}(_form2.default);\n\nfunction Loader() {\n  return _react2.default.createElement(\n    Modal,\n    { className: 'modal-dialog' },\n    _react2.default.createElement(_modalLoader2.default, null)\n  );\n}\n\nfunction Error(props) {\n  return _react2.default.createElement(\n    Modal,\n    { className: 'modal-dialog modal-message' },\n    _react2.default.createElement(\n      'div',\n      { className: 'message-icon' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'info_outline'\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'message-body' },\n      _react2.default.createElement(\n        'p',\n        { className: 'lead' },\n        gettext(\"You can't move this post at the moment.\")\n      ),\n      _react2.default.createElement(\n        'p',\n        null,\n        props.message\n      )\n    )\n  );\n}\n\nfunction Modal(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: props.className, role: 'document' },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-label': gettext(\"Close\"),\n            className: 'close',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { 'aria-hidden': 'true' },\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'h4',\n          { className: 'modal-title' },\n          gettext(\"Split post into new thread\")\n        )\n      ),\n      props.children\n    )\n  );\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../../utils/validators\":389,\"../../../button\":7,\"../../../category-select\":20,\"../../../form\":54,\"../../../form-group\":53,\"../../../modal-loader\":59,\"../../../select\":207,\"react\":\"react\"}],157:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FlagBestAnswer = FlagBestAnswer;\nexports.FlagHidden = FlagHidden;\nexports.FlagUnapproved = FlagUnapproved;\nexports.FlagProtected = FlagProtected;\nexports.isVisible = isVisible;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction FlagBestAnswer(_ref) {\n  var post = _ref.post,\n      thread = _ref.thread,\n      user = _ref.user;\n\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null;\n  }\n\n  var message = null;\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(gettext(\"Marked as best answer by you %(marked_on)s.\"), {\n      marked_on: thread.best_answer_marked_on.fromNow()\n    }, true);\n  } else {\n    message = interpolate(gettext(\"Marked as best answer by %(marked_by)s %(marked_on)s.\"), {\n      marked_by: thread.best_answer_marked_by_name,\n      marked_on: thread.best_answer_marked_on.fromNow()\n    }, true);\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"post-status-message post-status-best-answer\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"check_box\"\n    ),\n    _react2.default.createElement(\n      \"p\",\n      null,\n      message\n    )\n  );\n} /* jshint ignore:start */\nfunction FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"post-status-message post-status-hidden\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"visibility_off\"\n    ),\n    _react2.default.createElement(\n      \"p\",\n      null,\n      gettext(\"This post is hidden. Only users with permission may see its contents.\")\n    )\n  );\n}\n\nfunction FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"post-status-message post-status-unapproved\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"remove_circle_outline\"\n    ),\n    _react2.default.createElement(\n      \"p\",\n      null,\n      gettext(\"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\")\n    )\n  );\n}\n\nfunction FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"post-status-message post-status-protected visible-xs-block\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"lock_outline\"\n    ),\n    _react2.default.createElement(\n      \"p\",\n      null,\n      gettext(\"This post is protected. Only moderators may change it.\")\n    )\n  );\n}\n\nfunction isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden;\n}\n\n},{\"react\":\"react\"}],158:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n\n\nexports.default = function (props) {\n  if (!isVisible(props.post)) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-footer' },\n    _react2.default.createElement(MarkAsBestAnswer, props),\n    _react2.default.createElement(MarkAsBestAnswerCompact, props),\n    _react2.default.createElement(Like, props),\n    _react2.default.createElement(Likes, _extends({\n      lastLikes: props.post.last_likes,\n      likes: props.post.likes\n    }, props)),\n    _react2.default.createElement(LikesCompact, _extends({\n      likes: props.post.likes\n    }, props)),\n    _react2.default.createElement(Reply, props),\n    _react2.default.createElement(Edit, props)\n  );\n};\n\nexports.isVisible = isVisible;\nexports.getLikesMessage = getLikesMessage;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('./controls/actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nvar _postLikes = require('../../post-likes');\n\nvar _postLikes2 = _interopRequireDefault(_postLikes);\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _posting = require('../../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);\n}\n\nvar MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component) {\n  _inherits(MarkAsBestAnswer, _React$Component);\n\n  function MarkAsBestAnswer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MarkAsBestAnswer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      actions.markAsBestAnswer(_this.props);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MarkAsBestAnswer, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          post = _props.post,\n          thread = _props.thread;\n\n\n      if (!thread.acl.can_mark_best_answer) return null;\n      if (!post.acl.can_mark_as_best_answer) return null;\n      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'hidden-xs btn btn-default btn-sm pull-left',\n          disabled: this.props.post.isBusy || post.id === thread.best_answer,\n          onClick: this.onClick,\n          type: 'button'\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'check_box'\n        ),\n        gettext(\"Best answer\")\n      );\n    }\n  }]);\n\n  return MarkAsBestAnswer;\n}(_react2.default.Component);\n\nvar MarkAsBestAnswerCompact = exports.MarkAsBestAnswerCompact = function (_React$Component2) {\n  _inherits(MarkAsBestAnswerCompact, _React$Component2);\n\n  function MarkAsBestAnswerCompact() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, MarkAsBestAnswerCompact);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = MarkAsBestAnswerCompact.__proto__ || Object.getPrototypeOf(MarkAsBestAnswerCompact)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      actions.markAsBestAnswer(_this2.props);\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(MarkAsBestAnswerCompact, [{\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          post = _props2.post,\n          thread = _props2.thread;\n\n\n      if (!thread.acl.can_mark_best_answer) return null;\n      if (!post.acl.can_mark_as_best_answer) return null;\n      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'visible-xs-inline-block btn btn-default btn-sm pull-left',\n          disabled: this.props.post.isBusy || post.id === thread.best_answer,\n          onClick: this.onClick,\n          type: 'button'\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'check_box'\n        )\n      );\n    }\n  }]);\n\n  return MarkAsBestAnswerCompact;\n}(_react2.default.Component);\n\nvar Like = exports.Like = function (_React$Component3) {\n  _inherits(Like, _React$Component3);\n\n  function Like() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, Like);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Like.__proto__ || Object.getPrototypeOf(Like)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      if (_this3.props.post.is_liked) {\n        actions.unlike(_this3.props);\n      } else {\n        actions.like(_this3.props);\n      }\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(Like, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.post.acl.can_like) return null;\n\n      var className = 'btn btn-default btn-sm pull-left';\n      if (this.props.post.is_liked) {\n        className = 'btn btn-success btn-sm pull-left';\n      }\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: className,\n          disabled: this.props.post.isBusy,\n          onClick: this.onClick,\n          type: 'button'\n        },\n        this.props.post.is_liked ? gettext(\"Liked\") : gettext(\"Like\")\n      );\n    }\n  }]);\n\n  return Like;\n}(_react2.default.Component);\n\nvar Likes = exports.Likes = function (_React$Component4) {\n  _inherits(Likes, _React$Component4);\n\n  function Likes() {\n    var _ref4;\n\n    var _temp4, _this4, _ret4;\n\n    _classCallCheck(this, Likes);\n\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Likes.__proto__ || Object.getPrototypeOf(Likes)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_postLikes2.default, {\n        post: _this4.props.post\n      }));\n    }, _temp4), _possibleConstructorReturn(_this4, _ret4);\n  }\n\n  _createClass(Likes, [{\n    key: 'render',\n    value: function render() {\n      var hasLikes = (this.props.post.last_likes || []).length > 0;\n      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;\n\n      if (this.props.post.acl.can_see_likes === 2) {\n        return _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link btn-sm pull-left hidden-xs',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          getLikesMessage(this.props.likes, this.props.lastLikes)\n        );\n      }\n\n      return _react2.default.createElement(\n        'p',\n        { className: 'pull-left hidden-xs' },\n        getLikesMessage(this.props.likes, this.props.lastLikes)\n      );\n    }\n  }]);\n\n  return Likes;\n}(_react2.default.Component);\n\nvar LikesCompact = exports.LikesCompact = function (_Likes) {\n  _inherits(LikesCompact, _Likes);\n\n  function LikesCompact() {\n    _classCallCheck(this, LikesCompact);\n\n    return _possibleConstructorReturn(this, (LikesCompact.__proto__ || Object.getPrototypeOf(LikesCompact)).apply(this, arguments));\n  }\n\n  _createClass(LikesCompact, [{\n    key: 'render',\n    value: function render() {\n      var hasLikes = (this.props.post.last_likes || []).length > 0;\n      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;\n\n      if (this.props.post.acl.can_see_likes === 2) {\n        return _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link btn-sm likes-compact pull-left visible-xs-block',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'favorite'\n          ),\n          this.props.likes\n        );\n      }\n\n      return _react2.default.createElement(\n        'p',\n        { className: 'likes-compact pull-left visible-xs-block' },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'favorite'\n        ),\n        this.props.likes\n      );\n    }\n  }]);\n\n  return LikesCompact;\n}(Likes);\n\nfunction getLikesMessage(likes, users) {\n  var usernames = users.slice(0, 3).map(function (u) {\n    return u.username;\n  });\n\n  if (usernames.length == 1) {\n    return interpolate(gettext(\"%(user)s likes this.\"), {\n      user: usernames[0]\n    }, true);\n  }\n\n  var hiddenLikes = likes - usernames.length;\n\n  var otherUsers = usernames.slice(0, -1).join(', ');\n  var lastUser = usernames.slice(-1)[0];\n\n  var usernamesList = interpolate(gettext(\"%(users)s and %(last_user)s\"), {\n    users: otherUsers,\n    last_user: lastUser\n  }, true);\n\n  if (hiddenLikes === 0) {\n    return interpolate(gettext(\"%(users)s like this.\"), {\n      users: usernamesList\n    }, true);\n  }\n\n  var message = ngettext(\"%(users)s and %(likes)s other user like this.\", \"%(users)s and %(likes)s other users like this.\", hiddenLikes);\n\n  return interpolate(message, {\n    users: usernames.join(', '),\n    likes: hiddenLikes\n  }, true);\n}\n\nvar Reply = exports.Reply = function (_React$Component5) {\n  _inherits(Reply, _React$Component5);\n\n  function Reply() {\n    var _ref5;\n\n    var _temp5, _this6, _ret5;\n\n    _classCallCheck(this, Reply);\n\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return _ret5 = (_temp5 = (_this6 = _possibleConstructorReturn(this, (_ref5 = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref5, [this].concat(args))), _this6), _this6.onClick = function () {\n      _posting2.default.open({\n        mode: 'REPLY',\n\n        config: _this6.props.thread.api.editor,\n        submit: _this6.props.thread.api.posts.index,\n\n        context: {\n          reply: _this6.props.post.id\n        }\n      });\n    }, _temp5), _possibleConstructorReturn(_this6, _ret5);\n  }\n\n  _createClass(Reply, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.post.acl.can_reply) {\n        return _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-primary btn-sm pull-right',\n            type: 'button',\n            onClick: this.onClick\n          },\n          gettext(\"Reply\")\n        );\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return Reply;\n}(_react2.default.Component);\n\nvar Edit = exports.Edit = function (_React$Component6) {\n  _inherits(Edit, _React$Component6);\n\n  function Edit() {\n    var _ref6;\n\n    var _temp6, _this7, _ret6;\n\n    _classCallCheck(this, Edit);\n\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return _ret6 = (_temp6 = (_this7 = _possibleConstructorReturn(this, (_ref6 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref6, [this].concat(args))), _this7), _this7.onClick = function () {\n      _posting2.default.open({\n        mode: 'EDIT',\n\n        config: _this7.props.post.api.editor,\n        submit: _this7.props.post.api.index\n      });\n    }, _temp6), _possibleConstructorReturn(_this7, _ret6);\n  }\n\n  _createClass(Edit, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.post.acl.can_edit) {\n        return _react2.default.createElement(\n          'button',\n          {\n            className: 'hidden-xs btn btn-default btn-sm pull-right',\n            type: 'button',\n            onClick: this.onClick\n          },\n          gettext(\"Edit\")\n        );\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return Edit;\n}(_react2.default.Component);\n\n},{\"../../../services/modal\":367,\"../../../services/posting\":371,\"../../post-likes\":129,\"./controls/actions\":152,\"react\":\"react\"}],159:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PostEditsCompacts = exports.PostEdits = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'post-heading' },\n    _react2.default.createElement(UnreadLabel, props),\n    _react2.default.createElement(UnreadCompact, props),\n    _react2.default.createElement(PostedOn, props),\n    _react2.default.createElement(PostedOnCompact, props),\n    _react2.default.createElement(PostEdits, props),\n    _react2.default.createElement(PostEditsCompacts, props),\n    _react2.default.createElement(ProtectedLabel, props),\n    _react2.default.createElement(_select2.default, props),\n    _react2.default.createElement(_controls2.default, props)\n  );\n};\n\nexports.UnreadLabel = UnreadLabel;\nexports.UnreadCompact = UnreadCompact;\nexports.PostedOn = PostedOn;\nexports.PostedOnCompact = PostedOnCompact;\nexports.ProtectedLabel = ProtectedLabel;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _controls = require('./controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _select = require('./select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _userStatus = require('../../user-status');\n\nvar _postChangelog = require('../../post-changelog');\n\nvar _postChangelog2 = _interopRequireDefault(_postChangelog);\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nfunction UnreadLabel(props) {\n  if (props.post.is_read) return null;\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'label label-unread hidden-xs' },\n    gettext(\"New post\")\n  );\n}\n\nfunction UnreadCompact(props) {\n  if (props.post.is_read) return null;\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'label label-unread visible-xs-inline-block' },\n    gettext(\"New\")\n  );\n}\n\nfunction PostedOn(props) {\n  var tooltip = interpolate(gettext(\"posted %(posted_on)s\"), {\n    'posted_on': props.post.posted_on.format('LL, LT')\n  }, true);\n\n  return _react2.default.createElement(\n    'a',\n    {\n      href: props.post.url.index,\n      className: 'btn btn-link posted-on hidden-xs',\n      title: tooltip\n    },\n    props.post.posted_on.fromNow()\n  );\n}\n\nfunction PostedOnCompact(props) {\n  return _react2.default.createElement(\n    'a',\n    {\n      href: props.post.url.index,\n      className: 'btn btn-link posted-on visible-xs-inline-block'\n    },\n    props.post.posted_on.fromNow(true)\n  );\n}\n\nvar PostEdits = exports.PostEdits = function (_React$Component) {\n  _inherits(PostEdits, _React$Component);\n\n  function PostEdits() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, PostEdits);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this.props.post }));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(PostEdits, [{\n    key: 'render',\n    value: function render() {\n      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;\n      var isUnedited = this.props.post.edits === 0;\n      if (isHidden || isUnedited) return null;\n\n      var tooltip = ngettext(\"This post was edited %(edits)s time.\", \"This post was edited %(edits)s times.\", this.props.post.edits);\n\n      var title = interpolate(tooltip, {\n        'edits': this.props.post.edits\n      }, true);\n\n      var label = ngettext(\"edited %(edits)s time\", \"edited %(edits)s times\", this.props.post.edits);\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'btn btn-link btn-see-edits hidden-xs',\n          onClick: this.onClick,\n          title: title,\n          type: 'button'\n        },\n        interpolate(label, {\n          'edits': this.props.post.edits\n        }, true)\n      );\n    }\n  }]);\n\n  return PostEdits;\n}(_react2.default.Component);\n\nvar PostEditsCompacts = exports.PostEditsCompacts = function (_PostEdits) {\n  _inherits(PostEditsCompacts, _PostEdits);\n\n  function PostEditsCompacts() {\n    _classCallCheck(this, PostEditsCompacts);\n\n    return _possibleConstructorReturn(this, (PostEditsCompacts.__proto__ || Object.getPrototypeOf(PostEditsCompacts)).apply(this, arguments));\n  }\n\n  _createClass(PostEditsCompacts, [{\n    key: 'render',\n    value: function render() {\n      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;\n      var isUnedited = this.props.post.edits === 0;\n      if (isHidden || isUnedited) return null;\n\n      var label = ngettext(\"%(edits)s edit\", \"%(edits)s edits\", this.props.post.edits);\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'btn btn-link btn-see-edits visible-xs-inline-block',\n          onClick: this.onClick,\n          type: 'button'\n        },\n        interpolate(label, {\n          'edits': this.props.post.edits\n        }, true)\n      );\n    }\n  }]);\n\n  return PostEditsCompacts;\n}(PostEdits);\n\nfunction ProtectedLabel(props) {\n  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;\n  var hasAcl = props.post.acl.can_protect;\n  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'span',\n    {\n      className: 'label label-protected hidden-xs',\n      title: gettext(\"This post is protected and may not be edited.\")\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'lock_outline'\n    ),\n    gettext(\"protected\")\n  );\n}\n\n},{\"../../../services/modal\":367,\"../../post-changelog\":116,\"../../user-status\":271,\"./controls\":154,\"./select\":169,\"react\":\"react\"}],160:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var className = 'post';\n  if (props.post.isDeleted) {\n    className = 'hide';\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = 'post post-hidden';\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += ' post-' + props.post.poster.rank.css_class;\n  }\n\n  if (!props.post.is_read) {\n    className += ' post-new';\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { id: 'post-' + props.post.id, className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel panel-default panel-post' },\n      _react2.default.createElement(\n        'div',\n        { className: 'panel-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(_postSide2.default, props),\n          _react2.default.createElement(\n            'div',\n            { className: 'col-xs-12 col-md-9' },\n            _react2.default.createElement(_header2.default, props),\n            _react2.default.createElement(_flags.FlagBestAnswer, props),\n            _react2.default.createElement(_flags.FlagUnapproved, props),\n            _react2.default.createElement(_flags.FlagProtected, props),\n            _react2.default.createElement(_flags.FlagHidden, props),\n            _react2.default.createElement(_body2.default, props),\n            _react2.default.createElement(_attachments2.default, props),\n            _react2.default.createElement(_footer2.default, props)\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _attachments = require('./attachments');\n\nvar _attachments2 = _interopRequireDefault(_attachments);\n\nvar _body = require('./body');\n\nvar _body2 = _interopRequireDefault(_body);\n\nvar _flags = require('./flags');\n\nvar _footer = require('./footer');\n\nvar _footer2 = _interopRequireDefault(_footer);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _postSide = require('./post-side');\n\nvar _postSide2 = _interopRequireDefault(_postSide);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./attachments\":150,\"./body\":151,\"./flags\":157,\"./footer\":158,\"./header\":159,\"./post-side\":163,\"react\":\"react\"}],161:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post,\n      thread = _ref.thread;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-md-3 post-side post-side-anonymous' },\n    _react2.default.createElement(_select2.default, {\n      post: post,\n      thread: thread\n    }),\n    _react2.default.createElement(_controls2.default, {\n      post: post,\n      thread: thread\n    }),\n    _react2.default.createElement(\n      'div',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(\n          'span',\n          null,\n          _react2.default.createElement(_avatar2.default, {\n            className: 'poster-avatar',\n            size: 100\n          })\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'span',\n          { className: 'media-heading item-title' },\n          post.poster_name\n        ),\n        _react2.default.createElement(\n          'span',\n          { className: 'user-title user-title-anonymous' },\n          gettext(\"Removed user\")\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _controls = require('../controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _select = require('../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _userStatus = require('../../../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nvar _userPostcount = require('./user-postcount');\n\nvar _userPostcount2 = _interopRequireDefault(_userPostcount);\n\nvar _userTitle = require('./user-title');\n\nvar _userTitle2 = _interopRequireDefault(_userTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../avatar\":5,\"../../../user-status\":271,\"../controls\":154,\"../select\":169,\"./user-postcount\":165,\"./user-title\":167,\"react\":\"react\"}],162:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var title = _ref.title,\n      rank = _ref.rank;\n\n  return rank.is_tab || !!title || !!rank.title;\n};\n\n},{}],163:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.post.poster) {\n    return _react2.default.createElement(_registered2.default, props);\n  }\n\n  return _react2.default.createElement(_anonymous2.default, props);\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _anonymous = require('./anonymous');\n\nvar _anonymous2 = _interopRequireDefault(_anonymous);\n\nvar _registered = require('./registered');\n\nvar _registered2 = _interopRequireDefault(_registered);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./anonymous\":161,\"./registered\":164,\"react\":\"react\"}],164:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var post = _ref.post,\n      thread = _ref.thread;\n  var poster = post.poster;\n\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-md-3 post-side post-side-registered' },\n    _react2.default.createElement(_select2.default, {\n      post: post,\n      thread: thread\n    }),\n    _react2.default.createElement(_controls2.default, {\n      post: post,\n      thread: thread\n    }),\n    _react2.default.createElement(\n      'div',\n      { className: 'media' },\n      _react2.default.createElement(\n        'div',\n        { className: 'media-left' },\n        _react2.default.createElement(\n          'a',\n          { href: poster.url },\n          _react2.default.createElement(_avatar2.default, {\n            className: 'poster-avatar',\n            size: 100,\n            user: poster\n          })\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'media-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'media-heading' },\n          _react2.default.createElement(\n            'a',\n            {\n              className: 'item-title',\n              href: poster.url\n            },\n            poster.username\n          ),\n          _react2.default.createElement(\n            _userStatus2.default,\n            { status: poster.status },\n            _react2.default.createElement(_userStatus.StatusIcon, { status: poster.status })\n          )\n        ),\n        _react2.default.createElement(_userTitle2.default, {\n          rank: poster.rank,\n          title: poster.title\n        }),\n        _react2.default.createElement(_userStatus4.default, { poster: poster }),\n        _react2.default.createElement(_userPostcount2.default, { poster: poster })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _controls = require('../controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _select = require('../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _userStatus = require('../../../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nvar _userPostcount = require('./user-postcount');\n\nvar _userPostcount2 = _interopRequireDefault(_userPostcount);\n\nvar _userStatus3 = require('./user-status');\n\nvar _userStatus4 = _interopRequireDefault(_userStatus3);\n\nvar _userTitle = require('./user-title');\n\nvar _userTitle2 = _interopRequireDefault(_userTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../avatar\":5,\"../../../user-status\":271,\"../controls\":154,\"../select\":169,\"./user-postcount\":165,\"./user-status\":166,\"./user-title\":167,\"react\":\"react\"}],165:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var poster = _ref.poster;\n\n  var message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", poster.posts);\n\n  var className = 'user-postcount';\n  if ((0, _hasVisibleTitle2.default)(poster)) {\n    className += ' hidden-xs hidden-sm';\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    interpolate(message, {\n      'posts': poster.posts\n    }, true)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _hasVisibleTitle = require('./has-visible-title');\n\nvar _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./has-visible-title\":162,\"react\":\"react\"}],166:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var poster = _ref.poster;\n\n  var className = 'hidden-xs';\n  if ((0, _hasVisibleTitle2.default)(poster)) {\n    className += ' hidden-sm';\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    _react2.default.createElement(\n      _userStatus2.default,\n      { status: poster.status },\n      _react2.default.createElement(_userStatus.StatusLabel, {\n        status: poster.status,\n        user: poster\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _userStatus = require('../../../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nvar _hasVisibleTitle = require('./has-visible-title');\n\nvar _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../user-status\":271,\"./has-visible-title\":162,\"react\":\"react\"}],167:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var rank = _ref.rank,\n      title = _ref.title;\n\n  var userTitle = title || rank.title;\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name;\n  }\n\n  if (!userTitle) return null;\n\n  var className = 'user-title';\n  if (rank.css_class) {\n    className += ' user-title-' + rank.css_class;\n  }\n\n  if (rank.is_tab) {\n    return _react2.default.createElement(\n      'div',\n      { className: className },\n      _react2.default.createElement(\n        'a',\n        { href: rank.url },\n        userTitle\n      )\n    );\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    userTitle\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],168:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'li',\n    { className: 'post' },\n    _react2.default.createElement(\n      'div',\n      { className: 'post-border' },\n      _react2.default.createElement(\n        'div',\n        { className: 'post-avatar' },\n        _react2.default.createElement(_avatar2.default, { size: '100' })\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'post-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default panel-post' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading post-heading' },\n            _react2.default.createElement(\n              'span',\n              { className: 'ui-preview-text', style: { width: random.int(30, 100) + \"px\" } },\n              '\\xA0'\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'ui-preview-text', style: { width: random.int(30, 100) + \"px\" } },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-body' },\n            _react2.default.createElement(\n              'article',\n              { className: 'misago-markup' },\n              _react2.default.createElement(\n                'p',\n                { className: 'ui-preview-text', style: { width: random.int(50, 100) + \"%\" } },\n                '\\xA0'\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'ui-preview-text', style: { width: random.int(50, 100) + \"%\" } },\n                '\\xA0'\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'ui-preview-text', style: { width: random.int(50, 100) + \"%\" } },\n                '\\xA0'\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../../utils/random\":384,\"../../avatar\":5,\"react\":\"react\"}],169:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.isVisible = isVisible;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _posts = require('../../../reducers/posts');\n\nvar posts = _interopRequireWildcard(_posts);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      if (_this.props.post.isSelected) {\n        _store2.default.dispatch(posts.deselect(_this.props.post));\n      } else {\n        _store2.default.dispatch(posts.select(_this.props.post));\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'pull-right hidden-xs' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-icon',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction isVisible(acl) {\n  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;\n}\n\n},{\"../../../reducers/posts\":350,\"../../../services/store\":373,\"react\":\"react\"}],170:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _post = require('../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _thread = require('../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n\n    /*\n    Super naive and de-facto placeholder implementation for reading posts on scroll\n    */\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.post.is_read) return; // don't register read tracker\n\n      $(this.documentNode).waypoint({\n        handler: function handler(direction) {\n          if (direction !== 'down' || _this2.props.post.is_read) return;\n\n          // after 1500ms run flag post as read logic\n          window.setTimeout(function () {\n            // check if post's bottom edge is still in viewport\n            var boundingClientRect = _this2.documentNode.getBoundingClientRect();\n            var offsetBottom = boundingClientRect.height + boundingClientRect.top;\n            var clientHeight = document.documentElement.clientHeight;\n\n            if (offsetBottom < 5) return; // scrolled past the post\n            if (offsetBottom > clientHeight) return; // scrolled back up\n\n            // mark post as read\n            _store2.default.dispatch(post.patch(_this2.props.post, {\n              is_read: true\n            }));\n\n            // call API to let it know we have unread post\n            _ajax2.default.post(_this2.props.post.api.read).then(function (data) {\n              _store2.default.dispatch(thread.update(_this2.props.thread, {\n                is_read: data.thread_is_read\n              }));\n            }, function (rejection) {\n              _snackbar2.default.apiError(rejection);\n            });\n          }, 1000);\n        },\n        offset: 'bottom-in-view'\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { className: this.props.className, ref: function ref(node) {\n            _this3.documentNode = node;\n          } },\n        this.props.children\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../reducers/post\":349,\"../../reducers/thread\":356,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../services/store\":373,\"react\":\"react\"}],171:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _panelLoader = require('../panel-loader');\n\nvar _panelLoader2 = _interopRequireDefault(_panelLoader);\n\nvar _panelMessage = require('../panel-message');\n\nvar _panelMessage2 = _interopRequireDefault(_panelMessage);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _polls = require('../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.update = function (ban) {\n      if (ban.expires_on) {\n        ban.expires_on = (0, _moment2.default)(ban.expires_on);\n      }\n\n      _this.setState({\n        isLoaded: true,\n        error: null,\n\n        ban: ban\n      });\n    };\n\n    _this.error = function (error) {\n      _this.setState({\n        isLoaded: true,\n        error: error.detail,\n        ban: null\n      });\n    };\n\n    if (_index2.default.has('PROFILE_BAN')) {\n      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));\n    } else {\n      _this.initWithoutPreloadedData();\n    }\n\n    _this.startPolling(props.profile.api.ban);\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(ban) {\n      if (ban.expires_on) {\n        ban.expires_on = (0, _moment2.default)(ban.expires_on);\n      }\n\n      this.state = {\n        isLoaded: true,\n        ban: ban\n      };\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData() {\n      this.state = {\n        isLoaded: false\n      };\n    }\n  }, {\n    key: 'startPolling',\n    value: function startPolling(api) {\n      _polls2.default.start({\n        poll: 'ban-details',\n        url: api,\n        frequency: 90 * 1000,\n        update: this.update,\n        error: this.error\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'componentDidMount',\n\n    /* jshint ignore:end */\n\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Ban details\"),\n        parent: this.props.profile.username\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _polls2.default.stop('ban-details');\n    }\n  }, {\n    key: 'getUserMessage',\n    value: function getUserMessage() {\n      if (this.state.ban.user_message) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'panel-body ban-message ban-user-message' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"User-shown ban message\")\n          ),\n          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {\n              __html: this.state.ban.user_message.html\n            } })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getStaffMessage',\n    value: function getStaffMessage() {\n      if (this.state.ban.staff_message) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'panel-body ban-message ban-staff-message' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"Team-shown ban message\")\n          ),\n          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {\n              __html: this.state.ban.staff_message.html\n            } })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getExpirationMessage',\n    value: function getExpirationMessage() {\n      if (this.state.ban.expires_on) {\n        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {\n          /* jshint ignore:start */\n          var _title = interpolate(gettext(\"This ban expires on %(expires_on)s.\"), {\n            'expires_on': this.state.ban.expires_on.format('LL, LT')\n          }, true);\n\n          var message = interpolate(gettext(\"This ban expires %(expires_on)s.\"), {\n            'expires_on': this.state.ban.expires_on.fromNow()\n          }, true);\n\n          return _react2.default.createElement(\n            'abbr',\n            { title: _title },\n            message\n          );\n          /* jshint ignore:end */\n        } else {\n          return gettext(\"This ban has expired.\");\n        }\n      } else {\n        return interpolate(gettext(\"%(username)s's ban is permanent.\"), {\n          'username': this.props.profile.username\n        }, true);\n      }\n    }\n  }, {\n    key: 'getPanelBody',\n    value: function getPanelBody() {\n      if (this.state.ban) {\n        if (Object.keys(this.state.ban).length) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'div',\n            null,\n            this.getUserMessage(),\n            this.getStaffMessage(),\n            _react2.default.createElement(\n              'div',\n              { className: 'panel-body ban-expires' },\n              _react2.default.createElement(\n                'h4',\n                null,\n                gettext(\"Ban expiration\")\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                this.getExpirationMessage()\n              )\n            )\n          );\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(_panelMessage2.default, { message: gettext(\"No ban is active at the moment.\") })\n          );\n          /* jshint ignore:end */\n        }\n      } else if (this.state.error) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',\n            message: this.state.error })\n        );\n        /* jshint ignore:end */\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_panelLoader2.default, null)\n        );\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'profile-ban-details' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel panel-default' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel-heading' },\n            _react2.default.createElement(\n              'h3',\n              { className: 'panel-title' },\n              gettext(\"Ban details\")\n            )\n          ),\n          this.getPanelBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../index\":299,\"../../services/page-title\":369,\"../../services/polls\":370,\"../panel-loader\":90,\"../panel-message\":91,\"moment\":\"moment\",\"react\":\"react\"}],172:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var isAuthenticated = _ref.isAuthenticated,\n      profile = _ref.profile;\n\n  var message = null;\n  if (isAuthenticated) {\n    message = gettext(\"You are not sharing any details with others.\");\n  } else {\n    message = interpolate(gettext(\"%(username)s is not sharing any details with others.\"), {\n      'username': profile.username\n    }, true);\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"panel panel-default\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"panel-body text-center lead\" },\n      message\n    )\n  );\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],173:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var html = _ref.html,\n      text = _ref.text,\n      url = _ref.url;\n\n  if (html) {\n    return _react2.default.createElement(\"div\", {\n      className: \"form-control-static col-md-9\",\n      dangerouslySetInnerHTML: { __html: html }\n    });\n  }\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"form-control-static col-md-9\" },\n    _react2.default.createElement(SafeValue, {\n      text: text,\n      url: url\n    })\n  );\n};\n\nexports.SafeValue = SafeValue;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction SafeValue(_ref2) {\n  var text = _ref2.text,\n      url = _ref2.url;\n\n  if (url) {\n    return _react2.default.createElement(\n      \"p\",\n      null,\n      _react2.default.createElement(\n        \"a\",\n        { href: url, target: \"_blank\", rel: \"nofollow\" },\n        text || url\n      )\n    );\n  }\n\n  if (text) {\n    return _react2.default.createElement(\n      \"p\",\n      null,\n      text\n    );\n  }\n\n  return null;\n}\n\n},{\"react\":\"react\"}],174:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'form-group' },\n    _react2.default.createElement(\n      'strong',\n      { className: 'control-label col-md-3' },\n      props.name,\n      ':'\n    ),\n    _react2.default.createElement(_fieldValue2.default, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _fieldValue = require('./field-value');\n\nvar _fieldValue2 = _interopRequireDefault(_fieldValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./field-value\":173,\"react\":\"react\"}],175:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var api = _ref.api,\n      display = _ref.display,\n      onCancel = _ref.onCancel,\n      onSuccess = _ref.onSuccess;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(_editDetails2.default, {\n    api: api,\n    onCancel: onCancel,\n    onSuccess: onSuccess\n  });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _editDetails = require('../../edit-details');\n\nvar _editDetails2 = _interopRequireDefault(_editDetails);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../edit-details\":31,\"react\":\"react\"}],176:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var fields = _ref.fields,\n      name = _ref.name;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'panel panel-default panel-profile-details-group' },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-heading' },\n      _react2.default.createElement(\n        'h3',\n        { className: 'panel-title' },\n        name\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-body' },\n      _react2.default.createElement(\n        'div',\n        { className: 'form-horizontal' },\n        fields.map(function (_ref2) {\n          var fieldname = _ref2.fieldname,\n              html = _ref2.html,\n              name = _ref2.name,\n              text = _ref2.text,\n              url = _ref2.url;\n\n          return _react2.default.createElement(_field2.default, {\n            key: fieldname,\n            name: name,\n            html: html,\n            text: text,\n            url: url\n          });\n        })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _field = require('./field');\n\nvar _field2 = _interopRequireDefault(_field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./field\":174,\"react\":\"react\"}],177:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var display = _ref.display,\n      groups = _ref.groups,\n      isAuthenticated = _ref.isAuthenticated,\n      loading = _ref.loading,\n      profile = _ref.profile;\n\n  if (!display) return null;\n\n  if (loading) {\n    return _react2.default.createElement(_loader2.default, null);\n  }\n\n  if (!groups.length) {\n    return _react2.default.createElement(_emptyMessage2.default, {\n      isAuthenticated: isAuthenticated,\n      profile: profile\n    });\n  }\n\n  return _react2.default.createElement(\n    'div',\n    null,\n    groups.map(function (group, i) {\n      return _react2.default.createElement(_group2.default, {\n        fields: group.fields,\n        key: i,\n        name: group.name\n      });\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _emptyMessage = require('./empty-message');\n\nvar _emptyMessage2 = _interopRequireDefault(_emptyMessage);\n\nvar _group = require('./group');\n\nvar _group2 = _interopRequireDefault(_group);\n\nvar _loader = require('../../loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../loader\":56,\"./empty-message\":172,\"./group\":176,\"react\":\"react\"}],178:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var onEdit = _ref.onEdit,\n      showEditButton = _ref.showEditButton;\n\n  return _react2.default.createElement(\n    \"div\",\n    null,\n    _react2.default.createElement(\n      \"nav\",\n      { className: \"toolbar\" },\n      _react2.default.createElement(\n        \"div\",\n        { className: \"row\" },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"col-sm-8 col-md-10\" },\n          _react2.default.createElement(\n            \"h3\",\n            { className: \"md-margin-top-no\" },\n            gettext(\"Details\")\n          )\n        ),\n        _react2.default.createElement(EditButton, {\n          onEdit: onEdit,\n          showEditButton: showEditButton\n        })\n      )\n    )\n  );\n};\n\nexports.EditButton = EditButton;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction EditButton(_ref2) {\n  var onEdit = _ref2.onEdit,\n      showEditButton = _ref2.showEditButton;\n\n  if (!showEditButton) return null;\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"col-sm-4 col-md-2\" },\n    _react2.default.createElement(\n      \"button\",\n      {\n        className: \"btn btn-default btn-outline btn-block\",\n        onClick: onEdit,\n        type: \"button\"\n      },\n      gettext(\"Edit\")\n    )\n  );\n}\n\n},{\"react\":\"react\"}],179:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _groupsList = require('./groups-list');\n\nvar _groupsList2 = _interopRequireDefault(_groupsList);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _profileDetails = require('../../../data/profile-details');\n\nvar _profileDetails2 = _interopRequireDefault(_profileDetails);\n\nvar _profileDetails3 = require('../../../reducers/profile-details');\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onCancel = function () {\n      _this.setState({ editing: false });\n    };\n\n    _this.onEdit = function () {\n      _this.setState({ editing: true });\n    };\n\n    _this.onSuccess = function (newDetails) {\n      var _this$props = _this.props,\n          dispatch = _this$props.dispatch,\n          isAuthenticated = _this$props.isAuthenticated,\n          profile = _this$props.profile;\n\n\n      var message = null;\n      if (isAuthenticated) {\n        message = gettext(\"Your details have been updated.\");\n      } else {\n        message = interpolate(gettext(\"%(username)s's details have been updated.\"), {\n          'username': profile.username\n        }, true);\n      }\n\n      _snackbar2.default.info(message);\n      dispatch((0, _profileDetails3.load)(newDetails));\n      _this.setState({ editing: false });\n    };\n\n    _this.state = {\n      editing: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Details\"),\n        parent: this.props.profile.username\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          dispatch = _props.dispatch,\n          isAuthenticated = _props.isAuthenticated,\n          profile = _props.profile,\n          profileDetails = _props.profileDetails;\n\n      var loading = profileDetails.id !== profile.id;\n\n      return _react2.default.createElement(\n        _profileDetails2.default,\n        {\n          data: profileDetails,\n          dispatch: dispatch,\n          user: profile\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'profile-details' },\n          _react2.default.createElement(_header2.default, {\n            onEdit: this.onEdit,\n            showEditButton: !!profileDetails.edit && !this.state.editing\n          }),\n          _react2.default.createElement(_groupsList2.default, {\n            display: !this.state.editing,\n            groups: profileDetails.groups,\n            isAuthenticated: isAuthenticated,\n            loading: loading,\n            profile: profile\n          }),\n          _react2.default.createElement(_form2.default, {\n            api: profile.api.edit_details,\n            dispatch: dispatch,\n            display: this.state.editing,\n            onCancel: this.onCancel,\n            onSuccess: this.onSuccess\n          })\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../data/profile-details\":298,\"../../../reducers/profile-details\":351,\"../../../services/page-title\":369,\"../../../services/snackbar\":372,\"./form\":175,\"./groups-list\":177,\"./header\":178,\"react\":\"react\"}],180:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.Threads = Threads;\nexports.Posts = Posts;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _route = require('./route');\n\nvar _route2 = _interopRequireDefault(_route);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Threads(props) {\n  var emptyMessage = null;\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have no started threads.\");\n  } else {\n    emptyMessage = interpolate(gettext(\"%(username)s started no threads.\"), {\n      'username': props.profile.username\n    }, true);\n  }\n\n  var header = null;\n  if (!props.posts.isLoaded) {\n    header = gettext('Loading...');\n  } else if (props.profile.id === props.user.id) {\n    var message = ngettext(\"You have started %(threads)s thread.\", \"You have started %(threads)s threads.\", props.posts.count);\n\n    header = interpolate(message, {\n      'threads': props.posts.count\n    }, true);\n  } else {\n    var _message = ngettext(\"%(username)s has started %(threads)s thread.\", \"%(username)s has started %(threads)s threads.\", props.posts.count);\n\n    header = interpolate(_message, {\n      'username': props.profile.username,\n      'threads': props.posts.count\n    }, true);\n  }\n\n  return _react2.default.createElement(_route2.default, _extends({\n    api: props.profile.api.threads,\n    emptyMessage: emptyMessage,\n    header: header,\n    title: gettext(\"Threads\")\n  }, props));\n}\n\nfunction Posts(props) {\n  var emptyMessage = null;\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have posted no messages.\");\n  } else {\n    emptyMessage = interpolate(gettext(\"%(username)s posted no messages.\"), {\n      'username': props.profile.username\n    }, true);\n  }\n\n  var header = null;\n  if (!props.posts.isLoaded) {\n    header = gettext('Loading...');\n  } else if (props.profile.id === props.user.id) {\n    var message = ngettext(\"You have posted %(posts)s message.\", \"You have posted %(posts)s messages.\", props.posts.count);\n\n    header = interpolate(message, {\n      'posts': props.posts.count\n    }, true);\n  } else {\n    var _message2 = ngettext(\"%(username)s has posted %(posts)s message.\", \"%(username)s has posted %(posts)s messages.\", props.posts.count);\n\n    header = interpolate(_message2, {\n      'username': props.profile.username,\n      'posts': props.posts.count\n    }, true);\n  }\n\n  return _react2.default.createElement(_route2.default, _extends({\n    api: props.profile.api.posts,\n    emptyMessage: emptyMessage,\n    header: header,\n    title: gettext(\"Posts\")\n  }, props));\n}\n\n},{\"./route\":181,\"react\":\"react\"}],181:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Feed = Feed;\nexports.LoadMoreButton = LoadMoreButton;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _postFeed = require('../../post-feed');\n\nvar _postFeed2 = _interopRequireDefault(_postFeed);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _posts = require('../../../reducers/posts');\n\nvar posts = _interopRequireWildcard(_posts);\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadMore = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      _this.loadItems(_this.props.posts.page + 1);\n    };\n\n    _this.state = {\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'loadItems',\n    value: function loadItems() {\n      var _this2 = this;\n\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      _ajax2.default.get(this.props.api, {\n        page: page || 1\n      }).then(function (data) {\n        if (page === 1) {\n          _store2.default.dispatch(posts.load(data));\n        } else {\n          _store2.default.dispatch(posts.append(data));\n        }\n\n        _this2.setState({\n          isLoading: false\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isLoading: false\n        });\n\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: this.props.title,\n        parent: this.props.profile.username\n      });\n\n      this.loadItems();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'profile-feed' },\n        _react2.default.createElement(\n          'nav',\n          { className: 'toolbar' },\n          _react2.default.createElement(\n            'h3',\n            { className: 'toolbar-left' },\n            this.props.header\n          )\n        ),\n        _react2.default.createElement(Feed, _extends({\n          isLoading: this.state.isLoading,\n          loadMore: this.loadMore\n        }, this.props))\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction Feed(props) {\n  if (!props.posts.count) {\n    return _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      props.emptyMessage\n    );\n  }\n\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(_postFeed2.default, {\n      isReady: props.posts.isLoaded,\n      posts: props.posts.results,\n      poster: props.profile\n    }),\n    _react2.default.createElement(LoadMoreButton, {\n      isLoading: props.isLoading,\n      loadMore: props.loadMore,\n      more: props.posts.more\n    })\n  );\n}\n\nfunction LoadMoreButton(props) {\n  if (!props.more) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'pager-more' },\n    _react2.default.createElement(\n      _button2.default,\n      {\n        className: 'btn btn-default btn-outline',\n        loading: props.isLoading,\n        onClick: props.loadMore\n      },\n      interpolate(gettext(\"Show more (%(more)s)\"), {\n        'more': props.more\n      }, true)\n    )\n  );\n}\n\n},{\"../../../reducers/posts\":350,\"../../../services/ajax\":361,\"../../../services/page-title\":369,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../button\":7,\"../../post-feed\":119,\"react\":\"react\"}],182:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _profile = require('../../reducers/profile');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.action = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      if (_this.props.profile.is_followed) {\n        _store2.default.dispatch((0, _profile.patch)({\n          is_followed: false,\n          followers: _this.props.profile.followers - 1\n        }));\n      } else {\n        _store2.default.dispatch((0, _profile.patch)({\n          is_followed: true,\n          followers: _this.props.profile.followers + 1\n        }));\n      }\n\n      _ajax2.default.post(_this.props.profile.api.follow).then(function (data) {\n        _this.setState({\n          isLoading: false\n        });\n\n        _store2.default.dispatch((0, _profile.patch)(data));\n      }, function (rejection) {\n        _this.setState({\n          isLoading: false\n        });\n        _snackbar2.default.apiError(rejection);\n      });\n    };\n\n    _this.state = {\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.profile.is_followed) {\n        return this.props.className + ' btn-default btn-following';\n      } else {\n        return this.props.className + ' btn-default btn-follow';\n      }\n    }\n  }, {\n    key: 'getIcon',\n    value: function getIcon() {\n      if (this.props.profile.is_followed) {\n        return 'favorite';\n      } else {\n        return 'favorite_border';\n      }\n    }\n  }, {\n    key: 'getLabel',\n    value: function getLabel() {\n      if (this.props.profile.is_followed) {\n        return gettext(\"Following\");\n      } else {\n        return gettext(\"Follow\");\n      }\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _button2.default,\n        { className: this.getClassName(),\n          disabled: this.state.isLoading,\n          onClick: this.action },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          this.getIcon()\n        ),\n        this.getLabel()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../reducers/profile\":352,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"react\":\"react\"}],183:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _quickSearch = require('../quick-search');\n\nvar _quickSearch2 = _interopRequireDefault(_quickSearch);\n\nvar _usersList = require('../users-list');\n\nvar _usersList2 = _interopRequireDefault(_usersList);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _users = require('../../reducers/users');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadMore = function () {\n      _this.setState({\n        isBusy: true\n      });\n\n      _this.loadUsers(_this.state.page + 1, _this.state.search);\n    };\n\n    _this.search = function (ev) {\n      _this.setState({\n        isLoaded: false,\n        isBusy: true,\n\n        search: ev.target.value,\n\n        count: 0,\n        more: 0,\n\n        page: 1,\n        pages: 1\n      });\n\n      _this.loadUsers(1, ev.target.value);\n    };\n\n    _this.setSpecialProps();\n\n    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {\n      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));\n    } else {\n      _this.initWithoutPreloadedData();\n    }\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'setSpecialProps',\n    value: function setSpecialProps() {\n      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';\n      this.TITLE = gettext('Followers');\n      this.API_FILTER = 'followers';\n    }\n  }, {\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(data) {\n      this.state = {\n        isLoaded: true,\n        isBusy: false,\n\n        search: '',\n\n        count: data.count,\n        more: data.more,\n\n        page: data.page,\n        pages: data.pages\n      };\n\n      _store2.default.dispatch((0, _users.hydrate)(data.results));\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData() {\n      this.state = {\n        isLoaded: false,\n        isBusy: false,\n\n        search: '',\n\n        count: 0,\n        more: 0,\n\n        page: 1,\n        pages: 1\n      };\n\n      this.loadUsers();\n    }\n  }, {\n    key: 'loadUsers',\n    value: function loadUsers() {\n      var _this2 = this;\n\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var apiUrl = this.props.profile.api[this.API_FILTER];\n\n      _ajax2.default.get(apiUrl, {\n        search: search,\n        page: page || 1\n      }, 'user-' + this.API_FILTER).then(function (data) {\n        if (page === 1) {\n          _store2.default.dispatch((0, _users.hydrate)(data.results));\n        } else {\n          _store2.default.dispatch((0, _users.append)(data.results));\n        }\n\n        _this2.setState({\n          isLoaded: true,\n          isBusy: false,\n\n          count: data.count,\n          more: data.more,\n\n          page: data.page,\n          pages: data.pages\n        });\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: this.TITLE,\n        parent: this.props.profile.username\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getLabel',\n\n    /* jshint ignore:end */\n\n    value: function getLabel() {\n      if (!this.state.isLoaded) {\n        return gettext('Loading...');\n      } else if (this.state.search) {\n        var message = ngettext(\"Found %(users)s user.\", \"Found %(users)s users.\", this.state.count);\n\n        return interpolate(message, {\n          'users': this.state.count\n        }, true);\n      } else if (this.props.profile.id === this.props.user.id) {\n        var _message = ngettext(\"You have %(users)s follower.\", \"You have %(users)s followers.\", this.state.count);\n\n        return interpolate(_message, {\n          'users': this.state.count\n        }, true);\n      } else {\n        var _message2 = ngettext(\"%(username)s has %(users)s follower.\", \"%(username)s has %(users)s followers.\", this.state.count);\n\n        return interpolate(_message2, {\n          'username': this.props.profile.username,\n          'users': this.state.count\n        }, true);\n      }\n    }\n  }, {\n    key: 'getEmptyMessage',\n    value: function getEmptyMessage() {\n      if (this.state.search) {\n        return gettext(\"Search returned no users matching specified criteria.\");\n      } else if (this.props.user.id === this.props.profile.id) {\n        return gettext(\"You have no followers.\");\n      } else {\n        return interpolate(gettext(\"%(username)s has no followers.\"), {\n          'username': this.props.profile.username\n        }, true);\n      }\n    }\n  }, {\n    key: 'getMoreButton',\n    value: function getMoreButton() {\n      if (!this.state.more) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'pager-more' },\n        _react2.default.createElement(\n          _button2.default,\n          {\n            className: 'btn btn-default btn-outline',\n            loading: this.state.isBusy,\n            onClick: this.loadMore\n          },\n          interpolate(gettext(\"Show more (%(more)s)\"), {\n            'more': this.state.more\n          }, true)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getListBody',\n    value: function getListBody() {\n      if (this.state.isLoaded && this.state.count === 0) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          this.getEmptyMessage()\n        );\n        /* jshint ignore:end */\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_usersList2.default, {\n          cols: 3,\n          isReady: this.state.isLoaded,\n          users: this.props.users\n        }),\n        this.getMoreButton()\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'profile-' + this.API_FILTER;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'nav',\n          { className: 'toolbar' },\n          _react2.default.createElement(\n            'h3',\n            { className: 'toolbar-left' },\n            this.getLabel()\n          ),\n          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',\n            value: this.state.search,\n            onChange: this.search,\n            placeholder: gettext(\"Search users...\") })\n        ),\n        this.getListBody()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../index\":299,\"../../reducers/users\":360,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"../quick-search\":194,\"../users-list\":281,\"react\":\"react\"}],184:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _followers = require('./followers');\n\nvar _followers2 = _interopRequireDefault(_followers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\nvar _class = function (_Followers) {\n  _inherits(_class, _Followers);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'setSpecialProps',\n    value: function setSpecialProps() {\n      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';\n      this.TITLE = gettext('Follows');\n      this.API_FILTER = 'follows';\n    }\n  }, {\n    key: 'getLabel',\n    value: function getLabel() {\n      if (!this.state.isLoaded) {\n        return gettext('Loading...');\n      } else if (this.state.search) {\n        var message = ngettext(\"Found %(users)s user.\", \"Found %(users)s users.\", this.state.count);\n\n        return interpolate(message, {\n          'users': this.state.count\n        }, true);\n      } else if (this.props.profile.id === this.props.user.id) {\n        var _message = ngettext(\"You are following %(users)s user.\", \"You are following %(users)s users.\", this.state.count);\n\n        return interpolate(_message, {\n          'users': this.state.count\n        }, true);\n      } else {\n        var _message2 = ngettext(\"%(username)s is following %(users)s user.\", \"%(username)s is following %(users)s users.\", this.state.count);\n\n        return interpolate(_message2, {\n          'username': this.props.profile.username,\n          'users': this.state.count\n        }, true);\n      }\n    }\n  }, {\n    key: 'getEmptyMessage',\n    value: function getEmptyMessage() {\n      if (this.state.search) {\n        return gettext(\"Search returned no users matching specified criteria.\");\n      } else if (this.props.user.id === this.props.profile.id) {\n        return gettext(\"You are not following any users.\");\n      } else {\n        return interpolate(gettext(\"%(username)s is not following any users.\"), {\n          'username': this.props.profile.username\n        }, true);\n      }\n    }\n  }]);\n\n  return _class;\n}(_followers2.default);\n\nexports.default = _class;\n\n},{\"./followers\":183,\"react\":\"react\"}],185:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.IsDisabledMessage = IsDisabledMessage;\nexports.getColStyle = getColStyle;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _dropdownToggle = require('../dropdown-toggle');\n\nvar _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);\n\nvar _followButton = require('./follow-button');\n\nvar _followButton2 = _interopRequireDefault(_followButton);\n\nvar _messageButton = require('./message-button');\n\nvar _messageButton2 = _interopRequireDefault(_messageButton);\n\nvar _nav = require('./moderation/nav');\n\nvar _nav2 = _interopRequireDefault(_nav);\n\nvar _navs = require('./navs');\n\nvar _userStatus = require('../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getUserStatus',\n    value: function getUserStatus() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: 'user-status-display' },\n        _react2.default.createElement(\n          _userStatus2.default,\n          {\n            user: this.props.profile,\n            status: this.props.profile.status\n          },\n          _react2.default.createElement(_userStatus.StatusIcon, {\n            user: this.props.profile,\n            status: this.props.profile.status\n          }),\n          _react2.default.createElement(_userStatus.StatusLabel, {\n            user: this.props.profile,\n            status: this.props.profile.status,\n            className: 'status-label'\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUserRank',\n    value: function getUserRank() {\n      if (this.props.profile.rank.is_tab) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'user-rank' },\n          _react2.default.createElement(\n            'a',\n            { href: this.props.profile.rank.url, className: 'item-title' },\n            this.props.profile.rank.name\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'user-rank' },\n          _react2.default.createElement(\n            'span',\n            { className: 'item-title' },\n            this.props.profile.rank.name\n          )\n        );\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'getUserTitle',\n    value: function getUserTitle() {\n      if (this.props.profile.title) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'user-title' },\n          this.props.profile.title\n        );\n        /* jshint ignore:end */\n      } else if (this.props.profile.rank.title) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'user-title' },\n          this.props.profile.rank.title\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getJoinedOn',\n    value: function getJoinedOn() {\n      /* jshint ignore:start */\n      var title = interpolate(gettext(\"Joined on %(joined_on)s\"), {\n        'joined_on': this.props.profile.joined_on.format('LL, LT')\n      }, true);\n\n      var age = interpolate(gettext(\"Joined %(joined_on)s\"), {\n        'joined_on': this.props.profile.joined_on.fromNow()\n      }, true);\n\n      return _react2.default.createElement(\n        'li',\n        { className: 'user-joined-on' },\n        _react2.default.createElement(\n          'abbr',\n          { title: title },\n          age\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getEmail',\n    value: function getEmail() {\n      if (this.props.profile.email) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'user-email' },\n          _react2.default.createElement(\n            'a',\n            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },\n            this.props.profile.email\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getFollowButton',\n    value: function getFollowButton() {\n      if (this.props.profile.acl.can_follow) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_followButton2.default, {\n          className: 'btn btn-block btn-outline',\n          profile: this.props.profile\n        });\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getModerationButton',\n    value: function getModerationButton() {\n      if (this.props.profile.acl.can_moderate) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'btn-group btn-group-justified' },\n          _react2.default.createElement(\n            'div',\n            { className: 'btn-group' },\n            _react2.default.createElement(\n              'button',\n              {\n                className: 'btn btn-default btn-moderate btn-outline dropdown-toggle',\n                type: 'button',\n                'data-toggle': 'dropdown',\n                'aria-haspopup': 'true',\n                'aria-expanded': 'false'\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'tonality'\n              ),\n              gettext(\"Moderation\")\n            ),\n            _react2.default.createElement(_nav2.default, { profile: this.props.profile })\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      var canFollow = this.props.profile.acl.can_follow;\n      var canModerate = this.props.profile.acl.can_moderate;\n\n      var isProfileOwner = this.props.user.id === this.props.profile.id;\n      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;\n\n      var cols = 0;\n      if (canFollow) cols += 1;\n      if (canModerate) cols += 1;\n      if (canMessage) cols += 1;\n\n      var colsWidth = cols ? 2 * cols + 1 : 0;\n\n      var headerClassName = 'page-header';\n      if (this.props.profile.rank.css_class) {\n        headerClassName += ' page-header-rank-' + this.props.profile.rank.css_class;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'page-header-bg' },\n        _react2.default.createElement(\n          'div',\n          { className: headerClassName },\n          _react2.default.createElement(\n            'div',\n            { className: 'container' },\n            _react2.default.createElement(IsDisabledMessage, {\n              isActive: this.props.profile.is_active,\n              isDeletingAccount: this.props.profile.is_deleting_account\n            }),\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: 'col-md-9 col-md-offset-3' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'row' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: \"col-sm-\" + (12 - colsWidth) },\n                    _react2.default.createElement(_avatar2.default, {\n                      className: 'user-avatar user-avatar-sm',\n                      user: this.props.profile,\n                      size: '100',\n                      size2x: '200'\n                    }),\n                    _react2.default.createElement(\n                      'h1',\n                      null,\n                      this.props.profile.username\n                    )\n                  ),\n                  !!cols && _react2.default.createElement(\n                    'div',\n                    { className: \"col-sm-\" + colsWidth },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'row xs-margin-top sm-margin-top' },\n                      !!canMessage && _react2.default.createElement(\n                        'div',\n                        { className: getColStyle(cols, 0) },\n                        _react2.default.createElement(_messageButton2.default, {\n                          className: 'btn btn-default btn-block btn-outline',\n                          profile: this.props.profile,\n                          user: this.props.user\n                        })\n                      ),\n                      !!canFollow && _react2.default.createElement(\n                        'div',\n                        { className: getColStyle(cols, 1) },\n                        this.getFollowButton()\n                      ),\n                      !!canModerate && _react2.default.createElement(\n                        'div',\n                        { className: getColStyle(cols, 2) },\n                        this.getModerationButton()\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'header-stats' },\n            _react2.default.createElement(\n              'div',\n              { className: 'container' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'col-md-9 col-md-offset-3' },\n                  _react2.default.createElement(\n                    'ul',\n                    { className: 'list-inline' },\n                    this.getUserStatus(),\n                    this.getUserRank(),\n                    this.getUserTitle(),\n                    this.getJoinedOn(),\n                    this.getEmail()\n                  )\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(_navs.CompactNav, {\n            baseUrl: this.props.baseUrl,\n            pages: this.props.pages,\n            profile: this.props.profile\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction IsDisabledMessage(_ref) {\n  var isActive = _ref.isActive,\n      isDeletingAccount = _ref.isDeletingAccount;\n\n  if (isActive !== false && isDeletingAccount !== true) return null;\n\n  var message = null;\n  if (isDeletingAccount) {\n    message = gettext(\"This user is deleting their account.\");\n  } else {\n    message = gettext(\"This user's account has been disabled by administrator.\");\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'alert alert-danger' },\n    _react2.default.createElement(\n      'p',\n      null,\n      message\n    )\n  );\n}\n\nfunction getColStyle(cols, col) {\n  var colStyle = \"\";\n\n  if (cols == 1) {\n    colStyle = \"col-xs-12\";\n  }\n\n  if (cols == 2) {\n    colStyle = \"col-xs-6 col-sm-6\";\n  }\n\n  if (cols == 3) {\n    if (col == 2) {\n      colStyle = \"col-xs-12 col-sm-4 xs-margin-top\";\n    } else {\n      colStyle += \"col-xs-6 col-sm-4\";\n    }\n  }\n\n  return colStyle;\n}\n/* jshint ignore:end */\n\n},{\"../avatar\":5,\"../dropdown-toggle\":26,\"../user-status\":271,\"./follow-button\":182,\"./message-button\":186,\"./moderation/nav\":190,\"./navs\":191,\"react\":\"react\"}],186:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _posting2.default.open({\n        mode: 'START_PRIVATE',\n        submit: _2.default.get('PRIVATE_THREADS_API'),\n\n        to: [_this.props.profile]\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var canMessage = this.props.user.acl.can_start_private_threads;\n      var isProfileOwner = this.props.user.id === this.props.profile.id;\n\n      if (!canMessage || isProfileOwner) return null;\n\n      return _react2.default.createElement(\n        'button',\n        {\n          className: this.props.className,\n          onClick: this.onClick,\n          type: 'button'\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'comment'\n        ),\n        gettext(\"Message\")\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../..\":299,\"../../services/posting\":371,\"react\":\"react\"}],187:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _modalLoader = require('../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _yesNoSwitch = require('../../yes-no-switch');\n\nvar _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);\n\nvar _modalMessage = require('../../modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _users = require('../../../reducers/users');\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: '',\n      avatar_lock_user_message: '',\n      avatar_lock_staff_message: ''\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.profile.api.moderate_avatar).then(function (options) {\n        _this2.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || '',\n          avatar_lock_staff_message: options.avatar_lock_staff_message || ''\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isLoaded: true,\n          error: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(this.validate().username[0]);\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.profile.api.moderate_avatar, {\n        is_avatar_locked: this.state.is_avatar_locked,\n        avatar_lock_user_message: this.state.avatar_lock_user_message,\n        avatar_lock_staff_message: this.state.avatar_lock_staff_message\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));\n      _snackbar2.default.success(gettext(\"Avatar controls have been changed.\"));\n    }\n  }, {\n    key: 'getFormBody',\n    value: function getFormBody() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body' },\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"Lock avatar\"),\n              helpText: gettext(\"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"),\n              'for': 'id_is_avatar_locked' },\n            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',\n              disabled: this.state.isLoading,\n              iconOn: 'lock_outline',\n              iconOff: 'lock_open',\n              labelOn: gettext(\"Disallow user from changing avatar\"),\n              labelOff: gettext(\"Allow user to change avatar\"),\n              onChange: this.bindInput('is_avatar_locked'),\n              value: this.state.is_avatar_locked })\n          ),\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"User message\"),\n              helpText: gettext(\"Optional message for user explaining why he/she is prohibited form changing avatar.\"),\n              'for': 'id_avatar_lock_user_message' },\n            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',\n              className: 'form-control',\n              rows: '4',\n              disabled: this.state.isLoading,\n              onChange: this.bindInput('avatar_lock_user_message'),\n              value: this.state.avatar_lock_user_message })\n          ),\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"Staff message\"),\n              helpText: gettext(\"Optional message for forum team members explaining why user is prohibited form changing avatar.\"),\n              'for': 'id_avatar_lock_staff_message' },\n            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',\n              className: 'form-control',\n              rows: '4',\n              disabled: this.state.isLoading,\n              onChange: this.bindInput('avatar_lock_staff_message'),\n              value: this.state.avatar_lock_staff_message })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },\n            gettext(\"Close\")\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary', loading: this.state.isLoading },\n            gettext(\"Save changes\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getModalBody',\n    value: function getModalBody() {\n      if (this.state.error) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',\n          message: this.state.error });\n        /* jshint ignore:end */\n      } else if (this.state.isLoaded) {\n        return this.getFormBody();\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalLoader2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state.error) {\n        return \"modal-dialog modal-message modal-avatar-controls\";\n      } else {\n        return \"modal-dialog modal-avatar-controls\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Avatar controls\")\n            )\n          ),\n          this.getModalBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../reducers/users\":360,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"../../modal-loader\":59,\"../../modal-message\":60,\"../../yes-no-switch\":297,\"react\":\"react\"}],188:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _modalLoader = require('../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _modalMessage = require('../../modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _usernameHistory = require('../../../reducers/username-history');\n\nvar _users = require('../../../reducers/users');\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _validators = require('../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: '',\n      validators: {\n        username: [validators.usernameContent()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.profile.api.moderate_username).then(function () {\n        _this2.setState({\n          isLoaded: true\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isLoaded: true,\n          error: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(this.validate().username[0]);\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.profile.api.moderate_username, {\n        username: this.state.username\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.setState({\n        username: ''\n      });\n\n      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));\n      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));\n\n      _snackbar2.default.success(gettext(\"Username has been changed.\"));\n    }\n  }, {\n    key: 'getFormBody',\n    value: function getFormBody() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body' },\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"New username\"), 'for': 'id_username' },\n            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',\n              disabled: this.state.isLoading,\n              onChange: this.bindInput('username'),\n              value: this.state.username })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              disabled: this.state.isLoading,\n              type: 'button'\n            },\n            gettext(\"Cancel\")\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary', loading: this.state.isLoading },\n            gettext(\"Change username\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getModalBody',\n    value: function getModalBody() {\n      if (this.state.error) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',\n          message: this.state.error });\n        /* jshint ignore:end */\n      } else if (this.state.isLoaded) {\n        return this.getFormBody();\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalLoader2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state.error) {\n        return \"modal-dialog modal-message modal-rename-user\";\n      } else {\n        return \"modal-dialog modal-rename-user\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Change username\")\n            )\n          ),\n          this.getModalBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../reducers/username-history\":359,\"../../../reducers/users\":360,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../../utils/validators\":389,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"../../modal-loader\":59,\"../../modal-message\":60,\"react\":\"react\"}],189:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _modalLoader = require('../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _modalMessage = require('../../modal-message');\n\nvar _modalMessage2 = _interopRequireDefault(_modalMessage);\n\nvar _yesNoSwitch = require('../../yes-no-switch');\n\nvar _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _polls = require('../../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.countdown = function () {\n      window.setTimeout(function () {\n        if (_this.state.countdown > 1) {\n          _this.setState({\n            countdown: _this.state.countdown - 1\n          });\n          _this.countdown();\n        } else if (!_this.state.confirm) {\n          _this.setState({\n            confirm: true\n          });\n        }\n      }, 1000);\n    };\n\n    _this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(this.props.profile.api.delete).then(function () {\n        _this2.setState({\n          isLoaded: true\n        });\n\n        _this2.countdown();\n      }, function (rejection) {\n        _this2.setState({\n          isLoaded: true,\n          error: rejection.detail\n        });\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'send',\n\n    /* jshint ignore:end */\n\n    value: function send() {\n      return _ajax2.default.post(this.props.profile.api.delete, {\n        with_content: this.state.with_content\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      _polls2.default.stop('user-profile');\n\n      if (this.state.with_content) {\n        this.setState({\n          isDeleted: interpolate(gettext(\"%(username)s's account, threads, posts and other content has been deleted.\"), {\n            'username': this.props.profile.username\n          }, true)\n        });\n      } else {\n        this.setState({\n          isDeleted: interpolate(gettext(\"%(username)s's account has been deleted and other content has been hidden.\"), {\n            'username': this.props.profile.username\n          }, true)\n        });\n      }\n    }\n  }, {\n    key: 'getButtonLabel',\n    value: function getButtonLabel() {\n      if (this.state.confirm) {\n        return interpolate(gettext(\"Delete %(username)s\"), {\n          'username': this.props.profile.username\n        }, true);\n      } else {\n        return interpolate(gettext(\"Please wait... (%(countdown)ss)\"), {\n          'countdown': this.state.countdown\n        }, true);\n      }\n    }\n  }, {\n    key: 'getForm',\n    value: function getForm() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body' },\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"User content\"),\n              'for': 'id_with_content' },\n            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',\n              disabled: this.state.isLoading,\n              labelOn: gettext(\"Delete together with user's account\"),\n              labelOff: gettext(\"Hide after deleting user's account\"),\n              onChange: this.bindInput('with_content'),\n              value: this.state.with_content })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'button',\n            { type: 'button',\n              className: 'btn btn-default',\n              'data-dismiss': 'modal' },\n            gettext(\"Cancel\")\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-danger',\n              loading: this.state.isLoading,\n              disabled: !this.state.confirm },\n            this.getButtonLabel()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getDeletedBody',\n    value: function getDeletedBody() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'info_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.state.isDeleted\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            _react2.default.createElement(\n              'a',\n              { href: _index2.default.get('USERS_LIST_URL') },\n              gettext(\"Return to users list\")\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getModalBody',\n    value: function getModalBody() {\n      if (this.state.error) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',\n          message: this.state.error });\n        /* jshint ignore:end */\n      } else if (this.state.isLoaded) {\n        if (this.state.isDeleted) {\n          return this.getDeletedBody();\n        } else {\n          return this.getForm();\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_modalLoader2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.state.error || this.state.isDeleted) {\n        return \"modal-dialog modal-message modal-delete-account\";\n      } else {\n        return \"modal-dialog modal-delete-account\";\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(),\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Delete user account\")\n            )\n          ),\n          this.getModalBody()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../services/ajax\":361,\"../../../services/polls\":370,\"../../button\":7,\"../../form\":54,\"../../form-group\":53,\"../../modal-loader\":59,\"../../modal-message\":60,\"../../yes-no-switch\":297,\"react\":\"react\"}],190:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _avatarControls = require('./avatar-controls');\n\nvar _avatarControls2 = _interopRequireDefault(_avatarControls);\n\nvar _changeUsername = require('./change-username');\n\nvar _changeUsername2 = _interopRequireDefault(_changeUsername);\n\nvar _deleteAccount = require('./delete-account');\n\nvar _deleteAccount2 = _interopRequireDefault(_deleteAccount);\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\n/* jshint ignore:start */\nvar select = function select(store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile\n  };\n};\n/* jshint ignore:end */\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {\n      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));\n    }, _this.showRenameDialog = function () {\n      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));\n    }, _this.showDeleteDialog = function () {\n      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'getAvatarButton',\n\n    /* jshint ignore:end */\n\n    value: function getAvatarButton() {\n      if (this.props.profile.acl.can_moderate_avatar) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              type: 'button',\n              className: 'btn btn-link',\n              onClick: this.showAvatarDialog\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'portrait'\n            ),\n            gettext(\"Avatar controls\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getRenameButton',\n\n    /* jshint ignore:end */\n\n    value: function getRenameButton() {\n      if (this.props.profile.acl.can_rename) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              type: 'button',\n              className: 'btn btn-link',\n              onClick: this.showRenameDialog\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'credit_card'\n            ),\n            gettext(\"Change username\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getDeleteButton',\n\n    /* jshint ignore:end */\n\n    value: function getDeleteButton() {\n      if (this.props.profile.acl.can_delete) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              type: 'button',\n              className: 'btn btn-link',\n              onClick: this.showDeleteDialog\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'clear'\n            ),\n            gettext(\"Delete account\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        {\n          className: 'dropdown-menu dropdown-menu-right stick-to-bottom',\n          role: 'menu'\n        },\n        this.getAvatarButton(),\n        this.getRenameButton(),\n        this.getDeleteButton()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../services/modal\":367,\"./avatar-controls\":187,\"./change-username\":188,\"./delete-account\":189,\"react\":\"react\",\"react-redux\":\"react-redux\"}],191:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SideNav = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.CompactNav = CompactNav;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _li = require('../li');\n\nvar _li2 = _interopRequireDefault(_li);\n\nvar _followButton = require('./follow-button');\n\nvar _followButton2 = _interopRequireDefault(_followButton);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n//jshint ignore:line\n// jshint ignore:line\n\n\n//jshint ignore:line\n\nvar SideNav = exports.SideNav = function (_React$Component) {\n  _inherits(SideNav, _React$Component);\n\n  function SideNav() {\n    _classCallCheck(this, SideNav);\n\n    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));\n  }\n\n  _createClass(SideNav, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      // jshint ignore:start\n      return _react2.default.createElement(\n        'div',\n        { className: 'list-group nav-side' },\n        this.props.pages.map(function (page) {\n          return _react2.default.createElement(\n            _reactRouter.Link,\n            {\n              to: _this2.props.baseUrl + page.component + '/',\n              className: 'list-group-item',\n              activeClassName: 'active',\n              key: page.component\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              page.icon\n            ),\n            page.name\n          );\n        })\n      );\n      // jshint ignore:end\n    }\n  }]);\n\n  return SideNav;\n}(_react2.default.Component);\n\n// jshint ignore:start\n\n\nfunction CompactNav(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'page-tabs hidden-md hidden-lg' },\n    _react2.default.createElement(\n      'div',\n      { className: 'container' },\n      _react2.default.createElement(\n        'ul',\n        { className: 'nav nav-pills', role: 'menu' },\n        props.pages.map(function (page) {\n          return _react2.default.createElement(\n            _li2.default,\n            {\n              path: props.baseUrl + page.component + '/',\n              key: page.component\n            },\n            _react2.default.createElement(\n              _reactRouter.Link,\n              {\n                to: props.baseUrl + page.component + '/',\n                onClick: props.hideNav\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                page.icon\n              ),\n              page.name\n            )\n          );\n        })\n      )\n    )\n  );\n}\n// jshint ignore:end\n\n},{\"../../index\":299,\"../li\":55,\"./follow-button\":182,\"react\":\"react\",\"react-router\":\"react-router\"}],192:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\nexports.paths = paths;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _banDetails = require('./ban-details');\n\nvar _banDetails2 = _interopRequireDefault(_banDetails);\n\nvar _details = require('./details');\n\nvar _details2 = _interopRequireDefault(_details);\n\nvar _feed = require('./feed');\n\nvar _followers = require('./followers');\n\nvar _followers2 = _interopRequireDefault(_followers);\n\nvar _follows = require('./follows');\n\nvar _follows2 = _interopRequireDefault(_follows);\n\nvar _usernameHistory = require('./username-history');\n\nvar _usernameHistory2 = _interopRequireDefault(_usernameHistory);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _nav = require('./moderation/nav');\n\nvar _nav2 = _interopRequireDefault(_nav);\n\nvar _navs = require('./navs');\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _withDropdown = require('../with-dropdown');\n\nvar _withDropdown2 = _interopRequireDefault(_withDropdown);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _profile = require('../../reducers/profile');\n\nvar _polls = require('../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_WithDropdown) {\n  _inherits(_class, _WithDropdown);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.update = function (data) {\n      _store2.default.dispatch((0, _profile.hydrate)(data));\n    };\n\n    _this.startPolling(props.profile.api.index);\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'startPolling',\n    value: function startPolling(api) {\n      _polls2.default.start({\n        poll: 'user-profile',\n        url: api,\n        frequency: 90 * 1000,\n        update: this.update\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      var baseUrl = _2.default.get('PROFILE').url;\n      var pages = _2.default.get('PROFILE_PAGES');\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-user-profile' },\n        _react2.default.createElement(_header2.default, {\n          baseUrl: baseUrl,\n          pages: pages,\n          profile: this.props.profile,\n          toggleNav: this.toggleNav,\n          toggleModeration: this.toggleModeration,\n          user: this.props.user\n        }),\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-3 hidden-xs hidden-sm' },\n              _react2.default.createElement(\n                'div',\n                { className: 'profile-side-avatar' },\n                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })\n              ),\n              _react2.default.createElement(_navs.SideNav, {\n                baseUrl: baseUrl,\n                pages: pages,\n                profile: this.props.profile\n              })\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-9' },\n              this.props.children\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_withDropdown2.default);\n\nexports.default = _class;\nfunction select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store['profile-details'],\n    'username-history': store['username-history']\n  };\n}\n\nvar COMPONENTS = {\n  'posts': _feed.Posts,\n  'threads': _feed.Threads,\n  'followers': _followers2.default,\n  'follows': _follows2.default,\n  'details': _details2.default,\n  'username-history': _usernameHistory2.default,\n  'ban-details': _banDetails2.default\n};\n\nfunction paths() {\n  var paths = [];\n  _2.default.get('PROFILE_PAGES').forEach(function (item) {\n    paths.push(Object.assign({}, item, {\n      path: _2.default.get('PROFILE').url + item.component + '/',\n      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])\n    }));\n  });\n\n  return paths;\n}\n\n},{\"../..\":299,\"../../reducers/profile\":352,\"../../services/polls\":370,\"../../services/store\":373,\"../avatar\":5,\"../with-dropdown\":296,\"./ban-details\":171,\"./details\":179,\"./feed\":180,\"./followers\":183,\"./follows\":184,\"./header\":185,\"./moderation/nav\":190,\"./navs\":191,\"./username-history\":193,\"react\":\"react\",\"react-redux\":\"react-redux\"}],193:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _quickSearch = require('../quick-search');\n\nvar _quickSearch2 = _interopRequireDefault(_quickSearch);\n\nvar _root = require('../username-history/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _usernameHistory = require('../../reducers/username-history');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadMore = function () {\n      _this.setState({\n        isBusy: true\n      });\n\n      _this.loadChanges(_this.state.page + 1, _this.state.search);\n    };\n\n    _this.search = function (ev) {\n      _this.setState({\n        isLoaded: false,\n        isBusy: true,\n\n        search: ev.target.value,\n\n        count: 0,\n        more: 0,\n\n        page: 1,\n        pages: 1\n      });\n\n      _this.loadChanges(1, ev.target.value);\n    };\n\n    if (_index2.default.has('PROFILE_NAME_HISTORY')) {\n      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));\n    } else {\n      _this.initWithoutPreloadedData();\n    }\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(data) {\n      this.state = {\n        isLoaded: true,\n        isBusy: false,\n\n        search: '',\n\n        count: data.count,\n        more: data.more,\n\n        page: data.page,\n        pages: data.pages\n      };\n\n      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData() {\n      this.state = {\n        isLoaded: false,\n        isBusy: false,\n\n        search: '',\n\n        count: 0,\n        more: 0,\n\n        page: 1,\n        pages: 1\n      };\n\n      this.loadChanges();\n    }\n  }, {\n    key: 'loadChanges',\n    value: function loadChanges() {\n      var _this2 = this;\n\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {\n        user: this.props.profile.id,\n        search: search,\n        page: page || 1\n      }, 'search-username-history').then(function (data) {\n        if (page === 1) {\n          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));\n        } else {\n          _store2.default.dispatch((0, _usernameHistory.append)(data.results));\n        }\n\n        _this2.setState({\n          isLoaded: true,\n          isBusy: false,\n\n          count: data.count,\n          more: data.more,\n\n          page: data.page,\n          pages: data.pages\n        });\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: gettext(\"Username history\"),\n        parent: this.props.profile.username\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getLabel',\n\n    /* jshint ignore:end */\n\n    value: function getLabel() {\n      if (!this.state.isLoaded) {\n        return gettext('Loading...');\n      } else if (this.state.search) {\n        var message = ngettext(\"Found %(changes)s username change.\", \"Found %(changes)s username changes.\", this.state.count);\n\n        return interpolate(message, {\n          'changes': this.state.count\n        }, true);\n      } else if (this.props.profile.id === this.props.user.id) {\n        var _message = ngettext(\"Your username was changed %(changes)s time.\", \"Your username was changed %(changes)s times.\", this.state.count);\n\n        return interpolate(_message, {\n          'changes': this.state.count\n        }, true);\n      } else {\n        var _message2 = ngettext(\"%(username)s's username was changed %(changes)s time.\", \"%(username)s's username was changed %(changes)s times.\", this.state.count);\n\n        return interpolate(_message2, {\n          'username': this.props.profile.username,\n          'changes': this.state.count\n        }, true);\n      }\n    }\n  }, {\n    key: 'getEmptyMessage',\n    value: function getEmptyMessage() {\n      if (this.state.search) {\n        return gettext(\"Search returned no username changes matching specified criteria.\");\n      } else if (this.props.user.id === this.props.profile.id) {\n        return gettext(\"No name changes have been recorded for your account.\");\n      } else {\n        return interpolate(gettext(\"%(username)s's username was never changed.\"), {\n          'username': this.props.profile.username\n        }, true);\n      }\n    }\n  }, {\n    key: 'getMoreButton',\n    value: function getMoreButton() {\n      if (!this.state.more) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'pager-more' },\n        _react2.default.createElement(\n          _button2.default,\n          {\n            className: 'btn btn-default btn-outline',\n            loading: this.state.isBusy,\n            onClick: this.loadMore\n          },\n          interpolate(gettext(\"Show older (%(more)s)\"), {\n            'more': this.state.more\n          }, true)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'profile-username-history' },\n        _react2.default.createElement(\n          'nav',\n          { className: 'toolbar' },\n          _react2.default.createElement(\n            'h3',\n            { className: 'toolbar-left' },\n            this.getLabel()\n          ),\n          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',\n            value: this.state.search,\n            onChange: this.search,\n            placeholder: gettext(\"Search history...\") })\n        ),\n        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,\n          emptyMessage: this.getEmptyMessage(),\n          changes: this.props['username-history'] }),\n        this.getMoreButton()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../index\":299,\"../../reducers/username-history\":359,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"../quick-search\":194,\"../username-history/root\":277,\"react\":\"react\"}],194:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      if (this.props.className) {\n        return \"form-search \" + this.props.className;\n      } else {\n        return \"form-search\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: this.getClassName() },\n        _react2.default.createElement(\"input\", { type: \"text\",\n          className: \"form-control\",\n          value: this.props.value,\n          onChange: this.props.onChange,\n          placeholder: this.props.placeholder || gettext(\"Search...\") }),\n        _react2.default.createElement(\n          \"span\",\n          { className: \"material-icon\" },\n          \"search\"\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],195:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _loader = require('./loader');\n\nvar _loader2 = _interopRequireDefault(_loader);\n\nvar _register = require('./register.js');\n\nvar _register2 = _interopRequireDefault(_register);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.showRegisterForm = function () {\n      if (misago.get('SETTINGS').account_activation === 'closed') {\n        _snackbar2.default.info(gettext(\"New registrations are currently disabled.\"));\n      } else if (_this.state.isLoaded) {\n        _modal2.default.show(_react2.default.createElement(_register2.default, {\n          criteria: _this.state.criteria\n        }));\n      } else {\n        _this.setState({ isLoading: true });\n\n        Promise.all([_captcha2.default.load(), _ajax2.default.get(misago.get('AUTH_CRITERIA_API'))]).then(function (result) {\n          _this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1]\n          });\n\n          _modal2.default.show(_react2.default.createElement(_register2.default, {\n            criteria: result[1]\n          }));\n        }, function () {\n          _this.setState({ isLoading: false });\n\n          _snackbar2.default.error(gettext(\"Registration is currently unavailable due to an error.\"));\n        });\n      }\n    };\n\n    _this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        {\n          className: 'btn ' + this.getClassName(),\n          disabled: this.state.isLoading,\n          onClick: this.showRegisterForm,\n          type: 'button'\n        },\n        gettext(\"Register\"),\n        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../services/ajax\":361,\"../services/captcha\":363,\"../services/modal\":367,\"../services/snackbar\":372,\"./loader\":56,\"./register.js\":196,\"react\":\"react\"}],196:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegisterComplete = exports.RegisterForm = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('./form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _passwordStrength = require('./password-strength');\n\nvar _passwordStrength2 = _interopRequireDefault(_passwordStrength);\n\nvar _RegisterLegalFootnote = require('./RegisterLegalFootnote');\n\nvar _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);\n\nvar _StartSocialAuth = require('./StartSocialAuth');\n\nvar _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);\n\nvar _ = require('..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar RegisterForm = exports.RegisterForm = function (_Form) {\n  _inherits(RegisterForm, _Form);\n\n  function RegisterForm(props) {\n    _classCallCheck(this, RegisterForm);\n\n    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));\n\n    var _this$props$criteria = _this.props.criteria,\n        username = _this$props$criteria.username,\n        password = _this$props$criteria.password;\n\n\n    var passwordMinLength = 0;\n    password.forEach(function (item) {\n      if (item.name === 'MinimumLengthValidator') {\n        passwordMinLength = item.min_length;\n      }\n    });\n\n    _this.state = {\n      isLoading: false,\n\n      username: '',\n      email: '',\n      password: '',\n      captcha: '',\n\n      validators: {\n        username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],\n        email: [validators.email()],\n        password: [validators.passwordMinLength(passwordMinLength)],\n        captcha: _captcha2.default.validator()\n      },\n\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(RegisterForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          errors: this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_2.default.get('USERS_API'), {\n        username: this.state.username,\n        email: this.state.email,\n        password: this.state.password,\n        captcha: this.state.captcha\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        this.setState({\n          'errors': Object.assign({}, this.state.errors, rejection)\n        });\n\n        if (rejection.__all__ && rejection.__all__.length > 0) {\n          _snackbar2.default.error(rejection.__all__[0]);\n        } else {\n          _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        }\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-register', role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Register\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),\n            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(_StartSocialAuth2.default, {\n                buttonClassName: 'col-xs-12 col-sm-6',\n                buttonLabel: gettext(\"Join with %(site)s\"),\n                formLabel: gettext(\"Or create forum account:\")\n              }),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Username\"), 'for': 'id_username',\n                  validation: this.state.errors.username },\n                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',\n                  'aria-describedby': 'id_username_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('username'),\n                  value: this.state.username })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"E-mail\"), 'for': 'id_email',\n                  validation: this.state.errors.email },\n                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',\n                  'aria-describedby': 'id_email_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('email'),\n                  value: this.state.email })\n              ),\n              _react2.default.createElement(\n                _formGroup2.default,\n                { label: gettext(\"Password\"), 'for': 'id_password',\n                  validation: this.state.errors.password,\n                  extra: _react2.default.createElement(_passwordStrength2.default, {\n                    password: this.state.password,\n                    inputs: [this.state.username, this.state.email]\n                  }) },\n                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',\n                  'aria-describedby': 'id_password_status',\n                  disabled: this.state.isLoading,\n                  onChange: this.bindInput('password'),\n                  value: this.state.password })\n              ),\n              _captcha2.default.component({\n                form: this\n              }),\n              _react2.default.createElement(_RegisterLegalFootnote2.default, null)\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default',\n                  'data-dismiss': 'modal',\n                  disabled: this.state.isLoading,\n                  type: 'button'\n                },\n                gettext(\"Cancel\")\n              ),\n              _react2.default.createElement(\n                _button2.default,\n                { className: 'btn-primary', loading: this.state.isLoading },\n                gettext(\"Register account\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterForm;\n}(_form2.default);\n\nvar RegisterComplete = exports.RegisterComplete = function (_React$Component) {\n  _inherits(RegisterComplete, _React$Component);\n\n  function RegisterComplete() {\n    _classCallCheck(this, RegisterComplete);\n\n    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));\n  }\n\n  _createClass(RegisterComplete, [{\n    key: 'getLead',\n    value: function getLead() {\n      if (this.props.activation === 'user') {\n        return gettext(\"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\");\n      }\n    }\n  }, {\n    key: 'getSubscript',\n    value: function getSubscript() {\n      if (this.props.activation === 'user') {\n        return gettext(\"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\");\n      } else if (this.props.activation === 'admin') {\n        return gettext(\"We will send an e-mail to %(email)s when this takes place.\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-message modal-register',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Registration complete\")\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-body' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                interpolate(this.getLead(), { 'username': this.props.username }, true)\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                interpolate(this.getSubscript(), { 'email': this.props.email }, true)\n              ),\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default',\n                  'data-dismiss': 'modal',\n                  type: 'button'\n                },\n                gettext(\"Ok\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RegisterComplete;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this3.completeRegistration = function (apiResponse) {\n      if (apiResponse.activation === 'active') {\n        _modal2.default.hide();\n        _auth2.default.signIn(apiResponse);\n      } else {\n        _this3.setState({\n          complete: apiResponse\n        });\n      }\n    };\n\n    _this3.state = {\n      complete: false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(RegisterComplete, {\n          activation: this.state.complete.activation,\n          email: this.state.complete.email,\n          username: this.state.complete.username\n        });\n      }\n\n      return _react2.default.createElement(RegisterForm, _extends({\n        callback: this.completeRegistration\n      }, this.props));\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"..\":299,\"../services/ajax\":361,\"../services/auth\":362,\"../services/captcha\":363,\"../services/modal\":367,\"../services/snackbar\":372,\"../utils/banned-page\":375,\"../utils/validators\":389,\"./RegisterLegalFootnote\":1,\"./StartSocialAuth\":2,\"./button\":7,\"./form\":54,\"./form-group\":53,\"./password-strength\":100,\"react\":\"react\"}],197:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkSent = exports.RequestLinkForm = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\n\nvar RequestLinkForm = exports.RequestLinkForm = function (_Form) {\n  _inherits(RequestLinkForm, _Form);\n\n  function RequestLinkForm(props) {\n    _classCallCheck(this, RequestLinkForm);\n\n    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestLinkForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        _snackbar2.default.info(rejection.detail);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestLinkForm;\n}(_form2.default);\n\nvar LinkSent = exports.LinkSent = function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Activation link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-activation-link well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-primary btn-block',\n              type: 'button',\n              onClick: this.props.callback\n            },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this3.complete = function (apiResponse) {\n      _this3.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this3.reset = function () {\n      _this3.setState({\n        complete: false\n      });\n    };\n\n    _this3.state = {\n      complete: false\n    };\n    return _this3;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });\n      } else {\n        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });\n      };\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/snackbar\":372,\"../utils/banned-page\":375,\"../utils/validators\":389,\"./button\":7,\"./form\":54,\"react\":\"react\"}],198:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar RequestResetForm = exports.RequestResetForm = function (_Form) {\n  _inherits(RequestResetForm, _Form);\n\n  function RequestResetForm(props) {\n    _classCallCheck(this, RequestResetForm);\n\n    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'email': '',\n\n      'validators': {\n        'email': [validators.email()]\n      }\n    };\n    return _this;\n  }\n\n  _createClass(RequestResetForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter a valid email address.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {\n        'email': this.state.email\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {\n        this.props.showInactivePage(rejection);\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'text', className: 'form-control',\n                placeholder: gettext(\"Your e-mail address\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('email'),\n                value: this.state.email })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Send link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return RequestResetForm;\n}(_form2.default);\n\nvar LinkSent = exports.LinkSent = function (_React$Component) {\n  _inherits(LinkSent, _React$Component);\n\n  function LinkSent() {\n    _classCallCheck(this, LinkSent);\n\n    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));\n  }\n\n  _createClass(LinkSent, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"Reset password link was sent to %(email)s\"), {\n        email: this.props.user.email\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-request-password-reset well-done' },\n        _react2.default.createElement(\n          'div',\n          { className: 'done-message' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-icon' },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'message-body' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.getMessage()\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { type: 'button', className: 'btn btn-primary btn-block',\n              onClick: this.props.callback },\n            gettext(\"Request another link\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return LinkSent;\n}(_react2.default.Component);\n\nvar AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {\n  _inherits(AccountInactivePage, _React$Component2);\n\n  function AccountInactivePage() {\n    _classCallCheck(this, AccountInactivePage);\n\n    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));\n  }\n\n  _createClass(AccountInactivePage, [{\n    key: 'getActivateButton',\n    value: function getActivateButton() {\n      if (this.props.activation === 'inactive_user') {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'p',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },\n            gettext(\"Activate your account.\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-info page-forgotten-password-inactive' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'info_outline'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                gettext(\"Your account is inactive.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                this.props.message\n              ),\n              this.getActivateButton()\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return AccountInactivePage;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component3) {\n  _inherits(_class, _React$Component3);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this4.complete = function (apiResponse) {\n      _this4.setState({\n        complete: apiResponse\n      });\n    };\n\n    _this4.reset = function () {\n      _this4.setState({\n        complete: false\n      });\n    };\n\n    _this4.state = {\n      complete: false\n    };\n    return _this4;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'showInactivePage',\n    value: function showInactivePage(apiResponse) {\n      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, {\n        activation: apiResponse.code,\n        message: apiResponse.detail\n      }), document.getElementById('page-mount'));\n    }\n    /* jshint ignore:end */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.complete) {\n        return _react2.default.createElement(LinkSent, {\n          callback: this.reset,\n          user: this.state.complete\n        });\n      }\n\n      return _react2.default.createElement(RequestResetForm, {\n        callback: this.complete,\n        showInactivePage: this.showInactivePage\n      });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/snackbar\":372,\"../utils/banned-page\":375,\"../utils/validators\":389,\"./button\":7,\"./form\":54,\"react\":\"react\",\"react-dom\":\"react-dom\"}],199:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PasswordChangedPage = exports.ResetPasswordForm = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _signIn = require('./sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {\n  _inherits(ResetPasswordForm, _Form);\n\n  function ResetPasswordForm(props) {\n    _classCallCheck(this, ResetPasswordForm);\n\n    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n\n      'password': ''\n    };\n    return _this;\n  }\n\n  _createClass(ResetPasswordForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.state.password.trim().length) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Enter new password.\"));\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.callback(apiResponse);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'well well-form well-form-reset-password' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'form-group' },\n            _react2.default.createElement(\n              'div',\n              { className: 'control-input' },\n              _react2.default.createElement('input', { type: 'password', className: 'form-control',\n                placeholder: gettext(\"Enter new password\"),\n                disabled: this.state.isLoading,\n                onChange: this.bindInput('password'),\n                value: this.state.password })\n            )\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary btn-block',\n              loading: this.state.isLoading },\n            gettext(\"Change password\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ResetPasswordForm;\n}(_form2.default);\n\nvar PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {\n  _inherits(PasswordChangedPage, _React$Component);\n\n  function PasswordChangedPage() {\n    _classCallCheck(this, PasswordChangedPage);\n\n    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));\n  }\n\n  _createClass(PasswordChangedPage, [{\n    key: 'getMessage',\n    value: function getMessage() {\n      return interpolate(gettext(\"%(username)s, your password has been changed successfully.\"), {\n        username: this.props.user.username\n      }, true);\n    }\n  }, {\n    key: 'showSignIn',\n    value: function showSignIn() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-message page-message-success page-forgotten-password-changed' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'message-panel' },\n            _react2.default.createElement(\n              'div',\n              { className: 'message-icon' },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'check'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'message-body' },\n              _react2.default.createElement(\n                'p',\n                { className: 'lead' },\n                this.getMessage()\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                gettext(\"You will have to sign in using new password before continuing.\")\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'button',\n                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },\n                  gettext(\"Sign in\")\n                )\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return PasswordChangedPage;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this3, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {\n      _auth2.default.softSignOut();\n\n      // nuke \"redirect_to\" field so we don't end\n      // coming back to error page after sign in\n      $('#hidden-login-form input[name=\"redirect_to\"]').remove();\n\n      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));\n    }, _temp), _possibleConstructorReturn(_this3, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/auth\":362,\"../services/modal\":367,\"../services/snackbar\":372,\"../utils/banned-page\":375,\"./button\":7,\"./form\":54,\"./sign-in.js\":208,\"react\":\"react\",\"react-dom\":\"react-dom\"}],200:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _posts = require('../../reducers/posts');\n\nvar _search = require('../../reducers/search');\n\nvar _users = require('../../reducers/users');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onQueryChange = function (event) {\n      _this.changeValue('query', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      query: props.search.query\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.state.query.length) {\n        this.handleSubmit();\n      }\n    }\n  }, {\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.query.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter search query.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      _store2.default.dispatch((0, _search.update)({\n        isLoading: true\n      }));\n\n      return _ajax2.default.get(_2.default.get('SEARCH_API'), {\n        q: this.state.query.trim()\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(providers) {\n      _store2.default.dispatch((0, _search.update)({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers: providers\n      }));\n\n      providers.forEach(function (provider) {\n        if (provider.id === 'users') {\n          _store2.default.dispatch((0, _users.hydrate)(provider.results.results));\n        } else if (provider.id === 'threads') {\n          _store2.default.dispatch((0, _posts.load)(provider.results));\n        }\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      _snackbar2.default.apiError(rejection);\n\n      _store2.default.dispatch((0, _search.update)({\n        isLoading: false\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'page-header-bg' },\n        _react2.default.createElement(\n          'div',\n          { className: 'page-header page-search-form' },\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'container' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'col-xs-12 col-md-3' },\n                  _react2.default.createElement(\n                    'h1',\n                    null,\n                    gettext(\"Search\")\n                  )\n                ),\n                _react2.default.createElement(\n                  'div',\n                  { className: 'col-xs-12 col-md-9' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'row xs-margin-top sm-margin-top' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-12 col-sm-8 col-md-9' },\n                      _react2.default.createElement(\n                        'div',\n                        { className: 'form-group' },\n                        _react2.default.createElement('input', {\n                          className: 'form-control',\n                          disabled: this.props.search.isLoading || this.state.isLoading,\n                          onChange: this.onQueryChange,\n                          type: 'text',\n                          value: this.state.query\n                        })\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-12 col-sm-4 col-md-3' },\n                      _react2.default.createElement(\n                        'button',\n                        {\n                          className: 'btn btn-primary btn-block btn-outline',\n                          disabled: this.props.search.isLoading || this.state.isLoading\n                        },\n                        gettext(\"Search\")\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../..\":299,\"../../reducers/posts\":350,\"../../reducers/search\":353,\"../../reducers/users\":360,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../services/store\":373,\"../form\":54,\"react\":\"react\"}],201:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.select = select;\n\nexports.default = function (providers) {\n  return providers.map(function (provider) {\n    return {\n      path: provider.url,\n      component: (0, _reactRedux.connect)(select)(components[provider.id]),\n      provider: provider\n    };\n  });\n};\n\nvar _reactRedux = require('react-redux');\n\nvar _threads = require('./threads');\n\nvar _threads2 = _interopRequireDefault(_threads);\n\nvar _users = require('./users');\n\nvar _users2 = _interopRequireDefault(_users);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar components = {\n  threads: _threads2.default,\n  users: _users2.default\n};\n\nfunction select(store) {\n  return {\n    'posts': store.posts,\n    'search': store.search,\n    'tick': store.tick.tick,\n    'user': store.auth.user,\n    'users': store.users\n  };\n}\n\n},{\"./threads\":204,\"./users\":206,\"react-redux\":\"react-redux\"}],202:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'page page-search' },\n    _react2.default.createElement(_form2.default, {\n      provider: props.provider,\n      search: props.search\n    }),\n    _react2.default.createElement(\n      'div',\n      { className: 'container' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-3' },\n          _react2.default.createElement(_sidenav2.default, { providers: props.search.providers })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-9' },\n          props.children,\n          _react2.default.createElement(SearchTime, {\n            provider: props.provider,\n            search: props.search\n          })\n        )\n      )\n    )\n  );\n};\n\nexports.SearchTime = SearchTime;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _sidenav = require('./sidenav');\n\nvar _sidenav2 = _interopRequireDefault(_sidenav);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction SearchTime(props) {\n  var time = null;\n  props.search.providers.forEach(function (p) {\n    if (p.id === props.provider.id) {\n      time = p.time;\n    }\n  });\n\n  if (time === null) return null;\n\n  var copy = gettext(\"Search took %(time)s s to complete\");\n\n  return _react2.default.createElement(\n    'footer',\n    { className: 'search-footer' },\n    _react2.default.createElement(\n      'p',\n      null,\n      interpolate(copy, { time: time }, true)\n    )\n  );\n}\n\n},{\"./form\":200,\"./sidenav\":203,\"react\":\"react\"}],203:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'list-group nav-side' },\n    props.providers.map(function (provider) {\n      return _react2.default.createElement(\n        _reactRouter.Link,\n        {\n          activeClassName: 'active',\n          className: 'list-group-item',\n          key: provider.id,\n          to: provider.url\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          provider.icon\n        ),\n        provider.name,\n        _react2.default.createElement(Badge, { results: provider.results })\n      );\n    })\n  );\n};\n\nexports.Badge = Badge;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Badge(props) {\n  if (!props.results) return null;\n\n  var count = props.results.count;\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + 'KK';\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + 'K';\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'badge' },\n    count\n  );\n} // jshint ignore:start\n\n},{\"react\":\"react\",\"react-router\":\"react-router\"}],204:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _page2.default,\n    {\n      provider: props.route.provider,\n      search: props.search\n    },\n    _react2.default.createElement(\n      Blankslate,\n      {\n        query: props.search.query,\n        posts: props.posts\n      },\n      _react2.default.createElement(_results2.default, _extends({\n        provider: props.route.provider,\n        query: props.search.query\n      }, props.posts))\n    )\n  );\n};\n\nexports.Blankslate = Blankslate;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _page = require('../page');\n\nvar _page2 = _interopRequireDefault(_page);\n\nvar _results = require('./results');\n\nvar _results2 = _interopRequireDefault(_results);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Blankslate(props) {\n  if (props.posts && props.posts.count) return props.children;\n\n  if (props.query.length) {\n    return _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      gettext(\"No threads matching search query have been found.\")\n    );\n  }\n\n  return _react2.default.createElement(\n    'p',\n    { className: 'lead' },\n    gettext(\"Enter at least two characters to search threads.\")\n  );\n}\n\n},{\"../page\":202,\"./results\":205,\"react\":\"react\"}],205:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoadMore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(_postFeed2.default, {\n      isReady: true,\n      posts: props.results\n    }),\n    _react2.default.createElement(LoadMore, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _postFeed = require('../../post-feed');\n\nvar _postFeed2 = _interopRequireDefault(_postFeed);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _misagoMarkup = require('../../misago-markup');\n\nvar _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);\n\nvar _posts = require('../../../reducers/posts');\n\nvar _search = require('../../../reducers/search');\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar LoadMore = exports.LoadMore = function (_React$Component) {\n  _inherits(LoadMore, _React$Component);\n\n  function LoadMore() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LoadMore);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadMore.__proto__ || Object.getPrototypeOf(LoadMore)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _store2.default.dispatch((0, _posts.update)({\n        isBusy: true\n      }));\n\n      _ajax2.default.get(_this.props.provider.api, {\n        q: _this.props.query,\n        page: _this.props.next\n      }).then(function (providers) {\n        providers.forEach(function (provider) {\n          if (provider.id !== 'threads') return;\n          _store2.default.dispatch((0, _posts.append)(provider.results));\n          _store2.default.dispatch((0, _search.updateProvider)(provider));\n        });\n\n        _store2.default.dispatch((0, _posts.update)({\n          isBusy: false\n        }));\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n\n        _store2.default.dispatch((0, _posts.update)({\n          isBusy: false\n        }));\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(LoadMore, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.more) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'pager-more' },\n        _react2.default.createElement(\n          _button2.default,\n          {\n            className: 'btn btn-default btn-outline',\n            loading: this.props.isBusy,\n            onClick: this.onClick\n          },\n          gettext(\"Show more\")\n        )\n      );\n    }\n  }]);\n\n  return LoadMore;\n}(_react2.default.Component);\n\n},{\"../../../reducers/posts\":350,\"../../../reducers/search\":353,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../button\":7,\"../../misago-markup\":58,\"../../post-feed\":119,\"react\":\"react\"}],206:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _page2.default,\n    {\n      provider: props.route.provider,\n      search: props.search\n    },\n    _react2.default.createElement(\n      Blankslate,\n      {\n        query: props.search.query,\n        users: props.users\n      },\n      _react2.default.createElement(_usersList2.default, {\n        cols: 3,\n        isReady: true,\n        users: props.users\n      })\n    )\n  );\n};\n\nexports.Blankslate = Blankslate;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _page = require('../page');\n\nvar _page2 = _interopRequireDefault(_page);\n\nvar _usersList = require('../../users-list');\n\nvar _usersList2 = _interopRequireDefault(_usersList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction Blankslate(props) {\n  if (props.users.length) return props.children;\n\n  if (props.query.length) {\n    return _react2.default.createElement(\n      'p',\n      { className: 'lead' },\n      gettext(\"No users matching search query have been found.\")\n    );\n  }\n\n  return _react2.default.createElement(\n    'p',\n    { className: 'lead' },\n    gettext(\"Enter at least two characters to search users.\")\n  );\n}\n\n},{\"../../users-list\":281,\"../page\":202,\"react\":\"react\"}],207:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Icon = Icon;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {\n      return function () {\n        _this.props.onChange({\n          target: {\n            value: value\n          }\n        });\n      };\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: \"getChoice\",\n    value: function getChoice() {\n      var _this2 = this;\n\n      var choice = null;\n      this.props.choices.map(function (item) {\n        if (item.value === _this2.props.value) {\n          choice = item;\n        }\n      });\n      return choice;\n    }\n  }, {\n    key: \"getIcon\",\n    value: function getIcon() {\n      return this.getChoice().icon;\n    }\n  }, {\n    key: \"getLabel\",\n    value: function getLabel() {\n      return this.getChoice().label;\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: \"render\",\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      var _this3 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"btn-group btn-select-group\" },\n        _react2.default.createElement(\n          \"button\",\n          { type: \"button\",\n            className: \"btn btn-select dropdown-toggle\",\n            id: this.props.id || null,\n            \"data-toggle\": \"dropdown\",\n            \"aria-haspopup\": \"true\",\n            \"aria-expanded\": \"false\",\n            \"aria-describedby\": this.props['aria-describedby'] || null,\n            disabled: this.props.disabled || false },\n          _react2.default.createElement(Icon, { icon: this.getIcon() }),\n          this.getLabel()\n        ),\n        _react2.default.createElement(\n          \"ul\",\n          { className: \"dropdown-menu\" },\n          this.props.choices.map(function (item, i) {\n            return _react2.default.createElement(\n              \"li\",\n              { key: i },\n              _react2.default.createElement(\n                \"button\",\n                { type: \"button\", className: \"btn-link\",\n                  onClick: _this3.change(item.value) },\n                _react2.default.createElement(Icon, { icon: item.icon }),\n                item.label\n              )\n            );\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction Icon(_ref2) {\n  var icon = _ref2.icon;\n\n  if (!icon) return null;\n\n  return _react2.default.createElement(\n    \"span\",\n    { className: \"material-icon\" },\n    icon\n  );\n}\n/* jshint ignore:end */\n\n},{\"react\":\"react\"}],208:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('./form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _StartSocialAuth = require('./StartSocialAuth');\n\nvar _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _bannedPage = require('../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      'isLoading': false,\n      'showActivation': false,\n\n      'username': '',\n      'password': '',\n\n      'validators': {\n        'username': [],\n        'password': []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.isValid()) {\n        _snackbar2.default.error(gettext(\"Fill out both fields.\"));\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('AUTH_API'), {\n        'username': this.state.username,\n        'password': this.state.password\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      var form = $('#hidden-login-form');\n\n      form.append('<input type=\"text\" name=\"username\" />');\n      form.append('<input type=\"password\" name=\"password\" />');\n\n      // fill out form with user credentials and submit it, this will tell\n      // Misago to redirect user back to right page, and will trigger browser's\n      // key ring feature\n      form.find('input[type=\"hidden\"]').val(_ajax2.default.getCsrfToken());\n      form.find('input[name=\"redirect_to\"]').val(window.location.pathname);\n      form.find('input[name=\"username\"]').val(this.state.username);\n      form.find('input[name=\"password\"]').val(this.state.password);\n      form.submit();\n\n      // keep form loading\n      this.setState({\n        'isLoading': true\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        if (rejection.code === 'inactive_admin') {\n          _snackbar2.default.info(rejection.detail);\n        } else if (rejection.code === 'inactive_user') {\n          _snackbar2.default.info(rejection.detail);\n          this.setState({\n            'showActivation': true\n          });\n        } else if (rejection.code === 'banned') {\n          (0, _bannedPage2.default)(rejection.detail);\n          _modal2.default.hide();\n        } else {\n          _snackbar2.default.error(rejection.detail);\n        }\n      } else if (rejection.status === 403 && rejection.ban) {\n        (0, _bannedPage2.default)(rejection.ban);\n        _modal2.default.hide();\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getActivationButton',\n    value: function getActivationButton() {\n      if (!this.state.showActivation) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'a',\n        {\n          className: 'btn btn-success btn-block',\n          href: _index2.default.get('REQUEST_ACTIVATION_URL')\n        },\n        gettext(\"Activate account\")\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        {\n          className: 'modal-dialog modal-sm modal-sign-in',\n          role: 'document'\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              {\n                'aria-label': gettext(\"Close\"),\n                className: 'close',\n                'data-dismiss': 'modal',\n                type: 'button'\n              },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Sign in\")\n            )\n          ),\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(_StartSocialAuth2.default, {\n                buttonLabel: gettext(\"Sign in with %(site)s\"),\n                formLabel: gettext(\"Or use your forum account:\"),\n                labelClassName: 'text-center'\n              }),\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', {\n                    className: 'form-control input-lg',\n                    disabled: this.state.isLoading,\n                    id: 'id_username',\n                    onChange: this.bindInput('username'),\n                    placeholder: gettext(\"Username or e-mail\"),\n                    type: 'text',\n                    value: this.state.username\n                  })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'form-group' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'control-input' },\n                  _react2.default.createElement('input', {\n                    className: 'form-control input-lg',\n                    disabled: this.state.isLoading,\n                    id: 'id_password',\n                    onChange: this.bindInput('password'),\n                    placeholder: gettext(\"Password\"),\n                    type: 'password',\n                    value: this.state.password\n                  })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              this.getActivationButton(),\n              _react2.default.createElement(\n                _button2.default,\n                {\n                  className: 'btn-primary btn-block',\n                  loading: this.state.isLoading\n                },\n                gettext(\"Sign in\")\n              ),\n              _react2.default.createElement(\n                'a',\n                {\n                  className: 'btn btn-default btn-block',\n                  href: _index2.default.get('FORGOTTEN_PASSWORD_URL')\n                },\n                gettext(\"Forgot password?\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/modal\":367,\"../services/snackbar\":372,\"../utils/banned-page\":375,\"./StartSocialAuth\":2,\"./button\":7,\"./form\":54,\"react\":\"react\"}],209:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* jshint ignore:start */\nvar TYPES_CLASSES = {\n  'info': 'alert-info',\n  'success': 'alert-success',\n  'warning': 'alert-warning',\n  'error': 'alert-danger'\n};\n/* jshint ignore:end */\n\nvar Snackbar = exports.Snackbar = function (_React$Component) {\n  _inherits(Snackbar, _React$Component);\n\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n\n    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));\n  }\n\n  _createClass(Snackbar, [{\n    key: 'getSnackbarClass',\n    value: function getSnackbarClass() {\n      var snackbarClass = 'alerts-snackbar';\n      if (this.props.isVisible) {\n        snackbarClass += ' in';\n      } else {\n        snackbarClass += ' out';\n      }\n      return snackbarClass;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getSnackbarClass() },\n        _react2.default.createElement(\n          'p',\n          { className: 'alert ' + TYPES_CLASSES[this.props.type] },\n          this.props.message\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Snackbar;\n}(_react2.default.Component);\n\nfunction select(state) {\n  return state.snackbar;\n}\n\n},{\"react\":\"react\"}],210:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Complete = function Complete(_ref) {\n  var activation = _ref.activation,\n      backend_name = _ref.backend_name,\n      username = _ref.username;\n\n  var icon = '';\n  var message = '';\n  if (activation === 'user') {\n    message = gettext(\"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\");\n  } else if (activation === 'admin') {\n    message = gettext(\"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\");\n  } else {\n    message = gettext(\"%(username)s, your account has been created and you has been signed in to it.\");\n  }\n\n  if (activation === 'active') {\n    icon = 'check';\n  } else {\n    icon = 'info_outline';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'page page-social-auth page-social-sauth-register' },\n    _react2.default.createElement(_header2.default, { backendName: backend_name }),\n    _react2.default.createElement(\n      'div',\n      { className: 'container' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-md-6 col-md-offset-3' },\n          _react2.default.createElement(\n            'div',\n            { className: 'panel panel-default panel-form' },\n            _react2.default.createElement(\n              'div',\n              { className: 'panel-heading' },\n              _react2.default.createElement(\n                'h3',\n                { className: 'panel-title' },\n                gettext(\"Registration completed!\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'panel-body panel-message-body' },\n              _react2.default.createElement(\n                'div',\n                { className: 'message-icon' },\n                _react2.default.createElement(\n                  'span',\n                  { className: 'material-icon' },\n                  icon\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'message-body' },\n                _react2.default.createElement(\n                  'p',\n                  { className: 'lead' },\n                  interpolate(message, { username: username }, true)\n                ),\n                _react2.default.createElement(\n                  'p',\n                  { className: 'help-block' },\n                  _react2.default.createElement(\n                    'a',\n                    {\n                      className: 'btn btn-default',\n                      href: _2.default.get('MISAGO_PATH')\n                    },\n                    gettext(\"Return to forum index\")\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n}; /* jshint ignore:start */\nexports.default = Complete;\n\n},{\"../..\":299,\"./header\":211,\"react\":\"react\"}],211:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Header = function Header(_ref) {\n  var backendName = _ref.backendName;\n\n  var pageTitleTpl = gettext(\"Sign in with %(backend)s\");\n  var pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true);\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"page-header-bg\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"page-header\" },\n      _react2.default.createElement(\n        \"div\",\n        { className: \"container\" },\n        _react2.default.createElement(\n          \"h1\",\n          null,\n          pageTitle\n        )\n      )\n    )\n  );\n}; /* jshint ignore:start */\nexports.default = Header;\n\n},{\"react\":\"react\"}],212:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _register = require('./register');\n\nvar _register2 = _interopRequireDefault(_register);\n\nvar _complete = require('./complete');\n\nvar _complete2 = _interopRequireDefault(_complete);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar SocialAuth = function (_React$Component) {\n  _inherits(SocialAuth, _React$Component);\n\n  function SocialAuth(props) {\n    _classCallCheck(this, SocialAuth);\n\n    var _this = _possibleConstructorReturn(this, (SocialAuth.__proto__ || Object.getPrototypeOf(SocialAuth)).call(this, props));\n\n    _this.handleRegistrationComplete = function (_ref) {\n      var activation = _ref.activation,\n          email = _ref.email,\n          step = _ref.step,\n          username = _ref.username;\n\n      _this.setState({ activation: activation, email: email, step: step, username: username });\n    };\n\n    _this.state = {\n      step: props.step,\n\n      activation: props.activation || '',\n      email: props.email || '',\n      username: props.username || ''\n    };\n    return _this;\n  }\n\n  _createClass(SocialAuth, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          backend_name = _props.backend_name,\n          url = _props.url;\n      var _state = this.state,\n          activation = _state.activation,\n          email = _state.email,\n          step = _state.step,\n          username = _state.username;\n\n\n      if (step === 'register') {\n        return _react2.default.createElement(_register2.default, {\n          backend_name: backend_name,\n          email: email,\n          url: url,\n          username: username,\n          onRegistrationComplete: this.handleRegistrationComplete\n        });\n      }\n\n      return _react2.default.createElement(_complete2.default, {\n        activation: activation,\n        backend_name: backend_name,\n        email: email,\n        url: url,\n        username: username\n      });\n    }\n  }]);\n\n  return SocialAuth;\n}(_react2.default.Component);\n\nexports.default = SocialAuth;\n\n},{\"./complete\":210,\"./register\":213,\"react\":\"react\"}],213:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _RegisterLegalFootnote = require('../RegisterLegalFootnote');\n\nvar _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _validators = require('../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar Register = function (_Form) {\n  _inherits(Register, _Form);\n\n  function Register(props) {\n    _classCallCheck(this, Register);\n\n    var _this = _possibleConstructorReturn(this, (Register.__proto__ || Object.getPrototypeOf(Register)).call(this, props));\n\n    _this.state = {\n      email: props.email || '',\n      emailProtected: !!props.email,\n      username: props.username || '',\n\n      errors: {},\n\n      validators: {\n        email: [validators.email()],\n        username: [validators.usernameContent()]\n      },\n\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: 'clean',\n    value: function clean() {\n      var errors = this.validate();\n      var lengths = [this.state.email.trim().length, this.state.username.trim().length];\n\n      if (lengths.indexOf(0) !== -1) {\n        _snackbar2.default.error(gettext(\"Fill out all fields.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.url, {\n        email: this.state.email,\n        username: this.state.username\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(response) {\n      onRegistrationComplete(response);\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 200) {\n        // We've entered \"errored\" state because response is HTML instead of exptected JSON\n        var _onRegistrationComplete = this.props.onRegistrationComplete;\n        var username = this.state.username;\n\n        _onRegistrationComplete({ activation: 'active', step: 'done', username: username });\n      } else if (rejection.status === 400) {\n        var stateUpdate = { errors: rejection };\n        if (rejection.email) {\n          stateUpdate.emailProtected = false;\n        }\n        this.setState(stateUpdate);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var backend_name = this.props.backend_name;\n      var _state = this.state,\n          email = _state.email,\n          emailProtected = _state.emailProtected,\n          username = _state.username,\n          isLoading = _state.isLoading;\n\n\n      var emailHelpText = null;\n      if (emailProtected) {\n        var emailHelpTextTpl = gettext(\"Your e-mail address has been verified by %(backend)s.\");\n        emailHelpText = interpolate(emailHelpTextTpl, { backend: backend_name }, true);\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-social-auth page-social-sauth-register' },\n        _react2.default.createElement(_header2.default, { backendName: backend_name }),\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-md-6 col-md-offset-3' },\n              _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'panel panel-default panel-form' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'panel-heading' },\n                    _react2.default.createElement(\n                      'h3',\n                      { className: 'panel-title' },\n                      gettext(\"Complete your details\")\n                    )\n                  ),\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'panel-body' },\n                    _react2.default.createElement(\n                      _formGroup2.default,\n                      {\n                        'for': 'id_username',\n                        label: gettext(\"Username\"),\n                        validation: this.state.errors.username\n                      },\n                      _react2.default.createElement('input', {\n                        type: 'text',\n                        id: 'id_username',\n                        className: 'form-control',\n                        disabled: isLoading,\n                        onChange: this.bindInput('username'),\n                        value: username\n                      })\n                    ),\n                    _react2.default.createElement(\n                      _formGroup2.default,\n                      {\n                        'for': 'id_email',\n                        label: gettext(\"E-mail address\"),\n                        helpText: emailHelpText,\n                        validation: emailProtected ? null : this.state.errors.email\n                      },\n                      _react2.default.createElement('input', {\n                        type: 'email',\n                        id: 'id_email',\n                        className: 'form-control',\n                        disabled: isLoading || emailProtected,\n                        onChange: this.bindInput('email'),\n                        value: email\n                      })\n                    ),\n                    _react2.default.createElement(_RegisterLegalFootnote2.default, null)\n                  ),\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'panel-footer' },\n                    _react2.default.createElement(\n                      _button2.default,\n                      { className: 'btn-primary', loading: this.state.isLoading },\n                      gettext(\"Sign in\")\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return Register;\n}(_form2.default);\n\nexports.default = Register;\n\n},{\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../utils/validators\":389,\"../RegisterLegalFootnote\":1,\"../button\":7,\"../form\":54,\"../form-group\":53,\"./header\":211,\"react\":\"react\"}],214:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"page-breadcrumbs\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"container\" },\n      _react2.default.createElement(\n        \"ol\",\n        { className: \"breadcrumb hidden-xs\" },\n        props.path.map(function (item) {\n          return _react2.default.createElement(Breadcrumb, {\n            key: item.id,\n            node: item\n          });\n        })\n      ),\n      _react2.default.createElement(GoBack, props)\n    )\n  );\n};\n\nexports.Breadcrumb = Breadcrumb;\nexports.GoBack = GoBack;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction Breadcrumb(props) {\n  return _react2.default.createElement(\n    \"li\",\n    null,\n    _react2.default.createElement(\n      \"a\",\n      { href: props.node.url.index },\n      props.node.name\n    )\n  );\n}\n\nfunction GoBack(props) {\n  var lastItem = props.path[props.path.length - 1];\n\n  return _react2.default.createElement(\n    \"a\",\n    { href: lastItem.url.index, className: \"go-back-sm visible-xs-block\" },\n    _react2.default.createElement(\n      \"span\",\n      { className: \"material-icon\" },\n      \"chevron_left\"\n    ),\n    lastItem.name\n  );\n}\n/* jshint ignore:end */\n\n},{\"react\":\"react\"}],215:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Moderation = Moderation;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _breadcrumbs = require('./breadcrumbs');\n\nvar _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);\n\nvar _thread = require('../moderation/thread');\n\nvar _stats = require('./stats');\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _validators = require('../../posting/utils/validators');\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _thread2 = require('../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.changeValue('title', event.target.value);\n    };\n\n    _this.onEdit = function () {\n      _this.setState({\n        isEditing: true\n      });\n    };\n\n    _this.onCancel = function () {\n      _this.setState({\n        title: _this.props.thread.title,\n\n        isEditing: false\n      });\n    };\n\n    _this.state = {\n      isEditing: false,\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: (0, _validators.getTitleValidators)()\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.title.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter thread title.\"));\n        return false;\n      }\n\n      var errors = this.validate();\n\n      if (errors.title) {\n        _snackbar2.default.error(errors.title[0]);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(data) {\n      _store2.default.dispatch(thread.update(data));\n\n      this.setState({\n        'isEditing': false\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(rejection.detail[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          thread = _props.thread,\n          user = _props.user;\n\n      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);\n\n      if (this.state.isEditing) {\n        return _react2.default.createElement(\n          'div',\n          { className: 'page-header' },\n          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),\n          _react2.default.createElement(\n            'div',\n            { className: 'container' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row xs-margin-top title-edit-form' },\n              _react2.default.createElement(\n                'form',\n                { onSubmit: this.handleSubmit },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'col-sm-6 col-md-6' },\n                  _react2.default.createElement('input', {\n                    className: 'form-control',\n                    type: 'text',\n                    value: this.state.title,\n                    onChange: this.onChange\n                  })\n                ),\n                _react2.default.createElement(\n                  'div',\n                  { className: 'col-sm-6 col-md-4' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'row xs-margin-top-half sm-margin-top-no md-margin-top-no' },\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-6' },\n                      _react2.default.createElement(\n                        'button',\n                        {\n                          className: 'btn btn-primary btn-block btn-outline',\n                          disabled: this.state.isLoading,\n                          title: gettext(\"Change title\")\n                        },\n                        gettext(\"Save changes\")\n                      )\n                    ),\n                    _react2.default.createElement(\n                      'div',\n                      { className: 'col-xs-6' },\n                      _react2.default.createElement(\n                        'button',\n                        {\n                          className: 'btn btn-default btn-block btn-outline',\n                          disabled: this.state.isLoading,\n                          onClick: this.onCancel,\n                          title: gettext(\"Cancel\"),\n                          type: 'button'\n                        },\n                        gettext(\"Cancel\")\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(_stats2.default, { thread: thread })\n        );\n      } else if (user.id && thread.acl.can_edit) {\n        return _react2.default.createElement(\n          'div',\n          { className: 'page-header' },\n          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),\n          _react2.default.createElement(\n            'div',\n            { className: 'container' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: showModeration ? \"col-sm-9 col-md-8\" : \"col-sm-10 col-md-10\" },\n                _react2.default.createElement(\n                  'h1',\n                  null,\n                  thread.title\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: showModeration ? \"col-sm-3 col-md-4\" : \"col-sm-3 col-md-2\" },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'row xs-margin-top md-margin-top-no' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: showModeration ? \"col-xs-6\" : \"col-xs-12\" },\n                    _react2.default.createElement(\n                      'button',\n                      {\n                        className: 'btn btn-default btn-block btn-outline',\n                        onClick: this.onEdit,\n                        title: gettext(\"Edit title\"),\n                        type: 'button'\n                      },\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'material-icon' },\n                        'edit'\n                      ),\n                      _react2.default.createElement(\n                        'span',\n                        { className: 'hidden-sm' },\n                        gettext(\"Edit\")\n                      )\n                    )\n                  ),\n                  showModeration && _react2.default.createElement(Moderation, this.props)\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(_stats2.default, { thread: thread })\n        );\n      } else if (showModeration) {\n        return _react2.default.createElement(\n          'div',\n          { className: 'page-header' },\n          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),\n          _react2.default.createElement(\n            'div',\n            { className: 'container' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: 'col-sm-9 col-md-10' },\n                _react2.default.createElement(\n                  'h1',\n                  null,\n                  thread.title\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'col-sm-3 col-md-2' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'row xs-margin-top md-margin-top-no' },\n                  _react2.default.createElement(Moderation, _extends({\n                    isSingle: true\n                  }, this.props))\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(_stats2.default, { thread: thread })\n        );\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'page-header' },\n        _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'h1',\n            null,\n            thread.title\n          )\n        ),\n        _react2.default.createElement(_stats2.default, { thread: thread })\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction Moderation(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: props.isSingle ? \"col-xs-12\" : \"col-xs-6\" },\n    _react2.default.createElement(\n      'div',\n      { className: 'btn-group btn-group-justified' },\n      _react2.default.createElement(\n        'div',\n        { className: 'btn-group' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-expanded': 'false',\n            'aria-haspopup': 'true',\n            className: 'btn btn-default btn-outline dropdown-toggle',\n            'data-toggle': 'dropdown',\n            disabled: props.thread.isBusy,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'settings'\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: props.isSingle ? \"\" : \"hidden-sm\" },\n            gettext(\"Moderation\")\n          )\n        ),\n        _react2.default.createElement(_thread.ModerationControls, {\n          posts: props.posts,\n          thread: props.thread,\n          user: props.user\n        })\n      )\n    )\n  );\n}\n\n},{\"../../../reducers/thread\":356,\"../../../services/ajax\":361,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../form\":54,\"../../posting/utils/validators\":141,\"../moderation/thread\":224,\"./breadcrumbs\":214,\"./stats\":216,\"react\":\"react\"}],216:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Weight = Weight;\nexports.Unapproved = Unapproved;\nexports.IsHidden = IsHidden;\nexports.IsClosed = IsClosed;\nexports.Replies = Replies;\nexports.LastReply = LastReply;\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'header-stats' },\n    _react2.default.createElement(\n      'div',\n      { className: 'container' },\n      _react2.default.createElement(\n        'ul',\n        { className: 'list-inline' },\n        _react2.default.createElement(Weight, { thread: props.thread }),\n        _react2.default.createElement(Unapproved, { thread: props.thread }),\n        _react2.default.createElement(IsHidden, { thread: props.thread }),\n        _react2.default.createElement(IsClosed, { thread: props.thread }),\n        _react2.default.createElement(Replies, { thread: props.thread }),\n        _react2.default.createElement(LastReply, { thread: props.thread })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _escapeHtml = require('../../../utils/escape-html');\n\nvar _escapeHtml2 = _interopRequireDefault(_escapeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nvar LAST_POSTER_URL = '<a href=\"%(url)s\" class=\"poster-title\">%(user)s</a>';\nvar LAST_POSTER_SPAN = '<span class=\"poster-title\">%(user)s</span>';\nvar LAST_REPLY = '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>';\n\nfunction Weight(props) {\n  if (props.thread.weight == 2) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-pinned-globally' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'bookmark'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Pinned globally\")\n      )\n    );\n  } else if (props.thread.weight == 1) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-pinned-locally' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'bookmark_border'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Pinned locally\")\n      )\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction Unapproved(props) {\n  if (props.thread.is_unapproved) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-unapproved' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'remove_circle'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Unapproved\")\n      )\n    );\n  } else if (props.thread.has_unapproved_posts) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-unapproved-posts' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'remove_circle_outline'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Unapproved posts\")\n      )\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction IsHidden(props) {\n  if (props.thread.is_hidden) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-hidden' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'visibility_off'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Hidden\")\n      )\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction IsClosed(props) {\n  if (props.thread.is_closed) {\n    return _react2.default.createElement(\n      'li',\n      { className: 'thread-closed' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'lock_outline'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'icon-legend' },\n        gettext(\"Closed\")\n      )\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction Replies(props) {\n  var message = ngettext(\"%(replies)s reply\", \"%(replies)s replies\", props.thread.replies);\n  var legend = interpolate(message, { 'replies': props.thread.replies }, true);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'thread-replies' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'forum'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'icon-legend' },\n      legend\n    )\n  );\n}\n\n/* jshint ignore:end */\nfunction LastReply(props) {\n  var user = null;\n  if (props.thread.url.last_poster) {\n    user = interpolate(LAST_POSTER_URL, {\n      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),\n      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)\n    }, true);\n  } else {\n    user = interpolate(LAST_POSTER_SPAN, {\n      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)\n    }, true);\n  };\n\n  var date = interpolate(LAST_REPLY, {\n    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),\n    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())\n  }, true);\n\n  var message = interpolate((0, _escapeHtml2.default)(gettext(\"last reply by %(user)s %(date)s\")), {\n    date: date, user: user\n  }, true);\n\n  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });\n}\n\n},{\"../../../utils/escape-html\":379,\"react\":\"react\"}],217:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.approve = approve;\nexports.protect = protect;\nexports.unprotect = unprotect;\nexports.hide = hide;\nexports.unhide = unhide;\nexports.patch = patch;\nexports.merge = merge;\nexports.remove = remove;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _posts = require('../../../../reducers/posts');\n\nvar posts = _interopRequireWildcard(_posts);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _errorsList = require('./errors-list');\n\nvar _errorsList2 = _interopRequireDefault(_errorsList);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\nfunction approve(props) {\n  var selection = props.selection;\n\n\n  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];\n\n  var newState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_unapproved: false\n    };\n  });\n\n  var previousState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved\n    };\n  });\n\n  patch(props, ops, newState, previousState);\n} // jshint ignore:line\n// jshint ignore:line\nfunction protect(props) {\n  var selection = props.selection;\n\n\n  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];\n\n  var newState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_protected: true\n    };\n  });\n\n  var previousState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_protected: post.is_protected\n    };\n  });\n\n  patch(props, ops, newState, previousState);\n}\n\nfunction unprotect(props) {\n  var selection = props.selection;\n\n\n  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];\n\n  var newState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_protected: false\n    };\n  });\n\n  var previousState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_protected: post.is_protected\n    };\n  });\n\n  patch(props, ops, newState, previousState);\n}\n\nfunction hide(props) {\n  var selection = props.selection;\n\n\n  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];\n\n  var newState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: (0, _moment2.default)(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url\n      })\n    };\n  });\n\n  var previousState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url\n    };\n  });\n\n  patch(props, ops, newState, previousState);\n}\n\nfunction unhide(props) {\n  var selection = props.selection;\n\n\n  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];\n\n  var newState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: (0, _moment2.default)(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url\n      })\n    };\n  });\n\n  var previousState = selection.map(function (post) {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url\n    };\n  });\n\n  patch(props, ops, newState, previousState);\n}\n\nfunction patch(props, ops, newState, previousState) {\n  var selection = props.selection,\n      thread = props.thread;\n\n  // patch selected items\n\n  newState.forEach(function (item) {\n    post.patch(item, item);\n  });\n\n  // deselect all the things\n  _store2.default.dispatch(posts.deselectAll());\n\n  // call ajax\n  var data = {\n    ops: ops,\n\n    ids: selection.map(function (post) {\n      return post.id;\n    })\n  };\n\n  _ajax2.default.patch(thread.api.posts.index, data).then(function (data) {\n    data.forEach(function (item) {\n      _store2.default.dispatch(post.patch(item, item));\n    });\n  }, function (rejection) {\n    if (rejection.status !== 400) {\n      // rollback all\n      previousState.forEach(function (item) {\n        _store2.default.dispatch(post.patch(item, item));\n      });\n      return _snackbar2.default.apiError(rejection);\n    }\n\n    var errors = [];\n    var rollback = [];\n\n    rejection.forEach(function (item) {\n      if (item.detail) {\n        errors.push(item);\n        rollback.push(item.id);\n      } else {\n        _store2.default.dispatch(post.patch(item, item));\n      }\n\n      previousState.forEach(function (item) {\n        if (rollback.indexOf(item) !== -1) {\n          _store2.default.dispatch(post.patch(item, item));\n        }\n      });\n    });\n\n    var posts = {};\n    selection.forEach(function (item) {\n      posts[item.id] = item;\n    });\n\n    /* jshint ignore:start */\n    _modal2.default.show(_react2.default.createElement(_errorsList2.default, {\n      errors: errors,\n      posts: posts\n    }));\n    /* jshint ignore:end */\n  });\n}\n\nfunction merge(props) {\n  var confirmed = confirm(gettext(\"Are you sure you want to merge selected posts? This action is not reversible!\"));\n  if (!confirmed) {\n    return;\n  }\n\n  props.selection.slice(1).map(function (selection) {\n    _store2.default.dispatch(post.patch(selection, {\n      isDeleted: true\n    }));\n  });\n\n  _ajax2.default.post(props.thread.api.posts.merge, {\n    posts: props.selection.map(function (post) {\n      return post.id;\n    })\n  }).then(function (data) {\n    _store2.default.dispatch(post.patch(data, post.hydrate(data)));\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    props.selection.slice(1).map(function (selection) {\n      _store2.default.dispatch(post.patch(selection, {\n        isDeleted: false\n      }));\n    });\n  });\n\n  _store2.default.dispatch(posts.deselectAll());\n}\n\nfunction remove(props) {\n  var confirmed = confirm(gettext(\"Are you sure you want to delete selected posts? This action is not reversible!\"));\n  if (!confirmed) {\n    return;\n  }\n\n  props.selection.map(function (selection) {\n    _store2.default.dispatch(post.patch(selection, {\n      isDeleted: true\n    }));\n  });\n\n  var ids = props.selection.map(function (post) {\n    return post.id;\n  });\n\n  _ajax2.default.delete(props.thread.api.posts.index, ids).then(function () {\n    return;\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    props.selection.map(function (selection) {\n      _store2.default.dispatch(post.patch(selection, {\n        isDeleted: false\n      }));\n    });\n  });\n\n  _store2.default.dispatch(posts.deselectAll());\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../reducers/posts\":350,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"./errors-list\":219,\"moment\":\"moment\",\"react\":\"react\"}],218:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: 'dropdown-menu' },\n    _react2.default.createElement(Approve, props),\n    _react2.default.createElement(Merge, props),\n    _react2.default.createElement(Move, props),\n    _react2.default.createElement(Split, props),\n    _react2.default.createElement(Protect, props),\n    _react2.default.createElement(Unprotect, props),\n    _react2.default.createElement(Unhide, props),\n    _react2.default.createElement(Hide, props),\n    _react2.default.createElement(Delete, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _actions = require('./actions');\n\nvar moderation = _interopRequireWildcard(_actions);\n\nvar _move = require('./move');\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _split = require('./split');\n\nvar _split2 = _interopRequireDefault(_split);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar Approve = exports.Approve = function (_React$Component) {\n  _inherits(Approve, _React$Component);\n\n  function Approve() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Approve);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      moderation.approve(_this.props);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Approve, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_approve && post.is_unapproved;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'done'\n          ),\n          gettext(\"Approve\")\n        )\n      );\n    }\n  }]);\n\n  return Approve;\n}(_react2.default.Component);\n\nvar Merge = exports.Merge = function (_React$Component2) {\n  _inherits(Merge, _React$Component2);\n\n  function Merge() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, Merge);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      moderation.merge(_this2.props);\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(Merge, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {\n        return post.acl.can_merge;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'call_merge'\n          ),\n          gettext(\"Merge\")\n        )\n      );\n    }\n  }]);\n\n  return Merge;\n}(_react2.default.Component);\n\nvar Move = exports.Move = function (_React$Component3) {\n  _inherits(Move, _React$Component3);\n\n  function Move() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, Move);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(Move, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_move;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          gettext(\"Move\")\n        )\n      );\n    }\n  }]);\n\n  return Move;\n}(_react2.default.Component);\n\nvar Split = exports.Split = function (_React$Component4) {\n  _inherits(Split, _React$Component4);\n\n  function Split() {\n    var _ref4;\n\n    var _temp4, _this4, _ret4;\n\n    _classCallCheck(this, Split);\n\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {\n      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));\n    }, _temp4), _possibleConstructorReturn(_this4, _ret4);\n  }\n\n  _createClass(Split, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_move;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'call_split'\n          ),\n          gettext(\"Split\")\n        )\n      );\n    }\n  }]);\n\n  return Split;\n}(_react2.default.Component);\n\nvar Protect = exports.Protect = function (_React$Component5) {\n  _inherits(Protect, _React$Component5);\n\n  function Protect() {\n    var _ref5;\n\n    var _temp5, _this5, _ret5;\n\n    _classCallCheck(this, Protect);\n\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {\n      moderation.protect(_this5.props);\n    }, _temp5), _possibleConstructorReturn(_this5, _ret5);\n  }\n\n  _createClass(Protect, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return !post.is_protected && post.acl.can_protect;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_outline'\n          ),\n          gettext(\"Protect\")\n        )\n      );\n    }\n  }]);\n\n  return Protect;\n}(_react2.default.Component);\n\nvar Unprotect = exports.Unprotect = function (_React$Component6) {\n  _inherits(Unprotect, _React$Component6);\n\n  function Unprotect() {\n    var _ref6;\n\n    var _temp6, _this6, _ret6;\n\n    _classCallCheck(this, Unprotect);\n\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {\n      moderation.unprotect(_this6.props);\n    }, _temp6), _possibleConstructorReturn(_this6, _ret6);\n  }\n\n  _createClass(Unprotect, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.is_protected && post.acl.can_protect;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_open'\n          ),\n          gettext(\"Unprotect\")\n        )\n      );\n    }\n  }]);\n\n  return Unprotect;\n}(_react2.default.Component);\n\nvar Hide = exports.Hide = function (_React$Component7) {\n  _inherits(Hide, _React$Component7);\n\n  function Hide() {\n    var _ref7;\n\n    var _temp7, _this7, _ret7;\n\n    _classCallCheck(this, Hide);\n\n    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {\n      moderation.hide(_this7.props);\n    }, _temp7), _possibleConstructorReturn(_this7, _ret7);\n  }\n\n  _createClass(Hide, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_hide && !post.is_hidden;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility_off'\n          ),\n          gettext(\"Hide\")\n        )\n      );\n    }\n  }]);\n\n  return Hide;\n}(_react2.default.Component);\n\nvar Unhide = exports.Unhide = function (_React$Component8) {\n  _inherits(Unhide, _React$Component8);\n\n  function Unhide() {\n    var _ref8;\n\n    var _temp8, _this8, _ret8;\n\n    _classCallCheck(this, Unhide);\n\n    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n\n    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {\n      moderation.unhide(_this8.props);\n    }, _temp8), _possibleConstructorReturn(_this8, _ret8);\n  }\n\n  _createClass(Unhide, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_unhide && post.is_hidden;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility'\n          ),\n          gettext(\"Unhide\")\n        )\n      );\n    }\n  }]);\n\n  return Unhide;\n}(_react2.default.Component);\n\nvar Delete = exports.Delete = function (_React$Component9) {\n  _inherits(Delete, _React$Component9);\n\n  function Delete() {\n    var _ref9;\n\n    var _temp9, _this9, _ret9;\n\n    _classCallCheck(this, Delete);\n\n    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n\n    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {\n      moderation.remove(_this9.props);\n    }, _temp9), _possibleConstructorReturn(_this9, _ret9);\n  }\n\n  _createClass(Delete, [{\n    key: 'render',\n    value: function render() {\n      var isVisible = this.props.selection.find(function (post) {\n        return post.acl.can_delete;\n      });\n\n      if (!isVisible) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { type: 'button', className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'clear'\n          ),\n          gettext(\"Delete\")\n        )\n      );\n    }\n  }]);\n\n  return Delete;\n}(_react2.default.Component);\n\n},{\"../../../../services/modal\":367,\"./actions\":217,\"./move\":221,\"./split\":222,\"react\":\"react\"}],219:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var errors = _ref.errors,\n      posts = _ref.posts;\n\n  return _react2.default.createElement(\n    \"div\",\n    { className: \"modal-dialog\", role: \"document\" },\n    _react2.default.createElement(\n      \"div\",\n      { className: \"modal-content\" },\n      _react2.default.createElement(\n        \"div\",\n        { className: \"modal-header\" },\n        _react2.default.createElement(\n          \"button\",\n          {\n            \"aria-label\": gettext(\"Close\"),\n            className: \"close\",\n            \"data-dismiss\": \"modal\",\n            type: \"button\"\n          },\n          _react2.default.createElement(\n            \"span\",\n            { \"aria-hidden\": \"true\" },\n            \"\\xD7\"\n          )\n        ),\n        _react2.default.createElement(\n          \"h4\",\n          { className: \"modal-title\" },\n          gettext(\"Moderation\")\n        )\n      ),\n      _react2.default.createElement(\n        \"div\",\n        { className: \"modal-body\" },\n        _react2.default.createElement(\n          \"p\",\n          { className: \"lead\" },\n          gettext(\"One or more posts could not be changed:\")\n        ),\n        _react2.default.createElement(\n          \"ul\",\n          { className: \"list-unstyled list-errored-items\" },\n          errors.map(function (post) {\n            return _react2.default.createElement(PostErrors, {\n              errors: post.detail,\n              key: post.id,\n              post: posts[post.id]\n            });\n          })\n        )\n      )\n    )\n  );\n};\n\nexports.PostErrors = PostErrors;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction PostErrors(_ref2) {\n  var errors = _ref2.errors,\n      post = _ref2.post;\n\n  var heading = interpolate(gettext(\"%(username)s on %(posted_on)s\"), {\n    posted_on: post.posted_on.format('LL, LT'),\n    username: post.poster_name\n  }, true);\n\n  return _react2.default.createElement(\n    \"li\",\n    null,\n    _react2.default.createElement(\n      \"h5\",\n      null,\n      heading,\n      \":\"\n    ),\n    errors.map(function (error, i) {\n      return _react2.default.createElement(\n        \"p\",\n        { key: i },\n        error\n      );\n    })\n  );\n}\n\n},{\"react\":\"react\"}],220:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n\n\nexports.default = function (props) {\n  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {\n    return null;\n  }\n\n  var selection = props.posts.results.filter(function (post) {\n    return post.isSelected;\n  });\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'dropup' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-expanded': 'true',\n        'aria-haspopup': 'true',\n        className: 'btn btn-default dropdown-toggle btn-block btn-outline',\n        'data-toggle': 'dropdown',\n        disabled: !selection.length,\n        type: 'button'\n      },\n      gettext(\"Posts options\")\n    ),\n    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))\n  );\n};\n\nexports.isVisible = isVisible;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _dropdown = require('./dropdown');\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isVisible(thread, posts) {\n  if (thread.acl.can_merge_posts && posts.length > 1) {\n    // fast test: show moderation menu if we can merge posts\n    return true;\n  }\n\n  // slow test: show moderation if any of posts has moderation options\n  var visible = false;\n  posts.forEach(function (post) {\n    if (!post.is_event) {\n      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;\n\n      if (showModeration) {\n        visible = true;\n      }\n    }\n  });\n  return visible;\n}\n\n},{\"./dropdown\":218,\"react\":\"react\"}],221:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalHeader = ModalHeader;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onUrlChange = function (event) {\n      _this.changeValue('url', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      url: '',\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.url.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter link to the other thread.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.thread.api.posts.move, {\n        new_thread: this.state.url,\n        posts: this.props.selection.map(function (post) {\n          return post.id;\n        })\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(success) {\n      this.props.selection.forEach(function (selection) {\n        _store2.default.dispatch(post.patch(selection, {\n          isDeleted: true\n        }));\n      });\n\n      _modal2.default.hide();\n\n      _snackbar2.default.success(gettext(\"Selected posts were moved to the other thread.\"));\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(rejection.detail);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog', role: 'document' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-content' },\n            _react2.default.createElement(ModalHeader, null),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  'for': 'id_url',\n                  label: gettext(\"Link to thread you want to move posts to\")\n                },\n                _react2.default.createElement('input', {\n                  className: 'form-control',\n                  disabled: this.state.isLoading,\n                  id: 'id_url',\n                  onChange: this.onUrlChange,\n                  value: this.state.url\n                })\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default',\n                  'data-dismiss': 'modal',\n                  disabled: this.state.isLoading,\n                  type: 'button'\n                },\n                gettext(\"Cancel\")\n              ),\n              _react2.default.createElement(\n                'button',\n                { className: 'btn btn-primary', loading: this.state.isLoading },\n                gettext(\"Move posts\")\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\nfunction ModalHeader(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-header' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-label': gettext(\"Close\"),\n        className: 'close',\n        'data-dismiss': 'modal',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { 'aria-hidden': 'true' },\n        '\\xD7'\n      )\n    ),\n    _react2.default.createElement(\n      'h4',\n      { className: 'modal-title' },\n      gettext(\"Move posts\")\n    )\n  );\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../button\":7,\"../../../form\":54,\"../../../form-group\":53,\"react\":\"react\"}],222:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModerationForm = exports.PostingConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));\n};\n\nexports.Loader = Loader;\nexports.Error = Error;\nexports.Modal = Modal;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _categorySelect = require('../../../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _modalLoader = require('../../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _select = require('../../../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _post = require('../../../../reducers/post');\n\nvar post = _interopRequireWildcard(_post);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _validators = require('../../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PostingConfig = exports.PostingConfig = function (_React$Component) {\n  _inherits(PostingConfig, _React$Component);\n\n  function PostingConfig(props) {\n    _classCallCheck(this, PostingConfig);\n\n    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));\n\n    _this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: []\n    };\n    return _this;\n  }\n\n  _createClass(PostingConfig, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {\n        // hydrate categories, extract posting options\n        var categories = data.map(function (item) {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post\n          });\n        });\n\n        _this2.setState({\n          isLoaded: true,\n          categories: categories\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isError: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.isError) {\n        return _react2.default.createElement(Error, { message: this.state.isError });\n      } else if (this.state.isLoaded) {\n        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));\n      } else {\n        return _react2.default.createElement(Loader, null);\n      }\n    }\n  }]);\n\n  return PostingConfig;\n}(_react2.default.Component);\n\nvar ModerationForm = exports.ModerationForm = function (_Form) {\n  _inherits(ModerationForm, _Form);\n\n  function ModerationForm(props) {\n    _classCallCheck(this, ModerationForm);\n\n    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));\n\n    _this3.onCategoryChange = function (ev) {\n      var categoryId = ev.target.value;\n      var newState = {\n        category: categoryId\n      };\n\n      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {\n        newState.weight = 0;\n      }\n\n      if (!_this3.acl[categoryId].can_hide_threads) {\n        newState.is_hidden = 0;\n      }\n\n      if (!_this3.acl[categoryId].can_close_threads) {\n        newState.is_closed = false;\n      }\n\n      _this3.setState(newState);\n    };\n\n    _this3.state = {\n      isLoading: false,\n\n      title: '',\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    };\n\n    _this3.isHiddenChoices = [{\n      'value': 0,\n      'icon': 'visibility',\n      'label': gettext(\"No\")\n    }, {\n      'value': 1,\n      'icon': 'visibility_off',\n      'label': gettext(\"Yes\")\n    }];\n\n    _this3.isClosedChoices = [{\n      'value': false,\n      'icon': 'lock_outline',\n      'label': gettext(\"No\")\n    }, {\n      'value': true,\n      'icon': 'lock',\n      'label': gettext(\"Yes\")\n    }];\n\n    _this3.acl = {};\n    _this3.props.categories.forEach(function (category) {\n      if (category.post) {\n        if (!_this3.state.category) {\n          _this3.state.category = category.id;\n        }\n\n        _this3.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide\n        };\n      }\n    });\n    return _this3;\n  }\n\n  _createClass(ModerationForm, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          errors: this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(this.props.thread.api.posts.split, {\n        title: this.state.title,\n        category: this.state.category,\n        weight: this.state.weight,\n        is_hidden: this.state.is_hidden,\n        is_closed: this.state.is_closed,\n        posts: this.props.selection.map(function (post) {\n          return post.id;\n        })\n      });\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(apiResponse) {\n      this.props.selection.forEach(function (selection) {\n        _store2.default.dispatch(post.patch(selection, {\n          isDeleted: true\n        }));\n      });\n\n      _modal2.default.hide();\n\n      _snackbar2.default.success(gettext(\"Selected posts were split into new thread.\"));\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        this.setState({\n          'errors': Object.assign({}, this.state.errors, rejection)\n        });\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n      } else if (rejection.status === 403 && Array.isArray(rejection)) {\n        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n  }, {\n    key: 'getWeightChoices',\n    value: function getWeightChoices() {\n      var choices = [{\n        'value': 0,\n        'icon': 'remove',\n        'label': gettext(\"Not pinned\")\n      }, {\n        'value': 1,\n        'icon': 'bookmark_border',\n        'label': gettext(\"Pinned locally\")\n      }];\n\n      if (this.acl[this.state.category].can_pin_threads == 2) {\n        choices.push({\n          'value': 2,\n          'icon': 'bookmark',\n          'label': gettext(\"Pinned globally\")\n        });\n      }\n\n      return choices;\n    }\n  }, {\n    key: 'renderWeightField',\n    value: function renderWeightField() {\n      if (this.acl[this.state.category].can_pin_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Thread weight\"),\n            'for': 'id_weight',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_weight',\n            onChange: this.bindInput('weight'),\n            value: this.state.weight,\n            choices: this.getWeightChoices() })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderHiddenField',\n    value: function renderHiddenField() {\n      if (this.acl[this.state.category].can_hide_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Hide thread\"),\n            'for': 'id_is_hidden',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_hidden'),\n            value: this.state.is_hidden,\n            choices: this.isHiddenChoices })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderClosedField',\n    value: function renderClosedField() {\n      if (this.acl[this.state.category].can_close_threads) {\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Close thread\"),\n            'for': 'id_is_closed',\n            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_closed'),\n            value: this.state.is_closed,\n            choices: this.isClosedChoices })\n        );\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        Modal,\n        { className: 'modal-dialog' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-body' },\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Thread title\"),\n                'for': 'id_title',\n                labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                validation: this.state.errors.title },\n              _react2.default.createElement('input', { id: 'id_title',\n                className: 'form-control',\n                type: 'text',\n                onChange: this.bindInput('title'),\n                value: this.state.title })\n            ),\n            _react2.default.createElement('div', { className: 'clearfix' }),\n            _react2.default.createElement(\n              _formGroup2.default,\n              { label: gettext(\"Category\"),\n                'for': 'id_category',\n                labelClass: 'col-sm-4', controlClass: 'col-sm-8',\n                validation: this.state.errors.category },\n              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',\n                onChange: this.onCategoryChange,\n                value: this.state.category,\n                choices: this.state.categories })\n            ),\n            _react2.default.createElement('div', { className: 'clearfix' }),\n            this.renderWeightField(),\n            this.renderHiddenField(),\n            this.renderClosedField()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-footer' },\n            _react2.default.createElement(\n              'button',\n              {\n                className: 'btn btn-default',\n                'data-dismiss': 'modal',\n                disabled: this.state.isLoading,\n                type: 'button'\n              },\n              gettext(\"Cancel\")\n            ),\n            _react2.default.createElement(\n              _button2.default,\n              { className: 'btn-primary', loading: this.state.isLoading },\n              gettext(\"Split posts\")\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ModerationForm;\n}(_form2.default);\n\nfunction Loader() {\n  return _react2.default.createElement(\n    Modal,\n    { className: 'modal-dialog' },\n    _react2.default.createElement(_modalLoader2.default, null)\n  );\n}\n\nfunction Error(props) {\n  return _react2.default.createElement(\n    Modal,\n    { className: 'modal-dialog modal-message' },\n    _react2.default.createElement(\n      'div',\n      { className: 'message-icon' },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'info_outline'\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'message-body' },\n      _react2.default.createElement(\n        'p',\n        { className: 'lead' },\n        gettext(\"You can't move selected posts at the moment.\")\n      ),\n      _react2.default.createElement(\n        'p',\n        null,\n        props.message\n      ),\n      _react2.default.createElement(\n        'button',\n        {\n          className: 'btn btn-default',\n          'data-dismiss': 'modal',\n          type: 'button'\n        },\n        gettext(\"Ok\")\n      )\n    )\n  );\n}\n\nfunction Modal(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: props.className, role: 'document' },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(\n        'div',\n        { className: 'modal-header' },\n        _react2.default.createElement(\n          'button',\n          {\n            'aria-label': gettext(\"Close\"),\n            className: 'close',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { 'aria-hidden': 'true' },\n            '\\xD7'\n          )\n        ),\n        _react2.default.createElement(\n          'h4',\n          { className: 'modal-title' },\n          gettext(\"Split posts into new thread\")\n        )\n      ),\n      props.children\n    )\n  );\n}\n\n},{\"../../../../reducers/post\":349,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../../utils/validators\":389,\"../../../button\":7,\"../../../category-select\":20,\"../../../form\":54,\"../../../form-group\":53,\"../../../modal-loader\":59,\"../../../select\":207,\"react\":\"react\"}],223:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _merge = require('./merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _move = require('./move');\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _thread = require('../../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {\n      _store2.default.dispatch(thread.busy());\n\n      // by the chance update thread acl too\n      ops.push({ op: 'add', path: 'acl', value: true });\n\n      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {\n        _store2.default.dispatch(thread.update(data));\n        _store2.default.dispatch(thread.release());\n        _snackbar2.default.success(successMessage);\n      }, function (rejection) {\n        _store2.default.dispatch(thread.release());\n        if (rejection.status === 400) {\n          _snackbar2.default.error(rejection.detail[0]);\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n      });\n    }, _this.pinGlobally = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 2\n      }], gettext(\"Thread has been pinned globally.\"));\n    }, _this.pinLocally = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 1\n      }], gettext(\"Thread has been pinned locally.\"));\n    }, _this.unpin = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 0\n      }], gettext(\"Thread has been unpinned.\"));\n    }, _this.approve = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-unapproved',\n        value: false\n      }], gettext(\"Thread has been approved.\"));\n    }, _this.open = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-closed',\n        value: false\n      }], gettext(\"Thread has been opened.\"));\n    }, _this.close = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-closed',\n        value: true\n      }], gettext(\"Thread has been closed.\"));\n    }, _this.unhide = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-hidden',\n        value: false\n      }], gettext(\"Thread has been made visible.\"));\n    }, _this.hide = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-hidden',\n        value: true\n      }], gettext(\"Thread has been made hidden.\"));\n    }, _this.move = function () {\n      _modal2.default.show(_react2.default.createElement(_move2.default, {\n        posts: _this.props.posts,\n        thread: _this.props.thread\n      }));\n    }, _this.merge = function () {\n      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));\n    }, _this.delete = function () {\n      if (!confirm(gettext(\"Are you sure you want to delete this thread?\"))) {\n        return;\n      }\n\n      _store2.default.dispatch(thread.busy());\n\n      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {\n        _snackbar2.default.success(gettext(\"Thread has been deleted.\"));\n        window.location = _this.props.thread.category.url.index;\n      }, function (rejection) {\n        _store2.default.dispatch(thread.release());\n        _snackbar2.default.apiError(rejection);\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'getPinGloballyButton',\n    value: function getPinGloballyButton() {\n      if (this.props.thread.weight === 2) return null;\n      if (!this.props.thread.acl.can_pin_globally) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.pinGlobally,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'bookmark'\n          ),\n          gettext(\"Pin globally\")\n        )\n      );\n    }\n  }, {\n    key: 'getPinLocallyButton',\n    value: function getPinLocallyButton() {\n      if (this.props.thread.weight === 1) return null;\n      if (!this.props.thread.acl.can_pin) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.pinLocally,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'bookmark_border'\n          ),\n          gettext(\"Pin locally\")\n        )\n      );\n    }\n  }, {\n    key: 'getUnpinButton',\n    value: function getUnpinButton() {\n      if (this.props.thread.weight === 0) return null;\n      if (!this.props.thread.acl.can_pin) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.unpin,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'panorama_fish_eye'\n          ),\n          gettext(\"Unpin\")\n        )\n      );\n    }\n  }, {\n    key: 'getMoveButton',\n    value: function getMoveButton() {\n      if (!this.props.thread.acl.can_move) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.move,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          gettext(\"Move\")\n        )\n      );\n    }\n  }, {\n    key: 'getMergeButton',\n    value: function getMergeButton() {\n      if (!this.props.thread.acl.can_merge) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.merge,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'call_merge'\n          ),\n          gettext(\"Merge\")\n        )\n      );\n    }\n  }, {\n    key: 'getApproveButton',\n    value: function getApproveButton() {\n      if (!this.props.thread.is_unapproved) return null;\n      if (!this.props.thread.acl.can_approve) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.approve,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'done'\n          ),\n          gettext(\"Approve\")\n        )\n      );\n    }\n  }, {\n    key: 'getOpenButton',\n    value: function getOpenButton() {\n      if (!this.props.thread.is_closed) return null;\n      if (!this.props.thread.acl.can_close) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.open,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_open'\n          ),\n          gettext(\"Open\")\n        )\n      );\n    }\n  }, {\n    key: 'getCloseButton',\n    value: function getCloseButton() {\n      if (this.props.thread.is_closed) return null;\n      if (!this.props.thread.acl.can_close) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.close,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_outline'\n          ),\n          gettext(\"Close\")\n        )\n      );\n    }\n  }, {\n    key: 'getUnhideButton',\n    value: function getUnhideButton() {\n      if (!this.props.thread.is_hidden) return null;\n      if (!this.props.thread.acl.can_unhide) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.unhide,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility'\n          ),\n          gettext(\"Unhide\")\n        )\n      );\n    }\n  }, {\n    key: 'getHideButton',\n    value: function getHideButton() {\n      if (this.props.thread.is_hidden) return null;\n      if (!this.props.thread.acl.can_hide) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.hide,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility_off'\n          ),\n          gettext(\"Hide\")\n        )\n      );\n    }\n  }, {\n    key: 'getDeleteButton',\n    value: function getDeleteButton() {\n      if (!this.props.thread.acl.can_delete) return null;\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.delete,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'clear'\n          ),\n          gettext(\"Delete\")\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'ul',\n        { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },\n        this.getPinGloballyButton(),\n        this.getPinLocallyButton(),\n        this.getUnpinButton(),\n        this.getMoveButton(),\n        this.getMergeButton(),\n        this.getApproveButton(),\n        this.getOpenButton(),\n        this.getCloseButton(),\n        this.getUnhideButton(),\n        this.getHideButton(),\n        this.getDeleteButton()\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../../reducers/thread\":356,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"./merge\":226,\"./move\":227,\"react\":\"react\"}],224:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isModerationVisible = exports.ModerationControls = undefined;\n\nvar _controls = require('./controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _isVisible = require('./is-visible');\n\nvar _isVisible2 = _interopRequireDefault(_isVisible);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.ModerationControls = _controls2.default;\nexports.isModerationVisible = _isVisible2.default;\n\n},{\"./controls\":223,\"./is-visible\":225}],225:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (thread) {\n  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);\n};\n\n},{}],226:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalHeader = ModalHeader;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _mergeConflict = require('../../../merge-conflict');\n\nvar _mergeConflict2 = _interopRequireDefault(_mergeConflict);\n\nvar _thread = require('../../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.handleSuccess = function (success) {\n      _this.handleSuccessUnmounted(success);\n\n      // keep form loading\n      _this.setState({\n        'isLoading': true\n      });\n    };\n\n    _this.handleSuccessUnmounted = function (success) {\n      _snackbar2.default.success(gettext(\"Thread has been merged with other one.\"));\n      window.location = success.url;\n    };\n\n    _this.handleError = function (rejection) {\n      _store2.default.dispatch(thread.release());\n\n      if (rejection.status === 400) {\n        if (rejection.best_answers || rejection.polls) {\n          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {\n            api: _this.props.thread.api.merge,\n            bestAnswers: rejection.best_answers,\n            data: { other_thread: _this.state.url },\n            polls: rejection.polls,\n            onError: _this.handleError,\n            onSuccess: _this.handleSuccessUnmounted\n          }));\n        } else if (rejection.best_answer) {\n          _snackbar2.default.error(rejection.best_answer[0]);\n        } else if (rejection.poll) {\n          _snackbar2.default.error(rejection.poll[0]);\n        } else {\n          _snackbar2.default.error(rejection.detail);\n        }\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    };\n\n    _this.onUrlChange = function (event) {\n      _this.changeValue('url', event.target.value);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      url: '',\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (!this.state.url.trim().length) {\n        _snackbar2.default.error(gettext(\"You have to enter link to the other thread.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // freeze thread\n      _store2.default.dispatch(thread.busy());\n\n      return _ajax2.default.post(this.props.thread.api.merge, {\n        other_thread: this.state.url\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog', role: 'document' },\n        _react2.default.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-content' },\n            _react2.default.createElement(ModalHeader, null),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-body' },\n              _react2.default.createElement(\n                _formGroup2.default,\n                {\n                  'for': 'id_url',\n                  label: gettext(\"Link to thread you want to merge with\"),\n                  help_text: gettext(\"Merge will delete current thread and move its contents to the thread specified here.\")\n                },\n                _react2.default.createElement('input', {\n                  className: 'form-control',\n                  disabled: this.state.isLoading || this.props.thread.isBusy,\n                  id: 'id_url',\n                  onChange: this.onUrlChange,\n                  value: this.state.url\n                })\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-footer' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default',\n                  'data-dismiss': 'modal',\n                  disabled: this.state.isLoading,\n                  type: 'button'\n                },\n                gettext(\"Cancel\")\n              ),\n              _react2.default.createElement(\n                'button',\n                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },\n                gettext(\"Merge thread\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction ModalHeader(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-header' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-label': gettext(\"Close\"),\n        className: 'close',\n        'data-dismiss': 'modal',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { 'aria-hidden': 'true' },\n        '\\xD7'\n      )\n    ),\n    _react2.default.createElement(\n      'h4',\n      { className: 'modal-title' },\n      gettext(\"Merge thread\")\n    )\n  );\n}\n/* jshint ignore:end */\n\n},{\"../../../../reducers/thread\":356,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../form\":54,\"../../../form-group\":53,\"../../../merge-conflict\":57,\"react\":\"react\"}],227:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ModalHeader = ModalHeader;\nexports.ModalLoading = ModalLoading;\nexports.ModalMessage = ModalMessage;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('../../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _categorySelect = require('../../../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _modalLoader = require('../../../modal-loader');\n\nvar _modalLoader2 = _interopRequireDefault(_modalLoader);\n\nvar _posts = require('../../../../reducers/posts');\n\nvar posts = _interopRequireWildcard(_posts);\n\nvar _thread = require('../../../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ = require('../../../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.onCategoryChange = function (event) {\n      _this.changeValue('category', event.target.value);\n    };\n\n    _this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: []\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _ajax2.default.get(_2.default.get('THREAD_EDITOR_API')).then(function (data) {\n        var category = null;\n\n        // hydrate categories, extract posting options\n        var categories = data.map(function (item) {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id;\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id\n          });\n        });\n\n        _this2.setState({\n          isReady: true,\n\n          category: category,\n          categories: categories\n        });\n      }, function (rejection) {\n        _this2.setState({\n          isError: rejection.detail\n        });\n      });\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // freeze thread\n      _store2.default.dispatch(thread.busy());\n\n      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess() {\n      // refresh thread and displayed posts\n      _ajax2.default.get(this.props.thread.api.posts.index, { page: this.props.posts.page }).then(function (data) {\n        _store2.default.dispatch(thread.replace(data));\n        _store2.default.dispatch(posts.load(data.post_set));\n        _store2.default.dispatch(thread.release());\n\n        _snackbar2.default.success(gettext(\"Thread has been moved.\"));\n        _modal2.default.hide();\n      }, function (rejection) {\n        _store2.default.dispatch(thread.release());\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(rejection) {\n      if (rejection.status === 400) {\n        _snackbar2.default.error(rejection.detail[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.state.isReady) {\n        return _react2.default.createElement(\n          'div',\n          { className: 'modal-dialog', role: 'document' },\n          _react2.default.createElement(\n            'form',\n            { onSubmit: this.handleSubmit },\n            _react2.default.createElement(\n              'div',\n              { className: 'modal-content' },\n              _react2.default.createElement(ModalHeader, null),\n              _react2.default.createElement(\n                'div',\n                { className: 'modal-body' },\n                _react2.default.createElement(\n                  _formGroup2.default,\n                  { 'for': 'id_category', label: gettext(\"New category\") },\n                  _react2.default.createElement(_categorySelect2.default, {\n                    choices: this.state.categories,\n                    disabled: this.state.isLoading || this.props.thread.isBusy,\n                    id: 'id_category',\n                    onChange: this.onCategoryChange,\n                    value: this.state.category\n                  })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'modal-footer' },\n                _react2.default.createElement(\n                  'button',\n                  {\n                    className: 'btn btn-default',\n                    'data-dismiss': 'modal',\n                    disabled: this.state.isLoading,\n                    type: 'button'\n                  },\n                  gettext(\"Cancel\")\n                ),\n                _react2.default.createElement(\n                  'button',\n                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },\n                  gettext(\"Move thread\")\n                )\n              )\n            )\n          )\n        );\n      } else if (this.state.isError) {\n        return _react2.default.createElement(ModalMessage, { message: this.state.isError });\n      } else {\n        return _react2.default.createElement(ModalLoading, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction ModalHeader(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-header' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-label': gettext(\"Close\"),\n        className: 'close',\n        'data-dismiss': 'modal',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { 'aria-hidden': 'true' },\n        '\\xD7'\n      )\n    ),\n    _react2.default.createElement(\n      'h4',\n      { className: 'modal-title' },\n      gettext(\"Move thread\")\n    )\n  );\n}\n\nfunction ModalLoading(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-dialog', role: 'document' },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(ModalHeader, null),\n      _react2.default.createElement(_modalLoader2.default, null)\n    )\n  );\n}\n\nfunction ModalMessage(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'modal-dialog modal-message', role: 'document' },\n    _react2.default.createElement(\n      'div',\n      { className: 'modal-content' },\n      _react2.default.createElement(ModalHeader, null),\n      _react2.default.createElement(\n        'div',\n        { className: 'message-icon' },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'info_outline'\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'message-body' },\n        _react2.default.createElement(\n          'p',\n          { className: 'lead' },\n          gettext(\"You can't move this thread at the moment.\")\n        ),\n        _react2.default.createElement(\n          'p',\n          null,\n          props.message\n        ),\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default',\n            'data-dismiss': 'modal',\n            type: 'button'\n          },\n          gettext(\"Ok\")\n        )\n      )\n    )\n  );\n}\n/* jshint ignore:end */\n\n},{\"../../../..\":299,\"../../../../reducers/posts\":350,\"../../../../reducers/thread\":356,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../category-select\":20,\"../../../form\":54,\"../../../form-group\":53,\"../../../modal-loader\":59,\"react\":\"react\"}],228:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'nav',\n    { className: 'misago-pagination pull-left' },\n    _react2.default.createElement(Pager, props),\n    _react2.default.createElement(More, { more: props.posts.more })\n  );\n};\n\nexports.Pager = Pager;\nexports.FirstPage = FirstPage;\nexports.PreviousPage = PreviousPage;\nexports.NextPage = NextPage;\nexports.LastPage = LastPage;\nexports.More = More;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Pager(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'row row-paginator' },\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(FirstPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(PreviousPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(NextPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(LastPage, props)\n    )\n  );\n} /* jshint ignore:start */\nfunction FirstPage(props) {\n  if (props.posts.isLoaded && props.posts.first) {\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon',\n        to: props.thread.url.index,\n        title: gettext(\"Go to first page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'first_page'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon disabled',\n        title: gettext(\"Go to first page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'first_page'\n      )\n    );\n  }\n}\n\nfunction PreviousPage(props) {\n  if (props.posts.isLoaded && props.posts.page > 1) {\n    var previousUrl = '';\n    if (props.posts.previous) {\n      previousUrl = props.posts.previous + '/';\n    }\n\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon',\n        to: props.thread.url.index + previousUrl,\n        title: gettext(\"Go to previous page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_left'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon disabled',\n        title: gettext(\"Go to previous page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_left'\n      )\n    );\n  }\n}\n\nfunction NextPage(props) {\n  if (props.posts.isLoaded && props.posts.more) {\n    var nextUrl = '';\n    if (props.posts.next) {\n      nextUrl = props.posts.next + '/';\n    }\n\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon',\n        to: props.thread.url.index + nextUrl,\n        title: gettext(\"Go to next page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_right'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon disabled',\n        title: gettext(\"Go to next page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_right'\n      )\n    );\n  }\n}\n\nfunction LastPage(props) {\n  if (props.posts.isLoaded && props.posts.last) {\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon',\n        to: props.thread.url.index + props.posts.last + '/',\n        title: gettext(\"Go to last page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'last_page'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-outline btn-icon disabled',\n        title: gettext(\"Go to last page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'last_page'\n      )\n    );\n  }\n}\n\nfunction More(props) {\n  var message = null;\n  if (props.more) {\n    message = ngettext(\"There is %(more)s more post in this thread.\", \"There are %(more)s more posts in this thread.\", props.more);\n    message = interpolate(message, { 'more': props.more }, true);\n  } else {\n    message = gettext(\"There are no more posts in this thread.\");\n  }\n\n  return _react2.default.createElement(\n    'p',\n    null,\n    message\n  );\n}\n\n},{\"react\":\"react\",\"react-router\":\"react-router\"}],229:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'button',\n    {\n      className: props.className || 'btn btn-primary btn-outline',\n      onClick: props.onClick,\n      type: 'button'\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'chat'\n    ),\n    gettext(\"Reply\")\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],230:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.select = select;\nexports.paths = paths;\n\nvar _reactRedux = require('react-redux');\n\nvar _route = require('./route');\n\nvar _route2 = _interopRequireDefault(_route);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction select(store) {\n  return {\n    'participants': store.participants,\n    'poll': store.poll,\n    'posts': store.posts,\n    'thread': store.thread,\n    'tick': store.tick.tick,\n    'user': store.auth.user\n  };\n}\n\nfunction paths() {\n  var thread = _index2.default.get('THREAD');\n  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');\n\n  return [{\n    path: basePath,\n    component: (0, _reactRedux.connect)(select)(_route2.default)\n  }, {\n    path: basePath + ':page/',\n    component: (0, _reactRedux.connect)(select)(_route2.default)\n  }];\n}\n\n},{\"../../index\":299,\"./route\":231,\"react-redux\":\"react-redux\"}],231:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _participants = require('../participants');\n\nvar _participants2 = _interopRequireDefault(_participants);\n\nvar _poll = require('../poll');\n\nvar _postsList = require('../posts-list');\n\nvar _postsList2 = _interopRequireDefault(_postsList);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _toolbarTop = require('./toolbar-top');\n\nvar _toolbarTop2 = _interopRequireDefault(_toolbarTop);\n\nvar _toolbarBottom = require('./toolbar-bottom');\n\nvar _toolbarBottom2 = _interopRequireDefault(_toolbarBottom);\n\nvar _participants3 = require('../../reducers/participants');\n\nvar participants = _interopRequireWildcard(_participants3);\n\nvar _poll2 = require('../../reducers/poll');\n\nvar poll = _interopRequireWildcard(_poll2);\n\nvar _posts = require('../../reducers/posts');\n\nvar posts = _interopRequireWildcard(_posts);\n\nvar _thread = require('../../reducers/thread');\n\nvar thread = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _polls = require('../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {\n      _store2.default.dispatch(thread.replace(data));\n      _store2.default.dispatch(posts.load(data.post_set));\n\n      if (data.participants) {\n        _store2.default.dispatch(participants.replace(data.participants));\n      }\n\n      if (data.poll) {\n        _store2.default.dispatch(poll.replace(data.poll));\n      }\n\n      _this.setPageTitle();\n    }, _this.openReplyForm = function () {\n      _posting2.default.open({\n        mode: 'REPLY',\n\n        config: _this.props.thread.api.editor,\n        submit: _this.props.thread.api.posts.index\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.shouldFetchData()) {\n        this.fetchData();\n        this.setPageTitle();\n      }\n\n      this.startPollingApi();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.shouldFetchData()) {\n        this.fetchData();\n        this.startPollingApi();\n        this.setPageTitle();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopPollingApi();\n    }\n  }, {\n    key: 'shouldFetchData',\n    value: function shouldFetchData() {\n      if (this.props.posts.isLoaded) {\n        var page = (this.props.params.page || 1) * 1;\n        return page != this.props.posts.page;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: 'fetchData',\n    value: function fetchData() {\n      var _this2 = this;\n\n      _store2.default.dispatch(posts.unload());\n\n      _ajax2.default.get(this.props.thread.api.posts.index, {\n        page: this.props.params.page || 1\n      }, 'posts').then(function (data) {\n        _this2.update(data);\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'startPollingApi',\n    value: function startPollingApi() {\n      _polls2.default.start({\n        poll: 'thread-posts',\n\n        url: this.props.thread.api.posts.index,\n        data: {\n          page: this.props.params.page || 1\n        },\n        update: this.update,\n\n        frequency: 120 * 1000,\n        delayed: true\n      });\n    }\n  }, {\n    key: 'stopPollingApi',\n    value: function stopPollingApi() {\n      _polls2.default.stop('thread-posts');\n    }\n  }, {\n    key: 'setPageTitle',\n    value: function setPageTitle() {\n      _pageTitle2.default.set({\n        title: this.props.thread.title,\n        parent: this.props.thread.category.name,\n        page: (this.props.params.page || 1) * 1\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      var className = 'page page-thread';\n      if (this.props.thread.category.css_class) {\n        className += ' page-thread-' + this.props.thread.category.css_class;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: className },\n        _react2.default.createElement(\n          'div',\n          { className: 'page-header-bg' },\n          _react2.default.createElement(_header2.default, this.props)\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(_toolbarTop2.default, _extends({\n            openReplyForm: this.openReplyForm\n          }, this.props)),\n          _react2.default.createElement(_poll.Poll, {\n            poll: this.props.poll,\n            thread: this.props.thread,\n            user: this.props.user\n          }),\n          _react2.default.createElement(_participants2.default, {\n            participants: this.props.participants,\n            thread: this.props.thread,\n            user: this.props.user\n          }),\n          _react2.default.createElement(_postsList2.default, this.props),\n          _react2.default.createElement(_toolbarBottom2.default, _extends({\n            openReplyForm: this.openReplyForm\n          }, this.props))\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../reducers/participants\":347,\"../../reducers/poll\":348,\"../../reducers/posts\":350,\"../../reducers/thread\":356,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/polls\":370,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../../services/store\":373,\"../participants\":98,\"../poll\":103,\"../posts-list\":148,\"./header\":215,\"./toolbar-bottom\":233,\"./toolbar-top\":234,\"react\":\"react\"}],232:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Email = exports.Enable = exports.Disable = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (props) {\n  if (!props.user.id) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: props.className },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-expanded': 'true',\n        'aria-haspopup': 'true',\n        className: 'btn btn-default dropdown-toggle btn-block btn-outline',\n        'data-toggle': 'dropdown',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        getIcon(props.thread.subscription)\n      ),\n      getLabel(props.thread.subscription)\n    ),\n    _react2.default.createElement(Dropdown, props)\n  );\n};\n\nexports.getIcon = getIcon;\nexports.getLabel = getLabel;\nexports.Dropdown = Dropdown;\nexports.update = update;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _thread = require('../../reducers/thread');\n\nvar actions = _interopRequireWildcard(_thread);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nfunction getIcon(subscription) {\n  if (subscription === true) {\n    return 'star';\n  } else if (subscription === false) {\n    return 'star_half';\n  } else {\n    return 'star_border';\n  }\n}\n\nfunction getLabel(subscription) {\n  if (subscription === true) {\n    return gettext(\"E-mail\");\n  } else if (subscription === false) {\n    return gettext(\"Enabled\");\n  } else {\n    return gettext(\"Disabled\");\n  }\n}\n\nfunction Dropdown(props) {\n  return _react2.default.createElement(\n    'ul',\n    { className: props.dropdownClassName || \"dropdown-menu stick-to-bottom\" },\n    _react2.default.createElement(Disable, props),\n    _react2.default.createElement(Enable, props),\n    _react2.default.createElement(Email, props)\n  );\n}\n\nvar Disable = exports.Disable = function (_React$Component) {\n  _inherits(Disable, _React$Component);\n\n  function Disable() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Disable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      if (_this.props.thread.subscription === null) {\n        return;\n      }\n\n      update(_this.props.thread, null, 'unsubscribe');\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Disable, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'star_border'\n          ),\n          gettext(\"Unsubscribe\")\n        )\n      );\n    }\n  }]);\n\n  return Disable;\n}(_react2.default.Component);\n\nvar Enable = exports.Enable = function (_React$Component2) {\n  _inherits(Enable, _React$Component2);\n\n  function Enable() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, Enable);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {\n      if (_this2.props.thread.subscription === false) {\n        return;\n      }\n\n      update(_this2.props.thread, false, 'notify');\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(Enable, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'star_half'\n          ),\n          gettext(\"Subscribe\")\n        )\n      );\n    }\n  }]);\n\n  return Enable;\n}(_react2.default.Component);\n\nvar Email = exports.Email = function (_React$Component3) {\n  _inherits(Email, _React$Component3);\n\n  function Email() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, Email);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {\n      if (_this3.props.thread.subscription === true) {\n        return;\n      }\n\n      update(_this3.props.thread, true, 'email');\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(Email, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          { className: 'btn btn-link', onClick: this.onClick },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'star'\n          ),\n          gettext(\"Subscribe with e-mail\")\n        )\n      );\n    }\n  }]);\n\n  return Email;\n}(_react2.default.Component);\n\nfunction update(thread, newState, value) {\n  var oldState = {\n    subscription: thread.subscription\n  };\n\n  _store2.default.dispatch(actions.update({\n    subscription: newState\n  }));\n\n  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {\n    _store2.default.dispatch(actions.update(finalState));\n  }, function (rejection) {\n    if (rejection.status === 400) {\n      _snackbar2.default.error(rejection.detail[0]);\n    } else {\n      _snackbar2.default.apiError(rejection);\n    }\n\n    _store2.default.dispatch(actions.update(oldState));\n  });\n}\n\n},{\"../../reducers/thread\":356,\"../../services/ajax\":361,\"../../services/snackbar\":372,\"../../services/store\":373,\"react\":\"react\"}],233:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'row row-toolbar' },\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-12 text-center visible-xs-block' },\n      _react2.default.createElement(_paginator.More, { more: props.posts.more }),\n      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-md-7' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-sm-4 col-md-5' },\n          _react2.default.createElement(_paginator.Pager, props)\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-sm-8 col-md-7 hidden-xs' },\n          _react2.default.createElement(_paginator.More, { more: props.posts.more })\n        )\n      )\n    ),\n    _react2.default.createElement(\n      Options,\n      { visible: !!props.user.id },\n      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer hidden-md hidden-lg' }),\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(Spacer, props),\n        _react2.default.createElement(Moderation, props),\n        _react2.default.createElement(Subscription, props),\n        _react2.default.createElement(Reply, {\n          thread: props.thread,\n          onClick: props.openReplyForm\n        })\n      )\n    )\n  );\n};\n\nexports.Options = Options;\nexports.Moderation = Moderation;\nexports.Subscription = Subscription;\nexports.Reply = Reply;\nexports.Spacer = Spacer;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _paginator = require('./paginator');\n\nvar _posts = require('./moderation/posts');\n\nvar _posts2 = _interopRequireDefault(_posts);\n\nvar _replyButton = require('./reply-button');\n\nvar _replyButton2 = _interopRequireDefault(_replyButton);\n\nvar _subscription = require('./subscription');\n\nvar _subscription2 = _interopRequireDefault(_subscription);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Options(props) {\n  if (!props.visible) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-md-5' },\n    props.children\n  );\n}\n\nfunction Moderation(props) {\n  if (!props.user.id) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4 hidden-xs' },\n    _react2.default.createElement(_posts2.default, props)\n  );\n}\n\nfunction Subscription(props) {\n  var xsClass = \"col-xs-6\";\n  if (!props.thread.acl.can_reply) {\n    xsClass = 'col-xs-12';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: xsClass + \" col-sm-4\" },\n    _react2.default.createElement(_subscription2.default, _extends({\n      btnClassName: 'btn-block',\n      className: 'dropup'\n    }, props))\n  );\n}\n\nfunction Reply(props) {\n  if (!props.thread.acl.can_reply) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-6 col-sm-4' },\n    _react2.default.createElement(_replyButton2.default, {\n      className: 'btn btn-primary btn-block btn-outline',\n      onClick: props.onClick\n    })\n  );\n}\n\nfunction Spacer(props) {\n  if (props.thread.acl.can_reply) return null;\n\n  return _react2.default.createElement('div', { className: 'hidden-xs hidden-sm col-sm-4' });\n}\n\n},{\"./moderation/posts\":220,\"./paginator\":228,\"./reply-button\":229,\"./subscription\":232,\"react\":\"react\"}],234:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StartPollCompact = exports.StartPoll = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */\n\n\nexports.default = function (props) {\n  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'row row-toolbar row-toolbar-bottom-margin' },\n    _react2.default.createElement(GotoMenu, props),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-9 col-md-5 col-md-offset-2' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(Spacer, { visible: !props.user.id }),\n        _react2.default.createElement(Spacer, { visible: hiddenSpecialOption }),\n        _react2.default.createElement(SubscriptionMenu, props),\n        _react2.default.createElement(StartPoll, props),\n        _react2.default.createElement(Reply, props)\n      )\n    )\n  );\n};\n\nexports.GotoMenu = GotoMenu;\nexports.GotoNew = GotoNew;\nexports.GotoBestAnswer = GotoBestAnswer;\nexports.GotoUnapproved = GotoUnapproved;\nexports.GotoLast = GotoLast;\nexports.CompactOptions = CompactOptions;\nexports.GotoNewCompact = GotoNewCompact;\nexports.GotoUnapprovedCompact = GotoUnapprovedCompact;\nexports.GotoLastCompact = GotoLastCompact;\nexports.Reply = Reply;\nexports.SubscriptionMenu = SubscriptionMenu;\nexports.Spacer = Spacer;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _replyButton = require('./reply-button');\n\nvar _replyButton2 = _interopRequireDefault(_replyButton);\n\nvar _subscription = require('./subscription');\n\nvar _subscription2 = _interopRequireDefault(_subscription);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction GotoMenu(props) {\n  var user = props.user;\n\n\n  var className = 'col-xs-3 col-sm-3 col-md-5';\n  if (user.is_anonymous) {\n    className = 'col-xs-12 col-sm-3 col-md-5';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'row hidden-xs hidden-sm' },\n      _react2.default.createElement(GotoLast, { thread: props.thread }),\n      _react2.default.createElement(GotoNew, { thread: props.thread }),\n      _react2.default.createElement(GotoBestAnswer, { thread: props.thread }),\n      _react2.default.createElement(GotoUnapproved, { thread: props.thread })\n    ),\n    _react2.default.createElement(CompactOptions, props)\n  );\n}\n\nfunction GotoNew(props) {\n  if (!props.thread.is_new) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4' },\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.new_post,\n        className: 'btn btn-default btn-block btn-outline',\n        title: gettext('Go to first new post')\n      },\n      gettext(\"New\")\n    )\n  );\n}\n\nfunction GotoBestAnswer(props) {\n  if (!props.thread.best_answer) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4' },\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.best_answer,\n        className: 'btn btn-default btn-block btn-outline',\n        title: gettext('Go to best answer')\n      },\n      gettext(\"Best answer\")\n    )\n  );\n}\n\nfunction GotoUnapproved(props) {\n  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4' },\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.unapproved_post,\n        className: 'btn btn-default btn-block btn-outline',\n        title: gettext('Go to first unapproved post')\n      },\n      gettext(\"Unapproved\")\n    )\n  );\n}\n\nfunction GotoLast(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4' },\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.last_post,\n        className: 'btn btn-default btn-block btn-outline',\n        title: gettext('Go to last post')\n      },\n      gettext(\"Last\")\n    )\n  );\n}\n\nfunction CompactOptions(props) {\n  var user = props.user;\n\n  if (user.is_anonymous) {\n    return _react2.default.createElement(\n      'div',\n      { className: 'visible-xs-block visible-sm-block' },\n      _react2.default.createElement(\n        'a',\n        {\n          href: props.thread.url.last_post,\n          className: 'btn btn-default btn-block btn-outline'\n        },\n        gettext(\"Last post\")\n      )\n    );\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'dropdown visible-xs-block visible-sm-block' },\n    _react2.default.createElement(\n      'button',\n      {\n        'aria-expanded': 'true',\n        'aria-haspopup': 'true',\n        className: 'btn btn-default dropdown-toggle btn-block btn-outline',\n        'data-toggle': 'dropdown',\n        type: 'button'\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'expand_more'\n      ),\n      _react2.default.createElement(\n        'span',\n        { className: 'btn-text hidden-xs' },\n        gettext(\"Options\")\n      )\n    ),\n    _react2.default.createElement(\n      'ul',\n      { className: 'dropdown-menu' },\n      _react2.default.createElement(StartPollCompact, props),\n      _react2.default.createElement(GotoNewCompact, props),\n      _react2.default.createElement(GotoUnapprovedCompact, props),\n      _react2.default.createElement(GotoLastCompact, props)\n    )\n  );\n}\n\nfunction GotoNewCompact(props) {\n  if (!props.thread.is_new) return null;\n\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.new_post,\n        className: 'btn btn-link'\n      },\n      gettext(\"Go to first new post\")\n    )\n  );\n}\n\nfunction GotoUnapprovedCompact(props) {\n  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {\n    return null;\n  }\n\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.unapproved_post,\n        className: 'btn btn-link'\n      },\n      gettext(\"Go to first unapproved post\")\n    )\n  );\n}\n\nfunction GotoLastCompact(props) {\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      {\n        href: props.thread.url.last_post,\n        className: 'btn btn-link'\n      },\n      gettext(\"Go to last post\")\n    )\n  );\n}\n\nfunction Reply(props) {\n  if (!props.thread.acl.can_reply) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-sm-4 hidden-xs' },\n    _react2.default.createElement(_replyButton2.default, {\n      className: 'btn btn-primary btn-block btn-outline',\n      onClick: props.openReplyForm\n    })\n  );\n}\n\nfunction SubscriptionMenu(props) {\n  if (!props.user.id) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'col-xs-12 col-sm-4' },\n    _react2.default.createElement(_subscription2.default, _extends({\n      className: 'dropdown',\n      dropdownClassName: 'dropdown-menu dropdown-menu-right stick-to-bottom'\n    }, props))\n  );\n}\n\nvar StartPoll = exports.StartPoll = function (_React$Component) {\n  _inherits(StartPoll, _React$Component);\n\n  function StartPoll() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, StartPoll);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StartPoll.__proto__ || Object.getPrototypeOf(StartPoll)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n      _posting2.default.open({\n        mode: 'POLL',\n        submit: _this.props.thread.api.poll,\n\n        thread: _this.props.thread,\n        poll: null\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(StartPoll, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'col-sm-4 hidden-xs' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-block btn-outline',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'poll'\n          ),\n          gettext(\"Add poll\")\n        )\n      );\n    }\n  }]);\n\n  return StartPoll;\n}(_react2.default.Component);\n\nvar StartPollCompact = exports.StartPollCompact = function (_StartPoll) {\n  _inherits(StartPollCompact, _StartPoll);\n\n  function StartPollCompact() {\n    _classCallCheck(this, StartPollCompact);\n\n    return _possibleConstructorReturn(this, (StartPollCompact.__proto__ || Object.getPrototypeOf(StartPollCompact)).apply(this, arguments));\n  }\n\n  _createClass(StartPollCompact, [{\n    key: 'render',\n    value: function render() {\n      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.onClick,\n            type: 'button'\n          },\n          gettext(\"Add poll\")\n        )\n      );\n    }\n  }]);\n\n  return StartPollCompact;\n}(StartPoll);\n\nfunction Spacer(props) {\n  if (!props.visible) return null;\n\n  return _react2.default.createElement('div', { className: 'col-sm-4 hidden-xs' });\n}\n\n},{\"../../services/posting\":371,\"./reply-button\":229,\"./subscription\":232,\"react\":\"react\"}],235:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (!props.isLoaded) {\n    return _react2.default.createElement(_preview2.default, null);\n  }\n\n  if (props.threads.length === 0) {\n    return _react2.default.createElement(\n      _empty2.default,\n      {\n        diffSize: props.diffSize,\n        applyDiff: props.applyDiff\n      },\n      props.children\n    );\n  }\n\n  return _react2.default.createElement(_ready2.default, {\n    activeCategory: props.category,\n    categories: props.categories,\n    list: props.list,\n    threads: props.threads,\n\n    diffSize: props.diffSize,\n    applyDiff: props.applyDiff,\n\n    showOptions: props.showOptions,\n    selection: props.selection,\n\n    busyThreads: props.busyThreads\n  });\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _empty = require('./list/empty');\n\nvar _empty2 = _interopRequireDefault(_empty);\n\nvar _ready = require('./list/ready');\n\nvar _ready2 = _interopRequireDefault(_ready);\n\nvar _preview = require('./list/preview');\n\nvar _preview2 = _interopRequireDefault(_preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./list/empty\":237,\"./list/preview\":238,\"./list/ready\":239,\"react\":\"react\"}],236:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var diffSize = props.diffSize,\n      applyDiff = props.applyDiff;\n\n\n  if (diffSize === 0) return null;\n\n  return _react2.default.createElement(\n    \"li\",\n    { className: \"list-group-item threads-diff-message\" },\n    _react2.default.createElement(\n      \"button\",\n      {\n        type: \"button\",\n        className: \"btn btn-block btn-default\",\n        onClick: applyDiff\n      },\n      _react2.default.createElement(\n        \"span\",\n        { className: \"material-icon\" },\n        \"cached\"\n      ),\n      _react2.default.createElement(\n        \"span\",\n        { className: \"diff-message\" },\n        getMessage(diffSize)\n      )\n    )\n  );\n};\n\nexports.getMessage = getMessage;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction getMessage(diffSize) {\n  var message = ngettext(\"There is %(threads)s new or updated thread. Click this message to show it.\", \"There are %(threads)s new or updated threads. Click this message to show them.\", diffSize);\n\n  return interpolate(message, {\n    threads: diffSize\n  }, true);\n}\n\n},{\"react\":\"react\"}],237:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diffMessage = require('./diff-message');\n\nvar _diffMessage2 = _interopRequireDefault(_diffMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getDiffMessage',\n    value: function getDiffMessage() {\n      if (this.props.diffSize === 0) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(_diffMessage2.default, {\n        applyDiff: this.props.applyDiff,\n        diffSize: this.props.diffSize\n      });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'threads-list ui-ready' },\n        _react2.default.createElement(\n          'ul',\n          { className: 'list-group' },\n          this.getDiffMessage(),\n          this.props.children\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./diff-message\":236,\"react\":\"react\"}],238:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _preview = require('../thread/preview');\n\nvar _preview2 = _interopRequireDefault(_preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'threads-list ui-preview' },\n        _react2.default.createElement(\n          'ul',\n          { className: 'list-group' },\n          _react2.default.createElement(_preview2.default, null)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../thread/preview\":246,\"react\":\"react\"}],239:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'threads-list ui-ready' },\n    _react2.default.createElement(\n      'ul',\n      { className: 'list-group' },\n      _react2.default.createElement(_diffMessage2.default, {\n        diffSize: props.diffSize,\n        applyDiff: props.applyDiff\n      }),\n      props.threads.map(function (thread) {\n        return _react2.default.createElement(_ready2.default, {\n          activeCategory: props.activeCategory,\n          categories: props.categories,\n          list: props.list,\n          thread: thread,\n\n          showOptions: props.showOptions,\n          isSelected: props.selection.indexOf(thread.id) >= 0,\n\n          isBusy: props.busyThreads.indexOf(thread.id) >= 0,\n          key: thread.id\n        });\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diffMessage = require('./diff-message');\n\nvar _diffMessage2 = _interopRequireDefault(_diffMessage);\n\nvar _ready = require('../thread/ready');\n\nvar _ready2 = _interopRequireDefault(_ready);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../thread/ready\":247,\"./diff-message\":236,\"react\":\"react\"}],240:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category,\n      isBusy = _ref.isBusy,\n      showOptions = _ref.showOptions,\n      isSelected = _ref.isSelected,\n      thread = _ref.thread;\n\n  var className = 'col-xs-12 col-sm-12';\n  if (showOptions) {\n    if (thread.moderation.length) {\n      className = 'col-xs-6 col-sm-12';\n    } else {\n      className = 'col-xs-9 col-sm-12';\n    }\n  }\n\n  var statusFlags = 0;\n  if (thread.is_hidden) statusFlags += 1;\n  if (thread.is_closed) statusFlags += 1;\n  if (thread.has_poll) statusFlags += 1;\n\n  var allFlagsVisible = showOptions && statusFlags === 3;\n\n  var textClassName = 'detail-text hidden-xs';\n  if (allFlagsVisible) {\n    textClassName += ' hidden-sm';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'row thread-details-bottom' },\n    _react2.default.createElement(\n      'div',\n      { className: className },\n      _react2.default.createElement(_category2.default, {\n        className: 'item-title thread-detail-category hidden-xs',\n        category: category\n      }),\n      _react2.default.createElement(HiddenLabel, {\n        textClassName: textClassName,\n        display: thread.is_hidden\n      }),\n      _react2.default.createElement(ClosedLabel, {\n        textClassName: textClassName,\n        display: thread.is_closed\n      }),\n      _react2.default.createElement(PollLabel, {\n        textClassName: textClassName,\n        display: thread.has_poll\n      }),\n      _react2.default.createElement(BestAnswerLabel, { thread: thread }),\n      _react2.default.createElement(RepliesLabel, {\n        forceFullText: !showOptions || statusFlags < 2,\n        replies: thread.replies\n      }),\n      _react2.default.createElement(LastReplyLabel, {\n        datetime: thread.last_post_on,\n        url: thread.url.last_post\n      }),\n      _react2.default.createElement(LastPoster, {\n        posterName: thread.last_poster_name,\n        url: thread.url.last_poster\n      })\n    ),\n    _react2.default.createElement(_options.OptionsXs, {\n      disabled: isBusy,\n      display: showOptions,\n      isSelected: isSelected,\n      thread: thread\n    })\n  );;\n};\n\nexports.HiddenLabel = HiddenLabel;\nexports.ClosedLabel = ClosedLabel;\nexports.PollLabel = PollLabel;\nexports.BestAnswerLabel = BestAnswerLabel;\nexports.RepliesLabel = RepliesLabel;\nexports.LastReplyLabel = LastReplyLabel;\nexports.LastPoster = LastPoster;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _category = require('./category');\n\nvar _category2 = _interopRequireDefault(_category);\n\nvar _options = require('../options');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction HiddenLabel(_ref2) {\n  var display = _ref2.display,\n      textClassName = _ref2.textClassName;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'thread-detail-hidden' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'visibility_off'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: textClassName },\n      gettext(\"Hidden\")\n    )\n  );\n}\n\nfunction ClosedLabel(_ref3) {\n  var display = _ref3.display,\n      textClassName = _ref3.textClassName;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'thread-detail-closed' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'lock_outline'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: textClassName },\n      gettext(\"Closed\")\n    )\n  );\n}\n\nfunction PollLabel(_ref4) {\n  var display = _ref4.display,\n      textClassName = _ref4.textClassName;\n\n  if (!display) return null;\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'thread-detail-poll' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'assessment'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: textClassName },\n      gettext(\"Poll\")\n    )\n  );\n}\n\nfunction BestAnswerLabel(_ref5) {\n  var thread = _ref5.thread;\n\n  if (!thread.best_answer) return null;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'visible-xs-inline-block thread-detail-answered',\n      href: thread.url.best_answer\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'check_box'\n    )\n  );\n}\n\nfunction RepliesLabel(_ref6) {\n  var replies = _ref6.replies,\n      forceFullText = _ref6.forceFullText;\n\n  var text = ngettext(\"%(replies)s reply\", \"%(replies)s replies\", replies);\n\n  var compactClassName = '';\n  var fullClassName = '';\n\n  if (forceFullText) {\n    compactClassName = 'detail-text hide';\n    fullClassName = 'detail-text';\n  } else {\n    compactClassName = 'detail-text visible-xs-inline-block';\n    fullClassName = 'detail-text hidden-xs';\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'thread-detail-replies' },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'forum'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: compactClassName },\n      replies\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: fullClassName },\n      interpolate(text, { replies: replies }, true)\n    )\n  );\n}\n\nfunction LastReplyLabel(_ref7) {\n  var datetime = _ref7.datetime,\n      url = _ref7.url;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'visible-sm-inline-block thread-detail-last-reply',\n      href: url,\n      title: datetime.format('LLL')\n    },\n    datetime.fromNow(true)\n  );\n}\n\nfunction LastPoster(props) {\n  var posterName = props.posterName,\n      url = props.url;\n\n  var className = 'visible-sm-inline-block item-title thread-last-poster';\n\n  if (url) {\n    return _react2.default.createElement(\n      'a',\n      { className: className, href: url },\n      posterName\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    posterName\n  );;\n}\n\n},{\"../options\":245,\"./category\":241,\"react\":\"react\"}],241:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category,\n      className = _ref.className;\n\n  if (!category) return null;\n\n  if (category.css_class) {\n    className += ' thread-detail-category-' + category.css_class;\n  }\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: className,\n      href: category.url.index\n    },\n    category.name\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],242:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TopDetails = exports.BottomDetails = undefined;\n\nvar _bottom = require('./bottom');\n\nvar _bottom2 = _interopRequireDefault(_bottom);\n\nvar _top = require('./top');\n\nvar _top2 = _interopRequireDefault(_top);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nexports.BottomDetails = _bottom2.default;\nexports.TopDetails = _top2.default;\n\n},{\"./bottom\":240,\"./top\":243}],243:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var category = _ref.category,\n      thread = _ref.thread;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'thread-details-top' },\n    _react2.default.createElement(NewLabel, {\n      isRead: thread.is_read,\n      url: thread.url.new_post\n    }),\n    _react2.default.createElement(PinnedLabel, { weight: thread.weight }),\n    _react2.default.createElement(UnapprovedLabel, {\n      thread: thread.is_unapproved,\n      posts: thread.has_unapproved_posts\n    }),\n    _react2.default.createElement(BestAnswerLabel, { thread: thread }),\n    _react2.default.createElement(_category2.default, {\n      className: 'item-title thread-detail-category visible-xs-inline-block',\n      category: category\n    }),\n    _react2.default.createElement(LastReplyLabel, {\n      datetime: thread.last_post_on,\n      url: thread.url.last_post\n    }),\n    _react2.default.createElement(LastPoster, {\n      posterName: thread.last_poster_name,\n      url: thread.url.last_poster\n    })\n  );\n};\n\nexports.NewLabel = NewLabel;\nexports.PinnedLabel = PinnedLabel;\nexports.UnapprovedLabel = UnapprovedLabel;\nexports.BestAnswerLabel = BestAnswerLabel;\nexports.LastReplyLabel = LastReplyLabel;\nexports.LastPoster = LastPoster;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _category = require('./category');\n\nvar _category2 = _interopRequireDefault(_category);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction NewLabel(_ref2) {\n  var isRead = _ref2.isRead,\n      url = _ref2.url;\n\n  if (isRead) return null;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'thread-detail-new',\n      href: url\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'comment'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'detail-text' },\n      gettext(\"New posts\")\n    )\n  );\n} /* jshint ignore:start */\nfunction PinnedLabel(_ref3) {\n  var weight = _ref3.weight;\n\n  if (weight === 0) return null;\n\n  var className = 'thread-detail-pinned-globally';\n  var icon = 'bookmark';\n  var text = gettext(\"Pinned globally\");\n\n  if (weight === 1) {\n    className = 'thread-detail-pinned-locally';\n    icon = 'bookmark_border';\n    text = gettext(\"Pinned locally\");\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      icon\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'detail-text' },\n      text\n    )\n  );\n}\n\nfunction UnapprovedLabel(_ref4) {\n  var posts = _ref4.posts,\n      thread = _ref4.thread;\n\n  if (!posts && !thread) return null;\n\n  var className = 'thread-detail-unapproved-posts';\n  var icon = 'remove_circle_outline';\n  var text = gettext(\"Unapproved posts\");\n\n  if (thread) {\n    className = 'thread-detail-unapproved';\n    icon = 'remove_circle';\n    text = gettext(\"Unapproved\");\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: className },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      icon\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'detail-text' },\n      text\n    )\n  );\n}\n\nfunction BestAnswerLabel(_ref5) {\n  var thread = _ref5.thread;\n\n  if (!thread.best_answer) return null;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'hidden-xs thread-detail-answered',\n      href: thread.url.best_answer\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'check_box'\n    ),\n    _react2.default.createElement(\n      'span',\n      { className: 'detail-text' },\n      gettext(\"Answered\")\n    )\n  );\n}\n\nfunction LastReplyLabel(_ref6) {\n  var datetime = _ref6.datetime,\n      url = _ref6.url;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'visible-xs-inline-block thread-detail-last-reply',\n      href: url,\n      title: datetime.format('LLL')\n    },\n    datetime.fromNow(true)\n  );\n}\n\nfunction LastPoster(props) {\n  var posterName = props.posterName,\n      url = props.url;\n\n\n  if (url) {\n    return _react2.default.createElement(\n      'a',\n      {\n        className: 'visible-xs-inline-block item-title thread-last-poster',\n        href: url\n      },\n      posterName\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'visible-xs-inline-block item-title thread-last-poster' },\n    posterName\n  );\n}\n\n},{\"./category\":241,\"react\":\"react\"}],244:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var thread = _ref.thread;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'media' },\n    _react2.default.createElement(\n      'div',\n      { className: 'media-left' },\n      _react2.default.createElement(\n        _userUrl2.default,\n        {\n          className: 'thread-last-poster-avatar',\n          title: thread.last_poster_name,\n          url: thread.url.last_poster\n        },\n        _react2.default.createElement(_avatar2.default, {\n          className: 'media-object',\n          size: 40,\n          user: thread.last_poster\n        })\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'media-body' },\n      _react2.default.createElement(\n        _userUrl2.default,\n        {\n          className: 'item-title thread-last-poster',\n          url: thread.url.last_poster\n        },\n        thread.last_poster_name\n      ),\n      _react2.default.createElement(Timestamp, {\n        datetime: thread.last_post_on,\n        url: thread.url.last_post\n      })\n    )\n  );\n};\n\nexports.Timestamp = Timestamp;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _userUrl = require('./user-url');\n\nvar _userUrl2 = _interopRequireDefault(_userUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction Timestamp(_ref2) {\n  var datetime = _ref2.datetime,\n      url = _ref2.url;\n\n  return _react2.default.createElement(\n    'a',\n    {\n      className: 'thread-last-reply',\n      href: url,\n      title: datetime.format('LLL')\n    },\n    datetime.fromNow(true)\n  );\n}\n\n},{\"../../avatar\":5,\"./user-url\":252,\"react\":\"react\"}],245:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Checkbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Options = Options;\nexports.OptionsXs = OptionsXs;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _compact = require('./subscription/compact');\n\nvar _compact2 = _interopRequireDefault(_compact);\n\nvar _full = require('./subscription/full');\n\nvar _full2 = _interopRequireDefault(_full);\n\nvar _selection = require('../../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nfunction Options(_ref) {\n  var display = _ref.display,\n      disabled = _ref.disabled,\n      isSelected = _ref.isSelected,\n      thread = _ref.thread;\n\n  if (!display) return null;\n\n  var className = 'col-sm-2 col-md-2 hidden-xs';\n  if (thread.moderation.length) {\n    className = 'col-sm-3 col-md-2 hidden-xs';\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'row thread-options' },\n      _react2.default.createElement(_full2.default, {\n        thread: thread,\n        disabled: disabled\n      }),\n      _react2.default.createElement(_compact2.default, {\n        thread: thread,\n        disabled: disabled\n      }),\n      _react2.default.createElement(Checkbox, {\n        thread: thread,\n        disabled: disabled,\n        isSelected: isSelected\n      })\n    )\n  );\n}\n\nfunction OptionsXs(_ref2) {\n  var display = _ref2.display,\n      disabled = _ref2.disabled,\n      isSelected = _ref2.isSelected,\n      thread = _ref2.thread;\n\n  if (!display) return null;\n\n  var className = '';\n  if (thread.moderation.length) {\n    className += 'col-xs-6';\n  } else {\n    className += 'col-xs-3';\n  }\n  className += ' visible-xs-block thread-options-xs';\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'row thread-options' },\n      _react2.default.createElement(_full2.default, {\n        thread: thread,\n        disabled: disabled\n      }),\n      _react2.default.createElement(_compact2.default, {\n        thread: thread,\n        disabled: disabled\n      }),\n      _react2.default.createElement(Checkbox, {\n        thread: thread,\n        disabled: disabled,\n        isSelected: isSelected\n      })\n    )\n  );\n}\n\nvar Checkbox = exports.Checkbox = function (_React$Component) {\n  _inherits(Checkbox, _React$Component);\n\n  function Checkbox() {\n    var _ref3;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Checkbox);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref3 = Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call.apply(_ref3, [this].concat(args))), _this), _this.toggleSelection = function () {\n      _store2.default.dispatch(select.item(_this.props.thread.id));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Checkbox, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          disabled = _props.disabled,\n          isSelected = _props.isSelected,\n          thread = _props.thread;\n\n\n      if (!thread.moderation.length) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'col-xs-6' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-default btn-icon btn-block',\n            onClick: this.toggleSelection,\n            disabled: disabled\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            isSelected ? 'check_box' : 'check_box_outline_blank'\n          )\n        )\n      );\n    }\n  }]);\n\n  return Checkbox;\n}(_react2.default.Component);\n\n},{\"../../../reducers/selection\":354,\"../../../services/store\":373,\"./subscription/compact\":248,\"./subscription/full\":249,\"react\":\"react\"}],246:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: 'list-group-item thread-preview' },\n        _react2.default.createElement(\n          'div',\n          { className: 'thread-details-top visible-xs-block' },\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text',\n              style: { width: random.int(30, 80) + \"px\" }\n            },\n            '\\xA0'\n          ),\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text',\n              style: { width: random.int(30, 80) + \"px\" }\n            },\n            '\\xA0'\n          ),\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text',\n              style: { width: random.int(30, 80) + \"px\" }\n            },\n            '\\xA0'\n          )\n        ),\n        _react2.default.createElement(\n          'span',\n          { className: 'item-title thread-title' },\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text',\n              style: { width: random.int(60, 200) + \"px\" }\n            },\n            '\\xA0'\n          ),\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text hidden-xs',\n              style: { width: random.int(60, 200) + \"px\" }\n            },\n            '\\xA0'\n          ),\n          _react2.default.createElement(\n            'span',\n            {\n              className: 'ui-preview-text hidden-xs',\n              style: { width: random.int(60, 200) + \"px\" }\n            },\n            '\\xA0'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'thread-details-bottom' },\n          _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(30, 80) + \"px\" }\n              },\n              '\\xA0'\n            ),\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(30, 80) + \"px\" }\n              },\n              '\\xA0'\n            ),\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(30, 80) + \"px\" }\n              },\n              '\\xA0'\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../utils/random\":384,\"react\":\"react\"}],247:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  var activeCategory = props.activeCategory,\n      categories = props.categories,\n      list = props.list,\n      thread = props.thread,\n      isBusy = props.isBusy,\n      isSelected = props.isSelected,\n      showOptions = props.showOptions;\n\n\n  var category = null;\n  if (activeCategory.id !== thread.category) {\n    category = categories[thread.category];\n  }\n\n  var flavor = category || activeCategory;\n\n  var className = 'thread-main col-xs-12';\n  if (showOptions) {\n    if (thread.moderation.length) {\n      className += ' col-sm-9 col-md-7';\n    } else {\n      className += ' col-sm-10 col-md-7';\n    }\n  } else {\n    className += ' col-sm-12 col-md-9';\n  }\n\n  return _react2.default.createElement(\n    'li',\n    { className: getClassName(thread.is_read, isBusy, isSelected, flavor) },\n    _react2.default.createElement(_details.TopDetails, {\n      category: category,\n      thread: thread\n    }),\n    _react2.default.createElement(\n      'div',\n      { className: 'row thread-row' },\n      _react2.default.createElement(\n        'div',\n        { className: className },\n        _react2.default.createElement(\n          'div',\n          { className: 'media' },\n          _react2.default.createElement(\n            'div',\n            { className: 'media-left hidden-xs' },\n            _react2.default.createElement(\n              _userUrl2.default,\n              {\n                className: 'thread-starter-avatar',\n                title: thread.starter_name,\n                url: thread.url.starter\n              },\n              _react2.default.createElement(_avatar2.default, {\n                size: 40,\n                user: thread.starter\n              })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'media-body' },\n            _react2.default.createElement(\n              'a',\n              { href: thread.url.index, className: 'item-title thread-title' },\n              thread.title\n            ),\n            _react2.default.createElement(_details.BottomDetails, {\n              category: category,\n              disabled: isBusy,\n              isSelected: isSelected,\n              showOptions: showOptions,\n              thread: thread\n            })\n          )\n        )\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: 'col-md-3 hidden-xs hidden-sm thread-last-action' },\n        _react2.default.createElement(_lastAction2.default, { thread: thread })\n      ),\n      _react2.default.createElement(_options.Options, {\n        disabled: isBusy,\n        display: showOptions,\n        isSelected: isSelected,\n        thread: thread\n      })\n    )\n  );\n};\n\nexports.getClassName = getClassName;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _details = require('./details');\n\nvar _lastAction = require('./last-action');\n\nvar _lastAction2 = _interopRequireDefault(_lastAction);\n\nvar _options = require('./options');\n\nvar _userUrl = require('./user-url');\n\nvar _userUrl2 = _interopRequireDefault(_userUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getClassName(isRead, isBusy, isSelected, flavor) {\n  var styles = ['list-group-item'];\n\n  if (flavor && flavor.css_class) {\n    styles.push('list-group-category-has-flavor');\n    styles.push('list-group-item-category-' + flavor.css_class);\n  }\n\n  if (isRead) {\n    styles.push('thread-read');\n  } else {\n    styles.push('thread-new');\n  }\n\n  if (isBusy) {\n    styles.push('thread-busy');\n  } else if (isSelected) {\n    styles.push('thread-selected');\n  }\n\n  return styles.join(' ');\n} /* jshint ignore:start */\n\n},{\"../../avatar\":5,\"./details\":242,\"./last-action\":244,\"./options\":245,\"./user-url\":252,\"react\":\"react\"}],248:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _full = require('./full');\n\nvar _full2 = _interopRequireDefault(_full);\n\nvar _modal = require('./modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _modal3 = require('../../../../services/modal');\n\nvar _modal4 = _interopRequireDefault(_modal3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_SubscriptionFull) {\n  _inherits(_class, _SubscriptionFull);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {\n      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      var moderation = this.props.thread.moderation;\n\n\n      var className = '';\n      if (moderation.length) {\n        className += 'col-xs-6';\n      } else {\n        className += 'col-xs-12';\n      }\n      className += ' hidden-md hidden-lg';\n\n      return _react2.default.createElement(\n        'div',\n        { className: className },\n        _react2.default.createElement(\n          'button',\n          {\n            type: 'button',\n            className: this.getClassName(),\n            disabled: this.props.disabled,\n            onClick: this.showOptions\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            this.getIcon()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_full2.default);\n\nexports.default = _class;\n\n},{\"../../../../services/modal\":367,\"./full\":249,\"./modal\":250,\"react\":\"react\"}],249:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Label = Label;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _options = require('./options');\n\nvar _options2 = _interopRequireDefault(_options);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getIcon',\n    value: function getIcon() {\n      if (this.props.thread.subscription === true) {\n        return 'star';\n      } else if (this.props.thread.subscription === false) {\n        return 'star_half';\n      }\n\n      return 'star_border';\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.thread.subscription === true) {\n        return \"btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle\";\n      } else if (this.props.thread.subscription === false) {\n        return \"btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle\";\n      }\n\n      return \"btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle\";\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props$thread = this.props.thread,\n          moderation = _props$thread.moderation,\n          subscription = _props$thread.subscription;\n\n      var fullwidth = !moderation.length;\n\n      var className = fullwidth ? 'col-xs-12' : 'col-xs-6';\n      className += ' hidden-xs hidden-sm';\n\n      return _react2.default.createElement(\n        'div',\n        { className: className },\n        _react2.default.createElement(\n          'div',\n          { className: 'btn-group btn-group-justified' },\n          _react2.default.createElement(\n            'div',\n            { className: 'btn-group' },\n            _react2.default.createElement(\n              'button',\n              {\n                type: 'button',\n                className: this.getClassName(),\n                disabled: this.props.disabled,\n                'data-toggle': 'dropdown',\n                'aria-haspopup': 'true',\n                'aria-expanded': 'false'\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                this.getIcon()\n              ),\n              _react2.default.createElement(Label, {\n                moderation: moderation,\n                subscription: subscription\n              })\n            ),\n            _react2.default.createElement(_options2.default, {\n              className: 'dropdown-menu dropdown-menu-right',\n              thread: this.props.thread\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\nfunction Label(_ref) {\n  var moderation = _ref.moderation,\n      subscription = _ref.subscription;\n\n  if (moderation.length) return null;\n\n  var text = gettext(\"Disabled\");\n  if (subscription === true) {\n    text = gettext(\"E-mail\");\n  } else if (subscription === false) {\n    text = gettext(\"Enabled\");\n  }\n\n  return _react2.default.createElement(\n    'span',\n    { className: 'btn-text' },\n    text\n  );\n}\n\n},{\"./options\":251,\"react\":\"react\"}],250:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _options = require('./options');\n\nvar _options2 = _interopRequireDefault(_options);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-dialog modal-sm',\n          role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Change subscription\")\n            )\n          ),\n          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./options\":251,\"react\":\"react\"}],251:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _threads = require('../../../../reducers/threads');\n\nvar _ajax = require('../../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\n/* jshint ignore:start */\nvar STATE_UPDATES = {\n  'unsubscribe': null,\n  'notify': false,\n  'email': true\n};\n/* jshint ignore:end */\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.setSubscription = function (newState) {\n      _modal2.default.hide();\n\n      _this.setState({\n        isLoading: true\n      });\n\n      var oldState = _this.props.thread.subscription;\n\n      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {\n        subscription: STATE_UPDATES[newState]\n      }));\n\n      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {\n        _this.setState({\n          isLoading: false\n        });\n      }, function (rejection) {\n        _this.setState({\n          isLoading: false\n        });\n        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {\n          subscription: STATE_UPDATES[oldState]\n        }));\n        _snackbar2.default.apiError(rejection);\n      });\n    };\n\n    _this.unsubscribe = function () {\n      _this.setSubscription('unsubscribe');\n    };\n\n    _this.notify = function () {\n      _this.setSubscription('notify');\n    };\n\n    _this.email = function () {\n      _this.setSubscription('email');\n    };\n\n    _this.state = {\n      isLoading: false\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: this.props.className },\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'btn-link', onClick: this.unsubscribe },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'star_border'\n            ),\n            gettext(\"Unsubscribe\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'btn-link', onClick: this.notify },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'star_half'\n            ),\n            gettext(\"Subscribe\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'btn-link', onClick: this.email },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'star'\n            ),\n            gettext(\"Subscribe with e-mail\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../../reducers/threads\":357,\"../../../../services/ajax\":361,\"../../../../services/modal\":367,\"../../../../services/snackbar\":372,\"../../../../services/store\":373,\"../../../button\":7,\"react\":\"react\"}],252:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      title = _ref.title,\n      url = _ref.url;\n\n  if (url) {\n    return _react2.default.createElement(\n      'a',\n      {\n        className: className,\n        href: url,\n        title: title\n      },\n      children\n    );\n  }\n\n  return _react2.default.createElement(\n    'span',\n    {\n      className: className,\n      title: title\n    },\n    children\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"react\":\"react\"}],253:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Subcategory = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar Subcategory = exports.Subcategory = function (_React$Component) {\n  _inherits(Subcategory, _React$Component);\n\n  function Subcategory() {\n    _classCallCheck(this, Subcategory);\n\n    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));\n  }\n\n  _createClass(Subcategory, [{\n    key: 'getUrl',\n    value: function getUrl() {\n      if (this.props.listPath) {\n        return this.props.category.url.index + this.props.listPath;\n      } else {\n        return this.props.category.url.index;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          _reactRouter.Link,\n          { to: this.getUrl(), className: 'btn btn-link' },\n          this.props.category.name\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return Subcategory;\n}(_react2.default.Component);\n\nvar _class = function (_React$Component2) {\n  _inherits(_class, _React$Component2);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'dropdown category-picker' },\n        _react2.default.createElement(\n          'button',\n          {\n            type: 'button',\n            className: 'btn btn-default btn-outline dropdown-toggle btn-block',\n            'data-toggle': 'dropdown',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'label_outline'\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: 'hidden-xs' },\n            gettext(\"Category\")\n          )\n        ),\n        _react2.default.createElement(\n          'ul',\n          { className: 'dropdown-menu stick-to-bottom categories-menu' },\n          this.props.choices.map(function (id) {\n            if (_this3.props.categories[id]) {\n              return _react2.default.createElement(Subcategory, {\n                category: _this3.props.categories[id],\n                listPath: _this3.props.list.path,\n                key: id\n              });\n            } else {\n              return null;\n            }\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\",\"react-router\":\"react-router\"}],254:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compareLastPostAge = compareLastPostAge;\nexports.compareGlobalWeight = compareGlobalWeight;\nexports.compareWeight = compareWeight;\nfunction compareLastPostAge(a, b) {\n  if (a.last_post > b.last_post) {\n    return -1;\n  } else if (a.last_post < b.last_post) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nfunction compareGlobalWeight(a, b) {\n  if (a.weight === 2 && a.weight > b.weight) {\n    return -1;\n  } else if (b.weight === 2 && a.weight < b.weight) {\n    return 1;\n  } else {\n    return compareLastPostAge(a, b);\n  }\n}\n\nfunction compareWeight(a, b) {\n  if (a.weight > b.weight) {\n    return -1;\n  } else if (a.weight < b.weight) {\n    return 1;\n  } else {\n    return compareLastPostAge(a, b);\n  }\n}\n\n},{}],255:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pageLead = require('../page-lead');\n\nvar _pageLead2 = _interopRequireDefault(_pageLead);\n\nvar _toolbar = require('./toolbar');\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getCategoryDescription',\n    value: function getCategoryDescription() {\n      if (this.props.pageLead) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'category-description' },\n          _react2.default.createElement(\n            'div',\n            { className: 'page-lead' },\n            _react2.default.createElement(\n              'p',\n              null,\n              this.props.pageLead\n            )\n          )\n        );\n        /* jshint ignore:end */\n      } else if (this.props.route.category.description) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'category-description' },\n          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getDisableToolbar',\n    value: function getDisableToolbar() {\n      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;\n    }\n  }, {\n    key: 'getToolbar',\n    value: function getToolbar() {\n      var isVisible = this.props.subcategories.length || this.props.user.id;\n\n      if (!isVisible) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(_toolbar2.default, {\n        subcategories: this.props.subcategories,\n        categories: this.props.route.categories,\n        categoriesMap: this.props.route.categoriesMap,\n        list: this.props.route.list,\n\n        threads: this.props.threads,\n        moderation: this.props.moderation,\n        selection: this.props.selection,\n        selectAllThreads: this.props.selectAllThreads,\n        selectNoneThreads: this.props.selectNoneThreads,\n\n        addThreads: this.props.addThreads,\n        freezeThread: this.props.freezeThread,\n        deleteThread: this.props.deleteThread,\n        updateThread: this.props.updateThread,\n\n        api: this.props.api,\n        route: this.props.route,\n        disabled: this.getDisableToolbar(),\n        user: this.props.user\n      });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'container' },\n        this.getCategoryDescription(),\n        this.getToolbar(),\n        this.props.children\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../page-lead\":89,\"./toolbar\":266,\"react\":\"react\"}],256:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ParentCategory = ParentCategory;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _dropdownToggle = require('../dropdown-toggle');\n\nvar _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);\n\nvar _nav = require('./nav');\n\nvar _nav2 = _interopRequireDefault(_nav);\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.startThread = function () {\n      _posting2.default.open(_this.props.startThread || {\n        mode: 'START',\n\n        config: _2.default.get('THREAD_EDITOR_API'),\n        submit: _2.default.get('THREADS_API'),\n\n        category: _this.props.route.category.id\n      });\n    };\n\n    _this.state = {\n      isBusy: false\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'hasGoBackButton',\n\n    /* jshint ignore:end */\n\n    value: function hasGoBackButton() {\n      return !!this.props.route.category.parent;\n    }\n  }, {\n    key: 'getGoBackButton',\n    value: function getGoBackButton() {\n      if (!this.props.route.category.parent) return null;\n\n      /* jshint ignore:start */\n      var parent = this.props.categories[this.props.route.category.parent];\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'hidden-xs col-sm-2 col-lg-1' },\n        _react2.default.createElement(\n          _reactRouter.Link,\n          {\n            className: 'btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline',\n            to: parent.url.index + this.props.route.list.path\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'keyboard_arrow_left'\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getStartThreadButton',\n    value: function getStartThreadButton() {\n      if (!this.props.user.id) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        _button2.default,\n        {\n          className: 'btn-primary btn-block btn-outline',\n          onClick: this.startThread,\n          disabled: this.props.disabled\n        },\n        _react2.default.createElement(\n          'span',\n          { className: 'material-icon' },\n          'chat'\n        ),\n        gettext(\"Start thread\")\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      var headerClassName = 'col-xs-12';\n      if (this.hasGoBackButton()) {\n        headerClassName += ' col-sm-10 col-lg-11 sm-align-row-buttons';\n      }\n\n      var isAuthenticated = !!this.props.user.id;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'page-header-bg' },\n        _react2.default.createElement(\n          'div',\n          { className: 'page-header' },\n          _react2.default.createElement(\n            'div',\n            { className: 'container' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row' },\n              _react2.default.createElement(\n                'div',\n                { className: isAuthenticated ? \"col-sm-9 col-md-10\" : \"col-xs-12\" },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'row' },\n                  this.getGoBackButton(),\n                  _react2.default.createElement(\n                    'div',\n                    { className: headerClassName },\n                    _react2.default.createElement(ParentCategory, {\n                      categories: this.props.categories,\n                      category: this.props.route.category.parent\n                    }),\n                    _react2.default.createElement(\n                      'h1',\n                      null,\n                      this.props.title\n                    )\n                  )\n                )\n              ),\n              isAuthenticated && _react2.default.createElement(\n                'div',\n                { className: 'col-sm-3 col-md-2 xs-margin-top' },\n                this.getStartThreadButton()\n              )\n            )\n          ),\n          _react2.default.createElement(_nav2.default, {\n            baseUrl: this.props.route.category.url.index,\n            list: this.props.route.list,\n            lists: this.props.route.lists\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction ParentCategory(_ref) {\n  var categories = _ref.categories,\n      category = _ref.category;\n\n  if (!category) return null;\n\n  var parent = categories[category];\n\n  return _react2.default.createElement(\n    _reactRouter.Link,\n    {\n      className: 'go-back-sm visible-xs-block',\n      to: parent.url.index\n    },\n    _react2.default.createElement(\n      'span',\n      { className: 'material-icon' },\n      'chevron_left'\n    ),\n    parent.parent ? parent.name : gettext(\"Threads\")\n  );\n}\n/* jshint ignore:end */\n\n},{\"../..\":299,\"../../services/ajax\":361,\"../../services/posting\":371,\"../../services/snackbar\":372,\"../../services/store\":373,\"../button\":7,\"../dropdown-toggle\":26,\"./nav\":263,\"react\":\"react\",\"react-router\":\"react-router\"}],257:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.list.type === 'all') {\n        if (this.props.emptyMessage) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'li',\n            { className: 'list-group-item empty-message' },\n            _react2.default.createElement(\n              'p',\n              { className: 'lead' },\n              this.props.emptyMessage\n            ),\n            _react2.default.createElement(\n              'p',\n              null,\n              gettext(\"Why not start one yourself?\")\n            )\n          );\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'li',\n            { className: 'list-group-item empty-message' },\n            _react2.default.createElement(\n              'p',\n              { className: 'lead' },\n              this.props.category.special_role ? gettext(\"There are no threads on this forum... yet!\") : gettext(\"There are no threads in this category.\")\n            ),\n            _react2.default.createElement(\n              'p',\n              null,\n              gettext(\"Why not start one yourself?\")\n            )\n          );\n          /* jshint ignore:end */\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'li',\n          { className: 'list-group-item empty-message' },\n          gettext(\"No threads matching specified criteria were found.\")\n        );\n        /* jshint ignore:end */\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],258:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _errorsList = require('./errors-list');\n\nvar _errorsList2 = _interopRequireDefault(_errorsList);\n\nvar _merge = require('./merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _move = require('./move');\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _selection = require('../../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _countdown = require('../../../utils/countdown');\n\nvar _countdown2 = _interopRequireDefault(_countdown);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {\n      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      // freeze threads\n      _this.props.threads.forEach(function (thread) {\n        _this.props.freezeThread(thread.id);\n      });\n\n      // list ids\n      var ids = _this.props.threads.map(function (thread) {\n        return thread.id;\n      });\n\n      // always return current acl\n      ops.push({ op: 'add', path: 'acl', value: true });\n\n      _ajax2.default.patch(_this.props.api, { ids: ids, ops: ops }).then(function (data) {\n        // unfreeze\n        _this.props.threads.forEach(function (thread) {\n          _this.props.freezeThread(thread.id);\n        });\n\n        // update threads\n        data.forEach(function (thread) {\n          _this.props.updateThread(thread);\n        });\n\n        // show success message and call callback\n        _snackbar2.default.success(successMessage);\n        if (onSuccess) {\n          onSuccess();\n        }\n      }, function (rejection) {\n        // unfreeze\n        _this.props.threads.forEach(function (thread) {\n          _this.props.freezeThread(thread.id);\n        });\n\n        // escape on non-400 error\n        if (rejection.status !== 400) {\n          return _snackbar2.default.apiError(rejection);\n        }\n\n        // build errors list\n        var errors = [];\n        var threadsMap = {};\n\n        _this.props.threads.forEach(function (thread) {\n          threadsMap[thread.id] = thread;\n        });\n\n        rejection.forEach(function (_ref2) {\n          var id = _ref2.id,\n              detail = _ref2.detail;\n\n          if (typeof threadsMap[id] !== 'undefined') {\n            errors.push({\n              errors: detail,\n              thread: threadsMap[id]\n            });\n          }\n        });\n\n        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));\n      });\n    }, _this.pinGlobally = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 2\n      }], gettext(\"Selected threads were pinned globally.\"));\n    }, _this.pinLocally = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 1\n      }], gettext(\"Selected threads were pinned locally.\"));\n    }, _this.unpin = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'weight',\n        value: 0\n      }], gettext(\"Selected threads were unpinned.\"));\n    }, _this.approve = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-unapproved',\n        value: false\n      }], gettext(\"Selected threads were approved.\"));\n    }, _this.open = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-closed',\n        value: false\n      }], gettext(\"Selected threads were opened.\"));\n    }, _this.close = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-closed',\n        value: true\n      }], gettext(\"Selected threads were closed.\"));\n    }, _this.unhide = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-hidden',\n        value: false\n      }], gettext(\"Selected threads were unhidden.\"));\n    }, _this.hide = function () {\n      _this.callApi([{\n        op: 'replace',\n        path: 'is-hidden',\n        value: true\n      }], gettext(\"Selected threads were hidden.\"));\n    }, _this.move = function () {\n      _modal2.default.show(_react2.default.createElement(_move2.default, {\n        callApi: _this.callApi,\n        categories: _this.props.categories,\n        categoriesMap: _this.props.categoriesMap,\n        route: _this.props.route,\n        user: _this.props.user\n      }));\n    }, _this.merge = function () {\n      var errors = [];\n      _this.props.threads.forEach(function (thread) {\n        if (!thread.acl.can_merge) {\n          errors.append({\n            'id': thread.id,\n            'title': thread.title,\n            'errors': [gettext(\"You don't have permission to merge this thread with others.\")]\n          });\n        }\n      });\n\n      if (_this.props.threads.length < 2) {\n        _snackbar2.default.info(gettext(\"You have to select at least two threads to merge.\"));\n      } else if (errors.length) {\n        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));\n        return;\n      } else {\n        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));\n      }\n    }, _this.delete = function () {\n      if (!confirm(gettext(\"Are you sure you want to delete selected threads?\"))) {\n        return;\n      }\n\n      _this.props.threads.map(function (thread) {\n        _this.props.freezeThread(thread.id);\n      });\n\n      var ids = _this.props.threads.map(function (thread) {\n        return thread.id;\n      });\n\n      _ajax2.default.delete(_this.props.api, ids).then(function () {\n        _this.props.threads.map(function (thread) {\n          _this.props.freezeThread(thread.id);\n          _this.props.deleteThread(thread);\n        });\n\n        _snackbar2.default.success(gettext(\"Selected threads were deleted.\"));\n      }, function (rejection) {\n        if (rejection.status === 400) {\n          var failedThreads = rejection.map(function (thread) {\n            return thread.id;\n          });\n\n          _this.props.threads.map(function (thread) {\n            _this.props.freezeThread(thread.id);\n            if (failedThreads.indexOf(thread.id) === -1) {\n              _this.props.deleteThread(thread);\n            }\n          });\n\n          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));\n        } else {\n          _snackbar2.default.apiError(rejection);\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'getPinGloballyButton',\n\n    /* jshint ignore:end */\n\n    value: function getPinGloballyButton() {\n      if (!this.props.moderation.can_pin_globally) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.pinGlobally,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'bookmark'\n          ),\n          gettext(\"Pin threads globally\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getPinLocallyButton',\n    value: function getPinLocallyButton() {\n      if (!this.props.moderation.can_pin) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.pinLocally,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'bookmark_border'\n          ),\n          gettext(\"Pin threads locally\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUnpinButton',\n    value: function getUnpinButton() {\n      if (!this.props.moderation.can_pin) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.unpin,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'panorama_fish_eye'\n          ),\n          gettext(\"Unpin threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getMoveButton',\n    value: function getMoveButton() {\n      if (!this.props.moderation.can_move) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.move,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          gettext(\"Move threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getMergeButton',\n    value: function getMergeButton() {\n      if (!this.props.moderation.can_merge) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.merge,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'call_merge'\n          ),\n          gettext(\"Merge threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getApproveButton',\n    value: function getApproveButton() {\n      if (!this.props.moderation.can_approve) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.approve,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'done'\n          ),\n          gettext(\"Approve threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getOpenButton',\n    value: function getOpenButton() {\n      if (!this.props.moderation.can_close) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.open,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_open'\n          ),\n          gettext(\"Open threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getCloseButton',\n    value: function getCloseButton() {\n      if (!this.props.moderation.can_close) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.close,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'lock_outline'\n          ),\n          gettext(\"Close threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUnhideButton',\n    value: function getUnhideButton() {\n      if (!this.props.moderation.can_unhide) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.unhide,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility'\n          ),\n          gettext(\"Unhide threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getHideButton',\n    value: function getHideButton() {\n      if (!this.props.moderation.can_hide) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            onClick: this.hide,\n            type: 'button',\n            className: 'btn btn-link'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'visibility_off'\n          ),\n          gettext(\"Hide threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getDeleteButton',\n    value: function getDeleteButton() {\n      if (!this.props.moderation.can_delete) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        null,\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-link',\n            onClick: this.delete,\n            type: 'button'\n          },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'clear'\n          ),\n          gettext(\"Delete threads\")\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: this.props.className },\n        this.getPinGloballyButton(),\n        this.getPinLocallyButton(),\n        this.getUnpinButton(),\n        this.getMoveButton(),\n        this.getMergeButton(),\n        this.getApproveButton(),\n        this.getOpenButton(),\n        this.getCloseButton(),\n        this.getUnhideButton(),\n        this.getHideButton(),\n        this.getDeleteButton()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../reducers/selection\":354,\"../../../services/ajax\":361,\"../../../services/modal\":367,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../../utils/countdown\":378,\"./errors-list\":259,\"./merge\":260,\"./move\":261,\"react\":\"react\"}],259:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.ThreadErrors = ThreadErrors;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"modal-dialog\", role: \"document\" },\n        _react2.default.createElement(\n          \"div\",\n          { className: \"modal-content\" },\n          _react2.default.createElement(\n            \"div\",\n            { className: \"modal-header\" },\n            _react2.default.createElement(\n              \"button\",\n              {\n                \"aria-label\": gettext(\"Close\"),\n                className: \"close\",\n                \"data-dismiss\": \"modal\",\n                type: \"button\"\n              },\n              _react2.default.createElement(\n                \"span\",\n                { \"aria-hidden\": \"true\" },\n                \"\\xD7\"\n              )\n            ),\n            _react2.default.createElement(\n              \"h4\",\n              { className: \"modal-title\" },\n              gettext(\"Threads moderation\")\n            )\n          ),\n          _react2.default.createElement(\n            \"div\",\n            { className: \"modal-body\" },\n            _react2.default.createElement(\n              \"p\",\n              { className: \"lead\" },\n              gettext(\"One or more threads could not be deleted:\")\n            ),\n            _react2.default.createElement(\n              \"ul\",\n              { className: \"list-unstyled list-errored-items\" },\n              this.props.errors.map(function (item) {\n                return _react2.default.createElement(ThreadErrors, {\n                  errors: item.errors,\n                  key: item.thread.id,\n                  thread: item.thread\n                });\n              })\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\n/* jshint ignore:start */\n\n\nexports.default = _class;\nfunction ThreadErrors(_ref) {\n  var errors = _ref.errors,\n      thread = _ref.thread;\n\n  return _react2.default.createElement(\n    \"li\",\n    null,\n    _react2.default.createElement(\n      \"h5\",\n      null,\n      thread.title\n    ),\n    errors.map(function (message, i) {\n      return _react2.default.createElement(\n        \"p\",\n        null,\n        message\n      );\n    })\n  );\n}\n/* jshint ignore:end */\n\n},{\"react\":\"react\"}],260:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _categorySelect = require('../../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _select = require('../../select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _threads = require('../../../reducers/threads');\n\nvar _selection = require('../../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _errorsList = require('./errors-list');\n\nvar _errorsList2 = _interopRequireDefault(_errorsList);\n\nvar _mergeConflict = require('../../merge-conflict');\n\nvar _mergeConflict2 = _interopRequireDefault(_mergeConflict);\n\nvar _ajax = require('../../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _snackbar = require('../../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _validators = require('../../../utils/validators');\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.getFormdata = function () {\n      return {\n        threads: _this.props.threads.map(function (thread) {\n          return thread.id;\n        }),\n        title: _this.state.title,\n        category: _this.state.category,\n        weight: _this.state.weight,\n        is_hidden: _this.state.is_hidden,\n        is_closed: _this.state.is_closed\n      };\n    };\n\n    _this.handleSuccess = function (apiResponse) {\n      // unfreeze and remove merged threads\n      _this.props.threads.forEach(function (thread) {\n        _this.props.freezeThread(thread.id);\n        _this.props.deleteThread(thread);\n      });\n\n      // deselect all threads\n      _store2.default.dispatch(select.none());\n\n      // append merged thread, filter threads\n      _this.props.addThreads([apiResponse]);\n      _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));\n\n      // hide modal\n      _modal2.default.hide();\n    };\n\n    _this.handleError = function (rejection) {\n      if (rejection.status === 400) {\n        if (rejection.best_answers || rejection.polls) {\n          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {\n            api: _index2.default.get('MERGE_THREADS_API'),\n            bestAnswers: rejection.best_answers,\n            data: _this.getFormdata(),\n            polls: rejection.polls,\n            onError: _this.handleError,\n            onSuccess: _this.handleSuccess\n          }));\n        } else {\n          _this.setState({\n            'errors': Object.assign({}, _this.state.errors, rejection)\n          });\n          _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        }\n      } else if (rejection.status === 403 && Array.isArray(rejection)) {\n        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));\n      } else if (rejection.best_answer) {\n        _snackbar2.default.error(rejection.best_answer[0]);\n      } else if (rejection.poll) {\n        _snackbar2.default.error(rejection.poll[0]);\n      } else {\n        _snackbar2.default.apiError(rejection);\n      }\n    };\n\n    _this.onCategoryChange = function (ev) {\n      var categoryId = ev.target.value;\n      var newState = {\n        category: categoryId\n      };\n\n      if (_this.acl[categoryId].can_pin_threads < newState.weight) {\n        newState.weight = 0;\n      }\n\n      if (!_this.acl[categoryId].can_hide_threads) {\n        newState.is_hidden = 0;\n      }\n\n      if (!_this.acl[categoryId].can_close_threads) {\n        newState.is_closed = false;\n      }\n\n      _this.setState(newState);\n    };\n\n    _this.state = {\n      isLoading: false,\n\n      title: '',\n      category: null,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    };\n\n    _this.acl = {};\n    for (var i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue;\n      }\n\n      var acl = props.user.acl.categories[i];\n      _this.acl[acl.id] = acl;\n    }\n\n    _this.categoryChoices = [];\n    props.categories.forEach(function (category) {\n      if (category.level > 0) {\n        var _acl = _this.acl[category.id];\n        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;\n\n        _this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name\n        });\n\n        if (!disabled && !_this.state.category) {\n          _this.state.category = category.id;\n        }\n      }\n    });\n\n    _this.isHiddenChoices = [{\n      'value': 0,\n      'icon': 'visibility',\n      'label': gettext(\"No\")\n    }, {\n      'value': 1,\n      'icon': 'visibility_off',\n      'label': gettext(\"Yes\")\n    }];\n\n    _this.isClosedChoices = [{\n      'value': false,\n      'icon': 'lock_outline',\n      'label': gettext(\"No\")\n    }, {\n      'value': true,\n      'icon': 'lock',\n      'label': gettext(\"Yes\")\n    }];\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'clean',\n    value: function clean() {\n      if (this.isValid()) {\n        return true;\n      } else {\n        _snackbar2.default.error(gettext(\"Form contains errors.\"));\n        this.setState({\n          errors: this.validate()\n        });\n        return false;\n      }\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), this.getFormdata());\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'getWeightChoices',\n\n    /* jshint ignore:end */\n\n    value: function getWeightChoices() {\n      var choices = [{\n        'value': 0,\n        'icon': 'remove',\n        'label': gettext(\"Not pinned\")\n      }, {\n        'value': 1,\n        'icon': 'bookmark_border',\n        'label': gettext(\"Pinned locally\")\n      }];\n\n      if (this.acl[this.state.category].can_pin_threads == 2) {\n        choices.push({\n          'value': 2,\n          'icon': 'bookmark',\n          'label': gettext(\"Pinned globally\")\n        });\n      }\n\n      return choices;\n    }\n  }, {\n    key: 'renderWeightField',\n    value: function renderWeightField() {\n      if (this.acl[this.state.category].can_pin_threads) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Thread weight\"),\n            'for': 'id_weight' },\n          _react2.default.createElement(_select2.default, { id: 'id_weight',\n            onChange: this.bindInput('weight'),\n            value: this.state.weight,\n            choices: this.getWeightChoices() })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderHiddenField',\n    value: function renderHiddenField() {\n      if (this.acl[this.state.category].can_hide_threads) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Hide thread\"),\n            'for': 'id_is_hidden' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_hidden'),\n            value: this.state.is_hidden,\n            choices: this.isHiddenChoices })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderClosedField',\n    value: function renderClosedField() {\n      if (this.acl[this.state.category].can_close_threads) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _formGroup2.default,\n          { label: gettext(\"Close thread\"),\n            'for': 'id_is_closed' },\n          _react2.default.createElement(_select2.default, { id: 'id_is_closed',\n            onChange: this.bindInput('is_closed'),\n            value: this.state.is_closed,\n            choices: this.isClosedChoices })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'renderForm',\n    value: function renderForm() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body' },\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"Thread title\"),\n              'for': 'id_title',\n              validation: this.state.errors.title },\n            _react2.default.createElement('input', { id: 'id_title',\n              className: 'form-control',\n              type: 'text',\n              onChange: this.bindInput('title'),\n              value: this.state.title })\n          ),\n          _react2.default.createElement('div', { className: 'clearfix' }),\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"Category\"),\n              'for': 'id_category',\n              validation: this.state.errors.category },\n            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',\n              onChange: this.onCategoryChange,\n              value: this.state.category,\n              choices: this.categoryChoices })\n          ),\n          _react2.default.createElement('div', { className: 'clearfix' }),\n          this.renderWeightField(),\n          this.renderHiddenField(),\n          this.renderClosedField()\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              disabled: this.state.isLoading,\n              type: 'button'\n            },\n            gettext(\"Cancel\")\n          ),\n          _react2.default.createElement(\n            _button2.default,\n            { className: 'btn-primary', loading: this.state.isLoading },\n            gettext(\"Merge threads\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderCantMergeMessage',\n    value: function renderCantMergeMessage() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'info_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            gettext(\"You can't move threads because there are no categories you are allowed to move them to.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext(\"You need permission to start threads in category to be able to merge threads to it.\")\n          ),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              type: 'button'\n            },\n            gettext(\"Ok\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (!this.state.category) {\n        return 'modal-dialog modal-message';\n      } else {\n        return 'modal-dialog';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(), role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Merge threads\")\n            )\n          ),\n          this.state.category ? this.renderForm() : this.renderCantMergeMessage()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../reducers/selection\":354,\"../../../reducers/threads\":357,\"../../../services/ajax\":361,\"../../../services/modal\":367,\"../../../services/snackbar\":372,\"../../../services/store\":373,\"../../../utils/validators\":389,\"../../button\":7,\"../../category-select\":20,\"../../form\":54,\"../../form-group\":53,\"../../merge-conflict\":57,\"../../select\":207,\"./errors-list\":259,\"react\":\"react\"}],261:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _form = require('../../form');\n\nvar _form2 = _interopRequireDefault(_form);\n\nvar _formGroup = require('../../form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nvar _categorySelect = require('../../category-select');\n\nvar _categorySelect2 = _interopRequireDefault(_categorySelect);\n\nvar _selection = require('../../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _threads = require('../../../reducers/threads');\n\nvar _modal = require('../../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_Form) {\n  _inherits(_class, _Form);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      // we don't reload page on submissions\n      event.preventDefault();\n\n      _modal2.default.hide();\n\n      var onSuccess = function onSuccess() {\n        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));\n\n        // deselect threads moved outside of visible scope\n        var storeState = _store2.default.getState();\n        var leftThreads = storeState.threads.map(function (thread) {\n          return thread.id;\n        });\n        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {\n          return leftThreads.indexOf(thread) !== -1;\n        })));\n      };\n\n      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext(\"Selected threads were moved.\"), onSuccess);\n    };\n\n    _this.state = {\n      category: null\n    };\n\n    var acls = {};\n    for (var i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue;\n      }\n\n      var acl = props.user.acl.categories[i];\n      acls[acl.id] = acl;\n    }\n\n    _this.categoryChoices = [];\n    props.categories.forEach(function (category) {\n      if (category.level > 0) {\n        var _acl = acls[category.id];\n        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;\n\n        _this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name\n        });\n\n        if (!disabled && !_this.state.category) {\n          _this.state.category = category.id;\n        }\n      }\n    });\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'getClassName',\n\n    /* jshint ignore:end */\n\n    value: function getClassName() {\n      if (!this.state.category) {\n        return 'modal-dialog modal-message';\n      } else {\n        return 'modal-dialog';\n      }\n    }\n  }, {\n    key: 'renderForm',\n    value: function renderForm() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.handleSubmit },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-body' },\n          _react2.default.createElement(\n            _formGroup2.default,\n            { label: gettext(\"New category\"),\n              'for': 'id_new_category' },\n            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',\n              onChange: this.bindInput('category'),\n              value: this.state.category,\n              choices: this.categoryChoices })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-footer' },\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              disabled: this.state.isLoading,\n              type: 'button'\n            },\n            gettext(\"Cancel\")\n          ),\n          _react2.default.createElement(\n            'button',\n            { className: 'btn btn-primary' },\n            gettext(\"Move threads\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'renderCantMoveMessage',\n    value: function renderCantMoveMessage() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'modal-body' },\n        _react2.default.createElement(\n          'div',\n          { className: 'message-icon' },\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'info_outline'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'message-body' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            gettext(\"You can't move threads because there are no categories you are allowed to move them to.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext(\"You need permission to start threads in category to be able to move threads to it.\")\n          ),\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default',\n              'data-dismiss': 'modal',\n              type: 'button'\n            },\n            gettext(\"Ok\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName(), role: 'document' },\n        _react2.default.createElement(\n          'div',\n          { className: 'modal-content' },\n          _react2.default.createElement(\n            'div',\n            { className: 'modal-header' },\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'close', 'data-dismiss': 'modal',\n                'aria-label': gettext(\"Close\") },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            ),\n            _react2.default.createElement(\n              'h4',\n              { className: 'modal-title' },\n              gettext(\"Move threads\")\n            )\n          ),\n          this.state.category ? this.renderForm() : this.renderCantMoveMessage()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_form2.default);\n\nexports.default = _class;\n\n},{\"../../../reducers/selection\":354,\"../../../reducers/threads\":357,\"../../../services/modal\":367,\"../../../services/store\":373,\"../../category-select\":20,\"../../form\":54,\"../../form-group\":53,\"react\":\"react\"}],262:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _selection = require('../../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {\n      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {\n        return thread.id;\n      })));\n    }, _this.selectNone = function () {\n      _store2.default.dispatch(select.none());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'render',\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        { className: this.props.className },\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-link',\n              type: 'button',\n              onClick: this.selectAll\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check_box'\n            ),\n            gettext(\"Select all\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-link',\n              type: 'button',\n              onClick: this.selectNone\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'check_box_outline_blank'\n            ),\n            gettext(\"Select none\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../reducers/selection\":354,\"../../../services/store\":373,\"react\":\"react\"}],263:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var baseUrl = _ref.baseUrl,\n      list = _ref.list,\n      lists = _ref.lists;\n\n  if (lists.length < 2) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'page-tabs' },\n    _react2.default.createElement(\n      'div',\n      { className: 'container' },\n      _react2.default.createElement(\n        'ul',\n        { className: 'nav nav-pills' },\n        lists.map(function (item) {\n          return _react2.default.createElement(\n            _li2.default,\n            {\n              isControlled: true,\n              isActive: item.path === list.path,\n              key: baseUrl + item.path\n            },\n            _react2.default.createElement(\n              _reactRouter.Link,\n              { to: baseUrl + item.path },\n              item.name\n            )\n          );\n        })\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _li = require('../li');\n\nvar _li2 = _interopRequireDefault(_li);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../li\":55,\"react\":\"react\",\"react-router\":\"react-router\"}],264:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSelect = getSelect;\nexports.getLists = getLists;\nexports.paths = paths;\n\nvar _reactRedux = require('react-redux');\n\nvar _route = require('./route');\n\nvar _route2 = _interopRequireDefault(_route);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getSelect(options) {\n  return function (store) {\n    return {\n      'options': options,\n      'selection': store.selection,\n      'threads': store.threads,\n      'tick': store.tick.tick,\n      'user': store.auth.user\n    };\n  };\n}\n\nfunction getLists(user) {\n  var lists = [{\n    type: 'all',\n    path: '',\n    name: gettext(\"All\"),\n    longName: gettext(\"All threads\")\n  }];\n\n  if (user.id) {\n    lists.push({\n      type: 'my',\n      path: 'my/',\n      name: gettext(\"My\"),\n      longName: gettext(\"My threads\")\n    });\n    lists.push({\n      type: 'new',\n      path: 'new/',\n      name: gettext(\"New\"),\n      longName: gettext(\"New threads\")\n    });\n    lists.push({\n      type: 'unread',\n      path: 'unread/',\n      name: gettext(\"Unread\"),\n      longName: gettext(\"Unread threads\")\n    });\n    lists.push({\n      type: 'subscribed',\n      path: 'subscribed/',\n      name: gettext(\"Subscribed\"),\n      longName: gettext(\"Subscribed threads\")\n    });\n\n    if (user.acl.can_see_unapproved_content_lists) {\n      lists.push({\n        type: 'unapproved',\n        path: 'unapproved/',\n        name: gettext(\"Unapproved\"),\n        longName: gettext(\"Unapproved content\")\n      });\n    }\n  }\n\n  return lists;\n}\n\nfunction paths(user, mode) {\n  var lists = getLists(user);\n  var routes = [];\n  var categoriesMap = {};\n\n  _index2.default.get('CATEGORIES').forEach(function (category) {\n    lists.forEach(function (list) {\n      categoriesMap[category.id] = category;\n\n      routes.push({\n        path: category.url.index + list.path,\n        component: (0, _reactRedux.connect)(getSelect(mode))(_route2.default),\n\n        categories: _index2.default.get('CATEGORIES'),\n        categoriesMap: categoriesMap,\n        category: category,\n\n        lists: lists,\n        list: list\n      });\n    });\n  });\n\n  return routes;\n}\n\n},{\"../../index\":299,\"./route\":265,\"react-redux\":\"react-redux\"}],265:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _button = require('../button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _compare = require('./compare');\n\nvar _container = require('./container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _utils = require('./utils');\n\nvar _threadsList = require('../threads-list');\n\nvar _threadsList2 = _interopRequireDefault(_threadsList);\n\nvar _listEmpty = require('./list-empty');\n\nvar _listEmpty2 = _interopRequireDefault(_listEmpty);\n\nvar _withDropdown = require('../with-dropdown');\n\nvar _withDropdown2 = _interopRequireDefault(_withDropdown);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _selection = require('../../reducers/selection');\n\nvar select = _interopRequireWildcard(_selection);\n\nvar _threads = require('../../reducers/threads');\n\nvar _ajax = require('../../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _polls = require('../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _snackbar = require('../../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nvar _sets = require('../../utils/sets');\n\nvar sets = _interopRequireWildcard(_sets);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_WithDropdown) {\n  _inherits(_class, _WithDropdown);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.loadMore = function () {\n      _this.setState({\n        isBusy: true\n      });\n\n      _this.loadThreads(_this.getCategory(), _this.state.page + 1);\n    };\n\n    _this.pollResponse = function (data) {\n      _this.setState({\n        diff: Object.assign({}, data, {\n          results: (0, _utils.diffThreads)(_this.props.threads, data.results)\n        })\n      });\n    };\n\n    _this.addThreads = function (threads) {\n      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));\n    };\n\n    _this.applyDiff = function () {\n      _this.addThreads(_this.state.diff.results);\n\n      _this.setState(Object.assign({}, _this.state.diff, {\n        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),\n\n        diff: {\n          results: []\n        }\n      }));\n    };\n\n    _this.freezeThread = function (thread) {\n      _this.setState(function (currentState) {\n        return {\n          busyThreads: sets.toggle(currentState.busyThreads, thread)\n        };\n      });\n    };\n\n    _this.updateThread = function (thread) {\n      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));\n    };\n\n    _this.deleteThread = function (thread) {\n      _store2.default.dispatch((0, _threads.deleteThread)(thread));\n    };\n\n    _this.state = {\n      isMounted: true,\n\n      isLoaded: false,\n      isBusy: false,\n\n      diff: {\n        results: []\n      },\n\n      moderation: [],\n      busyThreads: [],\n\n      dropdown: false,\n      subcategories: [],\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1\n    };\n\n    var category = _this.getCategory();\n\n    if (_index2.default.has('THREADS')) {\n      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));\n    } else {\n      _this.initWithoutPreloadedData(category);\n    }\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'getCategory',\n    value: function getCategory() {\n      if (!this.props.route.category.special_role) {\n        return this.props.route.category.id;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(category, data) {\n      this.state = Object.assign(this.state, {\n        moderation: (0, _utils.getModerationActions)(data.results),\n\n        subcategories: data.subcategories,\n\n        count: data.count,\n        more: data.more,\n\n        page: data.page,\n        pages: data.pages\n      });\n\n      this.startPolling(category);\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData(category) {\n      this.loadThreads(category);\n    }\n  }, {\n    key: 'loadThreads',\n    value: function loadThreads(category) {\n      var _this2 = this;\n\n      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      _ajax2.default.get(this.props.options.api, {\n        category: category,\n        list: this.props.route.list.type,\n        page: page || 1\n      }, 'threads').then(function (data) {\n        if (!_this2.state.isMounted) {\n          // user changed route before loading completion\n          return;\n        }\n\n        if (page === 1) {\n          _store2.default.dispatch((0, _threads.hydrate)(data.results));\n        } else {\n          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));\n        }\n\n        _this2.setState({\n          isLoaded: true,\n          isBusy: false,\n\n          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),\n\n          subcategories: data.subcategories,\n\n          count: data.count,\n          more: data.more,\n\n          page: data.page,\n          pages: data.pages\n        });\n\n        _this2.startPolling(category);\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'startPolling',\n    value: function startPolling(category) {\n      _polls2.default.start({\n        poll: 'threads',\n        url: this.props.options.api,\n        data: {\n          category: category,\n          list: this.props.route.list.type\n        },\n        frequency: 120 * 1000,\n        update: this.pollResponse\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setPageTitle();\n\n      if (_index2.default.has('THREADS')) {\n        // unlike in other components, routes are root components for threads\n        // so we can't dispatch store action from constructor\n        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));\n\n        this.setState({\n          isLoaded: true\n        });\n      }\n\n      _store2.default.dispatch(select.none());\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.state.isMounted = false;\n      _polls2.default.stop('threads');\n    }\n  }, {\n    key: 'getTitle',\n    value: function getTitle() {\n      if (this.props.options.title) {\n        return this.props.options.title;\n      }\n\n      return (0, _utils.getTitle)(this.props.route);\n    }\n  }, {\n    key: 'setPageTitle',\n    value: function setPageTitle() {\n      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {\n        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));\n      } else if (this.props.options.title) {\n        _pageTitle2.default.set(this.props.options.title);\n      } else {\n        if (_index2.default.get('SETTINGS').forum_index_title) {\n          document.title = _index2.default.get('SETTINGS').forum_index_title;\n        } else {\n          document.title = _index2.default.get('SETTINGS').forum_name;\n        }\n      }\n    }\n  }, {\n    key: 'getSorting',\n    value: function getSorting() {\n      if (this.props.route.category.level) {\n        return _compare.compareWeight;\n      } else {\n        return _compare.compareGlobalWeight;\n      }\n    }\n\n    /* jshint ignore:start */\n\n    // AJAX\n\n    // Thread state utils\n\n  }, {\n    key: 'getMoreButton',\n\n    /* jshint ignore:end */\n\n    value: function getMoreButton() {\n      if (this.state.more) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'pager-more' },\n          _react2.default.createElement(\n            _button2.default,\n            {\n              className: 'btn btn-default btn-outline',\n              loading: this.state.isBusy || this.state.busyThreads.length,\n              onClick: this.loadMore\n            },\n            gettext(\"Show more\")\n          )\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      var className = 'page page-threads';\n      className += ' page-threads-' + this.props.route.list.type;\n      if (this.props.route.category.css_class) {\n        className += ' page-threads-' + this.props.route.category.css_class;\n      }\n      return className;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(_header2.default, {\n          categories: this.props.route.categoriesMap,\n          disabled: !this.state.isLoaded,\n          startThread: this.props.options.startThread,\n          threads: this.props.threads,\n          title: this.getTitle(),\n          toggleNav: this.toggleNav,\n          route: this.props.route,\n          user: this.props.user\n        }),\n        _react2.default.createElement(\n          _container2.default,\n          {\n            api: this.props.options.api,\n\n            route: this.props.route,\n            subcategories: this.state.subcategories,\n            user: this.props.user,\n\n            pageLead: this.props.options.pageLead,\n\n            threads: this.props.threads,\n            threadsCount: this.state.count,\n\n            moderation: this.state.moderation,\n            selection: this.props.selection,\n\n            busyThreads: this.state.busyThreads,\n            addThreads: this.addThreads,\n            freezeThread: this.freezeThread,\n            deleteThread: this.deleteThread,\n            updateThread: this.updateThread,\n\n            isLoaded: this.state.isLoaded,\n            isBusy: this.state.isBusy\n          },\n          _react2.default.createElement(\n            _threadsList2.default,\n            {\n              category: this.props.route.category,\n              categories: this.props.route.categoriesMap,\n              list: this.props.route.list,\n              selection: this.props.selection,\n              threads: this.props.threads,\n\n              diffSize: this.state.diff.results.length,\n              applyDiff: this.applyDiff,\n\n              showOptions: !!this.props.user.id,\n\n              isLoaded: this.state.isLoaded,\n              busyThreads: this.state.busyThreads\n            },\n            _react2.default.createElement(_listEmpty2.default, {\n              category: this.props.route.category,\n              emptyMessage: this.props.options.emptyMessage,\n              list: this.props.route.list\n            })\n          ),\n          this.getMoreButton()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_withDropdown2.default);\n\nexports.default = _class;\n\n},{\"../../index\":299,\"../../reducers/selection\":354,\"../../reducers/threads\":357,\"../../services/ajax\":361,\"../../services/page-title\":369,\"../../services/polls\":370,\"../../services/snackbar\":372,\"../../services/store\":373,\"../../utils/sets\":387,\"../button\":7,\"../threads-list\":235,\"../with-dropdown\":296,\"./compare\":254,\"./container\":255,\"./header\":256,\"./list-empty\":257,\"./utils\":267,\"react\":\"react\"}],266:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _categoryPicker = require('./category-picker');\n\nvar _categoryPicker2 = _interopRequireDefault(_categoryPicker);\n\nvar _controls = require('./moderation/controls');\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _selection = require('./moderation/selection');\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getCategoryPicker',\n    value: function getCategoryPicker() {\n      if (!this.props.subcategories.length) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(_categoryPicker2.default, {\n        categories: this.props.categoriesMap,\n        choices: this.props.subcategories,\n        list: this.props.list\n      });\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'showModerationOptions',\n    value: function showModerationOptions() {\n      return this.props.user.id && this.props.moderation.allow;\n    }\n  }, {\n    key: 'getSelectedThreads',\n    value: function getSelectedThreads() {\n      var _this2 = this;\n\n      return this.props.threads.filter(function (thread) {\n        return _this2.props.selection.indexOf(thread.id) >= 0;\n      });\n    }\n  }, {\n    key: 'getModerationButton',\n    value: function getModerationButton() {\n      if (!this.showModerationOptions()) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'col-xs-6 col-sm-3 col-md-2' },\n        _react2.default.createElement(\n          'div',\n          { className: 'btn-group btn-group-justified' },\n          _react2.default.createElement(\n            'div',\n            { className: 'btn-group dropdown' },\n            _react2.default.createElement(\n              'button',\n              {\n                type: 'button',\n                className: 'btn btn-default btn-outline dropdown-toggle',\n                'data-toggle': 'dropdown',\n                'aria-haspopup': 'true',\n                'aria-expanded': 'false',\n                disabled: this.props.disabled || !this.props.selection.length\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'settings'\n              ),\n              gettext(\"Options\")\n            ),\n            _react2.default.createElement(_controls2.default, {\n              addThreads: this.props.addThreads,\n              api: this.props.api,\n              categories: this.props.categories,\n              categoriesMap: this.props.categoriesMap,\n              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',\n              deleteThread: this.props.deleteThread,\n              freezeThread: this.props.freezeThread,\n              moderation: this.props.moderation,\n              route: this.props.route,\n              threads: this.getSelectedThreads(),\n              updateThread: this.props.updateThread,\n              user: this.props.user\n            })\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getSelectionButton',\n    value: function getSelectionButton() {\n      if (!this.showModerationOptions()) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'col-xs-3 col-sm-2 col-md-1' },\n        _react2.default.createElement(\n          'div',\n          { className: 'btn-group btn-group-justified' },\n          _react2.default.createElement(\n            'div',\n            { className: 'btn-group dropdown' },\n            _react2.default.createElement(\n              'button',\n              {\n                type: 'button',\n                className: 'btn btn-default btn-outline btn-icon dropdown-toggle',\n                'data-toggle': 'dropdown',\n                'aria-haspopup': 'true',\n                'aria-expanded': 'false',\n                disabled: this.props.disabled\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'select_all'\n              )\n            ),\n            _react2.default.createElement(_selection2.default, {\n              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',\n              threads: this.props.threads\n            })\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row-toolbar row-toolbar-bottom-margin' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-xs-3 col-sm-3 col-md-2 dropdown' },\n          this.getCategoryPicker()\n        ),\n        _react2.default.createElement('div', { className: 'hidden-xs col-sm-4 col-md-7' }),\n        this.getModerationButton(),\n        this.getSelectionButton()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./category-picker\":253,\"./moderation/controls\":258,\"./moderation/selection\":262,\"react\":\"react\"}],267:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPageTitle = getPageTitle;\nexports.getTitle = getTitle;\nexports.isThreadChanged = isThreadChanged;\nexports.diffThreads = diffThreads;\nexports.getModerationActions = getModerationActions;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getPageTitle(route) {\n  if (route.category.level) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: route.category.name\n      };\n    } else {\n      return {\n        title: route.category.name\n      };\n    }\n  } else if (_index2.default.get('THREADS_ON_INDEX')) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName\n      };\n    } else {\n      return null;\n    }\n  } else {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: gettext(\"Threads\")\n      };\n    } else {\n      return {\n        title: gettext(\"Threads\")\n      };\n    }\n  }\n}\n\nfunction getTitle(route) {\n  if (route.category.level) {\n    return route.category.name;\n  } else if (_index2.default.get('THREADS_ON_INDEX')) {\n    if (_index2.default.get('SETTINGS').forum_index_title) {\n      return _index2.default.get('SETTINGS').forum_index_title;\n    } else {\n      return _index2.default.get('SETTINGS').forum_name;\n    }\n  } else {\n    return gettext(\"Threads\");\n  }\n}\n\nfunction isThreadChanged(current, fromDb) {\n  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;\n}\n\nfunction diffThreads(current, fromDb) {\n  var currentMap = {};\n  current.forEach(function (thread) {\n    currentMap[thread.id] = thread;\n  });\n\n  return fromDb.filter(function (thread) {\n    if (currentMap[thread.id]) {\n      return isThreadChanged(currentMap[thread.id], thread);\n    } else {\n      return true;\n    }\n  });\n}\n\nfunction getModerationActions(threads) {\n  var moderation = {\n    allow: false,\n\n    can_approve: 0,\n    can_close: 0,\n    can_delete: 0,\n    can_hide: 0,\n    can_merge: 0,\n    can_move: 0,\n    can_pin: 0,\n    can_pin_globally: 0,\n    can_unhide: 0\n  };\n\n  threads.forEach(function (thread) {\n    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {\n      moderation.can_approve = thread.acl.can_approve;\n    }\n\n    if (thread.acl.can_close > moderation.can_close) {\n      moderation.can_close = thread.acl.can_close;\n    }\n\n    if (thread.acl.can_delete > moderation.can_delete) {\n      moderation.can_delete = thread.acl.can_delete;\n    }\n\n    if (thread.acl.can_hide > moderation.can_hide) {\n      moderation.can_hide = thread.acl.can_hide;\n    }\n\n    if (thread.acl.can_merge > moderation.can_merge) {\n      moderation.can_merge = thread.acl.can_merge;\n    }\n\n    if (thread.acl.can_move > moderation.can_move) {\n      moderation.can_move = thread.acl.can_move;\n    }\n\n    if (thread.acl.can_pin > moderation.can_pin) {\n      moderation.can_pin = thread.acl.can_pin;\n    }\n\n    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {\n      moderation.can_pin_globally = thread.acl.can_pin_globally;\n    }\n\n    if (thread.acl.can_unhide > moderation.can_unhide) {\n      moderation.can_unhide = thread.acl.can_unhide;\n    }\n\n    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;\n  });\n\n  return moderation;\n}\n\n},{\"../../index\":299}],268:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _navbarSearch = require('../navbar-search');\n\nvar _navbarSearch2 = _interopRequireDefault(_navbarSearch);\n\nvar _registerButton = require('../register-button');\n\nvar _registerButton2 = _interopRequireDefault(_registerButton);\n\nvar _signIn = require('../sign-in.js');\n\nvar _signIn2 = _interopRequireDefault(_signIn);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar GuestMenu = exports.GuestMenu = function (_React$Component) {\n  _inherits(GuestMenu, _React$Component);\n\n  function GuestMenu() {\n    _classCallCheck(this, GuestMenu);\n\n    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));\n  }\n\n  _createClass(GuestMenu, [{\n    key: 'showSignInModal',\n    value: function showSignInModal() {\n      _modal2.default.show(_signIn2.default);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'ul',\n        {\n          className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu'\n        },\n        _react2.default.createElement(\n          'li',\n          { className: 'guest-preview' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            gettext(\"You are browsing as guest.\")\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            gettext('Sign in or register to start and participate in discussions.')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                'button',\n                {\n                  className: 'btn btn-default btn-sign-in btn-block',\n                  onClick: this.showSignInModal,\n                  type: 'button'\n                },\n                gettext(\"Sign in\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-6' },\n              _react2.default.createElement(\n                _registerButton2.default,\n                { className: 'btn-primary btn-register btn-block' },\n                gettext(\"Register\")\n              )\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestMenu;\n}(_react2.default.Component);\n\nvar GuestNav = exports.GuestNav = function (_GuestMenu) {\n  _inherits(GuestNav, _GuestMenu);\n\n  function GuestNav() {\n    _classCallCheck(this, GuestNav);\n\n    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));\n  }\n\n  _createClass(GuestNav, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'nav nav-guest' },\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn navbar-btn btn-default btn-sign-in',\n            onClick: this.showSignInModal,\n            type: 'button'\n          },\n          gettext(\"Sign in\")\n        ),\n        _react2.default.createElement(\n          _registerButton2.default,\n          { className: 'navbar-btn btn-primary btn-register' },\n          gettext(\"Register\")\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'navbar-left' },\n          _react2.default.createElement(_navbarSearch2.default, null)\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return GuestNav;\n}(GuestMenu);\n\nvar CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {\n  _inherits(CompactGuestNav, _React$Component2);\n\n  function CompactGuestNav() {\n    _classCallCheck(this, CompactGuestNav);\n\n    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));\n  }\n\n  _createClass(CompactGuestNav, [{\n    key: 'showGuestMenu',\n    value: function showGuestMenu() {\n      _mobileNavbarDropdown2.default.show(GuestMenu);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showGuestMenu },\n        _react2.default.createElement(_avatar2.default, { size: '64' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactGuestNav;\n}(_react2.default.Component);\n\n},{\"../../services/mobile-navbar-dropdown\":366,\"../../services/modal\":367,\"../avatar\":5,\"../navbar-search\":75,\"../register-button\":195,\"../sign-in.js\":208,\"react\":\"react\"}],269:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserMenu = exports.UserMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _guestNav = require('./guest-nav');\n\nvar _userNav = require('./user-nav');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar UserMenu = exports.UserMenu = function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.GuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n}(_react2.default.Component);\n\nvar CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {\n  _inherits(CompactUserMenu, _React$Component2);\n\n  function CompactUserMenu() {\n    _classCallCheck(this, CompactUserMenu);\n\n    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));\n  }\n\n  _createClass(CompactUserMenu, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      if (this.props.isAuthenticated) {\n        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });\n      } else {\n        return _react2.default.createElement(_guestNav.CompactGuestNav, null);\n      }\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserMenu;\n}(_react2.default.Component);\n\nfunction select(state) {\n  return state.auth;\n}\n\n},{\"./guest-nav\":268,\"./user-nav\":270,\"react\":\"react\"}],270:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CompactUserNav = exports.UserMenu = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.PrivateThreadsBadge = PrivateThreadsBadge;\nexports.UserNav = UserNav;\nexports.UserPrivateThreadsLink = UserPrivateThreadsLink;\nexports.selectUserMenu = selectUserMenu;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _root = require('../change-avatar/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _navbarSearch = require('../navbar-search');\n\nvar _navbarSearch2 = _interopRequireDefault(_navbarSearch);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nvar _modal = require('../../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar UserMenu = exports.UserMenu = function (_React$Component) {\n  _inherits(UserMenu, _React$Component);\n\n  function UserMenu() {\n    _classCallCheck(this, UserMenu);\n\n    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));\n  }\n\n  _createClass(UserMenu, [{\n    key: 'logout',\n    value: function logout() {\n      var decision = confirm(gettext(\"Are you sure you want to sign out?\"));\n      if (decision) {\n        $('#hidden-logout-form').submit();\n      }\n    }\n  }, {\n    key: 'changeAvatar',\n    value: function changeAvatar() {\n      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      var user = this.props.user;\n\n\n      return _react2.default.createElement(\n        'ul',\n        {\n          className: 'dropdown-menu user-dropdown dropdown-menu-right',\n          role: 'menu'\n        },\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-header' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            user.username\n          ),\n          _react2.default.createElement(\n            'ul',\n            { className: 'list-unstyled list-inline user-stats' },\n            _react2.default.createElement(\n              'li',\n              null,\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'message'\n              ),\n              user.posts\n            ),\n            _react2.default.createElement(\n              'li',\n              null,\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'forum'\n              ),\n              user.threads\n            ),\n            _react2.default.createElement(\n              'li',\n              null,\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'favorite'\n              ),\n              user.followers\n            ),\n            _react2.default.createElement(\n              'li',\n              null,\n              _react2.default.createElement(\n                'span',\n                { className: 'material-icon' },\n                'favorite_outline'\n              ),\n              user.following\n            )\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: user.url },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'account_circle'\n            ),\n            gettext(\"See your profile\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _2.default.get('USERCP_URL') },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'done_all'\n            ),\n            gettext(\"Change options\")\n          )\n        ),\n        _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn-link',\n              onClick: this.changeAvatar,\n              type: 'button'\n            },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'portrait'\n            ),\n            gettext(\"Change avatar\")\n          )\n        ),\n        !!user.acl.can_use_private_threads && _react2.default.createElement(\n          'li',\n          null,\n          _react2.default.createElement(\n            'a',\n            { href: _2.default.get('PRIVATE_THREADS_URL') },\n            _react2.default.createElement(\n              'span',\n              { className: 'material-icon' },\n              'message'\n            ),\n            gettext(\"Private threads\"),\n            _react2.default.createElement(PrivateThreadsBadge, { user: user })\n          )\n        ),\n        _react2.default.createElement('li', { className: 'divider' }),\n        _react2.default.createElement(\n          'li',\n          { className: 'dropdown-buttons' },\n          _react2.default.createElement(\n            'button',\n            {\n              className: 'btn btn-default btn-block',\n              onClick: this.logout,\n              type: 'button'\n            },\n            gettext(\"Log out\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return UserMenu;\n}(_react2.default.Component);\n\nfunction PrivateThreadsBadge(_ref) {\n  var user = _ref.user;\n\n  if (!user.unread_private_threads) return null;\n\n  /* jshint ignore:start */\n  return _react2.default.createElement(\n    'span',\n    { className: 'badge' },\n    user.unread_private_threads\n  );\n  /* jshint ignore:end */\n}\n\n/* jshint ignore:start */\nfunction UserNav(_ref2) {\n  var user = _ref2.user;\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'ul nav navbar-nav nav-user' },\n    _react2.default.createElement(\n      'li',\n      null,\n      _react2.default.createElement(_navbarSearch2.default, null)\n    ),\n    _react2.default.createElement(UserPrivateThreadsLink, { user: user }),\n    _react2.default.createElement(\n      'li',\n      { className: 'dropdown' },\n      _react2.default.createElement(\n        'a',\n        {\n          'aria-haspopup': 'true',\n          'aria-expanded': 'false',\n          className: 'dropdown-toggle',\n          'data-toggle': 'dropdown',\n          href: user.url,\n          role: 'button'\n        },\n        _react2.default.createElement(_avatar2.default, { user: user, size: '64' })\n      ),\n      _react2.default.createElement(UserMenu, { user: user })\n    )\n  );\n}\n/* jshint ignore:end */\n\nfunction UserPrivateThreadsLink(_ref3) {\n  var user = _ref3.user;\n\n  if (!user.acl.can_use_private_threads) return null;\n\n  var title = null;\n  if (user.unread_private_threads) {\n    title = gettext(\"You have unread private threads!\");\n  } else {\n    title = gettext(\"Private threads\");\n  }\n\n  /* jshint ignore:start */\n  return _react2.default.createElement(\n    'li',\n    null,\n    _react2.default.createElement(\n      'a',\n      {\n        className: 'navbar-icon',\n        href: _2.default.get('PRIVATE_THREADS_URL'),\n        title: title },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'message'\n      ),\n      user.unread_private_threads > 0 && _react2.default.createElement(\n        'span',\n        { className: 'badge' },\n        user.unread_private_threads\n      )\n    )\n  );\n  /* jshint ignore:end */\n}\n\nfunction selectUserMenu(state) {\n  return {\n    user: state.auth.user\n  };\n}\n\nvar CompactUserNav = exports.CompactUserNav = function (_React$Component2) {\n  _inherits(CompactUserNav, _React$Component2);\n\n  function CompactUserNav() {\n    _classCallCheck(this, CompactUserNav);\n\n    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));\n  }\n\n  _createClass(CompactUserNav, [{\n    key: 'showUserMenu',\n    value: function showUserMenu() {\n      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'button',\n        { type: 'button', onClick: this.showUserMenu },\n        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '50' })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return CompactUserNav;\n}(_react2.default.Component);\n\n},{\"../..\":299,\"../../services/mobile-navbar-dropdown\":366,\"../../services/modal\":367,\"../avatar\":5,\"../change-avatar/root\":24,\"../navbar-search\":75,\"react\":\"react\",\"react-redux\":\"react-redux\"}],271:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StatusLabel = exports.StatusIcon = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getStatusClassName = getStatusClassName;\nexports.getStatusDescription = getStatusDescription;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getClass',\n    value: function getClass() {\n      return getStatusClassName(this.props.status);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'span',\n        { className: this.getClass() },\n        this.props.children\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\nvar StatusIcon = exports.StatusIcon = function (_React$Component2) {\n  _inherits(StatusIcon, _React$Component2);\n\n  function StatusIcon() {\n    _classCallCheck(this, StatusIcon);\n\n    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));\n  }\n\n  _createClass(StatusIcon, [{\n    key: 'getIcon',\n    value: function getIcon() {\n      if (this.props.status.is_banned) {\n        return 'remove_circle_outline';\n      } else if (this.props.status.is_hidden) {\n        return 'help_outline';\n      } else if (this.props.status.is_online_hidden) {\n        return 'label';\n      } else if (this.props.status.is_offline_hidden) {\n        return 'label_outline';\n      } else if (this.props.status.is_online) {\n        return 'lens';\n      } else if (this.props.status.is_offline) {\n        return 'panorama_fish_eye';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'span',\n        { className: 'material-icon status-icon' },\n        this.getIcon()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return StatusIcon;\n}(_react2.default.Component);\n\nvar StatusLabel = exports.StatusLabel = function (_React$Component3) {\n  _inherits(StatusLabel, _React$Component3);\n\n  function StatusLabel() {\n    _classCallCheck(this, StatusLabel);\n\n    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));\n  }\n\n  _createClass(StatusLabel, [{\n    key: 'getHelp',\n    value: function getHelp() {\n      return getStatusDescription(this.props.user, this.props.status);\n    }\n  }, {\n    key: 'getLabel',\n    value: function getLabel() {\n      if (this.props.status.is_banned) {\n        return gettext(\"Banned\");\n      } else if (this.props.status.is_hidden) {\n        return gettext(\"Hidden\");\n      } else if (this.props.status.is_online_hidden) {\n        return gettext(\"Online (hidden)\");\n      } else if (this.props.status.is_offline_hidden) {\n        return gettext(\"Offline (hidden)\");\n      } else if (this.props.status.is_online) {\n        return gettext(\"Online\");\n      } else if (this.props.status.is_offline) {\n        return gettext(\"Offline\");\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'span',\n        { className: this.props.className || \"status-label\",\n          title: this.getHelp() },\n        this.getLabel()\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return StatusLabel;\n}(_react2.default.Component);\n\nfunction getStatusClassName(status) {\n  var className = '';\n  if (status.is_banned) {\n    className = 'banned';\n  } else if (status.is_hidden) {\n    className = 'offline';\n  } else if (status.is_online_hidden) {\n    className = 'online';\n  } else if (status.is_offline_hidden) {\n    className = 'offline';\n  } else if (status.is_online) {\n    className = 'online';\n  } else if (status.is_offline) {\n    className = 'offline';\n  }\n\n  return 'user-status user-' + className;\n}\n\nfunction getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(gettext(\"%(username)s is banned until %(ban_expires)s\"), {\n        username: user.username,\n        ban_expires: status.banned_until.format('LL, LT')\n      }, true);\n    } else {\n      return interpolate(gettext(\"%(username)s is banned\"), {\n        username: user.username\n      }, true);\n    }\n  } else if (status.is_hidden) {\n    return interpolate(gettext(\"%(username)s is hiding presence\"), {\n      username: user.username\n    }, true);\n  } else if (status.is_online_hidden) {\n    return interpolate(gettext(\"%(username)s is online (hidden)\"), {\n      username: user.username\n    }, true);\n  } else if (status.is_offline_hidden) {\n    return interpolate(gettext(\"%(username)s was last seen %(last_click)s (hidden)\"), {\n      username: user.username,\n      last_click: status.last_click.fromNow()\n    }, true);\n  } else if (status.is_online) {\n    return interpolate(gettext(\"%(username)s is online\"), {\n      username: user.username\n    }, true);\n  } else if (status.is_offline) {\n    return interpolate(gettext(\"%(username)s was last seen %(last_click)s\"), {\n      username: user.username,\n      last_click: status.last_click.fromNow()\n    }, true);\n  }\n}\n\n},{\"react\":\"react\"}],272:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _random = require('../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.hiddenOnMobile) {\n        return 'list-group-item hidden-xs hidden-sm';\n      } else {\n        return 'list-group-item';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'div',\n          { className: 'change-avatar' },\n          _react2.default.createElement(\n            'span',\n            { className: 'user-avatar' },\n            _react2.default.createElement(_avatar2.default, { size: '100' })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change-author' },\n          _react2.default.createElement(\n            'span',\n            { className: 'ui-preview-text', style: { width: random.int(30, 100) + \"px\" } },\n            '\\xA0'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change' },\n          _react2.default.createElement(\n            'span',\n            { className: 'ui-preview-text', style: { width: random.int(30, 70) + \"px\" } },\n            '\\xA0'\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: 'ui-preview-text', style: { width: random.int(30, 70) + \"px\" } },\n            '\\xA0'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change-date' },\n          _react2.default.createElement(\n            'span',\n            { className: 'ui-preview-text', style: { width: random.int(80, 140) + \"px\" } },\n            '\\xA0'\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../utils/random\":384,\"../avatar\":5,\"react\":\"react\"}],273:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'renderUserAvatar',\n    value: function renderUserAvatar() {\n      if (this.props.change.changed_by) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: this.props.change.changed_by.url, className: 'user-avatar-wrapper' },\n          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })\n        );\n        /* jshint ignore:end */\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { className: 'user-avatar-wrapper' },\n          _react2.default.createElement(_avatar2.default, { size: '100' })\n        );\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'renderUsername',\n    value: function renderUsername() {\n      if (this.props.change.changed_by) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'a',\n          { href: this.props.change.changed_by.url, className: 'item-title' },\n          this.props.change.changed_by.username\n        );\n        /* jshint ignore:end */\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { className: 'item-title' },\n          this.props.change.changed_by_username\n        );\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: 'list-group-item', key: this.props.change.id },\n        _react2.default.createElement(\n          'div',\n          { className: 'change-avatar' },\n          this.renderUserAvatar()\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change-author' },\n          this.renderUsername()\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change' },\n          _react2.default.createElement(\n            'span',\n            { className: 'old-username' },\n            this.props.change.old_username\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: 'material-icon' },\n            'arrow_forward'\n          ),\n          _react2.default.createElement(\n            'span',\n            { className: 'new-username' },\n            this.props.change.new_username\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'change-date' },\n          _react2.default.createElement(\n            'abbr',\n            { title: this.props.change.changed_on.format('LLL') },\n            this.props.change.changed_on.fromNow()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../avatar\":5,\"react\":\"react\"}],274:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"getEmptyMessage\",\n    value: function getEmptyMessage() {\n      if (this.props.emptyMessage) {\n        return this.props.emptyMessage;\n      } else {\n        return gettext(\"No name changes have been recorded for your account.\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"username-history ui-ready\" },\n        _react2.default.createElement(\n          \"ul\",\n          { className: \"list-group\" },\n          _react2.default.createElement(\n            \"li\",\n            { className: \"list-group-item empty-message\" },\n            this.getEmptyMessage()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],275:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _changePreview = require('./change-preview');\n\nvar _changePreview2 = _interopRequireDefault(_changePreview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'username-history ui-preview' },\n        _react2.default.createElement(\n          'ul',\n          { className: 'list-group' },\n          [0, 1, 2].map(function (i) {\n            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./change-preview\":272,\"react\":\"react\"}],276:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _change = require('./change');\n\nvar _change2 = _interopRequireDefault(_change);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'username-history ui-ready' },\n        _react2.default.createElement(\n          'ul',\n          { className: 'list-group' },\n          this.props.changes.map(function (change) {\n            return _react2.default.createElement(_change2.default, { change: change, key: change.id });\n          })\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./change\":273,\"react\":\"react\"}],277:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listEmpty = require('./list-empty');\n\nvar _listEmpty2 = _interopRequireDefault(_listEmpty);\n\nvar _listReady = require('./list-ready');\n\nvar _listReady2 = _interopRequireDefault(_listReady);\n\nvar _listPreview = require('./list-preview');\n\nvar _listPreview2 = _interopRequireDefault(_listPreview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.isLoaded) {\n        if (this.props.changes.length) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });\n          /* jshint ignore:end */\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_listPreview2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./list-empty\":274,\"./list-preview\":275,\"./list-ready\":276,\"react\":\"react\"}],278:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var showStatus = _ref.showStatus,\n      user = _ref.user;\n  var rank = user.rank;\n\n\n  var className = 'panel user-card';\n  if (rank.css_class) {\n    className += ' user-card-' + rank.css_class;\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: className },\n    _react2.default.createElement(\n      'div',\n      { className: 'panel-body' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-xs-3 user-card-left' },\n          _react2.default.createElement(\n            'div',\n            { className: 'user-card-small-avatar' },\n            _react2.default.createElement(\n              'a',\n              { href: user.url },\n              _react2.default.createElement(_avatar2.default, {\n                size: '50',\n                size2x: '80',\n                user: user\n              })\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-xs-9 col-sm-12 user-card-body' },\n          _react2.default.createElement(\n            'div',\n            { className: 'user-card-avatar' },\n            _react2.default.createElement(\n              'a',\n              { href: user.url },\n              _react2.default.createElement(_avatar2.default, {\n                size: '150',\n                size2x: '200',\n                user: user\n              })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-card-username' },\n            _react2.default.createElement(\n              'a',\n              { href: user.url },\n              user.username\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-card-title' },\n            _react2.default.createElement(_userTitle2.default, {\n              rank: rank,\n              title: user.title\n            })\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-card-stats' },\n            _react2.default.createElement(_stats2.default, {\n              showStatus: showStatus,\n              user: user\n            })\n          )\n        )\n      )\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _stats = require('./stats');\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _userTitle = require('./user-title');\n\nvar _userTitle2 = _interopRequireDefault(_userTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../avatar\":5,\"./stats\":279,\"./user-title\":280,\"react\":\"react\"}],279:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var showStatus = _ref.showStatus,\n      user = _ref.user;\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'list-unstyled' },\n    _react2.default.createElement(Status, {\n      showStatus: showStatus,\n      user: user\n    }),\n    _react2.default.createElement(JoinDate, { user: user }),\n    _react2.default.createElement('li', { className: 'user-stat-divider' }),\n    _react2.default.createElement(Posts, { user: user }),\n    _react2.default.createElement(Threads, { user: user }),\n    _react2.default.createElement(Followers, { user: user })\n  );\n};\n\nexports.Status = Status;\nexports.JoinDate = JoinDate;\nexports.Posts = Posts;\nexports.Threads = Threads;\nexports.Followers = Followers;\nexports.getStatClassName = getStatClassName;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _userStatus = require('../../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Status(_ref2) {\n  var showStatus = _ref2.showStatus,\n      user = _ref2.user;\n\n  if (!showStatus) return null;\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'user-stat-status' },\n    _react2.default.createElement(\n      _userStatus2.default,\n      { status: user.status },\n      _react2.default.createElement(_userStatus.StatusLabel, {\n        status: user.status,\n        user: user\n      })\n    )\n  );\n} // jshint ignore:start\nfunction JoinDate(_ref3) {\n  var user = _ref3.user;\n  var joined_on = user.joined_on;\n\n\n  var title = interpolate(gettext(\"Joined on %(joined_on)s\"), {\n    'joined_on': joined_on.format('LL, LT')\n  }, true);\n\n  var message = interpolate(gettext(\"Joined %(joined_on)s\"), {\n    'joined_on': joined_on.fromNow()\n  }, true);\n\n  return _react2.default.createElement(\n    'li',\n    { className: 'user-stat-join-date' },\n    _react2.default.createElement(\n      'abbr',\n      { title: title },\n      message\n    )\n  );\n}\n\nfunction Posts(_ref4) {\n  var user = _ref4.user;\n\n  var className = getStatClassName(\"user-stat-posts\", user.posts);\n  var message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", user.posts);\n\n  return _react2.default.createElement(\n    'li',\n    { className: className },\n    interpolate(message, {\n      'posts': user.posts\n    }, true)\n  );\n}\n\nfunction Threads(_ref5) {\n  var user = _ref5.user;\n\n  var className = getStatClassName(\"user-stat-threads\", user.threads);\n  var message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", user.threads);\n\n  return _react2.default.createElement(\n    'li',\n    { className: className },\n    interpolate(message, {\n      'threads': user.threads\n    }, true)\n  );\n}\n\nfunction Followers(_ref6) {\n  var user = _ref6.user;\n\n  var className = getStatClassName(\"user-stat-followers\", user.followers);\n  var message = ngettext(\"%(followers)s follower\", \"%(followers)s followers\", user.followers);\n\n  return _react2.default.createElement(\n    'li',\n    { className: className },\n    interpolate(message, {\n      'followers': user.followers\n    }, true)\n  );\n}\n\nfunction getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + ' user-stat-empty';\n  }\n  return className;\n}\n\n},{\"../../user-status\":271,\"react\":\"react\"}],280:[function(require,module,exports){\narguments[4][127][0].apply(exports,arguments)\n},{\"dup\":127,\"react\":\"react\"}],281:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var cols = _ref.cols,\n      isReady = _ref.isReady,\n      showStatus = _ref.showStatus,\n      users = _ref.users;\n\n  var colClassName = 'col-xs-12 col-sm-4';\n  if (cols === 4) {\n    colClassName += ' col-md-3';\n  }\n\n  if (!isReady) {\n    return _react2.default.createElement(_preview2.default, {\n      colClassName: colClassName,\n      cols: cols\n    });\n  }\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'users-cards-list ui-ready' },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      users.map(function (user) {\n        return _react2.default.createElement(\n          'div',\n          {\n            className: colClassName,\n            key: user.id\n          },\n          _react2.default.createElement(_card2.default, {\n            showStatus: showStatus,\n            user: user\n          })\n        );\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _card = require('./card');\n\nvar _card2 = _interopRequireDefault(_card);\n\nvar _preview = require('./preview');\n\nvar _preview2 = _interopRequireDefault(_preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./card\":278,\"./preview\":283,\"react\":\"react\"}],282:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'panel user-card user-card-preview' },\n        _react2.default.createElement(\n          'div',\n          { className: 'panel-body' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row' },\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-3 user-card-left' },\n              _react2.default.createElement(\n                'div',\n                { className: 'user-card-small-avatar' },\n                _react2.default.createElement(\n                  'span',\n                  null,\n                  _react2.default.createElement(_avatar2.default, {\n                    size: '50',\n                    size2x: '80'\n                  })\n                )\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'col-xs-9 col-sm-12 user-card-body' },\n              _react2.default.createElement(\n                'div',\n                { className: 'user-card-avatar' },\n                _react2.default.createElement(\n                  'span',\n                  null,\n                  _react2.default.createElement(_avatar2.default, {\n                    size: '150',\n                    size2x: '200'\n                  })\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'user-card-username' },\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(60, 150) + \"px\" }\n                  },\n                  '\\xA0'\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'user-card-title' },\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(60, 150) + \"px\" }\n                  },\n                  '\\xA0'\n                )\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'user-card-stats' },\n                _react2.default.createElement(\n                  'ul',\n                  { className: 'list-unstyled' },\n                  _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                      'span',\n                      {\n                        className: 'ui-preview-text',\n                        style: { width: random.int(30, 70) + \"px\" }\n                      },\n                      '\\xA0'\n                    )\n                  ),\n                  _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                      'span',\n                      {\n                        className: 'ui-preview-text',\n                        style: { width: random.int(30, 70) + \"px\" }\n                      },\n                      '\\xA0'\n                    )\n                  ),\n                  _react2.default.createElement('li', { className: 'user-stat-divider' }),\n                  _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                      'span',\n                      {\n                        className: 'ui-preview-text',\n                        style: { width: random.int(30, 70) + \"px\" }\n                      },\n                      '\\xA0'\n                    )\n                  ),\n                  _react2.default.createElement(\n                    'li',\n                    null,\n                    _react2.default.createElement(\n                      'span',\n                      {\n                        className: 'ui-preview-text',\n                        style: { width: random.int(30, 70) + \"px\" }\n                      },\n                      '\\xA0'\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../utils/random\":384,\"../../avatar\":5,\"react\":\"react\"}],283:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var colClassName = _ref.colClassName,\n      cols = _ref.cols;\n\n  var list = Array.apply(null, { length: cols }).map(Number.call, Number);\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'users-cards-list ui-preview' },\n    _react2.default.createElement(\n      'div',\n      { className: 'row' },\n      list.map(function (i) {\n        var className = colClassName;\n        if (i !== 0) className += ' hidden-xs';\n        if (i === 3) className += ' hidden-sm';\n\n        return _react2.default.createElement(\n          'div',\n          {\n            className: className,\n            key: i\n          },\n          _react2.default.createElement(_card2.default, null)\n        );\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _card = require('./card');\n\nvar _card2 = _interopRequireDefault(_card);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./card\":282,\"react\":\"react\"}],284:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getEmptyMessage',\n    value: function getEmptyMessage() {\n      return interpolate(gettext(\"No users have posted any new messages during last %(days)s days.\"), { 'days': this.props.trackedPeriod }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'active-posters-list' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.getEmptyMessage()\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],285:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.hiddenOnMobile) {\n        return 'list-group-item hidden-xs hidden-sm';\n      } else {\n        return 'list-group-item';\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-user-avatar' },\n          _react2.default.createElement(\n            'span',\n            null,\n            _react2.default.createElement(_avatar2.default, { size: '50' })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-user' },\n          _react2.default.createElement(\n            'div',\n            { className: 'user-name' },\n            _react2.default.createElement(\n              'span',\n              { className: 'item-title' },\n              _react2.default.createElement(\n                'span',\n                {\n                  className: 'ui-preview-text',\n                  style: { width: random.int(30, 80) + \"px\" }\n                },\n                '\\xA0'\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-details' },\n            _react2.default.createElement(\n              'span',\n              { className: 'user-status' },\n              _react2.default.createElement(\n                'span',\n                { className: 'status-icon ui-preview-text' },\n                '\\xA0'\n              ),\n              _react2.default.createElement(\n                'span',\n                {\n                  className: 'status-label ui-preview-text hidden-xs hidden-sm',\n                  style: { width: random.int(30, 50) + \"px\" }\n                },\n                '\\xA0'\n              )\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'rank-name' },\n              _react2.default.createElement(\n                'span',\n                {\n                  className: 'ui-preview-text',\n                  style: { width: random.int(30, 50) + \"px\" }\n                },\n                '\\xA0'\n              )\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'user-title hidden-xs hidden-sm' },\n              _react2.default.createElement(\n                'span',\n                {\n                  className: 'ui-preview-text',\n                  style: { width: random.int(30, 50) + \"px\" }\n                },\n                '\\xA0'\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-compact-stats visible-xs-block' },\n            _react2.default.createElement(\n              'span',\n              { className: 'rank-position' },\n              _react2.default.createElement(\n                'strong',\n                null,\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(20, 30) + \"px\" }\n                  },\n                  '\\xA0'\n                )\n              ),\n              _react2.default.createElement(\n                'small',\n                null,\n                gettext(\"Rank\")\n              )\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'rank-posts-counted' },\n              _react2.default.createElement(\n                'strong',\n                null,\n                _react2.default.createElement(\n                  'span',\n                  {\n                    className: 'ui-preview-text',\n                    style: { width: random.int(20, 30) + \"px\" }\n                  },\n                  '\\xA0'\n                )\n              ),\n              _react2.default.createElement(\n                'small',\n                null,\n                gettext(\"Ranked posts\")\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-position hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(20, 30) + \"px\" }\n              },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Rank\")\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-posts-counted hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(20, 30) + \"px\" }\n              },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Ranked posts\")\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-posts-total hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'ui-preview-text',\n                style: { width: random.int(20, 30) + \"px\" }\n              },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Total posts\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../utils/random\":384,\"../../avatar\":5,\"react\":\"react\"}],286:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _avatar = require('../../avatar');\n\nvar _avatar2 = _interopRequireDefault(_avatar);\n\nvar _userStatus = require('../../user-status');\n\nvar _userStatus2 = _interopRequireDefault(_userStatus);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.rank.css_class) {\n        return \"list-group-item list-group-rank-\" + this.props.rank.css_class;\n      } else {\n        return \"list-group-item\";\n      }\n    }\n  }, {\n    key: 'getUserStatus',\n    value: function getUserStatus() {\n      if (this.props.user.status) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          _userStatus2.default,\n          { user: this.props.user, status: this.props.user.status },\n          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,\n            status: this.props.user.status }),\n          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,\n            status: this.props.user.status,\n            className: 'status-label hidden-xs hidden-sm' })\n        );\n        /* jshint ignore:end */\n      }\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'span',\n        { className: 'user-status' },\n        _react2.default.createElement(\n          'span',\n          { className: 'status-icon ui-preview-text' },\n          '\\xA0'\n        ),\n        _react2.default.createElement(\n          'span',\n          { className: 'status-label ui-preview-text hidden-xs hidden-sm',\n            style: { width: random.int(30, 50) + \"px\" } },\n          '\\xA0'\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getRankName',\n    value: function getRankName() {\n      if (!this.props.rank.is_tab) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'span',\n          { className: 'rank-name item-title' },\n          this.props.rank.name\n        );\n        /* jshint ignore:end */\n      }\n\n      /* jshint ignore:start */\n      var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';\n      return _react2.default.createElement(\n        _reactRouter.Link,\n        { to: rankUrl, className: 'rank-name item-title' },\n        this.props.rank.name\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'getUserTitle',\n    value: function getUserTitle() {\n      if (!this.props.user.title) return null;\n\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'span',\n        { className: 'user-title hidden-xs hidden-sm' },\n        this.props.user.title\n      );\n      /* jshint ignore:end */\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'li',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-user-avatar' },\n          _react2.default.createElement(\n            'a',\n            { href: this.props.user.url },\n            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 50, size2x: 64 })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-user' },\n          _react2.default.createElement(\n            'div',\n            { className: 'user-name' },\n            _react2.default.createElement(\n              'a',\n              { href: this.props.user.url, className: 'item-title' },\n              this.props.user.username\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-details' },\n            this.getUserStatus(),\n            this.getRankName(),\n            this.getUserTitle()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'user-compact-stats visible-xs-block' },\n            _react2.default.createElement(\n              'span',\n              { className: 'rank-position' },\n              _react2.default.createElement(\n                'strong',\n                null,\n                '#',\n                this.props.counter\n              ),\n              _react2.default.createElement(\n                'small',\n                null,\n                gettext(\"Rank\")\n              )\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'rank-posts-counted' },\n              _react2.default.createElement(\n                'strong',\n                null,\n                this.props.user.meta.score\n              ),\n              _react2.default.createElement(\n                'small',\n                null,\n                gettext(\"Ranked posts\")\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-position hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            '#',\n            this.props.counter\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Rank\")\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-posts-counted hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            this.props.user.meta.score\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Ranked posts\")\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'rank-posts-total hidden-xs' },\n          _react2.default.createElement(\n            'strong',\n            null,\n            this.props.user.posts\n          ),\n          _react2.default.createElement(\n            'small',\n            null,\n            gettext(\"Total posts\")\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../utils/random\":384,\"../../avatar\":5,\"../../user-status\":271,\"react\":\"react\",\"react-router\":\"react-router\"}],287:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listItemPreview = require('./list-item-preview');\n\nvar _listItemPreview2 = _interopRequireDefault(_listItemPreview);\n\nvar _random = require('../../../utils/random');\n\nvar random = _interopRequireWildcard(_random);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'active-posters-list' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead ui-preview' },\n            _react2.default.createElement(\n              'span',\n              { className: 'ui-preview-text',\n                style: { width: random.int(50, 220) + \"px\" } },\n              '\\xA0'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'active-posters ui-preview' },\n            _react2.default.createElement(\n              'ul',\n              { className: 'list-group' },\n              [0, 1, 2].map(function (i) {\n                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });\n              })\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../utils/random\":384,\"./list-item-preview\":285,\"react\":\"react\"}],288:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listItem = require('./list-item');\n\nvar _listItem2 = _interopRequireDefault(_listItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'getLeadMessage',\n    value: function getLeadMessage() {\n      var message = ngettext(\"%(posters)s most active poster from last %(days)s days.\", \"%(posters)s most active posters from last %(days)s days.\", this.props.count);\n\n      return interpolate(message, {\n        posters: this.props.count,\n        days: this.props.trackedPeriod\n      }, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'active-posters-list' },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            this.getLeadMessage()\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'active-posters ui-ready' },\n            _react2.default.createElement(\n              'ul',\n              { className: 'list-group' },\n              this.props.users.map(function (user, i) {\n                return _react2.default.createElement(_listItem2.default, { user: user,\n                  rank: user.rank,\n                  counter: i + 1,\n                  key: user.id });\n              })\n            )\n          )\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"./list-item\":286,\"react\":\"react\"}],289:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _listEmpty = require('./list-empty');\n\nvar _listEmpty2 = _interopRequireDefault(_listEmpty);\n\nvar _listPreview = require('./list-preview');\n\nvar _listPreview2 = _interopRequireDefault(_listPreview);\n\nvar _listReady = require('./list-ready');\n\nvar _listReady2 = _interopRequireDefault(_listReady);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _users = require('../../../reducers/users');\n\nvar _polls = require('../../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.update = function (data) {\n      _store2.default.dispatch((0, _users.hydrate)(data.results));\n\n      _this.setState({\n        isLoaded: true,\n\n        trackedPeriod: data.tracked_period,\n        count: data.count\n      });\n    };\n\n    if (_index2.default.has('USERS')) {\n      _this.initWithPreloadedData(_index2.default.pop('USERS'));\n    } else {\n      _this.initWithoutPreloadedData();\n    }\n\n    _this.startPolling();\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(data) {\n      this.state = {\n        isLoaded: true,\n\n        trackedPeriod: data.tracked_period,\n        count: data.count\n      };\n\n      _store2.default.dispatch((0, _users.hydrate)(data.results));\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData() {\n      this.state = {\n        isLoaded: false\n      };\n    }\n  }, {\n    key: 'startPolling',\n    value: function startPolling() {\n      _polls2.default.start({\n        poll: 'active-posters',\n        url: _index2.default.get('USERS_API'),\n        data: {\n          list: 'active'\n        },\n        frequency: 90 * 1000,\n        update: this.update\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'componentDidMount',\n\n    /* jshint ignore:end */\n\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: this.props.route.extra.name,\n        parent: gettext(\"Users\")\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _polls2.default.stop('active-posters');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.isLoaded) {\n        if (this.state.count > 0) {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_listReady2.default, { users: this.props.users,\n            trackedPeriod: this.state.trackedPeriod,\n            count: this.state.count });\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });\n          /* jshint ignore:end */\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_listPreview2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../reducers/users\":360,\"../../../services/page-title\":369,\"../../../services/polls\":370,\"../../../services/store\":373,\"./list-empty\":284,\"./list-preview\":287,\"./list-ready\":288,\"react\":\"react\"}],290:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var baseUrl = _ref.baseUrl,\n      lists = _ref.lists;\n\n  return _react2.default.createElement(\n    'ul',\n    { className: 'nav nav-pills' },\n    lists.map(function (list) {\n      var url = listUrl(baseUrl, list);\n      return _react2.default.createElement(\n        _li2.default,\n        { path: url, key: url },\n        _react2.default.createElement(\n          _reactRouter.Link,\n          { to: url },\n          list.name\n        )\n      );\n    })\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _li = require('../li');\n\nvar _li2 = _interopRequireDefault(_li);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar listUrl = function listUrl(baseUrl, list) {\n  var url = baseUrl;\n  if (list.component === 'rank') {\n    url += list.slug;\n  } else {\n    url += list.component;\n  }\n  return url + '/';\n}; // jshint ignore:start\n\n},{\"../../index\":299,\"../li\":55,\"react\":\"react\",\"react-router\":\"react-router\"}],291:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _usersList = require('../../users-list');\n\nvar _usersList2 = _interopRequireDefault(_usersList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint ignore:line\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_usersList2.default, {\n          cols: 4,\n          isReady: false\n        })\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../users-list\":281,\"react\":\"react\"}],292:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(_usersList2.default, {\n      cols: 4,\n      isReady: true,\n      showStatus: true,\n      users: props.users\n    }),\n    _react2.default.createElement(_pager2.default, props)\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pager = require('./pager');\n\nvar _pager2 = _interopRequireDefault(_pager);\n\nvar _usersList = require('../../users-list');\n\nvar _usersList2 = _interopRequireDefault(_usersList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../../users-list\":281,\"./pager\":293,\"react\":\"react\"}],293:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (props) {\n  if (props.pages === 1) return null;\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'row row-toolbar' },\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-12 text-center visible-xs-block' },\n      _react2.default.createElement(More, { more: props.more }),\n      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-md-7' },\n      _react2.default.createElement(\n        'div',\n        { className: 'row' },\n        _react2.default.createElement(\n          'div',\n          { className: 'col-sm-4 col-md-5' },\n          _react2.default.createElement(Pager, props)\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'col-sm-8 col-md-7 hidden-xs' },\n          _react2.default.createElement(More, { more: props.more })\n        )\n      )\n    )\n  );\n};\n\nexports.Pager = Pager;\nexports.FirstPage = FirstPage;\nexports.PreviousPage = PreviousPage;\nexports.NextPage = NextPage;\nexports.LastPage = LastPage;\nexports.More = More;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _resetScroll = require('../../../utils/reset-scroll');\n\nvar _resetScroll2 = _interopRequireDefault(_resetScroll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint ignore:start */\nfunction Pager(props) {\n  return _react2.default.createElement(\n    'div',\n    { className: 'row row-paginator' },\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(FirstPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(PreviousPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(NextPage, props)\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'col-xs-3' },\n      _react2.default.createElement(LastPage, props)\n    )\n  );\n}\n\nfunction FirstPage(props) {\n  if (props.isLoaded && props.first) {\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline',\n        onClick: _resetScroll2.default,\n        to: props.baseUrl,\n        title: gettext(\"Go to first page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'first_page'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline disabled',\n        title: gettext(\"Go to first page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'first_page'\n      )\n    );\n  }\n}\n\nfunction PreviousPage(props) {\n  if (props.isLoaded && props.page > 1) {\n    var previousUrl = '';\n    if (props.previous) {\n      previousUrl = props.previous + '/';\n    }\n\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline',\n        onClick: _resetScroll2.default,\n        to: props.baseUrl + previousUrl,\n        title: gettext(\"Go to previous page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_left'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline disabled',\n        title: gettext(\"Go to previous page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_left'\n      )\n    );\n  }\n}\n\nfunction NextPage(props) {\n  if (props.isLoaded && props.more) {\n    var nextUrl = '';\n    if (props.next) {\n      nextUrl = props.next + '/';\n    }\n\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline',\n        onClick: _resetScroll2.default,\n        to: props.baseUrl + nextUrl,\n        title: gettext(\"Go to next page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_right'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline disabled',\n        title: gettext(\"Go to next page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'chevron_right'\n      )\n    );\n  }\n}\n\nfunction LastPage(props) {\n  if (props.isLoaded && props.last) {\n    return _react2.default.createElement(\n      _reactRouter.Link,\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline',\n        onClick: _resetScroll2.default,\n        to: props.baseUrl + props.last + '/',\n        title: gettext(\"Go to last page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'last_page'\n      )\n    );\n  } else {\n    return _react2.default.createElement(\n      'span',\n      {\n        className: 'btn btn-default btn-block btn-icon btn-outline disabled',\n        title: gettext(\"Go to last page\")\n      },\n      _react2.default.createElement(\n        'span',\n        { className: 'material-icon' },\n        'last_page'\n      )\n    );\n  }\n}\n\nfunction More(props) {\n  var message = null;\n  if (props.more) {\n    message = ngettext(\"There is %(more)s more member with this role.\", \"There are %(more)s more members with this role.\", props.more);\n    message = interpolate(message, { 'more': props.more }, true);\n  } else {\n    message = gettext(\"There are no more members with this role.\");\n  }\n\n  return _react2.default.createElement(\n    'p',\n    null,\n    message\n  );\n}\n\n},{\"../../../utils/reset-scroll\":385,\"react\":\"react\",\"react-router\":\"react-router\"}],294:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _pageLead = require('../../page-lead');\n\nvar _pageLead2 = _interopRequireDefault(_pageLead);\n\nvar _list = require('./list');\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _listLoading = require('./list-loading');\n\nvar _listLoading2 = _interopRequireDefault(_listLoading);\n\nvar _index = require('../../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _users = require('../../../reducers/users');\n\nvar _polls = require('../../../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nvar _store = require('../../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _pageTitle = require('../../../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.update = function (data) {\n      _store2.default.dispatch((0, _users.hydrate)(data.results));\n\n      data.isLoaded = true;\n      _this.setState(data);\n    };\n\n    if (_index2.default.has('USERS')) {\n      _this.initWithPreloadedData(_index2.default.pop('USERS'));\n    } else {\n      _this.initWithoutPreloadedData();\n    }\n\n    _this.startPolling(props.params.page || 1);\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'initWithPreloadedData',\n    value: function initWithPreloadedData(data) {\n      this.state = Object.assign(data, {\n        isLoaded: true\n      });\n      _store2.default.dispatch((0, _users.hydrate)(data.results));\n    }\n  }, {\n    key: 'initWithoutPreloadedData',\n    value: function initWithoutPreloadedData() {\n      this.state = {\n        isLoaded: false\n      };\n    }\n  }, {\n    key: 'startPolling',\n    value: function startPolling(page) {\n      _polls2.default.start({\n        poll: 'rank-users',\n        url: _index2.default.get('USERS_API'),\n        data: {\n          rank: this.props.route.rank.id,\n          page: page\n        },\n        frequency: 90 * 1000,\n        update: this.update\n      });\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'componentDidMount',\n\n    /* jshint ignore:end */\n\n    value: function componentDidMount() {\n      _pageTitle2.default.set({\n        title: this.props.route.rank.name,\n        page: this.props.params.page || null,\n        parent: gettext(\"Users\")\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _polls2.default.stop('rank-users');\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.params.page !== nextProps.params.page) {\n        _pageTitle2.default.set({\n          title: this.props.route.rank.name,\n          page: nextProps.params.page || null,\n          parent: gettext(\"Users\")\n        });\n\n        this.setState({\n          isLoaded: false\n        });\n\n        _polls2.default.stop('rank-users');\n        this.startPolling(nextProps.params.page);\n      }\n    }\n  }, {\n    key: 'getClassName',\n    value: function getClassName() {\n      if (this.props.route.rank.css_class) {\n        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;\n      } else {\n        return 'rank-users-list';\n      }\n    }\n  }, {\n    key: 'getRankDescription',\n    value: function getRankDescription() {\n      if (this.props.route.rank.description) {\n        /* jshint ignore:start */\n        return _react2.default.createElement(\n          'div',\n          { className: 'rank-description' },\n          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })\n        );\n        /* jshint ignore:end */\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getComponent',\n    value: function getComponent() {\n      if (this.state.isLoaded) {\n        if (this.state.count > 0) {\n          /* jshint ignore:start */\n          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';\n          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,\n            users: this.props.users\n          }, this.state));\n          /* jshint ignore:end */\n        } else {\n          /* jshint ignore:start */\n          return _react2.default.createElement(\n            'p',\n            { className: 'lead' },\n            gettext(\"There are no users with this rank at the moment.\")\n          );\n          /* jshint ignore:end */\n        }\n      } else {\n        /* jshint ignore:start */\n        return _react2.default.createElement(_listLoading2.default, null);\n        /* jshint ignore:end */\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: this.getClassName() },\n        _react2.default.createElement(\n          'div',\n          { className: 'container' },\n          this.getRankDescription(),\n          this.getComponent()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../../../index\":299,\"../../../reducers/users\":360,\"../../../services/page-title\":369,\"../../../services/polls\":370,\"../../../services/store\":373,\"../../page-lead\":89,\"./list\":292,\"./list-loading\":291,\"react\":\"react\"}],295:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.select = select;\nexports.paths = paths;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = require('react-redux');\n\nvar _dropdownToggle = require('../dropdown-toggle');\n\nvar _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);\n\nvar _nav = require('./nav');\n\nvar _nav2 = _interopRequireDefault(_nav);\n\nvar _root = require('./active-posters/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _root3 = require('./rank/root');\n\nvar _root4 = _interopRequireDefault(_root3);\n\nvar _withDropdown = require('../with-dropdown');\n\nvar _withDropdown2 = _interopRequireDefault(_withDropdown);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _class = function (_WithDropdown) {\n  _inherits(_class, _WithDropdown);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        'div',\n        { className: 'page page-users-lists' },\n        _react2.default.createElement(\n          'div',\n          { className: 'page-header-bg' },\n          _react2.default.createElement(\n            'div',\n            { className: 'page-header' },\n            _react2.default.createElement(\n              'div',\n              { className: 'container' },\n              _react2.default.createElement(\n                'h1',\n                null,\n                gettext(\"Users\")\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'page-tabs' },\n              _react2.default.createElement(\n                'div',\n                { className: 'container' },\n                _react2.default.createElement(_nav2.default, {\n                  lists: _index2.default.get('USERS_LISTS'),\n                  baseUrl: _index2.default.get('USERS_LIST_URL')\n                })\n              )\n            )\n          )\n        ),\n        this.props.children\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_withDropdown2.default);\n\nexports.default = _class;\nfunction select(store) {\n  return {\n    'tick': store.tick.tick,\n    'user': store.auth.user,\n    'users': store.users\n  };\n}\n\nfunction paths() {\n  var paths = [];\n\n  _index2.default.get('USERS_LISTS').forEach(function (item) {\n    if (item.component === 'rank') {\n      paths.push({\n        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',\n        component: (0, _reactRedux.connect)(select)(_root4.default),\n        rank: item\n      });\n      paths.push({\n        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',\n        component: (0, _reactRedux.connect)(select)(_root4.default),\n        rank: item\n      });\n    } else if (item.component === 'active-posters') {\n      paths.push({\n        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',\n        component: (0, _reactRedux.connect)(select)(_root2.default),\n        extra: {\n          name: item.name\n        }\n      });\n    }\n  });\n\n  return paths;\n}\n\n},{\"../../index\":299,\"../dropdown-toggle\":26,\"../with-dropdown\":296,\"./active-posters/root\":289,\"./nav\":290,\"./rank/root\":294,\"react\":\"react\",\"react-redux\":\"react-redux\"}],296:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.toggleNav = function () {\n      _this.setState({\n        dropdown: !_this.state.dropdown\n      });\n    };\n\n    _this.hideNav = function () {\n      _this.setState({\n        dropdown: false\n      });\n    };\n\n    _this.state = {\n      dropdown: false\n    };\n    return _this;\n  }\n\n  /* jshint ignore:start */\n\n\n  _createClass(_class, [{\n    key: 'getCompactNavClassName',\n\n    /* jshint ignore:end */\n\n    value: function getCompactNavClassName() {\n      if (this.state.dropdown) {\n        return 'compact-nav open';\n      } else {\n        return 'compact-nav';\n      }\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],297:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _class);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {\n      _this.props.onChange({\n        target: {\n          value: !_this.props.value\n        }\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(_class, [{\n    key: \"getClassName\",\n    value: function getClassName() {\n      if (this.props.value) {\n        return \"btn btn-yes-no btn-yes-no-on\";\n      } else {\n        return \"btn btn-yes-no btn-yes-no-off\";\n      }\n    }\n  }, {\n    key: \"getIcon\",\n    value: function getIcon() {\n      if (!!this.props.value) {\n        return this.props.iconOn || 'check_box';\n      } else {\n        return this.props.iconOff || 'check_box_outline_blank';\n      }\n    }\n  }, {\n    key: \"getLabel\",\n    value: function getLabel() {\n      if (!!this.props.value) {\n        return this.props.labelOn || gettext(\"yes\");\n      } else {\n        return this.props.labelOff || gettext(\"no\");\n      }\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: \"render\",\n\n    /* jshint ignore:end */\n\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement(\n        \"button\",\n        {\n          type: \"button\",\n          onClick: this.toggle,\n          className: this.getClassName(),\n          id: this.props.id || null,\n          \"aria-describedby\": this.props['aria-describedby'] || null,\n          disabled: this.props.disabled || false\n        },\n        _react2.default.createElement(\n          \"span\",\n          { className: \"material-icon\" },\n          this.getIcon()\n        ),\n        _react2.default.createElement(\n          \"span\",\n          { className: \"btn-text\" },\n          this.getLabel()\n        )\n      );\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"react\":\"react\"}],298:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _profileDetails = require('../reducers/profile-details');\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */\n\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          data = _props.data,\n          dispatch = _props.dispatch,\n          user = _props.user;\n\n      if (data && data.id === user.id) return;\n\n      _ajax2.default.get(this.props.user.api.details).then(function (data) {\n        dispatch((0, _profileDetails.load)(data));\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return _class;\n}(_react2.default.Component);\n\nexports.default = _class;\n\n},{\"../reducers/profile-details\":351,\"../services/ajax\":361,\"../services/snackbar\":372,\"react\":\"react\"}],299:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Misago = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _orderedList = require('./utils/ordered-list');\n\nvar _orderedList2 = _interopRequireDefault(_orderedList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Misago = exports.Misago = function () {\n  function Misago() {\n    _classCallCheck(this, Misago);\n\n    this._initializers = [];\n    this._context = {};\n  }\n\n  _createClass(Misago, [{\n    key: 'addInitializer',\n    value: function addInitializer(initializer) {\n      this._initializers.push({\n        key: initializer.name,\n\n        item: initializer.initializer,\n\n        after: initializer.after,\n        before: initializer.before\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init(context) {\n      var _this = this;\n\n      this._context = context;\n\n      var initOrder = new _orderedList2.default(this._initializers).orderedValues();\n      initOrder.forEach(function (initializer) {\n        initializer(_this);\n      });\n    }\n\n    // context accessors\n\n  }, {\n    key: 'has',\n    value: function has(key) {\n      return !!this._context[key];\n    }\n  }, {\n    key: 'get',\n    value: function get(key, fallback) {\n      if (this.has(key)) {\n        return this._context[key];\n      } else {\n        return fallback || undefined;\n      }\n    }\n  }, {\n    key: 'pop',\n    value: function pop(key) {\n      if (this.has(key)) {\n        var value = this._context[key];\n        this._context[key] = null;\n        return value;\n      } else {\n        return undefined;\n      }\n    }\n  }]);\n\n  return Misago;\n}();\n\n// create  singleton\n\n\nvar misago = new Misago();\n\n// expose it globally\nglobal.misago = misago;\n\n// and export it for tests and stuff\nexports.default = misago;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils/ordered-list\":383}],300:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));\n}\n\n_index2.default.addInitializer({\n  name: 'ajax',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/ajax\":361}],301:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../reducers/auth');\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds\n\nfunction initializer(context) {\n  if (context.get('isAuthenticated')) {\n    window.setInterval(function () {\n      _ajax2.default.get(context.get('AUTH_API')).then(function (data) {\n        _store2.default.dispatch((0, _auth.patch)(data));\n      }, function (rejection) {\n        _snackbar2.default.apiError(rejection);\n      });\n    }, AUTH_SYNC_RATE * 1000);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'auth-sync',\n  initializer: initializer,\n  after: 'auth'\n});\n\n},{\"../index\":299,\"../reducers/auth\":346,\"../services/ajax\":361,\"../services/snackbar\":372,\"../services/store\":373}],302:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../services/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _localStorage = require('../services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'auth',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":299,\"../services/auth\":362,\"../services/local-storage\":365,\"../services/modal\":367,\"../services/store\":373}],303:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _captcha = require('../services/captcha');\n\nvar _captcha2 = _interopRequireDefault(_captcha);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'captcha',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/captcha\":363,\"../services/include\":364,\"../services/snackbar\":372}],304:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _authMessage = require('../../components/auth-message');\n\nvar _authMessage2 = _interopRequireDefault(_authMessage);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:auth-message',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/auth-message\":4,\"../../index\":299,\"../../utils/mount-component\":382,\"react-redux\":\"react-redux\"}],305:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _bannedPage = require('../../utils/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.has('BAN_MESSAGE')) {\n    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:banmed-page',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../index\":299,\"../../utils/banned-page\":375}],306:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _categories = require('../../components/categories');\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('categories-mount')) {\n    (0, _mountComponent2.default)((0, _reactRedux.connect)(_categories.select)(_categories2.default), 'categories-mount');\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:categories',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/categories\":19,\"../../index\":299,\"../../utils/mount-component\":382,\"react-redux\":\"react-redux\"}],307:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _root = require('../../components/options/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.has('USER_OPTIONS')) {\n    (0, _routedComponent2.default)({\n      root: _index2.default.get('USERCP_URL'),\n      component: _root2.default,\n      paths: (0, _root.paths)()\n    });\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:options',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/options/root\":84,\"../../index\":299,\"../../utils/routed-component\":386}],308:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _root = require('../../components/profile/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {\n    (0, _routedComponent2.default)({\n      root: _index2.default.get('PROFILE').url,\n      component: (0, _reactRedux.connect)(_root.select)(_root2.default),\n      paths: (0, _root.paths)()\n    });\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:profile',\n  initializer: initializer,\n  after: 'reducer:profile-hydrate'\n});\n\n},{\"../../components/profile/root\":192,\"../../index\":299,\"../../utils/routed-component\":386,\"react-redux\":\"react-redux\"}],309:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestActivationLink = require('../../components/request-activation-link');\n\nvar _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-activation-link-mount')) {\n    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-activation-link',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/request-activation-link\":197,\"../../index\":299,\"../../utils/mount-component\":382}],310:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _requestPasswordReset = require('../../components/request-password-reset');\n\nvar _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('request-password-reset-mount')) {\n    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:request-password-reset',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/request-password-reset\":198,\"../../index\":299,\"../../utils/mount-component\":382}],311:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _resetPasswordForm = require('../../components/reset-password-form');\n\nvar _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (document.getElementById('reset-password-form-mount')) {\n    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);\n  }\n}\n\n_2.default.addInitializer({\n  name: 'component:reset-password-form',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../..\":299,\"../../components/reset-password-form\":199,\"../../utils/mount-component\":382}],312:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _search = require('../../components/search');\n\nvar _search2 = _interopRequireDefault(_search);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.get('CURRENT_LINK') === 'misago:search') {\n    (0, _routedComponent2.default)({\n      paths: (0, _search2.default)(_2.default.get('SEARCH_PROVIDERS'))\n    });\n  }\n}\n\n_2.default.addInitializer({\n  name: 'component:search',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../..\":299,\"../../components/search\":201,\"../../utils/routed-component\":386}],313:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../../components/snackbar');\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:snackbar',\n  initializer: initializer,\n  after: 'snackbar'\n});\n\n},{\"../../components/snackbar\":209,\"../../index\":299,\"../../utils/mount-component\":382,\"react-redux\":\"react-redux\"}],314:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _socialAuth = require('../../components/social-auth');\n\nvar _socialAuth2 = _interopRequireDefault(_socialAuth);\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:start\nfunction initializer(context) {\n  if (context.get('CURRENT_LINK') === 'social:complete') {\n    var props = context.get('SOCIAL_AUTH');\n    (0, _mountComponent2.default)(_react2.default.createElement(_socialAuth2.default, props), 'page-mount');\n  }\n}\n\n_2.default.addInitializer({\n  name: 'component:social-auth',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../..\":299,\"../../components/social-auth\":212,\"../../utils/mount-component\":382,\"react\":\"react\"}],315:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _root = require('../../components/thread/root');\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.has('THREAD') && context.has('POSTS')) {\n    (0, _routedComponent2.default)({\n      paths: (0, _root.paths)()\n    });\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:thread',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/thread/root\":230,\"../../index\":299,\"../../utils/routed-component\":386}],316:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\nexports.getListOptions = getListOptions;\n\nvar _root = require('../../components/threads/root');\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PRIVATE_THREADS_LIST = 'misago:private-threads';\n\nfunction initializer(context) {\n  if (context.has('THREADS') && context.has('CATEGORIES')) {\n    (0, _routedComponent2.default)({\n      paths: (0, _root.paths)(context.get('user'), getListOptions(context))\n    });\n  }\n}\n\nfunction getListOptions(context) {\n  var currentLink = context.get('CURRENT_LINK');\n  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {\n    return {\n      api: context.get('PRIVATE_THREADS_API'),\n      startThread: {\n        mode: 'START_PRIVATE',\n        submit: _index2.default.get('PRIVATE_THREADS_API')\n      },\n      title: gettext(\"Private threads\"),\n      pageLead: gettext(\"Private threads are threads which only those that started them and those they have invited may see and participate in.\"),\n      emptyMessage: gettext(\"You aren't participating in any private threads.\")\n    };\n  }\n\n  return {\n    'api': context.get('THREADS_API')\n  };\n}\n\n_index2.default.addInitializer({\n  name: 'component:threads',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/threads/root\":264,\"../../index\":299,\"../../utils/routed-component\":386}],317:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _root = require('../../components/user-menu/root');\n\nvar _mountComponent = require('../../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');\n  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');\n}\n\n_index2.default.addInitializer({\n  name: 'component:user-menu',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/user-menu/root\":269,\"../../index\":299,\"../../utils/mount-component\":382,\"react-redux\":\"react-redux\"}],318:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _root = require('../../components/users/root');\n\nvar _root2 = _interopRequireDefault(_root);\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _routedComponent = require('../../utils/routed-component');\n\nvar _routedComponent2 = _interopRequireDefault(_routedComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  if (context.has('USERS_LISTS')) {\n    (0, _routedComponent2.default)({\n      root: _index2.default.get('USERS_LIST_URL'),\n      component: _root2.default,\n      paths: (0, _root.paths)()\n    });\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'component:users',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../components/users/root\":295,\"../../index\":299,\"../../utils/routed-component\":386}],319:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _include2.default.init(context.get('STATIC_URL'));\n}\n\n_index2.default.addInitializer({\n  name: 'include',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/include\":364}],320:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _localStorage = require('../services/local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _localStorage2.default.init('misago_');\n}\n\n_index2.default.addInitializer({\n  name: 'local-storage',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/local-storage\":365}],321:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');\n\nvar _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('mobile-navbar-dropdown-mount');\n  if (element) {\n    _mobileNavbarDropdown2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'dropdown',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":299,\"../services/mobile-navbar-dropdown\":366}],322:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _modal = require('../services/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var element = document.getElementById('modal-mount');\n  if (element) {\n    _modal2.default.init(element);\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'modal',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../index\":299,\"../services/modal\":367}],323:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _moment2.default.locale($('html').attr('lang'));\n}\n\n_index2.default.addInitializer({\n  name: 'moment',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"moment\":\"moment\"}],324:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _pageTitle = require('../services/page-title');\n\nvar _pageTitle2 = _interopRequireDefault(_pageTitle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);\n}\n\n_index2.default.addInitializer({\n  name: 'page-title',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/page-title\":369}],325:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _polls = require('../services/polls');\n\nvar _polls2 = _interopRequireDefault(_polls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _polls2.default.init(_ajax2.default, _snackbar2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'polls',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/polls\":370,\"../services/snackbar\":372}],326:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _ajax = require('../services/ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _posting = require('../services/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));\n}\n\n_index2.default.addInitializer({\n  name: 'posting',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/ajax\":361,\"../services/posting\":371,\"../services/snackbar\":372}],327:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _auth = require('../../reducers/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer(context) {\n  _store2.default.addReducer('auth', _auth2.default, Object.assign({\n    isAuthenticated: context.get('isAuthenticated'),\n    isAnonymous: !context.get('isAuthenticated'),\n\n    user: context.get('user')\n  }, _auth.initialState));\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:auth',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/auth\":346,\"../../services/store\":373}],328:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _participants = require('../../reducers/participants');\n\nvar _participants2 = _interopRequireDefault(_participants);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var initialState = null;\n  if (_index2.default.has('THREAD')) {\n    initialState = _index2.default.get('THREAD').participants;\n  }\n\n  _store2.default.addReducer('participants', _participants2.default, initialState || []);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:participants',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/participants\":347,\"../../services/store\":373}],329:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _poll = require('../../reducers/poll');\n\nvar _poll2 = _interopRequireDefault(_poll);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var initialState = null;\n  if (_index2.default.has('THREAD') && _index2.default.get('THREAD').poll) {\n    initialState = (0, _poll.hydrate)(_index2.default.get('THREAD').poll);\n  } else {\n    initialState = {\n      isBusy: false\n    };\n  }\n\n  _store2.default.addReducer('poll', _poll2.default, initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:poll',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/poll\":348,\"../../services/store\":373}],330:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _posts = require('../../reducers/posts');\n\nvar _posts2 = _interopRequireDefault(_posts);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var initialState = null;\n  if (_index2.default.has('POSTS')) {\n    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false\n    };\n  }\n\n  _store2.default.addReducer('posts', _posts2.default, initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:posts',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/posts\":350,\"../../services/store\":373}],331:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _profileDetails = require('../../reducers/profile-details');\n\nvar _profileDetails2 = _interopRequireDefault(_profileDetails);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var initialState = null;\n  if (_index2.default.has('PROFILE_DETAILS')) {\n    initialState = _index2.default.get('PROFILE_DETAILS');\n  }\n\n  _store2.default.addReducer('profile-details', _profileDetails2.default, initialState || {});\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:profile-details',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/profile-details\":351,\"../../services/store\":373}],332:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _profile = require('../../reducers/profile');\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  if (_index2.default.has('PROFILE')) {\n    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));\n  }\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:profile-hydrate',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/profile\":352,\"../../services/store\":373}],333:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _profile = require('../../reducers/profile');\n\nvar _profile2 = _interopRequireDefault(_profile);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('profile', _profile2.default, {});\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:profile',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/profile\":352,\"../../services/store\":373}],334:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _search = require('../../reducers/search');\n\nvar _search2 = _interopRequireDefault(_search);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('search', _search2.default, Object.assign({}, _search.initialState, {\n    providers: _2.default.get('SEARCH_PROVIDERS') || [],\n    query: _2.default.get('SEARCH_QUERY') || ''\n  }));\n}\n\n_2.default.addInitializer({\n  name: 'reducer:search',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../..\":299,\"../../reducers/search\":353,\"../../services/store\":373}],335:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _selection = require('../../reducers/selection');\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('selection', _selection2.default, []);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:selection',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/selection\":354,\"../../services/store\":373}],336:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../../reducers/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:snackbar',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/snackbar\":355,\"../../services/store\":373}],337:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _thread = require('../../reducers/thread');\n\nvar _thread2 = _interopRequireDefault(_thread);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  var initialState = null;\n  if (_index2.default.has('THREAD')) {\n    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));\n  } else {\n    initialState = {\n      isBusy: false\n    };\n  }\n\n  _store2.default.addReducer('thread', _thread2.default, initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:thread',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/thread\":356,\"../../services/store\":373}],338:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _threads = require('../../reducers/threads');\n\nvar _threads2 = _interopRequireDefault(_threads);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('threads', _threads2.default, []);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:threads',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/threads\":357,\"../../services/store\":373}],339:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../../reducers/tick');\n\nvar _tick2 = _interopRequireDefault(_tick);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:tick',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/tick\":358,\"../../services/store\":373}],340:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _usernameHistory = require('../../reducers/username-history');\n\nvar _usernameHistory2 = _interopRequireDefault(_usernameHistory);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('username-history', _usernameHistory2.default, []);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:username-history',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/username-history\":359,\"../../services/store\":373}],341:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _users = require('../../reducers/users');\n\nvar _users2 = _interopRequireDefault(_users);\n\nvar _store = require('../../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.addReducer('users', _users2.default, []);\n}\n\n_index2.default.addInitializer({\n  name: 'reducer:users',\n  initializer: initializer,\n  before: 'store'\n});\n\n},{\"../../index\":299,\"../../reducers/users\":360,\"../../services/store\":373}],342:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _snackbar = require('../services/snackbar');\n\nvar _snackbar2 = _interopRequireDefault(_snackbar);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _snackbar2.default.init(_store2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'snackbar',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":299,\"../services/snackbar\":372,\"../services/store\":373}],343:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _store2.default.init();\n}\n\n_index2.default.addInitializer({\n  name: 'store',\n  initializer: initializer,\n  before: '_end'\n});\n\n},{\"../index\":299,\"../services/store\":373}],344:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tick = require('../reducers/tick');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TICK_PERIOD = 50 * 1000; //do the tick every 50s\n\nfunction initializer() {\n  window.setInterval(function () {\n    _store2.default.dispatch((0, _tick.doTick)());\n  }, TICK_PERIOD);\n}\n\n_index2.default.addInitializer({\n  name: 'tick-start',\n  initializer: initializer,\n  after: 'store'\n});\n\n},{\"../index\":299,\"../reducers/tick\":358,\"../services/store\":373}],345:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = initializer;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _include = require('../services/include');\n\nvar _include2 = _interopRequireDefault(_include);\n\nvar _zxcvbn = require('../services/zxcvbn');\n\nvar _zxcvbn2 = _interopRequireDefault(_zxcvbn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction initializer() {\n  _zxcvbn2.default.init(_include2.default);\n}\n\n_index2.default.addInitializer({\n  name: 'zxcvbn',\n  initializer: initializer\n});\n\n},{\"../index\":299,\"../services/include\":364,\"../services/zxcvbn\":374}],346:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;\nexports.patch = patch;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.default = auth;\n\nvar _users = require('./users');\n\nvar initialState = exports.initialState = {\n  signedIn: false,\n  signedOut: false\n};\n\nvar PATCH_USER = exports.PATCH_USER = 'PATCH_USER';\nvar SIGN_IN = exports.SIGN_IN = 'SIGN_IN';\nvar SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';\n\nfunction patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch: patch\n  };\n}\n\nfunction signIn(user) {\n  return {\n    type: SIGN_IN,\n    user: user\n  };\n}\n\nfunction signOut() {\n  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  return {\n    type: SIGN_OUT,\n    soft: soft\n  };\n}\n\nfunction auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case PATCH_USER:\n      var newState = Object.assign({}, state);\n      newState.user = Object.assign({}, state.user, action.patch);\n      return newState;\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user\n      });\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft\n      });\n\n    case _users.UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        var _newState = Object.assign({}, state);\n        _newState.user = Object.assign({}, state.user, {\n          'avatars': action.avatars\n        });\n        return _newState;\n      }\n      return state;\n\n    case _users.UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        var _newState2 = Object.assign({}, state);\n        _newState2.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug\n        });\n        return _newState2;\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n},{\"./users\":360}],347:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.replace = replace;\nexports.default = participants;\nvar REPLACE_PARTICIPANTS = exports.REPLACE_PARTICIPANTS = 'REPLACE_PARTICIPANTS';\n\nfunction replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState\n  };\n}\n\nfunction participants() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state;\n\n    default:\n      return state;\n  }\n}\n\n},{}],348:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = undefined;\nexports.hydrate = hydrate;\nexports.busy = busy;\nexports.release = release;\nexports.replace = replace;\nexports.update = update;\nexports.remove = remove;\nexports.default = poll;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BUSY_POLL = exports.BUSY_POLL = 'BUSY_POLL';\nvar RELEASE_POLL = exports.RELEASE_POLL = 'RELEASE_POLL';\nvar REMOVE_POLL = exports.REMOVE_POLL = 'REMOVE_POLL';\nvar REPLACE_POLL = exports.REPLACE_POLL = 'REPLACE_POLL';\nvar UPDATE_POLL = exports.UPDATE_POLL = 'UPDATE_POLL';\n\nfunction hydrate(json) {\n  var hasSelectedChoices = false;\n  for (var i in json.choices) {\n    var choice = json.choices[i];\n    if (choice.selected) {\n      hasSelectedChoices = true;\n      break;\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: (0, _moment2.default)(json.posted_on),\n\n    hasSelectedChoices: hasSelectedChoices,\n    endsOn: json.length ? (0, _moment2.default)(json.posted_on).add(json.length, 'days') : null,\n\n    isBusy: false\n  });\n}\n\nfunction busy() {\n  return {\n    type: BUSY_POLL\n  };\n}\n\nfunction release() {\n  return {\n    type: RELEASE_POLL\n  };\n}\n\nfunction replace(newState) {\n  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState)\n  };\n}\n\nfunction update(data) {\n  return {\n    type: UPDATE_POLL,\n    data: data\n  };\n}\n\nfunction remove() {\n  return {\n    type: REMOVE_POLL\n  };\n}\n\nfunction poll() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true });\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false });\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false\n      };\n\n    case REPLACE_POLL:\n      return action.state;\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data);\n\n    default:\n      return state;\n  }\n}\n\n},{\"moment\":\"moment\"}],349:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PATCH_POST = undefined;\nexports.hydrate = hydrate;\nexports.hydrateAttachment = hydrateAttachment;\nexports.patch = patch;\nexports.default = post;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _users = require('./users');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PATCH_POST = exports.PATCH_POST = 'PATCH_POST';\n\nfunction hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: (0, _moment2.default)(json.posted_on),\n    updated_on: (0, _moment2.default)(json.updated_on),\n    hidden_on: (0, _moment2.default)(json.hidden_on),\n\n    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,\n    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false\n  });\n}\n\nfunction hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: (0, _moment2.default)(json.uploaded_on)\n  });\n}\n\nfunction patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post: post,\n    patch: patch\n  };\n}\n\nfunction post() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch);\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n},{\"./users\":360,\"moment\":\"moment\"}],350:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = undefined;\nexports.select = select;\nexports.deselect = deselect;\nexports.deselectAll = deselectAll;\nexports.hydrate = hydrate;\nexports.load = load;\nexports.append = append;\nexports.unload = unload;\nexports.update = update;\nexports.default = posts;\n\nvar _post = require('./post');\n\nvar _post2 = _interopRequireDefault(_post);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar APPEND_POSTS = exports.APPEND_POSTS = 'APPEND_POSTS';\nvar SELECT_POST = exports.SELECT_POST = 'SELECT_POST';\nvar DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';\nvar DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';\nvar LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';\nvar UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';\nvar UPDATE_POSTS = exports.UPDATE_POSTS = 'UPDATE_POSTS';\n\nfunction select(post) {\n  return {\n    type: SELECT_POST,\n    post: post\n  };\n}\n\nfunction deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post: post\n  };\n}\n\nfunction deselectAll() {\n  return {\n    type: DESELECT_POSTS\n  };\n}\n\nfunction hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(_post.hydrate),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false\n  });\n}\n\nfunction load(newState) {\n  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState)\n  };\n}\n\nfunction append(newState) {\n  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState)\n  };\n}\n\nfunction unload() {\n  return {\n    type: UNLOAD_POSTS\n  };\n}\n\nfunction update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState\n  };\n}\n\nfunction posts() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case SELECT_POST:\n      var selectedPosts = state.results.map(function (post) {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true\n          });\n        } else {\n          return post;\n        }\n      });\n\n      return Object.assign({}, state, {\n        results: selectedPosts\n      });\n\n    case DESELECT_POST:\n      var deseletedPosts = state.results.map(function (post) {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false\n          });\n        } else {\n          return post;\n        }\n      });\n\n      return Object.assign({}, state, {\n        results: deseletedPosts\n      });\n\n    case DESELECT_POSTS:\n      var deseletedAllPosts = state.results.map(function (post) {\n        return Object.assign({}, post, {\n          isSelected: false\n        });\n      });\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts\n      });\n\n    case APPEND_POSTS:\n      var results = state.results.slice();\n      var resultsIds = state.results.map(function (post) {\n        return post.id;\n      });\n\n      action.state.results.map(function (post) {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post);\n        }\n      });\n\n      return Object.assign({}, action.state, {\n        results: results\n      });\n\n    case LOAD_POSTS:\n      return action.state;\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false\n      });\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update);\n\n    case _post.PATCH_POST:\n      var reducedPosts = state.results.map(function (post) {\n        return (0, _post2.default)(post, action);\n      });\n\n      return Object.assign({}, state, {\n        results: reducedPosts\n      });\n\n    default:\n      return state;\n  }\n}\n\n},{\"./post\":349}],351:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = load;\nexports.default = details;\nvar LOAD_DETAILS = exports.LOAD_DETAILS = 'LOAD_DETAILS';\n\nfunction load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState: newState\n  };\n}\n\nfunction details() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState;\n\n    default:\n      return state;\n  }\n}\n\n},{}],352:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;\nexports.hydrate = hydrate;\nexports.patch = patch;\nexports.default = auth;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _users = require('./users');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';\nvar PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';\n\nfunction hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile: profile\n  };\n}\n\nfunction patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch: patch\n  };\n}\n\nfunction auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: (0, _moment2.default)(action.profile.joined_on),\n        status: (0, _users.hydrateStatus)(action.profile.status)\n      });\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch);\n\n    case _users.UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars\n        });\n      }\n      return state;\n\n    case _users.UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug\n        });\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n},{\"./users\":360,\"moment\":\"moment\"}],353:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.replace = replace;\nexports.update = update;\nexports.updateProvider = updateProvider;\nexports.default = participants;\nvar REPLACE_SEARCH = exports.REPLACE_SEARCH = 'REPLACE_SEARCH';\nvar UPDATE_SEARCH = exports.UPDATE_SEARCH = 'UPDATE_SEARCH';\nvar UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH_PROVIDER = 'UPDATE_SEARCH_PROVIDER';\n\nvar initialState = exports.initialState = {\n  isLoading: false,\n  query: '',\n  providers: []\n};\n\nfunction replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState\n    }\n  };\n}\n\nfunction update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState\n  };\n}\n\nfunction updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider\n  };\n}\n\nfunction participants() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state;\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update);\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map(function (provider) {\n          if (provider.id === action.provider.id) {\n            return action.provider;\n          } else {\n            return provider;\n          }\n        })\n      });\n\n    default:\n      return state;\n  }\n}\n\n},{}],354:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;\nexports.all = all;\nexports.none = none;\nexports.item = item;\nexports.default = selection;\n\nvar _sets = require('../utils/sets');\n\nvar SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';\nvar SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';\nvar SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';\n\nfunction all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds\n  };\n}\n\nfunction none() {\n  return {\n    type: SELECT_NONE\n  };\n}\n\nfunction item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId\n  };\n}\n\nfunction selection() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items;\n\n    case SELECT_NONE:\n      return [];\n\n    case SELECT_ITEM:\n      return (0, _sets.toggle)(state, action.item);\n\n    default:\n      return state;\n  }\n}\n\n},{\"../utils/sets\":387}],355:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.showSnackbar = showSnackbar;\nexports.hideSnackbar = hideSnackbar;\nexports.default = snackbar;\nvar initialState = exports.initialState = {\n  type: 'info',\n  message: '',\n  isVisible: false\n};\n\nvar SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';\nvar HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';\n\nfunction showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message: message,\n    messageType: type\n  };\n}\n\nfunction hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR\n  };\n}\n\nfunction snackbar() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true\n    };\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],356:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;\nexports.hydrate = hydrate;\nexports.busy = busy;\nexports.release = release;\nexports.replace = replace;\nexports.update = update;\nexports.updateAcl = updateAcl;\nexports.default = thread;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _poll = require('./poll');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';\nvar RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';\nvar REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';\nvar UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';\nvar UPDATE_THREAD_ACL = exports.UPDATE_THREAD_ACL = 'UPDATE_THREAD_ACL';\n\nfunction hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: (0, _moment2.default)(json.started_on),\n    last_post_on: (0, _moment2.default)(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment2.default)(json.best_answer_marked_on) : null,\n\n    isBusy: false\n  });\n}\n\nfunction busy() {\n  return {\n    type: BUSY_THREAD\n  };\n}\n\nfunction release() {\n  return {\n    type: RELEASE_THREAD\n  };\n}\n\nfunction replace(newState) {\n  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState)\n  };\n}\n\nfunction update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data: data\n  };\n}\n\nfunction updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data: data\n  };\n}\n\nfunction thread() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true });\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false });\n\n    case _poll.REMOVE_POLL:\n      return Object.assign({}, state, { poll: null });\n\n    case _poll.REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state });\n\n    case REPLACE_THREAD:\n      return action.state;\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data);\n\n    case UPDATE_THREAD_ACL:\n      var acl = Object.assign({}, state.acl, action.data);\n      return Object.assign({}, state, { acl: acl });\n\n    default:\n      return state;\n  }\n}\n\n},{\"./poll\":348,\"moment\":\"moment\"}],357:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;\nexports.append = append;\nexports.deleteThread = deleteThread;\nexports.filterThreads = filterThreads;\nexports.hydrate = hydrate;\nexports.patch = patch;\nexports.sort = sort;\nexports.getThreadModerationOptions = getThreadModerationOptions;\nexports.hydrateThread = hydrateThread;\nexports.default = thread;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _concatUnique = require('../utils/concat-unique');\n\nvar _concatUnique2 = _interopRequireDefault(_concatUnique);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';\nvar DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';\nvar FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';\nvar HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';\nvar PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';\nvar SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';\n\nvar MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];\n\nfunction append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items: items,\n    sorting: sorting\n  };\n}\n\nfunction deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread: thread\n  };\n}\n\nfunction filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category: category,\n    categoriesMap: categoriesMap\n  };\n}\n\nfunction hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items: items\n  };\n}\n\nfunction patch(thread, patch) {\n  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  return {\n    type: PATCH_THREAD,\n    thread: thread,\n    patch: patch,\n    sorting: sorting\n  };\n}\n\nfunction sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting: sorting\n  };\n}\n\nfunction getThreadModerationOptions(thread_acl) {\n  var options = [];\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm);\n    }\n  });\n  return options;\n}\n\nfunction hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    started_on: (0, _moment2.default)(thread.started_on),\n    last_post_on: (0, _moment2.default)(thread.last_post_on),\n    moderation: getThreadModerationOptions(thread.acl)\n  });\n}\n\nfunction thread() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case APPEND_THREADS:\n      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);\n      return mergedState.sort(action.sorting);\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id;\n      });\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        var itemCategory = action.categoriesMap[item.category];\n        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {\n          // same or sub category\n          return true;\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true;\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false;\n        }\n      });\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread);\n\n    case PATCH_THREAD:\n      var patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch);\n        } else {\n          return item;\n        }\n      });\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting);\n      }\n      return patchedState;\n\n    case SORT_THREADS:\n      return state.sort(action.sorting);\n\n    default:\n      return state;\n  }\n}\n\n},{\"../utils/concat-unique\":377,\"moment\":\"moment\"}],358:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.doTick = doTick;\nexports.default = tick;\nvar initialState = exports.initialState = {\n  tick: 0\n};\n\nvar TICK = exports.TICK = 'TICK';\n\nfunction doTick() {\n  return {\n    type: TICK\n  };\n}\n\nfunction tick() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1\n    });\n  } else {\n    return state;\n  }\n}\n\n},{}],359:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;\nexports.addNameChange = addNameChange;\nexports.append = append;\nexports.hydrate = hydrate;\nexports.hydrateNamechange = hydrateNamechange;\nexports.default = username;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _users = require('./users');\n\nvar _concatUnique = require('../utils/concat-unique');\n\nvar _concatUnique2 = _interopRequireDefault(_concatUnique);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';\nvar APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';\nvar HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';\n\nfunction addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change: change,\n    user: user,\n    changedBy: changedBy\n  };\n}\n\nfunction append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items\n  };\n}\n\nfunction hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items\n  };\n}\n\nfunction hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: (0, _moment2.default)(namechange.changed_on)\n  });\n}\n\nfunction username() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      var newState = state.slice();\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: (0, _moment2.default)(),\n        new_username: action.change.username,\n        old_username: action.user.username\n      });\n      return newState;\n\n    case APPEND_HISTORY:\n      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange);\n\n    case _users.UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item);\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars\n          });\n        }\n\n        return item;\n      });\n\n    case _users.UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item);\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug\n          });\n        }\n\n        return Object.assign({}, item);\n      });\n\n    default:\n      return state;\n  }\n}\n\n},{\"../utils/concat-unique\":377,\"./users\":360,\"moment\":\"moment\"}],360:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;\nexports.append = append;\nexports.hydrate = hydrate;\nexports.hydrateStatus = hydrateStatus;\nexports.hydrateUser = hydrateUser;\nexports.updateAvatar = updateAvatar;\nexports.updateUsername = updateUsername;\nexports.default = user;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _concatUnique = require('../utils/concat-unique');\n\nvar _concatUnique2 = _interopRequireDefault(_concatUnique);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';\nvar HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';\nvar UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';\nvar UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';\n\nfunction append(items) {\n  return {\n    type: APPEND_USERS,\n    items: items\n  };\n}\n\nfunction hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items: items\n  };\n}\n\nfunction hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,\n      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null\n    });\n  } else {\n    return null;\n  }\n}\n\nfunction hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: (0, _moment2.default)(user.joined_on),\n    status: hydrateStatus(user.status)\n  });\n}\n\nfunction updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars: avatars\n  };\n}\n\nfunction updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username: username,\n    slug: slug\n  };\n}\n\nfunction user() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  switch (action.type) {\n    case APPEND_USERS:\n      return (0, _concatUnique2.default)(state, action.items.map(hydrateUser));\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser);\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item);\n        if (item.id === action.userId) {\n          item.avatars = action.avatars;\n        }\n\n        return item;\n      });\n\n    default:\n      return state;\n  }\n}\n\n},{\"../utils/concat-unique\":377,\"moment\":\"moment\"}],361:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = exports.Ajax = function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n\n    this._cookieName = null;\n    this._csrfToken = null;\n    this._locks = {};\n  }\n\n  _createClass(Ajax, [{\n    key: 'init',\n    value: function init(cookieName) {\n      this._cookieName = cookieName;\n    }\n  }, {\n    key: 'getCsrfToken',\n    value: function getCsrfToken() {\n      if (document.cookie.indexOf(this._cookieName) !== -1) {\n        var cookieRegex = new RegExp(this._cookieName + '\\=([^;]*)');\n        var cookie = document.cookie.match(cookieRegex)[0];\n        return cookie ? cookie.split('=')[1] : null;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'request',\n    value: function request(method, url, data) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: method,\n          headers: {\n            'X-CSRFToken': self.getCsrfToken()\n          },\n\n          data: data ? JSON.stringify(data) : null,\n          contentType: \"application/json; charset=utf-8\",\n          dataType: 'json',\n\n          success: function success(data) {\n            resolve(data);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n\n            if (rejection.status === 0) {\n              rejection.detail = gettext(\"Lost connection with application.\");\n            }\n\n            if (rejection.status === 404) {\n              if (!rejection.detail || rejection.detail === 'NOT FOUND') {\n                rejection.detail = gettext(\"Action link is invalid.\");\n              }\n            }\n\n            if (rejection.status === 500 && !rejection.detail) {\n              rejection.detail = gettext(\"Unknown error has occured.\");\n            }\n\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get(url, params, lock) {\n      if (params) {\n        url += '?' + $.param(params);\n      }\n\n      if (lock) {\n        var self = this;\n\n        // update url in existing lock?\n        if (this._locks[lock]) {\n          this._locks[lock].url = url;\n        }\n\n        // immediately dereference promise handlers without doing anything\n        // we are already waiting for existing response to resolve\n        if (this._locks[lock] && this._locks[lock].waiter) {\n          return {\n            then: function then() {\n              return;\n            }\n          };\n\n          // return promise that will begin when original one resolves\n        } else if (this._locks[lock] && this._locks[lock].wait) {\n          this._locks[lock].waiter = true;\n\n          return new Promise(function (resolve, reject) {\n            var wait = function wait(url) {\n              // keep waiting on promise\n              if (self._locks[lock].wait) {\n                window.setTimeout(function () {\n                  wait(url);\n                }, 300);\n\n                // poll for new url\n              } else if (self._locks[lock].url !== url) {\n                wait(self._locks[lock].url);\n\n                // ajax backend for response\n              } else {\n                self._locks[lock].waiter = false;\n                self.request('GET', self._locks[lock].url).then(function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data);\n                  } else {\n                    self._locks[lock].waiter = true;\n                    wait(self._locks[lock].url);\n                  }\n                }, function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection);\n                  } else {\n                    self._locks[lock].waiter = true;\n                    wait(self._locks[lock].url);\n                  }\n                });\n              }\n            };\n\n            window.setTimeout(function () {\n              wait(url);\n            }, 300);\n          });\n\n          // setup new lock without waiter\n        } else {\n          this._locks[lock] = {\n            url: url,\n            wait: true,\n            waiter: false\n          };\n\n          return new Promise(function (resolve, reject) {\n            self.request('GET', url).then(function (data) {\n              self._locks[lock].wait = false;\n              if (self._locks[lock].url === url) {\n                resolve(data);\n              }\n            }, function (rejection) {\n              self._locks[lock].wait = false;\n              if (self._locks[lock].url === url) {\n                reject(rejection);\n              }\n            });\n          });\n        }\n      } else {\n        return this.request('GET', url);\n      }\n    }\n  }, {\n    key: 'post',\n    value: function post(url, data) {\n      return this.request('POST', url, data);\n    }\n  }, {\n    key: 'patch',\n    value: function patch(url, data) {\n      return this.request('PATCH', url, data);\n    }\n  }, {\n    key: 'put',\n    value: function put(url, data) {\n      return this.request('PUT', url, data);\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(url, data) {\n      return this.request('DELETE', url, data);\n    }\n  }, {\n    key: 'upload',\n    value: function upload(url, data, progress) {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = {\n          url: url,\n          method: 'POST',\n          headers: {\n            'X-CSRFToken': self.getCsrfToken()\n          },\n\n          data: data,\n          contentType: false,\n          processData: false,\n\n          xhr: function xhr() {\n            var xhr = new window.XMLHttpRequest();\n            xhr.upload.addEventListener(\"progress\", function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round(evt.loaded / evt.total * 100));\n              }\n            }, false);\n            return xhr;\n          },\n\n          success: function success(response) {\n            resolve(response);\n          },\n\n          error: function error(jqXHR) {\n            var rejection = jqXHR.responseJSON || {};\n\n            rejection.status = jqXHR.status;\n\n            if (rejection.status === 0) {\n              rejection.detail = gettext(\"Lost connection with application.\");\n            }\n\n            if (rejection.status === 413 && !rejection.detail) {\n              rejection.detail = gettext(\"Upload was rejected by server as too large.\");\n            }\n\n            if (rejection.status === 404) {\n              if (!rejection.detail || rejection.detail === 'NOT FOUND') {\n                rejection.detail = gettext(\"Action link is invalid.\");\n              }\n            }\n\n            if (rejection.status === 500 && !rejection.detail) {\n              rejection.detail = gettext(\"Unknown error has occured.\");\n            }\n\n            rejection.statusText = jqXHR.statusText;\n\n            reject(rejection);\n          }\n        };\n\n        $.ajax(xhr);\n      });\n    }\n  }]);\n\n  return Ajax;\n}();\n\nexports.default = new Ajax();\n\n},{}],362:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Auth = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _auth = require('../reducers/auth');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar Auth = exports.Auth = function () {\n  function Auth() {\n    _classCallCheck(this, Auth);\n  }\n\n  _createClass(Auth, [{\n    key: 'init',\n    value: function init(store, local, modal) {\n      this._store = store;\n      this._local = local;\n      this._modal = modal;\n\n      // tell other tabs what auth state is because we are most current with it\n      this.syncSession();\n\n      // listen for other tabs to tell us that state changed\n      this.watchState();\n    }\n  }, {\n    key: 'syncSession',\n    value: function syncSession() {\n      var state = this._store.getState().auth;\n      if (state.isAuthenticated) {\n        this._local.set('auth', {\n          isAuthenticated: true,\n          username: state.user.username\n        });\n      } else {\n        this._local.set('auth', {\n          isAuthenticated: false\n        });\n      }\n    }\n  }, {\n    key: 'watchState',\n    value: function watchState() {\n      var _this = this;\n\n      var state = this._store.getState().auth;\n      this._local.watch('auth', function (newState) {\n        if (newState.isAuthenticated) {\n          _this._store.dispatch((0, _auth.signIn)({\n            username: newState.username\n          }));\n        } else if (state.isAuthenticated) {\n          // check if we are authenticated in this tab\n          // because some browser plugins prune local store\n          // aggressively, forcing erroneous message to display here\n          // tracking bug #955\n          _this._store.dispatch((0, _auth.signOut)());\n        }\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'signIn',\n    value: function signIn(user) {\n      this._store.dispatch((0, _auth.signIn)(user));\n      this._local.set('auth', {\n        isAuthenticated: true,\n        username: user.username\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'signOut',\n    value: function signOut() {\n      this._store.dispatch((0, _auth.signOut)());\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n      this._modal.hide();\n    }\n  }, {\n    key: 'softSignOut',\n    value: function softSignOut() {\n      this._store.dispatch((0, _auth.signOut)(true));\n      this._local.set('auth', {\n        isAuthenticated: false\n      });\n      this._modal.hide();\n    }\n  }]);\n\n  return Auth;\n}();\n\nexports.default = new Auth();\n\n},{\"../reducers/auth\":346}],363:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */\n// jshint ignore:line\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _formGroup = require('../components/form-group');\n\nvar _formGroup2 = _interopRequireDefault(_formGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar BaseCaptcha = exports.BaseCaptcha = function () {\n  function BaseCaptcha() {\n    _classCallCheck(this, BaseCaptcha);\n  }\n\n  _createClass(BaseCaptcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      this._context = context;\n      this._ajax = ajax;\n      this._include = include;\n      this._snackbar = snackbar;\n    }\n  }]);\n\n  return BaseCaptcha;\n}();\n\nvar NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {\n  _inherits(NoCaptcha, _BaseCaptcha);\n\n  function NoCaptcha() {\n    _classCallCheck(this, NoCaptcha);\n\n    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));\n  }\n\n  _createClass(NoCaptcha, [{\n    key: 'load',\n    value: function load() {\n      return new Promise(function (resolve) {\n        // immediately resolve as we don't have anything to validate\n        resolve();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return null;\n    }\n  }, {\n    key: 'component',\n    value: function component() {\n      return null;\n    }\n  }]);\n\n  return NoCaptcha;\n}(BaseCaptcha);\n\nvar QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {\n  _inherits(QACaptcha, _BaseCaptcha2);\n\n  function QACaptcha() {\n    _classCallCheck(this, QACaptcha);\n\n    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));\n  }\n\n  _createClass(QACaptcha, [{\n    key: 'load',\n    value: function load() {\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {\n          self.question = data.question;\n          self.helpText = data.help_text;\n          resolve();\n        }, function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"));\n          reject();\n        });\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        {\n          label: this.question,\n          'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"\",\n          controlClass: kwargs.controlClass || \"\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: this.helpText || null\n        },\n        _react2.default.createElement('input', {\n          'aria-describedby': 'id_captcha_status',\n          className: 'form-control',\n          disabled: kwargs.form.state.isLoading,\n          id: 'id_captcha',\n          onChange: kwargs.form.bindInput('captcha'),\n          type: 'text',\n          value: kwargs.form.state.captcha\n        })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return QACaptcha;\n}(BaseCaptcha);\n\nvar ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {\n  _inherits(ReCaptchaComponent, _React$Component);\n\n  function ReCaptchaComponent() {\n    _classCallCheck(this, ReCaptchaComponent);\n\n    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));\n  }\n\n  _createClass(ReCaptchaComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      grecaptcha.render('recaptcha', {\n        'sitekey': this.props.siteKey,\n        'callback': function callback(response) {\n          // fire fakey event to binding\n          _this4.props.binding({\n            target: {\n              value: response\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      /* jshint ignore:start */\n      return _react2.default.createElement('div', { id: 'recaptcha' });\n      /* jshint ignore:end */\n    }\n  }]);\n\n  return ReCaptchaComponent;\n}(_react2.default.Component);\n\nvar ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {\n  _inherits(ReCaptcha, _BaseCaptcha3);\n\n  function ReCaptcha() {\n    _classCallCheck(this, ReCaptcha);\n\n    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));\n  }\n\n  _createClass(ReCaptcha, [{\n    key: 'load',\n    value: function load() {\n      this._include.include('https://www.google.com/recaptcha/api.js', true);\n\n      return new Promise(function (resolve) {\n        var wait = function wait() {\n          if (typeof grecaptcha === \"undefined\") {\n            window.setTimeout(function () {\n              wait();\n            }, 200);\n          } else {\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return [];\n    }\n\n    /* jshint ignore:start */\n\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return _react2.default.createElement(\n        _formGroup2.default,\n        {\n          label: gettext(\"Please solve the quick test\"),\n          'for': 'id_captcha',\n          labelClass: kwargs.labelClass || \"\",\n          controlClass: kwargs.controlClass || \"\",\n          validation: kwargs.form.state.errors.captcha,\n          helpText: gettext(\"This test helps us prevent automated spam registrations on our site.\")\n        },\n        _react2.default.createElement(ReCaptchaComponent, {\n          binding: kwargs.form.bindInput('captcha'),\n          siteKey: this._context.get('SETTINGS').recaptcha_site_key\n        })\n      );\n    }\n    /* jshint ignore:end */\n\n  }]);\n\n  return ReCaptcha;\n}(BaseCaptcha);\n\nvar Captcha = exports.Captcha = function () {\n  function Captcha() {\n    _classCallCheck(this, Captcha);\n  }\n\n  _createClass(Captcha, [{\n    key: 'init',\n    value: function init(context, ajax, include, snackbar) {\n      switch (context.get('SETTINGS').captcha_type) {\n        case 'no':\n          this._captcha = new NoCaptcha();\n          break;\n\n        case 'qa':\n          this._captcha = new QACaptcha();\n          break;\n\n        case 're':\n          this._captcha = new ReCaptcha();\n          break;\n      }\n\n      this._captcha.init(context, ajax, include, snackbar);\n    }\n\n    // accessors for underlying strategy\n\n  }, {\n    key: 'load',\n    value: function load() {\n      return this._captcha.load();\n    }\n  }, {\n    key: 'validator',\n    value: function validator() {\n      return this._captcha.validator();\n    }\n  }, {\n    key: 'component',\n    value: function component(kwargs) {\n      return this._captcha.component(kwargs);\n    }\n  }]);\n\n  return Captcha;\n}();\n\nexports.default = new Captcha();\n\n},{\"../components/form-group\":53,\"react\":\"react\"}],364:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Include = exports.Include = function () {\n  function Include() {\n    _classCallCheck(this, Include);\n  }\n\n  _createClass(Include, [{\n    key: 'init',\n    value: function init(staticUrl) {\n      this._staticUrl = staticUrl;\n      this._included = [];\n    }\n  }, {\n    key: 'include',\n    value: function include(script) {\n      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this._included.indexOf(script) === -1) {\n        this._included.push(script);\n        this._include(script, remote);\n      }\n    }\n  }, {\n    key: '_include',\n    value: function _include(script, remote) {\n      $.ajax({\n        url: (!remote ? this._staticUrl : '') + script,\n        cache: true,\n        dataType: 'script'\n      });\n    }\n  }]);\n\n  return Include;\n}();\n\nexports.default = new Include();\n\n},{}],365:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar storage = window.localStorage;\n\nvar LocalStorage = exports.LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: 'init',\n    value: function init(prefix) {\n      var _this = this;\n\n      this._prefix = prefix;\n      this._watchers = [];\n\n      window.addEventListener('storage', function (e) {\n        var newValueJson = JSON.parse(e.newValue);\n        _this._watchers.forEach(function (watcher) {\n          if (watcher.key === e.key && e.oldValue !== e.newValue) {\n            watcher.callback(newValueJson);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      storage.setItem(this._prefix + key, JSON.stringify(value));\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var itemString = storage.getItem(this._prefix + key);\n      if (itemString) {\n        return JSON.parse(itemString);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'watch',\n    value: function watch(key, callback) {\n      this._watchers.push({\n        key: this._prefix + key,\n        callback: callback\n      });\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexports.default = new LocalStorage();\n\n},{}],366:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileNavbarDropdown = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {\n  function MobileNavbarDropdown() {\n    _classCallCheck(this, MobileNavbarDropdown);\n  }\n\n  _createClass(MobileNavbarDropdown, [{\n    key: 'init',\n    value: function init(element) {\n      this._element = element;\n      this._component = null;\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      if (this._component === component) {\n        this.hide();\n      } else {\n        this._component = component;\n        (0, _mountComponent2.default)(component, this._element.id);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'showConnected',\n    value: function showConnected(name, component) {\n      if (this._component === name) {\n        this.hide();\n      } else {\n        this._component = name;\n        (0, _mountComponent2.default)(component, this._element.id, true);\n        $(this._element).addClass('open');\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      $(this._element).removeClass('open');\n      this._component = null;\n    }\n  }]);\n\n  return MobileNavbarDropdown;\n}();\n\nexports.default = new MobileNavbarDropdown();\n\n},{\"../utils/mount-component\":382}],367:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Modal = exports.Modal = function () {\n  function Modal() {\n    _classCallCheck(this, Modal);\n  }\n\n  _createClass(Modal, [{\n    key: 'init',\n    value: function init(element) {\n      var _this = this;\n\n      this._element = element;\n\n      this._modal = $(element).modal({ show: false });\n\n      this._modal.on('hidden.bs.modal', function () {\n        _reactDom2.default.unmountComponentAtNode(_this._element);\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show(component) {\n      (0, _mountComponent2.default)(component, this._element.id);\n      this._modal.modal('show');\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this._modal.modal('hide');\n    }\n  }]);\n\n  return Modal;\n}();\n\nexports.default = new Modal();\n\n},{\"../utils/mount-component\":382,\"react-dom\":\"react-dom\"}],368:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.parseYoutubeUrl = parseYoutubeUrl;\nexports.cleanUrl = cleanUrl;\nexports.getVideoIdFromUrl = getVideoIdFromUrl;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ytRegExp = new RegExp('^.*(?:(?:youtu\\.be\\/|v\\/|vi\\/|u\\/\\w\\/|embed\\/)|(?:(?:watch)?\\?v(?:i)?=|\\&v(?:i)?=))([^#\\&\\?]*).*');\n\nvar OneBox = exports.OneBox = function () {\n  function OneBox() {\n    var _this = this;\n\n    _classCallCheck(this, OneBox);\n\n    this.render = function (domnode) {\n      if (!domnode) return;\n      _this.highlightCode(domnode);\n      _this.embedYoutubePlayers(domnode);\n    };\n\n    this._youtube = {};\n  }\n\n  // jshint ignore:start\n\n\n  _createClass(OneBox, [{\n    key: 'highlightCode',\n\n    // jshint ignore:end\n\n    value: function highlightCode(domnode) {\n      var codeblocks = domnode.querySelectorAll('pre>code');\n      for (var i = 0; i < codeblocks.length; i++) {\n        var code = codeblocks[i];\n        hljs.highlightBlock(code);\n      }\n    }\n  }, {\n    key: 'embedYoutubePlayers',\n    value: function embedYoutubePlayers(domnode) {\n      var anchors = domnode.querySelectorAll('p>a');\n      for (var i = 0; i < anchors.length; i++) {\n        var a = anchors[i];\n        var p = a.parentNode;\n        var onlyChild = p.childNodes.length === 1;\n\n        if (!this._youtube[a.href]) {\n          this._youtube[a.href] = parseYoutubeUrl(a.href);\n        }\n\n        var youtubeMovie = this._youtube[a.href];\n        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n          this.swapYoutubePlayer(a, youtubeMovie);\n        }\n      }\n    }\n  }, {\n    key: 'swapYoutubePlayer',\n    value: function swapYoutubePlayer(element, youtube) {\n      var url = 'https://www.youtube.com/embed/';\n      url += youtube.video;\n      url += '?rel=0';\n      if (youtube.start) {\n        url += '&start=' + youtube.start;\n      }\n\n      var player = $('<iframe class=\"embed-responsive-item\" src=\"' + url + '\" allowfullscreen></iframe>');\n      $(element).replaceWith(player);\n      player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>');\n    }\n  }]);\n\n  return OneBox;\n}();\n\nexports.default = new OneBox();\nfunction parseYoutubeUrl(url) {\n  var cleanedUrl = cleanUrl(url);\n  var video = getVideoIdFromUrl(cleanedUrl);\n\n  if (!video) return null;\n\n  var start = 0;\n  if (cleanedUrl.indexOf('?') > 0) {\n    var query = cleanedUrl.substr(cleanedUrl.indexOf('?') + 1);\n    var timebit = query.split('&').filter(function (i) {\n      return i.substr(0, 2) === 't=';\n    })[0];\n\n    if (timebit) {\n      var bits = timebit.substr(2).split('m');\n      if (bits[0].substr(-1) === 's') {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1));\n      } else {\n        start += parseInt(bits[0]) * 60;\n        if (!!bits[1] && bits[1].substr(-1) === 's') {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1));\n        }\n      }\n    }\n  }\n\n  return {\n    start: start,\n    video: video\n  };\n}\n\nfunction cleanUrl(url) {\n  var clean = url;\n\n  if (url.substr(0, 8) === 'https://') {\n    clean = clean.substr(8);\n  } else if (url.substr(0, 7) === 'http://') {\n    clean = clean.substr(7);\n  }\n\n  if (clean.substr(0, 4) === 'www.') {\n    clean = clean.substr(4);\n  }\n\n  return clean;\n}\n\nfunction getVideoIdFromUrl(url) {\n  if (url.indexOf('youtu') === -1) return null;\n\n  var video = url.match(ytRegExp);\n  if (video) {\n    return video[1];\n  }\n  return null;\n}\n\n},{}],369:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PageTitle = exports.PageTitle = function () {\n  function PageTitle() {\n    _classCallCheck(this, PageTitle);\n  }\n\n  _createClass(PageTitle, [{\n    key: 'init',\n    value: function init(indexTitle, forumName) {\n      this._indexTitle = indexTitle;\n      this._forumName = forumName;\n    }\n  }, {\n    key: 'set',\n    value: function set(title) {\n      if (!title) {\n        document.title = this._indexTitle || this._forumName;\n        return;\n      }\n\n      if (typeof title === 'string') {\n        title = { title: title };\n      }\n\n      var finalTitle = title.title;\n\n      if (title.page > 1) {\n        var pageLabel = interpolate(gettext('page: %(page)s'), {\n          page: title.page\n        }, true);\n\n        finalTitle += ' (' + pageLabel + ')';\n      }\n\n      if (title.parent) {\n        finalTitle += ' | ' + title.parent;\n      }\n\n      document.title = finalTitle + ' | ' + this._forumName;\n    }\n  }]);\n\n  return PageTitle;\n}();\n\nexports.default = new PageTitle();\n\n},{}],370:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Polls = exports.Polls = function () {\n  function Polls() {\n    _classCallCheck(this, Polls);\n  }\n\n  _createClass(Polls, [{\n    key: \"init\",\n    value: function init(ajax, snackbar) {\n      this._ajax = ajax;\n      this._snackbar = snackbar;\n\n      this._polls = {};\n    }\n  }, {\n    key: \"start\",\n    value: function start(kwargs) {\n      var _this = this;\n\n      this.stop(kwargs.poll);\n\n      var poolServer = function poolServer() {\n        _this._polls[kwargs.poll] = kwargs;\n\n        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {\n          if (!_this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data);\n\n            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);\n          }\n        }, function (rejection) {\n          if (!_this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection);\n            } else {\n              _this._snackbar.apiError(rejection);\n            }\n          }\n        });\n      };\n\n      if (kwargs.delayed) {\n        this._polls[kwargs.poll] = {\n          timeout: window.setTimeout(poolServer, kwargs.frequency)\n        };\n      } else {\n        poolServer();\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(pollId) {\n      if (this._polls[pollId]) {\n        window.clearTimeout(this._polls[pollId].timeout);\n        this._polls[pollId]._stopped = true;\n      }\n    }\n  }]);\n\n  return Polls;\n}();\n\nexports.default = new Polls();\n\n},{}],371:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Posting = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n// jshint ignore:line\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _poll = require('../components/poll');\n\nvar _posting = require('../components/posting');\n\nvar _posting2 = _interopRequireDefault(_posting);\n\nvar _mountComponent = require('../utils/mount-component');\n\nvar _mountComponent2 = _interopRequireDefault(_mountComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint ignore:line\n\nvar Posting = exports.Posting = function () {\n  function Posting() {\n    var _this = this;\n\n    _classCallCheck(this, Posting);\n\n    this.close = function () {\n      if (_this._isOpen && !_this._isClosing) {\n        _this._isClosing = true;\n        _this._placeholder.removeClass('slide-in');\n\n        window.setTimeout(function () {\n          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));\n          _this._isClosing = false;\n          _this._isOpen = false;\n        }, 300);\n      }\n    };\n  }\n\n  _createClass(Posting, [{\n    key: 'init',\n    value: function init(ajax, snackbar, placeholder) {\n      this._ajax = ajax;\n      this._snackbar = snackbar;\n      this._placeholder = $(placeholder);\n\n      this._mode = null;\n\n      this._isOpen = false;\n      this._isClosing = false;\n    }\n  }, {\n    key: 'open',\n    value: function open(props) {\n      if (this._isOpen === false) {\n        this._mode = props.mode;\n        this._isOpen = props.submit;\n        this._realOpen(props);\n      } else if (this._isOpen !== props.submit) {\n        var message = gettext(\"You are already working on other message. Do you want to discard it?\");\n        if (this._mode == 'POLL') {\n          message = gettext(\"You are already working on a poll. Do you want to discard it?\");\n        }\n\n        var changeForm = confirm(message);\n        if (changeForm) {\n          this._mode = props.mode;\n          this._isOpen = props.submit;\n          this._realOpen(props);\n        }\n      } else if (this._mode == 'REPLY' && props.mode == 'REPLY') {\n        this._realOpen(props);\n      }\n    }\n\n    // jshint ignore:start\n\n  }, {\n    key: '_realOpen',\n\n    // jshint ignore:end\n    value: function _realOpen(props) {\n      if (props.mode == 'POLL') {\n        (0, _mountComponent2.default)(_react2.default.createElement(_poll.PollForm, props), 'posting-mount');\n      } else {\n        (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');\n      }\n\n      this._placeholder.addClass('slide-in');\n\n      $('html, body').animate({\n        scrollTop: this._placeholder.offset().top\n      }, 1000);\n    }\n  }]);\n\n  return Posting;\n}();\n\nexports.default = new Posting();\n\n},{\"../components/poll\":103,\"../components/posting\":131,\"../utils/mount-component\":382,\"react\":\"react\",\"react-dom\":\"react-dom\"}],372:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Snackbar = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _snackbar = require('../reducers/snackbar');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HIDE_ANIMATION_LENGTH = 300;\nvar MESSAGE_SHOW_LENGTH = 5000;\n\nvar Snackbar = exports.Snackbar = function () {\n  function Snackbar() {\n    _classCallCheck(this, Snackbar);\n  }\n\n  _createClass(Snackbar, [{\n    key: 'init',\n    value: function init(store) {\n      this._store = store;\n      this._timeout = null;\n    }\n  }, {\n    key: 'alert',\n    value: function alert(message, type) {\n      var _this = this;\n\n      if (this._timeout) {\n        window.clearTimeout(this._timeout);\n        this._store.dispatch((0, _snackbar.hideSnackbar)());\n\n        this._timeout = window.setTimeout(function () {\n          _this._timeout = null;\n          _this.alert(message, type);\n        }, HIDE_ANIMATION_LENGTH);\n      } else {\n        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));\n        this._timeout = window.setTimeout(function () {\n          _this._store.dispatch((0, _snackbar.hideSnackbar)());\n          _this._timeout = null;\n        }, MESSAGE_SHOW_LENGTH);\n      }\n    }\n\n    // shorthands for message types\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.alert(message, 'info');\n    }\n  }, {\n    key: 'success',\n    value: function success(message) {\n      this.alert(message, 'success');\n    }\n  }, {\n    key: 'warning',\n    value: function warning(message) {\n      this.alert(message, 'warning');\n    }\n  }, {\n    key: 'error',\n    value: function error(message) {\n      this.alert(message, 'error');\n    }\n\n    // shorthand for api errors\n\n  }, {\n    key: 'apiError',\n    value: function apiError(rejection) {\n      var message = rejection.detail;\n\n      if (!message) {\n        if (rejection.status === 404) {\n          message = gettext(\"Action link is invalid.\");\n        } else {\n          message = gettext(\"Unknown error has occured.\");\n        }\n      }\n\n      if (rejection.status === 403 && message === \"Permission denied\") {\n        message = gettext(\"You don't have permission to perform this action.\");\n      }\n\n      this.error(message);\n    }\n  }]);\n\n  return Snackbar;\n}();\n\nexports.default = new Snackbar();\n\n},{\"../reducers/snackbar\":355}],373:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StoreWrapper = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _redux = require('redux');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StoreWrapper = exports.StoreWrapper = function () {\n  function StoreWrapper() {\n    _classCallCheck(this, StoreWrapper);\n\n    this._store = null;\n    this._reducers = {};\n    this._initialState = {};\n  }\n\n  _createClass(StoreWrapper, [{\n    key: 'addReducer',\n    value: function addReducer(name, reducer, initialState) {\n      this._reducers[name] = reducer;\n      this._initialState[name] = initialState;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);\n    }\n  }, {\n    key: 'getStore',\n    value: function getStore() {\n      return this._store;\n    }\n\n    // Store API\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this._store.getState();\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(action) {\n      return this._store.dispatch(action);\n    }\n  }]);\n\n  return StoreWrapper;\n}();\n\nexports.default = new StoreWrapper();\n\n},{\"redux\":\"redux\"}],374:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global zxcvbn */\nvar Zxcvbn = exports.Zxcvbn = function () {\n  function Zxcvbn() {\n    _classCallCheck(this, Zxcvbn);\n  }\n\n  _createClass(Zxcvbn, [{\n    key: \"init\",\n    value: function init(include) {\n      this._include = include;\n      this._isLoaded = false;\n    }\n  }, {\n    key: \"scorePassword\",\n    value: function scorePassword(password, inputs) {\n      // 0-4 score, the more the stronger password\n      if (this._isLoaded) {\n        return zxcvbn(password, inputs).score;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      if (!this._isLoaded) {\n        this._include.include('misago/js/zxcvbn.js');\n        return this._loadingPromise();\n      } else {\n        return this._loadedPromise();\n      }\n    }\n  }, {\n    key: \"_loadingPromise\",\n    value: function _loadingPromise() {\n      var self = this;\n\n      return new Promise(function (resolve, reject) {\n        var wait = function wait() {\n          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          tries += 1;\n          if (tries > 200) {\n            reject();\n          } else if (typeof zxcvbn === \"undefined\") {\n            window.setTimeout(function () {\n              wait(tries);\n            }, 200);\n          } else {\n            self._isLoaded = true;\n            resolve();\n          }\n        };\n        wait();\n      });\n    }\n  }, {\n    key: \"_loadedPromise\",\n    value: function _loadedPromise() {\n      // we have already loaded zxcvbn.js, resolve away!\n      return new Promise(function (resolve) {\n        resolve();\n      });\n    }\n  }]);\n\n  return Zxcvbn;\n}();\n\nexports.default = new Zxcvbn();\n\n},{}],375:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (ban, changeState) {\n  _reactDom2.default.render(\n  /* jshint ignore:start */\n  _react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _store2.default.getStore() },\n    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,\n      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })\n  ),\n  /* jshint ignore:end */\n  document.getElementById('page-mount'));\n\n  if (typeof changeState === 'undefined' || changeState) {\n    var forumName = _index2.default.get('SETTINGS').forum_name;\n    document.title = gettext(\"You are banned\") + ' | ' + forumName;\n    window.history.pushState({}, \"\", _index2.default.get('BANNED_URL'));\n  }\n};\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _bannedPage = require('../components/banned-page');\n\nvar _bannedPage2 = _interopRequireDefault(_bannedPage);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// jshint ignore:line\n\n/* jshint ignore:start */\n// jshint ignore:line\n// jshint ignore:line\nvar select = function select(state) {\n  return state.tick;\n}; // jshint ignore:line\n// jshint ignore:line\n\n\nvar RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);\n/* jshint ignore:end */\n\n},{\"../components/banned-page\":6,\"../index\":299,\"../services/store\":373,\"moment\":\"moment\",\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],376:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (list, rowWidth) {\n  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var rows = [];\n  var row = [];\n\n  list.forEach(function (element) {\n    row.push(element);\n    if (row.length === rowWidth) {\n      rows.push(row);\n      row = [];\n    }\n  });\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (var i = row.length; i < rowWidth; i++) {\n      row.push(padding);\n    }\n  }\n\n  if (row.length) {\n    rows.push(row);\n  }\n\n  return rows;\n};\n\n},{}],377:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (a, b) {\n  var ids = [];\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id);\n      return true;\n    } else {\n      return false;\n    }\n  });\n};\n\n},{}],378:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(callback, count) {\n    _classCallCheck(this, _class);\n\n    this._callback = callback;\n    this._count = count;\n  }\n\n  _createClass(_class, [{\n    key: \"count\",\n    value: function count() {\n      this._count -= 1;\n      if (this._count === 0) {\n        this._callback();\n      }\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\n\n},{}],379:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m];\n  });\n};\n\nvar map = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#039;'\n};\n\n},{}],380:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + ' GB';\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + ' MB';\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + ' KB';\n  } else {\n    return roundSize(bytes) + ' B';\n  }\n};\n\nexports.roundSize = roundSize;\nfunction roundSize(value) {\n  return value.toFixed(1);\n}\n\n},{}],381:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (str) {\n  return URL_PATTERN.test($.trim(str));\n};\n\nvar URL_PATTERN = new RegExp('^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$', 'i');\n\n},{}],382:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (Component, rootElementId) {\n  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  var rootElement = document.getElementById(rootElementId);\n\n  /* jshint ignore:start */\n  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);\n  /* jshint ignore:end */\n\n  if (rootElement) {\n    if (connected) {\n      _reactDom2.default.render(\n      /* jshint ignore:start */\n      _react2.default.createElement(\n        _reactRedux.Provider,\n        { store: _store2.default.getStore() },\n        finalComponent\n      ),\n      /* jshint ignore:end */\n      rootElement);\n    } else {\n      /* jshint ignore:start */\n      _reactDom2.default.render(finalComponent, rootElement);\n      /* jshint ignore:end */\n    }\n  }\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"../services/store\":373,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\"}],383:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrderedList = function () {\n  function OrderedList(items) {\n    _classCallCheck(this, OrderedList);\n\n    this.isOrdered = false;\n    this._items = items || [];\n  }\n\n  _createClass(OrderedList, [{\n    key: \"add\",\n    value: function add(key, item, order) {\n      this._items.push({\n        key: key,\n        item: item,\n\n        after: order ? order.after || null : null,\n        before: order ? order.before || null : null\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, value) {\n      for (var i = 0; i < this._items.length; i++) {\n        if (this._items[i].key === key) {\n          return this._items[i].item;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.get(key) !== undefined;\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      var values = [];\n      for (var i = 0; i < this._items.length; i++) {\n        values.push(this._items[i].item);\n      }\n      return values;\n    }\n  }, {\n    key: \"order\",\n    value: function order(values_only) {\n      if (!this.isOrdered) {\n        this._items = this._order(this._items);\n        this.isOrdered = true;\n      }\n\n      if (values_only || typeof values_only === 'undefined') {\n        return this.values();\n      } else {\n        return this._items;\n      }\n    }\n  }, {\n    key: \"orderedValues\",\n    value: function orderedValues() {\n      return this.order(true);\n    }\n  }, {\n    key: \"_order\",\n    value: function _order(unordered) {\n      // Index of unordered items\n      var index = [];\n      unordered.forEach(function (item) {\n        index.push(item.key);\n      });\n\n      // Ordered items\n      var ordered = [];\n      var ordering = [];\n\n      // First pass: register items that\n      // don't specify their order\n      unordered.forEach(function (item) {\n        if (!item.after && !item.before) {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Second pass: register items that\n      // specify their before to \"_end\"\n      unordered.forEach(function (item) {\n        if (item.before === \"_end\") {\n          ordered.push(item);\n          ordering.push(item.key);\n        }\n      });\n\n      // Third pass: keep iterating items\n      // until we hit iterations limit or finish\n      // ordering list\n      function insertItem(item) {\n        var insertAt = -1;\n        if (ordering.indexOf(item.key) === -1) {\n          if (item.after) {\n            insertAt = ordering.indexOf(item.after);\n            if (insertAt !== -1) {\n              insertAt += 1;\n            }\n          } else if (item.before) {\n            insertAt = ordering.indexOf(item.before);\n          }\n\n          if (insertAt !== -1) {\n            ordered.splice(insertAt, 0, item);\n            ordering.splice(insertAt, 0, item.key);\n          }\n        }\n      }\n\n      var iterations = 200;\n      while (iterations > 0 && index.length !== ordering.length) {\n        iterations -= 1;\n        unordered.forEach(insertItem);\n      }\n\n      return ordered;\n    }\n  }]);\n\n  return OrderedList;\n}();\n\nexports.default = OrderedList;\n\n},{}],384:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.int = int;\nexports.range = range;\nfunction int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction range(min, max) {\n  var array = new Array(int(min, max));\n  for (var i = 0; i < array.length; i++) {\n    array[i] = i;\n  }\n\n  return array;\n}\n\n},{}],385:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  window.scrollTo(0, 0);\n};\n\n},{}],386:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (options) {\n  var routes = {\n    component: options.component || null,\n    childRoutes: []\n  };\n\n  if (options.root) {\n    routes.childRoutes = [{\n      path: options.root,\n      onEnter: function onEnter(nextState, replaceState) {\n        replaceState(null, options.paths[0].path);\n      }\n    }].concat(options.paths);\n  } else {\n    routes.childRoutes = options.paths;\n  }\n\n  _reactDom2.default.render(_react2.default.createElement(\n    _reactRedux.Provider,\n    { store: _store2.default.getStore() },\n    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })\n  ), rootElement);\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRedux = require('react-redux');\n\nvar _reactRouter = require('react-router');\n\nvar _store = require('../services/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rootElement = document.getElementById('page-mount'); // jshint ignore:start\n\n},{\"../services/store\":373,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\",\"react-router\":\"react-router\"}],387:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.push = push;\nexports.remove = remove;\nexports.toggle = toggle;\nfunction push(array, value) {\n  if (array.indexOf(value) === -1) {\n    var copy = array.slice();\n    copy.push(value);\n    return copy;\n  } else {\n    return array;\n  }\n}\n\nfunction remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value;\n    });\n  } else {\n    return array;\n  }\n}\n\nfunction toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    var copy = array.slice();\n    copy.push(value);\n    return copy;\n  } else {\n    return array.filter(function (i) {\n      return i !== value;\n    });\n  }\n}\n\n},{}],388:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (string, subString) {\n  string = (string + \"\").toLowerCase();\n  subString = (subString + \"\").toLowerCase();\n\n  if (subString.length <= 0) return 0;\n\n  var n = 0;\n  var pos = 0;\n  var step = subString.length;\n\n  while (true) {\n    pos = string.indexOf(subString, pos);\n    if (pos >= 0) {\n      n += 1;\n      pos += step;\n    } else {\n      break;\n    }\n  }\n\n  return n;\n};\n\n},{}],389:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.required = required;\nexports.email = email;\nexports.minLength = minLength;\nexports.maxLength = maxLength;\nexports.usernameMinLength = usernameMinLength;\nexports.usernameMaxLength = usernameMaxLength;\nexports.usernameContent = usernameContent;\nexports.passwordMinLength = passwordMinLength;\nvar EMAIL = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar USERNAME = new RegExp('^[0-9a-z]+$', 'i');\n\nfunction required() {\n  return function (value) {\n    if ($.trim(value).length === 0) {\n      return gettext(\"This field is required.\");\n    }\n  };\n}\n\nfunction email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\");\n    }\n  };\n}\n\nfunction minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = '';\n    var length = $.trim(value).length;\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length);\n      } else {\n        returnMessage = ngettext(\"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\", \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\", limitValue);\n      }\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\nfunction usernameMinLength(lengthMin) {\n  var message = function message(lengthMin) {\n    return ngettext(\"Username must be at least %(limit_value)s character long.\", \"Username must be at least %(limit_value)s characters long.\", lengthMin);\n  };\n  return minLength(lengthMin, message);\n}\n\nfunction usernameMaxLength(lengthMax) {\n  var message = function message(lengthMax) {\n    return ngettext(\"Username cannot be longer than %(limit_value)s character.\", \"Username cannot be longer than %(limit_value)s characters.\", lengthMax);\n  };\n  return maxLength(lengthMax, message);\n}\n\nfunction usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\"Username can only contain latin alphabet letters and digits.\");\n    }\n  };\n}\n\nfunction passwordMinLength(limitValue) {\n  return function (value) {\n    var length = value.length;\n\n    if (length < limitValue) {\n      var returnMessage = ngettext(\"Valid password must be at least %(limit_value)s character long.\", \"Valid password must be at least %(limit_value)s characters long.\", limitValue);\n\n      return interpolate(returnMessage, {\n        limit_value: limitValue,\n        show_value: length\n      }, true);\n    }\n  };\n}\n\n},{}]},{},[299,300,301,302,303,319,320,321,322,323,324,325,326,342,343,344,345,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341]);\n"]}