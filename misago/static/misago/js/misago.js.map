{"version":3,"file":"misago.js","mappings":"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;;;;;ACxIA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;;;;;WCAA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UElDA;UACA;UACA;UACA,0DAA0D,+CAA+C;UACzG,0DAA0D,2DAA2D;UACrH,0DAA0D,gEAAgE;UAC1H,0DAA0D,2DAA2D;UACrH,0DAA0D,8DAA8D;UACxH,0DAA0D,kFAAkF;UAC5I,0DAA0D,8EAA8E;UACxI,0DAA0D,6EAA6E;UACvI,0DAA0D,4EAA4E;UACtI,0DAA0D,yEAAyE;UACnI,0DAA0D,yEAAyE;UACnI,0DAA0D,yFAAyF;UACnJ,0DAA0D,wFAAwF;UAClJ,0DAA0D,qFAAqF;UAC/I,0DAA0D,wEAAwE;UAClI,0DAA0D,0EAA0E;UACpI,0DAA0D,6EAA6E;UACvI,0DAA0D,wEAAwE;UAClI,0DAA0D,yEAAyE;UACnI,0DAA0D,2EAA2E;UACrI,0DAA0D,uEAAuE;UACjI,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,6EAA6E;UACvI,0DAA0D,4DAA4D;UACtH,0DAA0D,oEAAoE;UAC9H,0DAA0D,iEAAiE;UAC3H,0DAA0D,4DAA4D;UACtH,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,4EAA4E;UACtI,0DAA0D,oEAAoE;UAC9H,0DAA0D,qEAAqE;UAC/H,0DAA0D,+EAA+E;UACzI,0DAA0D,+EAA+E;UACzI,0DAA0D,uEAAuE;UACjI,0DAA0D,sEAAsE;UAChI,0DAA0D,yEAAyE;UACnI,0DAA0D,wEAAwE;UAClI,0DAA0D,sEAAsE;UAChI,0DAA0D,uEAAuE;UACjI,0DAA0D,oEAAoE;UAC9H,0DAA0D,gFAAgF;UAC1I,0DAA0D,qEAAqE;UAC/H,0DAA0D,+DAA+D;UACzH,0DAA0D,4DAA4D;UACtH,0DAA0D,iEAAiE;UAC3H,oFAAoF,6DAA6D;UACjJ","sources":["webpack://misago/./highlight/highlight.pack.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadsList/ThreadsList.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListEmpty.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItem.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemActivity.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCategory.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCheckbox.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemFlags.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemIcon.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemLastPoster.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemReplies.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscription.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListLoader.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx","webpack://misago/./src/components/ThreadsList/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UIPreview/UIPreviewText.js","webpack://misago/./src/components/UIPreview/index.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/categories/blankslate.js","webpack://misago/./src/components/categories/categories-list.js","webpack://misago/./src/components/categories/category/index.js","webpack://misago/./src/components/categories/category/list-item/description.js","webpack://misago/./src/components/categories/category/list-item/icon.js","webpack://misago/./src/components/categories/category/list-item/index.js","webpack://misago/./src/components/categories/category/list-item/last-thread.js","webpack://misago/./src/components/categories/category/list-item/main.js","webpack://misago/./src/components/categories/category/list-item/stats.js","webpack://misago/./src/components/categories/category/list-item/subcategories/index.js","webpack://misago/./src/components/categories/category/list-item/subcategories/list-item.js","webpack://misago/./src/components/categories/index.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/dropdown-toggle.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/editor/actions/action.js","webpack://misago/./src/components/editor/actions/code.js","webpack://misago/./src/components/editor/actions/emphasis.js","webpack://misago/./src/components/editor/actions/hr.js","webpack://misago/./src/components/editor/actions/image.js","webpack://misago/./src/components/editor/actions/link.js","webpack://misago/./src/components/editor/actions/quote.js","webpack://misago/./src/components/editor/actions/spoiler.js","webpack://misago/./src/components/editor/actions/strikethrough.js","webpack://misago/./src/components/editor/actions/strong.js","webpack://misago/./src/components/editor/attachments/attachment/complete.js","webpack://misago/./src/components/editor/attachments/attachment/error.js","webpack://misago/./src/components/editor/attachments/attachment/index.js","webpack://misago/./src/components/editor/attachments/attachment/upload.js","webpack://misago/./src/components/editor/attachments/index.js","webpack://misago/./src/components/editor/attachments/list.js","webpack://misago/./src/components/editor/attachments/upload-button.js","webpack://misago/./src/components/editor/attachments/uploader.js","webpack://misago/./src/components/editor/index.js","webpack://misago/./src/components/editor/markup-preview.js","webpack://misago/./src/components/editor/textutils.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/navbar-search/clean-results.js","webpack://misago/./src/components/navbar-search/dropdown/constants.js","webpack://misago/./src/components/navbar-search/dropdown/dropdown-menu.js","webpack://misago/./src/components/navbar-search/dropdown/empty.js","webpack://misago/./src/components/navbar-search/dropdown/flatten-results.js","webpack://misago/./src/components/navbar-search/dropdown/index.js","webpack://misago/./src/components/navbar-search/dropdown/input.js","webpack://misago/./src/components/navbar-search/dropdown/loader.js","webpack://misago/./src/components/navbar-search/dropdown/result/footer.js","webpack://misago/./src/components/navbar-search/dropdown/result/header.js","webpack://misago/./src/components/navbar-search/dropdown/result/index.js","webpack://misago/./src/components/navbar-search/dropdown/result/result.js","webpack://misago/./src/components/navbar-search/dropdown/result/thread.js","webpack://misago/./src/components/navbar-search/dropdown/result/user.js","webpack://misago/./src/components/navbar-search/index.js","webpack://misago/./src/components/options/change-username/form-loading.js","webpack://misago/./src/components/options/change-username/form-locked.js","webpack://misago/./src/components/options/change-username/form.js","webpack://misago/./src/components/options/change-username/root.js","webpack://misago/./src/components/options/delete-account.js","webpack://misago/./src/components/options/download-data.js","webpack://misago/./src/components/options/edit-details.js","webpack://misago/./src/components/options/forum-options.js","webpack://misago/./src/components/options/navs.js","webpack://misago/./src/components/options/root.js","webpack://misago/./src/components/options/sign-in-credentials/UnusablePasswordMessage.js","webpack://misago/./src/components/options/sign-in-credentials/change-email.js","webpack://misago/./src/components/options/sign-in-credentials/change-password.js","webpack://misago/./src/components/options/sign-in-credentials/root.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/container.js","webpack://misago/./src/components/posting/utils/loader.js","webpack://misago/./src/components/posting/utils/message.js","webpack://misago/./src/components/posting/utils/options.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/header.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/navs.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register-button.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search/form.js","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/search/page.js","webpack://misago/./src/components/search/sidenav.js","webpack://misago/./src/components/search/threads/index.js","webpack://misago/./src/components/search/threads/results.js","webpack://misago/./src/components/search/users/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadPagination.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadSubscriptionButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/header/breadcrumbs.js","webpack://misago/./src/components/thread/header/index.js","webpack://misago/./src/components/thread/header/stats.js","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/is-visible.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/paginator.js","webpack://misago/./src/components/thread/reply-button.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/thread/subscription.js","webpack://misago/./src/components/thread/toolbar-bottom.js","webpack://misago/./src/components/threads/ThreadsCategoryPicker.jsx","webpack://misago/./src/components/threads/ThreadsListPicker.jsx","webpack://misago/./src/components/threads/ThreadsToolbar.jsx","webpack://misago/./src/components/threads/ThreadsToolbarModeration.jsx","webpack://misago/./src/components/threads/compare.js","webpack://misago/./src/components/threads/container.js","webpack://misago/./src/components/threads/header.js","webpack://misago/./src/components/threads/moderation/controls.js","webpack://misago/./src/components/threads/moderation/errors-list.js","webpack://misago/./src/components/threads/moderation/merge.js","webpack://misago/./src/components/threads/moderation/move.js","webpack://misago/./src/components/threads/root.js","webpack://misago/./src/components/threads/route.js","webpack://misago/./src/components/threads/utils.js","webpack://misago/./src/components/user-menu/guest-nav.js","webpack://misago/./src/components/user-menu/root.js","webpack://misago/./src/components/user-menu/user-nav.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/nav.js","webpack://misago/./src/components/users/rank/list-loading.js","webpack://misago/./src/components/users/rank/list.js","webpack://misago/./src/components/users/rank/pager.js","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/categories.js","webpack://misago/./src/initializers/components/options.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/threads.js","webpack://misago/./src/initializers/components/user-menu.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/is-url.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/reset-scroll.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/amd options","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["/*! highlight.js v9.9.0 | BSD3 License | git.io/hljslicense */\n!function(e){var n=\"object\"==typeof window&&window||\"object\"==typeof self&&self;\"undefined\"!=typeof undefined?e(exports):n&&(n.hljs=e({}),\"function\"==typeof define&&define.amd&&define([],function(){return n.hljs}))}(function(e){function n(e){return e.replace(/[&<>]/gm,function(e){return I[e]})}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0===t.index}function i(e){return k.test(e)}function a(e){var n,t,r,a,o=e.className+\" \";if(o+=e.parentNode?e.parentNode.className:\"\",t=B.exec(o))return R(t[1])?t[1]:\"no-highlight\";for(o=o.split(/\\s+/),n=0,r=o.length;r>n;n++)if(a=o[n],i(a)||R(a))return a}function o(e,n){var t,r={};for(t in e)r[t]=e[t];if(n)for(t in n)r[t]=n[t];return r}function u(e){var n=[];return function r(e,i){for(var a=e.firstChild;a;a=a.nextSibling)3===a.nodeType?i+=a.nodeValue.length:1===a.nodeType&&(n.push({event:\"start\",offset:i,node:a}),i=r(a,i),t(a).match(/br|hr|img|input/)||n.push({event:\"stop\",offset:i,node:a}));return i}(e,0),n}function c(e,r,i){function a(){return e.length&&r.length?e[0].offset!==r[0].offset?e[0].offset<r[0].offset?e:r:\"start\"===r[0].event?e:r:e.length?e:r}function o(e){function r(e){return\" \"+e.nodeName+'=\"'+n(e.value)+'\"'}l+=\"<\"+t(e)+w.map.call(e.attributes,r).join(\"\")+\">\"}function u(e){l+=\"</\"+t(e)+\">\"}function c(e){(\"start\"===e.event?o:u)(e.node)}for(var s=0,l=\"\",f=[];e.length||r.length;){var g=a();if(l+=n(i.substring(s,g[0].offset)),s=g[0].offset,g===e){f.reverse().forEach(u);do c(g.splice(0,1)[0]),g=a();while(g===e&&g.length&&g[0].offset===s);f.reverse().forEach(o)}else\"start\"===g[0].event?f.push(g[0].node):f.pop(),c(g.splice(0,1)[0])}return l+n(i.substr(s))}function s(e){function n(e){return e&&e.source||e}function t(t,r){return new RegExp(n(t),\"m\"+(e.cI?\"i\":\"\")+(r?\"g\":\"\"))}function r(i,a){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var u={},c=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(\" \").forEach(function(e){var t=e.split(\"|\");u[t[0]]=[n,t[1]?Number(t[1]):1]})};\"string\"==typeof i.k?c(\"keyword\",i.k):E(i.k).forEach(function(e){c(e,i.k[e])}),i.k=u}i.lR=t(i.l||/\\w+/,!0),a&&(i.bK&&(i.b=\"\\\\b(\"+i.bK.split(\" \").join(\"|\")+\")\\\\b\"),i.b||(i.b=/\\B|\\b/),i.bR=t(i.b),i.e||i.eW||(i.e=/\\B|\\b/),i.e&&(i.eR=t(i.e)),i.tE=n(i.e)||\"\",i.eW&&a.tE&&(i.tE+=(i.e?\"|\":\"\")+a.tE)),i.i&&(i.iR=t(i.i)),null==i.r&&(i.r=1),i.c||(i.c=[]);var s=[];i.c.forEach(function(e){e.v?e.v.forEach(function(n){s.push(o(e,n))}):s.push(\"self\"===e?i:e)}),i.c=s,i.c.forEach(function(e){r(e,i)}),i.starts&&r(i.starts,a);var l=i.c.map(function(e){return e.bK?\"\\\\.?(\"+e.b+\")\\\\.?\":e.b}).concat([i.tE,i.i]).map(n).filter(Boolean);i.t=l.length?t(l.join(\"|\"),!0):{exec:function(){return null}}}}r(e)}function l(e,t,i,a){function o(e,n){var t,i;for(t=0,i=n.c.length;i>t;t++)if(r(n.c[t].bR,e))return n.c[t]}function u(e,n){if(r(e.eR,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?u(e.parent,n):void 0}function c(e,n){return!i&&r(n.iR,e)}function g(e,n){var t=N.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function h(e,n,t,r){var i=r?\"\":y.classPrefix,a='<span class=\"'+i,o=t?\"\":C;return a+=e+'\">',a+n+o}function p(){var e,t,r,i;if(!E.k)return n(B);for(i=\"\",t=0,E.lR.lastIndex=0,r=E.lR.exec(B);r;)i+=n(B.substring(t,r.index)),e=g(E,r),e?(M+=e[1],i+=h(e[0],n(r[0]))):i+=n(r[0]),t=E.lR.lastIndex,r=E.lR.exec(B);return i+n(B.substr(t))}function d(){var e=\"string\"==typeof E.sL;if(e&&!x[E.sL])return n(B);var t=e?l(E.sL,B,!0,L[E.sL]):f(B,E.sL.length?E.sL:void 0);return E.r>0&&(M+=t.r),e&&(L[E.sL]=t.top),h(t.language,t.value,!1,!0)}function b(){k+=null!=E.sL?d():p(),B=\"\"}function v(e){k+=e.cN?h(e.cN,\"\",!0):\"\",E=Object.create(e,{parent:{value:E}})}function m(e,n){if(B+=e,null==n)return b(),0;var t=o(n,E);if(t)return t.skip?B+=n:(t.eB&&(B+=n),b(),t.rB||t.eB||(B=n)),v(t,n),t.rB?0:n.length;var r=u(E,n);if(r){var i=E;i.skip?B+=n:(i.rE||i.eE||(B+=n),b(),i.eE&&(B=n));do E.cN&&(k+=C),E.skip||(M+=E.r),E=E.parent;while(E!==r.parent);return r.starts&&v(r.starts,\"\"),i.rE?0:n.length}if(c(n,E))throw new Error('Illegal lexeme \"'+n+'\" for mode \"'+(E.cN||\"<unnamed>\")+'\"');return B+=n,n.length||1}var N=R(e);if(!N)throw new Error('Unknown language: \"'+e+'\"');s(N);var w,E=a||N,L={},k=\"\";for(w=E;w!==N;w=w.parent)w.cN&&(k=h(w.cN,\"\",!0)+k);var B=\"\",M=0;try{for(var I,j,O=0;;){if(E.t.lastIndex=O,I=E.t.exec(t),!I)break;j=m(t.substring(O,I.index),I[0]),O=I.index+j}for(m(t.substr(O)),w=E;w.parent;w=w.parent)w.cN&&(k+=C);return{r:M,value:k,language:e,top:E}}catch(T){if(T.message&&-1!==T.message.indexOf(\"Illegal\"))return{r:0,value:n(t)};throw T}}function f(e,t){t=t||y.languages||E(x);var r={r:0,value:n(e)},i=r;return t.filter(R).forEach(function(n){var t=l(n,e,!1);t.language=n,t.r>i.r&&(i=t),t.r>r.r&&(i=r,r=t)}),i.language&&(r.second_best=i),r}function g(e){return y.tabReplace||y.useBR?e.replace(M,function(e,n){return y.useBR&&\"\\n\"===e?\"<br>\":y.tabReplace?n.replace(/\\t/g,y.tabReplace):void 0}):e}function h(e,n,t){var r=n?L[n]:t,i=[e.trim()];return e.match(/\\bhljs\\b/)||i.push(\"hljs\"),-1===e.indexOf(r)&&i.push(r),i.join(\" \").trim()}function p(e){var n,t,r,o,s,p=a(e);i(p)||(y.useBR?(n=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),n.innerHTML=e.innerHTML.replace(/\\n/g,\"\").replace(/<br[ \\/]*>/g,\"\\n\")):n=e,s=n.textContent,r=p?l(p,s,!0):f(s),t=u(n),t.length&&(o=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),o.innerHTML=r.value,r.value=c(t,u(o),s)),r.value=g(r.value),e.innerHTML=r.value,e.className=h(e.className,p,r.language),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function d(e){y=o(y,e)}function b(){if(!b.called){b.called=!0;var e=document.querySelectorAll(\"pre code\");w.forEach.call(e,p)}}function v(){addEventListener(\"DOMContentLoaded\",b,!1),addEventListener(\"load\",b,!1)}function m(n,t){var r=x[n]=t(e);r.aliases&&r.aliases.forEach(function(e){L[e]=n})}function N(){return E(x)}function R(e){return e=(e||\"\").toLowerCase(),x[e]||x[L[e]]}var w=[],E=Object.keys,x={},L={},k=/^(no-?highlight|plain|text)$/i,B=/\\blang(?:uage)?-([\\w-]+)\\b/i,M=/((^(<[^>]+>|\\t|)+|(?:\\n)))/gm,C=\"</span>\",y={classPrefix:\"hljs-\",tabReplace:null,useBR:!1,languages:void 0},I={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\"};return e.highlight=l,e.highlightAuto=f,e.fixMarkup=g,e.highlightBlock=p,e.configure=d,e.initHighlighting=b,e.initHighlightingOnLoad=v,e.registerLanguage=m,e.listLanguages=N,e.getLanguage=R,e.inherit=o,e.IR=\"[a-zA-Z]\\\\w*\",e.UIR=\"[a-zA-Z_]\\\\w*\",e.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",e.CNR=\"(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)\",e.BNR=\"\\\\b(0b[01]+)\",e.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",e.BE={b:\"\\\\\\\\[\\\\s\\\\S]\",r:0},e.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[e.BE]},e.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[e.BE]},e.PWM={b:/\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\\b/},e.C=function(n,t,r){var i=e.inherit({cN:\"comment\",b:n,e:t,c:[]},r||{});return i.c.push(e.PWM),i.c.push({cN:\"doctag\",b:\"(?:TODO|FIXME|NOTE|BUG|XXX):\",r:0}),i},e.CLCM=e.C(\"//\",\"$\"),e.CBCM=e.C(\"/\\\\*\",\"\\\\*/\"),e.HCM=e.C(\"#\",\"$\"),e.NM={cN:\"number\",b:e.NR,r:0},e.CNM={cN:\"number\",b:e.CNR,r:0},e.BNM={cN:\"number\",b:e.BNR,r:0},e.CSSNM={cN:\"number\",b:e.NR+\"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\",r:0},e.RM={cN:\"regexp\",b:/\\//,e:/\\/[gimuy]*/,i:/\\n/,c:[e.BE,{b:/\\[/,e:/\\]/,r:0,c:[e.BE]}]},e.TM={cN:\"title\",b:e.IR,r:0},e.UTM={cN:\"title\",b:e.UIR,r:0},e.METHOD_GUARD={b:\"\\\\.\\\\s*\"+e.UIR,r:0},e});hljs.registerLanguage(\"xml\",function(s){var e=\"[A-Za-z0-9\\\\._:-]+\",t={eW:!0,i:/</,r:0,c:[{cN:\"attr\",b:e,r:0},{b:/=\\s*/,r:0,c:[{cN:\"string\",endsParent:!0,v:[{b:/\"/,e:/\"/},{b:/'/,e:/'/},{b:/[^\\s\"'=<>`]+/}]}]}]};return{aliases:[\"html\",\"xhtml\",\"rss\",\"atom\",\"xjb\",\"xsd\",\"xsl\",\"plist\"],cI:!0,c:[{cN:\"meta\",b:\"<!DOCTYPE\",e:\">\",r:10,c:[{b:\"\\\\[\",e:\"\\\\]\"}]},s.C(\"<!--\",\"-->\",{r:10}),{b:\"<\\\\!\\\\[CDATA\\\\[\",e:\"\\\\]\\\\]>\",r:10},{b:/<\\?(php)?/,e:/\\?>/,sL:\"php\",c:[{b:\"/\\\\*\",e:\"\\\\*/\",skip:!0}]},{cN:\"tag\",b:\"<style(?=\\\\s|>|$)\",e:\">\",k:{name:\"style\"},c:[t],starts:{e:\"</style>\",rE:!0,sL:[\"css\",\"xml\"]}},{cN:\"tag\",b:\"<script(?=\\\\s|>|$)\",e:\">\",k:{name:\"script\"},c:[t],starts:{e:\"</script>\",rE:!0,sL:[\"actionscript\",\"javascript\",\"handlebars\",\"xml\"]}},{cN:\"meta\",v:[{b:/<\\?xml/,e:/\\?>/,r:10},{b:/<\\?\\w+/,e:/\\?>/}]},{cN:\"tag\",b:\"</?\",e:\"/?>\",c:[{cN:\"name\",b:/[^\\/><\\s]+/,r:0},t]}]}});hljs.registerLanguage(\"markdown\",function(e){return{aliases:[\"md\",\"mkdown\",\"mkd\"],c:[{cN:\"section\",v:[{b:\"^#{1,6}\",e:\"$\"},{b:\"^.+?\\\\n[=-]{2,}$\"}]},{b:\"<\",e:\">\",sL:\"xml\",r:0},{cN:\"bullet\",b:\"^([*+-]|(\\\\d+\\\\.))\\\\s+\"},{cN:\"strong\",b:\"[*_]{2}.+?[*_]{2}\"},{cN:\"emphasis\",v:[{b:\"\\\\*.+?\\\\*\"},{b:\"_.+?_\",r:0}]},{cN:\"quote\",b:\"^>\\\\s+\",e:\"$\"},{cN:\"code\",v:[{b:\"^```w*s*$\",e:\"^```s*$\"},{b:\"`.+?`\"},{b:\"^( {4}|\t)\",e:\"$\",r:0}]},{b:\"^[-\\\\*]{3,}\",e:\"$\"},{b:\"\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]\",rB:!0,c:[{cN:\"string\",b:\"\\\\[\",e:\"\\\\]\",eB:!0,rE:!0,r:0},{cN:\"link\",b:\"\\\\]\\\\(\",e:\"\\\\)\",eB:!0,eE:!0},{cN:\"symbol\",b:\"\\\\]\\\\[\",e:\"\\\\]\",eB:!0,eE:!0}],r:10},{b:/^\\[[^\\n]+\\]:/,rB:!0,c:[{cN:\"symbol\",b:/\\[/,e:/\\]/,eB:!0,eE:!0},{cN:\"link\",b:/:\\s*/,e:/$/,eB:!0}]}]}});hljs.registerLanguage(\"ini\",function(e){var b={cN:\"string\",c:[e.BE],v:[{b:\"'''\",e:\"'''\",r:10},{b:'\"\"\"',e:'\"\"\"',r:10},{b:'\"',e:'\"'},{b:\"'\",e:\"'\"}]};return{aliases:[\"toml\"],cI:!0,i:/\\S/,c:[e.C(\";\",\"$\"),e.HCM,{cN:\"section\",b:/^\\s*\\[+/,e:/\\]+/},{b:/^[a-z0-9\\[\\]_-]+\\s*=\\s*/,e:\"$\",rB:!0,c:[{cN:\"attr\",b:/[a-z0-9\\[\\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:\"literal\",b:/\\bon|off|true|false|yes|no\\b/},{cN:\"variable\",v:[{b:/\\$[\\w\\d\"][\\w\\d_]*/},{b:/\\$\\{(.*?)}/}]},b,{cN:\"number\",b:/([\\+\\-]+)?[\\d]+_[\\d_]+/},e.NM]}]}]}});hljs.registerLanguage(\"python\",function(e){var r={cN:\"meta\",b:/^(>>>|\\.\\.\\.) /},b={cN:\"string\",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[r],r:10},{b:/(u|b)?r?\"\"\"/,e:/\"\"\"/,c:[r],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)\"/,e:/\"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)\"/,e:/\"/},e.ASM,e.QSM]},a={cN:\"number\",r:0,v:[{b:e.BNR+\"[lLjJ]?\"},{b:\"\\\\b(0o[0-7]+)[lLjJ]?\"},{b:e.CNR+\"[lLjJ]?\"}]},l={cN:\"params\",b:/\\(/,e:/\\)/,c:[\"self\",r,a,b]};return{aliases:[\"py\",\"gyp\"],k:{keyword:\"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False\",built_in:\"Ellipsis NotImplemented\"},i:/(<\\/|->|\\?)|=>/,c:[r,a,b,e.HCM,{v:[{cN:\"function\",bK:\"def\"},{cN:\"class\",bK:\"class\"}],e:/:/,i:/[${=;\\n,]/,c:[e.UTM,l,{b:/->/,eW:!0,k:\"None\"}]},{cN:\"meta\",b:/^[\\t ]*@/,e:/$/},{b:/\\b(print|exec)\\(/}]}});hljs.registerLanguage(\"css\",function(e){var c=\"[a-zA-Z-][a-zA-Z0-9_-]*\",t={b:/[A-Z\\_\\.\\-]+\\s*:/,rB:!0,e:\";\",eW:!0,c:[{cN:\"attribute\",b:/\\S/,e:\":\",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\\w-]+\\(/,rB:!0,c:[{cN:\"built_in\",b:/[\\w-]+/},{b:/\\(/,e:/\\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:\"number\",b:\"#[0-9A-Fa-f]+\"},{cN:\"meta\",b:\"!important\"}]}}]};return{cI:!0,i:/[=\\/|'\\$]/,c:[e.CBCM,{cN:\"selector-id\",b:/#[A-Za-z0-9_-]+/},{cN:\"selector-class\",b:/\\.[A-Za-z0-9_-]+/},{cN:\"selector-attr\",b:/\\[/,e:/\\]/,i:\"$\"},{cN:\"selector-pseudo\",b:/:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"'.]+/},{b:\"@(font-face|page)\",l:\"[a-z-]+\",k:\"font-face page\"},{b:\"@\",e:\"[{;]\",i:/:/,c:[{cN:\"keyword\",b:/\\w+/},{b:/\\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:\"selector-tag\",b:c,r:0},{b:\"{\",e:\"}\",i:/\\S/,c:[e.CBCM,t]}]}});hljs.registerLanguage(\"less\",function(e){var r=\"[\\\\w-]+\",t=\"(\"+r+\"|@{\"+r+\"})\",a=[],c=[],s=function(e){return{cN:\"string\",b:\"~?\"+e+\".*?\"+e}},b=function(e,r,t){return{cN:e,b:r,r:t}},n={b:\"\\\\(\",e:\"\\\\)\",c:c,r:0};c.push(e.CLCM,e.CBCM,s(\"'\"),s('\"'),e.CSSNM,{b:\"(url|data-uri)\\\\(\",starts:{cN:\"string\",e:\"[\\\\)\\\\n]\",eE:!0}},b(\"number\",\"#[0-9A-Fa-f]+\\\\b\"),n,b(\"variable\",\"@@?\"+r,10),b(\"variable\",\"@{\"+r+\"}\"),b(\"built_in\",\"~?`[^`]*?`\"),{cN:\"attribute\",b:r+\"\\\\s*:\",e:\":\",rB:!0,eE:!0},{cN:\"meta\",b:\"!important\"});var i=c.concat({b:\"{\",e:\"}\",c:a}),o={bK:\"when\",eW:!0,c:[{bK:\"and not\"}].concat(c)},u={b:t+\"\\\\s*:\",rB:!0,e:\"[;}]\",r:0,c:[{cN:\"attribute\",b:t,e:\":\",eE:!0,starts:{eW:!0,i:\"[<=$]\",r:0,c:c}}]},l={cN:\"keyword\",b:\"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\\\b\",starts:{e:\"[;{}]\",rE:!0,c:c,r:0}},C={cN:\"variable\",v:[{b:\"@\"+r+\"\\\\s*:\",r:15},{b:\"@\"+r}],starts:{e:\"[;}]\",rE:!0,c:i}},p={v:[{b:\"[\\\\.#:&\\\\[>]\",e:\"[;{}]\"},{b:t,e:\"{\"}],rB:!0,rE:!0,i:\"[<='$\\\"]\",r:0,c:[e.CLCM,e.CBCM,o,b(\"keyword\",\"all\\\\b\"),b(\"variable\",\"@{\"+r+\"}\"),b(\"selector-tag\",t+\"%?\",0),b(\"selector-id\",\"#\"+t),b(\"selector-class\",\"\\\\.\"+t,0),b(\"selector-tag\",\"&\",0),{cN:\"selector-attr\",b:\"\\\\[\",e:\"\\\\]\"},{cN:\"selector-pseudo\",b:/:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"'.]+/},{b:\"\\\\(\",e:\"\\\\)\",c:i},{b:\"!important\"}]};return a.push(e.CLCM,e.CBCM,l,C,u,p),{cI:!0,i:\"[=>'/<($\\\"]\",c:a}});hljs.registerLanguage(\"scss\",function(e){var t=\"[a-zA-Z-][a-zA-Z0-9_-]*\",i={cN:\"variable\",b:\"(\\\\$\"+t+\")\\\\b\"},r={cN:\"number\",b:\"#[0-9A-Fa-f]+\"};({cN:\"attribute\",b:\"[A-Z\\\\_\\\\.\\\\-]+\",e:\":\",eE:!0,i:\"[^\\\\s]\",starts:{eW:!0,eE:!0,c:[r,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:\"meta\",b:\"!important\"}]}});return{cI:!0,i:\"[=/|']\",c:[e.CLCM,e.CBCM,{cN:\"selector-id\",b:\"\\\\#[A-Za-z0-9_-]+\",r:0},{cN:\"selector-class\",b:\"\\\\.[A-Za-z0-9_-]+\",r:0},{cN:\"selector-attr\",b:\"\\\\[\",e:\"\\\\]\",i:\"$\"},{cN:\"selector-tag\",b:\"\\\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\\\b\",r:0},{b:\":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)\"},{b:\"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)\"},i,{cN:\"attribute\",b:\"\\\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\\\b\",i:\"[^\\\\s]\"},{b:\"\\\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\\\b\"},{b:\":\",e:\";\",c:[i,r,e.CSSNM,e.QSM,e.ASM,{cN:\"meta\",b:\"!important\"}]},{b:\"@\",e:\"[{;]\",k:\"mixin include extend for if else each while charset import debug media page content font-face namespace warn\",c:[i,e.QSM,e.ASM,r,e.CSSNM,{b:\"\\\\s[A-Za-z0-9_.-]+\",r:0}]}]}});hljs.registerLanguage(\"json\",function(e){var i={literal:\"true false null\"},n=[e.QSM,e.CNM],r={e:\",\",eW:!0,eE:!0,c:n,k:i},t={b:\"{\",e:\"}\",c:[{cN:\"attr\",b:/\"/,e:/\"/,c:[e.BE],i:\"\\\\n\"},e.inherit(r,{b:/:/})],i:\"\\\\S\"},c={b:\"\\\\[\",e:\"\\\\]\",c:[e.inherit(r)],i:\"\\\\S\"};return n.splice(n.length,0,t,c),{c:n,k:i,i:\"\\\\S\"}});hljs.registerLanguage(\"javascript\",function(e){var r=\"[A-Za-z$_][0-9A-Za-z$_]*\",t={keyword:\"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as\",literal:\"true false null undefined NaN Infinity\",built_in:\"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise\"},a={cN:\"number\",v:[{b:\"\\\\b(0[bB][01]+)\"},{b:\"\\\\b(0[oO][0-7]+)\"},{b:e.CNR}],r:0},n={cN:\"subst\",b:\"\\\\$\\\\{\",e:\"\\\\}\",k:t,c:[]},c={cN:\"string\",b:\"`\",e:\"`\",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:[\"js\",\"jsx\"],k:t,c:[{cN:\"meta\",r:10,b:/^\\s*['\"]use (strict|asm)['\"]/},{cN:\"meta\",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\\s*/,r:0,c:[{b:r+\"\\\\s*:\",rB:!0,r:0,c:[{cN:\"attr\",b:r,r:0}]}]},{b:\"(\"+e.RSR+\"|\\\\b(case|return|throw)\\\\b)\\\\s*\",k:\"return throw case\",c:[e.CLCM,e.CBCM,e.RM,{cN:\"function\",b:\"(\\\\(.*?\\\\)|\"+r+\")\\\\s*=>\",rB:!0,e:\"\\\\s*=>\",c:[{cN:\"params\",v:[{b:r},{b:/\\(\\s*\\)/},{b:/\\(/,e:/\\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\\/\\w+|\\w+\\/)>/,sL:\"xml\",c:[{b:/<\\w+\\s*\\/>/,skip:!0},{b:/<\\w+/,e:/(\\/\\w+|\\w+\\/)>/,skip:!0,c:[{b:/<\\w+\\s*\\/>/,skip:!0},\"self\"]}]}],r:0},{cN:\"function\",bK:\"function\",e:/\\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:\"params\",b:/\\(/,e:/\\)/,eB:!0,eE:!0,c:s}],i:/\\[|%/},{b:/\\$[(.]/},e.METHOD_GUARD,{cN:\"class\",bK:\"class\",e:/[{;=]/,eE:!0,i:/[:\"\\[\\]]/,c:[{bK:\"extends\"},e.UTM]},{bK:\"constructor\",e:/\\{/,eE:!0}],i:/#(?!!)/}});hljs.registerLanguage(\"bash\",function(e){var t={cN:\"variable\",v:[{b:/\\$[\\w\\d#@][\\w\\d_]*/},{b:/\\$\\{(.*?)}/}]},s={cN:\"string\",b:/\"/,e:/\"/,c:[e.BE,t,{cN:\"variable\",b:/\\$\\(/,e:/\\)/,c:[e.BE]}]},a={cN:\"string\",b:/'/,e:/'/};return{aliases:[\"sh\",\"zsh\"],l:/-?[a-z\\._]+/,k:{keyword:\"if then else elif fi for while in do done case esac function\",literal:\"true false\",built_in:\"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp\",_:\"-ne -eq -lt -gt -f -d -e -s -l -a\"},c:[{cN:\"meta\",b:/^#![^\\n]+sh\\s*$/,r:10},{cN:\"function\",b:/\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,rB:!0,c:[e.inherit(e.TM,{b:/\\w[\\w\\d_]*/})],r:0},e.HCM,s,a,t]}});","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = props => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={gettext(\"the terms of service\")}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={gettext(\"the privacy policy\")}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = props => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    gettext(\"I have read and accept %(agreement)s.\"),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = props => {\n  const {\n    buttonClassName,\n    buttonLabel,\n    formLabel,\n    header,\n    labelClassName\n  } = props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ id, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + id\n          const style = button_color ? {color: button_color} : null\n          const finalButtonLabel = button_text || interpolate(\n            buttonLabel,\n            { site: name },\n            true\n          )\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={id}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\nimport ThreadsListEmpty from \"./ThreadsListEmpty\";\nimport ThreadsListItem from \"./ThreadsListItem\";\nimport ThreadsListLoader from \"./ThreadsListLoader\";\nimport ThreadsListUpdatePrompt from \"./ThreadsListUpdatePrompt\"\n\nconst ThreadsList = ({\n  list,\n  categories,\n  category,\n  threads,\n  busyThreads,\n  selection,\n  isLoaded,\n  showOptions,\n  updatedThreads,\n  applyUpdate,\n  emptyMessage,\n}) => {\n  if (!isLoaded) {\n    return <ThreadsListLoader showOptions={showOptions} />\n  }\n\n  return (\n    <div className=\"threads-list\">\n        {threads.length > 0 ? (\n          <ul className=\"list-group\">\n            {updatedThreads > 0 && (\n              <ThreadsListUpdatePrompt threads={updatedThreads} onClick={applyUpdate} />\n            )}\n            {threads.map(\n              thread => (\n                <ThreadsListItem\n                  key={thread.id}\n                  activeCategory={category}\n                  categories={categories}\n                  thread={thread}\n                  showOptions={showOptions}\n                  showSubscription={showOptions && list.type === \"subscribed\"}\n                  isBusy={busyThreads.indexOf(thread.id) >= 0}\n                  isSelected={selection.indexOf(thread.id) >= 0}\n                />\n              )\n            )}\n          </ul>\n        ) : (\n          <ul className=\"list-group\">\n            {updatedThreads > 0 && (\n              <ThreadsListUpdatePrompt threads={updatedThreads} onClick={applyUpdate} />\n            )}\n            <ThreadsListEmpty\n              category={category}\n              list={list}\n              message={emptyMessage}\n            />\n          </ul>\n        )}\n    </div>\n  )\n}\n\nexport default ThreadsList","import React from \"react\"\n\nconst ThreadsListEmpty = ({ category, list, message }) => {\n  if (list.type === \"all\") {\n    if (message) {\n      return (\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">{message}</p>\n          <p>{gettext(\"Why not start one yourself?\")}</p>\n        </li>\n      )\n    }\n\n    return (\n      <li className=\"list-group-item empty-message\">\n        <p className=\"lead\">\n          {category.special_role\n            ? gettext(\"There are no threads on this forum... yet!\")\n            : gettext(\"There are no threads in this category.\")}\n        </p>\n        <p>{gettext(\"Why not start one yourself?\")}</p>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"list-group-item empty-message\">\n      <p className=\"lead\">\n        {gettext(\"No threads matching specified criteria were found.\")}\n      </p>\n    </li>\n  )\n}\n\nexport default ThreadsListEmpty\n","import React from \"react\"\nimport ThreadsListItemActivity from \"./ThreadsListItemActivity\"\nimport ThreadsListItemCategory from \"./ThreadsListItemCategory\"\nimport ThreadsListItemCheckbox from \"./ThreadsListItemCheckbox\"\nimport ThreadsListItemFlags from \"./ThreadsListItemFlags\"\nimport ThreadsListItemIcon from \"./ThreadsListItemIcon\"\nimport ThreadsListItemLastPoster from \"./ThreadsListItemLastPoster\"\nimport ThreadsListItemReplies from \"./ThreadsListItemReplies\"\nimport ThreadsListItemSubscription from \"./ThreadsListItemSubscription\"\n\nconst ThreadsListItem = ({\n  activeCategory,\n  categories,\n  showOptions,\n  showSubscription,\n  thread,\n  isBusy,\n  isSelected,\n}) => {\n  let parent = null\n  let category = null\n\n  if (activeCategory.id !== thread.category) {\n    category = categories[thread.category]\n\n    if (\n      category.parent &&\n      category.parent !== activeCategory.id &&\n      categories[category.parent] &&\n      !categories[category.parent].special_role\n    ) {\n      parent = categories[category.parent]\n    }\n  }\n\n  const hasFlags = (\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n  )\n\n  const isNew = showOptions ? thread.is_new : true\n\n  return (\n    <li\n      className={\n        \"list-group-item threads-list-item\" + (isBusy ? \" threads-list-item-is-busy\" : \"\")\n      }\n    >\n      <div className=\"threads-list-item-top-row\">\n        {showOptions && (\n          <div className=\"threads-list-item-col-icon\">\n            <ThreadsListItemIcon thread={thread} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-title\">\n          <a href={thread.url.index} className=\"threads-list-item-title\">\n            {thread.title}\n          </a>\n          <a\n            href={isNew ? thread.url.new_post : thread.url.index}\n            className={\"threads-list-item-title-sm\" + (isNew ? \" threads-list-item-title-new\" : \"\")}\n          >\n            {thread.title}\n          </a>\n        </div>\n        {(showOptions && thread.moderation.length > 0) && (\n          <div className=\"threads-list-item-col-checkbox-sm\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n      <div className=\"threads-list-item-bottom-row\">\n        {hasFlags && (\n          <div className=\"threads-list-item-col-flags\">\n            <ThreadsListItemFlags thread={thread} />\n          </div>\n        )}\n        {!!category && (\n          <div className=\"threads-list-item-col-category\">\n            <ThreadsListItemCategory parent={parent} category={category} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-replies\">\n          <ThreadsListItemReplies thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-poster\">\n          <ThreadsListItemLastPoster thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-activity\">\n          <ThreadsListItemActivity thread={thread} />\n        </div>\n        {showOptions && showSubscription && (\n          <div className=\"threads-list-item-col-subscription\">\n            <ThreadsListItemSubscription\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n        {(showOptions && thread.moderation.length > 0) && (\n          <div className=\"threads-list-item-col-checkbox\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n    </li>\n  )\n}\n\nexport default ThreadsListItem","import React from \"react\"\n\nconst ThreadsListItemActivity = ({ thread }) => (\n  <a\n    href={thread.url.last_post}\n    className=\"threads-list-item-last-activity\"\n    title={interpolate(\n      gettext(\"Last activity: %(timestamp)s\"),\n      {\n        timestamp: thread.last_post_on.format(\"LLL\"),\n      },\n      true\n    )}\n  >\n    {thread.last_post_on.fromNow(true)}\n  </a>\n)\n\nexport default ThreadsListItemActivity","import React from \"react\"\n\nconst ThreadsListItemCategory = ({ parent, category }) => (\n  <span>\n    {parent && (\n      <a\n        href={parent.url.index}\n        className={getClassName(parent) + \" threads-list-item-parent-category\"}\n        style={parent.color ? {\"--label-color\": parent.color} : null}\n        title={!!parent.short_name ? parent.name : null}\n      >\n        {parent.short_name || parent.name}\n      </a>\n    )}\n    <a\n      href={category.url.index}\n      className={getClassName(category)}\n      style={category.color ? {\"--label-color\": category.color} : null}\n      title={!!category.short_name ? category.name : null}\n    >\n      {category.short_name || category.name}\n    </a>\n  </span>\n)\n\nconst getClassName = (category) => {\n  let className = \"threads-list-item-category threads-list-category-label\"\n\n  if (category.color) {\n    className += \" threads-list-category-label-color\"\n  }\n\n  return className\n}\n\nexport default ThreadsListItemCategory","import React from \"react\"\nimport * as select from \"../../reducers/selection\"\nimport store from \"../../services/store\"\n\nconst ThreadsListItemCheckbox = ({ checked, disabled, thread }) => (\n  <button\n    className=\"btn btn-default btn-icon\"\n    type=\"button\"\n    disabled={disabled}\n    onClick={() => store.dispatch(select.item(thread.id))}\n  >\n    <span className=\"material-icon\">\n      {checked ? \"check_box\" : \"check_box_outline_blank\"}\n    </span>\n  </button>\n)\n\nexport default ThreadsListItemCheckbox\n","import React from \"react\"\n\nconst ThreadsListItemFlags = ({ thread }) => (\n  <ul className=\"threads-list-item-flags\">\n    {thread.weight == 2 && (\n      <li\n        className=\"threads-list-item-flag-pinned-globally\"\n        title={gettext(\"Pinned globally\")}\n      >\n        <span className=\"material-icon\">bookmark</span>\n      </li>\n    )}\n    {thread.weight == 1 && (\n      <li\n        className=\"threads-list-item-flag-pinned-locally\"\n        title={gettext(\"Pinned in category\")}\n      >\n        <span className=\"material-icon\">bookmark_outline</span>\n      </li>\n    )}\n    {thread.best_answer && (\n      <li\n        className=\"threads-list-item-flag-answered\"\n        title={gettext(\"Answered\")}\n      >\n        <span className=\"material-icon\">check_circle</span>\n      </li>\n    )}\n    {thread.has_poll && (\n      <li\n        className=\"threads-list-item-flag-poll\"\n        title={gettext(\"Poll\")}\n      >\n        <span className=\"material-icon\">poll</span>\n      </li>\n    )}\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\n      <li\n        className=\"threads-list-item-flag-unapproved\"\n        title={thread.is_unapproved ? gettext(\"Awaiting approval\") : gettext(\"Has unapproved posts\")}\n      >\n        <span className=\"material-icon\">visibility</span>\n      </li>\n    )}\n    {thread.is_closed && (\n      <li\n        className=\"threads-list-item-flag-closed\"\n        title={gettext(\"Closed\")}\n      >\n        <span className=\"material-icon\">lock</span>\n      </li>\n    )}\n    {thread.is_hidden && (\n      <li\n        className=\"threads-list-item-flag-hidden\"\n        title={gettext(\"Hidden\")}\n      >\n        <span className=\"material-icon\">visibility_off</span>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ThreadsListItemFlags","import React from \"react\"\n\nconst ThreadsListItemIcon = ({ thread }) => {\n  let className = \"threads-list-icon\"\n  if (!thread.is_read) className += \" threads-list-icon-new\"\n\n  return (\n    <a\n      title={thread.is_read ? gettext(\"No new posts\") : gettext(\"New posts\")}\n      href={thread.is_read ? thread.url.last_post : thread.url.new_post}\n      className={className}\n    >\n      <span className=\"material-icon\">\n        {thread.is_read ? \"chat_bubble_outline\" : \"chat_bubble\"}\n      </span>\n    </a>\n  )\n}\n\nexport default ThreadsListItemIcon","import React from \"react\"\nimport Avatar from \"../avatar\"\n\nconst ThreadsListItemLastPoster = ({ thread }) => (\n  !!thread.last_poster ? (\n    <a\n      href={thread.url.last_poster}\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        {poster: thread.last_poster.username},\n        true\n      )}\n    >\n      <Avatar size={32} user={thread.last_poster} />\n    </a>\n  )\n  : (\n    <span\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        {poster: thread.last_poster_name},\n        true\n      )}\n    >\n      <Avatar size={32} />\n    </span>\n  )\n)\n\nexport default ThreadsListItemLastPoster","import React from \"react\"\n\nconst ThreadsListItemReplies = ({ thread }) => (\n  <span className=\"threads-list-item-replies\"\n    title={interpolate(\n      ngettext(\"%(replies)s reply\", \"%(replies)s replies\", thread.replies),\n      {replies: thread.replies},\n      true\n    )}\n  >\n    <span className=\"material-icon\">chat_bubble_outline</span>\n    {thread.replies > 980 ? Math.round(thread.replies / 1000) + \"K\" : thread.replies}\n  </span>\n)\n\nexport default ThreadsListItemReplies","import React from \"react\"\nimport ThreadsListItemSubscriptionOptions from \"./ThreadsListItemSubscriptionOptions\"\n\nconst ThreadsListItemSubscription = ({ disabled, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-icon\"\n      type=\"button\"\n      title={getSubscriptionTitle(thread.subscription)}\n      disabled={disabled}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      <span className=\"material-icon\">\n        {getSubscriptionIcon(thread.subscription)}\n      </span>\n    </button>\n    <ThreadsListItemSubscriptionOptions\n      disabled={disabled}\n      thread={thread}\n    />\n  </div>\n)\n\nconst getSubscriptionTitle = (subscription) => {\n  if (subscription === true) return gettext(\"Subscribed to e-mails\")\n  if (subscription === false) return gettext(\"Subscribed to alerts\")\n  return gettext(\"Not subscribed\")\n}\n\nconst getSubscriptionIcon = (subscription) => {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n  return \"star_border\"\n}\n\nexport default ThreadsListItemSubscription\n","import React from \"react\"\nimport { patch } from \"../../reducers/threads\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst SUBSCRIPTION = {\n  unsubscribe: null,\n  notify: false,\n  email: true\n}\n\nclass ThreadsListItemSubscriptionOptions extends React.Component { \n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: false\n    }\n  }\n\n  update = (value) => {\n    const { thread } = this.props\n\n    this.setState({loading: true})\n    store.dispatch(\n      patch(thread, { subscription: SUBSCRIPTION[value] })\n    )\n\n    ajax\n      .patch(thread.api.index, [\n        { op: \"replace\", path: \"subscription\", value }\n      ])\n      .then(\n        () => {},\n        rejection => {\n          store.dispatch(\n            patch(thread, {\n              subscription: SUBSCRIPTION[thread.subscription]\n            })\n          )\n          snackbar.apiError(rejection)\n        }\n      ).then(() => this.setState({loading: false}))\n  }\n\n  render = () => {\n    const { loading } = this.state\n    const { disabled, thread } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\">\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === null}\n            onClick={() => this.update(\"unsubscribe\")}\n          >\n            <span className=\"material-icon\">star_border</span>\n            {gettext(\"Unsubscribe\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === false}\n            onClick={() => this.update(\"notify\")}\n          >\n            <span className=\"material-icon\">star_half</span>\n            {gettext(\"Subscribe with alert\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === true}\n            onClick={() => this.update(\"email\")}\n          >\n            <span className=\"material-icon\">star</span>\n            {gettext(\"Subscribe with e-mail\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default ThreadsListItemSubscriptionOptions\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { UIPreviewText } from \"../UIPreview\"\n\nconst ThreadsListLoader = ({ showOptions }) => (\n  <div className=\"threads-list threads-list-loader\">\n    <ul className=\"list-group\">\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"90\" />\n              {\" \"}\n              <UIPreviewText width=\"40\" />\n              {\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"90\" />\n              {\" \"}\n              <UIPreviewText width=\"40\" />\n              {\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"70\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"50\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"50\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"120\" />\n              {\" \"}\n              <UIPreviewText width=\"30\" />\n              {\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"120\" />\n              {\" \"}\n              <UIPreviewText width=\"30\" />\n              {\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"55\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"60\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"70\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"40\" />\n              {\" \"}\n              <UIPreviewText width=\"120\" />\n              {\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"40\" />\n              {\" \"}\n              <UIPreviewText width=\"120\" />\n              {\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"75\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"40\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadsListLoader","import React from \"react\"\n\nconst ThreadsListUpdatePrompt = ({ threads, onClick }) => (\n  <li className=\"list-group-item threads-list-update-prompt\">\n    <button\n      type=\"button\"\n      className=\"btn btn-block threads-list-update-prompt-btn\"\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">cached</span>\n      <span className=\"threads-list-update-prompt-message\">\n        {interpolate(\n          ngettext(\n            \"There is %(threads)s new or updated thread. Click here to show it.\",\n            \"There are %(threads)s new or updated threads. Click here to show them.\",\n            threads\n          ),\n          {threads}, true\n        )}\n      </span>\n    </button>\n  </li>\n)\n\nexport default ThreadsListUpdatePrompt\n","import ThreadsList from \"./ThreadsList\";\n\nexport default ThreadsList;","import React from \"react\"\n\nconst Toolbar = ({ children }) => (\n  <div className=\"toolbar\">{children}</div>\n)\n\nexport default Toolbar","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarItem = ({ children, className, shrink }) => (\n  <div className={classnames(\"toolbar-item\", className, {\"toolbar-item-shrink\": shrink})}>\n    {children}\n  </div>\n)\n\nexport default ToolbarItem","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSection = ({ children, className }) => (\n  <div className={classnames(\"toolbar-section\", className)}>{children}</div>\n)\n\nexport default ToolbarSection","import React from \"react\"\n\nconst ToolbarSpacer = () => (\n  <div className=\"toolbar-spacer\" />\n)\n\nexport default ToolbarSpacer","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport {\n  Toolbar,\n  ToolbarItem,\n  ToolbarSection,\n  ToolbarSpacer,\n}","import React from \"react\"\n\nconst UIPreviewText = ({ width }) => (\n  <span className=\"ui-preview-text\" style={{ width: width + \"px\" }}>\n    &nbsp;\n  </span>\n)\n\nexport default UIPreviewText","import UIPreviewText from \"./UIPreviewText\"\n\nexport { UIPreviewText }","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {gettext(\"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {gettext(\"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\"\n    }\n  }\n\n  onUsernameChange = event => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(gettext(\"You have to enter user name.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 }\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(gettext(\"New participant has been added to thread.\"))\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_username\" label={gettext(\"User to add\")}>\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Add participant\")}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Add participant\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        gettext(\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        gettext(\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {gettext(\"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + gettext(\"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function(props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={size}\n      height={size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach(av => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\")\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow()\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return gettext(\"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className=\"categories-list\">\n      <ul className=\"list-group\">\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">\n            {gettext(\n              \"No categories exist or you don't have permission to see them.\"\n            )}\n          </p>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Category from \"./category\"\n\nexport default function({ categories }) {\n  return (\n    <div className=\"categories-list\">\n      {categories.map(category => {\n        return <Category category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function({ category }) {\n  let className = \"list-group list-group-category\"\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-category-\" + category.css_class\n  }\n\n  return (\n    <ul className={className}>\n      <ListItem category={category} isFirst={true} />\n      {category.subcategories.map(category => {\n        return (\n          <ListItem category={category} isFirst={false} key={category.id} />\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function({ category }) {\n  if (!category.description) return null\n\n  return (\n    <div\n      className=\"category-description\"\n      dangerouslySetInnerHTML={{\n        __html: category.description.html\n      }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function({ category }) {\n  return (\n    <div className={getClassName(category)} title={getTitle(category)}>\n      <span className=\"material-icon\">{getIcon(category)}</span>\n    </div>\n  )\n}\n\nexport function getClassName(category) {\n  if (category.is_read) {\n    return \"read-status item-read\"\n  }\n\n  return \"read-status item-new\"\n}\n\nexport function getTitle(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return gettext(\"This category has no new posts. (closed)\")\n    }\n\n    return gettext(\"This category has new posts. (closed)\")\n  }\n\n  if (category.is_read) {\n    return gettext(\"This category has no new posts.\")\n  }\n\n  return gettext(\"This category has new posts.\")\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import React from \"react\"\nimport Main from \"./main\"\nimport LastThread from \"./last-thread\"\nimport Stats from \"./stats\"\nimport Subcategories from \"./subcategories\"\n\nexport default function({ category, isFirst }) {\n  let className = \"list-group-item\"\n\n  if (category.description) {\n    className += \" list-group-category-has-description\"\n  } else {\n    className += \" list-group-category-no-description\"\n  }\n\n  if (isFirst) {\n    className += \" list-group-item-first\"\n  }\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-item-category-\" + category.css_class\n  }\n\n  return (\n    <li className={className}>\n      <div className=\"row\">\n        <Main category={category} />\n        <Stats category={category} />\n        <LastThread category={category} />\n      </div>\n      <Subcategories category={category} isFirst={isFirst} />\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-4 category-last-thread\">\n      <LastThread category={category} />\n      <Empty category={category} />\n      <Private category={category} />\n      <Protected category={category} />\n    </div>\n  )\n}\n\nexport function LastThread({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (!category.last_thread_title) return null\n\n  return (\n    <div className=\"media\">\n      <div className=\"media-left hidden-xs\">\n        <LastPosterAvatar category={category} />\n      </div>\n      <div className=\"media-body\">\n        <div className=\"media-heading\">\n          <a\n            className=\"item-title thread-title\"\n            href={category.url.last_thread_new}\n            title={category.last_thread_title}\n          >\n            {category.last_thread_title}\n          </a>\n        </div>\n        <ul className=\"list-inline\">\n          <li className=\"category-last-thread-poster\">\n            <LastPosterName category={category} />\n          </li>\n          <li className=\"divider\">&#8212;</li>\n          <li className=\"category-last-thread-date\">\n            <a href={category.url.last_post}>\n              {category.last_post_on.fromNow()}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function LastPosterAvatar({ category }) {\n  if (category.last_poster) {\n    return (\n      <a\n        className=\"last-poster-avatar\"\n        href={category.last_poster.url}\n        title={category.last_poster_name}\n      >\n        <Avatar\n          className=\"media-object\"\n          size={40}\n          user={category.last_poster}\n        />\n      </a>\n    )\n  }\n\n  return (\n    <span className=\"last-poster-avatar\" title={category.last_poster_name}>\n      <Avatar className=\"media-object\" size={40} />\n    </span>\n  )\n}\n\nexport function LastPosterName({ category }) {\n  if (category.last_poster) {\n    return (\n      <a className=\"item-title\" href={category.last_poster.url}>\n        {category.last_poster_name}\n      </a>\n    )\n  }\n\n  return <span className=\"item-title\">{category.last_poster_name}</span>\n}\n\nexport function Empty({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (category.last_thread_title) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is empty. No threads were posted within it so far.\"\n      )}\n    />\n  )\n}\n\nexport function Private({ category }) {\n  if (!category.acl.can_browse) return null\n  if (category.acl.can_see_all_threads) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is private. You can see only your own threads within it.\"\n      )}\n    />\n  )\n}\n\nexport function Protected({ category }) {\n  if (category.acl.can_browse) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is protected. You can't browse its contents.\"\n      )}\n    />\n  )\n}\n\nexport function Message({ message }) {\n  return (\n    <div className=\"media category-thread-message\">\n      <div className=\"media-left\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"media-body\">\n        <p>{message}</p>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Description from \"./description\"\nimport Icon from \"./icon\"\n\nexport default function({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 category-main\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <Icon category={category} />\n        </div>\n        <div className=\"media-body\">\n          <h4 className=\"media-heading\">\n            <a href={category.url.index}>{category.name}</a>\n          </h4>\n          <Description category={category} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function({ category }) {\n  return (\n    <div className=\"col-md-2 hidden-xs hidden-sm\">\n      <ul className=\"list-unstyled category-stats\">\n        <Threads threads={category.threads} />\n        <Posts posts={category.posts} />\n      </ul>\n    </div>\n  )\n}\n\nexport function Threads({ threads }) {\n  const message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", threads)\n\n  return (\n    <li className=\"category-stat-threads\">\n      {interpolate(\n        message,\n        {\n          threads: threads\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Posts({ posts }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", posts)\n\n  return (\n    <li className=\"category-stat-posts\">\n      {interpolate(\n        message,\n        {\n          posts: posts\n        },\n        true\n      )}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function({ category, isFirst }) {\n  if (isFirst) return null\n  if (category.subcategories.length === 0) return null\n\n  return (\n    <div className=\"row subcategories-list\">\n      {category.subcategories.map(category => {\n        return <ListItem category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ category }) {\n  let className = \"btn btn-default btn-block btn-sm btn-subcategory\"\n  if (!category.is_read) {\n    className += \" btn-subcategory-new\"\n  }\n\n  return (\n    <div className=\"col-xs-12 col-sm-4 col-md-3\">\n      <a className={className} href={category.url.index}>\n        <span className=\"material-icon\">{getIcon(category)}</span>\n        <span className=\"icon-text\">{category.name}</span>\n      </a>\n    </div>\n  )\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport CategoriesList from \"./categories-list\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\n\nconst hydrate = function(category) {\n  return Object.assign({}, category, {\n    last_post_on: category.last_post_on ? moment(category.last_post_on) : null,\n    subcategories: category.subcategories.map(hydrate)\n  })\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      categories: misago.get(\"CATEGORIES\").map(hydrate)\n    }\n\n    this.startPolling(misago.get(\"CATEGORIES_API\"))\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"categories\",\n      url: api,\n      frequency: 180 * 1000,\n      update: this.update\n    })\n  }\n\n  update = data => {\n    this.setState({\n      categories: data.map(hydrate)\n    })\n  }\n\n  render() {\n    const { categories } = this.state\n\n    if (categories.length === 0) {\n      return <Blankslate />\n    }\n\n    return <CategoriesList categories={categories} />\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick\n  }\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map(item => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath()\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y\n            })\n          }\n        }\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio\n        }\n      })\n      .then(\n        data => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        rejection => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? gettext(\"Set avatar\")\n                : gettext(\"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false\n    }\n  }\n\n  select = image => {\n    this.setState({\n      selection: image\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection\n      })\n      .then(\n        response => {\n          this.setState({\n            isLoading: false\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        rejection => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? gettext(\"Save choice\")\n                  : gettext(\"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {gettext(\"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType\n      })\n      .then(\n        response => {\n          this.setState({\n            isLoading: false\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        rejection => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {gettext(\"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {gettext(\"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {gettext(\"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {gettext(\"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {gettext(\"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      options => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null\n        })\n      },\n      rejection => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = error => {\n    this.setState({\n      error\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery\n    })\n  }\n\n  completeFlow = options => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change your avatar\")}</h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        gettext(\"Selected file is too big. (%(filesize)s)\"),\n        {\n          filesize: fileSize(image.size)\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = gettext(\"Selected file type is not supported.\")\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function(extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, progress => {\n        this.setState({\n          progress\n        })\n      })\n      .then(\n        data => {\n          this.setState({\n            options: data,\n            uploaded: data.detail\n          })\n\n          snackbar.info(\n            gettext(\"Your image has been uploaded and you may now crop it.\")\n          )\n        },\n        rejection => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function(extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      gettext(\"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit)\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {gettext(\"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      gettext(\"%(progress)s % complete\"),\n      {\n        progress: this.state.progress\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.dropdown) {\n      return \"btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg\"\n    } else {\n      return \"btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        className={this.getClassName()}\n        type=\"button\"\n        onClick={this.props.toggleNav}\n        aria-haspopup=\"true\"\n        aria-expanded={this.props.dropdown ? \"true\" : \"false\"}\n      >\n        <i className=\"material-icon\">menu</i>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={gettext(\"No profile details are editable at this time.\")}\n      message={gettext(\"This option is currently unavailable.\")}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = ev => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map(field => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {}\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {gettext(\"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      groups => {\n        this.setState({\n          loading: false,\n\n          groups\n        })\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Edit details\")}</h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.replaceSelection(this.props.execAction)\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={this.props.title}\n        type=\"button\"\n      >\n        {this.props.children}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function(props) {\n  return (\n    <Action execAction={insertCode} title={gettext(\"Insert code\")} {...props}>\n      <span className=\"material-icon\">functions</span>\n    </Action>\n  )\n}\n\nexport function insertCode(selection, replace) {\n  const syntax = $.trim(\n    prompt(gettext(\"Enter name of syntax of your code (optional)\") + \":\")\n  )\n  replace(\"\\n\\n```\" + syntax + \"\\n\" + selection + \"\\n```\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function(props) {\n  return (\n    <Action\n      execAction={makeEmphasis}\n      title={gettext(\"Emphase selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_italic</span>\n    </Action>\n  )\n}\n\nexport function makeEmphasis(selection, replace) {\n  if (selection.length) {\n    replace(\"*\" + selection + \"*\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function(props) {\n  return (\n    <Action\n      execAction={insertHr}\n      title={gettext(\"Insert horizontal ruler\")}\n      {...props}\n    >\n      <span className=\"material-icon\">remove</span>\n    </Action>\n  )\n}\n\nexport function insertHr(selection, replace) {\n  replace(\"\\n\\n- - - - -\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function(props) {\n  return (\n    <Action execAction={insertImage} title={gettext(\"Insert image\")} {...props}>\n      <span className=\"material-icon\">insert_photo</span>\n    </Action>\n  )\n}\n\nexport function insertImage(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link to image\") + \":\", url))\n\n  if (url.length) {\n    label = $.trim(prompt(gettext(\"Enter image label (optional)\") + \":\", label))\n    if (label.length > 0) {\n      replace(\"![\" + label + \"](\" + url + \")\")\n    } else {\n      replace(\"!(\" + url + \")\")\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function(props) {\n  return (\n    <Action execAction={insertLink} title={gettext(\"Insert link\")} {...props}>\n      <span className=\"material-icon\">insert_link</span>\n    </Action>\n  )\n}\n\nexport function insertLink(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link address\") + \":\", url) || \"\")\n  if (url.length === 0) return false\n  label = $.trim(prompt(gettext(\"Enter link label (optional)\") + \":\", label))\n\n  if (url.length) {\n    if (label.length > 0) {\n      replace(\"[\" + label + \"](\" + url + \")\")\n    } else {\n      replace(url)\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function(props) {\n  return (\n    <Action execAction={insertQuote} title={gettext(\"Insert quote\")} {...props}>\n      <span className=\"material-icon\">format_quote</span>\n    </Action>\n  )\n}\n\nexport function insertQuote(selection, replace) {\n  let title = $.trim(\n    prompt(gettext(\"Enter quote autor, prefix usernames with @\") + \":\", title)\n  )\n\n  if (title) {\n    replace('\\n\\n[quote=\"' + title + '\"]\\n' + selection + \"\\n[/quote]\\n\\n\")\n  } else {\n    replace(\"\\n\\n[quote]\\n\" + selection + \"\\n[/quote]\\n\\n\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function(props) {\n  return (\n    <Action execAction={insertSpoiler} title={gettext(\"Insert spoiler\")} {...props}>\n      <span className=\"material-icon\">not_interested</span>\n    </Action>\n  )\n}\n\nexport function insertSpoiler(selection, replace) {\n  replace(\"\\n\\n[spoiler]\\n\" + selection + \"\\n[/spoiler]\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function(props) {\n  return (\n    <Action\n      execAction={makeStrikethrough}\n      title={gettext(\"Strikethrough selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_strikethrough</span>\n    </Action>\n  )\n}\n\nexport function makeStrikethrough(selection, replace) {\n  if (selection.length) {\n    replace(\"~~\" + selection + \"~~\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function(props) {\n  return (\n    <Action\n      execAction={makeStrong}\n      title={gettext(\"Bolder selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_bold</span>\n    </Action>\n  )\n}\n\nexport function makeStrong(selection, replace) {\n  if (selection.length) {\n    replace(\"**\" + selection + \"**\")\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  onInsert = () => {\n    this.props.replaceSelection(this.insertAttachment)\n  }\n\n  insertAttachment = (selection, replace) => {\n    const item = this.props.item\n\n    if (item.is_image) {\n      if (item.url.thumb) {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.thumb +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      } else {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.index +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      }\n    } else {\n      replace(\"[\" + item.filename + \"](\" + item.url.index + \")\")\n    }\n  }\n\n  onRemove = () => {\n    this.updateItem({\n      isRemoved: true\n    })\n  }\n\n  onUndo = () => {\n    this.updateItem({\n      isRemoved: false\n    })\n  }\n\n  updateItem = newState => {\n    const updatedAttachments = this.props.attachments.map(item => {\n      if (item.id === this.props.item.id) {\n        return Object.assign({}, item, newState)\n      } else {\n        return item\n      }\n    })\n    this.props.onAttachmentsChange(updatedAttachments)\n  }\n\n  render() {\n    return (\n      <li className=\"editor-attachment-complete\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            <Preview {...this.props} />\n            <div className=\"editor-attachment-details\">\n              <Filename {...this.props} />\n              <Details {...this.props} />\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top-half\">\n            <Actions\n              onInsert={this.onInsert}\n              onRemove={this.onRemove}\n              onUndo={this.onUndo}\n              {...this.props}\n            />\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n\nexport function Preview(props) {\n  if (props.item.is_image) {\n    return <Image {...props} />\n  } else {\n    return <Icon {...props} />\n  }\n}\n\nexport function Image(props) {\n  const thumbnailUrl = props.item.url.thumb || props.item.url.index\n\n  return (\n    <div className=\"editor-attachment-image\">\n      <a\n        href={props.item.url.index + \"?shva=1\"}\n        style={{ backgroundImage: \"url('\" + thumbnailUrl + \"?shva=1')\" }}\n        target=\"_blank\"\n      />\n    </div>\n  )\n}\n\nexport function Icon(props) {\n  return (\n    <div className=\"editor-attachment-icon\">\n      <span className=\"material-icon\">insert_drive_file</span>\n    </div>\n  )\n}\n\nexport function Filename(props) {\n  return (\n    <h4>\n      <a\n        className=\"item-title\"\n        href={props.item.url.index + \"?shva=1\"}\n        target=\"_blank\"\n      >\n        {props.item.filename}\n      </a>\n    </h4>\n  )\n}\n\nexport function Details(props) {\n  let user = null\n  if (props.item.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.item.url.uploader),\n        user: escapeHtml(props.item.uploader_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.item.uploader_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.item.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.item.uploaded_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.item.filetype,\n      size: formatFilesize(props.item.size),\n      uploader: user,\n      uploaded_on: date\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n\nexport function Actions(props) {\n  return (\n    <div className=\"editor-attachment-actions\">\n      <div className=\"row\">\n        <Insert {...props} />\n        <Remove {...props} />\n        <Undo {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function Insert(props) {\n  if (!!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onInsert}\n        type=\"button\"\n      >\n        {gettext(\"Insert\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Remove(props) {\n  if (!!props.item.isRemoved && props.item.acl.can_delete) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onRemove}\n        type=\"button\"\n      >\n        {gettext(\"Remove\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Undo(props) {\n  if (!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-12\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onUndo}\n        type=\"button\"\n      >\n        {gettext(\"Undo removal\")}\n      </button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    const filteredAttachments = this.props.attachments.filter(item => {\n      return item.key !== this.props.item.key\n    })\n    this.props.onAttachmentsChange(filteredAttachments)\n  }\n\n  render() {\n    const filename = interpolate(\n      STRONG,\n      {\n        name: escapeHtml(this.props.item.filename)\n      },\n      true\n    )\n\n    const title = interpolate(\n      gettext(\"Error uploading %(filename)s\"),\n      {\n        filename,\n        progress: this.props.item.progress + \"%\"\n      },\n      true\n    )\n\n    return (\n      <li className=\"editor-attachment-error\">\n        <div className=\"editor-attachment-error-icon\">\n          <span className=\"material-icon\">warning</span>\n        </div>\n        <div className=\"editor-attachment-error-message\">\n          <h4 dangerouslySetInnerHTML={{ __html: title + \":\" }} />\n          <p>{this.props.item.error}</p>\n          <button\n            className=\"btn btn-default btn-sm\"\n            onClick={this.onClick}\n            type=\"button\"\n          >\n            {gettext(\"Dismiss\")}\n          </button>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AttachmentComplete from \"./complete\"\nimport AttachmentError from \"./error\"\nimport AttachmentUpload from \"./upload\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nexport default function(props) {\n  if (props.item.id) {\n    return <AttachmentComplete {...props} />\n  }\n\n  if (props.item.error) {\n    return <AttachmentError {...props} />\n  }\n\n  return <AttachmentUpload {...props} />\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default function(props) {\n  const filename = interpolate(\n    STRONG,\n    {\n      name: escapeHtml(props.item.filename)\n    },\n    true\n  )\n\n  const message = interpolate(\n    gettext(\"Uploading %(filename)s... %(progress)s\"),\n    {\n      filename,\n      progress: props.item.progress + \"%\"\n    },\n    true\n  )\n\n  return (\n    <li className=\"editor-attachment-upload\">\n      <div className=\"editor-attachment-progress-bar\">\n        <div\n          className=\"editor-attachment-progress\"\n          style={{ width: props.item.progress + \"%\" }}\n        />\n      </div>\n      <p\n        className=\"editor-attachment-upload-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    </li>\n  )\n}\n","import React from \"react\"\nimport List from \"./list\"\nimport Uploader from \"./uploader\"\nimport misago from \"misago\"\n\nexport default function(props) {\n  if (!misago.get(\"user\").acl.max_attachment_size) {\n    return null\n  }\n\n  return (\n    <div className=\"editor-attachments\">\n      <List {...props} />\n      <Uploader {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Attachment from \"./attachment\"\n\nexport default function(props) {\n  return (\n    <ul className=\"list-unstyled editor-attachments-list\">\n      {props.attachments.map(item => {\n        return <Attachment item={item} key={item.id || item.key} {...props} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    document.getElementById(\"editor-upload-field\").click()\n  }\n\n  render() {\n    if (!misago.get(\"user\").acl.max_attachment_size) {\n      return null\n    }\n\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={gettext(\"Upload file\")}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">file_upload</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  onChange = event => {\n    const file = event.target.files[0]\n    if (!file) {\n      return\n    }\n\n    let upload = {\n      id: null,\n      key: getRandomKey(),\n      progress: 0,\n      error: null,\n      filename: file.name\n    }\n\n    this.props.onAttachmentsChange([upload].concat(this.props.attachments))\n\n    const data = new FormData()\n    data.append(\"upload\", file)\n\n    ajax\n      .upload(misago.get(\"ATTACHMENTS_API\"), data, progress => {\n        upload.progress = progress\n        this.props.onAttachmentsChange(this.props.attachments.concat())\n      })\n      .then(\n        data => {\n          data.uploaded_on = moment(data.uploaded_on)\n          Object.assign(upload, data)\n          this.props.onAttachmentsChange(this.props.attachments.concat())\n        },\n        rejection => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            upload.error = rejection.detail\n            this.props.onAttachmentsChange(this.props.attachments.concat())\n          } else {\n            snackbar.apiError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <input id=\"editor-upload-field\" onChange={this.onChange} type=\"file\" />\n    )\n  }\n}\n\nexport function getRandomKey() {\n  return \"upld-\" + Math.round(new Date().getTime())\n}\n","import React from \"react\"\nimport Code from \"./actions/code\"\nimport Emphasis from \"./actions/emphasis\"\nimport Hr from \"./actions/hr\"\nimport Image from \"./actions/image\"\nimport Link from \"./actions/link\"\nimport Spoiler from \"./actions/spoiler\"\nimport Strikethrough from \"./actions/strikethrough\"\nimport Strong from \"./actions/strong\"\nimport Quote from \"./actions/quote\"\nimport AttachmentsEditor from \"./attachments\"\nimport Upload from \"./attachments/upload-button\"\nimport MarkupPreview from \"./markup-preview\"\nimport * as textUtils from \"./textutils\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isPreviewLoading: false\n    }\n  }\n\n  componentDidMount() {\n    $(\"#editor-textarea\").atwho({\n      at: \"@\",\n      displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n      insertTpl: \"@${username}\",\n      searchKey: \"username\",\n      callbacks: {\n        remoteFilter: function(query, callback) {\n          $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n        }\n      }\n    })\n\n    $(\"#editor-textarea\").on(\"inserted.atwho\", (event, flag, query) => {\n      this.props.onChange(event)\n    })\n  }\n\n  onPreviewClick = () => {\n    if (this.state.isPreviewLoading) {\n      return\n    }\n\n    this.setState({\n      isPreviewLoading: true\n    })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      data => {\n        modal.show(<MarkupPreview markup={data.parsed} />)\n\n        this.setState({\n          isPreviewLoading: false\n        })\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({\n          isPreviewLoading: false\n        })\n      }\n    )\n  }\n\n  replaceSelection = operation => {\n    operation(textUtils.getSelectionText(), this._replaceSelection)\n  }\n\n  _replaceSelection = newValue => {\n    this.props.onChange({\n      target: {\n        value: textUtils.replace(newValue)\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"editor-border\">\n        <textarea\n          className=\"form-control\"\n          value={this.props.value}\n          disabled={this.props.loading}\n          id=\"editor-textarea\"\n          onChange={this.props.onChange}\n          rows=\"9\"\n        />\n        <div className=\"editor-footer\">\n          <div className=\"buttons-list pull-left\">\n            <Strong\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Emphasis\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Strikethrough\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Hr\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Link\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Image\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Quote\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Spoiler\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Code\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Upload\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n            />\n          </div>\n          <Button\n            className=\"btn-default btn-sm pull-left\"\n            disabled={this.props.loading || this.state.isPreviewLoading}\n            onClick={this.onPreviewClick}\n            type=\"button\"\n          >\n            {gettext(\"Preview\")}\n          </Button>\n          <Button\n            className=\"btn-primary btn-sm pull-right\"\n            loading={this.props.loading}\n          >\n            {this.props.submitLabel || gettext(\"Post\")}\n          </Button>\n          <button\n            className=\"btn btn-default btn-sm pull-right\"\n            disabled={this.props.loading}\n            onClick={this.props.onCancel}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <div className=\"clearfix visible-xs-block\" />\n          <Protect\n            canProtect={this.props.canProtect}\n            disabled={this.props.loading}\n            onProtect={this.props.onProtect}\n            onUnprotect={this.props.onUnprotect}\n            protect={this.props.protect}\n          />\n        </div>\n        <AttachmentsEditor\n          attachments={this.props.attachments}\n          onAttachmentsChange={this.props.onAttachmentsChange}\n          placeholder={this.props.placeholder}\n          replaceSelection={this.replaceSelection}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Protect(props) {\n  if (!props.canProtect) return null\n\n  const label = props.protect ? gettext(\"Protected\") : gettext(\"Protect\")\n\n  return (\n    <button\n      className=\"btn btn-icon btn-default btn-protect btn-sm pull-right\"\n      disabled={props.disabled}\n      onClick={props.protect ? props.onUnprotect : props.onProtect}\n      title={label}\n      type=\"button\"\n    >\n      <span className=\"material-icon\">\n        {props.protect ? \"lock\" : \"lock_outline\"}\n      </span>\n      <span className=\"btn-text hidden-md hidden-lg\">{label}</span>\n    </button>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Preview message\")}</h4>\n        </div>\n        <div className=\"modal-body markup-preview\">\n          <MisagoMarkup markup={props.markup} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","export const textareaId = \"editor-textarea\"\n\nexport function getTextarea() {\n  return document.getElementById(textareaId)\n}\n\nexport function getValue() {\n  return document.getElementById(textareaId).value\n}\n\nexport function getSelectionRange(start, end) {\n  return {\n    start,\n    end\n  }\n}\n\nexport function getSelection() {\n  const ctrl = getTextarea()\n  if (document.selection) {\n    ctrl.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -ctrl.value.length)\n    return getSelectionRange(range.text.length - length, range.text.length)\n  } else if (ctrl.selectionStart || ctrl.selectionStart == \"0\") {\n    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd)\n  }\n}\n\nexport function getSelectionText() {\n  const range = getSelection()\n  return $.trim(getValue().substring(range.start, range.end))\n}\n\nexport function setSelection(selectionRange) {\n  const ctrl = getTextarea()\n  if (ctrl.setSelectionRange) {\n    ctrl.focus()\n    ctrl.setSelectionRange(selectionRange.start, selectionRange.end)\n  } else if (ctrl.createTextRange) {\n    const range = ctrl.createTextRange()\n    range.collapse(true)\n    range.moveStart(\"character\", selectionRange.start)\n    range.moveEnd(\"character\", selectionRange.end)\n    range.select()\n  }\n}\n\nexport function _replace(myRange, replacement) {\n  const ctrl = getTextarea()\n  const text = ctrl.value\n  const startText = text.substring(0, myRange.start)\n  ctrl.value =\n    text.substring(0, myRange.start) + replacement + text.substring(myRange.end)\n  setSelection(\n    getSelectionRange(\n      startText.length + replacement.length,\n      startText.length + replacement.length\n    )\n  )\n  return ctrl.value\n}\n\nexport function replace(replacement) {\n  return _replace(getSelection(), replacement)\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation ? gettext(\"(error)\") : gettext(\"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"misago/utils/validators\"\nimport snackbar from \"misago/services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {}\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name]\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = name => {\n    return event => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = event => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          success => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          rejection => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\"\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        gettext(\"Are you sure you want to delete all polls?\")\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = success => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = rejection => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = event => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = event => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Best answer\")}\n      helpText={gettext(\n        \"Please select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map(choice => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Poll\")}\n      helpText={gettext(\n        \"Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map(choice => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className=\"misago-markup\"\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        ref={node => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","const MAX_RESULTS = 5\n\nexport default function(data) {\n  const filtered = data.filter(section => {\n    return section.results.count > 0\n  })\n\n  return filtered.map(section => {\n    return Object.assign({}, section, {\n      count: section.results.count,\n      results: section.results.results.slice(0, MAX_RESULTS)\n    })\n  })\n}\n","export const HEADER = \"HEADER\"\nexport const RESULT = \"RESULT\"\nexport const FOOTER = \"FOOTER\"\n","import React from \"react\"\nimport Input from \"./input\"\n\nexport default function({ children, onChange, query }) {\n  return (\n    <ul className=\"dropdown-menu dropdown-search-results\" role=\"menu\">\n      <li className=\"form-group\">\n        <Input value={query} onChange={onChange} />\n      </li>\n      {children}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function() {\n  return (\n    <li className=\"dropdown-search-message\">\n      {gettext(\"Search returned no results.\")}\n    </li>\n  )\n}\n","import { HEADER, RESULT, FOOTER } from \"./constants\"\n\nexport default function(results) {\n  const flatlist = []\n  flattenProviders(results, flatlist)\n  return flatlist\n}\n\nfunction flattenProviders(results, flatlist) {\n  const arrayLength = results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const provider = results[i]\n\n    flatlist.push({\n      provider,\n      type: HEADER\n    })\n\n    flattenProvider(provider, flatlist)\n  }\n}\n\nfunction flattenProvider(provider, flatlist) {\n  const arrayLength = provider.results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const result = provider.results[i]\n    flatlist.push({\n      provider,\n      result,\n      type: RESULT\n    })\n  }\n\n  flatlist.push({\n    provider,\n    type: FOOTER\n  })\n}\n","import React from \"react\"\nimport { RESULT } from \"./constants\"\nimport DropdownMenu from \"./dropdown-menu\"\nimport Empty from \"./empty\"\nimport Loader from \"./loader\"\nimport Result from \"./result\"\nimport flattenResults from \"./flatten-results\"\n\nexport default function({ isLoading, onChange, results, query }) {\n  if (!query.trim().length) {\n    return <DropdownMenu onChange={onChange} query={query} />\n  }\n\n  if (results.length) {\n    const flatResults = flattenResults(results)\n\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        {flatResults.map(props => {\n          const { type, provider, result } = props\n\n          if (type === RESULT) {\n            return (\n              <Result\n                key={[provider.id, type, result.id].join(\"_\")}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <Result\n              key={[provider.id, type].join(\"_\")}\n              query={query}\n              {...props}\n            />\n          )\n        })}\n      </DropdownMenu>\n    )\n  } else if (isLoading) {\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        <Loader />\n      </DropdownMenu>\n    )\n  }\n\n  return (\n    <DropdownMenu onChange={onChange} query={query}>\n      <Empty />\n    </DropdownMenu>\n  )\n}\n","import React from \"react\"\n\nexport default function({ value, onChange }) {\n  return (\n    <input\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      aria-controls=\"dropdown-menu dropdown-search-results\"\n      autoComplete=\"off\"\n      className=\"form-control\"\n      value={value}\n      onChange={onChange}\n      placeholder={gettext(\"Search\")}\n      role=\"combobox\"\n      type=\"text\"\n    />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function({ message }) {\n  return (\n    <li className=\"dropdown-search-loader\">\n      <Loader />\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function({ provider, query }) {\n  const url = provider.url + \"?q=\" + encodeURI(query)\n  const label = ngettext(\n    'See full \"%(provider)s\" results page with %(count)s result.',\n    'See full \"%(provider)s\" results page with %(count)s results.',\n    provider.count\n  )\n\n  return (\n    <li className=\"dropdown-search-footer\">\n      <a href={url}>\n        {interpolate(\n          label,\n          {\n            count: provider.count,\n            provider: provider.name\n          },\n          true\n        )}\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function({ provider }) {\n  return <li className=\"dropdown-search-header\">{provider.name}</li>\n}\n","import React from \"react\"\nimport { HEADER, FOOTER } from \"../constants\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport Result from \"./result\"\n\nexport default function({ provider, result, type, query }) {\n  if (type === HEADER) {\n    return <Header provider={provider} />\n  } else if (type === FOOTER) {\n    return <Footer provider={provider} query={query} />\n  }\n\n  return <Result provider={provider} result={result} />\n}\n","import React from \"react\"\nimport Thread from \"./thread\"\nimport User from \"./user\"\n\nexport default function({ provider, result }) {\n  if (provider.id === \"threads\") {\n    return <Thread result={result} />\n  }\n\n  return <User result={result} />\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default function({ result }) {\n  const { poster, thread } = result\n  const footer = gettext(\n    \"Posted by %(poster)s on %(posted_on)s in %(category)s.\"\n  )\n\n  return (\n    <li>\n      <a href={result.url.index} className=\"dropdown-search-thread\">\n        <h5>{thread.title}</h5>\n        <small className=\"dropdown-search-post-content\">\n          {$(result.content).text()}\n        </small>\n        <small className=\"dropdown-search-post-footer\">\n          {interpolate(\n            footer,\n            {\n              category: result.category.name,\n              posted_on: moment(result.posted_on).format(\"LL\"),\n              poster: result.poster_name\n            },\n            true\n          )}\n        </small>\n      </a>\n    </li>\n  )\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function({ result }) {\n  const { rank } = result\n\n  const detail = gettext(\"%(title)s, joined on %(joined_on)s\")\n  const title = result.title || rank.title || rank.name\n\n  return (\n    <li>\n      <a href={result.url} className=\"dropdown-search-user\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <Avatar size={38} user={result} />\n          </div>\n          <div className=\"media-body\">\n            <h5 className=\"media-heading\">{result.username}</h5>\n            <small>\n              {interpolate(\n                detail,\n                {\n                  title,\n                  joined_on: moment(result.joined_on).format(\"LL\")\n                },\n                true\n              )}\n            </small>\n          </div>\n        </div>\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport misago from \"misago\"\nimport cleanResults from \"./clean-results\"\nimport Dropdown from \"./dropdown\"\n\nexport default class extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      isLoading: false,\n      isOpen: false,\n      query: \"\",\n      results: []\n    }\n\n    this.intervalId = null\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.addEventListener(\"keydown\", this.onEscape)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.removeEventListener(\"keydown\", this.onEscape)\n  }\n\n  onToggle = ev => {\n    this.setState((prevState, props) => {\n      if (!prevState.isOpen) {\n        window.setTimeout(() => {\n          this.container.querySelector(\"input\").focus()\n        }, 100)\n      }\n\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  onDocumentMouseDown = ev => {\n    let closeResults = true\n    let node = ev.target\n\n    while (node !== null && node !== document) {\n      if (node === this.container) {\n        closeResults = false\n        return\n      }\n\n      node = node.parentNode\n    }\n\n    if (closeResults) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onEscape = ev => {\n    if (ev.key === \"Escape\") {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onChange = ev => {\n    const query = ev.target.value\n\n    this.setState({ query })\n    this.loadResults(query.trim())\n  }\n\n  loadResults(query) {\n    if (!query.length) return\n\n    const delay = 300 + Math.random() * 300\n\n    if (this.intervalId) {\n      window.clearTimeout(this.intervalId)\n    }\n\n    this.setState({ isLoading: true })\n\n    this.intervalId = window.setTimeout(() => {\n      ajax.get(misago.get(\"SEARCH_API\"), { q: query }).then(\n        data => {\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: cleanResults(data)\n          })\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: []\n          })\n        }\n      )\n    }, delay)\n  }\n\n  render() {\n    let className = \"navbar-search dropdown\"\n    if (this.state.isOpen) className += \" open\"\n\n    return (\n      <div\n        className={className}\n        ref={container => (this.container = container)}\n      >\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"navbar-icon\"\n          data-toggle=\"dropdown\"\n          href={misago.get(\"SEARCH_URL\")}\n          onClick={this.onToggle}\n        >\n          <i className=\"material-icon\">search</i>\n        </a>\n        <Dropdown\n          isLoading={this.state.isLoading}\n          onChange={this.onChange}\n          results={this.state.results}\n          query={this.state.query}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\n\nexport default function() {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n      </div>\n      <PanelLoader />\n    </div>\n  )\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.options.next_on) {\n      return interpolate(\n        gettext(\"You will be able to change your username %(next_change)s.\"),\n        { next_change: this.props.options.next_on.fromNow() },\n        true\n      )\n    } else {\n      return gettext(\"You have used up available name changes.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n        </div>\n        <PanelMessage\n          helpText={this.getHelpText()}\n          message={gettext(\"You can't change your username at the moment.\")}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: \"\",\n\n      validators: {\n        username: [\n          validators.usernameContent(),\n          validators.usernameMinLength(props.options.length_min),\n          validators.usernameMaxLength(props.options.length_max)\n        ]\n      },\n\n      isLoading: false\n    }\n  }\n\n  getHelpText() {\n    let phrases = []\n\n    if (this.props.options.changes_left > 0) {\n      let message = ngettext(\n        \"You can change your username %(changes_left)s more time.\",\n        \"You can change your username %(changes_left)s more times.\",\n        this.props.options.changes_left\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            changes_left: this.props.options.changes_left\n          },\n          true\n        )\n      )\n    }\n\n    if (this.props.user.acl.name_changes_expire > 0) {\n      let message = ngettext(\n        \"Used changes become available again after %(name_changes_expire)s day.\",\n        \"Used changes become available again after %(name_changes_expire)s days.\",\n        this.props.user.acl.name_changes_expire\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            name_changes_expire: this.props.user.acl.name_changes_expire\n          },\n          true\n        )\n      )\n    }\n\n    return phrases.length ? phrases.join(\" \") : null\n  }\n\n  clean() {\n    let errors = this.validate()\n    if (errors.username) {\n      snackbar.error(errors.username[0])\n      return false\n    }\n    if (this.state.username.trim() === this.props.user.username) {\n      snackbar.info(gettext(\"Your new username is same as current one.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.username, {\n      username: this.state.username\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({\n      username: \"\"\n    })\n\n    this.props.complete(success.username, success.slug, success.options)\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup\n              label={gettext(\"New username\")}\n              for=\"id_username\"\n              helpText={this.getHelpText()}\n            >\n              <input\n                type=\"text\"\n                id=\"id_username\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"username\")}\n                value={this.state.username}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change username\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport FormLoading from \"misago/components/options/change-username/form-loading\"\nimport FormLocked from \"misago/components/options/change-username/form-locked\"\nimport Form from \"misago/components/options/change-username/form\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      options: null\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change username\"),\n      parent: gettext(\"Change your options\")\n    })\n\n    Promise.all([\n      ajax.get(this.props.user.api.username),\n      ajax.get(misago.get(\"USERNAME_CHANGES_API\"), { user: this.props.user.id })\n    ]).then(data => {\n      store.dispatch(hydrate(data[1].results))\n\n      this.setState({\n        isLoaded: true,\n        options: {\n          changes_left: data[0].changes_left,\n          length_min: data[0].length_min,\n          length_max: data[0].length_max,\n          next_on: data[0].next_on ? moment(data[0].next_on) : null\n        }\n      })\n    })\n  }\n\n  onComplete = (username, slug, options) => {\n    this.setState({\n      options\n    })\n\n    store.dispatch(\n      addNameChange({ username, slug }, this.props.user, this.props.user)\n    )\n    store.dispatch(updateUsername(this.props.user, username, slug))\n\n    snackbar.success(gettext(\"Your username has been changed successfully.\"))\n  }\n\n  getChangeForm() {\n    if (!this.state.isLoaded) {\n      return <FormLoading />\n    }\n\n    if (this.state.options.changes_left === 0) {\n      return <FormLocked options={this.state.options} />\n    }\n\n    return (\n      <Form\n        complete={this.onComplete}\n        options={this.state.options}\n        user={this.props.user}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {this.getChangeForm()}\n        <UsernameHistory\n          changes={this.props[\"username-history\"]}\n          isLoaded={this.state.isLoaded}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      password: \"\"\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Delete account\"),\n      parent: gettext(\"Change your options\")\n    })\n  }\n\n  onPasswordChange = event => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n\n    const { isLoading, password } = this.state\n    const { user } = this.props\n\n    if (password.length == 0) {\n      snackbar.error(\n        gettext(\"Enter your password to confirm account deletion.\")\n      )\n      return false\n    }\n\n    if (isLoading) return false\n    this.setState({ isLoading: true })\n\n    ajax.post(user.api.delete, { password }).then(\n      success => {\n        window.location.href = misago.get(\"MISAGO_PATH\")\n      },\n      rejection => {\n        this.setState({ isLoading: false })\n        if (rejection.password) {\n          snackbar.error(rejection.password[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-danger panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Delete account\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p className=\"lead\">\n              {gettext(\n                \"You are going to delete your account. This action is nonreversible, and will result in following data being deleted:\"\n              )}\n            </p>\n\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Stored IP addresses associated with content that you have posted will be deleted.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your username will become available for other user to rename to or for new user to register their account with.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your e-mail will become available for use in new account registration.\"\n              )}\n            </p>\n\n            <hr />\n\n            <p>\n              {gettext(\n                \"All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.\"\n              )}\n            </p>\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"input-group\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                name=\"password-confirmation\"\n                type=\"password\"\n                placeholder={gettext(\n                  \"Enter your password to confirm account deletion.\"\n                )}\n                value={this.state.password}\n                onChange={this.onPasswordChange}\n              />\n              <span className=\"input-group-btn\">\n                <Button className=\"btn-danger\" loading={this.state.isLoading}>\n                  {gettext(\"Delete my account\")}\n                </Button>\n              </span>\n            </div>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class DownloadData extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isSubmiting: false,\n      downloads: []\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Download your data\"),\n      parent: gettext(\"Change your options\")\n    })\n\n    this.handleLoadDownloads()\n  }\n\n  handleLoadDownloads = () => {\n    ajax.get(this.props.user.api.data_downloads).then(\n      data => {\n        this.setState({\n          isLoading: false,\n          downloads: data\n        })\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  handleRequestDataDownload = () => {\n    this.setState({ isSubmiting: true })\n    ajax.post(this.props.user.api.request_data_download).then(\n      () => {\n        this.handleLoadDownloads()\n        snackbar.success(\n          gettext(\"Your request for data download has been registered.\")\n        )\n        this.setState({ isSubmiting: false })\n      },\n      rejection => {\n        console.log(rejection)\n        snackbar.apiError(rejection)\n        this.setState({ isSubmiting: false })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Download your data\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p>\n              {gettext(\n                'To download your data from the site, click the \"Request data download\" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.'\n              )}\n            </p>\n\n            <p>\n              {gettext(\n                \"The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired.\"\n              )}\n            </p>\n          </div>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>{gettext(\"Requested on\")}</th>\n                <th className=\"col-md-4\">{gettext(\"Download\")}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.downloads.map(item => {\n                return (\n                  <tr key={item.id}>\n                    <td style={rowStyle}>\n                      {moment(item.requested_on).fromNow()}\n                    </td>\n                    <td>\n                      <DownloadButton\n                        exportFile={item.file}\n                        status={item.status}\n                      />\n                    </td>\n                  </tr>\n                )\n              })}\n              {this.state.downloads.length == 0 ? (\n                <tr>\n                  <td colSpan=\"2\">{gettext(\"You have no data downloads.\")}</td>\n                </tr>\n              ) : null}\n            </tbody>\n          </table>\n          <div className=\"panel-footer text-right\">\n            <Button\n              className=\"btn-primary\"\n              loading={this.state.isSubmiting}\n              type=\"button\"\n              onClick={this.handleRequestDataDownload}\n            >\n              {gettext(\"Request data download\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rowStyle = {\n  verticalAlign: \"middle\"\n}\n\nconst STATUS_PENDING = 0\nconst STATUS_PROCESSING = 1\n\nconst DownloadButton = ({ exportFile, status }) => {\n  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {\n    return (\n      <Button\n        className=\"btn-info btn-sm btn-block\"\n        disabled={true}\n        type=\"button\"\n      >\n        {gettext(\"Download is being prepared\")}\n      </Button>\n    )\n  }\n\n  if (exportFile) {\n    return (\n      <a className=\"btn btn-success btn-sm btn-block\" href={exportFile}>\n        {gettext(\"Download your data\")}\n      </a>\n    )\n  }\n\n  return (\n    <Button\n      className=\"btn-default btn-sm btn-block\"\n      disabled={true}\n      type=\"button\"\n    >\n      {gettext(\"Download is expired\")}\n    </Button>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Edit details\"),\n      parent: gettext(\"Change your options\")\n    })\n  }\n\n  onSuccess = () => {\n    snackbar.info(gettext(\"Your details have been updated.\"))\n  }\n\n  render() {\n    return (\n      <Form api={this.props.user.api.edit_details} onSuccess={this.onSuccess} />\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Select from \"misago/components/select\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      is_hiding_presence: props.user.is_hiding_presence,\n      limits_private_thread_invites_to:\n        props.user.limits_private_thread_invites_to,\n      subscribe_to_started_threads: props.user.subscribe_to_started_threads,\n      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,\n\n      errors: {}\n    }\n\n    this.privateThreadInvitesChoices = [\n      {\n        value: 0,\n        icon: \"help_outline\",\n        label: gettext(\"Everybody\")\n      },\n      {\n        value: 1,\n        icon: \"done_all\",\n        label: gettext(\"Users I follow\")\n      },\n      {\n        value: 2,\n        icon: \"highlight_off\",\n        label: gettext(\"Nobody\")\n      }\n    ]\n\n    this.subscribeToChoices = [\n      {\n        value: 0,\n        icon: \"star_border\",\n        label: gettext(\"No\")\n      },\n      {\n        value: 1,\n        icon: \"star_half\",\n        label: gettext(\"Notify\")\n      },\n      {\n        value: 2,\n        icon: \"star\",\n        label: gettext(\"Notify with e-mail\")\n      }\n    ]\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.options, {\n      is_hiding_presence: this.state.is_hiding_presence,\n      limits_private_thread_invites_to: this.state\n        .limits_private_thread_invites_to,\n      subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n      subscribe_to_replied_threads: this.state.subscribe_to_replied_threads\n    })\n  }\n\n  handleSuccess() {\n    store.dispatch(\n      patch({\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to: this.state\n          .limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads\n      })\n    )\n    snackbar.success(gettext(\"Your forum options have been changed.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Please reload page and try again.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Forum options\"),\n      parent: gettext(\"Change your options\")\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change forum options\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <fieldset>\n              <legend>{gettext(\"Privacy settings\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Hide my presence\")}\n                helpText={gettext(\n                  \"If you hide your presence, only members with permission to see hidden users will see when you are online.\"\n                )}\n                for=\"id_is_hiding_presence\"\n              >\n                <YesNoSwitch\n                  id=\"id_is_hiding_presence\"\n                  disabled={this.state.isLoading}\n                  iconOn=\"visibility_off\"\n                  iconOff=\"visibility\"\n                  labelOn={gettext(\"Hide my presence from other users\")}\n                  labelOff={gettext(\"Show my presence to other users\")}\n                  onChange={this.bindInput(\"is_hiding_presence\")}\n                  value={this.state.is_hiding_presence}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Private thread invitations\")}\n                for=\"id_limits_private_thread_invites_to\"\n              >\n                <Select\n                  id=\"id_limits_private_thread_invites_to\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"limits_private_thread_invites_to\")}\n                  value={this.state.limits_private_thread_invites_to}\n                  choices={this.privateThreadInvitesChoices}\n                />\n              </FormGroup>\n            </fieldset>\n\n            <fieldset>\n              <legend>{gettext(\"Automatic subscriptions\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Threads I start\")}\n                for=\"id_subscribe_to_started_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_started_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_started_threads\")}\n                  value={this.state.subscribe_to_started_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Threads I reply to\")}\n                for=\"id_subscribe_to_replied_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_replied_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_replied_threads\")}\n                  value={this.state.subscribe_to_replied_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n            </fieldset>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Save changes\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\nimport misago from \"misago/index\"\n\nexport function SideNav(props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.options.map(option => {\n        return (\n          <Link\n            to={props.baseUrl + option.component + \"/\"}\n            className=\"list-group-item\"\n            activeClassName=\"active\"\n            key={option.component}\n          >\n            <span className=\"material-icon\">{option.icon}</span>\n            {option.name}\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function CompactNav(props) {\n  return (\n    <ul\n      className={props.className || \"dropdown-menu stick-to-bottom\"}\n      role=\"menu\"\n    >\n      {props.options.map(option => {\n        return (\n          <Li\n            path={props.baseUrl + option.component + \"/\"}\n            key={option.component}\n          >\n            <Link\n              to={props.baseUrl + option.component + \"/\"}\n              onClick={props.hideNav}\n            >\n              <span className=\"material-icon hidden-sm\">{option.icon}</span>\n              {option.name}\n            </Link>\n          </Li>\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport DropdownToggle from \"misago/components/dropdown-toggle\"\nimport { SideNav, CompactNav } from \"misago/components/options/navs\"\nimport DeleteAccount from \"misago/components/options/delete-account\"\nimport EditDetails from \"misago/components/options/edit-details\"\nimport DownloadData from \"misago/components/options/download-data\"\nimport ChangeForumOptions from \"misago/components/options/forum-options\"\nimport ChangeUsername from \"misago/components/options/change-username/root\"\nimport ChangeSignInCredentials from \"misago/components/options/sign-in-credentials/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-options\">\n        <div className=\"page-header-bg\">\n          <div className=\"page-header\">\n            <div className=\"container\">\n              <h1>{gettext(\"Change your options\")}</h1>\n            </div>\n            <div className=\"page-tabs visible-xs-block visible-sm-block\">\n              <div className=\"container\">\n                <CompactNav\n                  className=\"nav nav-pills\"\n                  baseUrl={misago.get(\"USERCP_URL\")}\n                  options={misago.get(\"USER_OPTIONS\")}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-3 hidden-xs hidden-sm\">\n              <SideNav\n                baseUrl={misago.get(\"USERCP_URL\")}\n                options={misago.get(\"USER_OPTIONS\")}\n              />\n            </div>\n            <div className=\"col-md-9\">{this.props.children}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    \"username-history\": store[\"username-history\"]\n  }\n}\n\nexport function paths() {\n  const paths = [\n    {\n      path: misago.get(\"USERCP_URL\") + \"forum-options/\",\n      component: connect(select)(ChangeForumOptions)\n    },\n    {\n      path: misago.get(\"USERCP_URL\") + \"edit-details/\",\n      component: connect(select)(EditDetails)\n    }\n  ]\n\n  paths.push({\n    path: misago.get(\"USERCP_URL\") + \"change-username/\",\n    component: connect(select)(ChangeUsername)\n  })\n  paths.push({\n    path: misago.get(\"USERCP_URL\") + \"sign-in-credentials/\",\n    component: connect(select)(ChangeSignInCredentials)\n  })\n\n  if (misago.get(\"ENABLE_DOWNLOAD_OWN_DATA\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"download-data/\",\n      component: connect(select)(DownloadData)\n    })\n  }\n\n  if (misago.get(\"ENABLE_DELETE_OWN_ACCOUNT\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"delete-account/\",\n      component: connect(select)(DeleteAccount)\n    })\n  }\n\n  return paths\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\n\nconst UnusablePasswordMessage = () => {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change email or password\")}</h3>\n      </div>\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You need to set a password for your account to be able to change your username or email.\"\n            )}\n          </p>\n          <p className=\"help-block\">\n            <a\n              className=\"btn btn-primary\"\n              href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n            >\n              {gettext(\"Set password\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnusablePasswordMessage\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_email: \"\",\n      password: \"\",\n\n      validators: {\n        new_email: [validators.email()],\n        password: []\n      },\n\n      isLoading: false\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_email.trim().length,\n      this.state.password.trim().length\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_email) {\n      snackbar.error(errors.new_email[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_email, {\n      new_email: this.state.new_email,\n      password: this.state.password\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_email: \"\",\n      password: \"\"\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_email) {\n        snackbar.error(rejection.new_email)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change e-mail address\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New e-mail\")} for=\"id_new_email\">\n              <input\n                type=\"text\"\n                id=\"id_new_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_email\")}\n                value={this.state.new_email}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_email\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change e-mail\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n\n      validators: {\n        new_password: [],\n        repeat_password: [],\n        password: []\n      },\n\n      isLoading: false\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_password.trim().length,\n      this.state.repeat_password.trim().length,\n      this.state.password.trim().length\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_password) {\n      snackbar.error(errors.new_password[0])\n      return false\n    }\n\n    if (this.state.new_password !== this.state.repeat_password) {\n      snackbar.error(gettext(\"New passwords are different.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_password, {\n      new_password: this.state.new_password,\n      password: this.state.password\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\"\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_password) {\n        snackbar.error(rejection.new_password)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change password\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New password\")} for=\"id_new_password\">\n              <input\n                type=\"password\"\n                id=\"id_new_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_password\")}\n                value={this.state.new_password}\n              />\n            </FormGroup>\n\n            <FormGroup\n              label={gettext(\"Repeat password\")}\n              for=\"id_repeat_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_repeat_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"repeat_password\")}\n                value={this.state.repeat_password}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change password\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangeEmail from \"misago/components/options/sign-in-credentials/change-email\"\nimport ChangePassword from \"misago/components/options/sign-in-credentials/change-password\"\nimport misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\nimport UnusablePasswordMessage from \"./UnusablePasswordMessage\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change email or password\"),\n      parent: gettext(\"Change your options\")\n    })\n  }\n\n  render() {\n    if (!this.props.user.has_usable_password) {\n      return <UnusablePasswordMessage />\n    }\n\n    return (\n      <div>\n        <ChangeEmail user={this.props.user} />\n        <ChangePassword user={this.props.user} />\n\n        <p className=\"message-line\">\n          <span className=\"material-icon\">warning</span>\n          <a href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}>\n            {gettext(\"Change forgotten password\")}\n          </a>\n        </p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {gettext(\"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id }\n    ])\n    .then(\n      () => {\n        snackbar.success(gettext(\"You have left this thread.\"))\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 }\n    ])\n    .then(\n      data => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been removed from this thread.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username\n            },\n            true\n          )\n        )\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 }\n    ])\n    .then(\n      data => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been made new thread owner.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username\n            },\n            true\n          )\n        )\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function(props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>{gettext(\"See profile\")}</a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">{gettext(\"Thread owner\")}</span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map(participant => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to take over this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {gettext(\"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to leave this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser ? gettext(\"Leave thread\") : gettext(\"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function(props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = ngettext(\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\"\n]\n\nexport const LABELS = [\n  gettext(\"Entered password is very weak.\"),\n  gettext(\"Entered password is weak.\"),\n  gettext(\"Entered password is average.\"),\n  gettext(\"Entered password is strong.\"),\n  gettext(\"Entered password is very strong.\")\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function(value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: generateRandomHash(),\n      label: \"\"\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map(choice => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = hash => {\n    const choices = this.props.choices.filter(choice => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map(choice => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {gettext(\"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = event => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem = window.confirm(\n      gettext(\"Are you sure you want to delete this choice?\")\n    )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={gettext(\"Delete this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={gettext(\"choice label\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n\nexport function generateRandomHash() {\n  let randomHash = \"\"\n  while (randomHash.length != 12) {\n    randomHash = Math.random()\n      .toString(36)\n      .replace(/[^a-zA-Z0-9]+/g, \"\")\n      .substr(1, 12)\n  }\n  return randomHash\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll || {\n      question: \"\",\n      choices: [\n        {\n          hash: \"choice-10000\",\n          label: \"\"\n        },\n        {\n          hash: \"choice-20000\",\n          label: \"\"\n        }\n      ],\n      length: 0,\n      allowed_choices: 1,\n      allow_revotes: 0,\n      is_public: 0\n    }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.question,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: []\n      },\n\n      errors: {}\n    }\n  }\n\n  setChoices = choices => {\n    const errors = Object.assign({}, errors, { choices: null })\n\n    this.setState({\n      choices,\n      errors\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(gettext(\"Are you sure you want to discard poll?\"))\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    } else {\n      return ajax.post(this.props.thread.api.poll, data)\n    }\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(gettext(\"Poll has been edited.\"))\n    } else {\n      snackbar.success(gettext(\"Poll has been posted.\"))\n    }\n\n    posting.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection)\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <div className=\"container\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-body\">\n                <fieldset>\n                  <legend>{gettext(\"Question and choices\")}</legend>\n\n                  <FormGroup\n                    label={gettext(\"Poll question\")}\n                    for=\"id_questions\"\n                    validation={this.state.errors.question}\n                  >\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      id=\"id_questions\"\n                      onChange={this.bindInput(\"question\")}\n                      type=\"text\"\n                      maxLength=\"255\"\n                      value={this.state.question}\n                    />\n                  </FormGroup>\n\n                  <FormGroup\n                    label={gettext(\"Available choices\")}\n                    validation={this.state.errors.choices}\n                  >\n                    <ChoicesControl\n                      choices={this.state.choices}\n                      disabled={this.state.isLoading}\n                      setChoices={this.setChoices}\n                    />\n                  </FormGroup>\n                </fieldset>\n\n                <fieldset>\n                  <legend>{gettext(\"Voting\")}</legend>\n\n                  <div className=\"row\">\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Poll length\")}\n                        helpText={gettext(\n                          \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                        )}\n                        for=\"id_length\"\n                        validation={this.state.errors.length}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_length\"\n                          onChange={this.bindInput(\"length\")}\n                          type=\"text\"\n                          value={this.state.length}\n                        />\n                      </FormGroup>\n                    </div>\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allowed choices\")}\n                        for=\"id_allowed_choices\"\n                        validation={this.state.errors.allowed_choices}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_allowed_choices\"\n                          onChange={this.bindInput(\"allowed_choices\")}\n                          type=\"text\"\n                          maxLength=\"255\"\n                          value={this.state.allowed_choices}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n\n                  <div className=\"row\">\n                    <PollPublicSwitch\n                      bindInput={this.bindInput}\n                      disabled={this.state.isLoading}\n                      isEdit={this.state.isEdit}\n                      value={this.state.is_public}\n                    />\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allow vote changes\")}\n                        for=\"id_allow_revotes\"\n                      >\n                        <YesNoSwitch\n                          id=\"id_allow_revotes\"\n                          disabled={this.state.isLoading}\n                          iconOn=\"check\"\n                          iconOff=\"close\"\n                          labelOn={gettext(\n                            \"Allow participants to change their vote\"\n                          )}\n                          labelOff={gettext(\n                            \"Don't allow participants to change their vote\"\n                          )}\n                          onChange={this.bindInput(\"allow_revotes\")}\n                          value={this.state.allow_revotes}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n                </fieldset>\n              </div>\n              <div className=\"panel-footer text-right\">\n                <button\n                  className=\"btn btn-default\"\n                  disabled={this.state.isLoading}\n                  onClick={this.onCancel}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>{\" \"}\n                <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                  {this.state.isEdit\n                    ? gettext(\"Save changes\")\n                    : gettext(\"Post poll\")}\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={gettext(\"Make voting public\")}\n        helpText={gettext(\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={gettext(\"Votes are public\")}\n          labelOff={gettext(\"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll }\nexport { PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function(props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(gettext(\"Posted by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll)\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name)\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name)\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow())\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll)\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow())\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = ngettext(\"%(votes)s vote.\", \"%(votes)s votes.\", props.votes)\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return <li className=\"poll-info-public\">{gettext(\"Votes are public.\")}</li>\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map(choice => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = ngettext(\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {gettext(\"Your choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function(props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: []\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      data => {\n        const hydratedData = data.map(choice => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map(voter => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on)\n              })\n            })\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData\n        })\n      },\n      rejection => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Poll votes\")}</h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map(choice => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = ngettext(\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map(user => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function(props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit controls={controls} poll={poll} thread={thread} />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {gettext(\"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      submit: this.props.poll.api.index,\n\n      thread: this.props.thread,\n      poll: this.props.poll,\n\n      mode: \"POLL\"\n    })\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_edit) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 2)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Edit\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      gettext(\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = newThreadAcl => {\n    snackbar.success(\"Poll has been deleted\")\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = rejection => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function(props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {gettext(\"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = ngettext(\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {gettext(\"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return <li className=\"poll-help-no-revotes\">{gettext(\"Votes are final.\")}</li>\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices)\n    }\n  }\n\n  toggleChoice = hash => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices)\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map(choice => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map(choice => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(gettext(\"You need to select at least one choice\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(gettext(\"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {gettext(\"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {gettext(\"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map(choice => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={gettext(\"Revert post to state from before this edit.\")}\n        >\n          {gettext(\"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      data => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data)\n        })\n      },\n      rejection => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  revertEdit = edit => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      data => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(gettext(\"Post has been reverted to previous state.\"))\n        modal.hide()\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Post edits history\")}</h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={gettext(\"Revert post to state from before this edit.\")}\n      >\n        {gettext(\"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(edited_by)s %(edited_on)s.\")),\n    {\n      edited_by: user,\n      edited_on: date\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on)\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map(post => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nexport default function(props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\")\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide post={post} poster={user} />\n          <Header post={post} />\n          <Body post={post} />\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">{gettext(\"See post\")}</span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function({ post, poster }) {\n  if (poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function() {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"post-side post-side-anonymous\">\n              <div className=\"media\">\n                <div className=\"media-left\">\n                  <span>\n                    <Avatar className=\"poster-avatar\" size={50} />\n                  </span>\n                </div>\n                <div className=\"media-body\">\n                  <div className=\"media-heading\">\n                    <span className=\"item-title\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                  <span className=\"user-title user-title-anonymous\">\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div className=\"post-heading\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 200) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </div>\n            <div className=\"post-body\">\n              <article className=\"misago-markup\">\n                <p>\n                  <span\n                    className=\"ui-preview-text\"\n                    style={{ width: random.int(30, 200) + \"px\" }}\n                  >\n                    &nbsp;\n                  </span>\n                  &nbsp;\n                  <span\n                    className=\"ui-preview-text\"\n                    style={{ width: random.int(30, 200) + \"px\" }}\n                  >\n                    &nbsp;\n                  </span>\n                  &nbsp;\n                  <span\n                    className=\"ui-preview-text\"\n                    style={{ width: random.int(30, 200) + \"px\" }}\n                  >\n                    &nbsp;\n                  </span>\n                </p>\n              </article>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: []\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      data => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike)\n        })\n      },\n      rejection => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={gettext(\"No users have liked this post.\")} />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on)\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = gettext(\"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = ngettext(\"%(likes)s like\", \"%(likes)s likes\", likesCount)\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map(like => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators()\n      },\n      errors: {}\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = data => {\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect\n    })\n  }\n\n  loadError = rejection => {\n    this.setState({\n      isErrored: rejection.detail\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(gettext(\"Are you sure you want to discard changes?\"))\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false\n    })\n  }\n\n  onPostChange = event => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = attachments => {\n    this.setState({\n      attachments\n    })\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Reply has been edited.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <Container className=\"posting-form\">\n          <form onSubmit={this.handleSubmit} method=\"POST\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <Editor\n                  attachments={this.state.attachments}\n                  canProtect={this.state.canProtect}\n                  loading={this.state.isLoading}\n                  onAttachmentsChange={this.onAttachmentsChange}\n                  onCancel={this.onCancel}\n                  onChange={this.onPostChange}\n                  onProtect={this.onProtect}\n                  onUnprotect={this.onUnprotect}\n                  protect={this.state.protect}\n                  submitLabel={gettext(\"Edit reply\")}\n                  value={this.state.post}\n                />\n              </div>\n            </div>\n          </form>\n        </Container>\n      )\n    } else if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    } else {\n      return <Loader />\n    }\n  }\n}\n","import React from \"react\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function(props) {\n  if (props.mode === \"START\") {\n    return <Start {...props} />\n  } else if (props.mode === \"START_PRIVATE\") {\n    return <StartPrivate {...props} />\n  } else if (props.mode === \"REPLY\") {\n    return <Reply {...props} />\n  } else if (props.mode === \"EDIT\") {\n    return <Edit {...props} />\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators()\n      },\n      errors: {}\n    }\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = data => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : \"\"\n    })\n  }\n\n  loadError = rejection => {\n    this.setState({\n      isErrored: rejection.detail\n    })\n  }\n\n  appendData = data => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post + \"\\n\\n\" + newPost\n        }\n      }\n\n      return {\n        post: newPost\n      }\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onPostChange = event => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = attachments => {\n    this.setState({\n      attachments\n    })\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments)\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your reply has been posted.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <Container className=\"posting-form\">\n          <form onSubmit={this.handleSubmit} method=\"POST\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <Editor\n                  attachments={this.state.attachments}\n                  loading={this.state.isLoading}\n                  onAttachmentsChange={this.onAttachmentsChange}\n                  onCancel={this.onCancel}\n                  onChange={this.onPostChange}\n                  submitLabel={gettext(\"Post reply\")}\n                  value={this.state.post}\n                />\n              </div>\n            </div>\n          </form>\n        </Container>\n      )\n    } else if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    } else {\n      return <Loader />\n    }\n  }\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map(user => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators()\n      },\n      errors: {}\n    }\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard private thread?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onToChange = event => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = event => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = event => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = attachments => {\n    this.setState({\n      attachments\n    })\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(gettext(\"You have to enter at least one recipient.\"))\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments)\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onToChange}\n                placeholder={gettext(\n                  \"Comma separated list of user names, eg.: Danny, Lisa\"\n                )}\n                type=\"text\"\n                value={this.state.to}\n              />\n            </div>\n          </div>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <Editor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import React from \"react\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport Options from \"./utils/options\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      showOptions: false,\n      categoryOptions: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators()\n      },\n      errors: {}\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = data => {\n    let category = null\n    let showOptions = false\n    let categoryOptions = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map(item => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        categoryOptions = item.post\n      }\n\n      if (item.post && (item.post.close || item.post.hide || item.post.pin)) {\n        showOptions = true\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      showOptions,\n\n      categories,\n      category,\n      categoryOptions\n    })\n  }\n\n  loadError = rejection => {\n    this.setState({\n      isErrored: rejection.detail\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(gettext(\"Are you sure you want to discard thread?\"))\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onTitleChange = event => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = event => {\n    const category = this.state.categories.find(item => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin\n    })\n  }\n\n  onPostChange = event => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = attachments => {\n    this.setState({\n      attachments\n    })\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    }\n\n    if (!this.state.isReady) {\n      return <Loader />\n    }\n\n    let columns = 0\n    if (this.state.categoryOptions.close) columns += 1\n    if (this.state.categoryOptions.hide) columns += 1\n    if (this.state.categoryOptions.pin) columns += 1\n\n    let titleStyle = null\n\n    if (columns === 1) {\n      titleStyle = \"col-sm-6\"\n    } else {\n      titleStyle = \"col-sm-8\"\n    }\n\n    if (columns === 3) {\n      titleStyle += \" col-md-6\"\n    } else if (columns) {\n      titleStyle += \" col-md-7\"\n    } else {\n      titleStyle += \" col-md-9\"\n    }\n\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className={titleStyle}>\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top\">\n              <CategorySelect\n                choices={this.state.categories}\n                disabled={this.state.isLoading}\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n              />\n            </div>\n            <Options\n              close={this.state.close}\n              columns={columns}\n              disabled={this.state.isLoading}\n              hide={this.state.hide}\n              onClose={this.onClose}\n              onHide={this.onHide}\n              onOpen={this.onOpen}\n              onPinGlobally={this.onPinGlobally}\n              onPinLocally={this.onPinLocally}\n              onUnhide={this.onUnhide}\n              onUnpin={this.onUnpin}\n              options={this.state.categoryOptions}\n              pin={this.state.pin}\n              showOptions={this.state.showOptions}\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <Editor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  const completedAttachments = attachments.filter(attachment => {\n    return attachment.id && !attachment.isRemoved\n  })\n\n  return completedAttachments.map(a => {\n    return a.id\n  })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map(attachment => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on)\n    })\n  })\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className={props.className}>\n      <div className=\"container\">{props.children}</div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport Loader from \"misago/components/loader\"\n\nexport default function(props) {\n  return (\n    <Container className=\"posting-loader\">\n      <Loader />\n    </Container>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport posting from \"misago/services/posting\"\n\nexport default function(props) {\n  return (\n    <Container className=\"posting-message\">\n      <div className=\"message-body\">\n        <p>\n          <span className=\"material-icon\">error_outline</span>\n          {props.message}\n        </p>\n        <button\n          type=\"button\"\n          className=\"btn btn-default\"\n          onClick={posting.close}\n        >\n          {gettext(\"Dismiss\")}\n        </button>\n      </div>\n    </Container>\n  )\n}\n","import React from \"react\"\n\nexport default function(props) {\n  if (!props.showOptions) return null\n\n  const { columns } = props\n\n  let className = \"col-xs-12 xs-margin-top\"\n\n  if (columns === 1) {\n    className += \" col-sm-2\"\n  } else {\n    className += \" sm-margin-top\"\n  }\n\n  if (columns === 3) {\n    className += \" col-md-3\"\n  } else {\n    className += \" col-md-2\"\n  }\n  className += \" posting-options\"\n\n  const columnClassName = \"col-xs-\" + 12 / columns\n\n  let textClassName = \"btn-text\"\n  if (columns === 3) {\n    textClassName += \" visible-sm-inline-block\"\n  } else if (columns === 2) {\n    textClassName += \" hidden-md hidden-lg\"\n  } else {\n    textClassName += \" hidden-sm\"\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"row\">\n        <PinOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          onPinGlobally={props.onPinGlobally}\n          onPinLocally={props.onPinLocally}\n          onUnpin={props.onUnpin}\n          pin={props.pin}\n          show={props.options.pin}\n          textClassName={textClassName}\n        />\n        <HideOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          hide={props.hide}\n          onHide={props.onHide}\n          onUnhide={props.onUnhide}\n          show={props.options.hide}\n          textClassName={textClassName}\n        />\n        <CloseOptions\n          className={columnClassName}\n          close={props.close}\n          disabled={props.disabled}\n          onClose={props.onClose}\n          onOpen={props.onOpen}\n          show={props.options.close}\n          textClassName={textClassName}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport function CloseOptions(props) {\n  if (!props.show) return null\n\n  const label = props.close ? gettext(\"Closed\") : gettext(\"Open\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.close ? props.onOpen : props.onClose}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.close ? \"lock\" : \"lock_outline\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function HideOptions(props) {\n  if (!props.show) return null\n\n  const label = props.hide ? gettext(\"Hidden\") : gettext(\"Not hidden\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.hide ? props.onUnhide : props.onHide}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.hide ? \"visibility_off\" : \"visibility\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function PinOptions(props) {\n  if (!props.show) return null\n\n  let icon = null\n  let onClick = null\n  let label = null\n\n  switch (props.pin) {\n    case 0:\n      icon = \"radio_button_unchecked\"\n      onClick = props.onPinLocally\n      label = gettext(\"Unpinned\")\n      break\n\n    case 1:\n      icon = \"bookmark_outline\"\n      onClick = props.onPinGlobally\n      label = gettext(\"Pinned locally\")\n\n      if (props.show == 2) {\n        onClick = props.onPinGlobally\n      } else {\n        onClick = props.onUnpin\n      }\n\n      break\n\n    case 2:\n      icon = \"bookmark\"\n      onClick = props.onUnpin\n      label = gettext(\"Pinned globally\")\n      break\n  }\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={onClick}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">{icon}</span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n","export default function(usernames) {\n  const normalisedNames = usernames.split(\",\").map(i => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter(i => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function(props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url\n        })\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      patch => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      patch => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      gettext(\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(gettext(\"Event has been deleted.\"))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {gettext(\"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\"\n}\n\nexport default function(props) {\n  return (\n    <div className=\"post-avatar\">\n      <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function(props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"row\">\n        <div className=\"col-xs-2 col-sm-3 text-right\">\n          <Icon {...props} />\n        </div>\n        <div className=\"col-xs-10 col-sm-9 text-left\">\n          <Waypoint post={props.post}>\n            <Message {...props} />\n            <Info {...props} />\n          </Waypoint>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function(props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name)\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name)\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow())\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(gettext(\"Hidden by %(event_by)s %(event_on)s.\")),\n      {\n        event_by: user,\n        event_on: date\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: gettext(\"Thread has been pinned globally.\"),\n  pinned_locally: gettext(\"Thread has been pinned locally.\"),\n  unpinned: gettext(\"Thread has been unpinned.\"),\n\n  approved: gettext(\"Thread has been approved.\"),\n\n  opened: gettext(\"Thread has been opened.\"),\n  closed: gettext(\"Thread has been closed.\"),\n\n  unhid: gettext(\"Thread has been revealed.\"),\n  hid: gettext(\"Thread has been made hidden.\"),\n\n  tookover: gettext(\"Took thread over.\"),\n\n  owner_left: gettext(\"Owner has left thread. This thread is now closed.\"),\n  participant_left: gettext(\"Participant has left thread.\")\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function(props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread title has been changed from %(old_title)s.\")\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title)\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name)\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    gettext(\"The %(merged_thread)s thread has been merged into this thread.\")\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread)\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(gettext(\"Changed thread owner to %(user)s.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username)\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Added %(user)s to thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username)\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Removed %(user)s from thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username)\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left\">\n        <div className=\"event-label\">\n          <span className=\"label label-unread\">{gettext(\"New event\")}</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function(props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map(post => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function(props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function(props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map(row => {\n        const key = row\n          .map(a => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map(attachment => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function(props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <Waypoint className=\"post-body\" post={props.post}>\n      <MisagoMarkup markup={props.post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Hidden by %(hidden_by)s %(hidden_on)s.\")),\n    {\n      hidden_by: user,\n      hidden_on: date\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post is hidden. You cannot see its contents.\")}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url\n      })\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter(user => {\n        return !user.id || user.id !== props.user.id\n      })\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    newState => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    rejection => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(gettext(\"Post has been deleted.\"))\n    },\n    rejection => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true }\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true }\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    newState => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    rejection => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function(props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(gettext(\"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {gettext(\"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {gettext(\"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {gettext(\"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function(props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id]\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = event => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move post to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move post\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function(props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: []\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      data => {\n        // hydrate categories, extract posting options\n        const categories = data.map(item => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories\n        })\n      },\n      rejection => {\n        this.setState({\n          isError: rejection.detail\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\")\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\")\n      }\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\")\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\")\n      }\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach(category => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate()\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id]\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection)\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = ev => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\")\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\")\n      }\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\")\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move this post at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      gettext(\"Marked as best answer by you %(marked_on)s.\"),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow()\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      gettext(\"Marked as best answer by %(marked_by)s %(marked_on)s.\"),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow()\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {gettext(\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {gettext(\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>{gettext(\"This post is protected. Only moderators may change it.\")}</p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function(props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {gettext(\"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked ? gettext(\"Liked\") : gettext(\"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map(u => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      gettext(\"%(user)s likes this.\"),\n      {\n        user: usernames[0]\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    gettext(\"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      gettext(\"%(users)s like this.\"),\n      {\n        users: usernamesList\n      },\n      true\n    )\n  }\n\n  const message = ngettext(\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id\n      }\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-primary btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport modal from \"misago/services/modal\"\n\nexport default function(props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">{gettext(\"New post\")}</span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {gettext(\"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: props.post.posted_on.format(\"LL, LT\")\n    },\n    true\n  )\n\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on hidden-xs\"\n      title={tooltip}\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow(true)}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits\n      },\n      true\n    )\n\n    const label = ngettext(\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = ngettext(\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={gettext(\"This post is protected and may not be edited.\")}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {gettext(\"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function(props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <PostSide {...props} />\n            <div className=\"col-xs-12 col-md-9\">\n              <Header {...props} />\n              <FlagBestAnswer {...props} />\n              <FlagUnapproved {...props} />\n              <FlagProtected {...props} />\n              <FlagHidden {...props} />\n              <Body {...props} />\n              <Attachments {...props} />\n              <Footer {...props} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, {\n  StatusIcon,\n  StatusLabel\n} from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserTitle from \"./user-title\"\n\nexport default function({ post, thread }) {\n  return (\n    <div className=\"col-xs-12 col-md-3 post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function(props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"col-xs-12 col-md-3 post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function({ poster }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", poster.posts)\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function(props) {\n  return (\n    <li className=\"post\">\n      <div className=\"post-border\">\n        <div className=\"post-avatar\">\n          <Avatar size=\"100\" />\n        </div>\n        <div className=\"post-body\">\n          <div className=\"panel panel-default panel-post\">\n            <div className=\"panel-heading post-heading\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 100) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 100) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </div>\n            <div className=\"panel-body\">\n              <article className=\"misago-markup\">\n                <p\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(50, 100) + \"%\" }}\n                >\n                  &nbsp;\n                </p>\n                <p\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(50, 100) + \"%\" }}\n                >\n                  &nbsp;\n                </p>\n                <p\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(50, 100) + \"%\" }}\n                >\n                  &nbsp;\n                </p>\n              </article>\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right hidden-xs\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  /*\n  Super naive and de-facto placeholder implementation for reading posts on scroll\n  */\n  componentDidMount() {\n    if (this.props.post.is_read) return // don't register read tracker\n\n    $(this.documentNode).waypoint({\n      handler: direction => {\n        if (direction !== \"down\" || this.props.post.is_read) return\n\n        // after 1500ms run flag post as read logic\n        window.setTimeout(() => {\n          // check if post's bottom edge is still in viewport\n          const boundingClientRect = this.documentNode.getBoundingClientRect()\n          const offsetBottom =\n            boundingClientRect.height + boundingClientRect.top\n          const clientHeight = document.documentElement.clientHeight\n\n          if (offsetBottom < 5) return // scrolled past the post\n          if (offsetBottom > clientHeight) return // scrolled back up\n\n          // mark post as read\n          store.dispatch(\n            post.patch(this.props.post, {\n              is_read: true\n            })\n          )\n\n          // call API to let it know we have unread post\n          ajax.post(this.props.post.api.read).then(\n            data => {\n              store.dispatch(\n                thread.update(this.props.thread, {\n                  is_read: data.thread_is_read\n                })\n              )\n            },\n            rejection => {\n              snackbar.apiError(rejection)\n            }\n          )\n        }, 1000)\n      },\n      offset: \"bottom-in-view\"\n    })\n  }\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={node => {\n          this.documentNode = node\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error\n    })\n  }\n\n  update = ban => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban\n    })\n  }\n\n  error = error => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Ban details\"),\n      parent: this.props.profile.username\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{gettext(\"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{gettext(\"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\")\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow()\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{gettext(\"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={gettext(\"No ban is active at the moment.\")}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Ban details\")}</h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = gettext(\"You are not sharing any details with others.\")\n  } else {\n    message = interpolate(\n      gettext(\"%(username)s is not sharing any details with others.\"),\n      {\n        username: profile.username\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function(props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function({ onEdit, showEditButton }) {\n  return (\n    <div>\n      <nav className=\"toolbar\">\n        <div className=\"row\">\n          <div className=\"col-sm-8 col-md-10\">\n            <h3 className=\"md-margin-top-no\">{gettext(\"Details\")}</h3>\n          </div>\n          <EditButton onEdit={onEdit} showEditButton={showEditButton} />\n        </div>\n      </nav>\n    </div>\n  )\n}\n\nexport function EditButton({ onEdit, showEditButton }) {\n  if (!showEditButton) return null\n\n  return (\n    <div className=\"col-sm-4 col-md-2\">\n      <button\n        className=\"btn btn-default btn-outline btn-block\"\n        onClick={onEdit}\n        type=\"button\"\n      >\n        {gettext(\"Edit\")}\n      </button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Details\"),\n      parent: this.props.profile.username\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = newDetails => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = gettext(\"Your details have been updated.\")\n    } else {\n      message = interpolate(\n        gettext(\"%(username)s's details have been updated.\"),\n        {\n          username: profile.username\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have no started threads.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s started no threads.\"),\n      {\n        username: props.profile.username\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0\n      })\n      .then(\n        data => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false\n          })\n        },\n        rejection => {\n          this.setState({\n            isLoading: false\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <nav className=\"toolbar\">\n          <h3 className=\"toolbar-left\">{this.props.header}</h3>\n        </nav>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (!props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {gettext(\"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return gettext(\"Following\")\n    } else {\n      return gettext(\"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      data => {\n        this.setState({\n          isLoading: false\n        })\n\n        store.dispatch(patch(data))\n      },\n      rejection => {\n        this.setState({\n          isLoading: false\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = gettext(\"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        data => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages\n          })\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = ev => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You have no followers.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show more (%(more)s)\"),\n            {\n              more: this.state.more\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <nav className=\"toolbar\">\n          <h3 className=\"toolbar-left\">{this.getLabel()}</h3>\n\n          <Search\n            className=\"toolbar-right\"\n            value={this.state.search}\n            onChange={this.search}\n            placeholder={gettext(\"Search users...\")}\n          />\n        </nav>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = gettext(\"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You are not following any users.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport DropdownToggle from \"misago/components/dropdown-toggle\"\nimport FollowButton from \"./follow-button\"\nimport MessageButton from \"./message-button\"\nimport ModerationNav from \"./moderation/nav\"\nimport { CompactNav } from \"./navs\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\n\nexport default class extends React.Component {\n  getUserStatus() {\n    return (\n      <li className=\"user-status-display\">\n        <Status user={this.props.profile} status={this.props.profile.status}>\n          <StatusIcon\n            user={this.props.profile}\n            status={this.props.profile.status}\n          />\n          <StatusLabel\n            user={this.props.profile}\n            status={this.props.profile.status}\n            className=\"status-label\"\n          />\n        </Status>\n      </li>\n    )\n  }\n\n  getUserRank() {\n    if (this.props.profile.rank.is_tab) {\n      return (\n        <li className=\"user-rank\">\n          <a href={this.props.profile.rank.url} className=\"item-title\">\n            {this.props.profile.rank.name}\n          </a>\n        </li>\n      )\n    } else {\n      return (\n        <li className=\"user-rank\">\n          <span className=\"item-title\">{this.props.profile.rank.name}</span>\n        </li>\n      )\n    }\n  }\n\n  getUserTitle() {\n    if (this.props.profile.title) {\n      return <li className=\"user-title\">{this.props.profile.title}</li>\n    } else if (this.props.profile.rank.title) {\n      return <li className=\"user-title\">{this.props.profile.rank.title}</li>\n    } else {\n      return null\n    }\n  }\n\n  getJoinedOn() {\n    let title = interpolate(\n      gettext(\"Joined on %(joined_on)s\"),\n      {\n        joined_on: this.props.profile.joined_on.format(\"LL, LT\")\n      },\n      true\n    )\n\n    let age = interpolate(\n      gettext(\"Joined %(joined_on)s\"),\n      {\n        joined_on: this.props.profile.joined_on.fromNow()\n      },\n      true\n    )\n\n    return (\n      <li className=\"user-joined-on\">\n        <abbr title={title}>{age}</abbr>\n      </li>\n    )\n  }\n\n  getEmail() {\n    if (this.props.profile.email) {\n      return (\n        <li className=\"user-email\">\n          <a href={\"mailto:\" + this.props.profile.email} className=\"item-title\">\n            {this.props.profile.email}\n          </a>\n        </li>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFollowButton() {\n    if (this.props.profile.acl.can_follow) {\n      return (\n        <FollowButton\n          className=\"btn btn-block btn-outline\"\n          profile={this.props.profile}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n\n  getModerationButton() {\n    if (this.props.profile.acl.can_moderate) {\n      return (\n        <div className=\"btn-group btn-group-justified\">\n          <div className=\"btn-group\">\n            <button\n              className=\"btn btn-default btn-moderate btn-outline dropdown-toggle\"\n              type=\"button\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <span className=\"material-icon\">tonality</span>\n              {gettext(\"Moderation\")}\n            </button>\n            <ModerationNav profile={this.props.profile} />\n          </div>\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    const canFollow = this.props.profile.acl.can_follow\n    const canModerate = this.props.profile.acl.can_moderate\n\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n    const canMessage =\n      !isProfileOwner && this.props.user.acl.can_start_private_threads\n\n    let cols = 0\n    if (canFollow) cols += 1\n    if (canModerate) cols += 1\n    if (canMessage) cols += 1\n\n    const colsWidth = cols ? 2 * cols + 1 : 0\n\n    let headerClassName = \"page-header\"\n    if (this.props.profile.rank.css_class) {\n      headerClassName +=\n        \" page-header-rank-\" + this.props.profile.rank.css_class\n    }\n\n    return (\n      <div className=\"page-header-bg\">\n        <div className={headerClassName}>\n          <div className=\"container\">\n            <IsDisabledMessage\n              isActive={this.props.profile.is_active}\n              isDeletingAccount={this.props.profile.is_deleting_account}\n            />\n\n            <div className=\"row\">\n              <div className=\"col-md-9 col-md-offset-3\">\n                <div className=\"row\">\n                  <div className={\"col-sm-\" + (12 - colsWidth)}>\n                    <Avatar\n                      className=\"user-avatar user-avatar-sm\"\n                      user={this.props.profile}\n                      size=\"100\"\n                      size2x=\"200\"\n                    />\n                    <h1>{this.props.profile.username}</h1>\n                  </div>\n                  {!!cols && (\n                    <div className={\"col-sm-\" + colsWidth}>\n                      <div className=\"row xs-margin-top sm-margin-top\">\n                        {!!canMessage && (\n                          <div className={getColStyle(cols, 0)}>\n                            <MessageButton\n                              className=\"btn btn-default btn-block btn-outline\"\n                              profile={this.props.profile}\n                              user={this.props.user}\n                            />\n                          </div>\n                        )}\n                        {!!canFollow && (\n                          <div className={getColStyle(cols, 1)}>\n                            {this.getFollowButton()}\n                          </div>\n                        )}\n                        {!!canModerate && (\n                          <div className={getColStyle(cols, 2)}>\n                            {this.getModerationButton()}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"header-stats\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-md-9 col-md-offset-3\">\n                  <ul className=\"list-inline\">\n                    {this.getUserStatus()}\n                    {this.getUserRank()}\n                    {this.getUserTitle()}\n                    {this.getJoinedOn()}\n                    {this.getEmail()}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <CompactNav\n            baseUrl={this.props.baseUrl}\n            pages={this.props.pages}\n            profile={this.props.profile}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function IsDisabledMessage({ isActive, isDeletingAccount }) {\n  if (isActive !== false && isDeletingAccount !== true) return null\n\n  let message = null\n  if (isDeletingAccount) {\n    message = gettext(\"This user is deleting their account.\")\n  } else {\n    message = gettext(\"This user's account has been disabled by administrator.\")\n  }\n\n  return (\n    <div className=\"alert alert-danger\">\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function getColStyle(cols, col) {\n  let colStyle = \"\"\n\n  if (cols == 1) {\n    colStyle = \"col-xs-12\"\n  }\n\n  if (cols == 2) {\n    colStyle = \"col-xs-6 col-sm-6\"\n  }\n\n  if (cols == 3) {\n    if (col == 2) {\n      colStyle = \"col-xs-12 col-sm-4 xs-margin-top\"\n    } else {\n      colStyle += \"col-xs-6 col-sm-4\"\n    }\n  }\n\n  return colStyle\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile]\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {gettext(\"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\"\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      options => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\"\n        })\n      },\n      rejection => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(gettext(\"Avatar controls have been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Lock avatar\")}\n            helpText={gettext(\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={gettext(\"Disallow user from changing avatar\")}\n              labelOff={gettext(\"Allow user to change avatar\")}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"User message\")}\n            helpText={gettext(\n              \"Optional message for user explaining why he/she is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"Staff message\")}\n            helpText={gettext(\n              \"Optional message for forum team members explaining why user is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Avatar controls\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()]\n      }\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true\n        })\n      },\n      rejection => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\"\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(gettext(\"Username has been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New username\")} for=\"id_username\">\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change username\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true\n        })\n\n        this.countdown()\n      },\n      rejection => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username\n          },\n          true\n        )\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username\n          },\n          true\n        )\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        gettext(\"Delete %(username)s\"),\n        {\n          username: this.props.profile.username\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"User content\")} for=\"id_with_content\">\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={gettext(\"Delete together with user's account\")}\n              labelOff={gettext(\"Hide after deleting user's account\")}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {gettext(\"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Delete user account\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function(store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  getAvatarButton() {\n    if (this.props.profile.acl.can_moderate_avatar) {\n      return (\n        <li>\n          <button\n            type=\"button\"\n            className=\"btn btn-link\"\n            onClick={this.showAvatarDialog}\n          >\n            <span className=\"material-icon\">portrait</span>\n            {gettext(\"Avatar controls\")}\n          </button>\n        </li>\n      )\n    } else {\n      return null\n    }\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  getRenameButton() {\n    if (this.props.profile.acl.can_rename) {\n      return (\n        <li>\n          <button\n            type=\"button\"\n            className=\"btn btn-link\"\n            onClick={this.showRenameDialog}\n          >\n            <span className=\"material-icon\">credit_card</span>\n            {gettext(\"Change username\")}\n          </button>\n        </li>\n      )\n    } else {\n      return null\n    }\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  getDeleteButton() {\n    if (this.props.profile.acl.can_delete) {\n      return (\n        <li>\n          <button\n            type=\"button\"\n            className=\"btn btn-link\"\n            onClick={this.showDeleteDialog}\n          >\n            <span className=\"material-icon\">clear</span>\n            {gettext(\"Delete account\")}\n          </button>\n        </li>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <ul\n        className=\"dropdown-menu dropdown-menu-right stick-to-bottom\"\n        role=\"menu\"\n      >\n        {this.getAvatarButton()}\n        {this.getRenameButton()}\n        {this.getDeleteButton()}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\nimport FollowButton from \"misago/components/profile/follow-button\"\nimport misago from \"misago/index\"\n\nexport class SideNav extends React.Component {\n  render() {\n    return (\n      <div className=\"list-group nav-side\">\n        {this.props.pages.map(page => {\n          return (\n            <Link\n              to={this.props.baseUrl + page.component + \"/\"}\n              className=\"list-group-item\"\n              activeClassName=\"active\"\n              key={page.component}\n            >\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport function CompactNav(props) {\n  return (\n    <div className=\"page-tabs hidden-md hidden-lg\">\n      <div className=\"container\">\n        <ul className=\"nav nav-pills\" role=\"menu\">\n          {props.pages.map(page => {\n            return (\n              <Li\n                path={props.baseUrl + page.component + \"/\"}\n                key={page.component}\n              >\n                <Link\n                  to={props.baseUrl + page.component + \"/\"}\n                  onClick={props.hideNav}\n                >\n                  <span className=\"material-icon\">{page.icon}</span>\n                  {page.name}\n                </Link>\n              </Li>\n            )\n          })}\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport Header from \"./header\"\nimport ModerationNav from \"./moderation/nav\"\nimport { SideNav, CompactNav } from \"./navs\"\nimport Avatar from \"misago/components/avatar\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update\n    })\n  }\n\n  update = data => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n\n    return (\n      <div className=\"page page-user-profile\">\n        <Header\n          baseUrl={baseUrl}\n          pages={pages}\n          profile={this.props.profile}\n          toggleNav={this.toggleNav}\n          toggleModeration={this.toggleModeration}\n          user={this.props.user}\n        />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-3 hidden-xs hidden-sm\">\n              <div className=\"profile-side-avatar\">\n                <Avatar user={this.props.profile} size=\"400\" />\n              </div>\n\n              <SideNav\n                baseUrl={baseUrl}\n                pages={pages}\n                profile={this.props.profile}\n              />\n            </div>\n            <div className=\"col-md-9\">{this.props.children}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"]\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function(item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component])\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1\n        },\n        \"search-username-history\"\n      )\n      .then(\n        data => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages\n          })\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Username history\"),\n      parent: this.props.profile.username\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = ev => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"No name changes have been recorded for your account.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's username was never changed.\"),\n        {\n          username: this.props.profile.username\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show older (%(more)s)\"),\n            {\n              more: this.state.more\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <nav className=\"toolbar\">\n          <h3 className=\"toolbar-left\">{this.getLabel()}</h3>\n\n          <Search\n            className=\"toolbar-right\"\n            value={this.state.search}\n            onChange={this.search}\n            placeholder={gettext(\"Search history...\")}\n          />\n        </nav>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={this.props.placeholder || gettext(\"Search...\")}\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\nimport RegisterForm from \"misago/components/register.js\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null\n    }\n  }\n\n  showRegisterForm = () => {\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(gettext(\"New registrations are currently disabled.\"))\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\"))\n      ]).then(\n        result => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1]\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            gettext(\"Registration is currently unavailable due to an error.\")\n          )\n        }\n      )\n    }\n  }\n\n  getClassName() {\n    return this.props.className + (this.state.isLoading ? \" btn-loading\" : \"\")\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn \" + this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {gettext(\"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach(item => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length)\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator()\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {}\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate()\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection)\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = event => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = event => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Register\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={gettext(\"Join with %(site)s\")}\n                formLabel={gettext(\"Or create forum account:\")}\n              />\n\n              <FormGroup\n                label={gettext(\"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Registration complete\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false\n    }\n  }\n\n  completeRegistration = apiResponse => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()]\n      }\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Activation link was sent to %(email)s\"),\n      {\n        email: this.props.user.email\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false\n    }\n  }\n\n  complete = apiResponse => {\n    this.setState({\n      complete: apiResponse\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()]\n      }\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Reset password link was sent to %(email)s\"),\n      {\n        email: this.props.user.email\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {gettext(\"Activate your account.\")}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{gettext(\"Your account is inactive.\")}</p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false\n    }\n  }\n\n  complete = apiResponse => {\n    this.setState({\n      complete: apiResponse\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\"\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={gettext(\"Enter new password\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"%(username)s, your password has been changed successfully.\"),\n      {\n        username: this.props.user.username\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {gettext(\n                  \"You will have to sign in using new password before continuing.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = apiResponse => {\n    auth.softSignOut()\n\n    // nuke \"redirect_to\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"redirect_to\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      query: props.search.query\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = event => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(gettext(\"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true\n      })\n    )\n\n    return ajax.get(misago.get(\"SEARCH_API\"), {\n      q: this.state.query.trim()\n    })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers\n      })\n    )\n\n    providers.forEach(provider => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false\n      })\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"page-header-bg\">\n        <div className=\"page-header page-search-form\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-md-3\">\n                  <h1>{gettext(\"Search\")}</h1>\n                </div>\n                <div className=\"col-xs-12 col-md-9\">\n                  <div className=\"row xs-margin-top sm-margin-top\">\n                    <div className=\"col-xs-12 col-sm-8 col-md-9\">\n                      <div className=\"form-group\">\n                        <input\n                          className=\"form-control\"\n                          disabled={\n                            this.props.search.isLoading || this.state.isLoading\n                          }\n                          onChange={this.onQueryChange}\n                          type=\"text\"\n                          value={this.state.query}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-xs-12 col-sm-4 col-md-3\">\n                      <button\n                        className=\"btn btn-primary btn-block btn-outline\"\n                        disabled={\n                          this.props.search.isLoading || this.state.isLoading\n                        }\n                      >\n                        {gettext(\"Search\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users\n  }\n}\n\nexport default function(providers) {\n  return providers.map(provider => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider\n    }\n  })\n}\n","import React from \"react\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function(props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach(p => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = gettext(\"Search took %(time)s s to complete\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function(props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map(provider => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function(props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate query={props.search.query} posts={props.posts}>\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate(props) {\n  if (props.posts && props.posts.count) return props.children\n\n  if (props.query.length) {\n    return (\n      <p className=\"lead\">\n        {gettext(\"No threads matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search threads.\")}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function(props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next\n      })\n      .then(\n        providers => {\n          providers.forEach(provider => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false\n            })\n          )\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function(props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate query={props.search.query} users={props.users}>\n        <UsersList cols={3} isReady={true} users={props.users} />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate(props) {\n  if (props.users.length) return props.children\n\n  if (props.query.length) {\n    return (\n      <p className=\"lead\">\n        {gettext(\"No users matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search users.\")}\n    </p>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map(item => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = value => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value\n        }\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: []\n      }\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(gettext(\"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"redirect_to\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {gettext(\"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Sign in\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={gettext(\"Sign in with %(site)s\")}\n                formLabel={gettext(\"Or use your forum account:\")}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={gettext(\"Username or e-mail\")}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={gettext(\"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {gettext(\"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\"\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport Header from \"./header\"\nimport misago from \"misago\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = gettext(\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = gettext(\n      \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = gettext(\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-sauth-register\">\n      <Header backendName={backend_name} />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {gettext(\"Registration completed!\")}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {gettext(\"Return to forum index\")}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = gettext(\"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <div className=\"page-header-bg\">\n      <div className=\"page-header\">\n        <div className=\"container\">\n          <h1>{pageTitle}</h1>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\"\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()]\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      snackbar.error(gettext(\"You need to accept the privacy policy.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = event => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = event => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = gettext(\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-sauth-register\">\n        <Header backendName={backend_name} />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {gettext(\"Complete your details\")}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={gettext(\"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={gettext(\"E-mail address\")}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {gettext(\"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadPagination = ({ baseUrl, posts }) => (\n  <div className=\"misago-pagination\">\n    {posts.isLoaded && posts.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to first page\")}\n        role=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.previous + \"/\"}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to previous page\")}\n        role=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.next + \"/\"}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to next page\")}\n        role=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to last page\")}\n        role=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default ThreadPagination","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ThreadPollButton = ({ compact, onClick }) => (\n  <button\n    className={classnames(\n      \"btn btn-default btn-outline\",\n      {\"btn-block\": !compact, \"btn-icon\": compact}\n    )}\n    type=\"button\"\n    title={compact ? gettext(\"Add poll\") : null}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">poll</span>\n    {!compact && gettext(\"Add poll\")}\n  </button>\n)\n\nexport default ThreadPollButton","import React from \"react\"\n\nconst ThreadReplyButton = ({ onClick }) => (\n  <button\n    className=\"btn btn-primary btn-outline btn-block\"\n    type=\"button\"\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">chat</span>\n    {gettext(\"Reply\")}\n  </button>\n)\n\nexport default ThreadReplyButton","import React from \"react\"\n\nconst ThreadShortcutsButton = ({ user, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-icon\"\n      title={gettext(\"Shortcuts\")}\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">bookmark</span>\n    </button>\n    <ul className=\"dropdown-menu\">\n      {user.is_authenticated && thread.is_new && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\n            <span className=\"material-icon\">comment</span>\n            {gettext(\"Go to new post\")}\n          </a>\n        </li>\n      )}\n      {thread.best_answer && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\n            <span className=\"material-icon\">check_circle</span>\n            {gettext(\"Go to best answer\")}\n          </a>\n        </li>\n      )}\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\n            <span className=\"material-icon\">visibility</span>\n            {gettext(\"Go to unapproved post\")}\n          </a>\n        </li>\n      )}\n      <li>\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\n          <span className=\"material-icon\">reply</span>\n          {gettext(\"Go to last post\")}\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadShortcutsButton","import classnames from \"classnames\"\nimport React from \"react\"\nimport * as actions from \"../../reducers/thread\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst ThreadSubscriptionButton = ({ stickToBottom, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-block\"\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">\n        {getIcon(thread.subscription)}\n      </span>\n      {getLabel(thread.subscription)}\n    </button>\n    <ul\n      className={classnames(\"dropdown-menu dropdown-menu-right\", {\"stick-to-bottom\": stickToBottom})}\n    >\n      <li>\n        <button className=\"btn btn-link\" onClick={() => unsubscribe(thread)}>\n          <span className=\"material-icon\">star_border</span>\n          {gettext(\"Unsubscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => alert(thread)}>\n          <span className=\"material-icon\">star_half</span>\n          {gettext(\"Subscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => email(thread)}>\n          <span className=\"material-icon\">star</span>\n          {gettext(\"Subscribe with e-mail\")}\n        </button>\n      </li>\n    </ul>\n  </div>\n)\n\nfunction getIcon(subscription) {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n\n  return \"star_border\"\n}\n\nfunction getLabel(subscription) {\n  if (subscription === true) return gettext(\"E-mail\")\n  if (subscription === false) return gettext(\"Enabled\")\n\n  return gettext(\"Disabled\")\n}\n\nfunction alert(thread) {\n  if (thread.subscription !== false) {\n    update(thread, false, \"notify\")\n  }\n}\n\nfunction email(thread) {\n  if (thread.subscription !== true) {\n    update(thread, true, \"email\")\n  }\n}\n\nfunction unsubscribe(thread) {\n  if (thread.subscription !== null) {\n    update(thread, null, \"unsubscribe\")\n  }\n}\n\nfunction update(thread, newState, value) {\n  const oldState = {\n    subscription: thread.subscription\n  }\n\n  store.dispatch(\n    actions.update({\n      subscription: newState\n    })\n  )\n\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"subscription\", value: value }\n    ])\n    .then(\n      finalState => {\n        store.dispatch(actions.update(finalState))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(actions.update(oldState))\n      }\n    )\n}\n\nexport default ThreadSubscriptionButton","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadSubscriptionButton from \"./ThreadSubscriptionButton\"\n\nconst ThreadToolbarBottom = ({ thread, posts, user, onReply }) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n      <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n        [MOD]\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadSubscriptionButton thread={thread} />\n        </ToolbarItem>\n        {thread.acl.can_reply && (\n          <ToolbarItem>\n            <ThreadReplyButton onClick={onReply} />\n          </ToolbarItem>\n        )}\n        <ToolbarItem className=\"hidden-xs\" shrink>\n          [MOD]\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarBottom","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadPollButton from \"./ThreadPollButton\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\nimport ThreadSubscriptionButton from \"./ThreadSubscriptionButton\"\n\nconst ThreadToolbarTop = ({ thread, posts, user, onPoll, onReply }) => (\n  <Toolbar>\n    <ToolbarSection className=\"hidden-xs\">\n      <ToolbarItem>\n        <ThreadShortcutsButton thread={thread} user={user} />\n      </ToolbarItem>\n      <ToolbarItem>\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadSubscriptionButton thread={thread} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_start_poll && !thread.poll && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadPollButton onClick={onPoll} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_reply ? (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        <ToolbarItem>\n          <ThreadReplyButton onClick={onReply} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n            <ThreadPollButton onClick={onPoll} compact />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    ) : (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem>\n            <ThreadPollButton onClick={onPoll} />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarTop","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <div className=\"page-breadcrumbs\">\n      <div className=\"container\">\n        <ol className=\"breadcrumb hidden-xs\">\n          {props.path.map(item => {\n            return <Breadcrumb key={item.id} node={item} />\n          })}\n        </ol>\n        <GoBack {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function Breadcrumb(props) {\n  return (\n    <li>\n      <a href={props.node.url.index}>{props.node.name}</a>\n    </li>\n  )\n}\n\nexport function GoBack(props) {\n  const lastItem = props.path[props.path.length - 1]\n\n  return (\n    <a href={lastItem.url.index} className=\"go-back-sm visible-xs-block\">\n      <span className=\"material-icon\">chevron_left</span>\n      {lastItem.name}\n    </a>\n  )\n}\n","import React from \"react\"\nimport Breadcrumbs from \"./breadcrumbs\"\nimport { isModerationVisible, ModerationControls } from \"../moderation/thread\"\nimport Stats from \"./stats\"\nimport Form from \"misago/components/form\"\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as thread from \"misago/reducers/thread\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isEditing: false,\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: getTitleValidators()\n      },\n      errors: {}\n    }\n  }\n\n  onChange = event => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onEdit = () => {\n    this.setState({\n      isEditing: true\n    })\n  }\n\n  onCancel = () => {\n    this.setState({\n      title: this.props.thread.title,\n\n      isEditing: false\n    })\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"title\", value: this.state.title }\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(thread.update(data))\n\n    this.setState({\n      isEditing: false\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const { thread, user } = this.props\n    const showModeration = !!user.id && isModerationVisible(thread)\n\n    if (this.state.isEditing) {\n      return (\n        <div className=\"page-header\">\n          <Breadcrumbs path={thread.path} />\n          <div className=\"container\">\n            <div className=\"row xs-margin-top title-edit-form\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"col-sm-6 col-md-6\">\n                  <input\n                    className=\"form-control\"\n                    type=\"text\"\n                    value={this.state.title}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"col-sm-6 col-md-4\">\n                  <div className=\"row xs-margin-top-half sm-margin-top-no md-margin-top-no\">\n                    <div className=\"col-xs-6\">\n                      <button\n                        className=\"btn btn-primary btn-block btn-outline\"\n                        disabled={this.state.isLoading}\n                        title={gettext(\"Change title\")}\n                      >\n                        {gettext(\"Save changes\")}\n                      </button>\n                    </div>\n                    <div className=\"col-xs-6\">\n                      <button\n                        className=\"btn btn-default btn-block btn-outline\"\n                        disabled={this.state.isLoading}\n                        onClick={this.onCancel}\n                        title={gettext(\"Cancel\")}\n                        type=\"button\"\n                      >\n                        {gettext(\"Cancel\")}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n          <Stats thread={thread} />\n        </div>\n      )\n    } else if (user.id && thread.acl.can_edit) {\n      return (\n        <div className=\"page-header\">\n          <Breadcrumbs path={thread.path} />\n          <div className=\"container\">\n            <div className=\"row\">\n              <div\n                className={\n                  showModeration ? \"col-sm-9 col-md-8\" : \"col-sm-10 col-md-10\"\n                }\n              >\n                <h1>{thread.title}</h1>\n              </div>\n              <div\n                className={\n                  showModeration ? \"col-sm-3 col-md-4\" : \"col-sm-3 col-md-2\"\n                }\n              >\n                <div className=\"row xs-margin-top md-margin-top-no\">\n                  <div className={showModeration ? \"col-xs-6\" : \"col-xs-12\"}>\n                    <button\n                      className=\"btn btn-default btn-block btn-outline\"\n                      onClick={this.onEdit}\n                      title={gettext(\"Edit title\")}\n                      type=\"button\"\n                    >\n                      <span className=\"material-icon\">edit</span>\n                      <span className=\"hidden-sm\">{gettext(\"Edit\")}</span>\n                    </button>\n                  </div>\n                  {showModeration && <Moderation {...this.props} />}\n                </div>\n              </div>\n            </div>\n          </div>\n          <Stats thread={thread} />\n        </div>\n      )\n    } else if (showModeration) {\n      return (\n        <div className=\"page-header\">\n          <Breadcrumbs path={thread.path} />\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-sm-9 col-md-10\">\n                <h1>{thread.title}</h1>\n              </div>\n              <div className=\"col-sm-3 col-md-2\">\n                <div className=\"row xs-margin-top md-margin-top-no\">\n                  <Moderation isSingle={true} {...this.props} />\n                </div>\n              </div>\n            </div>\n          </div>\n          <Stats thread={thread} />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"page-header\">\n        <Breadcrumbs path={thread.path} />\n        <div className=\"container\">\n          <h1>{thread.title}</h1>\n        </div>\n        <Stats thread={thread} />\n      </div>\n    )\n  }\n}\n\nexport function Moderation(props) {\n  return (\n    <div className={props.isSingle ? \"col-xs-12\" : \"col-xs-6\"}>\n      <div className=\"btn-group btn-group-justified\">\n        <div className=\"btn-group\">\n          <button\n            aria-expanded=\"false\"\n            aria-haspopup=\"true\"\n            className=\"btn btn-default btn-outline dropdown-toggle\"\n            data-toggle=\"dropdown\"\n            disabled={props.thread.isBusy}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">settings</span>\n            <span className={props.isSingle ? \"\" : \"hidden-sm\"}>\n              {gettext(\"Moderation\")}\n            </span>\n          </button>\n          <ModerationControls\n            posts={props.posts}\n            thread={props.thread}\n            user={props.user}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst LAST_POSTER_URL = '<a href=\"%(url)s\" class=\"poster-title\">%(user)s</a>'\nconst LAST_POSTER_SPAN = '<span class=\"poster-title\">%(user)s</span>'\nconst LAST_REPLY =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport function Weight(props) {\n  if (props.thread.weight == 2) {\n    return (\n      <li className=\"thread-pinned-globally\">\n        <span className=\"material-icon\">bookmark</span>\n        <span className=\"icon-legend\">{gettext(\"Pinned globally\")}</span>\n      </li>\n    )\n  } else if (props.thread.weight == 1) {\n    return (\n      <li className=\"thread-pinned-locally\">\n        <span className=\"material-icon\">bookmark_border</span>\n        <span className=\"icon-legend\">{gettext(\"Pinned locally\")}</span>\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Unapproved(props) {\n  if (props.thread.is_unapproved) {\n    return (\n      <li className=\"thread-unapproved\">\n        <span className=\"material-icon\">remove_circle</span>\n        <span className=\"icon-legend\">{gettext(\"Unapproved\")}</span>\n      </li>\n    )\n  } else if (props.thread.has_unapproved_posts) {\n    return (\n      <li className=\"thread-unapproved-posts\">\n        <span className=\"material-icon\">remove_circle_outline</span>\n        <span className=\"icon-legend\">{gettext(\"Unapproved posts\")}</span>\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function IsHidden(props) {\n  if (props.thread.is_hidden) {\n    return (\n      <li className=\"thread-hidden\">\n        <span className=\"material-icon\">visibility_off</span>\n        <span className=\"icon-legend\">{gettext(\"Hidden\")}</span>\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function IsClosed(props) {\n  if (props.thread.is_closed) {\n    return (\n      <li className=\"thread-closed\">\n        <span className=\"material-icon\">lock_outline</span>\n        <span className=\"icon-legend\">{gettext(\"Closed\")}</span>\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Replies(props) {\n  const message = ngettext(\n    \"%(replies)s reply\",\n    \"%(replies)s replies\",\n    props.thread.replies\n  )\n  const legend = interpolate(message, { replies: props.thread.replies }, true)\n\n  return (\n    <li className=\"thread-replies\">\n      <span className=\"material-icon\">forum</span>\n      <span className=\"icon-legend\">{legend}</span>\n    </li>\n  )\n}\n\nexport function LastReply(props) {\n  let user = null\n  if (props.thread.url.last_poster) {\n    user = interpolate(\n      LAST_POSTER_URL,\n      {\n        url: escapeHtml(props.thread.url.last_poster),\n        user: escapeHtml(props.thread.last_poster_name)\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      LAST_POSTER_SPAN,\n      {\n        user: escapeHtml(props.thread.last_poster_name)\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    LAST_REPLY,\n    {\n      absolute: escapeHtml(props.thread.last_post_on.format(\"LLL\")),\n      relative: escapeHtml(props.thread.last_post_on.fromNow())\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"last reply by %(user)s %(date)s\")),\n    {\n      date,\n      user\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"thread-last-reply\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport default function(props) {\n  return (\n    <div className=\"header-stats\">\n      <div className=\"container\">\n        <ul className=\"list-inline\">\n          <Weight thread={props.thread} />\n          <Unapproved thread={props.thread} />\n          <IsHidden thread={props.thread} />\n          <IsClosed thread={props.thread} />\n          <Replies thread={props.thread} />\n          <LastReply thread={props.thread} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map(post => {\n    return {\n      id: post.id,\n      is_unapproved: false\n    }\n  })\n\n  const previousState = selection.map(post => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map(post => {\n    return {\n      id: post.id,\n      is_protected: true\n    }\n  })\n\n  const previousState = selection.map(post => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map(post => {\n    return {\n      id: post.id,\n      is_protected: false\n    }\n  })\n\n  const previousState = selection.map(post => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map(post => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url\n      })\n    }\n  })\n\n  const previousState = selection.map(post => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map(post => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url\n      })\n    }\n  })\n\n  const previousState = selection.map(post => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach(item => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map(post => {\n      return post.id\n    })\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    data => {\n      data.forEach(item => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    rejection => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach(item => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach(item => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach(item => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach(item => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map(selection => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map(post => post.id)\n    })\n    .then(\n      data => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map(selection => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map(selection => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true\n      })\n    )\n  })\n\n  const ids = props.selection.map(post => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    rejection => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map(selection => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function(props) {\n  return (\n    <ul className=\"dropdown-menu\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find(post => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {gettext(\"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find(post => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Moderation\")}</h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {gettext(\"One or more posts could not be changed:\")}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map(post => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    gettext(\"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function(props) {\n  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {\n    return null\n  }\n\n  const selection = props.posts.results.filter(post => {\n    return post.isSelected\n  })\n\n  return (\n    <div className=\"dropup\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default dropdown-toggle btn-block btn-outline\"\n        data-toggle=\"dropdown\"\n        disabled={!selection.length}\n        type=\"button\"\n      >\n        {gettext(\"Posts options\")}\n      </button>\n      <Dropdown selection={selection} {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(thread, posts) {\n  if (thread.acl.can_merge_posts && posts.length > 1) {\n    // fast test: show moderation menu if we can merge posts\n    return true\n  }\n\n  // slow test: show moderation if any of posts has moderation options\n  let visible = false\n  posts.forEach(post => {\n    if (!post.is_event) {\n      const showModeration =\n        (post.acl.can_approve && post.is_unapproved) ||\n        post.acl.can_delete ||\n        (!post.is_hidden && post.acl.can_hide) ||\n        post.acl.can_move ||\n        post.acl.can_merge ||\n        post.acl.can_protect ||\n        (post.is_hidden && post.acl.can_unhide) ||\n        post.acl.can_unprotect\n\n      if (showModeration) {\n        visible = true\n      }\n    }\n  })\n  return visible\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map(post => post.id)\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach(selection => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = event => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move posts to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move posts\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function(props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: []\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      data => {\n        // hydrate categories, extract posting options\n        const categories = data.map(item => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories\n        })\n      },\n      rejection => {\n        this.setState({\n          isError: rejection.detail\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\")\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\")\n      }\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\")\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\")\n      }\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach(category => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate()\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map(post => post.id)\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach(selection => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection)\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = ev => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\")\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\")\n      }\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\")\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {gettext(\"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move selected posts at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {gettext(\"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split posts into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      data => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      rejection => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2\n        }\n      ],\n      gettext(\"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1\n        }\n      ],\n      gettext(\"Thread has been pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0\n        }\n      ],\n      gettext(\"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false\n        }\n      ],\n      gettext(\"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false\n        }\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true\n        }\n      ],\n      gettext(\"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false\n        }\n      ],\n      gettext(\"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true\n        }\n      ],\n      gettext(\"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (!window.confirm(gettext(\"Are you sure you want to delete this thread?\"))) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      data => {\n        snackbar.success(gettext(\"Thread has been deleted.\"))\n        window.location = this.props.thread.category.url.index\n      },\n      rejection => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  getPinGloballyButton() {\n    if (this.props.thread.weight === 2) return null\n    if (!this.props.thread.acl.can_pin_globally) return null\n\n    return (\n      <li>\n        <button\n          className=\"btn btn-link\"\n          onClick={this.pinGlobally}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">bookmark</span>\n          {gettext(\"Pin globally\")}\n        </button>\n      </li>\n    )\n  }\n\n  getPinLocallyButton() {\n    if (this.props.thread.weight === 1) return null\n    if (!this.props.thread.acl.can_pin) return null\n\n    return (\n      <li>\n        <button\n          className=\"btn btn-link\"\n          onClick={this.pinLocally}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">bookmark_border</span>\n          {gettext(\"Pin locally\")}\n        </button>\n      </li>\n    )\n  }\n\n  getUnpinButton() {\n    if (this.props.thread.weight === 0) return null\n    if (!this.props.thread.acl.can_pin) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n          <span className=\"material-icon\">panorama_fish_eye</span>\n          {gettext(\"Unpin\")}\n        </button>\n      </li>\n    )\n  }\n\n  getMoveButton() {\n    if (!this.props.thread.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n\n  getMergeButton() {\n    if (!this.props.thread.acl.can_merge) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n          <span className=\"material-icon\">call_merge</span>\n          {gettext(\"Merge\")}\n        </button>\n      </li>\n    )\n  }\n\n  getApproveButton() {\n    if (!this.props.thread.is_unapproved) return null\n    if (!this.props.thread.acl.can_approve) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.approve} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n\n  getOpenButton() {\n    if (!this.props.thread.is_closed) return null\n    if (!this.props.thread.acl.can_close) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Open\")}\n        </button>\n      </li>\n    )\n  }\n\n  getCloseButton() {\n    if (this.props.thread.is_closed) return null\n    if (!this.props.thread.acl.can_close) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Close\")}\n        </button>\n      </li>\n    )\n  }\n\n  getUnhideButton() {\n    if (!this.props.thread.is_hidden) return null\n    if (!this.props.thread.acl.can_unhide) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.unhide} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n\n  getHideButton() {\n    if (this.props.thread.is_hidden) return null\n    if (!this.props.thread.acl.can_hide) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n\n  getDeleteButton() {\n    if (!this.props.thread.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.delete} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n\n  render() {\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {this.getPinGloballyButton()}\n        {this.getPinLocallyButton()}\n        {this.getUnpinButton()}\n        {this.getMoveButton()}\n        {this.getMergeButton()}\n        {this.getApproveButton()}\n        {this.getOpenButton()}\n        {this.getCloseButton()}\n        {this.getUnhideButton()}\n        {this.getHideButton()}\n        {this.getDeleteButton()}\n      </ul>\n    )\n  }\n}\n","import ModerationControls from \"./controls\"\nimport isModerationVisible from \"./is-visible\"\n\nexport { ModerationControls, isModerationVisible }\n","export default function(thread) {\n  return !!(\n    (thread.acl.can_approve && thread.is_unapproved) ||\n    thread.acl.can_close ||\n    thread.acl.can_delete ||\n    thread.acl.can_hide ||\n    thread.acl.can_move ||\n    thread.acl.can_merge ||\n    thread.acl.can_pin ||\n    (thread.acl.can_pin_globally && thread.weight !== 2) ||\n    (thread.acl.can_unhide && thread.is_hidden)\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: []\n      },\n      errors: {}\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url\n    })\n  }\n\n  handleSuccess = success => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true\n    })\n  }\n\n  handleSuccessUnmounted = success => {\n    snackbar.success(gettext(\"Thread has been merged with other one.\"))\n    window.location = success.url\n  }\n\n  handleError = rejection => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = event => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to merge with\")}\n                help_text={gettext(\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                loading={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Merge thread\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: []\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      data => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map(item => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories\n        })\n      },\n      rejection => {\n        this.setState({\n          isError: rejection.detail\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category }\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        data => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(gettext(\"Thread has been moved.\"))\n          modal.hide()\n        },\n        rejection => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = event => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup for=\"id_category\" label={gettext(\"New category\")}>\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  loading={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {gettext(\"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move thread\")}</h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\"You can't move this thread at the moment.\")}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function(props) {\n  return (\n    <nav className=\"misago-pagination pull-left\">\n      <Pager {...props} />\n      <More more={props.posts.more} />\n    </nav>\n  )\n}\n\nexport function Pager(props) {\n  return (\n    <div className=\"row row-paginator\">\n      <div className=\"col-xs-3\">\n        <FirstPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <PreviousPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <NextPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <LastPage {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function FirstPage(props) {\n  if (props.posts.isLoaded && props.posts.first) {\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-outline btn-icon\"\n        to={props.thread.url.index}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-outline btn-icon disabled\"\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </span>\n    )\n  }\n}\n\nexport function PreviousPage(props) {\n  if (props.posts.isLoaded && props.posts.page > 1) {\n    let previousUrl = \"\"\n    if (props.posts.previous) {\n      previousUrl = props.posts.previous + \"/\"\n    }\n\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-outline btn-icon\"\n        to={props.thread.url.index + previousUrl}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-outline btn-icon disabled\"\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </span>\n    )\n  }\n}\n\nexport function NextPage(props) {\n  if (props.posts.isLoaded && props.posts.more) {\n    let nextUrl = \"\"\n    if (props.posts.next) {\n      nextUrl = props.posts.next + \"/\"\n    }\n\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-outline btn-icon\"\n        to={props.thread.url.index + nextUrl}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-outline btn-icon disabled\"\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </span>\n    )\n  }\n}\n\nexport function LastPage(props) {\n  if (props.posts.isLoaded && props.posts.last) {\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-outline btn-icon\"\n        to={props.thread.url.index + props.posts.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-outline btn-icon disabled\"\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </span>\n    )\n  }\n}\n\nexport function More(props) {\n  let message = null\n  if (props.more) {\n    message = ngettext(\n      \"There is %(more)s more post in this thread.\",\n      \"There are %(more)s more posts in this thread.\",\n      props.more\n    )\n    message = interpolate(message, { more: props.more }, true)\n  } else {\n    message = gettext(\"There are no more posts in this thread.\")\n  }\n\n  return <p>{message}</p>\n}\n","import React from \"react\"\n\nexport default function(props) {\n  return (\n    <button\n      className={props.className || \"btn btn-primary btn-outline\"}\n      onClick={props.onClick}\n      type=\"button\"\n    >\n      <span className=\"material-icon\">chat</span>\n      {gettext(\"Reply\")}\n    </button>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route)\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route)\n    }\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport Header from \"./header\"\nimport ToolbarBottom from \"./toolbar-bottom\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1\n        },\n        \"posts\"\n      )\n      .then(\n        data => {\n          this.update(data)\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1\n    })\n  }\n\n  update = data => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    posting.open({\n      mode: \"POLL\",\n      submit: this.props.thread.api.poll,\n\n      thread: this.props.thread,\n      poll: null\n    })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index\n    })\n  }\n\n  render() {\n    let className = \"page page-thread\"\n    if (this.props.thread.category.css_class) {\n      className += \" page-thread-\" + this.props.thread.category.css_class\n    }\n\n    const postsModeration = getPostsModeration(this.props.posts, this.props.user)\n\n    return (\n      <div className={className}>\n        <div className=\"page-header-bg\">\n          <Header {...this.props} />\n        </div>\n        <div className=\"container\">\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            moderation={postsModeration}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          <Poll\n            poll={this.props.poll}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <PostsList {...this.props} />\n          <ThreadToolbarBottom \n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n          <ToolbarBottom openReplyForm={this.openReplyForm} {...this.props} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst getPostsModeration = ({ posts, user }) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach(post => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (moderation.approve || moderation.move || moderation.merge || moderation.protect || moderation.hide || moderation.delete) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}","import React from \"react\"\nimport * as actions from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function(props) {\n  if (!props.user.id) return null\n\n  return (\n    <div className={props.className}>\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default dropdown-toggle btn-block btn-outline\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {getIcon(props.thread.subscription)}\n        </span>\n        {getLabel(props.thread.subscription)}\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n\nexport function getIcon(subscription) {\n  if (subscription === true) {\n    return \"star\"\n  } else if (subscription === false) {\n    return \"star_half\"\n  } else {\n    return \"star_border\"\n  }\n}\n\nexport function getLabel(subscription) {\n  if (subscription === true) {\n    return gettext(\"E-mail\")\n  } else if (subscription === false) {\n    return gettext(\"Enabled\")\n  } else {\n    return gettext(\"Disabled\")\n  }\n}\n\nexport function Dropdown(props) {\n  return (\n    <ul className={props.dropdownClassName || \"dropdown-menu stick-to-bottom\"}>\n      <Disable {...props} />\n      <Enable {...props} />\n      <Email {...props} />\n    </ul>\n  )\n}\n\nexport class Disable extends React.Component {\n  onClick = () => {\n    if (this.props.thread.subscription === null) {\n      return\n    }\n\n    update(this.props.thread, null, \"unsubscribe\")\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">star_border</span>\n          {gettext(\"Unsubscribe\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Enable extends React.Component {\n  onClick = () => {\n    if (this.props.thread.subscription === false) {\n      return\n    }\n\n    update(this.props.thread, false, \"notify\")\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">star_half</span>\n          {gettext(\"Subscribe\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Email extends React.Component {\n  onClick = () => {\n    if (this.props.thread.subscription === true) {\n      return\n    }\n\n    update(this.props.thread, true, \"email\")\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">star</span>\n          {gettext(\"Subscribe with e-mail\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport function update(thread, newState, value) {\n  const oldState = {\n    subscription: thread.subscription\n  }\n\n  store.dispatch(\n    actions.update({\n      subscription: newState\n    })\n  )\n\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"subscription\", value: value }\n    ])\n    .then(\n      finalState => {\n        store.dispatch(actions.update(finalState))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(actions.update(oldState))\n      }\n    )\n}\n","import React from \"react\"\nimport { Pager, More } from \"./paginator\"\nimport PostsModeration from \"./moderation/posts\"\nimport ReplyButton from \"./reply-button\"\nimport SubscriptionSwitch from \"./subscription\"\n\nexport default function(props) {\n  return (\n    <div className=\"row row-toolbar\">\n      <div className=\"col-xs-12 text-center visible-xs-block\">\n        <More more={props.posts.more} />\n        <div className=\"toolbar-vertical-spacer\" />\n      </div>\n      <div className=\"col-md-7\">\n        <div className=\"row\">\n          <div className=\"col-sm-4 col-md-5\">\n            <Pager {...props} />\n          </div>\n          <div className=\"col-sm-8 col-md-7 hidden-xs\">\n            <More more={props.posts.more} />\n          </div>\n        </div>\n      </div>\n      <Options visible={!!props.user.id}>\n        <div className=\"toolbar-vertical-spacer hidden-md hidden-lg\" />\n        <div className=\"row\">\n          <Spacer {...props} />\n          <Moderation {...props} />\n          <Subscription {...props} />\n          <Reply thread={props.thread} onClick={props.openReplyForm} />\n        </div>\n      </Options>\n    </div>\n  )\n}\n\nexport function Options(props) {\n  if (!props.visible) return null\n\n  return <div className=\"col-md-5\">{props.children}</div>\n}\n\nexport function Moderation(props) {\n  if (!props.user.id) return null\n\n  return (\n    <div className=\"col-sm-4 hidden-xs\">\n      <PostsModeration {...props} />\n    </div>\n  )\n}\n\nexport function Subscription(props) {\n  let xsClass = \"col-xs-6\"\n  if (!props.thread.acl.can_reply) {\n    xsClass = \"col-xs-12\"\n  }\n\n  return (\n    <div className={xsClass + \" col-sm-4\"}>\n      <SubscriptionSwitch\n        btnClassName=\"btn-block\"\n        className=\"dropup\"\n        {...props}\n      />\n    </div>\n  )\n}\n\nexport function Reply(props) {\n  if (!props.thread.acl.can_reply) return null\n\n  return (\n    <div className=\"col-xs-6 col-sm-4\">\n      <ReplyButton\n        className=\"btn btn-primary btn-block btn-outline\"\n        onClick={props.onClick}\n      />\n    </div>\n  )\n}\n\nexport function Spacer(props) {\n  if (props.thread.acl.can_reply) return null\n\n  return <div className=\"hidden-xs hidden-sm col-sm-4\" />\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsCategoryPicker = ({ allItems, parentUrl, category, categories, list }) => (\n  <div className=\"dropdown threads-category-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block text-ellipsis\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {category && (\n        <span className=\"material-icon\" style={{ color: category.color || \"inherit\"}}>\n          label\n        </span>\n      )}\n      {category && category.short_name && (\n        <span className={category.short_name && \"hidden-md hidden-lg\"}>\n          {category.short_name}\n        </span>\n      )}\n      {category ? (\n        <span className={category.short_name && \"hidden-xs hidden-sm\"}>\n          {category.name}\n        </span>\n      ): allItems}\n    </button>\n    <ul className=\"dropdown-menu\">\n      <li>\n        <Link to={parentUrl + list.path}>\n          {allItems}\n        </Link>\n      </li>\n      <li role=\"separator\" className=\"divider\" />\n      {categories.map((choice) => (\n        <li key={choice.id}>\n          <Link to={choice.url.index + list.path}>\n            <span className=\"material-icon\" style={{ color: choice.color || \"inherit\"}}>\n              label\n            </span>\n            {choice.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsCategoryPicker","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsListPicker = ({ baseUrl, list, lists }) => (\n  <div className=\"dropdown threads-list-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {list.longName}\n    </button>\n    <ul className=\"dropdown-menu stick-to-bottom\">\n      {lists.map((choice) => (\n        <li key={choice.type}>\n          <Link to={baseUrl + choice.path}>\n            {choice.longName}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsListPicker","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport Button from \"../button\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadsCategoryPicker from \"./ThreadsCategoryPicker\"\nimport ThreadsListPicker from \"./ThreadsListPicker\"\nimport ThreadsToolbarModeration from \"./ThreadsToolbarModeration\"\n\nconst ThreadsToolbar = ({\n  api,\n  baseUrl,\n  category,\n  categories,\n  categoriesMap,\n  topCategory,\n  topCategories,\n  subCategory,\n  subCategories,\n  list,\n  lists,\n  threads,\n  addThreads,\n  startThread,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <Toolbar>\n    {topCategories.length > 0 && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadsCategoryPicker\n            allItems={gettext(\"All categories\")}\n            parentUrl={list.path}\n            category={topCategory}\n            categories={topCategories}\n            list={list}\n          />\n        </ToolbarItem>\n        {(topCategory && subCategories.length > 0) && (\n          <ToolbarItem>\n            <ThreadsCategoryPicker\n              allItems={gettext(\"All subcategories\")}\n              parentUrl={topCategory.url.index}\n              category={subCategory}\n              categories={subCategories}\n              list={list}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {lists.length > 1 && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadsListPicker\n            baseUrl={baseUrl}\n            list={list}\n            lists={lists}\n          />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    <ToolbarSpacer />\n    {!!user.id && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <Button\n            className=\"btn-primary btn-outline btn-block\"\n            disabled={disabled}\n            onClick={() => {\n              posting.open(\n                startThread || {\n                  mode: \"START\",\n          \n                  config: misago.get(\"THREAD_EDITOR_API\"),\n                  submit: misago.get(\"THREADS_API\"),\n          \n                  category: category.id\n                }\n              )\n            }}\n          >\n            <span className=\"material-icon\">chat</span>\n            {gettext(\"Start thread\")}\n          </Button>\n        </ToolbarItem>\n        {moderation.allow && (\n          <ToolbarItem shrink>\n            <ThreadsToolbarModeration\n              api={api}\n              categories={categories}\n              categoriesMap={categoriesMap}\n              threads={threads}\n              addThreads={addThreads}\n              freezeThread={freezeThread}\n              updateThread={updateThread}\n              deleteThread={deleteThread}\n              selection={selection}\n              moderation={moderation}\n              route={route}\n              user={user}\n              disabled={disabled}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadsToolbar","import React from \"react\"\nimport ModerationControls from \"./moderation/controls\"\n\nconst ThreadsToolbarModeration = ({\n  api,\n  categoriesMap,\n  categories,\n  threads,\n  addThreads,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <div className=\"dropdown threads-moderation\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Moderation\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={disabled}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ModerationControls\n      api={api}\n      categories={categories}\n      categoriesMap={categoriesMap}\n      threads={threads}\n      addThreads={addThreads}\n      freezeThread={freezeThread}\n      updateThread={updateThread}\n      deleteThread={deleteThread}\n      selection={selection}\n      moderation={moderation}\n      route={route}\n      user={user}\n      disabled={disabled}\n    />\n  </div>\n)\n\nexport default ThreadsToolbarModeration","export function compareLastPostAge(a, b) {\n  if (a.last_post > b.last_post) {\n    return -1\n  } else if (a.last_post < b.last_post) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nexport function compareGlobalWeight(a, b) {\n  if (a.weight === 2 && a.weight > b.weight) {\n    return -1\n  } else if (b.weight === 2 && a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n\nexport function compareWeight(a, b) {\n  if (a.weight > b.weight) {\n    return -1\n  } else if (a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport ThreadsToolbar from \"./ThreadsToolbar\"\n\nexport default class extends React.Component {\n  getCategoryDescription() {\n    if (this.props.pageLead) {\n      return (\n        <div className=\"category-description\">\n          <div className=\"page-lead lead\">\n            <p>{this.props.pageLead}</p>\n          </div>\n        </div>\n      )\n    } else if (this.props.route.category.description) {\n      return (\n        <div className=\"category-description\">\n          <PageLead copy={this.props.route.category.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getDisableToolbar() {\n    return (\n      !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length\n    )\n  }\n\n  render() {\n    const { root } = this.props\n    const { category, categories, categoriesMap } = this.props.route\n    const topCategory = getTopCategory(root, category, categoriesMap)\n\n    return (\n      <div className=\"container\">\n        {this.getCategoryDescription()}\n        <ThreadsToolbar\n          api={this.props.api}\n          baseUrl={category.url.index}\n          category={category}\n          categories={categories}\n          categoriesMap={categoriesMap}\n          topCategory={topCategory}\n          topCategories={categories.filter(cat => cat.parent === root.id)}\n          subCategories={!!topCategory ? categories.filter(\n            cat => cat.parent === topCategory.id\n          ) : []}\n          subCategory={category.level === 2 ? category : null}\n          subcategories={this.props.subcategories}\n          list={this.props.route.list}\n          lists={this.props.route.lists}\n          threads={this.props.threads}\n          addThreads={this.props.addThreads}\n          startThread={this.props.startThread}\n          freezeThread={this.props.freezeThread}\n          deleteThread={this.props.deleteThread}\n          updateThread={this.props.updateThread}\n          selection={this.props.selection}\n          moderation={this.props.moderation}\n          route={this.props.route}\n          user={this.props.user}\n          disabled={!this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length}\n        />\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nconst getTopCategory = (root, category, categoriesMap) => {\n  if (!category.parent) return null\n  if (category.parent === root.id) return category\n  return categoriesMap[category.parent]\n}","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default class extends React.Component {\n  hasGoBackButton() {\n    return !!this.props.route.category.parent\n  }\n\n  getGoBackButton() {\n    if (!this.props.route.category.parent) return null\n\n    const parent = this.props.categories[this.props.route.category.parent]\n\n    return (\n      <div className=\"hidden-xs col-sm-2 col-lg-1\">\n        <Link\n          className=\"btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline\"\n          to={parent.url.index + this.props.route.list.path}\n        >\n          <span className=\"material-icon\">keyboard_arrow_left</span>\n        </Link>\n      </div>\n    )\n  }\n\n  render() {\n    let headerClassName = \"col-xs-12\"\n    if (this.hasGoBackButton()) {\n      headerClassName += \" col-sm-10 col-lg-11 sm-align-row-buttons\"\n    }\n\n    return (\n      <div className=\"page-header-bg\">\n        <div className=\"page-header\">\n          <div className=\"container\">\n            <div className=\"row\">\n              {this.getGoBackButton()}\n              <div className={headerClassName}>\n                <ParentCategory\n                  categories={this.props.categories}\n                  category={this.props.route.category.parent}\n                />\n                <h1>{this.props.title}</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ParentCategory({ categories, category }) {\n  if (!category) return null\n\n  const parent = categories[category]\n\n  return (\n    <Link className=\"go-back-sm visible-xs-block\" to={parent.url.index}>\n      <span className=\"material-icon\">chevron_left</span>\n      {parent.parent ? parent.name : gettext(\"Threads\")}\n    </Link>\n  )\n}\n","import React from \"react\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeThreads from \"misago/components/threads/moderation/merge\"\nimport MoveThreads from \"misago/components/threads/moderation/move\"\nimport * as select from \"misago/reducers/selection\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage, onSuccess = null) => {\n    // freeze threads\n    this.props.threads.forEach(thread => {\n      this.props.freezeThread(thread.id)\n    })\n\n    // list ids\n    const ids = this.props.threads.map(thread => {\n      return thread.id\n    })\n\n    // always return current acl\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.api, { ids, ops }).then(\n      data => {\n        // unfreeze\n        this.props.threads.forEach(thread => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // update threads\n        data.forEach(thread => {\n          this.props.updateThread(thread)\n        })\n\n        // show success message and call callback\n        snackbar.success(successMessage)\n        if (onSuccess) {\n          onSuccess()\n        }\n      },\n      rejection => {\n        // unfreeze\n        this.props.threads.forEach(thread => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // escape on non-400 error\n        if (rejection.status !== 400) {\n          return snackbar.apiError(rejection)\n        }\n\n        // build errors list\n        let errors = []\n        let threadsMap = {}\n\n        this.props.threads.forEach(thread => {\n          threadsMap[thread.id] = thread\n        })\n\n        rejection.forEach(({ id, detail }) => {\n          if (typeof threadsMap[id] !== \"undefined\") {\n            errors.push({\n              errors: detail,\n              thread: threadsMap[id]\n            })\n          }\n        })\n\n        modal.show(<ErrorsModal errors={errors} />)\n      }\n    )\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2\n        }\n      ],\n      gettext(\"Selected threads were pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1\n        }\n      ],\n      gettext(\"Selected threads were pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0\n        }\n      ],\n      gettext(\"Selected threads were unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false\n        }\n      ],\n      gettext(\"Selected threads were approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false\n        }\n      ],\n      gettext(\"Selected threads were opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true\n        }\n      ],\n      gettext(\"Selected threads were closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false\n        }\n      ],\n      gettext(\"Selected threads were unhidden.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true\n        }\n      ],\n      gettext(\"Selected threads were hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveThreads\n        callApi={this.callApi}\n        categories={this.props.categories}\n        categoriesMap={this.props.categoriesMap}\n        route={this.props.route}\n        user={this.props.user}\n      />\n    )\n  }\n\n  merge = () => {\n    const errors = []\n    this.props.threads.forEach(thread => {\n      if (!thread.acl.can_merge) {\n        errors.append({\n          id: thread.id,\n          title: thread.title,\n          errors: [\n            gettext(\n              \"You don't have permission to merge this thread with others.\"\n            )\n          ]\n        })\n      }\n    })\n\n    if (this.props.threads.length < 2) {\n      snackbar.info(\n        gettext(\"You have to select at least two threads to merge.\")\n      )\n    } else if (errors.length) {\n      modal.show(<ErrorsModal errors={errors} />)\n      return\n    } else {\n      modal.show(<MergeThreads {...this.props} />)\n    }\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(gettext(\"Are you sure you want to delete selected threads?\"))\n    ) {\n      return\n    }\n\n    this.props.threads.map(thread => {\n      this.props.freezeThread(thread.id)\n    })\n\n    const ids = this.props.threads.map(thread => {\n      return thread.id\n    })\n\n    ajax.delete(this.props.api, ids).then(\n      () => {\n        this.props.threads.map(thread => {\n          this.props.freezeThread(thread.id)\n          this.props.deleteThread(thread)\n        })\n\n        snackbar.success(gettext(\"Selected threads were deleted.\"))\n      },\n      rejection => {\n        if (rejection.status === 400) {\n          const failedThreads = rejection.map(thread => {\n            return thread.id\n          })\n\n          this.props.threads.map(thread => {\n            this.props.freezeThread(thread.id)\n            if (failedThreads.indexOf(thread.id) === -1) {\n              this.props.deleteThread(thread)\n            }\n          })\n\n          modal.show(<ErrorsModal errors={rejection} />)\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { moderation, threads } = this.props\n    const noSelection = this.props.selection.length == 0\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            onClick={() => store.dispatch(select.all(threads.map(t => t.id)))}\n          >\n            <span className=\"material-icon\">check_box</span>\n            {gettext(\"Select all\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            disabled={noSelection}\n            onClick={() => store.dispatch(select.none())}\n          >\n            <span className=\"material-icon\">check_box_outline_blank</span>\n            {gettext(\"Select none\")}\n          </button>\n        </li>\n        <li role=\"separator\" className=\"divider\" />\n        {moderation.can_pin_globally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinGlobally}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin threads globally\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinLocally}\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin threads locally\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unpin}\n            >\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_move && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.move}\n            >\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_merge && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.merge}\n            >\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.approve}\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.open}\n            >\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.close}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unhide}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_hide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.hide}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide threads\")}\n            </button>\n          </li>\n        )}\n        {moderation.can_delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.delete}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete threads\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Threads moderation\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <p className=\"lead\">\n              {gettext(\"One or more threads could not be deleted:\")}\n            </p>\n\n            <ul className=\"list-unstyled list-errored-items\">\n              {this.props.errors.map(item => {\n                return (\n                  <ThreadErrors\n                    errors={item.errors}\n                    key={item.thread.id}\n                    thread={item.thread}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ThreadErrors({ errors, thread }) {\n  return (\n    <li>\n      <h5>{thread.title}</h5>\n      {errors.map((message, i) => {\n        return <p>{message}</p>\n      })}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Select from \"misago/components/select\"\nimport misago from \"misago/index\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport * as select from \"misago/reducers/selection\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()]\n      },\n\n      errors: {}\n    }\n\n    this.acl = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      this.acl[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach(category => {\n      if (category.level > 0) {\n        const acl = this.acl[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\")\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\")\n      }\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\")\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\")\n      }\n    ]\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate()\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"MERGE_THREADS_API\"), this.getFormdata())\n  }\n\n  getFormdata = () => {\n    return {\n      threads: this.props.threads.map(thread => thread.id),\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed\n    }\n  }\n\n  handleSuccess = apiResponse => {\n    // unfreeze and remove merged threads\n    this.props.threads.forEach(thread => {\n      this.props.freezeThread(thread.id)\n      this.props.deleteThread(thread)\n    })\n\n    // deselect all threads\n    store.dispatch(select.none())\n\n    // append merged thread, filter threads\n    this.props.addThreads([apiResponse])\n    store.dispatch(\n      filterThreads(this.props.route.category, this.props.categoriesMap)\n    )\n\n    // hide modal\n    modal.hide()\n  }\n\n  handleError = rejection => {\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={misago.get(\"MERGE_THREADS_API\")}\n            bestAnswers={rejection.best_answers}\n            data={this.getFormdata()}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccess}\n          />\n        )\n      } else {\n        this.setState({\n          errors: Object.assign({}, this.state.errors, rejection)\n        })\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else if (rejection.best_answer) {\n      snackbar.error(rejection.best_answer[0])\n    } else if (rejection.poll) {\n      snackbar.error(rejection.poll[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = ev => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\")\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\")\n      }\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\")\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup label={gettext(\"Thread weight\")} for=\"id_weight\">\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup label={gettext(\"Hide thread\")} for=\"id_is_hidden\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup label={gettext(\"Close thread\")} for=\"id_is_closed\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Thread title\")}\n            for=\"id_title\"\n            validation={this.state.errors.title}\n          >\n            <input\n              id=\"id_title\"\n              className=\"form-control\"\n              type=\"text\"\n              onChange={this.bindInput(\"title\")}\n              value={this.state.title}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          <FormGroup\n            label={gettext(\"Category\")}\n            for=\"id_category\"\n            validation={this.state.errors.category}\n          >\n            <CategorySelect\n              id=\"id_category\"\n              onChange={this.onCategoryChange}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          {this.renderWeightField()}\n          {this.renderHiddenField()}\n          {this.renderClosedField()}\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Merge threads\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMergeMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to merge threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMergeMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport * as select from \"misago/reducers/selection\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      category: null\n    }\n\n    const acls = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      acls[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach(category => {\n      if (category.level > 0) {\n        const acl = acls[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n  }\n\n  handleSubmit = event => {\n    // we don't reload page on submissions\n    event.preventDefault()\n\n    modal.hide()\n\n    const onSuccess = () => {\n      store.dispatch(\n        filterThreads(this.props.route.category, this.props.categoriesMap)\n      )\n\n      // deselect threads moved outside of visible scope\n      const storeState = store.getState()\n      const leftThreads = storeState.threads.map(thread => thread.id)\n      store.dispatch(\n        select.all(\n          storeState.selection.filter(thread => {\n            return leftThreads.indexOf(thread) !== -1\n          })\n        )\n      )\n    }\n\n    this.props.callApi(\n      [\n        { op: \"replace\", path: \"category\", value: this.state.category },\n        { op: \"replace\", path: \"flatten-categories\", value: null },\n        { op: \"add\", path: \"acl\", value: true }\n      ],\n      gettext(\"Selected threads were moved.\"),\n      onSuccess\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New category\")} for=\"id_new_category\">\n            <CategorySelect\n              id=\"id_new_category\"\n              onChange={this.bindInput(\"category\")}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <button className=\"btn btn-primary\">{gettext(\"Move threads\")}</button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMoveMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to move threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Move threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMoveMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/threads/route\"\nimport misago from \"misago/index\"\n\nexport function getSelect(options) {\n  return function(store) {\n    return {\n      options: options,\n      selection: store.selection,\n      threads: store.threads,\n      tick: store.tick.tick,\n      user: store.auth.user\n    }\n  }\n}\n\nexport function getLists(user) {\n  let lists = [\n    {\n      type: \"all\",\n      path: \"\",\n      name: gettext(\"All\"),\n      longName: gettext(\"All threads\")\n    }\n  ]\n\n  if (user.id) {\n    lists.push({\n      type: \"my\",\n      path: \"my/\",\n      name: gettext(\"My\"),\n      longName: gettext(\"My threads\")\n    })\n    lists.push({\n      type: \"new\",\n      path: \"new/\",\n      name: gettext(\"New\"),\n      longName: gettext(\"New threads\")\n    })\n    lists.push({\n      type: \"unread\",\n      path: \"unread/\",\n      name: gettext(\"Unread\"),\n      longName: gettext(\"Unread threads\")\n    })\n    lists.push({\n      type: \"subscribed\",\n      path: \"subscribed/\",\n      name: gettext(\"Subscribed\"),\n      longName: gettext(\"Subscribed threads\")\n    })\n\n    if (user.acl.can_see_unapproved_content_lists) {\n      lists.push({\n        type: \"unapproved\",\n        path: \"unapproved/\",\n        name: gettext(\"Unapproved\"),\n        longName: gettext(\"Unapproved content\")\n      })\n    }\n  }\n\n  return lists\n}\n\nexport function paths(user, mode) {\n  let lists = getLists(user)\n  let routes = []\n  let categoriesMap = {}\n\n  misago.get(\"CATEGORIES\").forEach(function(category) {\n    lists.forEach(function(list) {\n      categoriesMap[category.id] = category\n\n      routes.push({\n        path: category.url.index + list.path,\n        component: connect(getSelect(mode))(Route),\n\n        categories: misago.get(\"CATEGORIES\"),\n        categoriesMap,\n        category,\n\n        lists,\n        list\n      })\n    })\n  })\n\n  return routes\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport {\n  compareGlobalWeight,\n  compareWeight\n} from \"misago/components/threads/compare\"\nimport Container from \"misago/components/threads/container\"\nimport Header from \"misago/components/threads/header\"\nimport {\n  diffThreads,\n  getModerationActions,\n  getPageTitle,\n  getTitle\n} from \"misago/components/threads/utils\"\nimport ThreadsList from \"misago/components/ThreadsList\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport * as select from \"misago/reducers/selection\"\nimport { append, deleteThread, hydrate, patch } from \"misago/reducers/threads\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport * as sets from \"misago/utils/sets\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isMounted: true,\n\n      isLoaded: false,\n      isBusy: false,\n\n      diff: {\n        results: []\n      },\n\n      moderation: [],\n      busyThreads: [],\n\n      dropdown: false,\n      subcategories: [],\n      \n      next: 0,\n    }\n\n    let category = this.getCategory()\n\n    if (misago.has(\"THREADS\")) {\n      this.initWithPreloadedData(category, misago.get(\"THREADS\"))\n    } else {\n      this.initWithoutPreloadedData(category)\n    }\n  }\n\n  getCategory() {\n    if (!this.props.route.category.special_role) {\n      return this.props.route.category.id\n    } else {\n      return null\n    }\n  }\n\n  initWithPreloadedData(category, data) {\n    this.state = Object.assign(this.state, {\n      moderation: getModerationActions(data.results),\n      subcategories: data.subcategories,\n      next: data.next\n    })\n\n    this.startPolling(category)\n  }\n\n  initWithoutPreloadedData(category) {\n    this.loadThreads(category)\n  }\n\n  loadThreads(category, next = 0) {\n    ajax\n      .get(\n        this.props.options.api,\n        {\n          category: category,\n          list: this.props.route.list.type,\n          start: next || 0\n        },\n        \"threads\"\n      )\n      .then(\n        data => {\n          if (!this.state.isMounted) {\n            // user changed route before loading completion\n            return\n          }\n\n          if (next === 0) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results, this.getSorting()))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            moderation: getModerationActions(store.getState().threads),\n\n            subcategories: data.subcategories,\n\n            next: data.next,\n          })\n\n          this.startPolling(category)\n        },\n        rejection => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPolling(category) {\n    polls.start({\n      poll: \"threads\",\n      url: this.props.options.api,\n      data: {\n        category: category,\n        list: this.props.route.list.type\n      },\n      frequency: 120 * 1000,\n      update: this.pollResponse\n    })\n  }\n\n  componentDidMount() {\n    this.setPageTitle()\n\n    if (misago.has(\"THREADS\")) {\n      // unlike in other components, routes are root components for threads\n      // so we can't dispatch store action from constructor\n      store.dispatch(hydrate(misago.pop(\"THREADS\").results))\n\n      this.setState({\n        isLoaded: true\n      })\n    }\n\n    store.dispatch(select.none())\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false\n    polls.stop(\"threads\")\n  }\n\n  getTitle() {\n    if (this.props.options.title) {\n      return this.props.options.title\n    }\n\n    return getTitle(this.props.route)\n  }\n\n  setPageTitle() {\n    if (this.props.route.category.level || !misago.get(\"THREADS_ON_INDEX\")) {\n      title.set(getPageTitle(this.props.route))\n    } else if (this.props.options.title) {\n      title.set(this.props.options.title)\n    } else {\n      if (misago.get(\"SETTINGS\").index_title) {\n        document.title = misago.get(\"SETTINGS\").index_title\n      } else {\n        document.title = misago.get(\"SETTINGS\").forum_name\n      }\n    }\n  }\n\n  getSorting() {\n    if (this.props.route.category.level) {\n      return compareWeight\n    } else {\n      return compareGlobalWeight\n    }\n  }\n\n  // AJAX\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true\n    })\n\n    this.loadThreads(this.getCategory(), this.state.next)\n  }\n\n  pollResponse = data => {\n    this.setState({\n      diff: Object.assign({}, data, {\n        results: diffThreads(this.props.threads, data.results)\n      })\n    })\n  }\n\n  addThreads = threads => {\n    store.dispatch(append(threads, this.getSorting()))\n  }\n\n  applyDiff = () => {\n    this.addThreads(this.state.diff.results)\n\n    this.setState(\n      Object.assign({}, this.state.diff, {\n        moderation: getModerationActions(store.getState().threads),\n\n        diff: {\n          results: []\n        }\n      })\n    )\n  }\n\n  // Thread state utils\n\n  freezeThread = thread => {\n    this.setState(function(currentState) {\n      return {\n        busyThreads: sets.toggle(currentState.busyThreads, thread)\n      }\n    })\n  }\n\n  updateThread = thread => {\n    store.dispatch(patch(thread, thread, this.getSorting()))\n  }\n\n  deleteThread = thread => {\n    store.dispatch(deleteThread(thread))\n  }\n\n  getMoreButton() {\n    if (!this.state.next) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy || this.state.busyThreads.length}\n          onClick={this.loadMore}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n\n  getClassName() {\n    let className = \"page page-threads\"\n    className += \" page-threads-\" + this.props.route.list.type\n    if (isIndex(this.props)) {\n      className += \" page-threads-index\"\n    }\n    if (this.props.route.category.css_class) {\n      className += \" page-threads-\" + this.props.route.category.css_class\n    }\n    return className\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Header\n          categories={this.props.route.categoriesMap}\n          disabled={!this.state.isLoaded}\n          startThread={this.props.options.startThread}\n          threads={this.props.threads}\n          title={this.getTitle()}\n          toggleNav={this.toggleNav}\n          route={this.props.route}\n          user={this.props.user}\n        />\n        <Container\n          api={this.props.options.api}\n          root={this.props.route.categories[0]}\n          route={this.props.route}\n          user={this.props.user}\n          pageLead={this.props.options.pageLead}\n          threads={this.props.threads}\n          threadsCount={this.state.count}\n          moderation={this.state.moderation}\n          selection={this.props.selection}\n          busyThreads={this.state.busyThreads}\n          addThreads={this.addThreads}\n          startThread={this.props.options.startThread}\n          freezeThread={this.freezeThread}\n          deleteThread={this.deleteThread}\n          updateThread={this.updateThread}\n          isLoaded={this.state.isLoaded}\n          isBusy={this.state.isBusy}\n        >\n          <ThreadsList\n            category={this.props.route.category}\n            categories={this.props.route.categoriesMap}\n            list={this.props.route.list}\n            selection={this.props.selection}\n            threads={this.props.threads}\n            updatedThreads={this.state.diff.results.length}\n            applyUpdate={this.applyDiff}\n            showOptions={!!this.props.user.id}\n            isLoaded={this.state.isLoaded}\n            busyThreads={this.state.busyThreads}\n            emptyMessage={this.props.options.emptyMessage}\n          />\n          {this.getMoreButton()}\n        </Container>\n      </div>\n    )\n  }\n}\n\nfunction isIndex(props) {\n  if (props.route.category.level || !misago.get(\"THREADS_ON_INDEX\")) return false\n  if (props.options.title) return false\n\n  return true\n}","import misago from \"misago/index\"\n\nexport function getPageTitle(route) {\n  if (route.category.level) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: route.category.name\n      }\n    } else {\n      return {\n        title: route.category.name\n      }\n    }\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName\n      }\n    } else {\n      return null\n    }\n  } else {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: gettext(\"Threads\")\n      }\n    } else {\n      return {\n        title: gettext(\"Threads\")\n      }\n    }\n  }\n}\n\nexport function getTitle(route) {\n  if (route.category.level) {\n    return route.category.name\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (misago.get(\"SETTINGS\").index_header) {\n      return misago.get(\"SETTINGS\").index_header\n    } else {\n      return misago.get(\"SETTINGS\").forum_name\n    }\n  } else {\n    return gettext(\"Threads\")\n  }\n}\n\nexport function isThreadChanged(current, fromDb) {\n  return (\n    [\n      current.title === fromDb.title,\n      current.weight === fromDb.weight,\n      current.category === fromDb.category,\n      current.last_post === fromDb.last_post,\n      current.last_poster_name === fromDb.last_poster_name\n    ].indexOf(false) >= 0\n  )\n}\n\nexport function diffThreads(current, fromDb) {\n  let currentMap = {}\n  current.forEach(function(thread) {\n    currentMap[thread.id] = thread\n  })\n\n  return fromDb.filter(function(thread) {\n    if (currentMap[thread.id]) {\n      return isThreadChanged(currentMap[thread.id], thread)\n    } else {\n      return true\n    }\n  })\n}\n\nexport function getModerationActions(threads) {\n  let moderation = {\n    allow: false,\n\n    can_approve: 0,\n    can_close: 0,\n    can_delete: 0,\n    can_hide: 0,\n    can_merge: 0,\n    can_move: 0,\n    can_pin: 0,\n    can_pin_globally: 0,\n    can_unhide: 0\n  }\n\n  threads.forEach(function(thread) {\n    if (\n      thread.is_unapproved &&\n      thread.acl.can_approve > moderation.can_approve\n    ) {\n      moderation.can_approve = thread.acl.can_approve\n    }\n\n    if (thread.acl.can_close > moderation.can_close) {\n      moderation.can_close = thread.acl.can_close\n    }\n\n    if (thread.acl.can_delete > moderation.can_delete) {\n      moderation.can_delete = thread.acl.can_delete\n    }\n\n    if (thread.acl.can_hide > moderation.can_hide) {\n      moderation.can_hide = thread.acl.can_hide\n    }\n\n    if (thread.acl.can_merge > moderation.can_merge) {\n      moderation.can_merge = thread.acl.can_merge\n    }\n\n    if (thread.acl.can_move > moderation.can_move) {\n      moderation.can_move = thread.acl.can_move\n    }\n\n    if (thread.acl.can_pin > moderation.can_pin) {\n      moderation.can_pin = thread.acl.can_pin\n    }\n\n    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {\n      moderation.can_pin_globally = thread.acl.can_pin_globally\n    }\n\n    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {\n      moderation.can_unhide = thread.acl.can_unhide\n    }\n\n    moderation.allow =\n      moderation.can_approve ||\n      moderation.can_close ||\n      moderation.can_delete ||\n      moderation.can_hide ||\n      moderation.can_merge ||\n      moderation.can_move ||\n      moderation.can_pin ||\n      moderation.can_pin_globally ||\n      moderation.can_unhide\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport RegisterButton from \"misago/components/register-button\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class GuestMenu extends React.Component {\n  showSignInModal() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"guest-preview\">\n          <h4>{gettext(\"You are browsing as guest.\")}</h4>\n          <p>\n            {gettext(\n              \"Sign in or register to start and participate in discussions.\"\n            )}\n          </p>\n          <div className=\"row\">\n            <div className=\"col-xs-6\">\n              <button\n                className=\"btn btn-default btn-sign-in btn-block\"\n                onClick={this.showSignInModal}\n                type=\"button\"\n              >\n                {gettext(\"Sign in\")}\n              </button>\n            </div>\n            <div className=\"col-xs-6\">\n              <RegisterButton className=\"btn-primary btn-register btn-block\">\n                {gettext(\"Register\")}\n              </RegisterButton>\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport class GuestNav extends GuestMenu {\n  render() {\n    return (\n      <div className=\"nav nav-guest\">\n        <button\n          className=\"btn navbar-btn btn-default btn-sign-in\"\n          onClick={this.showSignInModal}\n          type=\"button\"\n        >\n          {gettext(\"Sign in\")}\n        </button>\n        <RegisterButton className=\"navbar-btn btn-primary btn-register\">\n          {gettext(\"Register\")}\n        </RegisterButton>\n        <div className=\"navbar-left\">\n          <NavbarSearch />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class CompactGuestNav extends React.Component {\n  showGuestMenu() {\n    dropdown.show(GuestMenu)\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showGuestMenu}>\n        <Avatar size=\"64\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { GuestNav, CompactGuestNav } from \"./guest-nav\"\nimport { UserNav, CompactUserNav } from \"./user-nav\"\n\nexport class UserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <UserNav user={this.props.user} />\n    } else {\n      return <GuestNav />\n    }\n  }\n}\n\nexport class CompactUserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <CompactUserNav user={this.props.user} />\n    } else {\n      return <CompactGuestNav />\n    }\n  }\n}\n\nexport function select(state) {\n  return state.auth\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport Avatar from \"misago/components/avatar\"\nimport ChangeAvatarModal, { select } from \"misago/components/change-avatar/root\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class UserMenu extends React.Component {\n  changeAvatar() {\n    modal.show(connect(select)(ChangeAvatarModal))\n  }\n\n  render() {\n    const { user } = this.props\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"dropdown-header\">\n          <strong>{user.username}</strong>\n          <div className=\"row user-stats\">\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">message</span>\n              {user.posts}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">forum</span>\n              {user.threads}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite</span>\n              {user.followers}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite_outline</span>\n              {user.following}\n            </div>\n          </div>\n        </li>\n        <li className=\"divider\" />\n        <li>\n          <a href={user.url}>\n            <span className=\"material-icon\">account_circle</span>\n            {gettext(\"See your profile\")}\n          </a>\n        </li>\n        <li>\n          <a href={misago.get(\"USERCP_URL\")}>\n            <span className=\"material-icon\">done_all</span>\n            {gettext(\"Change options\")}\n          </a>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {gettext(\"Change avatar\")}\n          </button>\n        </li>\n        {!!user.acl.can_use_private_threads && (\n          <li>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">message</span>\n              {gettext(\"Private threads\")}\n              <PrivateThreadsBadge user={user} />\n            </a>\n          </li>\n        )}\n        <li className=\"divider\" />\n        <li className=\"dropdown-buttons\">\n          <button\n            className=\"btn btn-default btn-block\"\n            onClick={() => document.getElementById(\"hidden-logout-form\").submit()}\n            type=\"button\"\n          >\n            {gettext(\"Log out\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport function PrivateThreadsBadge({ user }) {\n  if (!user.unread_private_threads) return null\n\n  return <span className=\"badge\">{user.unread_private_threads}</span>\n}\n\nexport function UserNav({ user }) {\n  return (\n    <ul className=\"ul nav navbar-nav nav-user\">\n      <li>\n        <NavbarSearch />\n      </li>\n      <UserPrivateThreadsLink user={user} />\n      <li className=\"dropdown\">\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"dropdown-toggle\"\n          data-toggle=\"dropdown\"\n          href={user.url}\n          role=\"button\"\n        >\n          <Avatar user={user} size=\"64\" />\n        </a>\n        <UserMenu user={user} />\n      </li>\n    </ul>\n  )\n}\n\nexport function UserPrivateThreadsLink({ user }) {\n  if (!user.acl.can_use_private_threads) return null\n\n  let title = null\n  if (user.unread_private_threads) {\n    title = gettext(\"You have unread private threads!\")\n  } else {\n    title = gettext(\"Private threads\")\n  }\n\n  return (\n    <li>\n      <a\n        className=\"navbar-icon\"\n        href={misago.get(\"PRIVATE_THREADS_URL\")}\n        title={title}\n      >\n        <span className=\"material-icon\">message</span>\n        {user.unread_private_threads > 0 && (\n          <span className=\"badge\">{user.unread_private_threads}</span>\n        )}\n      </a>\n    </li>\n  )\n}\n\nexport function selectUserMenu(state) {\n  return {\n    user: state.auth.user\n  }\n}\n\nexport class CompactUserNav extends React.Component {\n  showUserMenu() {\n    dropdown.showConnected(\"user-menu\", connect(selectUserMenu)(UserMenu))\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showUserMenu}>\n        <Avatar user={this.props.user} size=\"50\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return gettext(\"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return gettext(\"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return gettext(\"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return gettext(\"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return gettext(\"Online\")\n    } else if (this.props.status.is_offline) {\n      return gettext(\"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        gettext(\"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\")\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is banned\"),\n        {\n          username: user.username\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is hiding presence\"),\n      {\n        username: user.username\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is online (hidden)\"),\n      {\n        username: user.username\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s (hidden)\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow()\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      gettext(\"%(username)s is online\"),\n      {\n        username: user.username\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow()\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return gettext(\"No name changes have been recorded for your account.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map(i => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map(change => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    gettext(\"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\")\n    },\n    true\n  )\n\n  let message = interpolate(\n    gettext(\"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow()\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", user.posts)\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = ngettext(\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = ngettext(\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map(user => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map(i => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      gettext(\n        \"No users have posted any new messages during last %(days)s days.\"\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <div className=\"container\">\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <div className=\"container\">\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map(i => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = ngettext(\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <div className=\"container\">\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\"\n      },\n      frequency: 90 * 1000,\n      update: this.update\n    })\n  }\n\n  update = data => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: gettext(\"Users\")\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return <ListEmpty trackedPeriod={this.state.trackedPeriod} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\nimport misago from \"misago/index\"\n\nexport default function({ baseUrl, lists }) {\n  return (\n    <ul className=\"nav nav-pills\">\n      {lists.map(list => {\n        const url = listUrl(baseUrl, list)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{list.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  )\n}\n\nconst listUrl = function(baseUrl, list) {\n  let url = baseUrl\n  if (list.component === \"rank\") {\n    url += list.slug\n  } else {\n    url += list.component\n  }\n  return url + \"/\"\n}\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div>\n        <UsersList cols={4} isReady={false} />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Pager from \"misago/components/users/rank/pager\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function(props) {\n  return (\n    <div>\n      <UsersList\n        cols={4}\n        isReady={true}\n        showStatus={true}\n        users={props.users}\n      />\n      <Pager {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport resetScroll from \"misago/utils/reset-scroll\"\n\nexport default function(props) {\n  if (props.pages === 1) return null\n\n  return (\n    <div className=\"row row-toolbar\">\n      <div className=\"col-xs-12 text-center visible-xs-block\">\n        <More more={props.more} />\n        <div className=\"toolbar-vertical-spacer\" />\n      </div>\n      <div className=\"col-md-7\">\n        <div className=\"row\">\n          <div className=\"col-sm-4 col-md-5\">\n            <Pager {...props} />\n          </div>\n          <div className=\"col-sm-8 col-md-7 hidden-xs\">\n            <More more={props.more} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function Pager(props) {\n  return (\n    <div className=\"row row-paginator\">\n      <div className=\"col-xs-3\">\n        <FirstPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <PreviousPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <NextPage {...props} />\n      </div>\n      <div className=\"col-xs-3\">\n        <LastPage {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function FirstPage(props) {\n  if (props.isLoaded && props.first) {\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-icon btn-outline\"\n        onClick={resetScroll}\n        to={props.baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-icon btn-outline disabled\"\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </span>\n    )\n  }\n}\n\nexport function PreviousPage(props) {\n  if (props.isLoaded && props.page > 1) {\n    let previousUrl = \"\"\n    if (props.previous) {\n      previousUrl = props.previous + \"/\"\n    }\n\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-icon btn-outline\"\n        onClick={resetScroll}\n        to={props.baseUrl + previousUrl}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-icon btn-outline disabled\"\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </span>\n    )\n  }\n}\n\nexport function NextPage(props) {\n  if (props.isLoaded && props.more) {\n    let nextUrl = \"\"\n    if (props.next) {\n      nextUrl = props.next + \"/\"\n    }\n\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-icon btn-outline\"\n        onClick={resetScroll}\n        to={props.baseUrl + nextUrl}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-icon btn-outline disabled\"\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </span>\n    )\n  }\n}\n\nexport function LastPage(props) {\n  if (props.isLoaded && props.last) {\n    return (\n      <Link\n        className=\"btn btn-default btn-block btn-icon btn-outline\"\n        onClick={resetScroll}\n        to={props.baseUrl + props.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    )\n  } else {\n    return (\n      <span\n        className=\"btn btn-default btn-block btn-icon btn-outline disabled\"\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </span>\n    )\n  }\n}\n\nexport function More(props) {\n  let message = null\n  if (props.more) {\n    message = ngettext(\n      \"There is %(more)s more member with this role.\",\n      \"There are %(more)s more members with this role.\",\n      props.more\n    )\n    message = interpolate(message, { more: props.more }, true)\n  } else {\n    message = gettext(\"There are no more members with this role.\")\n  }\n\n  return <p>{message}</p>\n}\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport List from \"misago/components/users/rank/list\"\nimport ListLoading from \"misago/components/users/rank/list-loading\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page\n      },\n      frequency: 90 * 1000,\n      update: this.update\n    })\n  }\n\n  update = data => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: gettext(\"Users\")\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: gettext(\"Users\")\n      })\n\n      this.setState({\n        isLoaded: false\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        let baseUrl =\n          misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n        return (\n          <List baseUrl={baseUrl} users={this.props.users} {...this.state} />\n        )\n      } else {\n        return (\n          <p className=\"lead\">\n            {gettext(\"There are no users with this rank at the moment.\")}\n          </p>\n        )\n      }\n    } else {\n      return <ListLoading />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <div className=\"container\">\n          {this.getRankDescription()}\n          {this.getComponent()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport DropdownToggle from \"misago/components/dropdown-toggle\"\nimport Nav from \"misago/components/users/nav\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <div className=\"page-header-bg\">\n          <div className=\"page-header\">\n            <div className=\"container\">\n              <h1>{gettext(\"Users\")}</h1>\n            </div>\n            <div className=\"page-tabs\">\n              <div className=\"container\">\n                <Nav\n                  lists={misago.get(\"USERS_LISTS\")}\n                  baseUrl={misago.get(\"USERS_LIST_URL\")}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function(item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name\n        }\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || gettext(\"yes\")\n    } else {\n      return this.props.labelOff || gettext(\"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value\n      }\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      data => {\n        dispatch(load(data))\n      },\n      rejection => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import \"bootstrap/js/transition\";\nimport \"bootstrap/js/affix\";\nimport \"bootstrap/js/modal\";\nimport \"bootstrap/js/dropdown\";\nimport \"at-js\";\nimport \"cropit\";\nimport \"waypoints\";\nimport \"jquery-caret\";\nimport \"highlight\";\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach(initializer => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n}\n\n// create  singleton\nvar misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function() {\n      ajax.get(context.get(\"AUTH_API\")).then(\n        function(data) {\n          store.dispatch(patch(data))\n        },\n        function(rejection) {\n          snackbar.apiError(rejection)\n        }\n      )\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\"\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { connect } from \"react-redux\"\nimport Categories, { select } from \"misago/components/categories\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"categories-mount\")) {\n    mount(connect(select)(Categories), \"categories-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:categories\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import Options, { paths } from \"misago/components/options/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USER_OPTIONS\")) {\n    mount({\n      root: misago.get(\"USERCP_URL\"),\n      component: Options,\n      paths: paths()\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:options\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths()\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\"\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import paths from \"misago/components/search\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\"))\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\"\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths()\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { paths } from \"misago/components/threads/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nconst PRIVATE_THREADS_LIST = \"misago:private-threads\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREADS\") && context.has(\"CATEGORIES\")) {\n    mount({\n      paths: paths(context.get(\"user\"), getListOptions(context))\n    })\n  }\n}\n\nexport function getListOptions(context) {\n  const currentLink = context.get(\"CURRENT_LINK\")\n  if (\n    currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST\n  ) {\n    return {\n      api: context.get(\"PRIVATE_THREADS_API\"),\n      startThread: {\n        mode: \"START_PRIVATE\",\n        submit: misago.get(\"PRIVATE_THREADS_API\")\n      },\n      title: gettext(\"Private threads\"),\n      pageLead: gettext(\n        \"Private threads are threads which only those that started them and those they have invited may see and participate in.\"\n      ),\n      emptyMessage: gettext(\"You aren't participating in any private threads.\")\n    }\n  }\n\n  return {\n    api: context.get(\"THREADS_API\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:threads\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport {\n  UserMenu,\n  CompactUserMenu,\n  select\n} from \"misago/components/user-menu/root\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(UserMenu), \"user-menu-mount\")\n  mount(connect(select)(CompactUserMenu), \"user-menu-compact-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:user-menu\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths()\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-placeholder\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\")\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {\n      isBusy: false\n    }\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\"\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\"\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\"\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function() {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\"\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer\n})\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false\n}\n\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState)\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on)\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState)\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState)\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map(post => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map(post => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map(post => {\n        return Object.assign({}, post, {\n          isSelected: false\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map(post => {\n        return post.id\n      })\n\n      action.state.results.map(post => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map(post => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status)\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: []\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState\n    }\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map(provider => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        })\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState)\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\"\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function(perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    started_on: moment(thread.started_on),\n    last_post_on: moment(thread.last_post_on),\n    moderation: getThreadModerationOptions(thread.acl)\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function(item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function(item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function(item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on)\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function(item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function(item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status)\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function(item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function(resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken()\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function(data) {\n          resolve(data)\n        },\n\n        error: function(jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        }\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function() {\n            return\n          }\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function(resolve, reject) {\n          let wait = function(url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function() {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function(data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function(rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function() {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false\n        }\n\n        return new Promise(function(resolve, reject) {\n          self.request(\"GET\", url).then(\n            function(data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function(rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function(resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken()\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function() {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function(evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function(response) {\n          resolve(response)\n        },\n\n        error: function(jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = gettext(\n              \"Upload was rejected by server as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        }\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", newState => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function(resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function(data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function() {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"))\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: response => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response\n          }\n        })\n      }\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function(resolve) {\n      var wait = function() {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function() {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={gettext(\"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={gettext(\n          \"This test helps us prevent automated spam registrations on our site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\"\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", e => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function(watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = domnode => {\n    if (!domnode) return\n    this.highlightCode(domnode)\n    this.embedYoutubePlayers(domnode)\n  }\n\n  highlightCode(domnode) {\n    const codeblocks = domnode.querySelectorAll(\"pre>code\")\n    for (let i = 0; i < codeblocks.length; i++) {\n      const code = codeblocks[i]\n      hljs.highlightBlock(code)\n    }\n  }\n\n  embedYoutubePlayers(domnode) {\n    const anchors = domnode.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?rel=0\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" src=\"' +\n        url +\n        '\" allowfullscreen></iframe>'\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter(i => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        gettext(\"page: %(page)s\"),\n        {\n          page: title.page\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        data => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        rejection => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency)\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { PollForm } from \"misago/components/poll\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, placeholder) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._placeholder = $(placeholder)\n\n    this._mode = null\n\n    this._isOpen = false\n    this._isClosing = false\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      this._mode = props.mode\n      this._isOpen = props.submit\n      this._realOpen(props)\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n      if (this._mode == \"POLL\") {\n        message = gettext(\n          \"You are already working on a poll. Do you want to discard it?\"\n        )\n      }\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    if (props.mode == \"POLL\") {\n      mount(<PollForm {...props} />, \"posting-mount\")\n    } else {\n      mount(<PostingComponent {...props} />, \"posting-mount\")\n    }\n\n    this._placeholder.addClass(\"slide-in\")\n\n    $(\"html, body\").animate(\n      {\n        scrollTop: this._placeholder.offset().top\n      },\n      1000\n    )\n  }\n\n  close = () => {\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._placeholder.removeClass(\"slide-in\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(\n          document.getElementById(\"posting-mount\")\n        )\n        this._isClosing = false\n        this._isOpen = false\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert(message, type) {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info(message) {\n    this.alert(message, \"info\")\n  }\n\n  success(message) {\n    this.alert(message, \"success\")\n  }\n\n  warning(message) {\n    this.alert(message, \"warning\")\n  }\n\n  error(message) {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError(rejection) {\n    let message = rejection.detail\n\n    if (!message) {\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\")\n      } else {\n        message = gettext(\"Unknown error has occured.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = gettext(\"You don't have permission to perform this action.\")\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function(resolve, reject) {\n      var wait = function(tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function() {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function(resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function(state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function(ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title = gettext(\"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function(list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function(element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function(a, b) {\n  let ids = []\n  return a.concat(b).filter(function(item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\"\n}\n\nexport default function(text) {\n  return text.replace(/[&<>\"']/g, function(m) {\n    return map[m]\n  })\n}\n","export default function(bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","const URL_PATTERN = new RegExp(\n  \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n  \"i\"\n)\n\nexport default function(str) {\n  return URL_PATTERN.test($.trim(str))\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function(Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function(item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function(item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function(item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","export default function() {\n  window.scrollTo(0, 0)\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function(options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: []\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function(nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        }\n      }\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function(i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function(i) {\n      return i !== value\n    })\n  }\n}\n","export default function(string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z]+$\", \"i\")\n\nexport function required(message) {\n  return function(value) {\n    if (value === false || value === null || $.trim(value).length === 0) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = gettext(\"You have to accept the terms of service.\")\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = gettext(\"You have to accept the privacy policy.\")\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function(value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\")\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function(value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function(value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function(lengthMin) {\n    return ngettext(\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function(lengthMax) {\n    return ngettext(\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function(value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\n        \"Username can only contain latin alphabet letters and digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function(value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = ngettext(\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/ajax.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth-sync.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/captcha.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/accept-agreement.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/auth-message.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/banned-page.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/categories.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/options.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-activation-link.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-password-reset.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/reset-password-form.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/social-auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/user-menu.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/include.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/local-storage.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/modal.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/moment-locale.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/page-title.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/polls.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/posting.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/participants.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/poll.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/posts.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-details.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/selection.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/tick.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/username-history.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/store.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/tick-start.js\"); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/zxcvbn.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["e","n","window","self","undefined","exports","hljs","define","amd","replace","I","t","nodeName","toLowerCase","r","exec","index","i","k","test","a","o","className","parentNode","B","R","split","length","u","firstChild","nextSibling","nodeType","nodeValue","push","event","offset","node","match","c","value","l","w","map","call","attributes","join","s","f","g","substring","reverse","forEach","splice","pop","substr","source","RegExp","cI","compiled","bK","Number","E","lR","b","bR","eW","eR","tE","iR","v","starts","concat","filter","Boolean","endsParent","parent","N","hasOwnProperty","h","y","classPrefix","C","p","lastIndex","M","d","sL","x","L","top","language","cN","Object","create","m","skip","eB","rB","rE","eE","Error","j","O","T","message","indexOf","languages","second_best","tabReplace","useBR","trim","document","createElementNS","innerHTML","textContent","result","re","called","querySelectorAll","addEventListener","aliases","keys","highlight","highlightAuto","fixMarkup","highlightBlock","configure","initHighlighting","initHighlightingOnLoad","registerLanguage","listLanguages","getLanguage","inherit","IR","UIR","NR","CNR","BNR","RSR","BE","ASM","QSM","PWM","CLCM","CBCM","HCM","NM","CNM","BNM","CSSNM","RM","TM","UTM","METHOD_GUARD","name","keyword","built_in","literal","_","React","misago","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","props","errors","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","get","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","gettext","LegalAgreement","agreement","checked","url","onChange","agreementHtml","interpolate","label","__html","error","StartSocialAuth","buttonClassName","buttonLabel","formLabel","header","labelClassName","socialAuth","id","button_text","button_color","style","color","finalButtonLabel","site","FormHeader","text","ThreadsListEmpty","ThreadsListItem","ThreadsListLoader","ThreadsListUpdatePrompt","ThreadsList","list","categories","category","threads","busyThreads","selection","isLoaded","showOptions","updatedThreads","applyUpdate","emptyMessage","thread","type","special_role","ThreadsListItemActivity","ThreadsListItemCategory","ThreadsListItemCheckbox","ThreadsListItemFlags","ThreadsListItemIcon","ThreadsListItemLastPoster","ThreadsListItemReplies","ThreadsListItemSubscription","activeCategory","showSubscription","isBusy","isSelected","hasFlags","is_closed","is_hidden","is_unapproved","weight","best_answer","has_poll","has_unapproved_posts","isNew","is_new","title","new_post","moderation","last_post","timestamp","last_post_on","format","fromNow","getClassName","short_name","select","store","disabled","dispatch","item","is_read","Avatar","last_poster","poster","username","last_poster_name","ngettext","replies","Math","round","ThreadsListItemSubscriptionOptions","getSubscriptionTitle","subscription","getSubscriptionIcon","patch","ajax","snackbar","SUBSCRIPTION","unsubscribe","notify","email","setState","loading","api","op","path","then","rejection","apiError","state","update","Component","UIPreviewText","onClick","Toolbar","children","classnames","ToolbarItem","shrink","ToolbarSection","ToolbarSpacer","width","AcceptAgreement","submiting","confirmation","confirm","post","accept","location","reload","handleDecline","handleAccept","Form","FormGroup","participants","updateAcl","modal","changeValue","target","isLoading","data","success","hide","handleSubmit","onUsernameChange","ModalHeader","signedIn","signedOut","user","getMessage","refresh","auth","size","size2x","getSrc","resolveAvatarForSize","avatars","avatar","av","moment","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","Loader","Button","defaultProps","Category","ListItem","css_class","subcategories","description","getTitle","getIcon","Main","LastThread","Stats","Subcategories","isFirst","acl","can_browse","can_see_all_threads","last_thread_title","last_thread_new","LastPosterAvatar","LastPosterName","Empty","Private","Protected","Message","Description","Icon","posts","Threads","Posts","Blankslate","CategoriesList","polls","hydrate","assign","startPolling","start","poll","frequency","tick","choices","repeat","level","avatarType","upload","cropit","$","deviceRatio","cropitOffset","crop","zoom","onComplete","detail","status","showError","options","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","height","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","Gallery","images","row","image","response","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","component","completeFlow","getBody","fileSize","getElementById","click","files","validationError","validateFile","preview","URL","createObjectURL","progress","FormData","append","uploaded","info","limit","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","allowed_extensions","extension","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","uploadFile","getUploadProgress","renderCrop","renderUpload","dropdown","toggleNav","PanelMessage","display","Select","ev","field","fieldname","input","FieldInput","fields","help_text","Fieldset","groups","group","initial","onSuccess","onCancel","CancelButton","cancel","FormDisplay","replaceSelection","execAction","Action","insertCode","syntax","prompt","makeEmphasis","insertHr","isUrl","insertImage","insertLink","insertQuote","insertSpoiler","makeStrikethrough","makeStrong","formatFilesize","DATE_ABBR","USER_SPAN","USER_URL","insertAttachment","is_image","thumb","filename","updateItem","isRemoved","newState","updatedAttachments","attachments","onAttachmentsChange","onInsert","onRemove","onUndo","Preview","Image","thumbnailUrl","backgroundImage","Filename","Details","uploader","uploader_name","date","absolute","uploaded_on","relative","filetype","Actions","Insert","Remove","can_delete","Undo","STRONG","filteredAttachments","key","AttachmentComplete","AttachmentError","AttachmentUpload","List","Uploader","max_attachment_size","Attachment","file","getRandomKey","Date","getTime","Code","Emphasis","Hr","Link","Spoiler","Strikethrough","Strong","Quote","AttachmentsEditor","Upload","MarkupPreview","textUtils","isPreviewLoading","show","parsed","operation","getSelectionText","_replaceSelection","newValue","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","query","callback","getJSON","q","on","flag","onPreviewClick","submitLabel","canProtect","onProtect","onUnprotect","protect","placeholder","Protect","MisagoMarkup","markup","textareaId","getTextarea","getValue","getSelectionRange","end","getSelection","ctrl","focus","range","createRange","moveStart","selectionStart","selectionEnd","setSelection","selectionRange","setSelectionRange","createTextRange","collapse","moveEnd","_replace","myRange","replacement","startText","validation","isValidated","for","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","formErrors","validateField","preventDefault","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","onError","bestAnswer","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","choice","PollSelect","onebox","render","documentNode","find","revealSpoiler","prevProps","prevState","nextProps","nextState","btn","addClass","icon","MAX_RESULTS","filtered","section","results","count","slice","HEADER","RESULT","FOOTER","Input","flatlist","flattenProviders","arrayLength","provider","flattenProvider","DropdownMenu","Result","flattenResults","flatResults","encodeURI","Footer","Header","Thread","User","footer","content","posted_on","poster_name","rank","joined_on","cleanResults","Dropdown","isOpen","setTimeout","container","querySelector","closeResults","loadResults","intervalId","onDocumentMouseDown","onEscape","removeEventListener","delay","random","clearTimeout","onToggle","PanelLoader","next_on","next_change","usernameContent","usernameMinLength","length_min","usernameMaxLength","length_max","phrases","changes_left","name_changes_expire","complete","slug","bindInput","FormLoading","FormLocked","UsernameHistory","addNameChange","updateUsername","set","Promise","all","getChangeForm","password","delete","href","onPasswordChange","DownloadData","data_downloads","downloads","isSubmiting","request_data_download","handleLoadDownloads","console","log","rowStyle","requested_on","handleRequestDataDownload","verticalAlign","STATUS_PENDING","STATUS_PROCESSING","DownloadButton","exportFile","edit_details","YesNoSwitch","is_hiding_presence","limits_private_thread_invites_to","subscribe_to_started_threads","subscribe_to_replied_threads","privateThreadInvitesChoices","subscribeToChoices","Li","SideNav","option","baseUrl","CompactNav","hideNav","connect","DropdownToggle","DeleteAccount","EditDetails","ChangeForumOptions","ChangeUsername","ChangeSignInCredentials","WithDropdown","paths","UnusablePasswordMessage","new_email","lengths","change_email","new_password","repeat_password","change_password","ChangeEmail","ChangePassword","has_usable_password","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","remove","changeOwner","MakeOwner","is_owner","UserStatus","isOwner","Card","userIsOwner","confirmed","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","users","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","load","inputs","cacheStale","scorePassword","score","getScore","hash","generateRandomHash","setChoices","onDelete","onAdd","PollChoice","deleteItem","canDelete","randomHash","toString","ChoicesControl","posting","close","question","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","PollPublicSwitch","Poll","PollForm","votes","PollCreation","getPoster","getPostedOn","PollLength","ends_on","getEndsOn","endsOn","PollVotes","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","ceil","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","control","ChangeVote","SeeVotes","seeVotes","Edit","open","submit","mode","Delete","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","diff","DiffItem","getItemClassName","cleanItem","revertEdit","edit","canRevert","Diff","hydrateEdit","edits","isReady","hydratedPost","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","json","Post","Default","Invalid","tooltip","Body","PostSide","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","int","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","Editor","Container","getPostValidators","is_protected","can_protect","isErrored","config","loadSuccess","loadError","onPostChange","Start","StartPrivate","Reply","newPost","context","newContext","reply","appendData","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","CategorySelect","categoryOptions","pin","columns","titleStyle","onCategoryChange","onClose","onHide","onOpen","onPinGlobally","onPinLocally","onUnhide","onUnpin","completedAttachments","attachment","columnClassName","textClassName","CloseOptions","HideOptions","PinOptions","usernames","normalisedNames","removedBlanks","removedDuplicates","pos","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","post_length_min","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","closed","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","event_type","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","Event","PostPreview","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","AttachmentDetails","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","unhide","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isHidden","isUnedited","Approve","can_approve","Move","can_move","Split","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","actions","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","StatusLabel","UserPostcount","UserStatusLabel","hasVisibleTitle","deselect","can_merge_posts","waypoint","handler","direction","boundingClientRect","getBoundingClientRect","offsetBottom","clientHeight","documentElement","read","thread_is_read","ban","has","initWithPreloadedData","initWithoutPreloadedData","profile","stop","user_message","staff_message","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","onEdit","showEditButton","EditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","Route","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","follow","action","getLabel","Search","UsersList","loadUsers","page","search","more","pages","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","FollowButton","MessageButton","ModerationNav","Status","age","can_follow","can_moderate","canFollow","canModerate","isProfileOwner","canMessage","can_start_private_threads","cols","colsWidth","headerClassName","is_active","is_deleting_account","getColStyle","getFollowButton","getModerationButton","getUserStatus","getUserRank","getUserTitle","getJoinedOn","getEmail","IsDisabledMessage","isDeletingAccount","col","colStyle","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","can_moderate_avatar","showAvatarDialog","can_rename","showRenameDialog","showDeleteDialog","getAvatarButton","getRenameButton","getDeleteButton","BanDetails","Follows","toggleModeration","COMPONENTS","follows","details","loadChanges","changes","RegisterForm","captcha","account_activation","criteria","showRegisterForm","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","form","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","completeRegistration","RequestLinkForm","code","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","SignInModal","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","providers","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SearchTime","time","Badge","SearchPage","route","appendPosts","updateProvider","LoadMore","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadPagination","first","last","ThreadPollButton","compact","ThreadReplyButton","ThreadShortcutsButton","is_authenticated","unapproved_post","ThreadSubscriptionButton","stickToBottom","alert","oldState","finalState","ThreadToolbarBottom","onReply","ThreadToolbarTop","onPoll","can_start_poll","Breadcrumb","GoBack","lastItem","Breadcrumbs","isModerationVisible","ModerationControls","isEditing","showModeration","Moderation","isSingle","LAST_POSTER_URL","LAST_POSTER_SPAN","LAST_REPLY","Weight","Unapproved","IsHidden","IsClosed","Replies","legend","LastReply","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","visible","can_unprotect","ErrorsModal","Array","isArray","MergeModal","successMessage","can_pin_globally","pinGlobally","can_pin","pinLocally","unpin","can_close","getPinGloballyButton","getPinLocallyButton","getUnpinButton","getMoveButton","getMergeButton","getApproveButton","getOpenButton","getCloseButton","getUnhideButton","getHideButton","MergeConflict","handleSuccessUnmounted","best_answers","other_thread","post_set","ModalLoading","Pager","FirstPage","PreviousPage","previousUrl","NextPage","nextUrl","LastPage","More","basePath","pk","Participants","PostsList","ToolbarBottom","setPageTitle","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","postsModeration","getPostsModeration","openPollForm","openReplyForm","enabled","dropdownClassName","Disable","Enable","Email","PostsModeration","ReplyButton","SubscriptionSwitch","Subscription","xsClass","Spacer","ThreadsCategoryPicker","allItems","parentUrl","ThreadsListPicker","lists","longName","ThreadsToolbarModeration","ThreadsToolbar","categoriesMap","topCategory","topCategories","subCategory","subCategories","addThreads","startThread","freezeThread","updateThread","deleteThread","allow","compareLastPostAge","compareGlobalWeight","compareWeight","PageLead","pageLead","root","getTopCategory","getCategoryDescription","cat","hasGoBackButton","getGoBackButton","ParentCategory","MergeThreads","MoveThreads","threadsMap","failedThreads","noSelection","none","ThreadErrors","filterThreads","getFormdata","categoryChoices","can_start_threads","renderForm","renderCantMergeMessage","storeState","getState","leftThreads","acls","renderCantMoveMessage","getSelect","getLists","can_see_unapproved_content_lists","routes","diffThreads","getModerationActions","getPageTitle","sets","loadThreads","getCategory","getSorting","currentState","toggle","isMounted","pollResponse","index_title","forum_name","isIndex","applyDiff","index_header","isThreadChanged","current","fromDb","currentMap","NavbarSearch","RegisterButton","GuestMenu","showSignInModal","GuestNav","CompactGuestNav","showGuestMenu","UserNav","CompactUserNav","UserMenu","CompactUserMenu","ChangeAvatarModal","following","changeAvatar","can_use_private_threads","PrivateThreadsBadge","unread_private_threads","UserPrivateThreadsLink","selectUserMenu","showConnected","showUserMenu","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","showStatus","JoinDate","getStatClassName","stat","colClassName","apply","days","trackedPeriod","rankUrl","getRankName","counter","meta","ItemPreview","posters","getLeadMessage","tracked_period","listUrl","resetScroll","ListLoading","getRankDescription","getComponent","Nav","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","OrderedList","Misago","_initializers","_context","initializer","after","before","initOrder","orderedValues","fallback","init","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Categories","Profile","RequestActivationLink","RequestPasswordReset","PRIVATE_THREADS_LIST","getListOptions","currentLink","Users","element","locale","attr","forum_index_title","reducer","initialState","addReducer","isAnonymous","doTick","TICK_PERIOD","UPDATE_AVATAR","UPDATE_USERNAME","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","userId","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","add","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","items","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","started_on","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","sort","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","floor","now","APPEND_USERS","HYDRATE_USERS","Ajax","_cookieName","_csrfToken","_locks","cookieName","cookie","cookieRegex","method","resolve","reject","xhr","headers","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","request","processData","XMLHttpRequest","evt","lengthComputable","total","Auth","local","_store","_local","_modal","syncSession","watchState","watch","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","cache","localStorage","LocalStorage","prefix","_prefix","_watchers","newValueJson","parse","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","domnode","highlightCode","embedYoutubePlayers","_youtube","codeblocks","anchors","onlyChild","childNodes","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","youtube","video","player","replaceWith","wrap","cleanedUrl","cleanUrl","getVideoIdFromUrl","timebit","bits","parseInt","PageTitle","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","timeout","pollId","PostingComponent","Posting","_isOpen","_isClosing","_placeholder","_mode","_realOpen","changeForm","animate","scrollTop","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","Provider","BannedPage","RedrawedBannedPage","changeState","getStore","history","pushState","rowWidth","padding","rows","bytes","roundSize","toFixed","URL_PATTERN","str","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values","values_only","_order","unordered","ordered","ordering","insertItem","insertAt","iterations","min","max","array","scrollTo","Router","browserHistory","childRoutes","onEnter","replaceState","string","subString","EMAIL","USERNAME","returnMessage","lengthMin","lengthMax"],"sourceRoot":""}